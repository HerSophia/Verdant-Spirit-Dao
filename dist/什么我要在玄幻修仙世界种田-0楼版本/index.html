<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>《什么？我要在玄幻修仙世界种田》 - 0楼版</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.28.1/cytoscape.min.js"></script>
  <script src="https://unpkg.com/dagre@0.8.5/dist/dagre.min.js"></script>
  <script src="https://unpkg.com/cytoscape-dagre@2.5.0/cytoscape-dagre.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script type="module">
    import forms from 'https://esm.sh/@tailwindcss/forms';
    tailwind.config = {
      plugins: [
        forms,
      ],
    }
  </script>
<script type="module">var __webpack_modules__ = {
  "./src/什么我要在玄幻修仙世界种田-0楼版本/core/actions.ts": 
  /*!************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/core/actions.ts ***!
  \************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateAnotherSwipe: () => (/* binding */ generateAnotherSwipe),\n/* harmony export */   triggerAction: () => (/* binding */ triggerAction)\n/* harmony export */ });\n/* harmony import */ var _state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./state */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/state.ts\");\n/* harmony import */ var _ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ui */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/ui.ts\");\n/* harmony import */ var _generation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./generation */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/generation.ts\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./logger */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts\");\n/* harmony import */ var _parser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./parser */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/parser.ts\");\n// core/actions.ts\n\n\n\n\n\nconst generateAnotherSwipe = async (storyRenderer, historyManager, promptManager, eventManager) => {\n    (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('log', 'Actions', '`generateAnotherSwipe` triggered.');\n    if ((0,_state__WEBPACK_IMPORTED_MODULE_0__.getIsAiGenerating)()) {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('warn', 'Actions', 'Generation blocked: AI is already generating.');\n        toastr.info('正在生成新的回应，请稍候...');\n        return;\n    }\n    // In v2.0, the concept of a globally \"invalid\" message is handled by the renderer and state parser.\n    // If the UI allows generating another swipe, we assume the current state is valid.\n    try {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('info', 'Actions', 'Triggering re-generation (new swipe).');\n        toastr.info('正在请求新的回应...');\n        (0,_state__WEBPACK_IMPORTED_MODULE_0__.setIsNewTurn)(false); // Mark this as a re-generation, not a new turn\n        (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('log', 'State', 'Flag `isNewTurn` set to `false`.');\n        // For re-generation, the user input is the last thing they sent.\n        const userInput = (0,_state__WEBPACK_IMPORTED_MODULE_0__.getLastUserInput)();\n        if (!userInput) {\n            toastr.error('没有找到上一次的用户输入，无法重新生成。');\n            return;\n        }\n        const { chatHistory, injects } = await promptManager.preparePromptComponents(historyManager, eventManager, userInput, true);\n        (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('info', 'Generation', 'Final components for re-generation:', { userInput, chatHistory, injects });\n        // No need to set last user input again, as it's already set.\n        await (0,_generation__WEBPACK_IMPORTED_MODULE_2__.sendGenerationRequest)(userInput, chatHistory, injects, storyRenderer);\n    }\n    catch (error) {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('error', 'Actions', '`generateAnotherSwipe` failed.', error);\n        console.error('重新生成回应失败:', error);\n        toastr.error('重新生成回应失败，请查看控制台日志。');\n    }\n};\n/**\n * Triggers a new turn based on the user's selected action.\n * @param text The descriptive text of the action.\n * @param index The numerical index of the action.\n * @param storyRenderer The instance of the story renderer to control the UI.\n * @param historyManager The instance of the history manager to save messages.\n * @param summarizer The instance of the summarizer to trigger background summaries.\n * @param promptManager The instance of the prompt manager to generate prompts.\n * @param eventManager The instance of the event manager for state rollbacks.\n */\nconst triggerAction = async (text, index, storyRenderer, historyManager, summarizer, promptManager, eventManager) => {\n    if (!text || text.trim().length === 0)\n        return;\n    (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('log', 'Actions', `\\`triggerAction\\` triggered with action #${index}: \"${text}\"`);\n    try {\n        // 如果是自定义行动 (index === -1)，则将其反写到上一条AI消息的行动选项中\n        if (index === -1) {\n            try {\n                (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('info', 'Actions', 'Custom action detected. Attempting to write it back to the previous message.');\n                const history = historyManager.getRawHistory();\n                const activeBranch = history.branches[history.activeBranch];\n                const turnIndices = Object.keys(activeBranch).map(Number).sort((a, b) => a - b);\n                const lastTurnIndex = _.last(turnIndices);\n                if (lastTurnIndex === undefined) {\n                    (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('warn', 'Actions', 'Could not find the last turn to write back custom action.');\n                }\n                else {\n                    const lastTurn = activeBranch[lastTurnIndex];\n                    (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('log', 'Actions', 'Last turn found:', { turnIndex: lastTurnIndex, role: lastTurn.role });\n                    if (lastTurn.role === 'assistant') {\n                        const activePage = lastTurn.pages[lastTurn.activePageIndex];\n                        if (activePage) {\n                            (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('log', 'Actions', 'Active page found:', { pageId: activePage.id });\n                            const statusBarJsonString = (0,_parser__WEBPACK_IMPORTED_MODULE_4__.extractJsonFromStatusBar)(activePage.content);\n                            if (statusBarJsonString) {\n                                try {\n                                    (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('log', 'Actions', 'Extracted status bar JSON string:', statusBarJsonString);\n                                    const statusBarObject = JSON.parse(statusBarJsonString);\n                                    const actionOptionsContainer = statusBarObject['行动选项'];\n                                    if (actionOptionsContainer && typeof actionOptionsContainer === 'object') {\n                                        const optionsKey = Object.keys(actionOptionsContainer).find(key => key.includes('可选行动'));\n                                        if (optionsKey && Array.isArray(actionOptionsContainer[optionsKey])) {\n                                            if (!actionOptionsContainer[optionsKey].includes(text)) {\n                                                actionOptionsContainer[optionsKey].push(text);\n                                                (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('log', 'Actions', 'Updated action options:', actionOptionsContainer[optionsKey]);\n                                                const newJsonBlock = JSON.stringify(statusBarObject, null, 2);\n                                                // 检查原始statusbar是否包含```json标记，以保持格式一致\n                                                const originalStatusBarContent = /<statusbar>([\\s\\S]*?)<\\/statusbar>/.exec(activePage.content)?.[1] || '';\n                                                const newStatusBarContent = originalStatusBarContent.includes('```json')\n                                                    ? `\\`\\`\\`json\\n${newJsonBlock}\\n\\`\\`\\``\n                                                    : newJsonBlock;\n                                                const newContent = activePage.content.replace(originalStatusBarContent, newStatusBarContent);\n                                                await historyManager.updateMessagePageContent(activePage.id, newContent);\n                                                (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('info', 'Actions', 'Successfully wrote custom action back to history.');\n                                            }\n                                            else {\n                                                (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('info', 'Actions', 'Custom action already exists in the options. No changes made.');\n                                            }\n                                        }\n                                        else {\n                                            (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('warn', 'Actions', 'Could not find a valid \"可选行动\" array in the action options object.', actionOptionsContainer);\n                                        }\n                                    }\n                                    else {\n                                        (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('warn', 'Actions', 'The \"行动选项\" key does not exist or is not an object in the status bar JSON.', statusBarObject);\n                                    }\n                                }\n                                catch (parseError) {\n                                    (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('error', 'Actions', 'Failed to parse or process status bar JSON.', parseError);\n                                    console.error('解析或处理状态栏JSON时出错:', parseError);\n                                }\n                            }\n                            else {\n                                (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('warn', 'Actions', 'No status bar JSON found in the last message content.');\n                            }\n                        }\n                        else {\n                            (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('warn', 'Actions', 'No active page found in the last assistant turn.');\n                        }\n                    }\n                    else {\n                        (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('warn', 'Actions', 'The last turn was not an assistant turn, cannot write back action.');\n                    }\n                }\n            }\n            catch (error) {\n                (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('error', 'Actions', 'Failed to write back custom action.', error);\n                console.error('回写自定义行动时发生严重错误:', error);\n                toastr.error('将自定义行动写回历史记录时出错，请查看控制台。');\n            }\n        }\n        // In v2.0, pruning invalid messages is no longer the responsibility of this function.\n        // The renderer and state manager handle parsing failures.\n        // This is a new turn, so set the flag.\n        (0,_state__WEBPACK_IMPORTED_MODULE_0__.setIsNewTurn)(true);\n        (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('log', 'State', 'Flag `isNewTurn` set to `true`.');\n        // Force the UI to reset to 1/1 immediately.\n        (0,_state__WEBPACK_IMPORTED_MODULE_0__.setForceSwipeReset)(true);\n        (0,_ui__WEBPACK_IMPORTED_MODULE_1__.updateSwipeUI)();\n        // Step 1: Start a new turn with the user's action.\n        await historyManager.addUserTurn(text);\n        (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('info', 'History', 'User action started a new turn.');\n        toastr.info('玩家行动已记录。');\n        // Step 2: Prepare and send the generation request for the new action.\n        const { userInput, chatHistory, injects } = await promptManager.preparePromptComponents(historyManager, eventManager, text, false);\n        (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('info', 'Generation', 'Final components to be sent to LLM:', { userInput, chatHistory, injects });\n        (0,_state__WEBPACK_IMPORTED_MODULE_0__.setLastUserInput)(userInput); // Cache the input for potential re-generation\n        await (0,_generation__WEBPACK_IMPORTED_MODULE_2__.sendGenerationRequest)(userInput, chatHistory, injects, storyRenderer);\n        toastr.success(`已选择行动: ${text}`);\n        // Step 4: Trigger a summary check in the background.\n        // This runs asynchronously and does not block the user.\n        (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('log', 'Summarizer', 'Triggering summary check.');\n        summarizer.triggerSummaryIfNeeded();\n    }\n    catch (error) {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('error', 'Actions', '`triggerAction` failed.', error);\n        console.error('行动失败:', error);\n        toastr.error('行动失败，请查看控制台日志。');\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9hY3Rpb25zLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxrQkFBa0I7QUFPRDtBQUNvQjtBQUNnQjtBQUluQjtBQUVrQjtBQWU3QyxNQUFNLG9CQUFvQixHQUFHLEtBQUssRUFBRSxhQUE0QixFQUFFLGNBQWtDLEVBQUUsYUFBNEIsRUFBRSxZQUEwQixFQUFFLEVBQUU7SUFDdkssK0NBQU0sQ0FBQyxLQUFLLEVBQUUsU0FBUyxFQUFFLG1DQUFtQyxDQUFDLENBQUM7SUFDOUQsSUFBSSx5REFBaUIsRUFBRSxFQUFFLENBQUM7UUFDeEIsK0NBQU0sQ0FBQyxNQUFNLEVBQUUsU0FBUyxFQUFFLCtDQUErQyxDQUFDLENBQUM7UUFDM0UsTUFBTSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1FBQy9CLE9BQU87SUFDVCxDQUFDO0lBRUQsb0dBQW9HO0lBQ3BHLG1GQUFtRjtJQUNuRixJQUFJLENBQUM7UUFDSCwrQ0FBTSxDQUFDLE1BQU0sRUFBRSxTQUFTLEVBQUUsdUNBQXVDLENBQUMsQ0FBQztRQUNuRSxNQUFNLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBRTNCLG9EQUFZLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQywrQ0FBK0M7UUFDcEUsK0NBQU0sQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLGtDQUFrQyxDQUFDLENBQUM7UUFFM0QsaUVBQWlFO1FBQ2pFLE1BQU0sU0FBUyxHQUFHLHdEQUFnQixFQUFFLENBQUM7UUFDckMsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQ2YsTUFBTSxDQUFDLEtBQUssQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO1lBQ3JDLE9BQU87UUFDVCxDQUFDO1FBQ0QsTUFBTSxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsR0FBRyxNQUFNLGFBQWEsQ0FBQyx1QkFBdUIsQ0FBQyxjQUFjLEVBQUUs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QUFDLENBQUMsQ0FBQyw4Q0FBOEM7UUFFM0UsTUFBTSxrRUFBcUIsQ0FBQyxTQUFTLEVBQUUsV0FBVyxFQUFFLE9BQU8sRUFBRSxhQUFhLENBQUMsQ0FBQztRQUU1RSxNQUFNLENBQUMsT0FBTyxDQUFDLFVBQVUsSUFBSSxFQUFFLENBQUMsQ0FBQztRQUVqQyxxREFBcUQ7UUFDckQsd0RBQXdEO1FBQ3hELCtDQUFNLENBQUMsS0FBSyxFQUFFLFlBQVksRUFBRSwyQkFBMkIsQ0FBQyxDQUFDO1FBQ3pELFVBQVUsQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO0lBRXRDLENBQUM7SUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1FBQ2YsK0NBQU0sQ0FBQyxPQUFPLEVBQUUsU0FBUyxFQUFFLHlCQUF5QixFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQzdELE9BQU8sQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQzlCLE1BQU0sQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUNqQyxDQUFDO0FBQ0gsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS8uL3NyYy/ku4DkuYjmiJHopoHlnKjnjoTlubvkv67ku5nkuJbnlYznp43nlLAtMOalvOeJiOacrC9jb3JlL2FjdGlvbnMudHM/Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGNvcmUvYWN0aW9ucy50c1xuaW1wb3J0IHtcbiAgZ2V0SXNBaUdlbmVyYXRpbmcsXG4gIGdldExhc3RVc2VySW5wdXQsXG4gIHNldExhc3RVc2VySW5wdXQsXG4gIHNldElzTmV3VHVybixcbiAgc2V0Rm9yY2VTd2lwZVJlc2V0LFxufSBmcm9tICcuL3N0YXRlJztcbmltcG9ydCB7IHVwZGF0ZVN3aXBlVUkgfSBmcm9tICcuL3VpJztcbmltcG9ydCB7IHNlbmRHZW5lcmF0aW9uUmVxdWVzdCB9IGZyb20gJy4vZ2VuZXJhdGlvbic7XG5pbXBvcnQgdHlwZSB7IFN0b3J5UmVuZGVyZXIgfSBmcm9tICcuL3JlbmRlcmVyJztcbmltcG9ydCB7IENoYXRIaXN0b3J5TWFuYWdlciB9IGZyb20gJy4vaGlzdG9yeSc7XG5pbXBvcnQgeyBTdW1tYXJpemVyIH0gZnJvbSAnLi9zdW1tYXJpemVyJztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4vbG9nZ2VyJztcbmltcG9ydCB7IFByb21wdE1hbmFnZXIgfSBmcm9tICcuL3Byb21wdE1hbmFnZXInO1xuaW1wb3J0IHsgZXh0cmFjdEpzb25Gcm9tU3RhdHVzQmFyIH0gZnJvbSAnLi9wYXJzZXInO1xuXG4vLyBEZWNsYXJlIGdsb2JhbCB2YXJpYWJsZXMgZnJvbSBzY3JpcHQgdGFnc1xuZGVjbGFyZSBjb25zdCB0b2FzdHI6IGFueTtcbmRlY2xhcmUgY29uc3QgXzogYW55O1xuXG4vKipcbiAqIFRyaWdnZXJzIGEgcmUtZ2VuZXJhdGlvbiBvZiB0aGUgbGFzdCB1c2VyIGlucHV0IHRvIGdldCBhIG5ldyBzd2lwZS5cbiAqIEBwYXJhbSBzdG9yeVJlbmRlcmVyIFRoZSBpbnN0YW5jZSBvZiB0aGUgc3RvcnkgcmVuZGVyZXIgdG8gY29udHJvbCB0aGUgVUkuXG4gKiBAcGFyYW0gc3RvcnlSZW5kZXJlciBUaGUgaW5zdGFuY2Ugb2YgdGhlIHN0b3J5IHJlbmRlcmVyIHRvIGNvbnRyb2wgdGhlIFVJLlxuICogQHBhcmFtIGhpc3RvcnlNYW5hZ2VyIFRoZSBpbnN0YW5jZSBvZiB0aGUgaGlzdG9yeSBtYW5hZ2VyIHRvIGNoZWNrIG1lc3NhZ2UgdmFsaWRpdHkuXG4gKiBAcGFyYW0gcHJvbXB0TWFuYWdlciBUaGUgaW5zdGFuY2Ugb2YgdGhlIHByb21wdCBtYW5hZ2VyIHRvIGdlbmVyYXRlIHByb21wdHMuXG4gKiBAcGFyYW0gZXZlbnRNYW5hZ2VyIFRoZSBpbnN0YW5jZSBvZiB0aGUgZXZlbnQgbWFuYWdlciBmb3Igc3RhdGUgcm9sbGJhY2tzLlxuICovXG5pbXBvcnQgeyBFdmVudE1hbmFnZXIgfSBmcm9tICcuL2V2ZW50TWFuYWdlcic7XG5leHBvcnQgY29uc3QgZ2VuZXJhdGVBbm90aGVyU3dpcGUgPSBhc3luYyAoc3RvcnlSZW5kZXJlcjogU3RvcnlSZW5kZXJlciwgaGlzdG9yeU1hbmFnZXI6IENoYXRIaXN0b3J5TWFuYWdlciwgcHJvbXB0TWFuYWdlcjogUHJvbXB0TWFuYWdlciwgZXZlbnRNYW5hZ2VyOiBFdmVudE1hbmFnZXIpID0+IHtcbiAgbG9nZ2VyKCdsb2cnLCAnQWN0aW9ucycsICdgZ2VuZXJhdGVBbm90aGVyU3dpcGVgIHRyaWdnZXJlZC4nKTtcbiAgaWYgKGdldElzQWlHZW5lcmF0aW5nKCkpIHtcbiAgICBsb2dnZXIoJ3dhcm4nLCAnQWN0aW9ucycsICdHZW5lcmF0aW9uIGJsb2NrZWQ6IEFJIGlzIGFscmVhZHkgZ2VuZXJhdGluZy4nKTtcbiAgICB0b2FzdHIuaW5mbygn5q2j5Zyo55Sf5oiQ5paw55qE5Zue5bqU77yM6K+356iN5YCZLi4uJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gSW4gdjIuMCwgdGhlIGNvbmNlcHQgb2YgYSBnbG9iYWxseSBcImludmFsaWRcIiBtZXNzYWdlIGlzIGhhbmRsZWQgYnkgdGhlIHJlbmRlcmVyIGFuZCBzdGF0ZSBwYXJzZXIuXG4gIC8vIElmIHRoZSBVSSBhbGxvd3MgZ2VuZXJhdGluZyBhbm90aGVyIHN3aXBlLCB3ZSBhc3N1bWUgdGhlIGN1cnJlbnQgc3RhdGUgaXMgdmFsaWQuXG4gIHRyeSB7XG4gICAgbG9nZ2VyKCdpbmZvJywgJ0FjdGlvbnMnLCAnVHJpZ2dlcmluZyByZS1nZW5lcmF0aW9uIChuZXcgc3dpcGUpLicpO1xuICAgIHRvYXN0ci5pbmZvKCfmraPlnKjor7fmsYLmlrDnmoTlm57lupQuLi4nKTtcbiAgICBcbiAgICBzZXRJc05ld1R1cm4oZmFsc2UpOyAvLyBNYXJrIHRoaXMgYXMgYSByZS1nZW5lcmF0aW9uLCBub3QgYSBuZXcgdHVyblxuICAgIGxvZ2dlcignbG9nJywgJ1N0YXRlJywgJ0ZsYWcgYGlzTmV3VHVybmAgc2V0IHRvIGBmYWxzZWAuJyk7XG5cbiAgICAvLyBGb3IgcmUtZ2VuZXJhdGlvbiwgdGhlIHVzZXIgaW5wdXQgaXMgdGhlIGxhc3QgdGhpbmcgdGhleSBzZW50LlxuICAgIGNvbnN0IHVzZXJJbnB1dCA9IGdldExhc3RVc2VySW5wdXQoKTtcbiAgICBpZiAoIXVzZXJJbnB1dCkge1xuICAgICAgdG9hc3RyLmVycm9yKCfmsqHmnInmib7liLDkuIrkuIDmrKHnmoTnlKjmiLfovpPlhaXvvIzml6Dms5Xph43mlrDnlJ/miJDjgIInKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgeyBjaGF0SGlzdG9yeSwgaW5qZWN0cyB9ID0gYXdhaXQgcHJvbXB0TWFuYWdlci5wcmVwYXJlUHJvbXB0Q29tcG9uZW50cyhoaXN0b3J5TWFuYWdlciwgZXZlbnRNYW5hZ2VyLCB1c2VySW5wdXQsIHRydWUpO1xuXG4gICAgbG9nZ2VyKCdpbmZvJywgJ0dlbmVyYXRpb24nLCAnRmluYWwgY29tcG9uZW50cyBmb3IgcmUtZ2VuZXJhdGlvbjonLCB7IHVzZXJJbnB1dCwgY2hhdEhpc3RvcnksIGluamVjdHMgfSk7XG4gICAgXG4gICAgLy8gTm8gbmVlZCB0byBzZXQgbGFzdCB1c2VyIGlucHV0IGFnYWluLCBhcyBpdCdzIGFscmVhZHkgc2V0LlxuICAgIGF3YWl0IHNlbmRHZW5lcmF0aW9uUmVxdWVzdCh1c2VySW5wdXQsIGNoYXRIaXN0b3J5LCBpbmplY3RzLCBzdG9yeVJlbmRlcmVyKTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZ2dlcignZXJyb3InLCAnQWN0aW9ucycsICdgZ2VuZXJhdGVBbm90aGVyU3dpcGVgIGZhaWxlZC4nLCBlcnJvcik7XG4gICAgY29uc29sZS5lcnJvcign6YeN5paw55Sf5oiQ5Zue5bqU5aSx6LSlOicsIGVycm9yKTtcbiAgICB0b2FzdHIuZXJyb3IoJ+mHjeaWsOeUn+aIkOWbnuW6lOWksei0pe+8jOivt+afpeeci+aOp+WItuWPsOaXpeW/l+OAgicpO1xuICB9XG59O1xuXG4vKipcbiAqIFRyaWdnZXJzIGEgbmV3IHR1cm4gYmFzZWQgb24gdGhlIHVzZXIncyBzZWxlY3RlZCBhY3Rpb24uXG4gKiBAcGFyYW0gdGV4dCBUaGUgZGVzY3JpcHRpdmUgdGV4dCBvZiB0aGUgYWN0aW9uLlxuICogQHBhcmFtIGluZGV4IFRoZSBudW1lcmljYWwgaW5kZXggb2YgdGhlIGFjdGlvbi5cbiAqIEBwYXJhbSBzdG9yeVJlbmRlcmVyIFRoZSBpbnN0YW5jZSBvZiB0aGUgc3RvcnkgcmVuZGVyZXIgdG8gY29udHJvbCB0aGUgVUkuXG4gKiBAcGFyYW0gaGlzdG9yeU1hbmFnZXIgVGhlIGluc3RhbmNlIG9mIHRoZSBoaXN0b3J5IG1hbmFnZXIgdG8gc2F2ZSBtZXNzYWdlcy5cbiAqIEBwYXJhbSBzdW1tYXJpemVyIFRoZSBpbnN0YW5jZSBvZiB0aGUgc3VtbWFyaXplciB0byB0cmlnZ2VyIGJhY2tncm91bmQgc3VtbWFyaWVzLlxuICogQHBhcmFtIHByb21wdE1hbmFnZXIgVGhlIGluc3RhbmNlIG9mIHRoZSBwcm9tcHQgbWFuYWdlciB0byBnZW5lcmF0ZSBwcm9tcHRzLlxuICogQHBhcmFtIGV2ZW50TWFuYWdlciBUaGUgaW5zdGFuY2Ugb2YgdGhlIGV2ZW50IG1hbmFnZXIgZm9yIHN0YXRlIHJvbGxiYWNrcy5cbiAqL1xuZXhwb3J0IGNvbnN0IHRyaWdnZXJBY3Rpb24gPSBhc3luYyAodGV4dDogc3RyaW5nLCBpbmRleDogbnVtYmVyLCBzdG9yeVJlbmRlcmVyOiBTdG9yeVJlbmRlcmVyLCBoaXN0b3J5TWFuYWdlcjogQ2hhdEhpc3RvcnlNYW5hZ2VyLCBzdW1tYXJpemVyOiBTdW1tYXJpemVyLCBwcm9tcHRNYW5hZ2VyOiBQcm9tcHRNYW5hZ2VyLCBldmVudE1hbmFnZXI6IEV2ZW50TWFuYWdlcikgPT4ge1xuICBpZiAoIXRleHQgfHwgdGV4dC50cmltKCkubGVuZ3RoID09PSAwKSByZXR1cm47XG4gIGxvZ2dlcignbG9nJywgJ0FjdGlvbnMnLCBgXFxgdHJpZ2dlckFjdGlvblxcYCB0cmlnZ2VyZWQgd2l0aCBhY3Rpb24gIyR7aW5kZXh9OiBcIiR7dGV4dH1cImApO1xuXG4gIHRyeSB7XG4gICAgLy8g5aaC5p6c5piv6Ieq5a6a5LmJ6KGM5YqoIChpbmRleCA9PT0gLTEp77yM5YiZ5bCG5YW25Y+N5YaZ5Yiw5LiK5LiA5p2hQUnmtojmga/nmoTooYzliqjpgInpobnkuK1cbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICB0cnkge1xuICAgICAgICBsb2dnZXIoJ2luZm8nLCAnQWN0aW9ucycsICdDdXN0b20gYWN0aW9uIGRldGVjdGVkLiBBdHRlbXB0aW5nIHRvIHdyaXRlIGl0IGJhY2sgdG8gdGhlIHByZXZpb3VzIG1lc3NhZ2UuJyk7XG4gICAgICAgIGNvbnN0IGhpc3RvcnkgPSBoaXN0b3J5TWFuYWdlci5nZXRSYXdIaXN0b3J5KCk7XG4gICAgICAgIGNvbnN0IGFjdGl2ZUJyYW5jaCA9IGhpc3RvcnkuYnJhbmNoZXNbaGlzdG9yeS5hY3RpdmVCcmFuY2hdO1xuICAgICAgICBjb25zdCB0dXJuSW5kaWNlcyA9IE9iamVjdC5rZXlzKGFjdGl2ZUJyYW5jaCkubWFwKE51bWJlcikuc29ydCgoYSwgYikgPT4gYSAtIGIpO1xuICAgICAgICBjb25zdCBsYXN0VHVybkluZGV4ID0gXy5sYXN0KHR1cm5JbmRpY2VzKTtcblxuICAgICAgICBpZiAobGFzdFR1cm5JbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbG9nZ2VyKCd3YXJuJywgJ0FjdGlvbnMnLCAnQ291bGQgbm90IGZpbmQgdGhlIGxhc3QgdHVybiB0byB3cml0ZSBiYWNrIGN1c3RvbSBhY3Rpb24uJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgbGFzdFR1cm4gPSBhY3RpdmVCcmFuY2hbbGFzdFR1cm5JbmRleF07XG4gICAgICAgICAgbG9nZ2VyKCdsb2cnLCAnQWN0aW9ucycsICdMYXN0IHR1cm4gZm91bmQ6JywgeyB0dXJuSW5kZXg6IGxhc3RUdXJuSW5kZXgsIHJvbGU6IGxhc3RUdXJuLnJvbGUgfSk7XG5cbiAgICAgICAgICBpZiAobGFzdFR1cm4ucm9sZSA9PT0gJ2Fzc2lzdGFudCcpIHtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZVBhZ2UgPSBsYXN0VHVybi5wYWdlc1tsYXN0VHVybi5hY3RpdmVQYWdlSW5kZXhdO1xuICAgICAgICAgICAgaWYgKGFjdGl2ZVBhZ2UpIHtcbiAgICAgICAgICAgICAgbG9nZ2VyKCdsb2cnLCAnQWN0aW9ucycsICdBY3RpdmUgcGFnZSBmb3VuZDonLCB7IHBhZ2VJZDogYWN0aXZlUGFnZS5pZCB9KTtcbiAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzQmFySnNvblN0cmluZyA9IGV4dHJhY3RKc29uRnJvbVN0YXR1c0JhcihhY3RpdmVQYWdlLmNvbnRlbnQpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgaWYgKHN0YXR1c0Jhckpzb25TdHJpbmcpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgbG9nZ2VyKCdsb2cnLCAnQWN0aW9ucycsICdFeHRyYWN0ZWQgc3RhdHVzIGJhciBKU09OIHN0cmluZzonLCBzdGF0dXNCYXJKc29uU3RyaW5nKTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1c0Jhck9iamVjdCA9IEpTT04ucGFyc2Uoc3RhdHVzQmFySnNvblN0cmluZyk7XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdGlvbk9wdGlvbnNDb250YWluZXIgPSBzdGF0dXNCYXJPYmplY3RbJ+ihjOWKqOmAiemhuSddO1xuICAgICAgICAgICAgICAgICAgaWYgKGFjdGlvbk9wdGlvbnNDb250YWluZXIgJiYgdHlwZW9mIGFjdGlvbk9wdGlvbnNDb250YWluZXIgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnNLZXkgPSBPYmplY3Qua2V5cyhhY3Rpb25PcHRpb25zQ29udGFpbmVyKS5maW5kKGtleSA9PiBrZXkuaW5jbHVkZXMoJ+WPr+mAieihjOWKqCcpKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zS2V5ICYmIEFycmF5LmlzQXJyYXkoYWN0aW9uT3B0aW9uc0NvbnRhaW5lcltvcHRpb25zS2V5XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoIWFjdGlvbk9wdGlvbnNDb250YWluZXJbb3B0aW9uc0tleV0uaW5jbHVkZXModGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbk9wdGlvbnNDb250YWluZXJbb3B0aW9uc0tleV0ucHVzaCh0ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcignbG9nJywgJ0FjdGlvbnMnLCAnVXBkYXRlZCBhY3Rpb24gb3B0aW9uczonLCBhY3Rpb25PcHRpb25zQ29udGFpbmVyW29wdGlvbnNLZXldKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3SnNvbkJsb2NrID0gSlNPTi5zdHJpbmdpZnkoc3RhdHVzQmFyT2JqZWN0LCBudWxsLCAyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g5qOA5p+l5Y6f5aeLc3RhdHVzYmFy5piv5ZCm5YyF5ZCrYGBganNvbuagh+iusO+8jOS7peS/neaMgeagvOW8j+S4gOiHtFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxTdGF0dXNCYXJDb250ZW50ID0gLzxzdGF0dXNiYXI+KFtcXHNcXFNdKj8pPFxcL3N0YXR1c2Jhcj4vLmV4ZWMoYWN0aXZlUGFnZS5jb250ZW50KT8uWzFdIHx8ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3U3RhdHVzQmFyQ29udGVudCA9IG9yaWdpbmFsU3RhdHVzQmFyQ29udGVudC5pbmNsdWRlcygnYGBganNvbicpXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gYFxcYFxcYFxcYGpzb25cXG4ke25ld0pzb25CbG9ja31cXG5cXGBcXGBcXGBgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogbmV3SnNvbkJsb2NrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdDb250ZW50ID0gYWN0aXZlUGFnZS5jb250ZW50LnJlcGxhY2Uob3JpZ2luYWxTdGF0dXNCYXJDb250ZW50LCBuZXdTdGF0dXNCYXJDb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgaGlzdG9yeU1hbmFnZXIudXBkYXRlTWVzc2FnZVBhZ2VDb250ZW50KGFjdGl2ZVBhZ2UuaWQsIG5ld0NvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyKCdpbmZvJywgJ0FjdGlvbnMnLCAnU3VjY2Vzc2Z1bGx5IHdyb3RlIGN1c3RvbSBhY3Rpb24gYmFjayB0byBoaXN0b3J5LicpO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIoJ2luZm8nLCAnQWN0aW9ucycsICdDdXN0b20gYWN0aW9uIGFscmVhZHkgZXhpc3RzIGluIHRoZSBvcHRpb25zLiBObyBjaGFuZ2VzIG1hZGUuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcignd2FybicsICdBY3Rpb25zJywgJ0NvdWxkIG5vdCBmaW5kIGEgdmFsaWQgXCLlj6/pgInooYzliqhcIiBhcnJheSBpbiB0aGUgYWN0aW9uIG9wdGlvbnMgb2JqZWN0LicsIGFjdGlvbk9wdGlvbnNDb250YWluZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIoJ3dhcm4nLCAnQWN0aW9ucycsICdUaGUgXCLooYzliqjpgInpoblcIiBrZXkgZG9lcyBub3QgZXhpc3Qgb3IgaXMgbm90IGFuIG9iamVjdCBpbiB0aGUgc3RhdHVzIGJhciBKU09OLicsIHN0YXR1c0Jhck9iamVjdCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAocGFyc2VFcnJvcikge1xuICAgICAgICAgICAgICAgICAgbG9nZ2VyKCdlcnJvcicsICdBY3Rpb25zJywgJ0ZhaWxlZCB0byBwYXJzZSBvciBwcm9jZXNzIHN0YXR1cyBiYXIgSlNPTi4nLCBwYXJzZUVycm9yKTtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+ino+aekOaIluWkhOeQhueKtuaAgeagj0pTT07ml7blh7rplJk6JywgcGFyc2VFcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvZ2dlcignd2FybicsICdBY3Rpb25zJywgJ05vIHN0YXR1cyBiYXIgSlNPTiBmb3VuZCBpbiB0aGUgbGFzdCBtZXNzYWdlIGNvbnRlbnQuJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGxvZ2dlcignd2FybicsICdBY3Rpb25zJywgJ05vIGFjdGl2ZSBwYWdlIGZvdW5kIGluIHRoZSBsYXN0IGFzc2lzdGFudCB0dXJuLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2dnZXIoJ3dhcm4nLCAnQWN0aW9ucycsICdUaGUgbGFzdCB0dXJuIHdhcyBub3QgYW4gYXNzaXN0YW50IHR1cm4sIGNhbm5vdCB3cml0ZSBiYWNrIGFjdGlvbi4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGxvZ2dlcignZXJyb3InLCAnQWN0aW9ucycsICdGYWlsZWQgdG8gd3JpdGUgYmFjayBjdXN0b20gYWN0aW9uLicsIGVycm9yKTtcbiAgICAgICAgY29uc29sZS5lcnJvcign5Zue5YaZ6Ieq5a6a5LmJ6KGM5Yqo5pe25Y+R55Sf5Lil6YeN6ZSZ6K+vOicsIGVycm9yKTtcbiAgICAgICAgdG9hc3RyLmVycm9yKCflsIboh6rlrprkuYnooYzliqjlhpnlm57ljoblj7LorrDlvZXml7blh7rplJnvvIzor7fmn6XnnIvmjqfliLblj7DjgIInKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gSW4gdjIuMCwgcHJ1bmluZyBpbnZhbGlkIG1lc3NhZ2VzIGlzIG5vIGxvbmdlciB0aGUgcmVzcG9uc2liaWxpdHkgb2YgdGhpcyBmdW5jdGlvbi5cbiAgICAvLyBUaGUgcmVuZGVyZXIgYW5kIHN0YXRlIG1hbmFnZXIgaGFuZGxlIHBhcnNpbmcgZmFpbHVyZXMuXG5cbiAgICAvLyBUaGlzIGlzIGEgbmV3IHR1cm4sIHNvIHNldCB0aGUgZmxhZy5cbiAgICBzZXRJc05ld1R1cm4odHJ1ZSk7XG4gICAgbG9nZ2VyKCdsb2cnLCAnU3RhdGUnLCAnRmxhZyBgaXNOZXdUdXJuYCBzZXQgdG8gYHRydWVgLicpO1xuXG4gICAgLy8gRm9yY2UgdGhlIFVJIHRvIHJlc2V0IHRvIDEvMSBpbW1lZGlhdGVseS5cbiAgICBzZXRGb3JjZVN3aXBlUmVzZXQodHJ1ZSk7XG4gICAgdXBkYXRlU3dpcGVVSSgpO1xuXG4gICAgLy8gU3RlcCAxOiBTdGFydCBhIG5ldyB0dXJuIHdpdGggdGhlIHVzZXIncyBhY3Rpb24uXG4gICAgYXdhaXQgaGlzdG9yeU1hbmFnZXIuYWRkVXNlclR1cm4odGV4dCk7XG4gICAgbG9nZ2VyKCdpbmZvJywgJ0hpc3RvcnknLCAnVXNlciBhY3Rpb24gc3RhcnRlZCBhIG5ldyB0dXJuLicpO1xuICAgIHRvYXN0ci5pbmZvKCfnjqnlrrbooYzliqjlt7LorrDlvZXjgIInKTtcblxuICAgIC8vIFN0ZXAgMjogUHJlcGFyZSBhbmQgc2VuZCB0aGUgZ2VuZXJhdGlvbiByZXF1ZXN0IGZvciB0aGUgbmV3IGFjdGlvbi5cbiAgICBjb25zdCB7IHVzZXJJbnB1dCwgY2hhdEhpc3RvcnksIGluamVjdHMgfSA9IGF3YWl0IHByb21wdE1hbmFnZXIucHJlcGFyZVByb21wdENvbXBvbmVudHMoaGlzdG9yeU1hbmFnZXIsIGV2ZW50TWFuYWdlciwgdGV4dCwgZmFsc2UpO1xuXG4gICAgbG9nZ2VyKCdpbmZvJywgJ0dlbmVyYXRpb24nLCAnRmluYWwgY29tcG9uZW50cyB0byBiZSBzZW50IHRvIExMTTonLCB7IHVzZXJJbnB1dCwgY2hhdEhpc3RvcnksIGluamVjdHMgfSk7XG4gICAgXG4gICAgc2V0TGFzdFVzZXJJbnB1dCh1c2VySW5wdXQpOyAvLyBDYWNoZSB0aGUgaW5wdXQgZm9yIHBvdGVudGlhbCByZS1nZW5lcmF0aW9uXG5cbiAgICBhd2FpdCBzZW5kR2VuZXJhdGlvblJlcXVlc3QodXNlcklucHV0LCBjaGF0SGlzdG9yeSwgaW5qZWN0cywgc3RvcnlSZW5kZXJlcik7XG4gICAgXG4gICAgdG9hc3RyLnN1Y2Nlc3MoYOW3sumAieaLqeihjOWKqDogJHt0ZXh0fWApO1xuXG4gICAgLy8gU3RlcCA0OiBUcmlnZ2VyIGEgc3VtbWFyeSBjaGVjayBpbiB0aGUgYmFja2dyb3VuZC5cbiAgICAvLyBUaGlzIHJ1bnMgYXN5bmNocm9ub3VzbHkgYW5kIGRvZXMgbm90IGJsb2NrIHRoZSB1c2VyLlxuICAgIGxvZ2dlcignbG9nJywgJ1N1bW1hcml6ZXInLCAnVHJpZ2dlcmluZyBzdW1tYXJ5IGNoZWNrLicpO1xuICAgIHN1bW1hcml6ZXIudHJpZ2dlclN1bW1hcnlJZk5lZWRlZCgpO1xuICAgIFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZ2dlcignZXJyb3InLCAnQWN0aW9ucycsICdgdHJpZ2dlckFjdGlvbmAgZmFpbGVkLicsIGVycm9yKTtcbiAgICBjb25zb2xlLmVycm9yKCfooYzliqjlpLHotKU6JywgZXJyb3IpO1xuICAgIHRvYXN0ci5lcnJvcign6KGM5Yqo5aSx6LSl77yM6K+35p+l55yL5o6n5Yi25Y+w5pel5b+X44CCJyk7XG4gIH1cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/core/actions.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/core/eventManager.ts": 
  /*!*****************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/core/eventManager.ts ***!
  \*****************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EventManager: () => (/* binding */ EventManager),\n/* harmony export */   eventEmit: () => (/* binding */ eventEmit),\n/* harmony export */   eventOn: () => (/* binding */ eventOn)\n/* harmony export */ });\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./logger */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts\");\n/**\n * @file 事件管理器 (EventManager)\n * @description 集中处理所有由LLM生成的事件，以模块化、可追溯的方式更新游戏状态。\n */\n\n// #region 全局事件总线 (v3.4)\n/** 存储所有系统内部事件的监听器 */\nconst eventListeners = {};\n/**\n * 注册一个系统内部事件的监听器。\n * @param eventType - 要监听的事件名称 (例如 'timeChanged')。\n * @param listener - 事件触发时要执行的回调函数。\n */\nfunction eventOn(eventType, listener) {\n    if (!eventListeners[eventType]) {\n        eventListeners[eventType] = [];\n    }\n    eventListeners[eventType].push(listener);\n    (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'GlobalEventBus', `Listener registered for event: ${eventType}`);\n}\n/**\n * 派发一个系统内部事件。\n * @param eventType - 要派发的事件名称。\n * @param payload - 要传递给监听器的数据。\n */\nfunction eventEmit(eventType, payload) {\n    const listeners = eventListeners[eventType];\n    if (listeners && listeners.length > 0) {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'GlobalEventBus', `Emitting event: ${eventType}`, payload);\n        listeners.forEach(listener => {\n            try {\n                listener(payload);\n            }\n            catch (error) {\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'GlobalEventBus', `Error in listener for event ${eventType}:`, error);\n            }\n        });\n    }\n}\n/**\n * 事件管理器类\n * @class EventManager\n */\nclass EventManager {\n    handlers = {};\n    pokedexManager;\n    constructor(pokedexManager) {\n        this.pokedexManager = pokedexManager;\n    }\n    /**\n     * 注册一个事件处理器\n     * @param {string} eventType - 事件类型\n     * @param {EventHandler} handler - 处理器对象\n     */\n    register(eventType, handler) {\n        if (this.handlers[eventType]) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'EventManager', `Event handler for \"${eventType}\" is being overwritten.`);\n        }\n        this.handlers[eventType] = handler;\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'EventManager', `Event handler for \"${eventType}\" registered.`);\n    }\n    /**\n     * 处理事件数组，生成状态的增量更新和要记录的新事件列表\n     * @param {GameEvent[]} events - 要处理的事件数组\n     * @param {object} currentVars - 当前的游戏变量 (Character 和 World)\n     * @returns {Promise<{updates: object, newEvents: GameEvent[]}>} - 返回一个包含增量更新和新事件数组的对象\n     */\n    async processEvents(events, currentVars) {\n        const newEvents = [];\n        // @ts-ignore\n        const currentState = _.cloneDeep(currentVars); // 创建一个可变的状态副本\n        const existingEventIds = new Set(currentState.世界.事件列表.map((e) => e.eventId));\n        for (const event of events) {\n            if (existingEventIds.has(event.eventId)) {\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'EventManager', `Event ${event.eventId} has already been processed. Skipping.`);\n                continue;\n            }\n            const handler = this.handlers[event.type];\n            const wildcardHandler = this.handlers['*'];\n            const processHandler = async (h, e) => {\n                if (!h)\n                    return;\n                try {\n                    const update = await h.execute(e.payload, currentState, this, this.pokedexManager);\n                    // @ts-ignore\n                    _.merge(currentState, update);\n                }\n                catch (error) {\n                    (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'EventManager', `Error processing event ${e.eventId} of type ${e.type}:`, error);\n                }\n            };\n            if (handler) {\n                await processHandler(handler, event);\n                newEvents.push(event);\n            }\n            else {\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'EventManager', `No specific handler for event type: ${event.type}`);\n            }\n            // 始终运行通配符处理器\n            if (wildcardHandler) {\n                await processHandler(wildcardHandler, event);\n            }\n        }\n        return { finalState: currentState, newEvents };\n    }\n    /**\n     * 处理单个事件，主要用于事件的再分发。\n     * @param {GameEvent} event - 要处理的单个事件。\n     * @param {object} currentVars - 当前的游戏变量。\n     * @returns {Promise<void>}\n     */\n    async processSingleEvent(event, currentVars) {\n        const handler = this.handlers[event.type];\n        if (handler) {\n            try {\n                // 注意：这里不返回update，因为调用者通常不关心内部事件的直接状态变更\n                // 状态的最终一致性由主流程的 `syncVariables` 保证\n                await handler.execute(event.payload, currentVars, this, this.pokedexManager);\n            }\n            catch (error) {\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'EventManager', `Error processing single event ${event.type}:`, error);\n            }\n        }\n        else {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'EventManager', `No handler for single event type: ${event.type}`);\n        }\n    }\n    /**\n     * 计算两个事件列表之间的差异，并应用这些差异来更新状态。\n     * @param {GameEvent[]} previousEvents - 上一个状态的事件列表。\n     * @param {GameEvent[]} targetEvents - 目标状态的事件列表。\n     * @param {{ Character: ICharacter; World: IWorld }} currentVars - 当前的游戏变量。\n     * @returns {Promise<Partial<{ Character: Partial<ICharacter>, World: Partial<IWorld> }>>} - 返回一个包含最终状态更新的对象。\n     */\n    async calculateAndApplyStateDiff(previousEvents, targetEvents, currentVars) {\n        const previousEventIds = new Set(previousEvents.map(e => e.eventId));\n        const targetEventIds = new Set(targetEvents.map(e => e.eventId));\n        const eventsToUndo = previousEvents.filter(e => !targetEventIds.has(e.eventId));\n        const eventsToApply = targetEvents.filter(e => !previousEventIds.has(e.eventId));\n        const stateUpdates = {};\n        // @ts-ignore\n        const tempState = _.cloneDeep(currentVars);\n        // 1. 撤销不再需要的事件\n        for (const event of eventsToUndo.reverse()) { // 从后往前撤销\n            const handler = this.handlers[event.type];\n            if (handler && handler.undo) {\n                try {\n                    const undoUpdate = await handler.undo(event.payload, tempState, this.pokedexManager);\n                    // @ts-ignore\n                    _.merge(tempState, undoUpdate);\n                    // @ts-ignore\n                    _.merge(stateUpdates, undoUpdate);\n                }\n                catch (error) {\n                    (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'EventManager', `Error undoing event ${event.eventId}:`, error);\n                }\n            }\n        }\n        // 2. 应用新的事件\n        for (const event of eventsToApply) { // 从前往后应用\n            const handler = this.handlers[event.type];\n            if (handler) {\n                try {\n                    const applyUpdate = await handler.execute(event.payload, tempState, this, this.pokedexManager);\n                    // @ts-ignore\n                    _.merge(tempState, applyUpdate);\n                    // @ts-ignore\n                    _.merge(stateUpdates, applyUpdate);\n                }\n                catch (error) {\n                    (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'EventManager', `Error applying event ${event.eventId}:`, error);\n                }\n            }\n        }\n        return stateUpdates;\n    }\n}\n// This file will no longer export a singleton instance.\n// The instance will be created and managed in index.ts.\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9ldmVudE1hbmFnZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7R0FHRztBQUcrQjtBQUdsQyx3QkFBd0I7QUFFeEIscUJBQXFCO0FBQ3JCLE1BQU0sY0FBYyxHQUFrQyxFQUFFLENBQUM7QUFFekQ7Ozs7R0FJRztBQUNJLFNBQVMsT0FBTyxDQUFDLFNBQWlCLEVBQUUsUUFBa0I7SUFDM0QsSUFBSSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDO1FBQy9CLGNBQWMsQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLENBQUM7SUFDakMsQ0FBQztJQUNELGNBQWMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDekMsK0NBQU0sQ0FBQyxLQUFLLEVBQUUsZ0JBQWdCLEVBQUUsa0NBQWtDLFNBQVMsRUFBRSxDQUFDLENBQUM7QUFDakYsQ0FBQztBQUVEOzs7O0dBSUc7QUFDSSxTQUFTLFNBQVMsQ0FBQyxTQUFpQixFQUFFLE9BQVk7SUFDdkQsTUFBTSxTQUFTLEdBQUcsY0FBYyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQzVDLElBQUksU0FBUyxJQUFJLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7UUFDdEMsK0NBQU0sQ0FBQyxLQUFLLEVBQUUsZ0JBQWdCLEVBQUUsbUJBQW1CLFNBQVMsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3pFLFNBQVMsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFDM0IsSUFBSSxDQUFDO2dCQUNILFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUNwQixDQUFDO1lBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztnQkFDZiwrQ0FBTSxDQUFDLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSwrQkFBK0IsU0FBUyxHQUFHLEVBQUUsS0FBSyxDQUFDLENB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RSx1QkFBdUIsS0FBSyxDQUFDLE9BQU8sR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO2dCQUNsRixDQUFDO1lBQ0gsQ0FBQztRQUNILENBQUM7UUFFRCxZQUFZO1FBQ1osS0FBSyxNQUFNLEtBQUssSUFBSSxhQUFhLEVBQUUsQ0FBQyxDQUFDLFNBQVM7WUFDNUMsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDMUMsSUFBSSxPQUFPLEVBQUUsQ0FBQztnQkFDWixJQUFJLENBQUM7b0JBQ0gsTUFBTSxXQUFXLEdBQUcsTUFBTSxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7b0JBQy9GLGFBQWE7b0JBQ2IsQ0FBQyxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUUsV0FBVyxDQUFDLENBQUM7b0JBQ2hDLGFBQWE7b0JBQ2IsQ0FBQyxDQUFDLEtBQUssQ0FBQyxZQUFZLEVBQUUsV0FBVyxDQUFDLENBQUM7Z0JBQ3JDLENBQUM7Z0JBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztvQkFDZiwrQ0FBTSxDQUFDLE9BQU8sRUFBRSxjQUFjLEVBQUUsd0JBQXdCLEtBQUssQ0FBQyxPQUFPLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztnQkFDbkYsQ0FBQztZQUNILENBQUM7UUFDSCxDQUFDO1FBRUQsT0FBTyxZQUFZLENBQUM7SUFDdEIsQ0FBQztDQUNGO0FBRUQsd0RBQXdEO0FBQ3hELHdEQUF3RCIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9ldmVudE1hbmFnZXIudHM/Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGUg5LqL5Lu2566h55CG5ZmoIChFdmVudE1hbmFnZXIpXG4gKiBAZGVzY3JpcHRpb24g6ZuG5Lit5aSE55CG5omA5pyJ55SxTExN55Sf5oiQ55qE5LqL5Lu277yM5Lul5qih5Z2X5YyW44CB5Y+v6L+95rqv55qE5pa55byP5pu05paw5ri45oiP54q25oCB44CCXG4gKi9cblxuaW1wb3J0IHsgSUNoYXJhY3RlciwgSVdvcmxkIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi9sb2dnZXInO1xuaW1wb3J0IHsgUG9rZWRleE1hbmFnZXIgfSBmcm9tICcuL3Bva2VkZXgnO1xuXG4vLyAjcmVnaW9uIOWFqOWxgOS6i+S7tuaAu+e6vyAodjMuNClcblxuLyoqIOWtmOWCqOaJgOacieezu+e7n+WGhemDqOS6i+S7tueahOebkeWQrOWZqCAqL1xuY29uc3QgZXZlbnRMaXN0ZW5lcnM6IHsgW2tleTogc3RyaW5nXTogRnVuY3Rpb25bXSB9ID0ge307XG5cbi8qKlxuICog5rOo5YaM5LiA5Liq57O757uf5YaF6YOo5LqL5Lu255qE55uR5ZCs5Zmo44CCXG4gKiBAcGFyYW0gZXZlbnRUeXBlIC0g6KaB55uR5ZCs55qE5LqL5Lu25ZCN56ewICjkvovlpoIgJ3RpbWVDaGFuZ2VkJynjgIJcbiAqIEBwYXJhbSBsaXN0ZW5lciAtIOS6i+S7tuinpuWPkeaXtuimgeaJp+ihjOeahOWbnuiwg+WHveaVsOOAglxuICovXG5leHBvcnQgZnVuY3Rpb24gZXZlbnRPbihldmVudFR5cGU6IHN0cmluZywgbGlzdGVuZXI6IEZ1bmN0aW9uKSB7XG4gIGlmICghZXZlbnRMaXN0ZW5lcnNbZXZlbnRUeXBlXSkge1xuICAgIGV2ZW50TGlzdGVuZXJzW2V2ZW50VHlwZV0gPSBbXTtcbiAgfVxuICBldmVudExpc3RlbmVyc1tldmVudFR5cGVdLnB1c2gobGlzdGVuZXIpO1xuICBsb2dnZXIoJ2xvZycsICdHbG9iYWxFdmVudEJ1cycsIGBMaXN0ZW5lciByZWdpc3RlcmVkIGZvciBldmVudDogJHtldmVudFR5cGV9YCk7XG59XG5cbi8qKlxuICog5rS+5Y+R5LiA5Liq57O757uf5YaF6YOo5LqL5Lu244CCXG4gKiBAcGFyYW0gZXZlbnRUeXBlIC0g6KaB5rS+5Y+R55qE5LqL5Lu25ZCN56ew44CCXG4gKiBAcGFyYW0gcGF5bG9hZCAtIOimgeS8oOmAkue7meebkeWQrOWZqOeahOaVsOaNruOAglxuICovXG5leHBvcnQgZnVuY3Rpb24gZXZlbnRFbWl0KGV2ZW50VHlwZTogc3RyaW5nLCBwYXlsb2FkOiBhbnkpIHtcbiAgY29uc3QgbGlzdGVuZXJzID0gZXZlbnRMaXN0ZW5lcnNbZXZlbnRUeXBlXTtcbiAgaWYgKGxpc3RlbmVycyAmJiBsaXN0ZW5lcnMubGVuZ3RoID4gMCkge1xuICAgIGxvZ2dlcignbG9nJywgJ0dsb2JhbEV2ZW50QnVzJywgYEVtaXR0aW5nIGV2ZW50OiAke2V2ZW50VHlwZX1gLCBwYXlsb2FkKTtcbiAgICBsaXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBsaXN0ZW5lcihwYXlsb2FkKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGxvZ2dlcignZXJyb3InLCAnR2xvYmFsRXZlbnRCdXMnLCBgRXJyb3IgaW4gbGlzdGVuZXIgZm9yIGV2ZW50ICR7ZXZlbnRUeXBlfTpgLCBlcnJvcik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuLy8gI2VuZHJlZ2lvblxuXG4vKipcbiAqIHYyLjAg5LqL5Lu25pWw5o2u5aWR57qmXG4gKiBAaW50ZXJmYWNlIEdhbWVFdmVudFxuICogQHByb3BlcnR5IHtzdHJpbmd9IGV2ZW50SWQgLSDkuovku7bnmoTlhajlsYDllK/kuIBJRCAo5L6L5aaCOiBcImV2dF8xNjcyNTMxMjAwX2FiY1wiKVxuICogQHByb3BlcnR5IHtzdHJpbmd9IHNvdXJjZU1lc3NhZ2VJZCAtIOS6p+eUn+atpOS6i+S7tueahCBNZXNzYWdlUGFnZSDnmoRJRFxuICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGUgLSDkuovku7bnsbvlnosgKOS+i+WmgjogXCLnianlk4Hlj5jljJZcIiwgXCLmlrDmiJDlsLFcIilcbiAqIEBwcm9wZXJ0eSB7YW55fSBwYXlsb2FkIC0g5LqL5Lu255qE5YW35L2T5pWw5o2uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR2FtZUV2ZW50IHtcbiAgZXZlbnRJZDogc3RyaW5nO1xuICBzb3VyY2VNZXNzYWdlSWQ6IHN0cmluZztcbiAgdHlwZTogc3RyaW5nO1xuICBwYXlsb2FkOiBhbnk7XG59XG5cbi8qKlxuICog5LqL5Lu25aSE55CG5Zmo5o6l5Y+jXG4gKiBAaW50ZXJmYWNlIEV2ZW50SGFuZGxlclxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gZXhlY3V0ZSAtIOWkhOeQhuS6i+S7tuW5tui/lOWbnuWvueiBiuWkqeWPmOmHj+eahOWinumHj+abtOaWsFxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gW3VuZG9dIC0gKOWPr+mAiSkg5pKk6ZSA5LqL5Lu25pWI5p6c77yM55So5LqO54q25oCB5Zue5ruaXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRXZlbnRIYW5kbGVyIHtcbiAgZXhlY3V0ZTogKHBheWxvYWQ6IGFueSwgY3VycmVudFZhcnM6IHsgJ+inkuiJsic6IElDaGFyYWN0ZXIsICfkuJbnlYwnOiBJV29ybGQgfSwgZXZlbnRNYW5hZ2VyPzogRXZlbnRNYW5hZ2VyLCBwb2tlZGV4TWFuYWdlcj86IFBva2VkZXhNYW5hZ2VyKSA9PiBQcm9taXNlPFBhcnRpYWw8eyAn6KeS6ImyJzogUGFydGlhbDxJQ2hhcmFjdGVyPiwgJ+S4lueVjCc6IFBhcnRpYWw8SVdvcmxkPiB9Pj4gfCBQYXJ0aWFsPHsgJ+inkuiJsic6IFBhcnRpYWw8SUNoYXJhY3Rlcj4sICfkuJbnlYwnOiBQYXJ0aWFsPElXb3JsZD4gfT47XG4gIHVuZG8/OiAocGF5bG9hZDogYW55LCBjdXJyZW50VmFyczogeyAn6KeS6ImyJzogSUNoYXJhY3RlciwgJ+S4lueVjCc6IElXb3JsZCB9LCBwb2tlZGV4TWFuYWdlcj86IFBva2VkZXhNYW5hZ2VyKSA9PiBQcm9taXNlPFBhcnRpYWw8eyAn6KeS6ImyJzogUGFydGlhbDxJQ2hhcmFjdGVyPiwgJ+S4lueVjCc6IFBhcnRpYWw8SVdvcmxkPiB9Pj4gfCBQYXJ0aWFsPHsgJ+inkuiJsic6IFBhcnRpYWw8SUNoYXJhY3Rlcj4sICfkuJbnlYwnOiBQYXJ0aWFsPElXb3JsZD4gfT47XG59XG5cbi8qKlxuICog5LqL5Lu2566h55CG5Zmo57G7XG4gKiBAY2xhc3MgRXZlbnRNYW5hZ2VyXG4gKi9cbmV4cG9ydCBjbGFzcyBFdmVudE1hbmFnZXIge1xuICBwcml2YXRlIGhhbmRsZXJzOiB7IFtrZXk6IHN0cmluZ106IEV2ZW50SGFuZGxlciB9ID0ge307XG4gIHByaXZhdGUgcG9rZWRleE1hbmFnZXI6IFBva2VkZXhNYW5hZ2VyO1xuXG4gIGNvbnN0cnVjdG9yKHBva2VkZXhNYW5hZ2VyOiBQb2tlZGV4TWFuYWdlcikge1xuICAgIHRoaXMucG9rZWRleE1hbmFnZXIgPSBwb2tlZGV4TWFuYWdlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiDms6jlhozkuIDkuKrkuovku7blpITnkIblmahcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZSAtIOS6i+S7tuexu+Wei1xuICAgKiBAcGFyYW0ge0V2ZW50SGFuZGxlcn0gaGFuZGxlciAtIOWkhOeQhuWZqOWvueixoVxuICAgKi9cbiAgcmVnaXN0ZXIoZXZlbnRUeXBlOiBzdHJpbmcsIGhhbmRsZXI6IEV2ZW50SGFuZGxlcikge1xuICAgIGlmICh0aGlzLmhhbmRsZXJzW2V2ZW50VHlwZV0pIHtcbiAgICAgIGxvZ2dlcignd2FybicsICdFdmVudE1hbmFnZXInLCBgRXZlbnQgaGFuZGxlciBmb3IgXCIke2V2ZW50VHlwZX1cIiBpcyBiZWluZyBvdmVyd3JpdHRlbi5gKTtcbiAgICB9XG4gICAgdGhpcy5oYW5kbGVyc1tldmVudFR5cGVdID0gaGFuZGxlcjtcbiAgICBsb2dnZXIoJ2xvZycsICdFdmVudE1hbmFnZXInLCBgRXZlbnQgaGFuZGxlciBmb3IgXCIke2V2ZW50VHlwZX1cIiByZWdpc3RlcmVkLmApO1xuICB9XG5cbiAgLyoqXG4gICAqIOWkhOeQhuS6i+S7tuaVsOe7hO+8jOeUn+aIkOeKtuaAgeeahOWinumHj+abtOaWsOWSjOimgeiusOW9leeahOaWsOS6i+S7tuWIl+ihqFxuICAgKiBAcGFyYW0ge0dhbWVFdmVudFtdfSBldmVudHMgLSDopoHlpITnkIbnmoTkuovku7bmlbDnu4RcbiAgICogQHBhcmFtIHtvYmplY3R9IGN1cnJlbnRWYXJzIC0g5b2T5YmN55qE5ri45oiP5Y+Y6YePIChDaGFyYWN0ZXIg5ZKMIFdvcmxkKVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx7dXBkYXRlczogb2JqZWN0LCBuZXdFdmVudHM6IEdhbWVFdmVudFtdfT59IC0g6L+U5Zue5LiA5Liq5YyF5ZCr5aKe6YeP5pu05paw5ZKM5paw5LqL5Lu25pWw57uE55qE5a+56LGhXG4gICAqL1xuICBhc3luYyBwcm9jZXNzRXZlbnRzKFxuICAgIGV2ZW50czogR2FtZUV2ZW50W10sXG4gICAgY3VycmVudFZhcnM6IHsgJ+inkuiJsic6IElDaGFyYWN0ZXI7ICfkuJbnlYwnOiBJV29ybGQgfVxuICApOiBQcm9taXNlPHtcbiAgICBmaW5hbFN0YXRlOiB7ICfop5LoibInOiBJQ2hhcmFjdGVyOyAn5LiW55WMJzogSVdvcmxkIH0sXG4gICAgbmV3RXZlbnRzOiBHYW1lRXZlbnRbXVxuICB9PiB7XG4gICAgY29uc3QgbmV3RXZlbnRzOiBHYW1lRXZlbnRbXSA9IFtdO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBjb25zdCBjdXJyZW50U3RhdGUgPSBfLmNsb25lRGVlcChjdXJyZW50VmFycyk7IC8vIOWIm+W7uuS4gOS4quWPr+WPmOeahOeKtuaAgeWJr+acrFxuICAgIGNvbnN0IGV4aXN0aW5nRXZlbnRJZHMgPSBuZXcgU2V0KGN1cnJlbnRTdGF0ZS7kuJbnlYwu5LqL5Lu25YiX6KGoLm1hcCgoZTogR2FtZUV2ZW50KSA9PiBlLmV2ZW50SWQpKTtcblxuICAgIGZvciAoY29uc3QgZXZlbnQgb2YgZXZlbnRzKSB7XG4gICAgICBpZiAoZXhpc3RpbmdFdmVudElkcy5oYXMoZXZlbnQuZXZlbnRJZCkpIHtcbiAgICAgICAgbG9nZ2VyKCdsb2cnLCAnRXZlbnRNYW5hZ2VyJywgYEV2ZW50ICR7ZXZlbnQuZXZlbnRJZH0gaGFzIGFscmVhZHkgYmVlbiBwcm9jZXNzZWQuIFNraXBwaW5nLmApO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgaGFuZGxlciA9IHRoaXMuaGFuZGxlcnNbZXZlbnQudHlwZV07XG4gICAgICBjb25zdCB3aWxkY2FyZEhhbmRsZXIgPSB0aGlzLmhhbmRsZXJzWycqJ107XG5cbiAgICAgIGNvbnN0IHByb2Nlc3NIYW5kbGVyID0gYXN5bmMgKGg6IEV2ZW50SGFuZGxlciwgZTogR2FtZUV2ZW50KSA9PiB7XG4gICAgICAgIGlmICghaCkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZSA9IGF3YWl0IGguZXhlY3V0ZShlLnBheWxvYWQsIGN1cnJlbnRTdGF0ZSwgdGhpcywgdGhpcy5wb2tlZGV4TWFuYWdlcik7XG4gICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgIF8ubWVyZ2UoY3VycmVudFN0YXRlLCB1cGRhdGUpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGxvZ2dlcignZXJyb3InLCAnRXZlbnRNYW5hZ2VyJywgYEVycm9yIHByb2Nlc3NpbmcgZXZlbnQgJHtlLmV2ZW50SWR9IG9mIHR5cGUgJHtlLnR5cGV9OmAsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgYXdhaXQgcHJvY2Vzc0hhbmRsZXIoaGFuZGxlciwgZXZlbnQpO1xuICAgICAgICBuZXdFdmVudHMucHVzaChldmVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2dnZXIoJ3dhcm4nLCAnRXZlbnRNYW5hZ2VyJywgYE5vIHNwZWNpZmljIGhhbmRsZXIgZm9yIGV2ZW50IHR5cGU6ICR7ZXZlbnQudHlwZX1gKTtcbiAgICAgIH1cblxuICAgICAgLy8g5aeL57uI6L+Q6KGM6YCa6YWN56ym5aSE55CG5ZmoXG4gICAgICBpZiAod2lsZGNhcmRIYW5kbGVyKSB7XG4gICAgICAgIGF3YWl0IHByb2Nlc3NIYW5kbGVyKHdpbGRjYXJkSGFuZGxlciwgZXZlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4geyBmaW5hbFN0YXRlOiBjdXJyZW50U3RhdGUsIG5ld0V2ZW50cyB9O1xuICB9XG5cbiAgLyoqXG4gICAqIOWkhOeQhuWNleS4quS6i+S7tu+8jOS4u+imgeeUqOS6juS6i+S7tueahOWGjeWIhuWPkeOAglxuICAgKiBAcGFyYW0ge0dhbWVFdmVudH0gZXZlbnQgLSDopoHlpITnkIbnmoTljZXkuKrkuovku7bjgIJcbiAgICogQHBhcmFtIHtvYmplY3R9IGN1cnJlbnRWYXJzIC0g5b2T5YmN55qE5ri45oiP5Y+Y6YeP44CCXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgKi9cbiAgYXN5bmMgcHJvY2Vzc1NpbmdsZUV2ZW50KFxuICAgIGV2ZW50OiBHYW1lRXZlbnQsXG4gICAgY3VycmVudFZhcnM6IHsgJ+inkuiJsic6IElDaGFyYWN0ZXI7ICfkuJbnlYwnOiBJV29ybGQgfVxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBoYW5kbGVyID0gdGhpcy5oYW5kbGVyc1tldmVudC50eXBlXTtcbiAgICBpZiAoaGFuZGxlcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8g5rOo5oSP77ya6L+Z6YeM5LiN6L+U5ZuedXBkYXRl77yM5Zug5Li66LCD55So6ICF6YCa5bi45LiN5YWz5b+D5YaF6YOo5LqL5Lu255qE55u05o6l54q25oCB5Y+Y5pu0XG4gICAgICAgIC8vIOeKtuaAgeeahOacgOe7iOS4gOiHtOaAp+eUseS4u+a1geeoi+eahCBgc3luY1ZhcmlhYmxlc2Ag5L+d6K+BXG4gICAgICAgIGF3YWl0IGhhbmRsZXIuZXhlY3V0ZShldmVudC5wYXlsb2FkLCBjdXJyZW50VmFycywgdGhpcywgdGhpcy5wb2tlZGV4TWFuYWdlcik7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBsb2dnZXIoJ2Vycm9yJywgJ0V2ZW50TWFuYWdlcicsIGBFcnJvciBwcm9jZXNzaW5nIHNpbmdsZSBldmVudCAke2V2ZW50LnR5cGV9OmAsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbG9nZ2VyKCd3YXJuJywgJ0V2ZW50TWFuYWdlcicsIGBObyBoYW5kbGVyIGZvciBzaW5nbGUgZXZlbnQgdHlwZTogJHtldmVudC50eXBlfWApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDorqHnrpfkuKTkuKrkuovku7bliJfooajkuYvpl7TnmoTlt67lvILvvIzlubblupTnlKjov5nkupvlt67lvILmnaXmm7TmlrDnirbmgIHjgIJcbiAgICogQHBhcmFtIHtHYW1lRXZlbnRbXX0gcHJldmlvdXNFdmVudHMgLSDkuIrkuIDkuKrnirbmgIHnmoTkuovku7bliJfooajjgIJcbiAgICogQHBhcmFtIHtHYW1lRXZlbnRbXX0gdGFyZ2V0RXZlbnRzIC0g55uu5qCH54q25oCB55qE5LqL5Lu25YiX6KGo44CCXG4gICAqIEBwYXJhbSB7eyBDaGFyYWN0ZXI6IElDaGFyYWN0ZXI7IFdvcmxkOiBJV29ybGQgfX0gY3VycmVudFZhcnMgLSDlvZPliY3nmoTmuLjmiI/lj5jph4/jgIJcbiAgICogQHJldHVybnMge1Byb21pc2U8UGFydGlhbDx7IENoYXJhY3RlcjogUGFydGlhbDxJQ2hhcmFjdGVyPiwgV29ybGQ6IFBhcnRpYWw8SVdvcmxkPiB9Pj59IC0g6L+U5Zue5LiA5Liq5YyF5ZCr5pyA57uI54q25oCB5pu05paw55qE5a+56LGh44CCXG4gICAqL1xuICBhc3luYyBjYWxjdWxhdGVBbmRBcHBseVN0YXRlRGlmZihcbiAgICBwcmV2aW91c0V2ZW50czogR2FtZUV2ZW50W10sXG4gICAgdGFyZ2V0RXZlbnRzOiBHYW1lRXZlbnRbXSxcbiAgICBjdXJyZW50VmFyczogeyAn6KeS6ImyJzogSUNoYXJhY3RlcjsgJ+S4lueVjCc6IElXb3JsZCB9XG4gICk6IFByb21pc2U8UGFydGlhbDx7ICfop5LoibInOiBQYXJ0aWFsPElDaGFyYWN0ZXI+LCAn5LiW55WMJzogUGFydGlhbDxJV29ybGQ+IH0+PiB7XG4gICAgY29uc3QgcHJldmlvdXNFdmVudElkcyA9IG5ldyBTZXQocHJldmlvdXNFdmVudHMubWFwKGUgPT4gZS5ldmVudElkKSk7XG4gICAgY29uc3QgdGFyZ2V0RXZlbnRJZHMgPSBuZXcgU2V0KHRhcmdldEV2ZW50cy5tYXAoZSA9PiBlLmV2ZW50SWQpKTtcblxuICAgIGNvbnN0IGV2ZW50c1RvVW5kbyA9IHByZXZpb3VzRXZlbnRzLmZpbHRlcihlID0+ICF0YXJnZXRFdmVudElkcy5oYXMoZS5ldmVudElkKSk7XG4gICAgY29uc3QgZXZlbnRzVG9BcHBseSA9IHRhcmdldEV2ZW50cy5maWx0ZXIoZSA9PiAhcHJldmlvdXNFdmVudElkcy5oYXMoZS5ldmVudElkKSk7XG5cbiAgICBjb25zdCBzdGF0ZVVwZGF0ZXM6IFBhcnRpYWw8eyAn6KeS6ImyJzogUGFydGlhbDxJQ2hhcmFjdGVyPiwgJ+S4lueVjCc6IFBhcnRpYWw8SVdvcmxkPiB9PiA9IHt9O1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBjb25zdCB0ZW1wU3RhdGUgPSBfLmNsb25lRGVlcChjdXJyZW50VmFycyk7XG5cbiAgICAvLyAxLiDmkqTplIDkuI3lho3pnIDopoHnmoTkuovku7ZcbiAgICBmb3IgKGNvbnN0IGV2ZW50IG9mIGV2ZW50c1RvVW5kby5yZXZlcnNlKCkpIHsgLy8g5LuO5ZCO5b6A5YmN5pKk6ZSAXG4gICAgICBjb25zdCBoYW5kbGVyID0gdGhpcy5oYW5kbGVyc1tldmVudC50eXBlXTtcbiAgICAgIGlmIChoYW5kbGVyICYmIGhhbmRsZXIudW5kbykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHVuZG9VcGRhdGUgPSBhd2FpdCBoYW5kbGVyLnVuZG8oZXZlbnQucGF5bG9hZCwgdGVtcFN0YXRlLCB0aGlzLnBva2VkZXhNYW5hZ2VyKTtcbiAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgXy5tZXJnZSh0ZW1wU3RhdGUsIHVuZG9VcGRhdGUpO1xuICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICBfLm1lcmdlKHN0YXRlVXBkYXRlcywgdW5kb1VwZGF0ZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgbG9nZ2VyKCdlcnJvcicsICdFdmVudE1hbmFnZXInLCBgRXJyb3IgdW5kb2luZyBldmVudCAke2V2ZW50LmV2ZW50SWR9OmAsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIDIuIOW6lOeUqOaWsOeahOS6i+S7tlxuICAgIGZvciAoY29uc3QgZXZlbnQgb2YgZXZlbnRzVG9BcHBseSkgeyAvLyDku47liY3lvoDlkI7lupTnlKhcbiAgICAgIGNvbnN0IGhhbmRsZXIgPSB0aGlzLmhhbmRsZXJzW2V2ZW50LnR5cGVdO1xuICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBhcHBseVVwZGF0ZSA9IGF3YWl0IGhhbmRsZXIuZXhlY3V0ZShldmVudC5wYXlsb2FkLCB0ZW1wU3RhdGUsIHRoaXMsIHRoaXMucG9rZWRleE1hbmFnZXIpO1xuICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICBfLm1lcmdlKHRlbXBTdGF0ZSwgYXBwbHlVcGRhdGUpO1xuICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICBfLm1lcmdlKHN0YXRlVXBkYXRlcywgYXBwbHlVcGRhdGUpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGxvZ2dlcignZXJyb3InLCAnRXZlbnRNYW5hZ2VyJywgYEVycm9yIGFwcGx5aW5nIGV2ZW50ICR7ZXZlbnQuZXZlbnRJZH06YCwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YXRlVXBkYXRlcztcbiAgfVxufVxuXG4vLyBUaGlzIGZpbGUgd2lsbCBubyBsb25nZXIgZXhwb3J0IGEgc2luZ2xldG9uIGluc3RhbmNlLlxuLy8gVGhlIGluc3RhbmNlIHdpbGwgYmUgY3JlYXRlZCBhbmQgbWFuYWdlZCBpbiBpbmRleC50cy5cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/core/eventManager.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/achievementSystemHandler.ts": 
  /*!************************************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/achievementSystemHandler.ts ***!
  \************************************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   achievementRedeemHandler: () => (/* binding */ achievementRedeemHandler),\n/* harmony export */   achievementRewardUpdateHandler: () => (/* binding */ achievementRewardUpdateHandler),\n/* harmony export */   newAchievementHandler: () => (/* binding */ newAchievementHandler)\n/* harmony export */ });\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ \"lodash\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../logger */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts\");\n\n\n/**\n * 处理新成就事件\n */\nconst newAchievementHandler = {\n    execute: (payload, currentVars) => {\n        const achievement = Array.isArray(payload) ? payload[0] : payload;\n        const id = achievement.id;\n        const points = achievement['点数'] || 0;\n        if (!id) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('warn', 'newAchievementHandler', '成就缺少 \"id\" 字段', achievement);\n            return {};\n        }\n        const updates = {\n            '世界.成就.已完成': {\n                ...lodash__WEBPACK_IMPORTED_MODULE_0___default().get(currentVars, '世界.成就.已完成', {}),\n                [id]: achievement,\n            },\n            '世界.成就.成就点数': (lodash__WEBPACK_IMPORTED_MODULE_0___default().get(currentVars, '世界.成就.成就点数', 0) + points),\n        };\n        return updates;\n    }\n};\n/**\n * 处理成就奖励更新事件\n */\nconst achievementRewardUpdateHandler = {\n    execute: (payload, currentVars) => {\n        if (!Array.isArray(payload)) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('warn', 'achievementRewardUpdateHandler', '奖励列表不是一个数组', payload);\n            return {};\n        }\n        const currentDate = lodash__WEBPACK_IMPORTED_MODULE_0___default().get(currentVars, '世界.当前日期', { 年: 1, 月: 1, 日: 1 });\n        const currentDayOfYear = (currentDate.年 - 1) * 360 + (currentDate.月 - 1) * 30 + currentDate.日;\n        const updates = {\n            '世界.成就.奖励列表': payload,\n            '世界.成就.上次刷新天数': currentDayOfYear,\n        };\n        return updates;\n    }\n};\n/**\n * 处理成就奖励兑换事件\n */\nconst achievementRedeemHandler = {\n    execute: (payload, currentVars) => {\n        const rewardId = payload.id;\n        const cost = payload['消耗点数'] || 0;\n        if (!rewardId) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('warn', 'achievementRedeemHandler', '兑换事件缺少 \"id\" 字段', payload);\n            return {};\n        }\n        const rewards = lodash__WEBPACK_IMPORTED_MODULE_0___default().cloneDeep(lodash__WEBPACK_IMPORTED_MODULE_0___default().get(currentVars, '世界.成就.奖励列表', []));\n        const rewardIndex = rewards.findIndex((r) => r.id === rewardId);\n        if (rewardIndex === -1) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('warn', 'achievementRedeemHandler', `找不到ID为 \"${rewardId}\" 的奖励`);\n            return {};\n        }\n        const currentPoints = lodash__WEBPACK_IMPORTED_MODULE_0___default().get(currentVars, '世界.成就.成就点数', 0);\n        if (currentPoints < cost) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('warn', 'achievementRedeemHandler', '成就点数不足，无法兑换');\n            return {}; // 也许应该在UI层面就阻止这个操作\n        }\n        rewards[rewardIndex].库存 -= 1;\n        const updates = {\n            '世界.成就.奖励列表': rewards,\n            '世界.成就.成就点数': currentPoints - cost,\n        };\n        return updates;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9ldmVudHMvYWNoaWV2ZW1lbnRTeXN0ZW1IYW5kbGVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUF1QjtBQUNZO0FBY25DOztHQUVHO0FBQ0ksTUFBTSxxQkFBcUIsR0FBaUI7SUFDakQsT0FBTyxFQUFFLENBQUMsT0FBWSxFQUFFLFdBQTJDLEVBQUUsRUFBRTtRQUNyRSxNQUFNLFdBQVcsR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQztRQUNsRSxNQUFNLEVBQUUsR0FBRyxXQUFXLENBQUMsRUFBRSxDQUFDO1FBQzFCLE1BQU0sTUFBTSxHQUFHLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFdEMsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDO1lBQ1IsK0NBQU0sQ0FBQyxNQUFNLEVBQUUsdUJBQXVCLEVBQUUsY0FBYyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1lBQ3JFLE9BQU8sRUFBRSxDQUFDO1FBQ1osQ0FBQztRQUVELE1BQU0sT0FBTyxHQUFHO1lBQ2QsV0FBVyxFQUFFO2dCQUNYLEdBQUcsaURBQUssQ0FBQyxXQUFXLEVBQUUsV0FBVyxFQUFFLEVBQUUsQ0FBQztnQkFDdEMsQ0FBQyxFQUFFLENBQUMsRUFBRSxXQUFXO2FBQ2xCO1lBQ0QsWUFBWSxFQUFFLENBQUMsaURBQUssQ0FBQyxXQUFXLEVBQUUsWUFBWSxFQUFFLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQztTQUM3RCxDQUFDO1FBRUYsT0FBTyxPQUFPLENBQUM7SUFDakIsQ0FBQztDQUNGLENBQUM7QUFFRjs7R0FFRztBQUNJLE1BQU0sOEJBQThCLEdBQWlCO0lBQzFELE9BQU8sRUFBRSxDQUFDLE9BQWMsRUFBRSxXQUEyQyxFQUFFLEVBQUU7UUFDdkUsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQztZQUM1QiwrQ0FBTSxDQUFDLE1BQU0sRUFBRSxnQ0FBZ0MsRUFBRSxZQUFZLEVBQUUsT0FBTyxDQUFDLENBQUM7WUFDeEUsT0FBTyxFQUFFLENBQUM7UUFDWixDQUFDO1FBRUQsTUFBTSxXQUFXLEdBQUcsaURBQUssQ0FBQyxXQUFXLEVBQUUsU0FBUyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hFLE1BQU0sZ0JBQWdCLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLFdBQVcsQ0FBQyxDQUFDLENBQUM7UUFFOUYsTUFBTSxPQUFPLEdBQUc7WUFDZCxZQUFZLEVBQUUsT0FBTztZQUNyQixjQUFjLEVBQUUsZ0JBQWdCO1NBQ2pDLENBQUM7UUFFRixPQUFPLE9BQU8sQ0FBQztJQUNqQixDQUFDO0NBQ0YsQ0FBQztBQUVGOztHQUVHO0FBQ0ksTUFBTSx3QkFBd0IsR0FBaUI7SUFDcEQsT0FBTyxFQUFFLENBQUMsT0FBWSxFQUFFLFdBQTJDLEVBQUUsRUFBRTtRQUNyRSxNQUFNLFFBQVEsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDO1FBQzVCLE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFbEMsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBQ2QsK0NBQU0sQ0FBQyxNQUFNLEVBQUUsMEJBQTBCLEVBQUUsZ0JBQWdCLEVBQUUsT0FBTyxDQUFDLENBQUM7WUFDdEUsT0FBTyxFQUFFLENBQUM7UUFDWixDQUFDO1FBRUQsTUFBTSxPQUFPLEdBQXlCLHVEQUFXLENBQUMsaURBQUssQ0FBQyxXQUFXLEVBQUUsWUFBWSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDeEYsTUFBTSxXQUFXLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxRQUFRLENBQUMsQ0FBQztRQUVoRSxJQUFJLFdBQVcsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDO1lBQ3ZCLCtDQUFNLENBQUMsTUFBTSxFQUFFLDBCQUEwQixFQUFFLFdBQVcsUUFBUSxPQUFPLENBQUMsQ0FBQztZQUN2RSxPQUFPLEVBQUUsQ0FBQztRQUNaLENBQUM7UUFFRCxNQUFNLGFBQWEsR0FBRyxpREFBSyxDQUFDLFdBQVcsRUFBRSxZQUFZLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDMUQsSUFBSSxhQUFhLEdBQUcsSUFBSSxFQUFFLENBQUM7WUFDekIsK0NBQU0sQ0FBQyxNQUFNLEVBQUUsMEJBQTBCLEVBQUUsYUFBYSxDQUFDLENBQUM7WUFDMUQsT0FBTyxFQUFFLENBQUMsQ0FBQyxtQkFBbUI7UUFDaEMsQ0FBQztRQUVELE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRTdCLE1BQU0sT0FBTyxHQUFHO1lBQ2QsWUFBWSxFQUFFLE9BQU87WUFDckIsWUFBWSxFQUFFLGFBQWEsR0FBRyxJQUFJO1NBQ25DLENBQUM7UUFFRixPQUFPLE9BQU8sQ0FBQztJQUNqQixDQUFDO0NBQ0YsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9ldmVudHMvYWNoaWV2ZW1lbnRTeXN0ZW1IYW5kbGVyLnRzPyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyJztcbmltcG9ydCB7IElDaGFyYWN0ZXIsIElXb3JsZCB9IGZyb20gJy4uLy4uL3R5cGVzJztcbmltcG9ydCB7IEV2ZW50SGFuZGxlciB9IGZyb20gJy4uL2V2ZW50TWFuYWdlcic7XG5cbmludGVyZmFjZSBJQWNoaWV2ZW1lbnRSZXdhcmQge1xuICBpZDogYW55O1xuICAn5raI6ICX54K55pWwJzogbnVtYmVyO1xuICDlupPlrZg6IG51bWJlcjtcbiAgW2tleTogc3RyaW5nXTogYW55O1xufVxuXG4vLyBAdHMtaWdub3JlXG5kZWNsYXJlIGNvbnN0IGdldFZhcmlhYmxlczogKG9wdGlvbnM/OiBhbnkpID0+IGFueTtcblxuLyoqXG4gKiDlpITnkIbmlrDmiJDlsLHkuovku7ZcbiAqL1xuZXhwb3J0IGNvbnN0IG5ld0FjaGlldmVtZW50SGFuZGxlcjogRXZlbnRIYW5kbGVyID0ge1xuICBleGVjdXRlOiAocGF5bG9hZDogYW55LCBjdXJyZW50VmFyczogeyDop5LoibI6IElDaGFyYWN0ZXIsIOS4lueVjDogSVdvcmxkIH0pID0+IHtcbiAgICBjb25zdCBhY2hpZXZlbWVudCA9IEFycmF5LmlzQXJyYXkocGF5bG9hZCkgPyBwYXlsb2FkWzBdIDogcGF5bG9hZDtcbiAgICBjb25zdCBpZCA9IGFjaGlldmVtZW50LmlkO1xuICAgIGNvbnN0IHBvaW50cyA9IGFjaGlldmVtZW50WyfngrnmlbAnXSB8fCAwO1xuXG4gICAgaWYgKCFpZCkge1xuICAgICAgbG9nZ2VyKCd3YXJuJywgJ25ld0FjaGlldmVtZW50SGFuZGxlcicsICfmiJDlsLHnvLrlsJEgXCJpZFwiIOWtl+autScsIGFjaGlldmVtZW50KTtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICBjb25zdCB1cGRhdGVzID0ge1xuICAgICAgJ+S4lueVjC7miJDlsLEu5bey5a6M5oiQJzoge1xuICAgICAgICAuLi5fLmdldChjdXJyZW50VmFycywgJ+S4lueVjC7miJDlsLEu5bey5a6M5oiQJywge30pLFxuICAgICAgICBbaWRdOiBhY2hpZXZlbWVudCxcbiAgICAgIH0sXG4gICAgICAn5LiW55WMLuaIkOWwsS7miJDlsLHngrnmlbAnOiAoXy5nZXQoY3VycmVudFZhcnMsICfkuJbnlYwu5oiQ5bCxLuaIkOWwseeCueaVsCcsIDApICsgcG9pbnRzKSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIHVwZGF0ZXM7XG4gIH1cbn07XG5cbi8qKlxuICog5aSE55CG5oiQ5bCx5aWW5Yqx5pu05paw5LqL5Lu2XG4gKi9cbmV4cG9ydCBjb25zdCBhY2hpZXZlbWVudFJld2FyZFVwZGF0ZUhhbmRsZXI6IEV2ZW50SGFuZGxlciA9IHtcbiAgZXhlY3V0ZTogKHBheWxvYWQ6IGFueVtdLCBjdXJyZW50VmFyczogeyDop5LoibI6IElDaGFyYWN0ZXIsIOS4lueVjDogSVdvcmxkIH0pID0+IHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkocGF5bG9hZCkpIHtcbiAgICAgIGxvZ2dlcignd2FybicsICdhY2hpZXZlbWVudFJld2FyZFVwZGF0ZUhhbmRsZXInLCAn5aWW5Yqx5YiX6KGo5LiN5piv5LiA5Liq5pWw57uEJywgcGF5bG9hZCk7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGN1cnJlbnREYXRlID0gXy5nZXQoY3VycmVudFZhcnMsICfkuJbnlYwu5b2T5YmN5pel5pyfJywgeyDlubQ6IDEsIOaciDogMSwg5pelOiAxIH0pO1xuICAgIGNvbnN0IGN1cnJlbnREYXlPZlllYXIgPSAoY3VycmVudERhdGUu5bm0IC0gMSkgKiAzNjAgKyAoY3VycmVudERhdGUu5pyIIC0gMSkgKiAzMCArIGN1cnJlbnREYXRlLuaXpTtcbiAgICBcbiAgICBjb25zdCB1cGRhdGVzID0ge1xuICAgICAgJ+S4lueVjC7miJDlsLEu5aWW5Yqx5YiX6KGoJzogcGF5bG9hZCxcbiAgICAgICfkuJbnlYwu5oiQ5bCxLuS4iuasoeWIt+aWsOWkqeaVsCc6IGN1cnJlbnREYXlPZlllYXIsXG4gICAgfTtcblxuICAgIHJldHVybiB1cGRhdGVzO1xuICB9XG59O1xuXG4vKipcbiAqIOWkhOeQhuaIkOWwseWlluWKseWFkeaNouS6i+S7tlxuICovXG5leHBvcnQgY29uc3QgYWNoaWV2ZW1lbnRSZWRlZW1IYW5kbGVyOiBFdmVudEhhbmRsZXIgPSB7XG4gIGV4ZWN1dGU6IChwYXlsb2FkOiBhbnksIGN1cnJlbnRWYXJzOiB7IOinkuiJsjogSUNoYXJhY3Rlciwg5LiW55WMOiBJV29ybGQgfSkgPT4ge1xuICAgIGNvbnN0IHJld2FyZElkID0gcGF5bG9hZC5pZDtcbiAgICBjb25zdCBjb3N0ID0gcGF5bG9hZFsn5raI6ICX54K55pWwJ10gfHwgMDtcblxuICAgIGlmICghcmV3YXJkSWQpIHtcbiAgICAgIGxvZ2dlcignd2FybicsICdhY2hpZXZlbWVudFJlZGVlbUhhbmRsZXInLCAn5YWR5o2i5LqL5Lu257y65bCRIFwiaWRcIiDlrZfmrrUnLCBwYXlsb2FkKTtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICBjb25zdCByZXdhcmRzOiBJQWNoaWV2ZW1lbnRSZXdhcmRbXSA9IF8uY2xvbmVEZWVwKF8uZ2V0KGN1cnJlbnRWYXJzLCAn5LiW55WMLuaIkOWwsS7lpZblirHliJfooagnLCBbXSkpO1xuICAgIGNvbnN0IHJld2FyZEluZGV4ID0gcmV3YXJkcy5maW5kSW5kZXgoKHIpID0+IHIuaWQgPT09IHJld2FyZElkKTtcblxuICAgIGlmIChyZXdhcmRJbmRleCA9PT0gLTEpIHtcbiAgICAgIGxvZ2dlcignd2FybicsICdhY2hpZXZlbWVudFJlZGVlbUhhbmRsZXInLCBg5om+5LiN5YiwSUTkuLogXCIke3Jld2FyZElkfVwiIOeahOWlluWKsWApO1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cblxuICAgIGNvbnN0IGN1cnJlbnRQb2ludHMgPSBfLmdldChjdXJyZW50VmFycywgJ+S4lueVjC7miJDlsLEu5oiQ5bCx54K55pWwJywgMCk7XG4gICAgaWYgKGN1cnJlbnRQb2ludHMgPCBjb3N0KSB7XG4gICAgICBsb2dnZXIoJ3dhcm4nLCAnYWNoaWV2ZW1lbnRSZWRlZW1IYW5kbGVyJywgJ+aIkOWwseeCueaVsOS4jei2s++8jOaXoOazleWFkeaNoicpO1xuICAgICAgcmV0dXJuIHt9OyAvLyDkuZ/orrjlupTor6XlnKhVSeWxgumdouWwsemYu+atoui/meS4quaTjeS9nFxuICAgIH1cblxuICAgIHJld2FyZHNbcmV3YXJkSW5kZXhdLuW6k+WtmCAtPSAxO1xuXG4gICAgY29uc3QgdXBkYXRlcyA9IHtcbiAgICAgICfkuJbnlYwu5oiQ5bCxLuWlluWKseWIl+ihqCc6IHJld2FyZHMsXG4gICAgICAn5LiW55WMLuaIkOWwsS7miJDlsLHngrnmlbAnOiBjdXJyZW50UG9pbnRzIC0gY29zdCxcbiAgICB9O1xuXG4gICAgcmV0dXJuIHVwZGF0ZXM7XG4gIH1cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/achievementSystemHandler.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/adventureCooldownHandler.ts": 
  /*!************************************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/adventureCooldownHandler.ts ***!
  \************************************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   adventureHandler: () => (/* binding */ adventureHandler),\n/* harmony export */   checkAdventureCooldown: () => (/* binding */ checkAdventureCooldown),\n/* harmony export */   initializeAdventureListener: () => (/* binding */ initializeAdventureListener)\n/* harmony export */ });\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../logger */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts\");\n/* harmony import */ var _time__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../time */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/time.ts\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ \"lodash\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _messageBus__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../messageBus */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/messageBus.ts\");\n\n\n\n\n// 定义冷却时间的范围（天数）\nconst MIN_COOLDOWN_DAYS = 30;\nconst MAX_COOLDOWN_DAYS = 90;\n/**\n * 监听时间变化或在需要时手动调用，根据奇遇冷却状态发出提示更新事件。\n * @param payload - (可选) timeChanged 事件的载荷\n */\nfunction checkAdventureCooldown(payload) {\n    if (payload) {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'AdventureCooldown', '`timeChanged` event detected, checking adventure cooldown.');\n    }\n    else {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'AdventureCooldown', 'Manual cooldown check triggered (e.g., on game load).');\n    }\n    const variables = getVariables({ type: 'chat' });\n    const adventureState = lodash__WEBPACK_IMPORTED_MODULE_2___default().get(variables, '世界.奇遇');\n    const startDate = lodash__WEBPACK_IMPORTED_MODULE_2___default().get(variables, '世界.开局日期');\n    const currentDate = lodash__WEBPACK_IMPORTED_MODULE_2___default().get(variables, '世界.当前日期');\n    if (!adventureState || !startDate || !currentDate) {\n        let missing = [];\n        if (!adventureState)\n            missing.push('世界.奇遇');\n        if (!startDate)\n            missing.push('世界.开局日期');\n        if (!currentDate)\n            missing.push('世界.当前日期');\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'AdventureCooldown', `Cooldown check failed. Missing required variables: ${missing.join(', ')}`);\n        return;\n    }\n    const coolingUntilDay = adventureState['冷却至天数'] || 0;\n    const currentDayNumber = (0,_time__WEBPACK_IMPORTED_MODULE_1__.getTotalDays)(currentDate, startDate);\n    (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'AdventureCooldown', `[CD CHECK] Current Day: ${currentDayNumber}, Cooldown Until: ${coolingUntilDay}`);\n    let adventureHint = '非奇遇时机。';\n    if (currentDayNumber >= coolingUntilDay) {\n        adventureHint = '当前时机合适，你可以酌情提议一次奇遇。';\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'AdventureCooldown', '[CD CHECK] Cooldown finished. Hint is now positive.');\n    }\n    // 发出内部事件，供 promptManager 监听\n    _messageBus__WEBPACK_IMPORTED_MODULE_3__.messageBus.emit('adventureHintUpdate', { hint: adventureHint });\n    (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'AdventureCooldown', `Emitting 'adventureHintUpdate' with hint: \"${adventureHint}\"`);\n}\n/**\n * 初始化奇遇冷却相关的事件监听器。\n */\nfunction initializeAdventureListener() {\n    _messageBus__WEBPACK_IMPORTED_MODULE_3__.messageBus.on('timeChanged', (payload) => {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'AdventureCooldown', 'MessageBus event `timeChanged` received.');\n        checkAdventureCooldown(payload);\n    });\n    (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'AdventureCooldown', 'Adventure listener initialized.');\n}\n/**\n * 处理奇遇事件，更新冷却时间并分发内部事件。\n */\nconst adventureHandler = {\n    execute: async (payload, currentVars, eventManager) => {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'AdventureHandler', 'Adventure event received, processing...', payload);\n        // 1. 冷却时间检查 (最终防线)\n        const adventureState = lodash__WEBPACK_IMPORTED_MODULE_2___default().get(currentVars, '世界.奇遇');\n        const startDate = lodash__WEBPACK_IMPORTED_MODULE_2___default().get(currentVars, '世界.开局日期');\n        const currentDate = lodash__WEBPACK_IMPORTED_MODULE_2___default().get(currentVars, '世界.当前日期');\n        if (!adventureState || !startDate || !currentDate) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'AdventureHandler', 'Cannot process adventure without state or date variables.');\n            return {};\n        }\n        const coolingUntilDay = adventureState['冷却至天数'] || 0;\n        const currentDayNumber = (0,_time__WEBPACK_IMPORTED_MODULE_1__.getTotalDays)(currentDate, startDate);\n        if (currentDayNumber < coolingUntilDay) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'AdventureHandler', `Adventure proposed by LLM during cooldown. Current day: ${currentDayNumber}, Cooldown until: ${coolingUntilDay}. Ignoring.`);\n            return {}; // 静默忽略，不执行任何操作\n        }\n        // 2. 重新分发内部事件\n        const innerEvent = payload['事件'];\n        if (innerEvent && eventManager) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'AdventureHandler', 'Re-dispatching inner event:', innerEvent);\n            // 注意：这里我们不等待内部事件的处理结果，因为adventureHandler的主要职责是更新冷却\n            // 内部事件会自行处理其状态更新\n            eventManager.processSingleEvent(innerEvent, currentVars);\n        }\n        else {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'AdventureHandler', 'Adventure event payload did not contain a valid inner event to dispatch.');\n        }\n        // 3. 更新冷却时间\n        const randomCooldown = lodash__WEBPACK_IMPORTED_MODULE_2___default().random(MIN_COOLDOWN_DAYS, MAX_COOLDOWN_DAYS);\n        const nextAdventureDay = currentDayNumber + randomCooldown;\n        const updates = {\n            '世界': {\n                '奇遇': {\n                    '冷却至天数': nextAdventureDay,\n                    '上次奇遇日期': lodash__WEBPACK_IMPORTED_MODULE_2___default().cloneDeep(currentDate), // 记录绝对日期\n                }\n            }\n        };\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'AdventureHandler', `Cooldown updated. Next adventure available after day ${nextAdventureDay}.`);\n        return updates;\n    },\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9ldmVudHMvYWR2ZW50dXJlQ29vbGRvd25IYW5kbGVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQW1DO0FBQ0k7QUFDaEI7QUFFb0I7QUFLM0MsZ0JBQWdCO0FBQ2hCLE1BQU0saUJBQWlCLEdBQUcsRUFBRSxDQUFDO0FBQzdCLE1BQU0saUJBQWlCLEdBQUcsRUFBRSxDQUFDO0FBRTdCOzs7R0FHRztBQUNJLFNBQVMsc0JBQXNCLENBQUMsT0FBNEI7SUFDakUsSUFBSSxPQUFPLEVBQUUsQ0FBQztRQUNaLCtDQUFNLENBQUMsS0FBSyxFQUFFLG1CQUFtQixFQUFFLDREQUE0RCxDQUFDLENBQUM7SUFDbkcsQ0FBQztTQUFNLENBQUM7UUFDTiwrQ0FBTSxDQUFDLEtBQUssRUFBRSxtQkFBbUIsRUFBRSx1REFBdUQsQ0FBQyxDQUFDO0lBQzlGLENBQUM7SUFFRCxNQUFNLFNBQVMsR0FBRyxZQUFZLENBQUMsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQztJQUNqRCxNQUFNLGNBQWMsR0FBRyxpREFBSyxDQUFDLFNBQVMsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUNqRCxNQUFNLFNBQVMsR0FBRyxpREFBSyxDQUFDLFNBQVMsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUM5QyxNQUFNLFdBQVcsR0FBRyxpREFBSyxDQUFDLFNBQVMsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUVoRCxJQUFJLENBQUMsY0FBYyxJQUFJLENBQUMsU0FBUyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDbEQsSUFBSSxPQUFPLEdBQUcsRUFBRSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxjQUFjO1lBQUUsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUMzQyxJQUFJLENBQUMsU0FBUztZQUFFLE9BQU8sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENB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SSxZQUFZLEVBQUUsQ0FBQztZQUMvQiwrQ0FBTSxDQUFDLEtBQUssRUFBRSxrQkFBa0IsRUFBRSw2QkFBNkIsRUFBRSxVQUFVLENBQUMsQ0FBQztZQUM3RSxtREFBbUQ7WUFDbkQsaUJBQWlCO1lBQ2pCLFlBQVksQ0FBQyxrQkFBa0IsQ0FBQyxVQUFVLEVBQUUsV0FBVyxDQUFDLENBQUM7UUFDM0QsQ0FBQzthQUFNLENBQUM7WUFDTiwrQ0FBTSxDQUFDLE1BQU0sRUFBRSxrQkFBa0IsRUFBRSwwRUFBMEUsQ0FBQyxDQUFDO1FBQ2pILENBQUM7UUFFRCxZQUFZO1FBQ1osTUFBTSxjQUFjLEdBQUcsb0RBQVEsQ0FBQyxpQkFBaUIsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO1FBQ3RFLE1BQU0sZ0JBQWdCLEdBQUcsZ0JBQWdCLEdBQUcsY0FBYyxDQUFDO1FBRTNELE1BQU0sT0FBTyxHQUFHO1lBQ2QsSUFBSSxFQUFFO2dCQUNKLElBQUksRUFBRTtvQkFDSixPQUFPLEVBQUUsZ0JBQWdCO29CQUN6QixRQUFRLEVBQUUsdURBQVcsQ0FBQyxXQUFXLENBQUMsRUFBRSxTQUFTO2lCQUM5QzthQUNGO1NBQ0YsQ0FBQztRQUVGLCtDQUFNLENBQUMsTUFBTSxFQUFFLGtCQUFrQixFQUFFLHdEQUF3RCxnQkFBZ0IsR0FBRyxDQUFDLENBQUM7UUFFaEgsT0FBTyxPQUFPLENBQUM7SUFDakIsQ0FBQztDQUNGLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlLy4vc3JjL+S7gOS5iOaIkeimgeWcqOeOhOW5u+S/ruS7meS4lueVjOenjeeUsC0w5qW854mI5pysL2NvcmUvZXZlbnRzL2FkdmVudHVyZUNvb2xkb3duSGFuZGxlci50cz8iXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyJztcbmltcG9ydCB7IGdldFRvdGFsRGF5cyB9IGZyb20gJy4uL3RpbWUnO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IEV2ZW50SGFuZGxlciB9IGZyb20gJy4uL2V2ZW50TWFuYWdlcic7XG5pbXBvcnQgeyBtZXNzYWdlQnVzIH0gZnJvbSAnLi4vbWVzc2FnZUJ1cyc7XG5pbXBvcnQgeyBUaW1lQ2hhbmdlZFBheWxvYWQgfSBmcm9tICcuL2RlZmluaXRpb25zJztcblxuZGVjbGFyZSBjb25zdCBnZXRWYXJpYWJsZXM6IChvcHRpb25zOiBhbnkpID0+IGFueTtcblxuLy8g5a6a5LmJ5Ya35Y205pe26Ze055qE6IyD5Zu077yI5aSp5pWw77yJXG5jb25zdCBNSU5fQ09PTERPV05fREFZUyA9IDMwO1xuY29uc3QgTUFYX0NPT0xET1dOX0RBWVMgPSA5MDtcblxuLyoqXG4gKiDnm5HlkKzml7bpl7Tlj5jljJbmiJblnKjpnIDopoHml7bmiYvliqjosIPnlKjvvIzmoLnmja7lpYfpgYflhrfljbTnirbmgIHlj5Hlh7rmj5DnpLrmm7TmlrDkuovku7bjgIJcbiAqIEBwYXJhbSBwYXlsb2FkIC0gKOWPr+mAiSkgdGltZUNoYW5nZWQg5LqL5Lu255qE6L296I23XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGVja0FkdmVudHVyZUNvb2xkb3duKHBheWxvYWQ/OiBUaW1lQ2hhbmdlZFBheWxvYWQpIHtcbiAgaWYgKHBheWxvYWQpIHtcbiAgICBsb2dnZXIoJ2xvZycsICdBZHZlbnR1cmVDb29sZG93bicsICdgdGltZUNoYW5nZWRgIGV2ZW50IGRldGVjdGVkLCBjaGVja2luZyBhZHZlbnR1cmUgY29vbGRvd24uJyk7XG4gIH0gZWxzZSB7XG4gICAgbG9nZ2VyKCdsb2cnLCAnQWR2ZW50dXJlQ29vbGRvd24nLCAnTWFudWFsIGNvb2xkb3duIGNoZWNrIHRyaWdnZXJlZCAoZS5nLiwgb24gZ2FtZSBsb2FkKS4nKTtcbiAgfVxuXG4gIGNvbnN0IHZhcmlhYmxlcyA9IGdldFZhcmlhYmxlcyh7IHR5cGU6ICdjaGF0JyB9KTtcbiAgY29uc3QgYWR2ZW50dXJlU3RhdGUgPSBfLmdldCh2YXJpYWJsZXMsICfkuJbnlYwu5aWH6YGHJyk7XG4gIGNvbnN0IHN0YXJ0RGF0ZSA9IF8uZ2V0KHZhcmlhYmxlcywgJ+S4lueVjC7lvIDlsYDml6XmnJ8nKTtcbiAgY29uc3QgY3VycmVudERhdGUgPSBfLmdldCh2YXJpYWJsZXMsICfkuJbnlYwu5b2T5YmN5pel5pyfJyk7XG5cbiAgaWYgKCFhZHZlbnR1cmVTdGF0ZSB8fCAhc3RhcnREYXRlIHx8ICFjdXJyZW50RGF0ZSkge1xuICAgIGxldCBtaXNzaW5nID0gW107XG4gICAgaWYgKCFhZHZlbnR1cmVTdGF0ZSkgbWlzc2luZy5wdXNoKCfkuJbnlYwu5aWH6YGHJyk7XG4gICAgaWYgKCFzdGFydERhdGUpIG1pc3NpbmcucHVzaCgn5LiW55WMLuW8gOWxgOaXpeacnycpO1xuICAgIGlmICghY3VycmVudERhdGUpIG1pc3NpbmcucHVzaCgn5LiW55WMLuW9k+WJjeaXpeacnycpO1xuICAgIGxvZ2dlcignZXJyb3InLCAnQWR2ZW50dXJlQ29vbGRvd24nLCBgQ29vbGRvd24gY2hlY2sgZmFpbGVkLiBNaXNzaW5nIHJlcXVpcmVkIHZhcmlhYmxlczogJHttaXNzaW5nLmpvaW4oJywgJyl9YCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgY29vbGluZ1VudGlsRGF5ID0gYWR2ZW50dXJlU3RhdGVbJ+WGt+WNtOiHs+WkqeaVsCddIHx8IDA7XG4gIGNvbnN0IGN1cnJlbnREYXlOdW1iZXIgPSBnZXRUb3RhbERheXMoY3VycmVudERhdGUsIHN0YXJ0RGF0ZSk7XG4gIFxuICBsb2dnZXIoJ2luZm8nLCAnQWR2ZW50dXJlQ29vbGRvd24nLCBgW0NEIENIRUNLXSBDdXJyZW50IERheTogJHtjdXJyZW50RGF5TnVtYmVyfSwgQ29vbGRvd24gVW50aWw6ICR7Y29vbGluZ1VudGlsRGF5fWApO1xuXG4gIGxldCBhZHZlbnR1cmVIaW50ID0gJ+mdnuWlh+mBh+aXtuacuuOAgic7XG4gIGlmIChjdXJyZW50RGF5TnVtYmVyID49IGNvb2xpbmdVbnRpbERheSkge1xuICAgIGFkdmVudHVyZUhpbnQgPSAn5b2T5YmN5pe25py65ZCI6YCC77yM5L2g5Y+v5Lul6YWM5oOF5o+Q6K6u5LiA5qyh5aWH6YGH44CCJztcbiAgICBsb2dnZXIoJ2luZm8nLCAnQWR2ZW50dXJlQ29vbGRvd24nLCAnW0NEIENIRUNLXSBDb29sZG93biBmaW5pc2hlZC4gSGludCBpcyBub3cgcG9zaXRpdmUuJyk7XG4gIH1cblxuICAvLyDlj5Hlh7rlhoXpg6jkuovku7bvvIzkvpsgcHJvbXB0TWFuYWdlciDnm5HlkKxcbiAgbWVzc2FnZUJ1cy5lbWl0KCdhZHZlbnR1cmVIaW50VXBkYXRlJywgeyBoaW50OiBhZHZlbnR1cmVIaW50IH0pO1xuICBsb2dnZXIoJ2xvZycsICdBZHZlbnR1cmVDb29sZG93bicsIGBFbWl0dGluZyAnYWR2ZW50dXJlSGludFVwZGF0ZScgd2l0aCBoaW50OiBcIiR7YWR2ZW50dXJlSGludH1cImApO1xufVxuXG4vKipcbiAqIOWIneWni+WMluWlh+mBh+WGt+WNtOebuOWFs+eahOS6i+S7tuebkeWQrOWZqOOAglxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZUFkdmVudHVyZUxpc3RlbmVyKCkge1xuICBtZXNzYWdlQnVzLm9uKCd0aW1lQ2hhbmdlZCcsIChwYXlsb2FkOiBUaW1lQ2hhbmdlZFBheWxvYWQpID0+IHtcbiAgICBsb2dnZXIoJ2xvZycsICdBZHZlbnR1cmVDb29sZG93bicsICdNZXNzYWdlQnVzIGV2ZW50IGB0aW1lQ2hhbmdlZGAgcmVjZWl2ZWQuJyk7XG4gICAgY2hlY2tBZHZlbnR1cmVDb29sZG93bihwYXlsb2FkKTtcbiAgfSk7XG4gIGxvZ2dlcignaW5mbycsICdBZHZlbnR1cmVDb29sZG93bicsICdBZHZlbnR1cmUgbGlzdGVuZXIgaW5pdGlhbGl6ZWQuJyk7XG59XG5cbi8qKlxuICog5aSE55CG5aWH6YGH5LqL5Lu277yM5pu05paw5Ya35Y205pe26Ze05bm25YiG5Y+R5YaF6YOo5LqL5Lu244CCXG4gKi9cbmV4cG9ydCBjb25zdCBhZHZlbnR1cmVIYW5kbGVyOiBFdmVudEhhbmRsZXIgPSB7XG4gIGV4ZWN1dGU6IGFzeW5jIChwYXlsb2FkOiBhbnksIGN1cnJlbnRWYXJzLCBldmVudE1hbmFnZXIpID0+IHtcbiAgICBsb2dnZXIoJ2xvZycsICdBZHZlbnR1cmVIYW5kbGVyJywgJ0FkdmVudHVyZSBldmVudCByZWNlaXZlZCwgcHJvY2Vzc2luZy4uLicsIHBheWxvYWQpO1xuXG4gICAgLy8gMS4g5Ya35Y205pe26Ze05qOA5p+lICjmnIDnu4jpmLLnur8pXG4gICAgY29uc3QgYWR2ZW50dXJlU3RhdGUgPSBfLmdldChjdXJyZW50VmFycywgJ+S4lueVjC7lpYfpgYcnKTtcbiAgICBjb25zdCBzdGFydERhdGUgPSBfLmdldChjdXJyZW50VmFycywgJ+S4lueVjC7lvIDlsYDml6XmnJ8nKTtcbiAgICBjb25zdCBjdXJyZW50RGF0ZSA9IF8uZ2V0KGN1cnJlbnRWYXJzLCAn5LiW55WMLuW9k+WJjeaXpeacnycpO1xuXG4gICAgaWYgKCFhZHZlbnR1cmVTdGF0ZSB8fCAhc3RhcnREYXRlIHx8ICFjdXJyZW50RGF0ZSkge1xuICAgICAgbG9nZ2VyKCd3YXJuJywgJ0FkdmVudHVyZUhhbmRsZXInLCAnQ2Fubm90IHByb2Nlc3MgYWR2ZW50dXJlIHdpdGhvdXQgc3RhdGUgb3IgZGF0ZSB2YXJpYWJsZXMuJyk7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgY29uc3QgY29vbGluZ1VudGlsRGF5ID0gYWR2ZW50dXJlU3RhdGVbJ+WGt+WNtOiHs+WkqeaVsCddIHx8IDA7XG4gICAgY29uc3QgY3VycmVudERheU51bWJlciA9IGdldFRvdGFsRGF5cyhjdXJyZW50RGF0ZSwgc3RhcnREYXRlKTtcblxuICAgIGlmIChjdXJyZW50RGF5TnVtYmVyIDwgY29vbGluZ1VudGlsRGF5KSB7XG4gICAgICBsb2dnZXIoJ3dhcm4nLCAnQWR2ZW50dXJlSGFuZGxlcicsIGBBZHZlbnR1cmUgcHJvcG9zZWQgYnkgTExNIGR1cmluZyBjb29sZG93bi4gQ3VycmVudCBkYXk6ICR7Y3VycmVudERheU51bWJlcn0sIENvb2xkb3duIHVudGlsOiAke2Nvb2xpbmdVbnRpbERheX0uIElnbm9yaW5nLmApO1xuICAgICAgcmV0dXJuIHt9OyAvLyDpnZnpu5jlv73nlaXvvIzkuI3miafooYzku7vkvZXmk43kvZxcbiAgICB9XG5cbiAgICAvLyAyLiDph43mlrDliIblj5HlhoXpg6jkuovku7ZcbiAgICBjb25zdCBpbm5lckV2ZW50ID0gcGF5bG9hZFsn5LqL5Lu2J107XG4gICAgaWYgKGlubmVyRXZlbnQgJiYgZXZlbnRNYW5hZ2VyKSB7XG4gICAgICBsb2dnZXIoJ2xvZycsICdBZHZlbnR1cmVIYW5kbGVyJywgJ1JlLWRpc3BhdGNoaW5nIGlubmVyIGV2ZW50OicsIGlubmVyRXZlbnQpO1xuICAgICAgLy8g5rOo5oSP77ya6L+Z6YeM5oiR5Lus5LiN562J5b6F5YaF6YOo5LqL5Lu255qE5aSE55CG57uT5p6c77yM5Zug5Li6YWR2ZW50dXJlSGFuZGxlcueahOS4u+imgeiBjOi0o+aYr+abtOaWsOWGt+WNtFxuICAgICAgLy8g5YaF6YOo5LqL5Lu25Lya6Ieq6KGM5aSE55CG5YW254q25oCB5pu05pawXG4gICAgICBldmVudE1hbmFnZXIucHJvY2Vzc1NpbmdsZUV2ZW50KGlubmVyRXZlbnQsIGN1cnJlbnRWYXJzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9nZ2VyKCd3YXJuJywgJ0FkdmVudHVyZUhhbmRsZXInLCAnQWR2ZW50dXJlIGV2ZW50IHBheWxvYWQgZGlkIG5vdCBjb250YWluIGEgdmFsaWQgaW5uZXIgZXZlbnQgdG8gZGlzcGF0Y2guJyk7XG4gICAgfVxuXG4gICAgLy8gMy4g5pu05paw5Ya35Y205pe26Ze0XG4gICAgY29uc3QgcmFuZG9tQ29vbGRvd24gPSBfLnJhbmRvbShNSU5fQ09PTERPV05fREFZUywgTUFYX0NPT0xET1dOX0RBWVMpO1xuICAgIGNvbnN0IG5leHRBZHZlbnR1cmVEYXkgPSBjdXJyZW50RGF5TnVtYmVyICsgcmFuZG9tQ29vbGRvd247XG5cbiAgICBjb25zdCB1cGRhdGVzID0ge1xuICAgICAgJ+S4lueVjCc6IHtcbiAgICAgICAgJ+Wlh+mBhyc6IHtcbiAgICAgICAgICAn5Ya35Y206Iez5aSp5pWwJzogbmV4dEFkdmVudHVyZURheSxcbiAgICAgICAgICAn5LiK5qyh5aWH6YGH5pel5pyfJzogXy5jbG9uZURlZXAoY3VycmVudERhdGUpLCAvLyDorrDlvZXnu53lr7nml6XmnJ9cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBsb2dnZXIoJ2luZm8nLCAnQWR2ZW50dXJlSGFuZGxlcicsIGBDb29sZG93biB1cGRhdGVkLiBOZXh0IGFkdmVudHVyZSBhdmFpbGFibGUgYWZ0ZXIgZGF5ICR7bmV4dEFkdmVudHVyZURheX0uYCk7XG5cbiAgICByZXR1cm4gdXBkYXRlcztcbiAgfSxcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/adventureCooldownHandler.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/barterSystemHandler.ts": 
  /*!*******************************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/barterSystemHandler.ts ***!
  \*******************************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   barterSystemUpdateHandler: () => (/* binding */ barterSystemUpdateHandler)\n/* harmony export */ });\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../logger */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts\");\n\nconst barterSystemUpdateHandler = {\n    execute: (payload, currentVars) => {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'barterSystemUpdateHandler', 'Processing barter system update', payload);\n        const currentDate = currentVars.世界.当前日期;\n        if (!currentDate) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'barterSystemUpdateHandler', 'Cannot update barter system without a valid game date.');\n            return {};\n        }\n        const currentDay = (currentDate.年 - 1) * 360 + (currentDate.月 - 1) * 30 + currentDate.日;\n        let itemsToUpdate = [];\n        // 兼容两种 payload 格式\n        if (Array.isArray(payload)) {\n            itemsToUpdate = payload;\n        }\n        else if (payload && Array.isArray(payload.物品)) {\n            itemsToUpdate = payload.物品;\n        }\n        else {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'barterSystemUpdateHandler', 'Invalid payload structure received.', payload);\n            return {}; // 返回空更新\n        }\n        // 构建对聊天变量的增量更新\n        const update = {\n            世界: {\n                以物换物: {\n                    可换取的物品: itemsToUpdate,\n                    上次刷新天数: currentDay,\n                }\n            }\n        };\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'barterSystemUpdateHandler', 'Generated incremental update for chat variables:', update);\n        return update;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9ldmVudHMvYmFydGVyU3lzdGVtSGFuZGxlci50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUVtQztBQWtCNUIsTUFBTSx5QkFBeUIsR0FBaUI7SUFDbkQsT0FBTyxFQUFFLENBQUMsT0FBc0IsRUFBRSxXQUEyQyxFQUFFLEVBQUU7UUFDN0UsK0NBQU0sQ0FBQyxNQUFNLEVBQUUsMkJBQTJCLEVBQUUsaUNBQWlDLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFFeEYsTUFBTSxXQUFXLEdBQUcsV0FBVyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7UUFDeEMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ2YsK0NBQU0sQ0FBQyxPQUFPLEVBQUUsMkJBQTJCLEVBQUUsd0RBQXdELENBQUMsQ0FBQztZQUN2RyxPQUFPLEVBQUUsQ0FBQztRQUNkLENBQUM7UUFDRCxNQUFNLFVBQVUsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsV0FBVyxDQUFDLENBQUMsQ0FBQztRQUV4RixJQUFJLGFBQWEsR0FBaUIsRUFBRSxDQUFDO1FBRXJDLGtCQUFrQjtRQUNsQixJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQztZQUN6QixhQUFhLEdBQUcsT0FBTyxDQUFDO1FBQzVCLENBQUM7YUFBTSxJQUFJLE9BQU8sSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO1lBQzlDLGFBQWEsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDO1FBQy9CLENBQUM7YUFBTSxDQUFDO1lBQ0osK0NBQU0sQ0FBQyxNQUFNLEVBQUUsMkJBQTJCLEVBQUUscUNBQXFDLEVBQUUsT0FBTyxDQUFDLENBQUM7WUFDNUYsT0FBTyxFQUFFLENBQUMsQ0FBQyxRQUFRO1FBQ3ZCLENBQUM7UUFFRCxlQUFlO1FBQ2YsTUFBTSxNQUFNLEdBQUc7WUFDWCxFQUFFLEVBQUU7Z0JBQ0EsSUFBSSxFQUFFO29CQUNGLE1BQU0sRUFBRSxhQUFhO29CQUNyQixNQUFNLEVBQUUsVUFBVTtpQkFDckI7YUFDSjtTQUNKLENBQUM7UUFFRiwrQ0FBTSxDQUFDLE1BQU0sRUFBRSwyQkFBMkIsRUFBRSxrREFBa0QsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUV4RyxPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDO0NBQ0osQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9ldmVudHMvYmFydGVyU3lzdGVtSGFuZGxlci50cz8iXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSUNoYXJhY3RlciwgSVdvcmxkIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xyXG5pbXBvcnQgeyBFdmVudEhhbmRsZXIgfSBmcm9tICcuLi9ldmVudE1hbmFnZXInO1xyXG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xyXG5cclxuLy8g5a6a5LmJ5LqL5Lu2IHBheWxvYWQg55qE5Y+v6IO957uT5p6EXHJcbmludGVyZmFjZSBCYXJ0ZXJJdGVtIHtcclxuICAgIOWQjeensDogc3RyaW5nO1xyXG4gICAg5o+P6L+wOiBzdHJpbmc7XHJcbiAgICDku7flgLw/OiBhbnk7XHJcbiAgICDlk4HpmLY/OiBzdHJpbmc7XHJcbiAgICDlupPlrZg/OiBudW1iZXI7XHJcbn1cclxuXHJcbmludGVyZmFjZSBCYXJ0ZXJQYXlsb2FkVjEge1xyXG4gICAg5o+Q56S6Pzogc3RyaW5nO1xyXG4gICAg54mp5ZOBOiBCYXJ0ZXJJdGVtW107XHJcbn1cclxuXHJcbnR5cGUgQmFydGVyUGF5bG9hZCA9IEJhcnRlclBheWxvYWRWMSB8IEJhcnRlckl0ZW1bXTtcclxuXHJcbmV4cG9ydCBjb25zdCBiYXJ0ZXJTeXN0ZW1VcGRhdGVIYW5kbGVyOiBFdmVudEhhbmRsZXIgPSB7XHJcbiAgICBleGVjdXRlOiAocGF5bG9hZDogQmFydGVyUGF5bG9hZCwgY3VycmVudFZhcnM6IHsg6KeS6ImyOiBJQ2hhcmFjdGVyLCDkuJbnlYw6IElXb3JsZCB9KSA9PiB7XHJcbiAgICAgICAgbG9nZ2VyKCdpbmZvJywgJ2JhcnRlclN5c3RlbVVwZGF0ZUhhbmRsZXInLCAnUHJvY2Vzc2luZyBiYXJ0ZXIgc3lzdGVtIHVwZGF0ZScsIHBheWxvYWQpO1xyXG5cclxuICAgICAgICBjb25zdCBjdXJyZW50RGF0ZSA9IGN1cnJlbnRWYXJzLuS4lueVjC7lvZPliY3ml6XmnJ87XHJcbiAgICAgICAgaWYgKCFjdXJyZW50RGF0ZSkge1xyXG4gICAgICAgICAgICBsb2dnZXIoJ2Vycm9yJywgJ2JhcnRlclN5c3RlbVVwZGF0ZUhhbmRsZXInLCAnQ2Fubm90IHVwZGF0ZSBiYXJ0ZXIgc3lzdGVtIHdpdGhvdXQgYSB2YWxpZCBnYW1lIGRhdGUuJyk7XHJcbiAgICAgICAgICAgIHJldHVybiB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY3VycmVudERheSA9IChjdXJyZW50RGF0ZS7lubQgLSAxKSAqIDM2MCArIChjdXJyZW50RGF0ZS7mnIggLSAxKSAqIDMwICsgY3VycmVudERhdGUu5pelO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBpdGVtc1RvVXBkYXRlOiBCYXJ0ZXJJdGVtW10gPSBbXTtcclxuXHJcbiAgICAgICAgLy8g5YW85a655Lik56eNIHBheWxvYWQg5qC85byPXHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGF5bG9hZCkpIHtcclxuICAgICAgICAgICAgaXRlbXNUb1VwZGF0ZSA9IHBheWxvYWQ7XHJcbiAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkICYmIEFycmF5LmlzQXJyYXkocGF5bG9hZC7nianlk4EpKSB7XHJcbiAgICAgICAgICAgIGl0ZW1zVG9VcGRhdGUgPSBwYXlsb2FkLueJqeWTgTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsb2dnZXIoJ3dhcm4nLCAnYmFydGVyU3lzdGVtVXBkYXRlSGFuZGxlcicsICdJbnZhbGlkIHBheWxvYWQgc3RydWN0dXJlIHJlY2VpdmVkLicsIHBheWxvYWQpO1xyXG4gICAgICAgICAgICByZXR1cm4ge307IC8vIOi/lOWbnuepuuabtOaWsFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g5p6E5bu65a+56IGK5aSp5Y+Y6YeP55qE5aKe6YeP5pu05pawXHJcbiAgICAgICAgY29uc3QgdXBkYXRlID0ge1xyXG4gICAgICAgICAgICDkuJbnlYw6IHtcclxuICAgICAgICAgICAgICAgIOS7peeJqeaNoueJqToge1xyXG4gICAgICAgICAgICAgICAgICAgIOWPr+aNouWPlueahOeJqeWTgTogaXRlbXNUb1VwZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICDkuIrmrKHliLfmlrDlpKnmlbA6IGN1cnJlbnREYXksXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBsb2dnZXIoJ2luZm8nLCAnYmFydGVyU3lzdGVtVXBkYXRlSGFuZGxlcicsICdHZW5lcmF0ZWQgaW5jcmVtZW50YWwgdXBkYXRlIGZvciBjaGF0IHZhcmlhYmxlczonLCB1cGRhdGUpO1xyXG5cclxuICAgICAgICByZXR1cm4gdXBkYXRlO1xyXG4gICAgfVxyXG59O1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/barterSystemHandler.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/characterUpdateHandler.ts": 
  /*!**********************************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/characterUpdateHandler.ts ***!
  \**********************************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handleCharacterUpdate: () => (/* binding */ handleCharacterUpdate)\n/* harmony export */ });\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../logger */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts\");\n\nconst handleCharacterUpdate = {\n    execute: (payload, currentVars) => {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'characterUpdateHandler', 'Calculating character update', payload);\n        const characterName = payload.姓名;\n        const updates = payload.更新;\n        if (!characterName) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'characterUpdateHandler', 'Character name is missing in the payload.');\n            return {};\n        }\n        // 构建正确的更新路径\n        const updateObject = {\n            角色: {\n                [characterName]: updates\n            }\n        };\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'characterUpdateHandler', 'Constructed update object:', updateObject);\n        return updateObject;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9ldmVudHMvY2hhcmFjdGVyVXBkYXRlSGFuZGxlci50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUVtQztBQUk1QixNQUFNLHFCQUFxQixHQUFpQjtJQUMvQyxPQUFPLEVBQUUsQ0FBQyxPQUFnRCxFQUFFLFdBQTJDLEVBQUUsRUFBRTtRQUN2RywrQ0FBTSxDQUFDLEtBQUssRUFBRSx3QkFBd0IsRUFBRSw4QkFBOEIsRUFBRSxPQUFPLENBQUMsQ0FBQztRQUVqRixNQUFNLGFBQWEsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDO1FBQ2pDLE1BQU0sT0FBTyxHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUM7UUFFM0IsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1lBQ2pCLCtDQUFNLENBQUMsT0FBTyxFQUFFLHdCQUF3QixFQUFFLDJDQUEyQyxDQUFDLENBQUM7WUFDdkYsT0FBTyxFQUFFLENBQUM7UUFDZCxDQUFDO1FBRUQsWUFBWTtRQUNaLE1BQU0sWUFBWSxHQUFHO1lBQ2pCLEVBQUUsRUFBRTtnQkFDQSxDQUFDLGFBQWEsQ0FBQyxFQUFFLE9BQU87YUFDM0I7U0FDSixDQUFDO1FBRUYsK0NBQU0sQ0FBQyxNQUFNLEVBQUUsd0JBQXdCLEVBQUUsNEJBQTRCLEVBQUUsWUFBWSxDQUFDLENBQUM7UUFFckYsT0FBTyxZQUFZLENBQUM7SUFDeEIsQ0FBQztDQUNKLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlLy4vc3JjL+S7gOS5iOaIkeimgeWcqOeOhOW5u+S/ruS7meS4lueVjOenjeeUsC0w5qW854mI5pysL2NvcmUvZXZlbnRzL2NoYXJhY3RlclVwZGF0ZUhhbmRsZXIudHM/Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElDaGFyYWN0ZXIsIElXb3JsZCB9IGZyb20gJy4uLy4uL3R5cGVzJztcclxuaW1wb3J0IHsgRXZlbnRIYW5kbGVyIH0gZnJvbSAnLi4vZXZlbnRNYW5hZ2VyJztcclxuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyJztcclxuXHJcbmRlY2xhcmUgY29uc3QgXzogYW55O1xyXG5cclxuZXhwb3J0IGNvbnN0IGhhbmRsZUNoYXJhY3RlclVwZGF0ZTogRXZlbnRIYW5kbGVyID0ge1xyXG4gICAgZXhlY3V0ZTogKHBheWxvYWQ6IHsg5aeT5ZCNOiBzdHJpbmcsIOabtOaWsDogUGFydGlhbDxJQ2hhcmFjdGVyPiB9LCBjdXJyZW50VmFyczogeyDop5LoibI6IElDaGFyYWN0ZXIsIOS4lueVjDogSVdvcmxkIH0pID0+IHtcclxuICAgICAgICBsb2dnZXIoJ2xvZycsICdjaGFyYWN0ZXJVcGRhdGVIYW5kbGVyJywgJ0NhbGN1bGF0aW5nIGNoYXJhY3RlciB1cGRhdGUnLCBwYXlsb2FkKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJOYW1lID0gcGF5bG9hZC7lp5PlkI07XHJcbiAgICAgICAgY29uc3QgdXBkYXRlcyA9IHBheWxvYWQu5pu05pawO1xyXG5cclxuICAgICAgICBpZiAoIWNoYXJhY3Rlck5hbWUpIHtcclxuICAgICAgICAgICAgbG9nZ2VyKCdlcnJvcicsICdjaGFyYWN0ZXJVcGRhdGVIYW5kbGVyJywgJ0NoYXJhY3RlciBuYW1lIGlzIG1pc3NpbmcgaW4gdGhlIHBheWxvYWQuJyk7XHJcbiAgICAgICAgICAgIHJldHVybiB7fTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIOaehOW7uuato+ehrueahOabtOaWsOi3r+W+hFxyXG4gICAgICAgIGNvbnN0IHVwZGF0ZU9iamVjdCA9IHtcclxuICAgICAgICAgICAg6KeS6ImyOiB7XHJcbiAgICAgICAgICAgICAgICBbY2hhcmFjdGVyTmFtZV06IHVwZGF0ZXNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGxvZ2dlcignaW5mbycsICdjaGFyYWN0ZXJVcGRhdGVIYW5kbGVyJywgJ0NvbnN0cnVjdGVkIHVwZGF0ZSBvYmplY3Q6JywgdXBkYXRlT2JqZWN0KTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gdXBkYXRlT2JqZWN0O1xyXG4gICAgfVxyXG59O1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/characterUpdateHandler.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/itemChangeHandler.ts": 
  /*!*****************************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/itemChangeHandler.ts ***!
  \*****************************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handleItemChange: () => (/* binding */ handleItemChange)\n/* harmony export */ });\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../logger */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts\");\n\nconst handleItemChange = {\n    execute: (payload, currentVars, eventManager, pokedexManager) => {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'itemChangeHandler', 'Calculating item change update', payload);\n        const mainCharacterName = currentVars.角色.主控角色名;\n        const characterItems = _.cloneDeep(currentVars.角色[mainCharacterName]?.物品 || []);\n        // 处理获得的物品\n        if (payload.获得) {\n            for (const itemToAdd of payload.获得) {\n                const existingItem = characterItems.find((i) => i.名称 === itemToAdd.名称);\n                if (existingItem) {\n                    existingItem.数量 = (existingItem.数量 || 1) + (itemToAdd.数量 || 1);\n                }\n                else {\n                    characterItems.push({ ...itemToAdd, 数量: itemToAdd.数量 || 1 });\n                }\n            }\n        }\n        // 处理失去的物品\n        if (payload.失去) {\n            for (const itemToRemove of payload.失去) {\n                const existingItem = characterItems.find((i) => i.名称 === itemToRemove.名称);\n                if (existingItem) {\n                    existingItem.数量 = (existingItem.数量 || 1) - (itemToRemove.数量 || 1);\n                    if (existingItem.数量 <= 0) {\n                        _.remove(characterItems, (i) => i.名称 === itemToRemove.名称);\n                    }\n                }\n            }\n        }\n        // 处理更新的物品\n        if (payload.更新) {\n            for (const itemToUpdate of payload.更新) {\n                const existingItem = characterItems.find((i) => i.名称 === itemToUpdate.名称);\n                if (existingItem) {\n                    _.merge(existingItem, itemToUpdate.更新);\n                }\n            }\n        }\n        const updates = {\n            '角色': {\n                [mainCharacterName]: {\n                    物品: characterItems\n                }\n            }\n        };\n        return updates;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9ldmVudHMvaXRlbUNoYW5nZUhhbmRsZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFbUM7QUFHNUIsTUFBTSxnQkFBZ0IsR0FBaUI7SUFDMUMsT0FBTyxFQUFFLENBQUMsT0FBK0MsRUFBRSxXQUErQyxFQUFFLFlBQTJCLEVBQUUsY0FBK0IsRUFBRSxFQUFFO1FBQ3hLLCtDQUFNLENBQUMsS0FBSyxFQUFFLG1CQUFtQixFQUFFLGdDQUFnQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBRTlFLE1BQU0saUJBQWlCLEdBQUcsV0FBVyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7UUFDL0MsTUFBTSxjQUFjLEdBQUcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLGlCQUFpQixDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO1FBRWhGLFVBQVU7UUFDVixJQUFJLE9BQU8sQ0FBQyxFQUFFLEVBQUUsQ0FBQztZQUNiLEtBQUssTUFBTSxTQUFTLElBQUksT0FBTyxDQUFDLEVBQUUsRUFBRSxDQUFDO2dCQUNqQyxNQUFNLFlBQVksR0FBRyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBTSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQztnQkFDNUUsSUFBSSxZQUFZLEVBQUUsQ0FBQztvQkFDZixZQUFZLENBQUMsRUFBRSxHQUFHLENBQUMsWUFBWSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7Z0JBQ25FLENBQUM7cUJBQU0sQ0FBQztvQkFDSixjQUFjLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxTQUFTLEVBQUUsRUFBRSxFQUFFLFNBQVMsQ0FBQyxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztnQkFDakUsQ0FBQztZQUNMLENBQUM7UUFDTCxDQUFDO1FBRUQsVUFBVTtRQUNWLElBQUksT0FBTyxDQUFDLEVBQUUsRUFBRSxDQUFDO1lBQ2IsS0FBSyxNQUFNLFlBQVksSUFBSSxPQUFPLENBQUMsRUFBRSxFQUFFLENBQUM7Z0JBQ3BDLE1BQU0sWUFBWSxHQUFHLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFNLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssWUFBWSxDQUFDLEVBQUUsQ0FBQyxDQUFDO2dCQUMvRSxJQUFJLFlBQVksRUFBRSxDQUFDO29CQUNmLFlBQVksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxZQUFZLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztvQkFDbEUsSUFBSSxZQUFZLENBQUMsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDO3dCQUN2QixDQUFDLENBQUMsTUFBTSxDQUFDLGNBQWMsRUFBRSxDQUFDLENBQU0sRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxZQUFZLENBQUMsRUFBRSxDQUFDLENBQUM7b0JBQ25FLENBQUM7Z0JBQ0wsQ0FBQztZQUNMLENBQUM7UUFDTCxDQUFDO1FBRUQsVUFBVTtRQUNWLElBQUksT0FBTyxDQUFDLEVBQUUsRUFBRSxDQUFDO1lBQ2IsS0FBSyxNQUFNLFlBQVksSUFBSSxPQUFPLENBQUMsRUFBRSxFQUFFLENBQUM7Z0JBQ3BDLE1BQU0sWUFBWSxHQUFHLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFNLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssWUFBWSxDQUFDLEVBQUUsQ0FBQyxDQUFDO2dCQUMvRSxJQUFJLFlBQVksRUFBRSxDQUFDO29CQUNmLENBQUMsQ0FBQyxLQUFLLENBQUMsWUFBWSxFQUFFLFlBQVksQ0FBQyxFQUFFLENBQUMsQ0FBQztnQkFDM0MsQ0FBQztZQUNMLENBQUM7UUFDTCxDQUFDO1FBRUQsTUFBTSxPQUFPLEdBQUc7WUFDWixJQUFJLEVBQUU7Z0JBQ0YsQ0FBQyxpQkFBaUIsQ0FBQyxFQUFFO29CQUNqQixFQUFFLEVBQUUsY0FBYztpQkFDckI7YUFDSjtTQUNKLENBQUM7UUFFRixPQUFPLE9BQU8sQ0FBQztJQUNuQixDQUFDO0NBQ0osQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9ldmVudHMvaXRlbUNoYW5nZUhhbmRsZXIudHM/Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElDaGFyYWN0ZXIsIElXb3JsZCB9IGZyb20gJy4uLy4uL3R5cGVzJztcclxuaW1wb3J0IHsgRXZlbnRNYW5hZ2VyLCBFdmVudEhhbmRsZXIgfSBmcm9tICcuLi9ldmVudE1hbmFnZXInO1xyXG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xyXG5pbXBvcnQgeyBQb2tlZGV4TWFuYWdlciB9IGZyb20gJy4uL3Bva2VkZXgnO1xyXG5cclxuZXhwb3J0IGNvbnN0IGhhbmRsZUl0ZW1DaGFuZ2U6IEV2ZW50SGFuZGxlciA9IHtcclxuICAgIGV4ZWN1dGU6IChwYXlsb2FkOiB7IOiOt+W+lz86IGFueVtdLCDlpLHljrs/OiBhbnlbXSwg5pu05pawPzogYW55W10gfSwgY3VycmVudFZhcnM6IHsgJ+inkuiJsic6IElDaGFyYWN0ZXIsICfkuJbnlYwnOiBJV29ybGQgfSwgZXZlbnRNYW5hZ2VyPzogRXZlbnRNYW5hZ2VyLCBwb2tlZGV4TWFuYWdlcj86IFBva2VkZXhNYW5hZ2VyKSA9PiB7XHJcbiAgICAgICAgbG9nZ2VyKCdsb2cnLCAnaXRlbUNoYW5nZUhhbmRsZXInLCAnQ2FsY3VsYXRpbmcgaXRlbSBjaGFuZ2UgdXBkYXRlJywgcGF5bG9hZCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgbWFpbkNoYXJhY3Rlck5hbWUgPSBjdXJyZW50VmFycy7op5LoibIu5Li75o6n6KeS6Imy5ZCNO1xyXG4gICAgICAgIGNvbnN0IGNoYXJhY3Rlckl0ZW1zID0gXy5jbG9uZURlZXAoY3VycmVudFZhcnMu6KeS6ImyW21haW5DaGFyYWN0ZXJOYW1lXT8u54mp5ZOBIHx8IFtdKTtcclxuXHJcbiAgICAgICAgLy8g5aSE55CG6I635b6X55qE54mp5ZOBXHJcbiAgICAgICAgaWYgKHBheWxvYWQu6I635b6XKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbVRvQWRkIG9mIHBheWxvYWQu6I635b6XKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ0l0ZW0gPSBjaGFyYWN0ZXJJdGVtcy5maW5kKChpOiBhbnkpID0+IGku5ZCN56ewID09PSBpdGVtVG9BZGQu5ZCN56ewKTtcclxuICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ0l0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBleGlzdGluZ0l0ZW0u5pWw6YePID0gKGV4aXN0aW5nSXRlbS7mlbDph48gfHwgMSkgKyAoaXRlbVRvQWRkLuaVsOmHjyB8fCAxKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVySXRlbXMucHVzaCh7IC4uLml0ZW1Ub0FkZCwg5pWw6YePOiBpdGVtVG9BZGQu5pWw6YePIHx8IDEgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIOWkhOeQhuWkseWOu+eahOeJqeWTgVxyXG4gICAgICAgIGlmIChwYXlsb2FkLuWkseWOuykge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW1Ub1JlbW92ZSBvZiBwYXlsb2FkLuWkseWOuykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdJdGVtID0gY2hhcmFjdGVySXRlbXMuZmluZCgoaTogYW55KSA9PiBpLuWQjeensCA9PT0gaXRlbVRvUmVtb3ZlLuWQjeensCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdJdGVtLuaVsOmHjyA9IChleGlzdGluZ0l0ZW0u5pWw6YePIHx8IDEpIC0gKGl0ZW1Ub1JlbW92ZS7mlbDph48gfHwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nSXRlbS7mlbDph48gPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfLnJlbW92ZShjaGFyYWN0ZXJJdGVtcywgKGk6IGFueSkgPT4gaS7lkI3np7AgPT09IGl0ZW1Ub1JlbW92ZS7lkI3np7ApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g5aSE55CG5pu05paw55qE54mp5ZOBXHJcbiAgICAgICAgaWYgKHBheWxvYWQu5pu05pawKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbVRvVXBkYXRlIG9mIHBheWxvYWQu5pu05pawKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ0l0ZW0gPSBjaGFyYWN0ZXJJdGVtcy5maW5kKChpOiBhbnkpID0+IGku5ZCN56ewID09PSBpdGVtVG9VcGRhdGUu5ZCN56ewKTtcclxuICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ0l0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBfLm1lcmdlKGV4aXN0aW5nSXRlbSwgaXRlbVRvVXBkYXRlLuabtOaWsCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHVwZGF0ZXMgPSB7XHJcbiAgICAgICAgICAgICfop5LoibInOiB7XHJcbiAgICAgICAgICAgICAgICBbbWFpbkNoYXJhY3Rlck5hbWVdOiB7XHJcbiAgICAgICAgICAgICAgICAgICAg54mp5ZOBOiBjaGFyYWN0ZXJJdGVtc1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHVwZGF0ZXM7XHJcbiAgICB9XHJcbn07XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/itemChangeHandler.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/pokedexDiscoveryHandler.ts": 
  /*!***********************************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/pokedexDiscoveryHandler.ts ***!
  \***********************************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handlePokedexDiscovery: () => (/* binding */ handlePokedexDiscovery)\n/* harmony export */ });\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../logger */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts\");\n\nconst handlePokedexDiscovery = {\n    execute: (payload, currentVars, eventManager, pokedexManager) => {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'pokedexDiscoveryHandler', 'Processing pokedex discovery event. Raw payload:', {\n            type: typeof payload,\n            content: JSON.stringify(payload),\n        });\n        if (!pokedexManager) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'pokedexDiscoveryHandler', 'PokedexManager not available. Skipping discovery.');\n            return {};\n        }\n        const { 类型: type, 数据: data } = payload;\n        // --- 增强的验证逻辑开始 ---\n        if (!payload) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'pokedexDiscoveryHandler', 'Invalid payload: payload is null or undefined.');\n            return {};\n        }\n        const validTypes = ['妖兽', '植物', '物品', '书籍'];\n        if (!type || !validTypes.includes(type)) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'pokedexDiscoveryHandler', `Invalid payload: \"类型\" is missing or invalid. Expected one of ${validTypes.join(', ')}, but got \"${type}\".`, payload);\n            return {};\n        }\n        if (!data) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'pokedexDiscoveryHandler', `Invalid payload: \"数据\" field is missing for type \"${type}\".`, payload);\n            return {};\n        }\n        // --- 增强的验证逻辑结束 ---\n        const entries = Array.isArray(data) ? data : [data];\n        // --- 增强的条目验证 ---\n        for (const entry of entries) {\n            if (!entry.名称) {\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'pokedexDiscoveryHandler', `Invalid entry in \"数据\": an entry is missing the \"名称\" field.`, entry);\n                return {}; // 发现无效条目，终止处理\n            }\n        }\n        const updates = {};\n        updates.世界 = {\n            图鉴: _.cloneDeep(currentVars.世界.图鉴)\n        };\n        for (const entry of entries) {\n            // 检查图鉴中是否已存在该条目\n            const existingEntry = updates.世界.图鉴[type]?.find((e) => e.名称 === entry.名称);\n            if (!existingEntry) {\n                // 健壮性修复：确保目标数组存在\n                if (!Array.isArray(updates.世界.图鉴[type])) {\n                    updates.世界.图鉴[type] = [];\n                }\n                updates.世界.图鉴[type].push(entry);\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'pokedexDiscoveryHandler', `Added new pokedex entry for \"${entry.名称}\" in \"${type}\" to chat variables.`);\n                // 同时尝试更新内存中的全局图鉴\n                const success = pokedexManager.createPokedexEntry(type, entry);\n                if (success) {\n                    (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'pokedexDiscoveryHandler', `Successfully created new pokedex entry for \"${entry.名称}\" in memory.`);\n                }\n                else {\n                    (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'pokedexDiscoveryHandler', `Failed to create new pokedex entry for \"${entry.名称}\" in memory (it might already exist).`);\n                }\n            }\n            else {\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'pokedexDiscoveryHandler', `Entry for \"${entry.名称}\" in \"${type}\" already exists in chat variables. Skipping.`);\n            }\n        }\n        return updates;\n    },\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9ldmVudHMvcG9rZWRleERpc2NvdmVyeUhhbmRsZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFbUM7QUFNNUIsTUFBTSxzQkFBc0IsR0FBaUI7SUFDbEQsT0FBTyxFQUFFLENBQUMsT0FBK0QsRUFBRSxXQUEyQyxFQUFFLFlBQTJCLEVBQUUsY0FBK0IsRUFBRSxFQUFFO1FBQ3RMLCtDQUFNLENBQUMsS0FBSyxFQUFFLHlCQUF5QixFQUFFLGtEQUFrRCxFQUFFO1lBQ3pGLElBQUksRUFBRSxPQUFPLE9BQU87WUFDcEIsT0FBTyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDO1NBQ25DLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUNwQiwrQ0FBTSxDQUFDLE1BQU0sRUFBRSx5QkFBeUIsRUFBRSxtREFBbUQsQ0FBQyxDQUFDO1lBQy9GLE9BQU8sRUFBRSxDQUFDO1FBQ1osQ0FBQztRQUVELE1BQU0sRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsR0FBRyxPQUFPLENBQUM7UUFFdkMsb0JBQW9CO1FBQ3BCLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUNiLCtDQUFNLENBQUMsT0FBTyxFQUFFLHlCQUF5QixFQUFFLGdEQUFnRCxDQUFDLENBQUM7WUFDN0YsT0FBTyxFQUFFLENBQUM7UUFDWixDQUFDO1FBRUQsTUFBTSxVQUFVLEdBQWtCLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDM0QsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztZQUN4QywrQ0FBTSxDQUFDLE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxnRUFBZ0UsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxJQUFJLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztZQUNqSyxPQUFPLEVBQUUsQ0FBQztRQUNaLENBQUM7UUFFRCxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDViwrQ0FBTSxDQUFDLE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxvREFBb0QsSUFBSSxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7WUFDbEgsT0FBTyxFQUFFLENBQUM7UUFDWixDQUFDO1FBQ0Qsb0JBQW9CO1FBQ3BCLE1BQU0sT0FBTyxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUVwRCxrQkFBa0I7UUFDbEIsS0FBSyxNQUFNLEtBQUssSUFBSSxPQUFPLEVBQUUsQ0FBQztZQUM1QixJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsRUFBRSxDQUFDO2dCQUNkLCtDQUFNLENBQUMsT0FBTyxFQUFFLHlCQUF5QixFQUFFLDREQUE0RCxFQUFFLEtBQUssQ0FBQyxDQUFDO2dCQUNoSCxPQUFPLEVBQUUsQ0FBQyxDQUFDLGNBQWM7WUFDM0IsQ0FBQztRQUNILENBQUM7UUFFRCxNQUFNLE9BQU8sR0FBK0QsRUFBRSxDQUFDO1FBRS9FLE9BQU8sQ0FBQyxFQUFFLEdBQUc7WUFDWCxFQUFFLEVBQUUsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztTQUNuQyxDQUFDO1FBRUYsS0FBSyxNQUFNLEtBQUssSUFBSSxPQUFPLEVBQUUsQ0FBQztZQUM1QixnQkFBZ0I7WUFDbEIsTUFBTSxhQUFhLEdBQUcsT0FBTyxDQUFDLEVBQUcsQ0FBQyxFQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBZSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUV4RixJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7Z0JBQ25CLGlCQUFpQjtnQkFDakIsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEVBQUcsQ0FBQyxFQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDO29CQUMxQyxPQUFPLENBQUMsRUFBRyxDQUFDLEVBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7Z0JBQzdCLENBQUM7Z0JBQ0QsT0FBTyxDQUFDLEVBQUcsQ0FBQyxFQUFHLENBQUMsSUFBSSxDQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUNuQywrQ0FBTSxDQUFDLE1BQU0sRUFBRSx5QkFBeUIsRUFBRSxnQ0FBZ0MsS0FBSyxDQUFDLEVBQUUsU0FBUyxJQUFJLHNCQUFzQixDQUFDLENBQUM7Z0JBRXZILGlCQUFpQjtnQkFDakIsTUFBTSxPQUFPLEdBQUcsY0FBYyxDQUFDLGtCQUFrQixDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztnQkFDL0QsSUFBSSxPQUFPLEVBQUUsQ0FBQztvQkFDWiwrQ0FBTSxDQUFDLE1BQU0sRUFBRSx5QkFBeUIsRUFBRSwrQ0FBK0MsS0FBSyxDQUFDLEVBQUUsY0FBYyxDQUFDLENBQUM7Z0JBQ25ILENBQUM7cUJBQU0sQ0FBQztvQkFDTiwrQ0FBTSxDQUFDLE1BQU0sRUFBRSx5QkFBeUIsRUFBRSwyQ0FBMkMsS0FBSyxDQUFDLEVBQUUsdUNBQXVDLENBQUMsQ0FBQztnQkFDeEksQ0FBQztZQUNILENBQUM7aUJBQU0sQ0FBQztnQkFDTiwrQ0FBTSxDQUFDLEtBQUssRUFBRSx5QkFBeUIsRUFBRSxjQUFjLEtBQUssQ0FBQyxFQUFFLFNBQVMsSUFBSSwrQ0FBK0MsQ0FBQyxDQUFDO1lBQy9ILENBQUM7UUFDSCxDQUFDO1FBRUQsT0FBTyxPQUFPLENBQUM7SUFDakIsQ0FBQztDQUNGLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlLy4vc3JjL+S7gOS5iOaIkeimgeWcqOeOhOW5u+S/ruS7meS4lueVjOenjeeUsC0w5qW854mI5pysL2NvcmUvZXZlbnRzL3Bva2VkZXhEaXNjb3ZlcnlIYW5kbGVyLnRzPyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJQ2hhcmFjdGVyLCBJV29ybGQgfSBmcm9tICcuLi8uLi90eXBlcyc7XHJcbmltcG9ydCB7IEV2ZW50TWFuYWdlciwgRXZlbnRIYW5kbGVyIH0gZnJvbSAnLi4vZXZlbnRNYW5hZ2VyJztcclxuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyJztcclxuaW1wb3J0IHsgUG9rZWRleEVudHJ5LCBQb2tlZGV4TWFuYWdlciwgUG9rZWRleFR5cGUgfSBmcm9tICcuLi9wb2tlZGV4JztcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxuZGVjbGFyZSBjb25zdCBfOiBhbnk7XHJcblxyXG5leHBvcnQgY29uc3QgaGFuZGxlUG9rZWRleERpc2NvdmVyeTogRXZlbnRIYW5kbGVyID0ge1xyXG4gIGV4ZWN1dGU6IChwYXlsb2FkOiB7IOexu+WeizogUG9rZWRleFR5cGU7IOaVsOaNrjogUG9rZWRleEVudHJ5IHwgUG9rZWRleEVudHJ5W10gfSwgY3VycmVudFZhcnM6IHsg6KeS6ImyOiBJQ2hhcmFjdGVyLCDkuJbnlYw6IElXb3JsZCB9LCBldmVudE1hbmFnZXI/OiBFdmVudE1hbmFnZXIsIHBva2VkZXhNYW5hZ2VyPzogUG9rZWRleE1hbmFnZXIpID0+IHtcclxuICAgIGxvZ2dlcignbG9nJywgJ3Bva2VkZXhEaXNjb3ZlcnlIYW5kbGVyJywgJ1Byb2Nlc3NpbmcgcG9rZWRleCBkaXNjb3ZlcnkgZXZlbnQuIFJhdyBwYXlsb2FkOicsIHtcclxuICAgICAgICB0eXBlOiB0eXBlb2YgcGF5bG9hZCxcclxuICAgICAgICBjb250ZW50OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghcG9rZWRleE1hbmFnZXIpIHtcclxuICAgICAgbG9nZ2VyKCd3YXJuJywgJ3Bva2VkZXhEaXNjb3ZlcnlIYW5kbGVyJywgJ1Bva2VkZXhNYW5hZ2VyIG5vdCBhdmFpbGFibGUuIFNraXBwaW5nIGRpc2NvdmVyeS4nKTtcclxuICAgICAgcmV0dXJuIHt9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsg57G75Z6LOiB0eXBlLCDmlbDmja46IGRhdGEgfSA9IHBheWxvYWQ7XHJcblxyXG4gICAgLy8gLS0tIOWinuW8uueahOmqjOivgemAu+i+keW8gOWniyAtLS1cclxuICAgIGlmICghcGF5bG9hZCkge1xyXG4gICAgICBsb2dnZXIoJ2Vycm9yJywgJ3Bva2VkZXhEaXNjb3ZlcnlIYW5kbGVyJywgJ0ludmFsaWQgcGF5bG9hZDogcGF5bG9hZCBpcyBudWxsIG9yIHVuZGVmaW5lZC4nKTtcclxuICAgICAgcmV0dXJuIHt9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHZhbGlkVHlwZXM6IFBva2VkZXhUeXBlW10gPSBbJ+WmluWFvScsICfmpI3niaknLCAn54mp5ZOBJywgJ+S5puexjSddO1xyXG4gICAgaWYgKCF0eXBlIHx8ICF2YWxpZFR5cGVzLmluY2x1ZGVzKHR5cGUpKSB7XHJcbiAgICAgIGxvZ2dlcignZXJyb3InLCAncG9rZWRleERpc2NvdmVyeUhhbmRsZXInLCBgSW52YWxpZCBwYXlsb2FkOiBcIuexu+Wei1wiIGlzIG1pc3Npbmcgb3IgaW52YWxpZC4gRXhwZWN0ZWQgb25lIG9mICR7dmFsaWRUeXBlcy5qb2luKCcsICcpfSwgYnV0IGdvdCBcIiR7dHlwZX1cIi5gLCBwYXlsb2FkKTtcclxuICAgICAgcmV0dXJuIHt9O1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghZGF0YSkge1xyXG4gICAgICBsb2dnZXIoJ2Vycm9yJywgJ3Bva2VkZXhEaXNjb3ZlcnlIYW5kbGVyJywgYEludmFsaWQgcGF5bG9hZDogXCLmlbDmja5cIiBmaWVsZCBpcyBtaXNzaW5nIGZvciB0eXBlIFwiJHt0eXBlfVwiLmAsIHBheWxvYWQpO1xyXG4gICAgICByZXR1cm4ge307XHJcbiAgICB9XHJcbiAgICAvLyAtLS0g5aKe5by655qE6aqM6K+B6YC76L6R57uT5p2fIC0tLVxyXG4gICAgY29uc3QgZW50cmllcyA9IEFycmF5LmlzQXJyYXkoZGF0YSkgPyBkYXRhIDogW2RhdGFdO1xyXG5cclxuICAgIC8vIC0tLSDlop7lvLrnmoTmnaHnm67pqozor4EgLS0tXHJcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcclxuICAgICAgaWYgKCFlbnRyeS7lkI3np7ApIHtcclxuICAgICAgICBsb2dnZXIoJ2Vycm9yJywgJ3Bva2VkZXhEaXNjb3ZlcnlIYW5kbGVyJywgYEludmFsaWQgZW50cnkgaW4gXCLmlbDmja5cIjogYW4gZW50cnkgaXMgbWlzc2luZyB0aGUgXCLlkI3np7BcIiBmaWVsZC5gLCBlbnRyeSk7XHJcbiAgICAgICAgcmV0dXJuIHt9OyAvLyDlj5HnjrDml6DmlYjmnaHnm67vvIznu4jmraLlpITnkIZcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHVwZGF0ZXM6IFBhcnRpYWw8eyDop5LoibI6IFBhcnRpYWw8SUNoYXJhY3Rlcj47IOS4lueVjDogUGFydGlhbDxJV29ybGQ+OyB9PiA9IHt9O1xyXG5cclxuICAgIHVwZGF0ZXMu5LiW55WMID0ge1xyXG4gICAgICDlm77pibQ6IF8uY2xvbmVEZWVwKGN1cnJlbnRWYXJzLuS4lueVjC7lm77pibQpXHJcbiAgICB9O1xyXG5cclxuICAgIGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcykge1xyXG4gICAgICAvLyDmo4Dmn6Xlm77pibTkuK3mmK/lkKblt7LlrZjlnKjor6XmnaHnm65cclxuICAgIGNvbnN0IGV4aXN0aW5nRW50cnkgPSB1cGRhdGVzLuS4lueVjCEu5Zu+6Ym0IVt0eXBlXT8uZmluZCgoZTogUG9rZWRleEVudHJ5KSA9PiBlLuWQjeensCA9PT0gZW50cnku5ZCN56ewKTtcclxuXHJcbiAgICAgIGlmICghZXhpc3RpbmdFbnRyeSkge1xyXG4gICAgICAgIC8vIOWBpeWjruaAp+S/ruWkje+8muehruS/neebruagh+aVsOe7hOWtmOWcqFxyXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh1cGRhdGVzLuS4lueVjCEu5Zu+6Ym0IVt0eXBlXSkpIHtcclxuICAgICAgICAgIHVwZGF0ZXMu5LiW55WMIS7lm77pibQhW3R5cGVdID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHVwZGF0ZXMu5LiW55WMIS7lm77pibQhW3R5cGVdIS5wdXNoKGVudHJ5KTtcclxuICAgICAgICBsb2dnZXIoJ2luZm8nLCAncG9rZWRleERpc2NvdmVyeUhhbmRsZXInLCBgQWRkZWQgbmV3IHBva2VkZXggZW50cnkgZm9yIFwiJHtlbnRyeS7lkI3np7B9XCIgaW4gXCIke3R5cGV9XCIgdG8gY2hhdCB2YXJpYWJsZXMuYCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8g5ZCM5pe25bCd6K+V5pu05paw5YaF5a2Y5Lit55qE5YWo5bGA5Zu+6Ym0XHJcbiAgICAgICAgY29uc3Qgc3VjY2VzcyA9IHBva2VkZXhNYW5hZ2VyLmNyZWF0ZVBva2VkZXhFbnRyeSh0eXBlLCBlbnRyeSk7XHJcbiAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcclxuICAgICAgICAgIGxvZ2dlcignaW5mbycsICdwb2tlZGV4RGlzY292ZXJ5SGFuZGxlcicsIGBTdWNjZXNzZnVsbHkgY3JlYXRlZCBuZXcgcG9rZWRleCBlbnRyeSBmb3IgXCIke2VudHJ5LuWQjeensH1cIiBpbiBtZW1vcnkuYCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGxvZ2dlcignd2FybicsICdwb2tlZGV4RGlzY292ZXJ5SGFuZGxlcicsIGBGYWlsZWQgdG8gY3JlYXRlIG5ldyBwb2tlZGV4IGVudHJ5IGZvciBcIiR7ZW50cnku5ZCN56ewfVwiIGluIG1lbW9yeSAoaXQgbWlnaHQgYWxyZWFkeSBleGlzdCkuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGxvZ2dlcignbG9nJywgJ3Bva2VkZXhEaXNjb3ZlcnlIYW5kbGVyJywgYEVudHJ5IGZvciBcIiR7ZW50cnku5ZCN56ewfVwiIGluIFwiJHt0eXBlfVwiIGFscmVhZHkgZXhpc3RzIGluIGNoYXQgdmFyaWFibGVzLiBTa2lwcGluZy5gKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB1cGRhdGVzO1xyXG4gIH0sXHJcbn07XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/pokedexDiscoveryHandler.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/questHandler.ts": 
  /*!************************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/questHandler.ts ***!
  \************************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   newQuestHandler: () => (/* binding */ newQuestHandler),\n/* harmony export */   questCompletionHandler: () => (/* binding */ questCompletionHandler),\n/* harmony export */   questFailureHandler: () => (/* binding */ questFailureHandler),\n/* harmony export */   questProgressHandler: () => (/* binding */ questProgressHandler)\n/* harmony export */ });\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../logger */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts\");\n\nconst newQuestHandler = {\n    execute: async (payload, currentVars, eventManager, pokedexManager) => {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'questHandler', 'Calculating new quest update', payload);\n        const questList = _.cloneDeep(_.get(currentVars, '世界.任务列表', []));\n        const newQuest = { ...payload, '状态': '进行中' };\n        if (!newQuest.id) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'questHandler', '[newQuestHandler] Invalid quest data received, missing \"id\".', newQuest);\n            return {};\n        }\n        if (questList.some((q) => q.id === newQuest.id)) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'questHandler', `[newQuestHandler] Quest with id \"${newQuest.id}\" already exists.`);\n            return {};\n        }\n        questList.push(newQuest);\n        toastr.info(`接到新任务：${newQuest['名称']}`);\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'questHandler', 'New quest calculated:', newQuest);\n        return {\n            世界: {\n                任务列表: questList\n            }\n        };\n    },\n};\nconst questProgressHandler = {\n    execute: async (payload, currentVars, eventManager, pokedexManager) => {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'questHandler', 'Calculating quest progress update', payload);\n        const questList = _.cloneDeep(_.get(currentVars, '世界.任务列表', []));\n        const { id, 进度, 描述 } = payload;\n        if (!id) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'questHandler', '[questProgressHandler] Invalid event data, missing \"id\".', payload);\n            return {};\n        }\n        const quest = questList.find((q) => q.id === id);\n        if (!quest) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'questHandler', `[questProgressHandler] Quest with id \"${id}\" not found.`);\n            return {};\n        }\n        if (进度)\n            quest['进度'] = 进度;\n        if (描述)\n            quest['描述'] = 描述;\n        toastr.info(`任务【${quest['名称']}】进度更新！`);\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'questHandler', `Quest \"${id}\" progress update calculated.`);\n        return {\n            世界: {\n                任务列表: questList\n            }\n        };\n    },\n};\nconst questCompletionHandler = {\n    execute: async (payload, currentVars, eventManager, pokedexManager) => {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'questHandler', 'Calculating quest completion update', payload);\n        const questList = _.cloneDeep(_.get(currentVars, '世界.任务列表', []));\n        const { id } = payload;\n        if (!id) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'questHandler', '[questCompletionHandler] Invalid event data, missing \"id\".', payload);\n            return {};\n        }\n        const quest = questList.find((q) => q.id === id);\n        if (!quest) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'questHandler', `[questCompletionHandler] Quest with id \"${id}\" not found.`);\n            return {};\n        }\n        quest['状态'] = '已完成';\n        toastr.success(`任务【${quest['名称']}】已完成！`);\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'questHandler', `Quest \"${id}\" status change to \"已完成\" calculated.`);\n        return {\n            世界: {\n                任务列表: questList\n            }\n        };\n    },\n};\nconst questFailureHandler = {\n    execute: async (payload, currentVars, eventManager, pokedexManager) => {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'questHandler', 'Calculating quest failure update', payload);\n        const questList = _.cloneDeep(_.get(currentVars, '世界.任务列表', []));\n        const { id } = payload;\n        if (!id) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'questHandler', '[questFailureHandler] Invalid event data, missing \"id\".', payload);\n            return {};\n        }\n        const quest = questList.find((q) => q.id === id);\n        if (!quest) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'questHandler', `[questFailureHandler] Quest with id \"${id}\" not found.`);\n            return {};\n        }\n        quest['状态'] = '失败';\n        toastr.error(`任务【${quest['名称']}】已失败！`);\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'questHandler', `Quest \"${id}\" status change to \"失败\" calculated.`);\n        return {\n            世界: {\n                任务列表: questList\n            }\n        };\n    },\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9ldmVudHMvcXVlc3RIYW5kbGVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBR21DO0FBS25DLE1BQU0sZUFBZSxHQUFpQjtJQUNsQyxPQUFPLEVBQUUsS0FBSyxFQUFFLE9BQVksRUFBRSxXQUEyQyxFQUFFLFlBQTJCLEVBQUUsY0FBK0IsRUFBdUUsRUFBRTtRQUM1TSwrQ0FBTSxDQUFDLEtBQUssRUFBRSxjQUFjLEVBQUUsOEJBQThCLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkUsTUFBTSxTQUFTLEdBQUcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUVqRSxNQUFNLFFBQVEsR0FBRyxFQUFFLEdBQUcsT0FBTyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsQ0FBQztRQUM3QyxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUUsRUFBRSxDQUFDO1lBQ2YsK0NBQU0sQ0FBQyxPQUFPLEVBQUUsY0FBYyxFQUFFLDhEQUE4RCxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBQzFHLE9BQU8sRUFBRSxDQUFDO1FBQ2QsQ0FBQztRQUVELElBQUksU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQU0sRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxRQUFRLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztZQUNuRCwrQ0FBTSxDQUFDLE1BQU0sRUFBRSxjQUFjLEVBQUUsb0NBQW9DLFFBQVEsQ0FBQyxFQUFFLG1CQUFtQixDQUFDLENBQUM7WUFDbkcsT0FBTyxFQUFFLENBQUM7UUFDZCxDQUFDO1FBRUQsU0FBUyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN6QixNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsUUFBUSxDQUFDLElBQUksQ0FBQyxF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RUFBRSxDQUFDO1FBQ2QsQ0FBQztRQUVELEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUM7UUFFbkIsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDdkMsK0NBQU0sQ0FBQyxLQUFLLEVBQUUsY0FBYyxFQUFFLFVBQVUsRUFBRSxxQ0FBcUMsQ0FBQyxDQUFDO1FBRWpGLE9BQU87WUFDSCxFQUFFLEVBQUU7Z0JBQ0EsSUFBSSxFQUFFLFNBQVM7YUFDbEI7U0FDSixDQUFDO0lBQ04sQ0FBQztDQUNKLENBQUM7QUFFNEYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlLy4vc3JjL+S7gOS5iOaIkeimgeWcqOeOhOW5u+S/ruS7meS4lueVjOenjeeUsC0w5qW854mI5pysL2NvcmUvZXZlbnRzL3F1ZXN0SGFuZGxlci50cz8iXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSUNoYXJhY3RlciwgSVdvcmxkIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuaW1wb3J0IHsgRXZlbnRNYW5hZ2VyLCBFdmVudEhhbmRsZXIgfSBmcm9tICcuLi9ldmVudE1hbmFnZXInO1xuaW1wb3J0IHsgUG9rZWRleE1hbmFnZXIgfSBmcm9tICcuLi9wb2tlZGV4JztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5cbmRlY2xhcmUgY29uc3QgXzogYW55O1xuZGVjbGFyZSBjb25zdCB0b2FzdHI6IGFueTtcblxuY29uc3QgbmV3UXVlc3RIYW5kbGVyOiBFdmVudEhhbmRsZXIgPSB7XG4gICAgZXhlY3V0ZTogYXN5bmMgKHBheWxvYWQ6IGFueSwgY3VycmVudFZhcnM6IHsg6KeS6ImyOiBJQ2hhcmFjdGVyLCDkuJbnlYw6IElXb3JsZCB9LCBldmVudE1hbmFnZXI/OiBFdmVudE1hbmFnZXIsIHBva2VkZXhNYW5hZ2VyPzogUG9rZWRleE1hbmFnZXIpOiBQcm9taXNlPFBhcnRpYWw8eyDop5LoibI6IFBhcnRpYWw8SUNoYXJhY3Rlcj47IOS4lueVjDogUGFydGlhbDxJV29ybGQ+OyB9Pj4gPT4ge1xuICAgICAgICBsb2dnZXIoJ2xvZycsICdxdWVzdEhhbmRsZXInLCAnQ2FsY3VsYXRpbmcgbmV3IHF1ZXN0IHVwZGF0ZScsIHBheWxvYWQpO1xuICAgICAgICBjb25zdCBxdWVzdExpc3QgPSBfLmNsb25lRGVlcChfLmdldChjdXJyZW50VmFycywgJ+S4lueVjC7ku7vliqHliJfooagnLCBbXSkpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgbmV3UXVlc3QgPSB7IC4uLnBheWxvYWQsICfnirbmgIEnOiAn6L+b6KGM5LitJyB9O1xuICAgICAgICBpZiAoIW5ld1F1ZXN0LmlkKSB7XG4gICAgICAgICAgICBsb2dnZXIoJ2Vycm9yJywgJ3F1ZXN0SGFuZGxlcicsICdbbmV3UXVlc3RIYW5kbGVyXSBJbnZhbGlkIHF1ZXN0IGRhdGEgcmVjZWl2ZWQsIG1pc3NpbmcgXCJpZFwiLicsIG5ld1F1ZXN0KTtcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChxdWVzdExpc3Quc29tZSgocTogYW55KSA9PiBxLmlkID09PSBuZXdRdWVzdC5pZCkpIHtcbiAgICAgICAgICAgIGxvZ2dlcignd2FybicsICdxdWVzdEhhbmRsZXInLCBgW25ld1F1ZXN0SGFuZGxlcl0gUXVlc3Qgd2l0aCBpZCBcIiR7bmV3UXVlc3QuaWR9XCIgYWxyZWFkeSBleGlzdHMuYCk7XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cblxuICAgICAgICBxdWVzdExpc3QucHVzaChuZXdRdWVzdCk7XG4gICAgICAgIHRvYXN0ci5pbmZvKGDmjqXliLDmlrDku7vliqHvvJoke25ld1F1ZXN0WyflkI3np7AnXX1gKTtcbiAgICAgICAgbG9nZ2VyKCdsb2cnLCAncXVlc3RIYW5kbGVyJywgJ05ldyBxdWVzdCBjYWxjdWxhdGVkOicsIG5ld1F1ZXN0KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAg5LiW55WMOiB7XG4gICAgICAgICAgICAgICAg5Lu75Yqh5YiX6KGoOiBxdWVzdExpc3RcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LFxufTtcblxuY29uc3QgcXVlc3RQcm9ncmVzc0hhbmRsZXI6IEV2ZW50SGFuZGxlciA9IHtcbiAgICBleGVjdXRlOiBhc3luYyAocGF5bG9hZDogYW55LCBjdXJyZW50VmFyczogeyDop5LoibI6IElDaGFyYWN0ZXIsIOS4lueVjDogSVdvcmxkIH0sIGV2ZW50TWFuYWdlcj86IEV2ZW50TWFuYWdlciwgcG9rZWRleE1hbmFnZXI/OiBQb2tlZGV4TWFuYWdlcik6IFByb21pc2U8UGFydGlhbDx7IOinkuiJsjogUGFydGlhbDxJQ2hhcmFjdGVyPjsg5LiW55WMOiBQYXJ0aWFsPElXb3JsZD47IH0+PiA9PiB7XG4gICAgICAgIGxvZ2dlcignbG9nJywgJ3F1ZXN0SGFuZGxlcicsICdDYWxjdWxhdGluZyBxdWVzdCBwcm9ncmVzcyB1cGRhdGUnLCBwYXlsb2FkKTtcbiAgICAgICAgY29uc3QgcXVlc3RMaXN0ID0gXy5jbG9uZURlZXAoXy5nZXQoY3VycmVudFZhcnMsICfkuJbnlYwu5Lu75Yqh5YiX6KGoJywgW10pKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHsgaWQsIOi/m+W6piwg5o+P6L+wIH0gPSBwYXlsb2FkO1xuICAgICAgICBpZiAoIWlkKSB7XG4gICAgICAgICAgICBsb2dnZXIoJ2Vycm9yJywgJ3F1ZXN0SGFuZGxlcicsICdbcXVlc3RQcm9ncmVzc0hhbmRsZXJdIEludmFsaWQgZXZlbnQgZGF0YSwgbWlzc2luZyBcImlkXCIuJywgcGF5bG9hZCk7XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBxdWVzdCA9IHF1ZXN0TGlzdC5maW5kKChxOiBhbnkpID0+IHEuaWQgPT09IGlkKTtcbiAgICAgICAgaWYgKCFxdWVzdCkge1xuICAgICAgICAgICAgbG9nZ2VyKCd3YXJuJywgJ3F1ZXN0SGFuZGxlcicsIGBbcXVlc3RQcm9ncmVzc0hhbmRsZXJdIFF1ZXN0IHdpdGggaWQgXCIke2lkfVwiIG5vdCBmb3VuZC5gKTtcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICjov5vluqYpIHF1ZXN0Wyfov5vluqYnXSA9IOi/m+W6pjtcbiAgICAgICAgaWYgKOaPj+i/sCkgcXVlc3RbJ+aPj+i/sCddID0g5o+P6L+wO1xuICAgICAgICBcbiAgICAgICAgdG9hc3RyLmluZm8oYOS7u+WKoeOAkCR7cXVlc3RbJ+WQjeensCddfeOAkei/m+W6puabtOaWsO+8gWApO1xuICAgICAgICBsb2dnZXIoJ2xvZycsICdxdWVzdEhhbmRsZXInLCBgUXVlc3QgXCIke2lkfVwiIHByb2dyZXNzIHVwZGF0ZSBjYWxjdWxhdGVkLmApO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICDkuJbnlYw6IHtcbiAgICAgICAgICAgICAgICDku7vliqHliJfooag6IHF1ZXN0TGlzdFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0sXG59O1xuXG5jb25zdCBxdWVzdENvbXBsZXRpb25IYW5kbGVyOiBFdmVudEhhbmRsZXIgPSB7XG4gICAgZXhlY3V0ZTogYXN5bmMgKHBheWxvYWQ6IGFueSwgY3VycmVudFZhcnM6IHsg6KeS6ImyOiBJQ2hhcmFjdGVyLCDkuJbnlYw6IElXb3JsZCB9LCBldmVudE1hbmFnZXI/OiBFdmVudE1hbmFnZXIsIHBva2VkZXhNYW5hZ2VyPzogUG9rZWRleE1hbmFnZXIpOiBQcm9taXNlPFBhcnRpYWw8eyDop5LoibI6IFBhcnRpYWw8SUNoYXJhY3Rlcj47IOS4lueVjDogUGFydGlhbDxJV29ybGQ+OyB9Pj4gPT4ge1xuICAgICAgICBsb2dnZXIoJ2xvZycsICdxdWVzdEhhbmRsZXInLCAnQ2FsY3VsYXRpbmcgcXVlc3QgY29tcGxldGlvbiB1cGRhdGUnLCBwYXlsb2FkKTtcbiAgICAgICAgY29uc3QgcXVlc3RMaXN0ID0gXy5jbG9uZURlZXAoXy5nZXQoY3VycmVudFZhcnMsICfkuJbnlYwu5Lu75Yqh5YiX6KGoJywgW10pKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHsgaWQgfSA9IHBheWxvYWQ7XG4gICAgICAgIGlmICghaWQpIHtcbiAgICAgICAgICAgIGxvZ2dlcignZXJyb3InLCAncXVlc3RIYW5kbGVyJywgJ1txdWVzdENvbXBsZXRpb25IYW5kbGVyXSBJbnZhbGlkIGV2ZW50IGRhdGEsIG1pc3NpbmcgXCJpZFwiLicsIHBheWxvYWQpO1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcXVlc3QgPSBxdWVzdExpc3QuZmluZCgocTogYW55KSA9PiBxLmlkID09PSBpZCk7XG4gICAgICAgIGlmICghcXVlc3QpIHtcbiAgICAgICAgICAgIGxvZ2dlcignd2FybicsICdxdWVzdEhhbmRsZXInLCBgW3F1ZXN0Q29tcGxldGlvbkhhbmRsZXJdIFF1ZXN0IHdpdGggaWQgXCIke2lkfVwiIG5vdCBmb3VuZC5gKTtcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIHF1ZXN0WyfnirbmgIEnXSA9ICflt7LlrozmiJAnO1xuXG4gICAgICAgIHRvYXN0ci5zdWNjZXNzKGDku7vliqHjgJAke3F1ZXN0WyflkI3np7AnXX3jgJHlt7LlrozmiJDvvIFgKTtcbiAgICAgICAgbG9nZ2VyKCdsb2cnLCAncXVlc3RIYW5kbGVyJywgYFF1ZXN0IFwiJHtpZH1cIiBzdGF0dXMgY2hhbmdlIHRvIFwi5bey5a6M5oiQXCIgY2FsY3VsYXRlZC5gKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAg5LiW55WMOiB7XG4gICAgICAgICAgICAgICAg5Lu75Yqh5YiX6KGoOiBxdWVzdExpc3RcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LFxufTtcblxuY29uc3QgcXVlc3RGYWlsdXJlSGFuZGxlcjogRXZlbnRIYW5kbGVyID0ge1xuICAgIGV4ZWN1dGU6IGFzeW5jIChwYXlsb2FkOiBhbnksIGN1cnJlbnRWYXJzOiB7IOinkuiJsjogSUNoYXJhY3Rlciwg5LiW55WMOiBJV29ybGQgfSwgZXZlbnRNYW5hZ2VyPzogRXZlbnRNYW5hZ2VyLCBwb2tlZGV4TWFuYWdlcj86IFBva2VkZXhNYW5hZ2VyKTogUHJvbWlzZTxQYXJ0aWFsPHsg6KeS6ImyOiBQYXJ0aWFsPElDaGFyYWN0ZXI+OyDkuJbnlYw6IFBhcnRpYWw8SVdvcmxkPjsgfT4+ID0+IHtcbiAgICAgICAgbG9nZ2VyKCdsb2cnLCAncXVlc3RIYW5kbGVyJywgJ0NhbGN1bGF0aW5nIHF1ZXN0IGZhaWx1cmUgdXBkYXRlJywgcGF5bG9hZCk7XG4gICAgICAgIGNvbnN0IHF1ZXN0TGlzdCA9IF8uY2xvbmVEZWVwKF8uZ2V0KGN1cnJlbnRWYXJzLCAn5LiW55WMLuS7u+WKoeWIl+ihqCcsIFtdKSk7XG5cbiAgICAgICAgY29uc3QgeyBpZCB9ID0gcGF5bG9hZDtcbiAgICAgICAgaWYgKCFpZCkge1xuICAgICAgICAgICAgbG9nZ2VyKCdlcnJvcicsICdxdWVzdEhhbmRsZXInLCAnW3F1ZXN0RmFpbHVyZUhhbmRsZXJdIEludmFsaWQgZXZlbnQgZGF0YSwgbWlzc2luZyBcImlkXCIuJywgcGF5bG9hZCk7XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBxdWVzdCA9IHF1ZXN0TGlzdC5maW5kKChxOiBhbnkpID0+IHEuaWQgPT09IGlkKTtcbiAgICAgICAgaWYgKCFxdWVzdCkge1xuICAgICAgICAgICAgbG9nZ2VyKCd3YXJuJywgJ3F1ZXN0SGFuZGxlcicsIGBbcXVlc3RGYWlsdXJlSGFuZGxlcl0gUXVlc3Qgd2l0aCBpZCBcIiR7aWR9XCIgbm90IGZvdW5kLmApO1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgcXVlc3RbJ+eKtuaAgSddID0gJ+Wksei0pSc7XG5cbiAgICAgICAgdG9hc3RyLmVycm9yKGDku7vliqHjgJAke3F1ZXN0WyflkI3np7AnXX3jgJHlt7LlpLHotKXvvIFgKTtcbiAgICAgICAgbG9nZ2VyKCdsb2cnLCAncXVlc3RIYW5kbGVyJywgYFF1ZXN0IFwiJHtpZH1cIiBzdGF0dXMgY2hhbmdlIHRvIFwi5aSx6LSlXCIgY2FsY3VsYXRlZC5gKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAg5LiW55WMOiB7XG4gICAgICAgICAgICAgICAg5Lu75Yqh5YiX6KGoOiBxdWVzdExpc3RcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LFxufTtcblxuZXhwb3J0IHsgbmV3UXVlc3RIYW5kbGVyLCBxdWVzdENvbXBsZXRpb25IYW5kbGVyLCBxdWVzdEZhaWx1cmVIYW5kbGVyLCBxdWVzdFByb2dyZXNzSGFuZGxlciB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/questHandler.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/shelterHandler.ts": 
  /*!**************************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/shelterHandler.ts ***!
  \**************************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initializeShelterListener: () => (/* binding */ initializeShelterListener),\n/* harmony export */   shelterHandler: () => (/* binding */ shelterHandler)\n/* harmony export */ });\n/* harmony import */ var _variables__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../variables */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/variables.ts\");\n/* harmony import */ var _data_shelter_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../data/shelter-data */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/data/shelter-data.ts\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../logger */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts\");\n/* harmony import */ var _messageBus__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../messageBus */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/messageBus.ts\");\n\n\n\n\n// 这是一个简化的辅助函数，实际项目中可能需要更复杂的实现\nconst consumeMaterials = (materials) => {\n    // TODO: 实现检查并消耗玩家物品栏中的材料\n    (0,_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('warn', 'shelterHandler', '`consumeMaterials` is a placeholder and does not actually consume items yet.');\n    return true; // 暂时总是返回成功\n};\n// 将数值转换为描述性文本\nconst mapValueToDescription = (value, mapping) => {\n    const keys = Object.keys(mapping).map(Number).sort((a, b) => a - b);\n    for (let i = keys.length - 1; i >= 0; i--) {\n        if (value >= keys[i]) {\n            return mapping[keys[i]];\n        }\n    }\n    return keys.length > 0 ? mapping[keys[0]] : '未知';\n};\n// 核心处理器\nconst shelterHandler = {\n    // 处理LLM生成的事件\n    async execute(payload, currentVars) {\n        const { 指令, 组件ID, 等级, 数量, 描述 } = payload;\n        const shelterState = currentVars.世界.庇护所;\n        switch (指令) {\n            case '庇护所建造':\n            case '庇护所升级':\n                return await handleUpgrade(组件ID, 等级, shelterState);\n            case '庇护所修复':\n                return handleRepair(组件ID, 数量, shelterState);\n            case '庇护所受损':\n                return handleDamage(组件ID, 数量, shelterState);\n            case '庇护所攻击':\n                return handleAttack(数量, shelterState);\n            default:\n                (0,_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('warn', 'shelterHandler', `Unknown shelter command: ${指令}`);\n                return {};\n        }\n    },\n    // 处理由时间变化驱动的环境效果\n    handleTimeChange: (hoursPassed) => {\n        const currentVars = (0,_variables__WEBPACK_IMPORTED_MODULE_0__.getVariables)();\n        const shelter = currentVars.World.庇护所;\n        const weather = currentVars.World.天气;\n        let hasChanged = false;\n        // 1. 耐久度衰减\n        for (const componentId in shelter.组件) {\n            const component = shelter.组件[componentId];\n            if (component.状态 !== '未建造' && component.耐久度) {\n                // 基础衰减 + 天气影响 (简化)\n                let decay = 0.1 * (hoursPassed / 6); // 每6个时辰(1天)衰减0.1\n                if (weather.当前天气.includes('雨') || weather.当前天气.includes('雪')) {\n                    decay *= 2;\n                }\n                const oldDurability = parseFloat(component.耐久度.replace('%', '')) || 100;\n                const newDurability = Math.max(0, oldDurability - decay);\n                if (oldDurability !== newDurability) {\n                    // @ts-ignore\n                    component.耐久度 = `${newDurability.toFixed(2)}%`;\n                    hasChanged = true;\n                    _messageBus__WEBPACK_IMPORTED_MODULE_3__.messageBus.emit('shelterDamaged', { componentId, damageAmount: decay });\n                }\n            }\n        }\n        // 2. 资源产出 (简化)\n        ['农田', '药园'].forEach(type => {\n            // @ts-ignore\n            const component = shelter.组件[type];\n            if (component && component.状态 === '种植中') {\n                // TODO: 实现资源产出逻辑\n                // eventEmit('shelterResourceProduced', { resourceId: component.作物, quantity: 1 });\n            }\n        });\n        if (hasChanged) {\n            const finalUpdates = calculateCompositeAttributes(shelter);\n            updateVariablesWith((vars) => {\n                vars.世界.庇护所 = finalUpdates;\n                return vars;\n            }, { type: 'chat' });\n        }\n    }\n};\n// --- 事件处理的具体实现 ---\nasync function handleUpgrade(componentId, level, shelter) {\n    // @ts-ignore\n    const componentData = _data_shelter_data__WEBPACK_IMPORTED_MODULE_1__.SHELTER_COMPONENTS_DATA[componentId];\n    if (!componentData) {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('error', 'shelterHandler', `Invalid component ID for upgrade: ${componentId}`);\n        return {};\n    }\n    const upgradeData = componentData.upgrades[level];\n    if (!upgradeData) {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('error', 'shelterHandler', `Invalid level for ${componentId}: ${level}`);\n        return {};\n    }\n    if (consumeMaterials(upgradeData.materials)) {\n        // @ts-ignore\n        shelter.组件[componentId].规模 = level;\n        // @ts-ignore\n        shelter.组件[componentId].状态 = '完好无损'; // 假设升级/建造后是完好的\n        // @ts-ignore\n        shelter.组件[componentId].耐久度 = '100%';\n        _messageBus__WEBPACK_IMPORTED_MODULE_3__.messageBus.emit('shelterUpgraded', { componentId, newLevel: parseInt(level, 10) || 0 });\n        const finalUpdates = calculateCompositeAttributes(shelter);\n        return { 世界: { 庇护所: finalUpdates } };\n    }\n    else {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('warn', 'shelterHandler', `Not enough materials to upgrade ${componentId} to level ${level}`);\n        // TODO: 可以考虑给LLM返回一个失败的事件\n        return {};\n    }\n}\nfunction handleRepair(componentId, amount, shelter) {\n    // @ts-ignore\n    const component = shelter.组件[componentId];\n    if (component && component.耐久度) {\n        const oldDurability = parseFloat(component.耐久度.replace('%', '')) || 0;\n        const newDurability = Math.min(100, oldDurability + amount);\n        component.耐久度 = `${newDurability.toFixed(2)}%`;\n        _messageBus__WEBPACK_IMPORTED_MODULE_3__.messageBus.emit('shelterRepaired', { componentId, repairAmount: amount });\n        const finalUpdates = calculateCompositeAttributes(shelter);\n        return { 世界: { 庇护所: finalUpdates } };\n    }\n    return {};\n}\nfunction handleDamage(componentId, amount, shelter) {\n    // @ts-ignore\n    const component = shelter.组件[componentId];\n    if (component && component.耐久度) {\n        const oldDurability = parseFloat(component.耐久度.replace('%', '')) || 100;\n        const newDurability = Math.max(0, oldDurability - amount);\n        component.耐久度 = `${newDurability.toFixed(2)}%`;\n        _messageBus__WEBPACK_IMPORTED_MODULE_3__.messageBus.emit('shelterDamaged', { componentId, damageAmount: amount });\n        const finalUpdates = calculateCompositeAttributes(shelter);\n        return { 世界: { 庇护所: finalUpdates } };\n    }\n    return {};\n}\nfunction handleAttack(strength, shelter) {\n    // 简化逻辑：攻击强度平均分配到所有有耐久度的组件上\n    const damageableComponents = Object.keys(shelter.组件).filter(id => shelter.组件[id].耐久度);\n    if (damageableComponents.length > 0) {\n        const damagePerComponent = strength / damageableComponents.length;\n        damageableComponents.forEach(id => {\n            handleDamage(id, damagePerComponent, shelter);\n        });\n        _messageBus__WEBPACK_IMPORTED_MODULE_3__.messageBus.emit('shelterAttacked', { attacker: '未知', attackDetails: `庇护所遭受了强度为 ${strength} 的攻击。` });\n        const finalUpdates = calculateCompositeAttributes(shelter);\n        return { 世界: { 庇护所: finalUpdates } };\n    }\n    return {};\n}\n// --- 综合属性计算 ---\nfunction calculateCompositeAttributes(shelter) {\n    let totalDefense = 0;\n    let totalComfort = 0; // 舒适度计算可以后续添加\n    const newFunctions = [];\n    for (const componentId in shelter.组件) {\n        const component = shelter.组件[componentId];\n        // @ts-ignore\n        const componentData = _data_shelter_data__WEBPACK_IMPORTED_MODULE_1__.SHELTER_COMPONENTS_DATA[componentId];\n        if (component.规模 !== '未开垦' && component.规模 !== '未布置' && componentData) {\n            // 计算防御\n            if (componentData.baseDefense) {\n                totalDefense += componentData.baseDefense;\n            }\n            const upgradeData = componentData.upgrades[component.规模];\n            if (upgradeData && upgradeData.defenseBonus) {\n                totalDefense += upgradeData.defenseBonus;\n            }\n            // 更新功能列表\n            if (upgradeData && upgradeData.description) {\n                newFunctions.push(`[${componentId}] ${upgradeData.description}`);\n            }\n        }\n        // 更新组件状态描述\n        if (component.耐久度) {\n            const durabilityValue = parseFloat(component.耐久度.replace('%', ''));\n            component.状态 = mapValueToDescription(durabilityValue, _data_shelter_data__WEBPACK_IMPORTED_MODULE_1__.SHELTER_DESCRIPTIVE_MAPPING.durability);\n        }\n    }\n    shelter.防御力 = mapValueToDescription(totalDefense, _data_shelter_data__WEBPACK_IMPORTED_MODULE_1__.SHELTER_DESCRIPTIVE_MAPPING.defense);\n    // shelter.舒适度 = ...\n    shelter.功能 = newFunctions;\n    // 更新整体状态\n    // TODO: 实现基于SHELTER_STATUS_RULES的整体状态更新\n    (0,_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'shelterHandler', 'Recalculated shelter composite attributes.', { defense: shelter.防御力, functions: shelter.功能.length });\n    return shelter;\n}\n/**\n * 初始化庇护所相关的事件监听器。\n */\nfunction initializeShelterListener() {\n    _messageBus__WEBPACK_IMPORTED_MODULE_3__.messageBus.on('timeChanged', (payload) => {\n        const hoursPassed = (payload.toDay - payload.fromDay) * 12;\n        if (hoursPassed > 0) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('log', 'ShelterHandler', `MessageBus event 'timeChanged' received, hours passed: ${hoursPassed}`);\n            shelterHandler.handleTimeChange(hoursPassed);\n        }\n    });\n    (0,_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'ShelterHandler', 'Shelter listener initialized.');\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9ldmVudHMvc2hlbHRlckhhbmRsZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTRDO0FBQ3lFO0FBRWxGO0FBQ1E7QUFNM0MsOEJBQThCO0FBQzlCLE1BQU0sZ0JBQWdCLEdBQUcsQ0FBQyxTQUErQyxFQUFXLEVBQUU7SUFDcEYseUJBQXlCO0lBQ3pCLCtDQUFNLENBQUMsTUFBTSxFQUFFLGdCQUFnQixFQUFFLDhFQUE4RSxDQUFDLENBQUM7SUFDakgsT0FBTyxJQUFJLENBQUMsQ0FBQyxXQUFXO0FBQzFCLENBQUMsQ0FBQztBQUVGLGNBQWM7QUFDZCxNQUFNLHFCQUFxQixHQUFHLENBQUMsS0FBYSxFQUFFLE9BQWtDLEVBQVUsRUFBRTtJQUMxRixNQUFNLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDcEUsS0FBSyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7UUFDMUMsSUFBSSxLQUFLLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDckIsT0FBTyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDMUIsQ0FBQztJQUNILENBQUM7SUFDRCxPQUFPLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztBQUNuRCxDQUFDLENBQUM7QUFFRixRQUFRO0FBQ0Qs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Q0gsQ0FBQztJQUVELE9BQU8sQ0FBQyxHQUFHLEdBQUcscUJBQXFCLENBQUMsWUFBWSxFQUFFLDJFQUEyQixDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3ZGLG9CQUFvQjtJQUNwQixPQUFPLENBQUMsRUFBRSxHQUFHLFlBQVksQ0FBQztJQUUxQixTQUFTO0lBQ1Qsd0NBQXdDO0lBRXhDLCtDQUFNLENBQUMsTUFBTSxFQUFFLGdCQUFnQixFQUFFLDRDQUE0QyxFQUFFLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxHQUFHLEVBQUUsU0FBUyxFQUFFLE9BQU8sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztJQUV2SSxPQUFPLE9BQU8sQ0FBQztBQUNqQixDQUFDO0FBRUQ7O0dBRUc7QUFDSSxTQUFTLHlCQUF5QjtJQUN2QyxtREFBVSxDQUFDLEVBQUUsQ0FBQyxhQUFhLEVBQUUsQ0FBQyxPQUEyQixFQUFFLEVBQUU7UUFDM0QsTUFBTSxXQUFXLEdBQUcsQ0FBQyxPQUFPLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDM0QsSUFBSSxXQUFXLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDcEIsK0NBQU0sQ0FBQyxLQUFLLEVBQUUsZ0JBQWdCLEVBQUUsMERBQTBELFdBQVcsRUFBRSxDQUFDLENBQUM7WUFDekcsY0FBYyxDQUFDLGdCQUFnQixDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQy9DLENBQUM7SUFDSCxDQUFDLENBQUMsQ0FBQztJQUNILCtDQUFNLENBQUMsTUFBTSxFQUFFLGdCQUFnQixFQUFFLCtCQUErQixDQUFDLENBQUM7QUFDcEUsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9ldmVudHMvc2hlbHRlckhhbmRsZXIudHM/Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFZhcmlhYmxlcyB9IGZyb20gXCIuLi92YXJpYWJsZXNcIjtcbmltcG9ydCB7IFNIRUxURVJfQ09NUE9ORU5UU19EQVRBLCBTSEVMVEVSX0RFU0NSSVBUSVZFX01BUFBJTkcsIFNIRUxURVJfU1RBVFVTX1JVTEVTIH0gZnJvbSBcIi4uLy4uL2RhdGEvc2hlbHRlci1kYXRhXCI7XG5pbXBvcnQgeyBJQ2hhcmFjdGVyLCBJV29ybGQsIFNoZWx0ZXJDb21wb25lbnQgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gXCIuLi9sb2dnZXJcIjtcbmltcG9ydCB7IG1lc3NhZ2VCdXMgfSBmcm9tIFwiLi4vbWVzc2FnZUJ1c1wiO1xuaW1wb3J0IHsgVGltZUNoYW5nZWRQYXlsb2FkIH0gZnJvbSBcIi4vZGVmaW5pdGlvbnNcIjtcblxuLy8gQHRzLWlnbm9yZVxuZGVjbGFyZSBjb25zdCB1cGRhdGVWYXJpYWJsZXNXaXRoOiAodXBkYXRlcjogKHZhcnM6IGFueSkgPT4gYW55LCBvcHRpb25zOiBhbnkpID0+IFByb21pc2U8dm9pZD47XG5cbi8vIOi/meaYr+S4gOS4queugOWMlueahOi+heWKqeWHveaVsO+8jOWunumZhemhueebruS4reWPr+iDvemcgOimgeabtOWkjeadgueahOWunueOsFxuY29uc3QgY29uc3VtZU1hdGVyaWFscyA9IChtYXRlcmlhbHM6IHsgbmFtZTogc3RyaW5nOyBxdWFudGl0eTogbnVtYmVyIH1bXSk6IGJvb2xlYW4gPT4ge1xuICAvLyBUT0RPOiDlrp7njrDmo4Dmn6XlubbmtojogJfnjqnlrrbnianlk4HmoI/kuK3nmoTmnZDmlplcbiAgbG9nZ2VyKCd3YXJuJywgJ3NoZWx0ZXJIYW5kbGVyJywgJ2Bjb25zdW1lTWF0ZXJpYWxzYCBpcyBhIHBsYWNlaG9sZGVyIGFuZCBkb2VzIG5vdCBhY3R1YWxseSBjb25zdW1lIGl0ZW1zIHlldC4nKTtcbiAgcmV0dXJuIHRydWU7IC8vIOaaguaXtuaAu+aYr+i/lOWbnuaIkOWKn1xufTtcblxuLy8g5bCG5pWw5YC86L2s5o2i5Li65o+P6L+w5oCn5paH5pysXG5jb25zdCBtYXBWYWx1ZVRvRGVzY3JpcHRpb24gPSAodmFsdWU6IG51bWJlciwgbWFwcGluZzogeyBba2V5OiBudW1iZXJdOiBzdHJpbmcgfSk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhtYXBwaW5nKS5tYXAoTnVtYmVyKS5zb3J0KChhLCBiKSA9PiBhIC0gYik7XG4gIGZvciAobGV0IGkgPSBrZXlzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgaWYgKHZhbHVlID49IGtleXNbaV0pIHtcbiAgICAgIHJldHVybiBtYXBwaW5nW2tleXNbaV1dO1xuICAgIH1cbiAgfVxuICByZXR1cm4ga2V5cy5sZW5ndGggPiAwID8gbWFwcGluZ1trZXlzWzBdXSA6ICfmnKrnn6UnO1xufTtcblxuLy8g5qC45b+D5aSE55CG5ZmoXG5leHBvcnQgY29uc3Qgc2hlbHRlckhhbmRsZXIgPSB7XG4gIC8vIOWkhOeQhkxMTeeUn+aIkOeahOS6i+S7tlxuICBhc3luYyBleGVjdXRlKHBheWxvYWQ6IGFueSwgY3VycmVudFZhcnM6IHsg6KeS6ImyOiBJQ2hhcmFjdGVyLCDkuJbnlYw6IElXb3JsZCB9KSB7XG4gICAgY29uc3QgeyDmjIfku6QsIOe7hOS7tklELCDnrYnnuqcsIOaVsOmHjywg5o+P6L+wIH0gPSBwYXlsb2FkO1xuICAgIGNvbnN0IHNoZWx0ZXJTdGF0ZSA9IGN1cnJlbnRWYXJzLuS4lueVjC7luofmiqTmiYA7XG5cbiAgICBzd2l0Y2ggKOaMh+S7pCkge1xuICAgICAgY2FzZSAn5bqH5oqk5omA5bu66YCgJzpcbiAgICAgIGNhc2UgJ+W6h+aKpOaJgOWNh+e6pyc6XG4gICAgICAgIHJldHVybiBhd2FpdCBoYW5kbGVVcGdyYWRlKOe7hOS7tklELCDnrYnnuqcsIHNoZWx0ZXJTdGF0ZSk7XG4gICAgICBjYXNlICfluofmiqTmiYDkv67lpI0nOlxuICAgICAgICByZXR1cm4gaGFuZGxlUmVwYWlyKOe7hOS7tklELCDmlbDph48sIHNoZWx0ZXJTdGF0ZSk7XG4gICAgICBjYXNlICfluofmiqTmiYDlj5fmjZ8nOlxuICAgICAgICByZXR1cm4gaGFuZGxlRGFtYWdlKOe7hOS7tklELCDmlbDph48sIHNoZWx0ZXJTdGF0ZSk7XG4gICAgICBjYXNlICfluofmiqTmiYDmlLvlh7snOlxuICAgICAgICByZXR1cm4gaGFuZGxlQXR0YWNrKOaVsOmHjywgc2hlbHRlclN0YXRlKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGxvZ2dlcignd2FybicsICdzaGVsdGVySGFuZGxlcicsIGBVbmtub3duIHNoZWx0ZXIgY29tbWFuZDogJHvmjIfku6R9YCk7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gIH0sXG5cbiAgLy8g5aSE55CG55Sx5pe26Ze05Y+Y5YyW6amx5Yqo55qE546v5aKD5pWI5p6cXG4gIGhhbmRsZVRpbWVDaGFuZ2U6IChob3Vyc1Bhc3NlZDogbnVtYmVyKSA9PiB7XG4gICAgY29uc3QgY3VycmVudFZhcnMgPSBnZXRWYXJpYWJsZXMoKSBhcyB7IENoYXJhY3RlcjogSUNoYXJhY3RlciwgV29ybGQ6IElXb3JsZCB9O1xuICAgIGNvbnN0IHNoZWx0ZXIgPSBjdXJyZW50VmFycy5Xb3JsZC7luofmiqTmiYA7XG4gICAgY29uc3Qgd2VhdGhlciA9IGN1cnJlbnRWYXJzLldvcmxkLuWkqeawlDtcbiAgICBsZXQgaGFzQ2hhbmdlZCA9IGZhbHNlO1xuXG4gICAgLy8gMS4g6ICQ5LmF5bqm6KGw5YePXG4gICAgZm9yIChjb25zdCBjb21wb25lbnRJZCBpbiBzaGVsdGVyLue7hOS7tikge1xuICAgICAgY29uc3QgY29tcG9uZW50ID0gc2hlbHRlci7nu4Tku7ZbY29tcG9uZW50SWQgYXMga2V5b2YgdHlwZW9mIHNoZWx0ZXIu57uE5Lu2XTtcbiAgICAgIGlmIChjb21wb25lbnQu54q25oCBICE9PSAn5pyq5bu66YCgJyAmJiBjb21wb25lbnQu6ICQ5LmF5bqmKSB7XG4gICAgICAgIC8vIOWfuuehgOihsOWHjyArIOWkqeawlOW9seWTjSAo566A5YyWKVxuICAgICAgICBsZXQgZGVjYXkgPSAwLjEgKiAoaG91cnNQYXNzZWQgLyA2KTsgLy8g5q+PNuS4quaXtui+sCgx5aSpKeihsOWHjzAuMVxuICAgICAgICBpZiAod2VhdGhlci7lvZPliY3lpKnmsJQuaW5jbHVkZXMoJ+mbqCcpIHx8IHdlYXRoZXIu5b2T5YmN5aSp5rCULmluY2x1ZGVzKCfpm6onKSkge1xuICAgICAgICAgIGRlY2F5ICo9IDI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb2xkRHVyYWJpbGl0eSA9IHBhcnNlRmxvYXQoY29tcG9uZW50LuiAkOS5heW6pi5yZXBsYWNlKCclJywnJykpIHx8IDEwMDtcbiAgICAgICAgY29uc3QgbmV3RHVyYWJpbGl0eSA9IE1hdGgubWF4KDAsIG9sZER1cmFiaWxpdHkgLSBkZWNheSk7XG4gICAgICAgIFxuICAgICAgICBpZiAob2xkRHVyYWJpbGl0eSAhPT0gbmV3RHVyYWJpbGl0eSkge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgY29tcG9uZW50LuiAkOS5heW6piA9IGAke25ld0R1cmFiaWxpdHkudG9GaXhlZCgyKX0lYDtcbiAgICAgICAgICAgIGhhc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgbWVzc2FnZUJ1cy5lbWl0KCdzaGVsdGVyRGFtYWdlZCcsIHsgY29tcG9uZW50SWQsIGRhbWFnZUFtb3VudDogZGVjYXkgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyAyLiDotYTmupDkuqflh7ogKOeugOWMlilcbiAgICBbJ+WGnOeUsCcsICfoja/lm60nXS5mb3JFYWNoKHR5cGUgPT4ge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHNoZWx0ZXIu57uE5Lu2W3R5cGVdO1xuICAgICAgICBpZiAoY29tcG9uZW50ICYmIGNvbXBvbmVudC7nirbmgIEgPT09ICfnp43mpI3kuK0nKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiDlrp7njrDotYTmupDkuqflh7rpgLvovpFcbiAgICAgICAgICAgIC8vIGV2ZW50RW1pdCgnc2hlbHRlclJlc291cmNlUHJvZHVjZWQnLCB7IHJlc291cmNlSWQ6IGNvbXBvbmVudC7kvZzniaksIHF1YW50aXR5OiAxIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoaGFzQ2hhbmdlZCkge1xuICAgICAgY29uc3QgZmluYWxVcGRhdGVzID0gY2FsY3VsYXRlQ29tcG9zaXRlQXR0cmlidXRlcyhzaGVsdGVyKTtcbiAgICAgIHVwZGF0ZVZhcmlhYmxlc1dpdGgoKHZhcnM6IGFueSkgPT4ge1xuICAgICAgICB2YXJzLuS4lueVjC7luofmiqTmiYAgPSBmaW5hbFVwZGF0ZXM7XG4gICAgICAgIHJldHVybiB2YXJzO1xuICAgICAgfSwgeyB0eXBlOiAnY2hhdCcgfSk7XG4gICAgfVxuICB9XG59O1xuXG4vLyAtLS0g5LqL5Lu25aSE55CG55qE5YW35L2T5a6e546wIC0tLVxuXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVVcGdyYWRlKGNvbXBvbmVudElkOiBzdHJpbmcsIGxldmVsOiBzdHJpbmcsIHNoZWx0ZXI6IGFueSkge1xuICAvLyBAdHMtaWdub3JlXG4gIGNvbnN0IGNvbXBvbmVudERhdGEgPSBTSEVMVEVSX0NPTVBPTkVOVFNfREFUQVtjb21wb25lbnRJZF07XG4gIGlmICghY29tcG9uZW50RGF0YSkge1xuICAgIGxvZ2dlcignZXJyb3InLCAnc2hlbHRlckhhbmRsZXInLCBgSW52YWxpZCBjb21wb25lbnQgSUQgZm9yIHVwZ3JhZGU6ICR7Y29tcG9uZW50SWR9YCk7XG4gICAgcmV0dXJuIHt9O1xuICB9XG4gIFxuICBjb25zdCB1cGdyYWRlRGF0YSA9IGNvbXBvbmVudERhdGEudXBncmFkZXNbbGV2ZWxdO1xuICBpZiAoIXVwZ3JhZGVEYXRhKSB7XG4gICAgbG9nZ2VyKCdlcnJvcicsICdzaGVsdGVySGFuZGxlcicsIGBJbnZhbGlkIGxldmVsIGZvciAke2NvbXBvbmVudElkfTogJHtsZXZlbH1gKTtcbiAgICByZXR1cm4ge307XG4gIH1cblxuICBpZiAoY29uc3VtZU1hdGVyaWFscyh1cGdyYWRlRGF0YS5tYXRlcmlhbHMpKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHNoZWx0ZXIu57uE5Lu2W2NvbXBvbmVudElkXS7op4TmqKEgPSBsZXZlbDtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgc2hlbHRlci7nu4Tku7ZbY29tcG9uZW50SWRdLueKtuaAgSA9ICflrozlpb3ml6DmjZ8nOyAvLyDlgYforr7ljYfnuqcv5bu66YCg5ZCO5piv5a6M5aW955qEXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHNoZWx0ZXIu57uE5Lu2W2NvbXBvbmVudElkXS7ogJDkuYXluqYgPSAnMTAwJSc7XG5cbiAgICBtZXNzYWdlQnVzLmVtaXQoJ3NoZWx0ZXJVcGdyYWRlZCcsIHsgY29tcG9uZW50SWQsIG5ld0xldmVsOiBwYXJzZUludChsZXZlbCwgMTApIHx8IDAgfSk7XG4gICAgXG4gICAgY29uc3QgZmluYWxVcGRhdGVzID0gY2FsY3VsYXRlQ29tcG9zaXRlQXR0cmlidXRlcyhzaGVsdGVyKTtcbiAgICByZXR1cm4geyDkuJbnlYw6IHsg5bqH5oqk5omAOiBmaW5hbFVwZGF0ZXMgfSB9O1xuICB9IGVsc2Uge1xuICAgIGxvZ2dlcignd2FybicsICdzaGVsdGVySGFuZGxlcicsIGBOb3QgZW5vdWdoIG1hdGVyaWFscyB0byB1cGdyYWRlICR7Y29tcG9uZW50SWR9IHRvIGxldmVsICR7bGV2ZWx9YCk7XG4gICAgLy8gVE9ETzog5Y+v5Lul6ICD6JmR57uZTExN6L+U5Zue5LiA5Liq5aSx6LSl55qE5LqL5Lu2XG4gICAgcmV0dXJuIHt9O1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVJlcGFpcihjb21wb25lbnRJZDogc3RyaW5nLCBhbW91bnQ6IG51bWJlciwgc2hlbHRlcjogYW55KSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IGNvbXBvbmVudCA9IHNoZWx0ZXIu57uE5Lu2W2NvbXBvbmVudElkXTtcbiAgICBpZiAoY29tcG9uZW50ICYmIGNvbXBvbmVudC7ogJDkuYXluqYpIHtcbiAgICAgICAgY29uc3Qgb2xkRHVyYWJpbGl0eSA9IHBhcnNlRmxvYXQoY29tcG9uZW50LuiAkOS5heW6pi5yZXBsYWNlKCclJywnJykpIHx8IDA7XG4gICAgICAgIGNvbnN0IG5ld0R1cmFiaWxpdHkgPSBNYXRoLm1pbigxMDAsIG9sZER1cmFiaWxpdHkgKyBhbW91bnQpO1xuICAgICAgICBjb21wb25lbnQu6ICQ5LmF5bqmID0gYCR7bmV3RHVyYWJpbGl0eS50b0ZpeGVkKDIpfSVgO1xuICAgICAgICBtZXNzYWdlQnVzLmVtaXQoJ3NoZWx0ZXJSZXBhaXJlZCcsIHsgY29tcG9uZW50SWQsIHJlcGFpckFtb3VudDogYW1vdW50IH0pO1xuICAgICAgICBjb25zdCBmaW5hbFVwZGF0ZXMgPSBjYWxjdWxhdGVDb21wb3NpdGVBdHRyaWJ1dGVzKHNoZWx0ZXIpO1xuICAgICAgICByZXR1cm4geyDkuJbnlYw6IHsg5bqH5oqk5omAOiBmaW5hbFVwZGF0ZXMgfSB9O1xuICAgIH1cbiAgICByZXR1cm4ge307XG59XG5cbmZ1bmN0aW9uIGhhbmRsZURhbWFnZShjb21wb25lbnRJZDogc3RyaW5nLCBhbW91bnQ6IG51bWJlciwgc2hlbHRlcjogYW55KSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IGNvbXBvbmVudCA9IHNoZWx0ZXIu57uE5Lu2W2NvbXBvbmVudElkXTtcbiAgICBpZiAoY29tcG9uZW50ICYmIGNvbXBvbmVudC7ogJDkuYXluqYpIHtcbiAgICAgICAgY29uc3Qgb2xkRHVyYWJpbGl0eSA9IHBhcnNlRmxvYXQoY29tcG9uZW50LuiAkOS5heW6pi5yZXBsYWNlKCclJywnJykpIHx8IDEwMDtcbiAgICAgICAgY29uc3QgbmV3RHVyYWJpbGl0eSA9IE1hdGgubWF4KDAsIG9sZER1cmFiaWxpdHkgLSBhbW91bnQpO1xuICAgICAgICBjb21wb25lbnQu6ICQ5LmF5bqmID0gYCR7bmV3RHVyYWJpbGl0eS50b0ZpeGVkKDIpfSVgO1xuICAgICAgICBtZXNzYWdlQnVzLmVtaXQoJ3NoZWx0ZXJEYW1hZ2VkJywgeyBjb21wb25lbnRJZCwgZGFtYWdlQW1vdW50OiBhbW91bnQgfSk7XG4gICAgICAgIGNvbnN0IGZpbmFsVXBkYXRlcyA9IGNhbGN1bGF0ZUNvbXBvc2l0ZUF0dHJpYnV0ZXMoc2hlbHRlcik7XG4gICAgICAgIHJldHVybiB7IOS4lueVjDogeyDluofmiqTmiYA6IGZpbmFsVXBkYXRlcyB9IH07XG4gICAgfVxuICAgIHJldHVybiB7fTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlQXR0YWNrKHN0cmVuZ3RoOiBudW1iZXIsIHNoZWx0ZXI6IGFueSkge1xuICAgIC8vIOeugOWMlumAu+i+ke+8muaUu+WHu+W8uuW6puW5s+Wdh+WIhumFjeWIsOaJgOacieacieiAkOS5heW6pueahOe7hOS7tuS4ilxuICAgIGNvbnN0IGRhbWFnZWFibGVDb21wb25lbnRzID0gT2JqZWN0LmtleXMoc2hlbHRlci7nu4Tku7YpLmZpbHRlcihpZCA9PiBzaGVsdGVyLue7hOS7tltpZCBhcyBrZXlvZiB0eXBlb2Ygc2hlbHRlci7nu4Tku7ZdLuiAkOS5heW6pik7XG4gICAgaWYgKGRhbWFnZWFibGVDb21wb25lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgZGFtYWdlUGVyQ29tcG9uZW50ID0gc3RyZW5ndGggLyBkYW1hZ2VhYmxlQ29tcG9uZW50cy5sZW5ndGg7XG4gICAgICAgIGRhbWFnZWFibGVDb21wb25lbnRzLmZvckVhY2goaWQgPT4ge1xuICAgICAgICAgICAgaGFuZGxlRGFtYWdlKGlkLCBkYW1hZ2VQZXJDb21wb25lbnQsIHNoZWx0ZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgbWVzc2FnZUJ1cy5lbWl0KCdzaGVsdGVyQXR0YWNrZWQnLCB7IGF0dGFja2VyOiAn5pyq55+lJywgYXR0YWNrRGV0YWlsczogYOW6h+aKpOaJgOmBreWPl+S6huW8uuW6puS4uiAke3N0cmVuZ3RofSDnmoTmlLvlh7vjgIJgIH0pO1xuICAgICAgICBjb25zdCBmaW5hbFVwZGF0ZXMgPSBjYWxjdWxhdGVDb21wb3NpdGVBdHRyaWJ1dGVzKHNoZWx0ZXIpO1xuICAgICAgICByZXR1cm4geyDkuJbnlYw6IHsg5bqH5oqk5omAOiBmaW5hbFVwZGF0ZXMgfSB9O1xuICAgIH1cbiAgICByZXR1cm4ge307XG59XG5cblxuLy8gLS0tIOe7vOWQiOWxnuaAp+iuoeeulyAtLS1cblxuZnVuY3Rpb24gY2FsY3VsYXRlQ29tcG9zaXRlQXR0cmlidXRlcyhzaGVsdGVyOiBhbnkpIHtcbiAgbGV0IHRvdGFsRGVmZW5zZSA9IDA7XG4gIGxldCB0b3RhbENvbWZvcnQgPSAwOyAvLyDoiJLpgILluqborqHnrpflj6/ku6XlkI7nu63mt7vliqBcbiAgY29uc3QgbmV3RnVuY3Rpb25zOiBzdHJpbmdbXSA9IFtdO1xuXG4gIGZvciAoY29uc3QgY29tcG9uZW50SWQgaW4gc2hlbHRlci7nu4Tku7YpIHtcbiAgICBjb25zdCBjb21wb25lbnQgPSBzaGVsdGVyLue7hOS7tltjb21wb25lbnRJZCBhcyBrZXlvZiB0eXBlb2Ygc2hlbHRlci7nu4Tku7ZdO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBjb25zdCBjb21wb25lbnREYXRhID0gU0hFTFRFUl9DT01QT05FTlRTX0RBVEFbY29tcG9uZW50SWRdO1xuXG4gICAgaWYgKGNvbXBvbmVudC7op4TmqKEgIT09ICfmnKrlvIDlnqYnICYmIGNvbXBvbmVudC7op4TmqKEgIT09ICfmnKrluIPnva4nICYmIGNvbXBvbmVudERhdGEpIHtcbiAgICAgIC8vIOiuoeeul+mYsuW+oVxuICAgICAgaWYgKGNvbXBvbmVudERhdGEuYmFzZURlZmVuc2UpIHtcbiAgICAgICAgdG90YWxEZWZlbnNlICs9IGNvbXBvbmVudERhdGEuYmFzZURlZmVuc2U7XG4gICAgICB9XG4gICAgICBjb25zdCB1cGdyYWRlRGF0YSA9IGNvbXBvbmVudERhdGEudXBncmFkZXNbY29tcG9uZW50LuinhOaooV07XG4gICAgICBpZiAodXBncmFkZURhdGEgJiYgdXBncmFkZURhdGEuZGVmZW5zZUJvbnVzKSB7XG4gICAgICAgIHRvdGFsRGVmZW5zZSArPSB1cGdyYWRlRGF0YS5kZWZlbnNlQm9udXM7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIOabtOaWsOWKn+iDveWIl+ihqFxuICAgICAgaWYgKHVwZ3JhZGVEYXRhICYmIHVwZ3JhZGVEYXRhLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgbmV3RnVuY3Rpb25zLnB1c2goYFske2NvbXBvbmVudElkfV0gJHt1cGdyYWRlRGF0YS5kZXNjcmlwdGlvbn1gKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8g5pu05paw57uE5Lu254q25oCB5o+P6L+wXG4gICAgaWYgKGNvbXBvbmVudC7ogJDkuYXluqYpIHtcbiAgICAgICAgY29uc3QgZHVyYWJpbGl0eVZhbHVlID0gcGFyc2VGbG9hdChjb21wb25lbnQu6ICQ5LmF5bqmLnJlcGxhY2UoJyUnLCcnKSk7XG4gICAgICAgIGNvbXBvbmVudC7nirbmgIEgPSBtYXBWYWx1ZVRvRGVzY3JpcHRpb24oZHVyYWJpbGl0eVZhbHVlLCBTSEVMVEVSX0RFU0NSSVBUSVZFX01BUFBJTkcuZHVyYWJpbGl0eSk7XG4gICAgfVxuICB9XG5cbiAgc2hlbHRlci7pmLLlvqHlipsgPSBtYXBWYWx1ZVRvRGVzY3JpcHRpb24odG90YWxEZWZlbnNlLCBTSEVMVEVSX0RFU0NSSVBUSVZFX01BUFBJTkcuZGVmZW5zZSk7XG4gIC8vIHNoZWx0ZXIu6IiS6YCC5bqmID0gLi4uXG4gIHNoZWx0ZXIu5Yqf6IO9ID0gbmV3RnVuY3Rpb25zO1xuICBcbiAgLy8g5pu05paw5pW05L2T54q25oCBXG4gIC8vIFRPRE86IOWunueOsOWfuuS6jlNIRUxURVJfU1RBVFVTX1JVTEVT55qE5pW05L2T54q25oCB5pu05pawXG4gIFxuICBsb2dnZXIoJ2luZm8nLCAnc2hlbHRlckhhbmRsZXInLCAnUmVjYWxjdWxhdGVkIHNoZWx0ZXIgY29tcG9zaXRlIGF0dHJpYnV0ZXMuJywgeyBkZWZlbnNlOiBzaGVsdGVyLumYsuW+oeWKmywgZnVuY3Rpb25zOiBzaGVsdGVyLuWKn+iDvS5sZW5ndGggfSk7XG5cbiAgcmV0dXJuIHNoZWx0ZXI7XG59XG5cbi8qKlxuICog5Yid5aeL5YyW5bqH5oqk5omA55u45YWz55qE5LqL5Lu255uR5ZCs5Zmo44CCXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplU2hlbHRlckxpc3RlbmVyKCkge1xuICBtZXNzYWdlQnVzLm9uKCd0aW1lQ2hhbmdlZCcsIChwYXlsb2FkOiBUaW1lQ2hhbmdlZFBheWxvYWQpID0+IHtcbiAgICBjb25zdCBob3Vyc1Bhc3NlZCA9IChwYXlsb2FkLnRvRGF5IC0gcGF5bG9hZC5mcm9tRGF5KSAqIDEyO1xuICAgIGlmIChob3Vyc1Bhc3NlZCA+IDApIHtcbiAgICAgIGxvZ2dlcignbG9nJywgJ1NoZWx0ZXJIYW5kbGVyJywgYE1lc3NhZ2VCdXMgZXZlbnQgJ3RpbWVDaGFuZ2VkJyByZWNlaXZlZCwgaG91cnMgcGFzc2VkOiAke2hvdXJzUGFzc2VkfWApO1xuICAgICAgc2hlbHRlckhhbmRsZXIuaGFuZGxlVGltZUNoYW5nZShob3Vyc1Bhc3NlZCk7XG4gICAgfVxuICB9KTtcbiAgbG9nZ2VyKCdpbmZvJywgJ1NoZWx0ZXJIYW5kbGVyJywgJ1NoZWx0ZXIgbGlzdGVuZXIgaW5pdGlhbGl6ZWQuJyk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/shelterHandler.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/signInHandler.ts": 
  /*!*************************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/signInHandler.ts ***!
  \*************************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handleSignInEvent: () => (/* binding */ handleSignInEvent),\n/* harmony export */   initializeSignInListener: () => (/* binding */ initializeSignInListener)\n/* harmony export */ });\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../logger */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts\");\n/* harmony import */ var _state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../state */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/state.ts\");\n/* harmony import */ var _time__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../time */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/time.ts\");\n/* harmony import */ var _messageBus__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../messageBus */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/messageBus.ts\");\n\n\n\n\n/**\n * 处理玩家点击“签到”按钮的事件\n */\nconst handleSignInEvent = {\n    execute: (payload, currentVars) => {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'signInHandler', 'Handling sign-in event...', payload);\n        const signInData = _.cloneDeep(_.get(currentVars, '世界.签到', {}));\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'signInHandler', 'Current sign-in data:', signInData);\n        if (signInData.今日已签到) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'signInHandler', 'Already signed in today.');\n            toastr.warning('今日已签到，请勿重复操作。');\n            return {};\n        }\n        const currentDate = _.get(currentVars, '世界.当前日期');\n        if (!currentDate) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'signInHandler', 'Cannot sign in without a valid game date.');\n            toastr.error('无法签到：当前游戏日期未知。');\n            return {};\n        }\n        const gameDate = _time__WEBPACK_IMPORTED_MODULE_2__.TimeManager.parseGameDate(currentDate);\n        if (!gameDate) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'signInHandler', `Failed to parse game date object:`, currentDate);\n            toastr.error('无法签到：时间格式解析失败。');\n            return {};\n        }\n        const { year, month, day } = gameDate;\n        const recordKey = `Y${year}M${month}`;\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'signInHandler', `Game date parsed: Y${year} M${month} D${day}`);\n        const monthRecords = _.get(signInData, ['签到记录', recordKey], []);\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'signInHandler', `Month records for ${recordKey} before update:`, monthRecords);\n        if (!monthRecords.includes(day)) {\n            monthRecords.push(day);\n            _.set(signInData, ['签到记录', recordKey], monthRecords);\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'signInHandler', `Added day ${day} to records. New records:`, monthRecords);\n        }\n        signInData.连续签到天数 = _.get(signInData, '连续签到天数', 0) + 1;\n        signInData.今日已签到 = true;\n        if (!(0,_state__WEBPACK_IMPORTED_MODULE_1__.getIsRecalculatingState)()) {\n            toastr.success(`签到成功！这是您连续签到的第 ${signInData.连续签到天数} 天。`);\n        }\n        const updates = {\n            '签到': signInData,\n        };\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'signInHandler', 'Sign-in update calculated:', updates);\n        return { 世界: updates };\n    },\n};\n/**\n * 初始化签到模块的事件监听器。\n * 该函数应在应用启动时调用一次。\n */\nfunction initializeSignInListener() {\n    _messageBus__WEBPACK_IMPORTED_MODULE_3__.messageBus.on('timeChanged', (payload) => {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'signInHandler', 'Received timeChanged event via messageBus', payload);\n        const { fromDay, toDay } = payload;\n        if (toDay <= fromDay) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'signInHandler', 'Not a new day, skipping reset.');\n            return; // 不是新的一天\n        }\n        // 使用 updateVariablesWith 安全地更新状态\n        updateVariablesWith((vars) => {\n            const signInData = _.cloneDeep(_.get(vars, '世界.签到', {}));\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'signInHandler', 'Current sign-in data before reset:', signInData);\n            // 重置每日签到状态\n            signInData.今日已签到 = false;\n            // 检查连续签到是否中断\n            if (toDay > fromDay + 1) {\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'signInHandler', `Consecutive sign-in streak broken. Last sign-in: Day ${fromDay}, Current day: ${toDay}`);\n                signInData.连续签到天数 = 0;\n            }\n            _.set(vars, '世界.签到', signInData);\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'signInHandler', 'Daily sign-in state reset applied. New data:', signInData);\n            return vars;\n        });\n    });\n    (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'signInHandler', 'Sign-in listener initialized.');\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9ldmVudHMvc2lnbkluSGFuZGxlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFFbUM7QUFDZ0I7QUFDYjtBQUNLO0FBTzNDOztHQUVHO0FBQ0gsTUFBTSxpQkFBaUIsR0FBaUI7SUFDcEMsT0FBTyxFQUFFLENBQUMsT0FBWSxFQUFFLFdBQStDLEVBQUUsRUFBRTtRQUN2RSwrQ0FBTSxDQUFDLEtBQUssRUFBRSxlQUFlLEVBQUUsMkJBQTJCLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDckUsTUFBTSxVQUFVLEdBQUcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNoRSwrQ0FBTSxDQUFDLEtBQUssRUFBRSxlQUFlLEVBQUUsdUJBQXVCLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFFcEUsSUFBSSxVQUFVLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDbkIsK0NBQU0sQ0FBQyxNQUFNLEVBQUUsZUFBZSxFQUFFLDBCQUEwQixDQUFDLENBQUM7WUFDNUQsTUFBTSxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQztZQUNoQyxPQUFPLEVBQUUsQ0FBQztRQUNkLENBQUM7UUFFRCxNQUFNLFdBQVcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxTQUFTLENBQUMsQ0FBQztRQUNsRCxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDZiwrQ0FBTSxDQUFDLE9BQU8sRUFBRSxlQUFlLEVBQUUsMkNBQTJDLENBQUMsQ0FBQztZQUM5RSxNQUFNLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDL0IsT0FBTyxFQUFFLENBQUM7UUFDZCxDQUFDO1FBRUQsTUFBTSxRQUFRLEdBQUcsOENBQVcsQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDLENB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O1lBRXpCLGFBQWE7WUFDYixJQUFJLEtBQUssR0FBRyxPQUFPLEdBQUcsQ0FBQyxFQUFFLENBQUM7Z0JBQ3hCLCtDQUFNLENBQUMsTUFBTSxFQUFFLGVBQWUsRUFBRSx3REFBd0QsT0FBTyxrQkFBa0IsS0FBSyxFQUFFLENBQUMsQ0FBQztnQkFDMUgsVUFBVSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7WUFDeEIsQ0FBQztZQUVELENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRSxVQUFVLENBQUMsQ0FBQztZQUNqQywrQ0FBTSxDQUFDLE1BQU0sRUFBRSxlQUFlLEVBQUUsOENBQThDLEVBQUUsVUFBVSxDQUFDLENBQUM7WUFFNUYsT0FBTyxJQUFJLENBQUM7UUFDZCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUgsK0NBQU0sQ0FBQyxLQUFLLEVBQUUsZUFBZSxFQUFFLCtCQUErQixDQUFDLENBQUM7QUFDbEUsQ0FBQztBQUc0QiIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9ldmVudHMvc2lnbkluSGFuZGxlci50cz8iXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSUNoYXJhY3RlciwgSVdvcmxkIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xyXG5pbXBvcnQgeyBFdmVudEhhbmRsZXIgfSBmcm9tICcuLi9ldmVudE1hbmFnZXInO1xyXG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xyXG5pbXBvcnQgeyBnZXRJc1JlY2FsY3VsYXRpbmdTdGF0ZSB9IGZyb20gJy4uL3N0YXRlJztcclxuaW1wb3J0IHsgVGltZU1hbmFnZXIgfSBmcm9tICcuLi90aW1lJztcclxuaW1wb3J0IHsgbWVzc2FnZUJ1cyB9IGZyb20gJy4uL21lc3NhZ2VCdXMnO1xyXG5pbXBvcnQgeyBUaW1lQ2hhbmdlZFBheWxvYWQgfSBmcm9tICcuL2RlZmluaXRpb25zJztcclxuXHJcbmRlY2xhcmUgY29uc3QgXzogYW55O1xyXG5kZWNsYXJlIGNvbnN0IHRvYXN0cjogYW55O1xyXG5kZWNsYXJlIGNvbnN0IHVwZGF0ZVZhcmlhYmxlc1dpdGg6IGFueTsgLy8gQXNzdW1pbmcgdXBkYXRlVmFyaWFibGVzV2l0aCBpcyBhIGdsb2JhbCBwcm92aWRlZCBieSB0aGUgZW52aXJvbm1lbnRcclxuXHJcbi8qKlxyXG4gKiDlpITnkIbnjqnlrrbngrnlh7vigJznrb7liLDigJ3mjInpkq7nmoTkuovku7ZcclxuICovXHJcbmNvbnN0IGhhbmRsZVNpZ25JbkV2ZW50OiBFdmVudEhhbmRsZXIgPSB7XHJcbiAgICBleGVjdXRlOiAocGF5bG9hZDogYW55LCBjdXJyZW50VmFyczogeyAn6KeS6ImyJzogSUNoYXJhY3RlciwgJ+S4lueVjCc6IElXb3JsZCB9KSA9PiB7XHJcbiAgICAgICAgbG9nZ2VyKCdsb2cnLCAnc2lnbkluSGFuZGxlcicsICdIYW5kbGluZyBzaWduLWluIGV2ZW50Li4uJywgcGF5bG9hZCk7XHJcbiAgICAgICAgY29uc3Qgc2lnbkluRGF0YSA9IF8uY2xvbmVEZWVwKF8uZ2V0KGN1cnJlbnRWYXJzLCAn5LiW55WMLuetvuWIsCcsIHt9KSk7XHJcbiAgICAgICAgbG9nZ2VyKCdsb2cnLCAnc2lnbkluSGFuZGxlcicsICdDdXJyZW50IHNpZ24taW4gZGF0YTonLCBzaWduSW5EYXRhKTtcclxuXHJcbiAgICAgICAgaWYgKHNpZ25JbkRhdGEu5LuK5pel5bey562+5YiwKSB7XHJcbiAgICAgICAgICAgIGxvZ2dlcignd2FybicsICdzaWduSW5IYW5kbGVyJywgJ0FscmVhZHkgc2lnbmVkIGluIHRvZGF5LicpO1xyXG4gICAgICAgICAgICB0b2FzdHIud2FybmluZygn5LuK5pel5bey562+5Yiw77yM6K+35Yu/6YeN5aSN5pON5L2c44CCJyk7XHJcbiAgICAgICAgICAgIHJldHVybiB7fTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGN1cnJlbnREYXRlID0gXy5nZXQoY3VycmVudFZhcnMsICfkuJbnlYwu5b2T5YmN5pel5pyfJyk7XHJcbiAgICAgICAgaWYgKCFjdXJyZW50RGF0ZSkge1xyXG4gICAgICAgICAgICBsb2dnZXIoJ2Vycm9yJywgJ3NpZ25JbkhhbmRsZXInLCAnQ2Fubm90IHNpZ24gaW4gd2l0aG91dCBhIHZhbGlkIGdhbWUgZGF0ZS4nKTtcclxuICAgICAgICAgICAgdG9hc3RyLmVycm9yKCfml6Dms5Xnrb7liLDvvJrlvZPliY3muLjmiI/ml6XmnJ/mnKrnn6XjgIInKTtcclxuICAgICAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZ2FtZURhdGUgPSBUaW1lTWFuYWdlci5wYXJzZUdhbWVEYXRlKGN1cnJlbnREYXRlKTtcclxuICAgICAgICBpZiAoIWdhbWVEYXRlKSB7XHJcbiAgICAgICAgICAgIGxvZ2dlcignZXJyb3InLCAnc2lnbkluSGFuZGxlcicsIGBGYWlsZWQgdG8gcGFyc2UgZ2FtZSBkYXRlIG9iamVjdDpgLCBjdXJyZW50RGF0ZSk7XHJcbiAgICAgICAgICAgIHRvYXN0ci5lcnJvcign5peg5rOV562+5Yiw77ya5pe26Ze05qC85byP6Kej5p6Q5aSx6LSl44CCJyk7XHJcbiAgICAgICAgICAgIHJldHVybiB7fTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHsgeWVhciwgbW9udGgsIGRheSB9ID0gZ2FtZURhdGU7XHJcbiAgICAgICAgY29uc3QgcmVjb3JkS2V5ID0gYFkke3llYXJ9TSR7bW9udGh9YDtcclxuICAgICAgICBsb2dnZXIoJ2xvZycsICdzaWduSW5IYW5kbGVyJywgYEdhbWUgZGF0ZSBwYXJzZWQ6IFkke3llYXJ9IE0ke21vbnRofSBEJHtkYXl9YCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgbW9udGhSZWNvcmRzID0gXy5nZXQoc2lnbkluRGF0YSwgWyfnrb7liLDorrDlvZUnLCByZWNvcmRLZXldLCBbXSk7XHJcbiAgICAgICAgbG9nZ2VyKCdsb2cnLCAnc2lnbkluSGFuZGxlcicsIGBNb250aCByZWNvcmRzIGZvciAke3JlY29yZEtleX0gYmVmb3JlIHVwZGF0ZTpgLCBtb250aFJlY29yZHMpO1xyXG4gICAgICAgIGlmICghbW9udGhSZWNvcmRzLmluY2x1ZGVzKGRheSkpIHtcclxuICAgICAgICAgICAgbW9udGhSZWNvcmRzLnB1c2goZGF5KTtcclxuICAgICAgICAgICAgXy5zZXQoc2lnbkluRGF0YSwgWyfnrb7liLDorrDlvZUnLCByZWNvcmRLZXldLCBtb250aFJlY29yZHMpO1xyXG4gICAgICAgICAgICBsb2dnZXIoJ2xvZycsICdzaWduSW5IYW5kbGVyJywgYEFkZGVkIGRheSAke2RheX0gdG8gcmVjb3Jkcy4gTmV3IHJlY29yZHM6YCwgbW9udGhSZWNvcmRzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNpZ25JbkRhdGEu6L+e57ut562+5Yiw5aSp5pWwID0gXy5nZXQoc2lnbkluRGF0YSwgJ+i/nue7reetvuWIsOWkqeaVsCcsIDApICsgMTtcclxuICAgICAgICBzaWduSW5EYXRhLuS7iuaXpeW3suetvuWIsCA9IHRydWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCFnZXRJc1JlY2FsY3VsYXRpbmdTdGF0ZSgpKSB7XHJcbiAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoYOetvuWIsOaIkOWKn++8gei/meaYr+aCqOi/nue7reetvuWIsOeahOesrCAke3NpZ25JbkRhdGEu6L+e57ut562+5Yiw5aSp5pWwfSDlpKnjgIJgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdXBkYXRlcyA9IHtcclxuICAgICAgICAgICAgJ+etvuWIsCc6IHNpZ25JbkRhdGEsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBsb2dnZXIoJ2luZm8nLCAnc2lnbkluSGFuZGxlcicsICdTaWduLWluIHVwZGF0ZSBjYWxjdWxhdGVkOicsIHVwZGF0ZXMpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiB7IOS4lueVjDogdXBkYXRlcyB9O1xyXG4gICAgfSxcclxufTtcclxuXHJcbi8qKlxyXG4gKiDliJ3lp4vljJbnrb7liLDmqKHlnZfnmoTkuovku7bnm5HlkKzlmajjgIJcclxuICog6K+l5Ye95pWw5bqU5Zyo5bqU55So5ZCv5Yqo5pe26LCD55So5LiA5qyh44CCXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZVNpZ25Jbkxpc3RlbmVyKCk6IHZvaWQge1xyXG4gIG1lc3NhZ2VCdXMub24oJ3RpbWVDaGFuZ2VkJywgKHBheWxvYWQ6IFRpbWVDaGFuZ2VkUGF5bG9hZCkgPT4ge1xyXG4gICAgbG9nZ2VyKCdsb2cnLCAnc2lnbkluSGFuZGxlcicsICdSZWNlaXZlZCB0aW1lQ2hhbmdlZCBldmVudCB2aWEgbWVzc2FnZUJ1cycsIHBheWxvYWQpO1xyXG4gICAgY29uc3QgeyBmcm9tRGF5LCB0b0RheSB9ID0gcGF5bG9hZDtcclxuXHJcbiAgICBpZiAodG9EYXkgPD0gZnJvbURheSkge1xyXG4gICAgICBsb2dnZXIoJ2xvZycsICdzaWduSW5IYW5kbGVyJywgJ05vdCBhIG5ldyBkYXksIHNraXBwaW5nIHJlc2V0LicpO1xyXG4gICAgICByZXR1cm47IC8vIOS4jeaYr+aWsOeahOS4gOWkqVxyXG4gICAgfVxyXG5cclxuICAgIC8vIOS9v+eUqCB1cGRhdGVWYXJpYWJsZXNXaXRoIOWuieWFqOWcsOabtOaWsOeKtuaAgVxyXG4gICAgdXBkYXRlVmFyaWFibGVzV2l0aCgodmFyczogeyAn6KeS6ImyJzogSUNoYXJhY3RlciwgJ+S4lueVjCc6IElXb3JsZCB9KSA9PiB7XHJcbiAgICAgIGNvbnN0IHNpZ25JbkRhdGEgPSBfLmNsb25lRGVlcChfLmdldCh2YXJzLCAn5LiW55WMLuetvuWIsCcsIHt9KSk7XHJcbiAgICAgIGxvZ2dlcignbG9nJywgJ3NpZ25JbkhhbmRsZXInLCAnQ3VycmVudCBzaWduLWluIGRhdGEgYmVmb3JlIHJlc2V0OicsIHNpZ25JbkRhdGEpO1xyXG5cclxuICAgICAgLy8g6YeN572u5q+P5pel562+5Yiw54q25oCBXHJcbiAgICAgIHNpZ25JbkRhdGEu5LuK5pel5bey562+5YiwID0gZmFsc2U7XHJcblxyXG4gICAgICAvLyDmo4Dmn6Xov57nu63nrb7liLDmmK/lkKbkuK3mlq1cclxuICAgICAgaWYgKHRvRGF5ID4gZnJvbURheSArIDEpIHtcclxuICAgICAgICBsb2dnZXIoJ2luZm8nLCAnc2lnbkluSGFuZGxlcicsIGBDb25zZWN1dGl2ZSBzaWduLWluIHN0cmVhayBicm9rZW4uIExhc3Qgc2lnbi1pbjogRGF5ICR7ZnJvbURheX0sIEN1cnJlbnQgZGF5OiAke3RvRGF5fWApO1xyXG4gICAgICAgIHNpZ25JbkRhdGEu6L+e57ut562+5Yiw5aSp5pWwID0gMDtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgXy5zZXQodmFycywgJ+S4lueVjC7nrb7liLAnLCBzaWduSW5EYXRhKTtcclxuICAgICAgbG9nZ2VyKCdpbmZvJywgJ3NpZ25JbkhhbmRsZXInLCAnRGFpbHkgc2lnbi1pbiBzdGF0ZSByZXNldCBhcHBsaWVkLiBOZXcgZGF0YTonLCBzaWduSW5EYXRhKTtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiB2YXJzO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGxvZ2dlcignbG9nJywgJ3NpZ25JbkhhbmRsZXInLCAnU2lnbi1pbiBsaXN0ZW5lciBpbml0aWFsaXplZC4nKTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCB7IGhhbmRsZVNpZ25JbkV2ZW50IH07XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/signInHandler.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/skillUpdateHandler.ts": 
  /*!******************************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/skillUpdateHandler.ts ***!
  \******************************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   skillUpdateHandler: () => (/* binding */ skillUpdateHandler)\n/* harmony export */ });\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../logger */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts\");\n\n/**\n * 处理技能相关的事件，包括学习新技能和更新现有技能。\n */\nconst skillUpdateHandler = {\n    execute: async (payload, currentVars, eventManager, pokedexManager) => {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'skillUpdateHandler', 'Calculating skill update', payload);\n        const skillUpdates = Array.isArray(payload) ? payload : [payload];\n        const skillData = _.cloneDeep(_.get(currentVars, '世界.技能', { skills: {} }));\n        let hasNewOrUpdated = false;\n        skillUpdates.forEach((update) => {\n            const skillId = update['id'];\n            if (!skillId) {\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'skillUpdateHandler', 'Skill update is missing an \"id\".', update);\n                return;\n            }\n            const existingSkill = skillData.skills[skillId];\n            if (existingSkill) {\n                // 更新现有技能\n                if (update['熟练度']) {\n                    existingSkill['熟练度'] += update['熟练度'];\n                    // 可以在这里添加升级逻辑\n                    toastr.info(`技能 ${existingSkill['名称']} 熟练度 +${update['熟练度']}`);\n                    hasNewOrUpdated = true;\n                }\n            }\n            else {\n                // 学习新技能\n                const newSkill = {\n                    id: skillId,\n                    名称: update['名称'] || '未知技能',\n                    等级: update['等级'] || 1,\n                    熟练度: update['熟练度'] || 0,\n                };\n                skillData.skills[skillId] = newSkill;\n                toastr.success(`学会新技能：${newSkill['名称']}`, '恭喜！');\n                hasNewOrUpdated = true;\n            }\n        });\n        if (hasNewOrUpdated) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'skillUpdateHandler', 'Skill update calculated.');\n            return {\n                世界: {\n                    技能: skillData\n                }\n            };\n        }\n        return {};\n    },\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9ldmVudHMvc2tpbGxVcGRhdGVIYW5kbGVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBR21DO0FBS25DOztHQUVHO0FBQ0ksTUFBTSxrQkFBa0IsR0FBaUI7SUFDNUMsT0FBTyxFQUFFLEtBQUssRUFBRSxPQUFZLEVBQUUsV0FBMkMsRUFBRSxZQUEyQixFQUFFLGNBQStCLEVBQXVFLEVBQUU7UUFDNU0sK0NBQU0sQ0FBQyxLQUFLLEVBQUUsb0JBQW9CLEVBQUUsMEJBQTBCLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFFekUsTUFBTSxZQUFZLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ2xFLE1BQU0sU0FBUyxHQUFHLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUUsT0FBTyxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUMzRSxJQUFJLGVBQWUsR0FBRyxLQUFLLENBQUM7UUFFNUIsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQVcsRUFBRSxFQUFFO1lBQ2pDLE1BQU0sT0FBTyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUM3QixJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7Z0JBQ1gsK0NBQU0sQ0FBQyxNQUFNLEVBQUUsb0JBQW9CLEVBQUUsa0NBQWtDLEVBQUUsTUFBTSxDQUFDLENBQUM7Z0JBQ2pGLE9BQU87WUFDWCxDQUFDO1lBRUQsTUFBTSxhQUFhLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUVoRCxJQUFJLGFBQWEsRUFBRSxDQUFDO2dCQUNoQixTQUFTO2dCQUNULElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7b0JBQ2hCLGFBQWEsQ0FBQyxLQUFLLENBQUMsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQ3RDLGNBQWM7b0JBQ2QsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLGFBQWEsQ0FBQyxJQUFJLENBQUMsU0FBUyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO29CQUMvRCxlQUFlLEdBQUcsSUFBSSxDQUFDO2dCQUMzQixDQUFDO1lBQ0wsQ0FBQztpQkFBTSxDQUFDO2dCQUNKLFFBQVE7Z0JBQ1IsTUFBTSxRQUFRLEdBQUc7b0JBQ2IsRUFBRSxFQUFFLE9BQU87b0JBQ1gsRUFBRSxFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxNQUFNO29CQUMxQixFQUFFLEVBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7b0JBQ3JCLEdBQUcsRUFBRSxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQztpQkFDMUIsQ0FBQztnQkFDRixTQUFTLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLFFBQVEsQ0FBQztnQkFDckMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxTQUFTLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFDO2dCQUNqRCxlQUFlLEdBQUcsSUFBSSxDQUFDO1lBQzNCLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksZUFBZSxFQUFFLENBQUM7WUFDbEIsK0NBQU0sQ0FBQyxNQUFNLEVBQUUsb0JBQW9CLEVBQUUsMEJBQTBCLENBQUMsQ0FBQztZQUNqRSxPQUFPO2dCQUNILEVBQUUsRUFBRTtvQkFDQSxFQUFFLEVBQUUsU0FBUztpQkFDaEI7YUFDSixDQUFDO1FBQ04sQ0FBQztRQUVELE9BQU8sRUFBRSxDQUFDO0lBQ2QsQ0FBQztDQUNKLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlLy4vc3JjL+S7gOS5iOaIkeimgeWcqOeOhOW5u+S/ruS7meS4lueVjOenjeeUsC0w5qW854mI5pysL2NvcmUvZXZlbnRzL3NraWxsVXBkYXRlSGFuZGxlci50cz8iXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSUNoYXJhY3RlciwgSVdvcmxkIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xyXG5pbXBvcnQgeyBFdmVudE1hbmFnZXIsIEV2ZW50SGFuZGxlciB9IGZyb20gJy4uL2V2ZW50TWFuYWdlcic7XHJcbmltcG9ydCB7IFBva2VkZXhNYW5hZ2VyIH0gZnJvbSAnLi4vcG9rZWRleCc7XHJcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XHJcblxyXG5kZWNsYXJlIGNvbnN0IF86IGFueTtcclxuZGVjbGFyZSBjb25zdCB0b2FzdHI6IGFueTtcclxuXHJcbi8qKlxyXG4gKiDlpITnkIbmioDog73nm7jlhbPnmoTkuovku7bvvIzljIXmi6zlrabkuaDmlrDmioDog73lkozmm7TmlrDnjrDmnInmioDog73jgIJcclxuICovXHJcbmV4cG9ydCBjb25zdCBza2lsbFVwZGF0ZUhhbmRsZXI6IEV2ZW50SGFuZGxlciA9IHtcclxuICAgIGV4ZWN1dGU6IGFzeW5jIChwYXlsb2FkOiBhbnksIGN1cnJlbnRWYXJzOiB7IOinkuiJsjogSUNoYXJhY3Rlciwg5LiW55WMOiBJV29ybGQgfSwgZXZlbnRNYW5hZ2VyPzogRXZlbnRNYW5hZ2VyLCBwb2tlZGV4TWFuYWdlcj86IFBva2VkZXhNYW5hZ2VyKTogUHJvbWlzZTxQYXJ0aWFsPHsg6KeS6ImyOiBQYXJ0aWFsPElDaGFyYWN0ZXI+OyDkuJbnlYw6IFBhcnRpYWw8SVdvcmxkPjsgfT4+ID0+IHtcclxuICAgICAgICBsb2dnZXIoJ2xvZycsICdza2lsbFVwZGF0ZUhhbmRsZXInLCAnQ2FsY3VsYXRpbmcgc2tpbGwgdXBkYXRlJywgcGF5bG9hZCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3Qgc2tpbGxVcGRhdGVzID0gQXJyYXkuaXNBcnJheShwYXlsb2FkKSA/IHBheWxvYWQgOiBbcGF5bG9hZF07XHJcbiAgICAgICAgY29uc3Qgc2tpbGxEYXRhID0gXy5jbG9uZURlZXAoXy5nZXQoY3VycmVudFZhcnMsICfkuJbnlYwu5oqA6IO9JywgeyBza2lsbHM6IHt9IH0pKTtcclxuICAgICAgICBsZXQgaGFzTmV3T3JVcGRhdGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHNraWxsVXBkYXRlcy5mb3JFYWNoKCh1cGRhdGU6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBza2lsbElkID0gdXBkYXRlWydpZCddO1xyXG4gICAgICAgICAgICBpZiAoIXNraWxsSWQpIHtcclxuICAgICAgICAgICAgICAgIGxvZ2dlcignd2FybicsICdza2lsbFVwZGF0ZUhhbmRsZXInLCAnU2tpbGwgdXBkYXRlIGlzIG1pc3NpbmcgYW4gXCJpZFwiLicsIHVwZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nU2tpbGwgPSBza2lsbERhdGEuc2tpbGxzW3NraWxsSWRdO1xyXG5cclxuICAgICAgICAgICAgaWYgKGV4aXN0aW5nU2tpbGwpIHtcclxuICAgICAgICAgICAgICAgIC8vIOabtOaWsOeOsOacieaKgOiDvVxyXG4gICAgICAgICAgICAgICAgaWYgKHVwZGF0ZVsn54af57uD5bqmJ10pIHtcclxuICAgICAgICAgICAgICAgICAgICBleGlzdGluZ1NraWxsWyfnhp/nu4PluqYnXSArPSB1cGRhdGVbJ+eGn+e7g+W6piddO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOWPr+S7peWcqOi/memHjOa3u+WKoOWNh+e6p+mAu+i+kVxyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0ci5pbmZvKGDmioDog70gJHtleGlzdGluZ1NraWxsWyflkI3np7AnXX0g54af57uD5bqmICske3VwZGF0ZVsn54af57uD5bqmJ119YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzTmV3T3JVcGRhdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIOWtpuS5oOaWsOaKgOiDvVxyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3U2tpbGwgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHNraWxsSWQsXHJcbiAgICAgICAgICAgICAgICAgICAg5ZCN56ewOiB1cGRhdGVbJ+WQjeensCddIHx8ICfmnKrnn6XmioDog70nLFxyXG4gICAgICAgICAgICAgICAgICAgIOetiee6pzogdXBkYXRlWyfnrYnnuqcnXSB8fCAxLFxyXG4gICAgICAgICAgICAgICAgICAgIOeGn+e7g+W6pjogdXBkYXRlWyfnhp/nu4PluqYnXSB8fCAwLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHNraWxsRGF0YS5za2lsbHNbc2tpbGxJZF0gPSBuZXdTa2lsbDtcclxuICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKGDlrabkvJrmlrDmioDog73vvJoke25ld1NraWxsWyflkI3np7AnXX1gLCAn5oGt5Zac77yBJyk7XHJcbiAgICAgICAgICAgICAgICBoYXNOZXdPclVwZGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChoYXNOZXdPclVwZGF0ZWQpIHtcclxuICAgICAgICAgICAgbG9nZ2VyKCdpbmZvJywgJ3NraWxsVXBkYXRlSGFuZGxlcicsICdTa2lsbCB1cGRhdGUgY2FsY3VsYXRlZC4nKTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIOS4lueVjDoge1xyXG4gICAgICAgICAgICAgICAgICAgIOaKgOiDvTogc2tpbGxEYXRhXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiB7fTtcclxuICAgIH0sXHJcbn07XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/skillUpdateHandler.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/systemHandler.ts": 
  /*!*************************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/systemHandler.ts ***!
  \*************************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   newAchievementHandler: () => (/* binding */ newAchievementHandler),\n/* harmony export */   systemConfirmationHandler: () => (/* binding */ systemConfirmationHandler)\n/* harmony export */ });\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../logger */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts\");\n\nconst systemConfirmationHandler = {\n    execute: async (payload, currentVars, eventManager, pokedexManager) => {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'systemHandler', 'Confirming system for the game', payload);\n        const systemName = payload['系统名称'];\n        if (!systemName) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'systemHandler', '[systemConfirmationHandler] Event data is missing \"系统名称\".', payload);\n            return {};\n        }\n        const updates = {\n            当前激活系统: { 名称: systemName }\n        };\n        // Initialize the specific system's state object\n        switch (systemName) {\n            case '成就系统':\n                updates['成就'] = { 成就点数: 0, completed: {} };\n                break;\n            case '技能面板':\n                updates['技能'] = { skills: {} };\n                break;\n            case '签到系统':\n                updates['签到'] = {\n                    签到记录: {},\n                    连续签到天数: 0,\n                    今日已签到: false,\n                    月卡: { 状态: '未激活', 剩余天数: 0 }\n                };\n                break;\n            // Add other systems here\n        }\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'systemHandler', '[systemConfirmationHandler] System confirmed and initialized.');\n        return { 世界: updates };\n    },\n};\nconst newAchievementHandler = {\n    execute: async (payload, currentVars, eventManager, pokedexManager) => {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'systemHandler', 'Calculating new achievement update', payload);\n        const newAchievements = Array.isArray(payload) ? payload : [payload];\n        const achievementData = _.cloneDeep(_.get(currentVars, '世界.成就', { 成就点数: 0, completed: {} }));\n        let hasNew = false;\n        newAchievements.forEach((ach) => {\n            const achId = ach['id'];\n            if (!achId) {\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'systemHandler', '[newAchievementHandler] Achievement is missing an \"id\".', ach);\n                return;\n            }\n            if (!achievementData.completed[achId]) {\n                const newEntry = { ...ach };\n                delete newEntry['点数']; // The points are only for the event, not stored per achievement\n                achievementData.completed[achId] = newEntry;\n                achievementData.成就点数 += ach['点数'] || 0;\n                toastr.success(`解锁新成就：${ach['名称']}`, '恭喜！');\n                hasNew = true;\n            }\n        });\n        if (hasNew) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'systemHandler', '[newAchievementHandler] New achievement update calculated.');\n            return {\n                世界: {\n                    成就: achievementData\n                }\n            };\n        }\n        return {};\n    },\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9ldmVudHMvc3lzdGVtSGFuZGxlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFHbUM7QUFNbkMsTUFBTSx5QkFBeUIsR0FBaUI7SUFDNUMsT0FBTyxFQUFFLEtBQUssRUFBRSxPQUFZLEVBQUUsV0FBMkMsRUFBRSxZQUEyQixFQUFFLGNBQStCLEVBQXVFLEVBQUU7UUFDNU0sK0NBQU0sQ0FBQyxLQUFLLEVBQUUsZUFBZSxFQUFFLGdDQUFnQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQzFFLE1BQU0sVUFBVSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNuQyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7WUFDZCwrQ0FBTSxDQUFDLE1BQU0sRUFBRSxlQUFlLEVBQUUsMkRBQTJELEVBQUUsT0FBTyxDQUFDLENBQUM7WUFDdEcsT0FBTyxFQUFFLENBQUM7UUFDZCxDQUFDO1FBRUQsTUFBTSxPQUFPLEdBQVE7WUFDakIsTUFBTSxFQUFFLEVBQUUsRUFBRSxFQUFFLFVBQVUsRUFBRTtTQUM3QixDQUFDO1FBRUYsZ0RBQWdEO1FBQ2hELFFBQVEsVUFBVSxFQUFFLENBQUM7WUFDakIsS0FBSyxNQUFNO2dCQUNQLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUMzQyxNQUFNO1lBQ1YsS0FBSyxNQUFNO2dCQUNQLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLE1BQU0sRUFBRSxFQUFFLEVBQUUsQ0FBQztnQkFDL0IsTUFBTTtZQUNWLEtBQUssTUFBTTtnQkFDUCxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUc7b0JBQ1osSUFBSSxFQUFFLEVBQUU7b0JBQ1IsTUFBTSxFQUFFLENBQUM7b0JBQ1QsS0FBSyxFQUFFLEtBQUs7b0JBQ1osRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFO2lCQUM3QixDQUFDO2dCQUNGLE1BQU07WUFDVix5QkFBeUI7UUFDN0IsQ0FBQztRQUVELCtDQUFNLENBQUMsTUFBTSxFQUFFLGVBQWUsRUFBRSwrREFBK0QsQ0FBQyxDQUFDO1FBRWpHLE9BQU8sRUFBRSxFQUFFLEVBQUUsT0FBTyxFQUFFLENBQUM7SUFDM0IsQ0FBQztDQUNKLENBQUM7QUFFRixNQUFNLHFCQUFxQixHQUFpQjtJQUN4QyxPQUFPLEVBQUUsS0FBSyxFQUFFLE9BQVksRUFBRSxXQUEyQyxFQUFFLFlBQTJCLEVBQUUsY0FBK0IsRUFBdUUsRUFBRTtRQUM1TSwrQ0FBTSxDQUFDLEtBQUssRUFBRSxlQUFlLEVBQUUsb0NBQW9DLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDOUUsTUFBTSxlQUFlLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3JFLE1BQU0sZUFBZSxHQUFHLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUUsT0FBTyxFQUFFLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxTQUFTLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzdGLElBQUksTUFBTSxHQUFHLEtBQUssQ0FBQztRQUVuQixlQUFlLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBUSxFQUFFLEVBQUU7WUFDakMsTUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3hCLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztnQkFDVCwrQ0FBTSxDQUFDLE1BQU0sRUFBRSxlQUFlLEVBQUUseURBQXlELEVBQUUsR0FBRyxDQUFDLENBQUM7Z0JBQ2hHLE9BQU87WUFDWCxDQUFDO1lBRUQsSUFBSSxDQUFDLGVBQWUsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQztnQkFDcEMsTUFBTSxRQUFRLEdBQXdCLEVBQUUsR0FBRyxHQUFHLEVBQUUsQ0FBQztnQkFDakQsT0FBTyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxnRUFBZ0U7Z0JBRXZGLGVBQWUsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEdBQUcsUUFBUSxDQUFDO2dCQUM1QyxlQUFlLENBQUMsSUFBSSxJQUFJLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ3ZDLE1BQU0sQ0FBQyxPQUFPLENBQUMsU0FBUyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQztnQkFDNUMsTUFBTSxHQUFHLElBQUksQ0FBQztZQUNsQixDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLE1BQU0sRUFBRSxDQUFDO1lBQ1QsK0NBQU0sQ0FBQyxNQUFNLEVBQUUsZUFBZSxFQUFFLDREQUE0RCxDQUFDLENBQUM7WUFDOUYsT0FBTztnQkFDSCxFQUFFLEVBQUU7b0JBQ0EsRUFBRSxFQUFFLGVBQWU7aUJBQ3RCO2FBQ0osQ0FBQztRQUNOLENBQUM7UUFFRCxPQUFPLEVBQUUsQ0FBQztJQUNkLENBQUM7Q0FDSixDQUFDO0FBRTBEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS8uL3NyYy/ku4DkuYjmiJHopoHlnKjnjoTlubvkv67ku5nkuJbnlYznp43nlLAtMOalvOeJiOacrC9jb3JlL2V2ZW50cy9zeXN0ZW1IYW5kbGVyLnRzPyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJQ2hhcmFjdGVyLCBJV29ybGQgfSBmcm9tICcuLi8uLi90eXBlcyc7XG5pbXBvcnQgeyBFdmVudE1hbmFnZXIsIEV2ZW50SGFuZGxlciB9IGZyb20gJy4uL2V2ZW50TWFuYWdlcic7XG5pbXBvcnQgeyBQb2tlZGV4TWFuYWdlciB9IGZyb20gJy4uL3Bva2VkZXgnO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyJztcblxuZGVjbGFyZSBjb25zdCBfOiBhbnk7XG5kZWNsYXJlIGNvbnN0IHRvYXN0cjogYW55O1xuXG5cbmNvbnN0IHN5c3RlbUNvbmZpcm1hdGlvbkhhbmRsZXI6IEV2ZW50SGFuZGxlciA9IHtcbiAgICBleGVjdXRlOiBhc3luYyAocGF5bG9hZDogYW55LCBjdXJyZW50VmFyczogeyDop5LoibI6IElDaGFyYWN0ZXIsIOS4lueVjDogSVdvcmxkIH0sIGV2ZW50TWFuYWdlcj86IEV2ZW50TWFuYWdlciwgcG9rZWRleE1hbmFnZXI/OiBQb2tlZGV4TWFuYWdlcik6IFByb21pc2U8UGFydGlhbDx7IOinkuiJsjogUGFydGlhbDxJQ2hhcmFjdGVyPjsg5LiW55WMOiBQYXJ0aWFsPElXb3JsZD47IH0+PiA9PiB7XG4gICAgICAgIGxvZ2dlcignbG9nJywgJ3N5c3RlbUhhbmRsZXInLCAnQ29uZmlybWluZyBzeXN0ZW0gZm9yIHRoZSBnYW1lJywgcGF5bG9hZCk7XG4gICAgICAgIGNvbnN0IHN5c3RlbU5hbWUgPSBwYXlsb2FkWyfns7vnu5/lkI3np7AnXTtcbiAgICAgICAgaWYgKCFzeXN0ZW1OYW1lKSB7XG4gICAgICAgICAgICBsb2dnZXIoJ3dhcm4nLCAnc3lzdGVtSGFuZGxlcicsICdbc3lzdGVtQ29uZmlybWF0aW9uSGFuZGxlcl0gRXZlbnQgZGF0YSBpcyBtaXNzaW5nIFwi57O757uf5ZCN56ewXCIuJywgcGF5bG9hZCk7XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB1cGRhdGVzOiBhbnkgPSB7XG4gICAgICAgICAgICDlvZPliY3mv4DmtLvns7vnu586IHsg5ZCN56ewOiBzeXN0ZW1OYW1lIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBzcGVjaWZpYyBzeXN0ZW0ncyBzdGF0ZSBvYmplY3RcbiAgICAgICAgc3dpdGNoIChzeXN0ZW1OYW1lKSB7XG4gICAgICAgICAgICBjYXNlICfmiJDlsLHns7vnu58nOlxuICAgICAgICAgICAgICAgIHVwZGF0ZXNbJ+aIkOWwsSddID0geyDmiJDlsLHngrnmlbA6IDAsIGNvbXBsZXRlZDoge30gfTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ+aKgOiDvemdouadvyc6XG4gICAgICAgICAgICAgICAgdXBkYXRlc1sn5oqA6IO9J10gPSB7IHNraWxsczoge30gfTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ+etvuWIsOezu+e7nyc6XG4gICAgICAgICAgICAgICAgdXBkYXRlc1sn562+5YiwJ10gPSB7XG4gICAgICAgICAgICAgICAgICAgIOetvuWIsOiusOW9lToge30sXG4gICAgICAgICAgICAgICAgICAgIOi/nue7reetvuWIsOWkqeaVsDogMCxcbiAgICAgICAgICAgICAgICAgICAg5LuK5pel5bey562+5YiwOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAg5pyI5Y2hOiB7IOeKtuaAgTogJ+acqua/gOa0uycsIOWJqeS9meWkqeaVsDogMCB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vIEFkZCBvdGhlciBzeXN0ZW1zIGhlcmVcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgbG9nZ2VyKCdpbmZvJywgJ3N5c3RlbUhhbmRsZXInLCAnW3N5c3RlbUNvbmZpcm1hdGlvbkhhbmRsZXJdIFN5c3RlbSBjb25maXJtZWQgYW5kIGluaXRpYWxpemVkLicpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHsg5LiW55WMOiB1cGRhdGVzIH07XG4gICAgfSxcbn07XG5cbmNvbnN0IG5ld0FjaGlldmVtZW50SGFuZGxlcjogRXZlbnRIYW5kbGVyID0ge1xuICAgIGV4ZWN1dGU6IGFzeW5jIChwYXlsb2FkOiBhbnksIGN1cnJlbnRWYXJzOiB7IOinkuiJsjogSUNoYXJhY3Rlciwg5LiW55WMOiBJV29ybGQgfSwgZXZlbnRNYW5hZ2VyPzogRXZlbnRNYW5hZ2VyLCBwb2tlZGV4TWFuYWdlcj86IFBva2VkZXhNYW5hZ2VyKTogUHJvbWlzZTxQYXJ0aWFsPHsg6KeS6ImyOiBQYXJ0aWFsPElDaGFyYWN0ZXI+OyDkuJbnlYw6IFBhcnRpYWw8SVdvcmxkPjsgfT4+ID0+IHtcbiAgICAgICAgbG9nZ2VyKCdsb2cnLCAnc3lzdGVtSGFuZGxlcicsICdDYWxjdWxhdGluZyBuZXcgYWNoaWV2ZW1lbnQgdXBkYXRlJywgcGF5bG9hZCk7XG4gICAgICAgIGNvbnN0IG5ld0FjaGlldmVtZW50cyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZCkgPyBwYXlsb2FkIDogW3BheWxvYWRdO1xuICAgICAgICBjb25zdCBhY2hpZXZlbWVudERhdGEgPSBfLmNsb25lRGVlcChfLmdldChjdXJyZW50VmFycywgJ+S4lueVjC7miJDlsLEnLCB7IOaIkOWwseeCueaVsDogMCwgY29tcGxldGVkOiB7fSB9KSk7XG4gICAgICAgIGxldCBoYXNOZXcgPSBmYWxzZTtcblxuICAgICAgICBuZXdBY2hpZXZlbWVudHMuZm9yRWFjaCgoYWNoOiBhbnkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFjaElkID0gYWNoWydpZCddO1xuICAgICAgICAgICAgaWYgKCFhY2hJZCkge1xuICAgICAgICAgICAgICAgIGxvZ2dlcignd2FybicsICdzeXN0ZW1IYW5kbGVyJywgJ1tuZXdBY2hpZXZlbWVudEhhbmRsZXJdIEFjaGlldmVtZW50IGlzIG1pc3NpbmcgYW4gXCJpZFwiLicsIGFjaCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWFjaGlldmVtZW50RGF0YS5jb21wbGV0ZWRbYWNoSWRdKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3RW50cnk6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7IC4uLmFjaCB9O1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBuZXdFbnRyeVsn54K55pWwJ107IC8vIFRoZSBwb2ludHMgYXJlIG9ubHkgZm9yIHRoZSBldmVudCwgbm90IHN0b3JlZCBwZXIgYWNoaWV2ZW1lbnRcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBhY2hpZXZlbWVudERhdGEuY29tcGxldGVkW2FjaElkXSA9IG5ld0VudHJ5O1xuICAgICAgICAgICAgICAgIGFjaGlldmVtZW50RGF0YS7miJDlsLHngrnmlbAgKz0gYWNoWyfngrnmlbAnXSB8fCAwO1xuICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKGDop6PplIHmlrDmiJDlsLHvvJoke2FjaFsn5ZCN56ewJ119YCwgJ+aBreWWnO+8gScpO1xuICAgICAgICAgICAgICAgIGhhc05ldyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChoYXNOZXcpIHtcbiAgICAgICAgICAgIGxvZ2dlcignaW5mbycsICdzeXN0ZW1IYW5kbGVyJywgJ1tuZXdBY2hpZXZlbWVudEhhbmRsZXJdIE5ldyBhY2hpZXZlbWVudCB1cGRhdGUgY2FsY3VsYXRlZC4nKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAg5LiW55WMOiB7XG4gICAgICAgICAgICAgICAgICAgIOaIkOWwsTogYWNoaWV2ZW1lbnREYXRhXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG59O1xuXG5leHBvcnQgeyBuZXdBY2hpZXZlbWVudEhhbmRsZXIsIHN5c3RlbUNvbmZpcm1hdGlvbkhhbmRsZXIgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/systemHandler.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/weatherChangeHandler.ts": 
  /*!********************************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/weatherChangeHandler.ts ***!
  \********************************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initializeWeatherListener: () => (/* binding */ initializeWeatherListener),\n/* harmony export */   weatherHandler: () => (/* binding */ weatherHandler)\n/* harmony export */ });\n/* harmony import */ var _variables__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../variables */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/variables.ts\");\n/* harmony import */ var _data_time_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../data/time-data */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/data/time-data.ts\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../logger */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts\");\n/* harmony import */ var _messageBus__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../messageBus */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/messageBus.ts\");\n// src/core/events/weatherChangeHandler.ts\n/**\n * @file 负责处理天气、季节和节气变化的事件处理器。\n * @description 该模块监听`timeChanged`事件，结合季节基础概率和外部天气影响，\n *              通过加权随机算法决定当前时辰的天气，并更新世界状态。\n */\n\n\n\n\n/**\n * 根据一年中的天数获取当前的节气和季节。\n * @param dayOfYear - 年内的天数 (1-360)。\n * @returns 当前的节气和季节对象，如果找不到则返回 null。\n */\nfunction getSolarTermAndSeason(dayOfYear) {\n    for (let i = _data_time_data__WEBPACK_IMPORTED_MODULE_1__.SOLARTERMS.length - 1; i >= 0; i--) {\n        if (dayOfYear >= _data_time_data__WEBPACK_IMPORTED_MODULE_1__.SOLARTERMS[i].startDay) {\n            return _data_time_data__WEBPACK_IMPORTED_MODULE_1__.SOLARTERMS[i];\n        }\n    }\n    return _data_time_data__WEBPACK_IMPORTED_MODULE_1__.SOLARTERMS[0]; // Fallback to the first term\n}\n/**\n * 根据季节获取基础天气概率表。\n * @param season - 当前季节 ('春' | '夏' | '秋' | '冬')。\n * @returns 一个包含天气名称和对应概率的字典。\n */\nfunction getWeatherProbabilitiesForSeason(season) {\n    const presets = {\n        '春': { '晴朗': 0.6, '微雨': 0.3, '多云': 0.1 },\n        '夏': { '烈日': 0.5, '雷阵雨': 0.4, '闷热': 0.1 },\n        '秋': { '秋高气爽': 0.7, '阴天': 0.2, '小雨': 0.1 },\n        '冬': { '小雪': 0.4, '阴冷': 0.4, '晴暖': 0.2 },\n    };\n    return presets[season];\n}\n/**\n * 根据天气名称获取对应的描述和效果。\n * @param weatherName - 天气名称。\n * @returns 包含描述和效果的对象。\n */\nfunction getWeatherDetails(weatherName) {\n    const details = {\n        '晴朗': { description: '春光明媚，微风和煦。', effects: ['心情愉悦'] },\n        '微雨': { description: '细雨蒙蒙，滋润着刚刚复苏的大地。', effects: ['植物生长加速'] },\n        '多云': { description: '云层较厚，偶有阳光洒落。', effects: [] },\n        '烈日': { description: '骄阳似火，空气中弥漫着灼热的气息。', effects: ['体力消耗加快', '易中暑'] },\n        '雷阵雨': { description: '乌云密布，雷声滚滚，大雨倾盆而下。', effects: ['雷系功法修炼加成', '危险'] },\n        '闷热': { description: '天气湿热，让人有些喘不过气。', effects: ['体力恢复减慢'] },\n        '秋高气爽': { description: '天高云淡，金风送爽，是一年中最舒适的时节。', effects: ['采集收获增加'] },\n        '阴天': { description: '天空被灰色的云层覆盖，略带凉意。', effects: [] },\n        '小雨': { description: '淅淅沥沥的秋雨，为世界染上一层清冷的色调。', effects: [] },\n        '小雪': { description: '零星的雪花从天而降，给大地铺上一层薄薄的银装。', effects: ['寒冷'] },\n        '阴冷': { description: '寒风刺骨，天空阴沉，万物萧瑟。', effects: ['寒冷', '体力消耗加快'] },\n        '晴暖': { description: '难得的冬日暖阳，让人感到一丝暖意。', effects: [] },\n    };\n    return details[weatherName] || { description: '天气异常，请检查配置。', effects: ['未知'] };\n}\n/**\n * 根据应用的修正，对天气概率进行归一化处理，确保总和为1。\n * @param probs - 待归一化的概率字典。\n * @returns 归一化后的概率字典。\n */\nfunction normalizeProbabilities(probs) {\n    const total = Object.values(probs).reduce((sum, p) => sum + p, 0);\n    if (total === 0)\n        return probs;\n    const normalized = {};\n    for (const key in probs) {\n        normalized[key] = probs[key] / total;\n    }\n    return normalized;\n}\n/**\n * 从加权概率表中随机选择一个天气。\n * @param probs - 天气及其概率的字典。\n * @returns 选中的天气名称。\n */\nfunction weightedRandomChoice(probs) {\n    const rand = Math.random();\n    let cumulative = 0;\n    for (const weather in probs) {\n        cumulative += probs[weather];\n        if (rand < cumulative) {\n            return weather;\n        }\n    }\n    return Object.keys(probs)[0]; // Fallback\n}\n/**\n * 处理时间变化的核心函数，用于更新天气、季节和节气。\n * @param payload - 从 `timeChanged` 事件接收的载荷。\n */\nasync function weatherHandler(payload) {\n    const { fromDay, toDay } = payload;\n    // 每个“天”包含12个时辰，每个时辰约等于2小时，这里我们以时辰为单位，所以乘以12\n    const elapsedHours = (toDay - fromDay) * 12;\n    if (elapsedHours <= 0)\n        return;\n    const currentVars = (0,_variables__WEBPACK_IMPORTED_MODULE_0__.getVariables)();\n    const oldWeatherState = currentVars.世界.天气;\n    // 1. 更新天气影响的持续时间\n    const activeInfluences = [];\n    const expiredInfluences = [];\n    if (oldWeatherState.天气影响 && oldWeatherState.天气影响.length > 0) {\n        oldWeatherState.天气影响.forEach(inf => {\n            const newDuration = inf.剩余时长 - elapsedHours;\n            if (newDuration > 0) {\n                activeInfluences.push({ ...inf, 剩余时长: newDuration });\n            }\n            else {\n                expiredInfluences.push(inf);\n            }\n        });\n    }\n    expiredInfluences.forEach(inf => {\n        _messageBus__WEBPACK_IMPORTED_MODULE_3__.messageBus.emit('weatherInfluenceRemoved', { influence: inf });\n        (0,_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('log', 'WeatherHandler', `Weather influence removed:`, inf);\n    });\n    // 2. 计算季节与节气\n    const dayOfYear = (toDay - 1) % 360 + 1;\n    const termInfo = getSolarTermAndSeason(dayOfYear);\n    const newSeason = termInfo.season;\n    const newSolarTerm = termInfo.name;\n    // 3. 确定天气\n    // 3a. 获取基础概率\n    let weatherProbs = getWeatherProbabilitiesForSeason(newSeason);\n    // 3b. 应用影响修正\n    activeInfluences.forEach(inf => {\n        // 示例：'祈雨' 类型的修正逻辑\n        if (inf.类型 === '祈雨') {\n            const rainTypes = ['微雨', '小雨', '雷阵雨'];\n            rainTypes.forEach(rainType => {\n                if (weatherProbs[rainType] !== undefined) {\n                    const currentProb = weatherProbs[rainType];\n                    weatherProbs[rainType] += (1 - currentProb) * inf.强度;\n                }\n            });\n        }\n        // 在此可以添加更多 else if 来处理其他影响类型，如 '干旱', '强风' 等\n    });\n    weatherProbs = normalizeProbabilities(weatherProbs);\n    // 3c. 最终裁定\n    const newWeatherName = weightedRandomChoice(weatherProbs);\n    const newWeatherDetails = getWeatherDetails(newWeatherName);\n    // 4. 构建新的天气状态\n    const newWeatherState = {\n        ...oldWeatherState, // 继承如特殊天象等旧状态\n        当前天气: newWeatherName,\n        天气描述: newWeatherDetails.description,\n        季节: newSeason,\n        节气: newSolarTerm,\n        效果: newWeatherDetails.effects,\n        天气影响: activeInfluences,\n    };\n    // 5. 更新变量并广播事件\n    (0,_variables__WEBPACK_IMPORTED_MODULE_0__.updateVariables)({ '世界.天气': newWeatherState });\n    (0,_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'WeatherHandler', 'Weather state updated:', newWeatherState);\n    if (newWeatherState.当前天气 !== oldWeatherState.当前天气) {\n        _messageBus__WEBPACK_IMPORTED_MODULE_3__.messageBus.emit('weatherChanged', { weatherData: newWeatherState });\n        (0,_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('log', 'WeatherHandler', `Event emitted: weatherChanged`);\n    }\n    if (newWeatherState.季节 !== oldWeatherState.季节) {\n        _messageBus__WEBPACK_IMPORTED_MODULE_3__.messageBus.emit('seasonChanged', { seasonName: newWeatherState.季节 });\n        (0,_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('log', 'WeatherHandler', `Event emitted: seasonChanged -> ${newWeatherState.季节}`);\n    }\n    if (newWeatherState.节气 !== oldWeatherState.节气) {\n        _messageBus__WEBPACK_IMPORTED_MODULE_3__.messageBus.emit('solarTermChanged', { solarTermName: newWeatherState.节气 });\n        (0,_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('log', 'WeatherHandler', `Event emitted: solarTermChanged -> ${newWeatherState.节气}`);\n    }\n}\n/**\n * 初始化天气相关的事件监听器。\n */\nfunction initializeWeatherListener() {\n    _messageBus__WEBPACK_IMPORTED_MODULE_3__.messageBus.on('timeChanged', (payload) => {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('log', 'WeatherHandler', 'MessageBus event `timeChanged` received.');\n        weatherHandler(payload);\n    });\n    (0,_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'WeatherHandler', 'Weather listener initialized.');\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9ldmVudHMvd2VhdGhlckNoYW5nZUhhbmRsZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsMENBQTBDO0FBRTFDOzs7O0dBSUc7QUFFMEQ7QUFDWDtBQUNmO0FBRVE7QUFNM0M7Ozs7R0FJRztBQUNILFNBQVMscUJBQXFCLENBQUMsU0FBaUI7SUFDOUMsS0FBSyxJQUFJLENBQUMsR0FBRyx1REFBVSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO1FBQ2hELElBQUksU0FBUyxJQUFJLHVEQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDeEMsT0FBTyx1REFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLENBQUM7SUFDSCxDQUFDO0lBQ0QsT0FBTyx1REFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsNkJBQTZCO0FBQ3JELENBQUM7QUFFRDs7OztHQUlHO0FBQ0gsU0FBUyxnQ0FBZ0MsQ0FBQyxNQUE2QjtJQUNyRSxNQUFNLE9BQU8sR0FBRztRQUNkLEdBQUcsRUFBRSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFO1FBQ3hDLEdBQUcsRUFBRSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFO1FBQ3pDLEdBQUcsRUFBRSxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFO1FBQzFDLEdBQUcsRUFBRSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFO0tBQ3pDLENBQUM7SUFD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LGVBQWUsQ0FBQyxFQUFFLEtBQUssZUFBZSxDQUFDLEVBQUUsRUFBRSxDQUFDO1FBQzlDLG1EQUFVLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFLEVBQUUsYUFBYSxFQUFFLGVBQWUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQzNFLCtDQUFNLENBQUMsS0FBSyxFQUFFLGdCQUFnQixFQUFFLHNDQUFzQyxlQUFlLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUM5RixDQUFDO0FBQ0gsQ0FBQztBQUVEOztHQUVHO0FBQ0ksU0FBUyx5QkFBeUI7SUFDdkMsbURBQVUsQ0FBQyxFQUFFLENBQUMsYUFBYSxFQUFFLENBQUMsT0FBTyxFQUFFLEVBQUU7UUFDdkMsK0NBQU0sQ0FBQyxLQUFLLEVBQUUsZ0JBQWdCLEVBQUUsMENBQTBDLENBQUMsQ0FBQztRQUM1RSxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDMUIsQ0FBQyxDQUFDLENBQUM7SUFDSCwrQ0FBTSxDQUFDLE1BQU0sRUFBRSxnQkFBZ0IsRUFBRSwrQkFBK0IsQ0FBQyxDQUFDO0FBQ3BFLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlLy4vc3JjL+S7gOS5iOaIkeimgeWcqOeOhOW5u+S/ruS7meS4lueVjOenjeeUsC0w5qW854mI5pysL2NvcmUvZXZlbnRzL3dlYXRoZXJDaGFuZ2VIYW5kbGVyLnRzPyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvY29yZS9ldmVudHMvd2VhdGhlckNoYW5nZUhhbmRsZXIudHNcclxuXHJcbi8qKlxyXG4gKiBAZmlsZSDotJ/otKPlpITnkIblpKnmsJTjgIHlraPoioLlkozoioLmsJTlj5jljJbnmoTkuovku7blpITnkIblmajjgIJcclxuICogQGRlc2NyaXB0aW9uIOivpeaooeWdl+ebkeWQrGB0aW1lQ2hhbmdlZGDkuovku7bvvIznu5PlkIjlraPoioLln7rnoYDmpoLnjoflkozlpJbpg6jlpKnmsJTlvbHlk43vvIxcclxuICogICAgICAgICAgICAgIOmAmui/h+WKoOadg+maj+acuueul+azleWGs+WumuW9k+WJjeaXtui+sOeahOWkqeawlO+8jOW5tuabtOaWsOS4lueVjOeKtuaAgeOAglxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGdldFZhcmlhYmxlcywgdXBkYXRlVmFyaWFibGVzIH0gZnJvbSAnLi4vdmFyaWFibGVzJztcclxuaW1wb3J0IHsgU09MQVJURVJNUyB9IGZyb20gJy4uLy4uL2RhdGEvdGltZS1kYXRhJztcclxuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyJztcclxuaW1wb3J0IHsgSVdlYXRoZXJJbmZsdWVuY2UsIElXZWF0aGVyU3RhdGUgfSBmcm9tICcuLi8uLi90eXBlcyc7XHJcbmltcG9ydCB7IG1lc3NhZ2VCdXMgfSBmcm9tICcuLi9tZXNzYWdlQnVzJztcclxuaW1wb3J0IHsgVGltZUNoYW5nZWRQYXlsb2FkIH0gZnJvbSAnLi9kZWZpbml0aW9ucyc7XHJcblxyXG4vLyDnsbvlnovlrprkuYlcclxudHlwZSBXZWF0aGVyUHJvYmFiaWxpdGllcyA9IHsgW3dlYXRoZXJOYW1lOiBzdHJpbmddOiBudW1iZXIgfTtcclxuXHJcbi8qKlxyXG4gKiDmoLnmja7kuIDlubTkuK3nmoTlpKnmlbDojrflj5blvZPliY3nmoToioLmsJTlkozlraPoioLjgIJcclxuICogQHBhcmFtIGRheU9mWWVhciAtIOW5tOWGheeahOWkqeaVsCAoMS0zNjAp44CCXHJcbiAqIEByZXR1cm5zIOW9k+WJjeeahOiKguawlOWSjOWto+iKguWvueixoe+8jOWmguaenOaJvuS4jeWIsOWImei/lOWbniBudWxs44CCXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRTb2xhclRlcm1BbmRTZWFzb24oZGF5T2ZZZWFyOiBudW1iZXIpIHtcclxuICBmb3IgKGxldCBpID0gU09MQVJURVJNUy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgaWYgKGRheU9mWWVhciA+PSBTT0xBUlRFUk1TW2ldLnN0YXJ0RGF5KSB7XHJcbiAgICAgIHJldHVybiBTT0xBUlRFUk1TW2ldO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gU09MQVJURVJNU1swXTsgLy8gRmFsbGJhY2sgdG8gdGhlIGZpcnN0IHRlcm1cclxufVxyXG5cclxuLyoqXHJcbiAqIOagueaNruWto+iKguiOt+WPluWfuuehgOWkqeawlOamgueOh+ihqOOAglxyXG4gKiBAcGFyYW0gc2Vhc29uIC0g5b2T5YmN5a2j6IqCICgn5pilJyB8ICflpI8nIHwgJ+eniycgfCAn5YasJynjgIJcclxuICogQHJldHVybnMg5LiA5Liq5YyF5ZCr5aSp5rCU5ZCN56ew5ZKM5a+55bqU5qaC546H55qE5a2X5YW444CCXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRXZWF0aGVyUHJvYmFiaWxpdGllc0ZvclNlYXNvbihzZWFzb246ICfmmKUnIHwgJ+WkjycgfCAn56eLJyB8ICflhqwnKTogV2VhdGhlclByb2JhYmlsaXRpZXMge1xyXG4gIGNvbnN0IHByZXNldHMgPSB7XHJcbiAgICAn5pilJzogeyAn5pm05pyXJzogMC42LCAn5b6u6ZuoJzogMC4zLCAn5aSa5LqRJzogMC4xIH0sXHJcbiAgICAn5aSPJzogeyAn54OI5pelJzogMC41LCAn6Zu36Zi16ZuoJzogMC40LCAn6Ze354OtJzogMC4xIH0sXHJcbiAgICAn56eLJzogeyAn56eL6auY5rCU54i9JzogMC43LCAn6Zi05aSpJzogMC4yLCAn5bCP6ZuoJzogMC4xIH0sXHJcbiAgICAn5YasJzogeyAn5bCP6ZuqJzogMC40LCAn6Zi05Ya3JzogMC40LCAn5pm05pqWJzogMC4yIH0sXHJcbiAgfTtcclxuICByZXR1cm4gcHJlc2V0c1tzZWFzb25dO1xyXG59XHJcblxyXG4vKipcclxuICog5qC55o2u5aSp5rCU5ZCN56ew6I635Y+W5a+55bqU55qE5o+P6L+w5ZKM5pWI5p6c44CCXHJcbiAqIEBwYXJhbSB3ZWF0aGVyTmFtZSAtIOWkqeawlOWQjeensOOAglxyXG4gKiBAcmV0dXJucyDljIXlkKvmj4/ov7DlkozmlYjmnpznmoTlr7nosaHjgIJcclxuICovXHJcbmZ1bmN0aW9uIGdldFdlYXRoZXJEZXRhaWxzKHdlYXRoZXJOYW1lOiBzdHJpbmcpOiB7IGRlc2NyaXB0aW9uOiBzdHJpbmc7IGVmZmVjdHM6IHN0cmluZ1tdIH0ge1xyXG4gICAgY29uc3QgZGV0YWlsczogeyBba2V5OiBzdHJpbmddOiB7IGRlc2NyaXB0aW9uOiBzdHJpbmc7IGVmZmVjdHM6IHN0cmluZ1tdIH0gfSA9IHtcclxuICAgICAgICAn5pm05pyXJzogeyBkZXNjcmlwdGlvbjogJ+aYpeWFieaYjuWqmu+8jOW+rumjjuWSjOeFpuOAgicsIGVmZmVjdHM6IFsn5b+D5oOF5oSJ5oKmJ10gfSxcclxuICAgICAgICAn5b6u6ZuoJzogeyBkZXNjcmlwdGlvbjogJ+e7humbqOiSmeiSme+8jOa7i+a2puedgOWImuWImuWkjeiLj+eahOWkp+WcsOOAgicsIGVmZmVjdHM6IFsn5qSN54mp55Sf6ZW/5Yqg6YCfJ10gfSxcclxuICAgICAgICAn5aSa5LqRJzogeyBkZXNjcmlwdGlvbjogJ+S6keWxgui+g+WOmu+8jOWBtuaciemYs+WFiea0kuiQveOAgicsIGVmZmVjdHM6IFtdIH0sXHJcbiAgICAgICAgJ+eDiOaXpSc6IHsgZGVzY3JpcHRpb246ICfpqoTpmLPkvLzngavvvIznqbrmsJTkuK3lvKXmvKvnnYDngbzng63nmoTmsJTmga/jgIInLCBlZmZlY3RzOiBbJ+S9k+WKm+a2iOiAl+WKoOW/qycsICfmmJPkuK3mmpEnXSB9LFxyXG4gICAgICAgICfpm7fpmLXpm6gnOiB7IGRlc2NyaXB0aW9uOiAn5LmM5LqR5a+G5biD77yM6Zu35aOw5rua5rua77yM5aSn6Zuo5YC+55uG6ICM5LiL44CCJywgZWZmZWN0czogWyfpm7fns7vlip/ms5Xkv67ngrzliqDmiJAnLCAn5Y2x6ZmpJ10gfSxcclxuICAgICAgICAn6Ze354OtJzogeyBkZXNjcmlwdGlvbjogJ+WkqeawlOa5v+eDre+8jOiuqeS6uuacieS6m+WWmOS4jei/h+awlOOAgicsIGVmZmVjdHM6IFsn5L2T5Yqb5oGi5aSN5YeP5oWiJ10gfSxcclxuICAgICAgICAn56eL6auY5rCU54i9JzogeyBkZXNjcmlwdGlvbjogJ+WkqemrmOS6kea3oe+8jOmHkemjjumAgeeIve+8jOaYr+S4gOW5tOS4reacgOiIkumAgueahOaXtuiKguOAgicsIGVmZmVjdHM6IFsn6YeH6ZuG5pS26I635aKe5YqgJ10gfSxcclxuICAgICAgICAn6Zi05aSpJzogeyBkZXNjcmlwdGlvbjogJ+Wkqeepuuiiq+eBsOiJsueahOS6keWxguimhueblu+8jOeVpeW4puWHieaEj+OAgicsIGVmZmVjdHM6IFtdIH0sXHJcbiAgICAgICAgJ+Wwj+mbqCc6IHsgZGVzY3JpcHRpb246ICfmt4Xmt4XmsqXmsqXnmoTnp4vpm6jvvIzkuLrkuJbnlYzmn5PkuIrkuIDlsYLmuIXlhrfnmoToibLosIPjgIInLCBlZmZlY3RzOiBbXSB9LFxyXG4gICAgICAgICflsI/pm6onOiB7IGRlc2NyaXB0aW9uOiAn6Zu25pif55qE6Zuq6Iqx5LuO5aSp6ICM6ZmN77yM57uZ5aSn5Zyw6ZO65LiK5LiA5bGC6JaE6JaE55qE6ZO26KOF44CCJywgZWZmZWN0czogWyflr5LlhrcnXSB9LFxyXG4gICAgICAgICfpmLTlhrcnOiB7IGRlc2NyaXB0aW9uOiAn5a+S6aOO5Yi66aqo77yM5aSp56m66Zi05rKJ77yM5LiH54mp6JCn55Gf44CCJywgZWZmZWN0czogWyflr5LlhrcnLCAn5L2T5Yqb5raI6ICX5Yqg5b+rJ10gfSxcclxuICAgICAgICAn5pm05pqWJzogeyBkZXNjcmlwdGlvbjogJ+mavuW+l+eahOWGrOaXpeaalumYs++8jOiuqeS6uuaEn+WIsOS4gOS4neaaluaEj+OAgicsIGVmZmVjdHM6IFtdIH0sXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGRldGFpbHNbd2VhdGhlck5hbWVdIHx8IHsgZGVzY3JpcHRpb246ICflpKnmsJTlvILluLjvvIzor7fmo4Dmn6XphY3nva7jgIInLCBlZmZlY3RzOiBbJ+acquefpSddIH07XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5qC55o2u5bqU55So55qE5L+u5q2j77yM5a+55aSp5rCU5qaC546H6L+b6KGM5b2S5LiA5YyW5aSE55CG77yM56Gu5L+d5oC75ZKM5Li6MeOAglxyXG4gKiBAcGFyYW0gcHJvYnMgLSDlvoXlvZLkuIDljJbnmoTmpoLnjoflrZflhbjjgIJcclxuICogQHJldHVybnMg5b2S5LiA5YyW5ZCO55qE5qaC546H5a2X5YW444CCXHJcbiAqL1xyXG5mdW5jdGlvbiBub3JtYWxpemVQcm9iYWJpbGl0aWVzKHByb2JzOiBXZWF0aGVyUHJvYmFiaWxpdGllcyk6IFdlYXRoZXJQcm9iYWJpbGl0aWVzIHtcclxuICAgIGNvbnN0IHRvdGFsID0gT2JqZWN0LnZhbHVlcyhwcm9icykucmVkdWNlKChzdW0sIHApID0+IHN1bSArIHAsIDApO1xyXG4gICAgaWYgKHRvdGFsID09PSAwKSByZXR1cm4gcHJvYnM7XHJcbiAgICBjb25zdCBub3JtYWxpemVkOiBXZWF0aGVyUHJvYmFiaWxpdGllcyA9IHt9O1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gcHJvYnMpIHtcclxuICAgICAgICBub3JtYWxpemVkW2tleV0gPSBwcm9ic1trZXldIC8gdG90YWw7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbm9ybWFsaXplZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIOS7juWKoOadg+amgueOh+ihqOS4remaj+acuumAieaLqeS4gOS4quWkqeawlOOAglxyXG4gKiBAcGFyYW0gcHJvYnMgLSDlpKnmsJTlj4rlhbbmpoLnjofnmoTlrZflhbjjgIJcclxuICogQHJldHVybnMg6YCJ5Lit55qE5aSp5rCU5ZCN56ew44CCXHJcbiAqL1xyXG5mdW5jdGlvbiB3ZWlnaHRlZFJhbmRvbUNob2ljZShwcm9iczogV2VhdGhlclByb2JhYmlsaXRpZXMpOiBzdHJpbmcge1xyXG4gICAgY29uc3QgcmFuZCA9IE1hdGgucmFuZG9tKCk7XHJcbiAgICBsZXQgY3VtdWxhdGl2ZSA9IDA7XHJcbiAgICBmb3IgKGNvbnN0IHdlYXRoZXIgaW4gcHJvYnMpIHtcclxuICAgICAgICBjdW11bGF0aXZlICs9IHByb2JzW3dlYXRoZXJdO1xyXG4gICAgICAgIGlmIChyYW5kIDwgY3VtdWxhdGl2ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gd2VhdGhlcjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gT2JqZWN0LmtleXMocHJvYnMpWzBdOyAvLyBGYWxsYmFja1xyXG59XHJcblxyXG4vKipcclxuICog5aSE55CG5pe26Ze05Y+Y5YyW55qE5qC45b+D5Ye95pWw77yM55So5LqO5pu05paw5aSp5rCU44CB5a2j6IqC5ZKM6IqC5rCU44CCXHJcbiAqIEBwYXJhbSBwYXlsb2FkIC0g5LuOIGB0aW1lQ2hhbmdlZGAg5LqL5Lu25o6l5pS255qE6L296I2344CCXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gd2VhdGhlckhhbmRsZXIocGF5bG9hZDogVGltZUNoYW5nZWRQYXlsb2FkKSB7XHJcbiAgY29uc3QgeyBmcm9tRGF5LCB0b0RheSB9ID0gcGF5bG9hZDtcclxuICAvLyDmr4/kuKrigJzlpKnigJ3ljIXlkKsxMuS4quaXtui+sO+8jOavj+S4quaXtui+sOe6puetieS6jjLlsI/ml7bvvIzov5nph4zmiJHku6zku6Xml7bovrDkuLrljZXkvY3vvIzmiYDku6XkuZjku6UxMlxyXG4gIGNvbnN0IGVsYXBzZWRIb3VycyA9ICh0b0RheSAtIGZyb21EYXkpICogMTI7XHJcbiAgaWYgKGVsYXBzZWRIb3VycyA8PSAwKSByZXR1cm47XHJcblxyXG4gIGNvbnN0IGN1cnJlbnRWYXJzID0gZ2V0VmFyaWFibGVzKCk7XHJcbiAgY29uc3Qgb2xkV2VhdGhlclN0YXRlOiBJV2VhdGhlclN0YXRlID0gY3VycmVudFZhcnMu5LiW55WMLuWkqeawlDtcclxuXHJcbiAgLy8gMS4g5pu05paw5aSp5rCU5b2x5ZON55qE5oyB57ut5pe26Ze0XHJcbiAgY29uc3QgYWN0aXZlSW5mbHVlbmNlczogSVdlYXRoZXJJbmZsdWVuY2VbXSA9IFtdO1xyXG4gIGNvbnN0IGV4cGlyZWRJbmZsdWVuY2VzOiBJV2VhdGhlckluZmx1ZW5jZVtdID0gW107XHJcbiAgaWYgKG9sZFdlYXRoZXJTdGF0ZS7lpKnmsJTlvbHlk40gJiYgb2xkV2VhdGhlclN0YXRlLuWkqeawlOW9seWTjS5sZW5ndGggPiAwKSB7XHJcbiAgICAgIG9sZFdlYXRoZXJTdGF0ZS7lpKnmsJTlvbHlk40uZm9yRWFjaChpbmYgPT4ge1xyXG4gICAgICAgICAgY29uc3QgbmV3RHVyYXRpb24gPSBpbmYu5Ymp5L2Z5pe26ZW/IC0gZWxhcHNlZEhvdXJzO1xyXG4gICAgICAgICAgaWYgKG5ld0R1cmF0aW9uID4gMCkge1xyXG4gICAgICAgICAgICAgIGFjdGl2ZUluZmx1ZW5jZXMucHVzaCh7IC4uLmluZiwg5Ymp5L2Z5pe26ZW/OiBuZXdEdXJhdGlvbiB9KTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgZXhwaXJlZEluZmx1ZW5jZXMucHVzaChpbmYpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICB9XHJcbiAgZXhwaXJlZEluZmx1ZW5jZXMuZm9yRWFjaChpbmYgPT4ge1xyXG4gICAgICBtZXNzYWdlQnVzLmVtaXQoJ3dlYXRoZXJJbmZsdWVuY2VSZW1vdmVkJywgeyBpbmZsdWVuY2U6IGluZiB9KTtcclxuICAgICAgbG9nZ2VyKCdsb2cnLCAnV2VhdGhlckhhbmRsZXInLCBgV2VhdGhlciBpbmZsdWVuY2UgcmVtb3ZlZDpgLCBpbmYpO1xyXG4gIH0pO1xyXG5cclxuICAvLyAyLiDorqHnrpflraPoioLkuI7oioLmsJRcclxuICBjb25zdCBkYXlPZlllYXIgPSAodG9EYXkgLSAxKSAlIDM2MCArIDE7XHJcbiAgY29uc3QgdGVybUluZm8gPSBnZXRTb2xhclRlcm1BbmRTZWFzb24oZGF5T2ZZZWFyKTtcclxuICBjb25zdCBuZXdTZWFzb24gPSB0ZXJtSW5mby5zZWFzb24gYXMgJ+aYpScgfCAn5aSPJyB8ICfnp4snIHwgJ+WGrCc7XHJcbiAgY29uc3QgbmV3U29sYXJUZXJtID0gdGVybUluZm8ubmFtZTtcclxuXHJcbiAgLy8gMy4g56Gu5a6a5aSp5rCUXHJcbiAgLy8gM2EuIOiOt+WPluWfuuehgOamgueOh1xyXG4gIGxldCB3ZWF0aGVyUHJvYnMgPSBnZXRXZWF0aGVyUHJvYmFiaWxpdGllc0ZvclNlYXNvbihuZXdTZWFzb24pO1xyXG5cclxuICAvLyAzYi4g5bqU55So5b2x5ZON5L+u5q2jXHJcbiAgYWN0aXZlSW5mbHVlbmNlcy5mb3JFYWNoKGluZiA9PiB7XHJcbiAgICAgIC8vIOekuuS+i++8mifnpYjpm6gnIOexu+Wei+eahOS/ruato+mAu+i+kVxyXG4gICAgICBpZiAoaW5mLuexu+WeiyA9PT0gJ+eliOmbqCcpIHtcclxuICAgICAgICAgIGNvbnN0IHJhaW5UeXBlcyA9IFsn5b6u6ZuoJywgJ+Wwj+mbqCcsICfpm7fpmLXpm6gnXTtcclxuICAgICAgICAgIHJhaW5UeXBlcy5mb3JFYWNoKHJhaW5UeXBlID0+IHtcclxuICAgICAgICAgICAgICBpZiAod2VhdGhlclByb2JzW3JhaW5UeXBlXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQcm9iID0gd2VhdGhlclByb2JzW3JhaW5UeXBlXTtcclxuICAgICAgICAgICAgICAgICAgd2VhdGhlclByb2JzW3JhaW5UeXBlXSArPSAoMSAtIGN1cnJlbnRQcm9iKSAqIGluZi7lvLrluqY7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgLy8g5Zyo5q2k5Y+v5Lul5re75Yqg5pu05aSaIGVsc2UgaWYg5p2l5aSE55CG5YW25LuW5b2x5ZON57G75Z6L77yM5aaCICflubLml7EnLCAn5by66aOOJyDnrYlcclxuICB9KTtcclxuICB3ZWF0aGVyUHJvYnMgPSBub3JtYWxpemVQcm9iYWJpbGl0aWVzKHdlYXRoZXJQcm9icyk7XHJcblxyXG4gIC8vIDNjLiDmnIDnu4joo4HlrppcclxuICBjb25zdCBuZXdXZWF0aGVyTmFtZSA9IHdlaWdodGVkUmFuZG9tQ2hvaWNlKHdlYXRoZXJQcm9icyk7XHJcbiAgY29uc3QgbmV3V2VhdGhlckRldGFpbHMgPSBnZXRXZWF0aGVyRGV0YWlscyhuZXdXZWF0aGVyTmFtZSk7XHJcblxyXG4gIC8vIDQuIOaehOW7uuaWsOeahOWkqeawlOeKtuaAgVxyXG4gIGNvbnN0IG5ld1dlYXRoZXJTdGF0ZTogSVdlYXRoZXJTdGF0ZSA9IHtcclxuICAgIC4uLm9sZFdlYXRoZXJTdGF0ZSwgLy8g57un5om/5aaC54m55q6K5aSp6LGh562J5pen54q25oCBXHJcbiAgICDlvZPliY3lpKnmsJQ6IG5ld1dlYXRoZXJOYW1lLFxyXG4gICAg5aSp5rCU5o+P6L+wOiBuZXdXZWF0aGVyRGV0YWlscy5kZXNjcmlwdGlvbixcclxuICAgIOWto+iKgjogbmV3U2Vhc29uLFxyXG4gICAg6IqC5rCUOiBuZXdTb2xhclRlcm0sXHJcbiAgICDmlYjmnpw6IG5ld1dlYXRoZXJEZXRhaWxzLmVmZmVjdHMsXHJcbiAgICDlpKnmsJTlvbHlk406IGFjdGl2ZUluZmx1ZW5jZXMsXHJcbiAgfTtcclxuXHJcbiAgLy8gNS4g5pu05paw5Y+Y6YeP5bm25bm/5pKt5LqL5Lu2XHJcbiAgdXBkYXRlVmFyaWFibGVzKHsgJ+S4lueVjC7lpKnmsJQnOiBuZXdXZWF0aGVyU3RhdGUgfSk7XHJcbiAgbG9nZ2VyKCdpbmZvJywgJ1dlYXRoZXJIYW5kbGVyJywgJ1dlYXRoZXIgc3RhdGUgdXBkYXRlZDonLCBuZXdXZWF0aGVyU3RhdGUpO1xyXG5cclxuICBpZiAobmV3V2VhdGhlclN0YXRlLuW9k+WJjeWkqeawlCAhPT0gb2xkV2VhdGhlclN0YXRlLuW9k+WJjeWkqeawlCkge1xyXG4gICAgbWVzc2FnZUJ1cy5lbWl0KCd3ZWF0aGVyQ2hhbmdlZCcsIHsgd2VhdGhlckRhdGE6IG5ld1dlYXRoZXJTdGF0ZSB9KTtcclxuICAgIGxvZ2dlcignbG9nJywgJ1dlYXRoZXJIYW5kbGVyJywgYEV2ZW50IGVtaXR0ZWQ6IHdlYXRoZXJDaGFuZ2VkYCk7XHJcbiAgfVxyXG4gIGlmIChuZXdXZWF0aGVyU3RhdGUu5a2j6IqCICE9PSBvbGRXZWF0aGVyU3RhdGUu5a2j6IqCKSB7XHJcbiAgICBtZXNzYWdlQnVzLmVtaXQoJ3NlYXNvbkNoYW5nZWQnLCB7IHNlYXNvbk5hbWU6IG5ld1dlYXRoZXJTdGF0ZS7lraPoioIgfSk7XHJcbiAgICBsb2dnZXIoJ2xvZycsICdXZWF0aGVySGFuZGxlcicsIGBFdmVudCBlbWl0dGVkOiBzZWFzb25DaGFuZ2VkIC0+ICR7bmV3V2VhdGhlclN0YXRlLuWto+iKgn1gKTtcclxuICB9XHJcbiAgaWYgKG5ld1dlYXRoZXJTdGF0ZS7oioLmsJQgIT09IG9sZFdlYXRoZXJTdGF0ZS7oioLmsJQpIHtcclxuICAgIG1lc3NhZ2VCdXMuZW1pdCgnc29sYXJUZXJtQ2hhbmdlZCcsIHsgc29sYXJUZXJtTmFtZTogbmV3V2VhdGhlclN0YXRlLuiKguawlCB9KTtcclxuICAgIGxvZ2dlcignbG9nJywgJ1dlYXRoZXJIYW5kbGVyJywgYEV2ZW50IGVtaXR0ZWQ6IHNvbGFyVGVybUNoYW5nZWQgLT4gJHtuZXdXZWF0aGVyU3RhdGUu6IqC5rCUfWApO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOWIneWni+WMluWkqeawlOebuOWFs+eahOS6i+S7tuebkeWQrOWZqOOAglxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemVXZWF0aGVyTGlzdGVuZXIoKSB7XHJcbiAgbWVzc2FnZUJ1cy5vbigndGltZUNoYW5nZWQnLCAocGF5bG9hZCkgPT4ge1xyXG4gICAgbG9nZ2VyKCdsb2cnLCAnV2VhdGhlckhhbmRsZXInLCAnTWVzc2FnZUJ1cyBldmVudCBgdGltZUNoYW5nZWRgIHJlY2VpdmVkLicpO1xyXG4gICAgd2VhdGhlckhhbmRsZXIocGF5bG9hZCk7XHJcbiAgfSk7XHJcbiAgbG9nZ2VyKCdpbmZvJywgJ1dlYXRoZXJIYW5kbGVyJywgJ1dlYXRoZXIgbGlzdGVuZXIgaW5pdGlhbGl6ZWQuJyk7XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/weatherChangeHandler.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/worldChangeHandler.ts": 
  /*!******************************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/worldChangeHandler.ts ***!
  \******************************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   contextUpdateHandler: () => (/* binding */ contextUpdateHandler)\n/* harmony export */ });\n/* harmony import */ var _state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../state */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/state.ts\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../logger */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts\");\n/* harmony import */ var _time__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../time */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/time.ts\");\n/* harmony import */ var _messageBus__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../messageBus */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/messageBus.ts\");\n\n\n\n\nconst contextUpdateHandler = {\n    execute: async (payload, currentVars, eventManager, pokedexManager) => {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('log', 'worldChangeHandler', 'Calculating context update', payload);\n        const worldUpdates = {};\n        const characterUpdates = {};\n        // 新的天气影响指令处理\n        if (payload['指令'] === '施加天气影响') {\n            const duration = (0,_time__WEBPACK_IMPORTED_MODULE_2__.parseDurationToHours)(payload['持续时间']);\n            if (duration > 0) {\n                const newInfluence = {\n                    类型: payload['影响类型'],\n                    强度: payload['强度'] || 0.5,\n                    剩余时长: duration,\n                    来源: payload['来源'] || '未知',\n                    描述: payload['描述'] || '',\n                };\n                const currentWeather = _.cloneDeep(_.get(currentVars, '世界.天气', {}));\n                const influences = currentWeather.天气影响 || [];\n                influences.push(newInfluence);\n                currentWeather.天气影响 = influences;\n                worldUpdates['天气'] = currentWeather;\n                // TODO: Migrate 'weatherInfluenceAdded' to the new message bus\n                // For now, leaving the old eventEmit to avoid breaking functionality.\n                // eventEmit('weatherInfluenceAdded', newInfluence);\n                (0,_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('log', 'worldChangeHandler', 'New weather influence added:', newInfluence);\n            }\n        }\n        // Time update logic\n        if (payload['时间']) {\n            const llmTimeStr = payload['时间'];\n            const timeDetails = (0,_time__WEBPACK_IMPORTED_MODULE_2__.parseTimeDetailsFromString)(llmTimeStr);\n            const currentDate = _.get(currentVars, '世界.当前日期', { 年: 1, 月: 1, 日: 1 });\n            const startDate = _.get(currentVars, '世界.开局日期', { 年: 1, 月: 1, 日: 1 });\n            const currentHour = _.get(currentVars, '世界.当前时辰', 0);\n            const currentAbsoluteDays = (0,_time__WEBPACK_IMPORTED_MODULE_2__.dateToAbsoluteDays)(currentDate);\n            const currentTotalHours = (currentAbsoluteDays - 1) * 12 + currentHour;\n            if (timeDetails) {\n                const startAbsoluteDays = (0,_time__WEBPACK_IMPORTED_MODULE_2__.dateToAbsoluteDays)(startDate);\n                // The day parsed from LLM is relative to the start date.\n                const newAbsoluteDays = startAbsoluteDays + timeDetails.relativeDay - 1;\n                const newTotalHours = (newAbsoluteDays - 1) * 12 + timeDetails.hourIndex;\n                if (newTotalHours >= currentTotalHours) {\n                    const newDate = (0,_time__WEBPACK_IMPORTED_MODULE_2__.absoluteDaysToDate)(newAbsoluteDays);\n                    worldUpdates['时间'] = llmTimeStr;\n                    worldUpdates['当前日期'] = newDate;\n                    worldUpdates['当前时辰'] = timeDetails.hourIndex;\n                    (0,_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('log', 'worldChangeHandler', `Time updated: Hour ${currentTotalHours} -> ${newTotalHours}`);\n                    const eventPayload = {\n                        fromDay: currentAbsoluteDays,\n                        toDay: newAbsoluteDays,\n                        fromTimeOfDay: `${_time__WEBPACK_IMPORTED_MODULE_2__.SHICHEN_NAMES[currentHour]}时`,\n                        toTimeOfDay: `${timeDetails.hourName}时`,\n                    };\n                    _messageBus__WEBPACK_IMPORTED_MODULE_3__.messageBus.emit('timeChanged', eventPayload);\n                    (0,_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('log', 'worldChangeHandler', 'Event emitted via messageBus: timeChanged', eventPayload);\n                }\n                else {\n                    (0,_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('error', 'worldChangeHandler', `[TIME VALIDATION FAILED] LLM tried to move time backwards. Current: Hour ${currentTotalHours}, LLM: Hour ${newTotalHours}. Ignoring time update.`);\n                    if (!(0,_state__WEBPACK_IMPORTED_MODULE_0__.getIsRecalculatingState)()) {\n                        toastr.error('AI返回了无效的时间（时间倒流），时间更新已被忽略。');\n                    }\n                }\n            }\n            else {\n                worldUpdates['时间'] = llmTimeStr;\n                (0,_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('error', 'worldChangeHandler', `[TIME VALIDATION FAILED] Could not parse time details from LLM string: \"${llmTimeStr}\". Only updating time string.`);\n                if (!(0,_state__WEBPACK_IMPORTED_MODULE_0__.getIsRecalculatingState)()) {\n                    toastr.error(`无法从AI返回的“${llmTimeStr}”中解析出有效日期。`);\n                }\n            }\n        }\n        if (payload['地点']) {\n            worldUpdates['地点'] = payload['地点'];\n        }\n        // 角色状态的更新\n        if (payload['口渴度'] !== undefined) {\n            _.set(characterUpdates, '状态.口渴度', payload['口渴度']);\n        }\n        if (payload['饱腹度'] !== undefined) {\n            _.set(characterUpdates, '状态.饱腹度', payload['饱腹度']);\n        }\n        if (payload['体力'] !== undefined) {\n            _.set(characterUpdates, '状态.体力', payload['体力']);\n        }\n        if (payload['灵力'] !== undefined) {\n            _.set(characterUpdates, '状态.灵力', payload['灵力']);\n        }\n        const updates = {};\n        if (!_.isEmpty(worldUpdates)) {\n            updates.世界 = worldUpdates;\n        }\n        if (!_.isEmpty(characterUpdates)) {\n            updates.角色 = characterUpdates;\n        }\n        return updates;\n    },\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9ldmVudHMvd29ybGRDaGFuZ2VIYW5kbGVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBRW1EO0FBRWhCO0FBRStGO0FBQ3ZGO0FBTTNDLE1BQU0sb0JBQW9CLEdBQWlCO0lBQ3ZDLE9BQU8sRUFBRSxLQUFLLEVBQUUsT0FBWSxFQUFFLFdBQTJDLEVBQUUsWUFBMkIsRUFBRSxjQUErQixFQUF1RSxFQUFFO1FBQzVNLCtDQUFNLENBQUMsS0FBSyxFQUFFLG9CQUFvQixFQUFFLDRCQUE0QixFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBRTNFLE1BQU0sWUFBWSxHQUFRLEVBQUUsQ0FBQztRQUM3QixNQUFNLGdCQUFnQixHQUFRLEVBQUUsQ0FBQztRQUVqQyxhQUFhO1FBQ2IsSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssUUFBUSxFQUFFLENBQUM7WUFDN0IsTUFBTSxRQUFRLEdBQUcsMkRBQW9CLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDdkQsSUFBSSxRQUFRLEdBQUcsQ0FBQyxFQUFFLENBQUM7Z0JBQ2YsTUFBTSxZQUFZLEdBQUc7b0JBQ2pCLEVBQUUsRUFBRSxPQUFPLENBQUMsTUFBTSxDQUFDO29CQUNuQixFQUFFLEVBQUUsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUc7b0JBQ3hCLElBQUksRUFBRSxRQUFRO29CQUNkLEVBQUUsRUFBRSxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSTtvQkFDekIsRUFBRSxFQUFFLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFO2lCQUMxQixDQUFDO2dCQUNGLE1BQU0sY0FBYyxHQUFHLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQ3BFLE1BQU0sVUFBVSxHQUFH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SSxDQUFDLENBQUMsQ0FBQztRQUNwRCxDQUFDO1FBQ0QsSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssU0FBUyxFQUFFLENBQUM7WUFDOUIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBRSxPQUFPLEVBQUUsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDcEQsQ0FBQztRQUVELE1BQU0sT0FBTyxHQUFRLEVBQUUsQ0FBQztRQUN4QixJQUFJLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDO1lBQzNCLE9BQU8sQ0FBQyxFQUFFLEdBQUcsWUFBWSxDQUFDO1FBQzlCLENBQUM7UUFDRCxJQUFJLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFLENBQUM7WUFDL0IsT0FBTyxDQUFDLEVBQUUsR0FBRyxnQkFBZ0IsQ0FBQztRQUNsQyxDQUFDO1FBRUQsT0FBTyxPQUFPLENBQUM7SUFDbkIsQ0FBQztDQUNKLENBQUM7QUFFOEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlLy4vc3JjL+S7gOS5iOaIkeimgeWcqOeOhOW5u+S/ruS7meS4lueVjOenjeeUsC0w5qW854mI5pysL2NvcmUvZXZlbnRzL3dvcmxkQ2hhbmdlSGFuZGxlci50cz8iXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSUNoYXJhY3RlciwgSVdvcmxkIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuaW1wb3J0IHsgVGltZUNoYW5nZWRQYXlsb2FkIH0gZnJvbSAnLi4vZXZlbnRzL2RlZmluaXRpb25zJztcbmltcG9ydCB7IGdldElzUmVjYWxjdWxhdGluZ1N0YXRlIH0gZnJvbSAnLi4vc3RhdGUnO1xuaW1wb3J0IHsgRXZlbnRIYW5kbGVyLCBFdmVudE1hbmFnZXIgfSBmcm9tICcuLi9ldmVudE1hbmFnZXInO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyJztcbmltcG9ydCB7IFBva2VkZXhNYW5hZ2VyIH0gZnJvbSAnLi4vcG9rZWRleCc7XG5pbXBvcnQgeyBwYXJzZVRpbWVEZXRhaWxzRnJvbVN0cmluZywgcGFyc2VEdXJhdGlvblRvSG91cnMsIGRhdGVUb0Fic29sdXRlRGF5cywgYWJzb2x1dGVEYXlzVG9EYXRlLCBTSElDSEVOX05BTUVTIH0gZnJvbSAnLi4vdGltZSc7XG5pbXBvcnQgeyBtZXNzYWdlQnVzIH0gZnJvbSAnLi4vbWVzc2FnZUJ1cyc7XG5cbmRlY2xhcmUgY29uc3QgXzogYW55O1xuZGVjbGFyZSBjb25zdCB0b2FzdHI6IGFueTtcblxuXG5jb25zdCBjb250ZXh0VXBkYXRlSGFuZGxlcjogRXZlbnRIYW5kbGVyID0ge1xuICAgIGV4ZWN1dGU6IGFzeW5jIChwYXlsb2FkOiBhbnksIGN1cnJlbnRWYXJzOiB7IOinkuiJsjogSUNoYXJhY3Rlciwg5LiW55WMOiBJV29ybGQgfSwgZXZlbnRNYW5hZ2VyPzogRXZlbnRNYW5hZ2VyLCBwb2tlZGV4TWFuYWdlcj86IFBva2VkZXhNYW5hZ2VyKTogUHJvbWlzZTxQYXJ0aWFsPHsg6KeS6ImyOiBQYXJ0aWFsPElDaGFyYWN0ZXI+OyDkuJbnlYw6IFBhcnRpYWw8SVdvcmxkPjsgfT4+ID0+IHtcbiAgICAgICAgbG9nZ2VyKCdsb2cnLCAnd29ybGRDaGFuZ2VIYW5kbGVyJywgJ0NhbGN1bGF0aW5nIGNvbnRleHQgdXBkYXRlJywgcGF5bG9hZCk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB3b3JsZFVwZGF0ZXM6IGFueSA9IHt9O1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJVcGRhdGVzOiBhbnkgPSB7fTtcblxuICAgICAgICAvLyDmlrDnmoTlpKnmsJTlvbHlk43mjIfku6TlpITnkIZcbiAgICAgICAgaWYgKHBheWxvYWRbJ+aMh+S7pCddID09PSAn5pa95Yqg5aSp5rCU5b2x5ZONJykge1xuICAgICAgICAgICAgY29uc3QgZHVyYXRpb24gPSBwYXJzZUR1cmF0aW9uVG9Ib3VycyhwYXlsb2FkWyfmjIHnu63ml7bpl7QnXSk7XG4gICAgICAgICAgICBpZiAoZHVyYXRpb24gPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3SW5mbHVlbmNlID0ge1xuICAgICAgICAgICAgICAgICAgICDnsbvlnos6IHBheWxvYWRbJ+W9seWTjeexu+WeiyddLFxuICAgICAgICAgICAgICAgICAgICDlvLrluqY6IHBheWxvYWRbJ+W8uuW6piddIHx8IDAuNSxcbiAgICAgICAgICAgICAgICAgICAg5Ymp5L2Z5pe26ZW/OiBkdXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAg5p2l5rqQOiBwYXlsb2FkWyfmnaXmupAnXSB8fCAn5pyq55+lJyxcbiAgICAgICAgICAgICAgICAgICAg5o+P6L+wOiBwYXlsb2FkWyfmj4/ov7AnXSB8fCAnJyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRXZWF0aGVyID0gXy5jbG9uZURlZXAoXy5nZXQoY3VycmVudFZhcnMsICfkuJbnlYwu5aSp5rCUJywge30pKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmZsdWVuY2VzID0gY3VycmVudFdlYXRoZXIu5aSp5rCU5b2x5ZONIHx8IFtdO1xuICAgICAgICAgICAgICAgIGluZmx1ZW5jZXMucHVzaChuZXdJbmZsdWVuY2UpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRXZWF0aGVyLuWkqeawlOW9seWTjSA9IGluZmx1ZW5jZXM7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgd29ybGRVcGRhdGVzWyflpKnmsJQnXSA9IGN1cnJlbnRXZWF0aGVyO1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IE1pZ3JhdGUgJ3dlYXRoZXJJbmZsdWVuY2VBZGRlZCcgdG8gdGhlIG5ldyBtZXNzYWdlIGJ1c1xuICAgICAgICAgICAgICAgIC8vIEZvciBub3csIGxlYXZpbmcgdGhlIG9sZCBldmVudEVtaXQgdG8gYXZvaWQgYnJlYWtpbmcgZnVuY3Rpb25hbGl0eS5cbiAgICAgICAgICAgICAgICAvLyBldmVudEVtaXQoJ3dlYXRoZXJJbmZsdWVuY2VBZGRlZCcsIG5ld0luZmx1ZW5jZSk7XG4gICAgICAgICAgICAgICAgbG9nZ2VyKCdsb2cnLCAnd29ybGRDaGFuZ2VIYW5kbGVyJywgJ05ldyB3ZWF0aGVyIGluZmx1ZW5jZSBhZGRlZDonLCBuZXdJbmZsdWVuY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGltZSB1cGRhdGUgbG9naWNcbiAgICAgICAgaWYgKHBheWxvYWRbJ+aXtumXtCddKSB7XG4gICAgICAgICAgICBjb25zdCBsbG1UaW1lU3RyID0gcGF5bG9hZFsn5pe26Ze0J107XG4gICAgICAgICAgICBjb25zdCB0aW1lRGV0YWlscyA9IHBhcnNlVGltZURldGFpbHNGcm9tU3RyaW5nKGxsbVRpbWVTdHIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RGF0ZSA9IF8uZ2V0KGN1cnJlbnRWYXJzLCAn5LiW55WMLuW9k+WJjeaXpeacnycsIHsg5bm0OiAxLCDmnIg6IDEsIOaXpTogMSB9KTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IF8uZ2V0KGN1cnJlbnRWYXJzLCAn5LiW55WMLuW8gOWxgOaXpeacnycsIHsg5bm0OiAxLCDmnIg6IDEsIOaXpTogMSB9KTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRIb3VyID0gXy5nZXQoY3VycmVudFZhcnMsICfkuJbnlYwu5b2T5YmN5pe26L6wJywgMCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRBYnNvbHV0ZURheXMgPSBkYXRlVG9BYnNvbHV0ZURheXMoY3VycmVudERhdGUpO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFRvdGFsSG91cnMgPSAoY3VycmVudEFic29sdXRlRGF5cyAtIDEpICogMTIgKyBjdXJyZW50SG91cjtcblxuICAgICAgICAgICAgaWYgKHRpbWVEZXRhaWxzKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRBYnNvbHV0ZURheXMgPSBkYXRlVG9BYnNvbHV0ZURheXMoc3RhcnREYXRlKTtcbiAgICAgICAgICAgICAgICAvLyBUaGUgZGF5IHBhcnNlZCBmcm9tIExMTSBpcyByZWxhdGl2ZSB0byB0aGUgc3RhcnQgZGF0ZS5cbiAgICAgICAgICAgICAgICBjb25zdCBuZXdBYnNvbHV0ZURheXMgPSBzdGFydEFic29sdXRlRGF5cyArIHRpbWVEZXRhaWxzLnJlbGF0aXZlRGF5IC0gMTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdUb3RhbEhvdXJzID0gKG5ld0Fic29sdXRlRGF5cyAtIDEpICogMTIgKyB0aW1lRGV0YWlscy5ob3VySW5kZXg7XG5cbiAgICAgICAgICAgICAgICBpZiAobmV3VG90YWxIb3VycyA+PSBjdXJyZW50VG90YWxIb3Vycykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdEYXRlID0gYWJzb2x1dGVEYXlzVG9EYXRlKG5ld0Fic29sdXRlRGF5cyk7XG4gICAgICAgICAgICAgICAgICAgIHdvcmxkVXBkYXRlc1sn5pe26Ze0J10gPSBsbG1UaW1lU3RyO1xuICAgICAgICAgICAgICAgICAgICB3b3JsZFVwZGF0ZXNbJ+W9k+WJjeaXpeacnyddID0gbmV3RGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgd29ybGRVcGRhdGVzWyflvZPliY3ml7bovrAnXSA9IHRpbWVEZXRhaWxzLmhvdXJJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcignbG9nJywgJ3dvcmxkQ2hhbmdlSGFuZGxlcicsIGBUaW1lIHVwZGF0ZWQ6IEhvdXIgJHtjdXJyZW50VG90YWxIb3Vyc30gLT4gJHtuZXdUb3RhbEhvdXJzfWApO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50UGF5bG9hZDogVGltZUNoYW5nZWRQYXlsb2FkID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZnJvbURheTogY3VycmVudEFic29sdXRlRGF5cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvRGF5OiBuZXdBYnNvbHV0ZURheXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tVGltZU9mRGF5OiBgJHtTSElDSEVOX05BTUVTW2N1cnJlbnRIb3VyXX3ml7ZgLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9UaW1lT2ZEYXk6IGAke3RpbWVEZXRhaWxzLmhvdXJOYW1lfeaXtmAsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VCdXMuZW1pdCgndGltZUNoYW5nZWQnLCBldmVudFBheWxvYWQpO1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIoJ2xvZycsICd3b3JsZENoYW5nZUhhbmRsZXInLCAnRXZlbnQgZW1pdHRlZCB2aWEgbWVzc2FnZUJ1czogdGltZUNoYW5nZWQnLCBldmVudFBheWxvYWQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcignZXJyb3InLCAnd29ybGRDaGFuZ2VIYW5kbGVyJywgYFtUSU1FIFZBTElEQVRJT04gRkFJTEVEXSBMTE0gdHJpZWQgdG8gbW92ZSB0aW1lIGJhY2t3YXJkcy4gQ3VycmVudDogSG91ciAke2N1cnJlbnRUb3RhbEhvdXJzfSwgTExNOiBIb3VyICR7bmV3VG90YWxIb3Vyc30uIElnbm9yaW5nIHRpbWUgdXBkYXRlLmApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWdldElzUmVjYWxjdWxhdGluZ1N0YXRlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcignQUnov5Tlm57kuobml6DmlYjnmoTml7bpl7TvvIjml7bpl7TlgJLmtYHvvInvvIzml7bpl7Tmm7TmlrDlt7Looqvlv73nlaXjgIInKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgd29ybGRVcGRhdGVzWyfml7bpl7QnXSA9IGxsbVRpbWVTdHI7XG4gICAgICAgICAgICAgICAgbG9nZ2VyKCdlcnJvcicsICd3b3JsZENoYW5nZUhhbmRsZXInLCBgW1RJTUUgVkFMSURBVElPTiBGQUlMRURdIENvdWxkIG5vdCBwYXJzZSB0aW1lIGRldGFpbHMgZnJvbSBMTE0gc3RyaW5nOiBcIiR7bGxtVGltZVN0cn1cIi4gT25seSB1cGRhdGluZyB0aW1lIHN0cmluZy5gKTtcbiAgICAgICAgICAgICAgICBpZiAoIWdldElzUmVjYWxjdWxhdGluZ1N0YXRlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKGDml6Dms5Xku45BSei/lOWbnueahOKAnCR7bGxtVGltZVN0cn3igJ3kuK3op6PmnpDlh7rmnInmlYjml6XmnJ/jgIJgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGF5bG9hZFsn5Zyw54K5J10pIHtcbiAgICAgICAgICAgIHdvcmxkVXBkYXRlc1sn5Zyw54K5J10gPSBwYXlsb2FkWyflnLDngrknXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOinkuiJsueKtuaAgeeahOabtOaWsFxuICAgICAgICBpZiAocGF5bG9hZFsn5Y+j5ri05bqmJ10gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgXy5zZXQoY2hhcmFjdGVyVXBkYXRlcywgJ+eKtuaAgS7lj6PmuLTluqYnLCBwYXlsb2FkWyflj6PmuLTluqYnXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBheWxvYWRbJ+mlseiFueW6piddICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIF8uc2V0KGNoYXJhY3RlclVwZGF0ZXMsICfnirbmgIEu6aWx6IW55bqmJywgcGF5bG9hZFsn6aWx6IW55bqmJ10pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXlsb2FkWyfkvZPlipsnXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBfLnNldChjaGFyYWN0ZXJVcGRhdGVzLCAn54q25oCBLuS9k+WKmycsIHBheWxvYWRbJ+S9k+WKmyddKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGF5bG9hZFsn54G15YqbJ10gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgXy5zZXQoY2hhcmFjdGVyVXBkYXRlcywgJ+eKtuaAgS7ngbXlipsnLCBwYXlsb2FkWyfngbXlipsnXSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB1cGRhdGVzOiBhbnkgPSB7fTtcbiAgICAgICAgaWYgKCFfLmlzRW1wdHkod29ybGRVcGRhdGVzKSkge1xuICAgICAgICAgICAgdXBkYXRlcy7kuJbnlYwgPSB3b3JsZFVwZGF0ZXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFfLmlzRW1wdHkoY2hhcmFjdGVyVXBkYXRlcykpIHtcbiAgICAgICAgICAgIHVwZGF0ZXMu6KeS6ImyID0gY2hhcmFjdGVyVXBkYXRlcztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1cGRhdGVzO1xuICAgIH0sXG59O1xuXG5leHBvcnQgeyBjb250ZXh0VXBkYXRlSGFuZGxlciB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/worldChangeHandler.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/core/generation.ts": 
  /*!***************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/core/generation.ts ***!
  \***************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sendGenerationRequest: () => (/* binding */ sendGenerationRequest)\n/* harmony export */ });\n/* harmony import */ var _state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./state */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/state.ts\");\n/* harmony import */ var _ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ui */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/ui.ts\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./logger */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts\");\n// core/generation.ts\n\n\n\n// #endregion\n/**\n * 发送最终构建好的生成请求给AI。\n * @param userInput - 用户的输入文本。\n * @param chatHistory - 格式化后的聊天记录数组。\n * @param injects - 要注入的提示词数组。\n * @param storyRenderer - StoryRenderer的实例，用于控制UI。\n */\nconst sendGenerationRequest = async (userInput, chatHistory, injects, storyRenderer) => {\n    (0,_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'Generation', '`sendGenerationRequest` called.');\n    // 1. 更新UI加载状态\n    storyRenderer.showGenerationLoadingState();\n    const currentTurnSwipes = (0,_state__WEBPACK_IMPORTED_MODULE_0__.getCurrentTurnSwipes)();\n    $('#swipe-counter').text(`${currentTurnSwipes.length + 1} / ${currentTurnSwipes.length + 1}`);\n    try {\n        // 2. 读取流式设置\n        const currentVars = getVariables({ type: 'chat' });\n        const shouldStream = _.get(currentVars, 'plugin_settings.context_management.shouldStream', true);\n        (0,_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'Generation', `Streaming mode is ${shouldStream ? 'enabled' : 'disabled'}.`);\n        // 3. 调用核心生成函数\n        await generate({\n            user_input: userInput,\n            should_stream: shouldStream,\n            injects: injects,\n            overrides: {\n                chat_history: {\n                    prompts: chatHistory,\n                },\n            },\n        });\n    }\n    catch (error) {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('error', 'Generation', 'AI generation failed.', error);\n        storyRenderer.showGenerationError('生成请求失败，请稍后重试。', () => {\n            sendGenerationRequest(userInput, chatHistory, injects, storyRenderer);\n        });\n        // 确保在出错时重置状态\n        (0,_state__WEBPACK_IMPORTED_MODULE_0__.setIsAiGenerating)(false);\n        (0,_ui__WEBPACK_IMPORTED_MODULE_1__.updateSwipeUI)();\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9nZW5lcmF0aW9uLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxxQkFBcUI7QUFDZ0U7QUFDaEQ7QUFFSDtBQWNsQyxhQUFhO0FBRWI7Ozs7OztHQU1HO0FBQ0ksTUFBTSxxQkFBcUIsR0FBRyxLQUFLLEVBQUUsU0FBaUIsRUFBRSxXQUFrQixFQUFFLE9BQWMsRUFBRSxhQUE0QixFQUFFLEVBQUU7SUFDakksK0NBQU0sQ0FBQyxNQUFNLEVBQUUsWUFBWSxFQUFFLGlDQUFpQyxDQUFDLENBQUM7SUFDaEUsY0FBYztJQUNkLGFBQWEsQ0FBQywwQkFBMEIsRUFBRSxDQUFDO0lBQzNDLE1BQU0saUJBQWlCLEdBQUcsNERBQW9CLEVBQUUsQ0FBQztJQUNqRCxDQUFDLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxpQkFBaUIsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxNQUFNLGlCQUFpQixDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBRTlGLElBQUksQ0FBQztRQUNILFlBQVk7UUFDWixNQUFNLFdBQVcsR0FBRyxZQUFZLENBQUMsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQztRQUNuRCxNQUFNLFlBQVksR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxpREFBaUQsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNqRywrQ0FBTSxDQUFDLE1BQU0sRUFBRSxZQUFZLEVBQUUscUJBQXFCLFlBQVksQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDO1FBRTVGLGNBQWM7UUFDZCxNQUFNLFFBQVEsQ0FBQztZQUNiLFVBQVUsRUFBRSxTQUFTO1lBQ3JCLGFBQWEsRUFBRSxZQUFZO1lBQzNCLE9BQU8sRUFBRSxPQUFPO1lBQ2hCLFNBQVMsRUFBRTtnQkFDVCxZQUFZLEVBQUU7b0JBQ1osT0FBTyxFQUFFLFdBQVc7aUJBQ3JCO2FBQ0Y7U0FDRixDQUFDLENBQUM7SUFFTCxDQUFDO0lBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztRQUNmLCtDQUFNLENBQUMsT0FBTyxFQUFFLFlBQVksRUFBRSx1QkFBdUIsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUM5RCxhQUFhLENBQUMsbUJBQW1CLENBQUMsZUFBZSxFQUFFLEdBQUcsRUFBRTtZQUN0RCxxQkFBcUIsQ0FBQyxTQUFTLEVBQUUsV0FBVyxFQUFFLE9BQU8sRUFBRSxhQUFhLENBQUMsQ0FBQztRQUN4RSxDQUFDLENBQUMsQ0FBQztRQUNILGFBQWE7UUFDYix5REFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN6QixrREFBYSxFQUFFLENBQUM7SUFDbEIsQ0FBQztBQUNILENBQUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9nZW5lcmF0aW9uLnRzPyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjb3JlL2dlbmVyYXRpb24udHNcbmltcG9ydCB7IGdldElzQWlHZW5lcmF0aW5nLCBzZXRJc0FpR2VuZXJhdGluZywgZ2V0Q3VycmVudFR1cm5Td2lwZXMgfSBmcm9tICcuL3N0YXRlJztcbmltcG9ydCB7IHVwZGF0ZVN3aXBlVUkgfSBmcm9tICcuL3VpJztcbmltcG9ydCB0eXBlIHsgU3RvcnlSZW5kZXJlciB9IGZyb20gJy4vcmVuZGVyZXInO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi9sb2dnZXInO1xuaW1wb3J0IHsgQ2hhdEhpc3RvcnlNYW5hZ2VyIH0gZnJvbSAnLi9oaXN0b3J5JztcblxuLy8gI3JlZ2lvbiDlpJbpg6jkvp3otZblo7DmmI5cbi8vIEB0cy1pZ25vcmVcbmRlY2xhcmUgY29uc3QgdG9hc3RyOiBhbnk7XG4vLyBAdHMtaWdub3JlXG5kZWNsYXJlIGNvbnN0ICQ6IGFueTtcbi8vIEB0cy1pZ25vcmVcbmRlY2xhcmUgY29uc3QgZ2VuZXJhdGU6IChvcHRpb25zOiBhbnkpID0+IFByb21pc2U8dm9pZD47XG4vLyBAdHMtaWdub3JlXG5kZWNsYXJlIGNvbnN0IGdldFZhcmlhYmxlczogKG9wdGlvbnM/OiBhbnkpID0+IGFueTtcbi8vIEB0cy1pZ25vcmVcbmRlY2xhcmUgY29uc3QgXzogYW55O1xuLy8gI2VuZHJlZ2lvblxuXG4vKipcbiAqIOWPkemAgeacgOe7iOaehOW7uuWlveeahOeUn+aIkOivt+axgue7mUFJ44CCXG4gKiBAcGFyYW0gdXNlcklucHV0IC0g55So5oi355qE6L6T5YWl5paH5pys44CCXG4gKiBAcGFyYW0gY2hhdEhpc3RvcnkgLSDmoLzlvI/ljJblkI7nmoTogYrlpKnorrDlvZXmlbDnu4TjgIJcbiAqIEBwYXJhbSBpbmplY3RzIC0g6KaB5rOo5YWl55qE5o+Q56S66K+N5pWw57uE44CCXG4gKiBAcGFyYW0gc3RvcnlSZW5kZXJlciAtIFN0b3J5UmVuZGVyZXLnmoTlrp7kvovvvIznlKjkuo7mjqfliLZVSeOAglxuICovXG5leHBvcnQgY29uc3Qgc2VuZEdlbmVyYXRpb25SZXF1ZXN0ID0gYXN5bmMgKHVzZXJJbnB1dDogc3RyaW5nLCBjaGF0SGlzdG9yeTogYW55W10sIGluamVjdHM6IGFueVtdLCBzdG9yeVJlbmRlcmVyOiBTdG9yeVJlbmRlcmVyKSA9PiB7XG4gIGxvZ2dlcignaW5mbycsICdHZW5lcmF0aW9uJywgJ2BzZW5kR2VuZXJhdGlvblJlcXVlc3RgIGNhbGxlZC4nKTtcbiAgLy8gMS4g5pu05pawVUnliqDovb3nirbmgIFcbiAgc3RvcnlSZW5kZXJlci5zaG93R2VuZXJhdGlvbkxvYWRpbmdTdGF0ZSgpO1xuICBjb25zdCBjdXJyZW50VHVyblN3aXBlcyA9IGdldEN1cnJlbnRUdXJuU3dpcGVzKCk7XG4gICQoJyNzd2lwZS1jb3VudGVyJykudGV4dChgJHtjdXJyZW50VHVyblN3aXBlcy5sZW5ndGggKyAxfSAvICR7Y3VycmVudFR1cm5Td2lwZXMubGVuZ3RoICsgMX1gKTtcblxuICB0cnkge1xuICAgIC8vIDIuIOivu+WPlua1geW8j+iuvue9rlxuICAgIGNvbnN0IGN1cnJlbnRWYXJzID0gZ2V0VmFyaWFibGVzKHsgdHlwZTogJ2NoYXQnIH0pO1xuICAgIGNvbnN0IHNob3VsZFN0cmVhbSA9IF8uZ2V0KGN1cnJlbnRWYXJzLCAncGx1Z2luX3NldHRpbmdzLmNvbnRleHRfbWFuYWdlbWVudC5zaG91bGRTdHJlYW0nLCB0cnVlKTtcbiAgICBsb2dnZXIoJ2luZm8nLCAnR2VuZXJhdGlvbicsIGBTdHJlYW1pbmcgbW9kZSBpcyAke3Nob3VsZFN0cmVhbSA/ICdlbmFibGVkJyA6ICdkaXNhYmxlZCd9LmApO1xuXG4gICAgLy8gMy4g6LCD55So5qC45b+D55Sf5oiQ5Ye95pWwXG4gICAgYXdhaXQgZ2VuZXJhdGUoe1xuICAgICAgdXNlcl9pbnB1dDogdXNlcklucHV0LFxuICAgICAgc2hvdWxkX3N0cmVhbTogc2hvdWxkU3RyZWFtLFxuICAgICAgaW5qZWN0czogaW5qZWN0cyxcbiAgICAgIG92ZXJyaWRlczoge1xuICAgICAgICBjaGF0X2hpc3Rvcnk6IHtcbiAgICAgICAgICBwcm9tcHRzOiBjaGF0SGlzdG9yeSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2dnZXIoJ2Vycm9yJywgJ0dlbmVyYXRpb24nLCAnQUkgZ2VuZXJhdGlvbiBmYWlsZWQuJywgZXJyb3IpO1xuICAgIHN0b3J5UmVuZGVyZXIuc2hvd0dlbmVyYXRpb25FcnJvcign55Sf5oiQ6K+35rGC5aSx6LSl77yM6K+356iN5ZCO6YeN6K+V44CCJywgKCkgPT4ge1xuICAgICAgc2VuZEdlbmVyYXRpb25SZXF1ZXN0KHVzZXJJbnB1dCwgY2hhdEhpc3RvcnksIGluamVjdHMsIHN0b3J5UmVuZGVyZXIpO1xuICAgIH0pO1xuICAgIC8vIOehruS/neWcqOWHuumUmeaXtumHjee9rueKtuaAgVxuICAgIHNldElzQWlHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICB1cGRhdGVTd2lwZVVJKCk7XG4gIH1cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/core/generation.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/core/history.ts": 
  /*!************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/core/history.ts ***!
  \************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatHistoryManager: () => (/* binding */ ChatHistoryManager)\n/* harmony export */ });\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./logger */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts\");\n// core/history.ts\n\n// --- Core Logic: ChatHistoryManager v2.0 ---\nclass ChatHistoryManager {\n    history = this.getdefaultHistory();\n    isInitialized = false;\n    lastActiveMessageId = null;\n    getdefaultHistory() {\n        return {\n            version: '2.0',\n            branches: { main: {} },\n            activeBranch: 'main',\n            metadata: {},\n        };\n    }\n    /**\n     * Loads history from variables, handles migration from v1, and builds metadata.\n     */\n    async loadHistory() {\n        if (this.isInitialized)\n            return;\n        try {\n            const chatVars = getVariables({ type: 'chat' }) || {};\n            const rawHistory = _.cloneDeep(_.get(chatVars, 'plugin_storage.llm_history'));\n            if (!rawHistory) {\n                this.history = this.getdefaultHistory();\n            }\n            else if (Array.isArray(rawHistory) || !rawHistory.version) {\n                // This is v1.0 data (or very old format)\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'History', 'v1.0 history format detected. Migrating to v2.0...');\n                this.history = this.migrateV1ToV2(rawHistory);\n                await this.saveHistory(); // Persist the migrated structure\n            }\n            else if (rawHistory.version === '2.0') {\n                // This is v2.0 data\n                this.history = rawHistory;\n            }\n            else {\n                // Unsupported version\n                throw new Error(`Unsupported history version: ${rawHistory.version}`);\n            }\n            this.buildMetadata();\n            this.isInitialized = true;\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'History', `Chat history v${this.history.version} loaded. Active branch: \"${this.history.activeBranch}\".`);\n        }\n        catch (error) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'History', 'Failed to load chat history.', error);\n            toastr.error('加载聊天记录失败，将使用空记录。');\n            this.history = this.getdefaultHistory();\n        }\n    }\n    /**\n     * Starts a new turn with the user's message.\n     * @param userMessageContent The content of the user's message.\n     */\n    async addUserTurn(userMessageContent) {\n        const userPage = {\n            id: `msg_${Date.now()}_${Math.random().toString(36).substring(2, 9)}`,\n            role: 'user',\n            content: userMessageContent,\n            timestamp: Date.now(),\n            isValid: true,\n        };\n        const newTurn = {\n            role: 'user',\n            pages: { 0: userPage },\n            activePageIndex: 0,\n        };\n        const activeBranch = this.history.branches[this.history.activeBranch];\n        const newTurnIndex = Object.keys(activeBranch).length;\n        activeBranch[newTurnIndex] = newTurn;\n        // Update metadata\n        this.history.metadata[userPage.id] = {\n            branchId: this.history.activeBranch,\n            turnIndex: newTurnIndex,\n            pageIndex: 0,\n        };\n        await this.saveHistory();\n    }\n    /**\n     * Starts the very first turn of a branch, which is an assistant message.\n     */\n    async startGenesisTurn() {\n        const newTurn = {\n            role: 'assistant',\n            pages: {},\n            activePageIndex: 0,\n        };\n        const activeBranch = this.history.branches[this.history.activeBranch];\n        if (Object.keys(activeBranch).length > 0) {\n            // Avoid creating a genesis turn if history is not empty\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'History', 'Attempted to create a genesis turn in a non-empty branch.');\n            return;\n        }\n        activeBranch[0] = newTurn;\n        await this.saveHistory();\n    }\n    /**\n     * Adds a new AI-generated message page (a swipe). It will either add it to the\n     * last assistant turn or create a new assistant turn if the last one was by the user.\n     * @param assistantMessageContent The content of the AI's message.\n     * @returns The ID of the newly created message page.\n     */\n    async addAssistantMessagePage(assistantMessageContent) {\n        const activeBranch = this.history.branches[this.history.activeBranch];\n        let turnIndex = Object.keys(activeBranch).length - 1;\n        let currentTurn = activeBranch[turnIndex];\n        // If the last turn was a user turn, or if there are no turns, create a new assistant turn.\n        if (!currentTurn || currentTurn.role === 'user') {\n            turnIndex++;\n            const newTurn = {\n                role: 'assistant',\n                pages: {},\n                activePageIndex: 0,\n            };\n            activeBranch[turnIndex] = newTurn;\n            currentTurn = newTurn;\n        }\n        const newPageIndex = Object.keys(currentTurn.pages).length;\n        const assistantPage = {\n            id: `msg_${Date.now()}_${Math.random().toString(36).substring(2, 9)}`,\n            role: 'assistant',\n            content: assistantMessageContent,\n            timestamp: Date.now(),\n            isValid: true,\n        };\n        currentTurn.pages[newPageIndex] = assistantPage;\n        // Core Fix: Set the newly added page as the active one for this turn.\n        // This ensures that the history's internal state is always consistent,\n        // making it the authoritative source of truth for the active swipe.\n        currentTurn.activePageIndex = newPageIndex;\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'History', `[SWIPE_FIX] New assistant page added. Active page index for turn ${turnIndex} is now ${newPageIndex}.`);\n        // Update metadata\n        this.history.metadata[assistantPage.id] = {\n            branchId: this.history.activeBranch,\n            turnIndex: turnIndex,\n            pageIndex: newPageIndex,\n        };\n        await this.saveHistory();\n        return assistantPage.id;\n    }\n    /**\n     * Clears the in-memory representation of the chat history.\n     * This is used when starting a new game to prevent stale data before a page reload.\n     */\n    clearInMemoryHistory() {\n        this.history = this.getdefaultHistory();\n        this.isInitialized = false; // Reset initialization flag as well\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'History', 'In-memory history has been cleared.');\n    }\n    /**\n     * Sets the active assistant message page (swipe) for a given turn.\n     * @param turnIndex The index of the turn to modify.\n     * @param pageIndex The new active page index.\n     */\n    async setActivePage(turnIndex, pageIndex) {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'History', `[SWIPE_DEBUG] setActivePage called with turnIndex: ${turnIndex}, pageIndex: ${pageIndex}`);\n        const turn = this.history.branches[this.history.activeBranch]?.[turnIndex];\n        if (!turn || !turn.pages[pageIndex]) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'History', `[SWIPE_DEBUG] setActivePage failed: Invalid turn or page index. Turn: ${turnIndex}, Page: ${pageIndex}`);\n            throw new Error(`Invalid turn or page index: Turn ${turnIndex}, Page ${pageIndex}`);\n        }\n        if (turn.role === 'user') {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'History', `[SWIPE_DEBUG] Attempted to set active page on a user turn (${turnIndex}), which is not allowed.`);\n            return;\n        }\n        const previousPageId = turn.pages[turn.activePageIndex]?.id || null;\n        const newPageId = turn.pages[pageIndex].id;\n        // 仅在页面实际发生变化时才触发状态更新\n        if (previousPageId === newPageId) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'History', `[SWIPE_DEBUG] Page index ${pageIndex} is already active. No state change needed.`);\n            return;\n        }\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'History', `[SWIPE_DEBUG] Active page changing for turn ${turnIndex}, from ${turn.activePageIndex} to ${pageIndex}.`);\n        turn.activePageIndex = pageIndex;\n        await this.saveHistory();\n        // Dispatch event for state recalculation\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'History', `[SWIPE_DEBUG] Dispatching 'stateActivationRequested' event for new messageId: ${newPageId} (previous: ${previousPageId})`);\n        window.dispatchEvent(new CustomEvent('stateActivationRequested', {\n            detail: {\n                newMessageId: newPageId,\n                previousMessageId: this.lastActiveMessageId,\n            }\n        }));\n        this.lastActiveMessageId = newPageId;\n    }\n    /**\n     * Updates the content of a specific message page.\n     * @param messageId The ID of the message to update.\n     * @param newContent The new content.\n     */\n    async updateMessagePageContent(messageId, newContent) {\n        const coords = this.history.metadata[messageId];\n        if (!coords)\n            throw new Error(`Message with ID ${messageId} not found in metadata.`);\n        const { branchId, turnIndex, pageIndex } = coords;\n        const turn = this.history.branches[branchId]?.[turnIndex];\n        if (!turn)\n            throw new Error('Turn not found for message.');\n        const pageToUpdate = turn.pages[pageIndex];\n        if (pageToUpdate) {\n            pageToUpdate.content = newContent;\n            await this.saveHistory();\n        }\n        else {\n            throw new Error('Message page not found at specified coordinates.');\n        }\n    }\n    /**\n     * Creates a new branch from a specific turn in the current active branch.\n     * @param fromTurnIndex The index of the turn to branch from.\n     * @returns The ID of the new branch.\n     */\n    async createBranch(fromTurnIndex) {\n        const activeBranchTurns = this.history.branches[this.history.activeBranch];\n        if (activeBranchTurns[fromTurnIndex] === undefined) {\n            throw new Error('Branch creation index is out of bounds.');\n        }\n        const newBranchId = `branch-${Date.now()}`;\n        const newBranch = {};\n        // Deep copy turns up to the specified index\n        for (let i = 0; i <= fromTurnIndex; i++) {\n            newBranch[i] = _.cloneDeep(activeBranchTurns[i]);\n        }\n        this.history.branches[newBranchId] = newBranch;\n        this.history.activeBranch = newBranchId;\n        // Metadata for the new branch is implicitly copied. Rebuild to be safe.\n        this.buildMetadata();\n        await this.saveHistory();\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'History', `Created new branch \"${newBranchId}\" from turn ${fromTurnIndex}.`);\n        return newBranchId;\n    }\n    // --- Branch Management ---\n    getBranches() {\n        return Object.keys(this.history.branches).map(branchId => {\n            const turns = this.history.branches[branchId];\n            const turnIndices = Object.keys(turns).map(Number);\n            const lastTurn = turns[Math.max(...turnIndices)];\n            const lastMessage = lastTurn?.pages[lastTurn.activePageIndex];\n            return {\n                id: branchId,\n                name: branchId, // Name is ID for now\n                messageCount: turnIndices.length * 2, // Approximation\n                lastModified: lastMessage?.timestamp || 0,\n                isActive: branchId === this.history.activeBranch,\n            };\n        }).sort((a, b) => b.lastModified - a.lastModified);\n    }\n    getActiveBranchId() {\n        return this.history.activeBranch;\n    }\n    async switchBranch(branchId) {\n        if (!this.history.branches[branchId]) {\n            throw new Error(`Branch \"${branchId}\" not found.`);\n        }\n        this.history.activeBranch = branchId;\n        await this.saveHistory();\n    }\n    getRawHistory() {\n        return this.history;\n    }\n    /**\n     * Retrieves a single message page by its unique ID.\n     * @param messageId The ID of the message to retrieve.\n     * @returns The MessagePage object or null if not found.\n     */\n    getMessageById(messageId) {\n        const coords = this.history.metadata[messageId];\n        if (!coords)\n            return null;\n        const { branchId, turnIndex, pageIndex } = coords;\n        return this.history.branches[branchId]?.[turnIndex]?.pages[pageIndex] || null;\n    }\n    /**\n     * (v2.6) Gets the absolute turn index for a given message ID.\n     * @param messageId The ID of the message.\n     * @returns The turn index, or -1 if not found.\n     */\n    getMessageIndex(messageId) {\n        const coords = this.history.metadata[messageId];\n        return coords ? coords.turnIndex : -1;\n    }\n    async renameBranch(oldBranchId, newBranchId) {\n        if (!this.history.branches[oldBranchId])\n            throw new Error(`Branch \"${oldBranchId}\" not found.`);\n        if (this.history.branches[newBranchId])\n            throw new Error(`Branch \"${newBranchId}\" already exists.`);\n        this.history.branches[newBranchId] = this.history.branches[oldBranchId];\n        delete this.history.branches[oldBranchId];\n        if (this.history.activeBranch === oldBranchId) {\n            this.history.activeBranch = newBranchId;\n        }\n        this.buildMetadata(); // Rebuild metadata with new branch ID\n        await this.saveHistory();\n    }\n    async deleteBranch(branchId) {\n        if (Object.keys(this.history.branches).length <= 1) {\n            throw new Error(\"Cannot delete the last branch.\");\n        }\n        if (!this.history.branches[branchId]) {\n            throw new Error(`Branch \"${branchId}\" not found.`);\n        }\n        delete this.history.branches[branchId];\n        if (this.history.activeBranch === branchId) {\n            this.history.activeBranch = Object.keys(this.history.branches)[0];\n        }\n        this.buildMetadata();\n        await this.saveHistory();\n    }\n    async deleteTurn(turnIndex) {\n        const activeBranch = this.history.branches[this.history.activeBranch];\n        if (!activeBranch || !activeBranch[turnIndex]) {\n            throw new Error(`Turn ${turnIndex} not found in active branch.`);\n        }\n        // To delete a turn, we shift all subsequent turns down.\n        const turnIndices = Object.keys(activeBranch).map(Number).sort((a, b) => a - b);\n        for (let i = turnIndex; i < turnIndices.length - 1; i++) {\n            activeBranch[i] = activeBranch[i + 1];\n        }\n        // Delete the last turn, which is now a duplicate.\n        delete activeBranch[turnIndices.length - 1];\n        this.buildMetadata();\n        await this.saveHistory();\n    }\n    /**\n     * Returns a linear, ordered list of active messages for prompt construction.\n     */\n    getMessagesForPrompt() {\n        const messages = [];\n        const activeBranchTurns = this.history.branches[this.history.activeBranch];\n        const turnIndices = Object.keys(activeBranchTurns).map(Number).sort((a, b) => a - b);\n        for (const index of turnIndices) {\n            const turn = activeBranchTurns[index];\n            const activePage = turn.pages[turn.activePageIndex];\n            if (activePage) {\n                messages.push(activePage);\n            }\n        }\n        return messages;\n    }\n    /**\n     * (v2.7) Gets the final message page of the turn prior to the one containing the given message ID.\n     * This is essential for L1 cache implementation (state rollback for retries).\n     * @param messageId The ID of a message in the current turn.\n     * @returns The MessagePage of the last active message of the previous turn, or null if it's the first turn.\n     */\n    getPreviousTurnMessage(messageId) {\n        const coords = this.history.metadata[messageId];\n        if (!coords)\n            return null;\n        const { branchId, turnIndex } = coords;\n        if (turnIndex === 0)\n            return null; // It's the first turn, no previous turn exists.\n        const previousTurnIndex = turnIndex - 1;\n        const previousTurn = this.history.branches[branchId]?.[previousTurnIndex];\n        if (!previousTurn)\n            return null;\n        return previousTurn.pages[previousTurn.activePageIndex] || null;\n    }\n    /**\n     * (v2.6) Gets all active message pages in the current branch between two points.\n     * This is crucial for state recalculation with snapshots.\n     * @param targetMessageId The ID of the end message.\n     * @param startMessageId (Optional) The ID of the start message. Events from this message's turn will be excluded.\n     * @returns An array of MessagePage objects in chronological order, or null if the target is not found.\n     */\n    getActiveMessagesUntil(targetMessageId, startMessageId) {\n        const coords = this.history.metadata[targetMessageId];\n        if (!coords)\n            return null;\n        const { branchId, turnIndex: targetTurnIndex } = coords;\n        const startTurnIndex = startMessageId ? this.getMessageIndex(startMessageId) : -1;\n        const messages = [];\n        const targetBranchTurns = this.history.branches[branchId];\n        const turnIndices = Object.keys(targetBranchTurns).map(Number).sort((a, b) => a - b);\n        for (const index of turnIndices) {\n            if (index <= startTurnIndex)\n                continue; // Skip turns before or at the snapshot\n            if (index > targetTurnIndex)\n                break;\n            const turn = targetBranchTurns[index];\n            // For the target turn, use its own page index. For all previous turns, use their active page index.\n            const pageIndex = (index === targetTurnIndex) ? coords.pageIndex : turn.activePageIndex;\n            const activePage = turn.pages[pageIndex];\n            if (activePage) {\n                messages.push(activePage);\n            }\n        }\n        return messages;\n    }\n    /**\n     * Gets the total number of turns in the currently active branch.\n     * @returns The number of turns.\n     */\n    getTurnCount() {\n        const activeBranch = this.history.branches[this.history.activeBranch];\n        if (!activeBranch) {\n            return 0;\n        }\n        return Object.keys(activeBranch).length;\n    }\n    /**\n     * Saves the entire history object back to the variable system.\n     */\n    async saveHistory() {\n        try {\n            // 添加了 this.history 的深拷贝，以防止日志记录中的对象被后续操作修改\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'History', 'Attempting to save history. Current state:', _.cloneDeep(this.history));\n            await updateVariablesWith((chatVars) => {\n                _.set(chatVars, 'plugin_storage.llm_history', this.history);\n                return chatVars;\n            }, { type: 'chat' });\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'History', 'History saved successfully.');\n        }\n        catch (error) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'History', 'Failed to save history.', error);\n            throw new Error('Failed to persist history changes.');\n        }\n    }\n    /**\n     * Builds the metadata lookup table from the current history state.\n     */\n    buildMetadata() {\n        this.history.metadata = {};\n        for (const branchId in this.history.branches) {\n            const turns = this.history.branches[branchId];\n            for (const turnIndexStr in turns) {\n                const turnIndex = parseInt(turnIndexStr, 10);\n                const turn = turns[turnIndex];\n                for (const pageIndexStr in turn.pages) {\n                    const pageIndex = parseInt(pageIndexStr, 10);\n                    const page = turn.pages[pageIndex];\n                    if (page) {\n                        this.history.metadata[page.id] = { branchId, turnIndex, pageIndex };\n                    }\n                }\n            }\n        }\n    }\n    /**\n     * Converts the old v1 flat array structure to the new v2 nested object structure.\n     * @param v1History The old history array.\n     * @returns A new ChatHistory object in v2 format.\n     */\n    migrateV1ToV2(v1History) {\n        const newHistory = this.getdefaultHistory();\n        const mainBranch = newHistory.branches.main;\n        let turnIndex = 0;\n        v1History.forEach(msg => {\n            if (msg.role === 'user') {\n                const userPage = {\n                    id: msg.id || `msg_${msg.timestamp}_${Math.random().toString(36).substring(2, 9)}`,\n                    role: 'user',\n                    content: Array.isArray(msg.content) ? msg.content.join('\\n') : msg.content,\n                    timestamp: msg.timestamp,\n                    isValid: msg.isValid !== false,\n                };\n                const userTurn = {\n                    role: 'user',\n                    pages: { 0: userPage },\n                    activePageIndex: 0,\n                };\n                mainBranch[turnIndex++] = userTurn;\n            }\n            else if (msg.role === 'assistant') {\n                const assistantTurn = {\n                    role: 'assistant',\n                    pages: {},\n                    activePageIndex: msg.activeSwipeIndex || 0,\n                };\n                const swipes = Array.isArray(msg.content) ? msg.content : [msg.content];\n                swipes.forEach((swipeContent, pageIndex) => {\n                    const assistantPage = {\n                        id: pageIndex === (msg.activeSwipeIndex || 0) ? msg.id : `msg_${msg.timestamp}_${pageIndex}`,\n                        role: 'assistant',\n                        content: swipeContent,\n                        timestamp: msg.timestamp,\n                        isValid: msg.isValid !== false,\n                    };\n                    assistantTurn.pages[pageIndex] = assistantPage;\n                });\n                mainBranch[turnIndex++] = assistantTurn;\n            }\n        });\n        return newHistory;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9oaXN0b3J5LnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsa0JBQWtCO0FBRWdCO0FBa0RsQyw4Q0FBOEM7QUFDdkMsTUFBTSxrQkFBa0I7SUFDckIsT0FBTyxHQUFnQixJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztJQUNoRCxhQUFhLEdBQVksS0FBSyxDQUFDO0lBQy9CLG1CQUFtQixHQUFrQixJQUFJLENBQUM7SUFFMUMsaUJBQWlCO1FBQ3ZCLE9BQU87WUFDTCxPQUFPLEVBQUUsS0FBSztZQUNkLFFBQVEsRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUU7WUFDdEIsWUFBWSxFQUFFLE1BQU07WUFDcEIsUUFBUSxFQUFFLEVBQUU7U0FDYixDQUFDO0lBQ0osQ0FBQztJQUVEOztPQUVHO0lBQ0ksS0FBSyxDQUFDLFdBQVc7UUFDdEIsSUFBSSxJQUFJLENBQUMsYUFBYTtZQUFFLE9BQU87UUFFL0IsSUFBSSxDQUFDO1lBQ0gsTUFBTSxRQUFRLEdBQUcsWUFBWSxDQUFDLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO1lBQ3RELE1BQU0sVUFBVSxHQUFHLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsNEJBQTRCLENBQUMsQ0FBQyxDQUFDO1lBRTlFLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztnQkFDaEIsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztZQUMxQyxDQUFDO2lCQUFNLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztnQkFDNUQseUNBQXlDO2dCQUN6QywrQ0FBTSxDQUFDLE1BQU0sRUFBRSxTQUFTLEVBQUUsb0RBQW9ELENBQUMsQ0FBQztn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QUFFO29CQUNULGVBQWUsRUFBRSxHQUFHLENBQUMsZ0JBQWdCLElBQUksQ0FBQztpQkFDM0MsQ0FBQztnQkFDRixNQUFNLE1BQU0sR0FBYSxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQ2xGLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxZQUFvQixFQUFFLFNBQWlCLEVBQUUsRUFBRTtvQkFDekQsTUFBTSxhQUFhLEdBQWdCO3dCQUNqQyxFQUFFLEVBQUUsU0FBUyxLQUFLLENBQUMsR0FBRyxDQUFDLGdCQUFnQixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxTQUFTLElBQUksU0FBUyxFQUFFO3dCQUM1RixJQUFJLEVBQUUsV0FBVzt3QkFDakIsT0FBTyxFQUFFLFlBQVk7d0JBQ3JCLFNBQVMsRUFBRSxHQUFHLENBQUMsU0FBUzt3QkFDeEIsT0FBTyxFQUFFLEdBQUcsQ0FBQyxPQUFPLEtBQUssS0FBSztxQkFDL0IsQ0FBQztvQkFDRixhQUFhLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLGFBQWEsQ0FBQztnQkFDakQsQ0FBQyxDQUFDLENBQUM7Z0JBQ0gsVUFBVSxDQUFDLFNBQVMsRUFBRSxDQUFDLEdBQUcsYUFBYSxDQUFDO1lBQzFDLENBQUM7UUFDSCxDQUFDLENBQUMsQ0FBQztRQUVILE9BQU8sVUFBVSxDQUFDO0lBQ3BCLENBQUM7Q0FDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9oaXN0b3J5LnRzPyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjb3JlL2hpc3RvcnkudHNcblxuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi9sb2dnZXInO1xuXG4vLyBHbG9iYWwgZGVjbGFyYXRpb25zIGZvciBleHRlcm5hbCBsaWJyYXJpZXMgYW5kIGZ1bmN0aW9uc1xuZGVjbGFyZSBjb25zdCBfOiBhbnk7XG5kZWNsYXJlIGNvbnN0IGdldFZhcmlhYmxlczogKG9wdGlvbnM6IGFueSkgPT4gYW55O1xuZGVjbGFyZSBjb25zdCB1cGRhdGVWYXJpYWJsZXNXaXRoOiAodXBkYXRlcjogKHZhcnM6IGFueSkgPT4gYW55LCBvcHRpb25zOiBhbnkpID0+IFByb21pc2U8dm9pZD47XG5kZWNsYXJlIGNvbnN0IHRvYXN0cjogYW55O1xuXG4vLyAtLS0gdjIuMCBEYXRhIFN0cnVjdHVyZSBEZWZpbml0aW9ucyAtLS1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgc2luZ2xlIG1lc3NhZ2UgdW5pdCwgd2hldGhlciBmcm9tIHRoZSB1c2VyIG9yIG9uZSBvZiBBSSdzIHN3aXBlcy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNZXNzYWdlUGFnZSB7XG4gIGlkOiBzdHJpbmc7XG4gIHJvbGU6ICd1c2VyJyB8ICdhc3Npc3RhbnQnIHwgJ3N1bW1hcnknO1xuICBjb250ZW50OiBzdHJpbmc7XG4gIHRpbWVzdGFtcDogbnVtYmVyO1xuICBpc1ZhbGlkPzogYm9vbGVhbjtcbiAgcGFyZW50SWQ/OiBzdHJpbmcgfCBudWxsO1xufVxuXG4vKipcbiAqIEVuY2Fwc3VsYXRlcyBhIFwidHVyblwiIGluIHRoZSBjb252ZXJzYXRpb24sIHdoaWNoIGNhbiBiZSBlaXRoZXIgYSB1c2VyJ3NcbiAqIHNpbmdsZSBtZXNzYWdlIG9yIGFuIGFzc2lzdGFudCdzIHNldCBvZiBzd2lwZWFibGUgbWVzc2FnZXMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVHVybiB7XG4gIHJvbGU6ICd1c2VyJyB8ICdhc3Npc3RhbnQnO1xuICBwYWdlczogeyBbcGFnZUluZGV4OiBudW1iZXJdOiBNZXNzYWdlUGFnZSB9O1xuICBhY3RpdmVQYWdlSW5kZXg6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBUaGUgdG9wLWxldmVsIHN0cnVjdHVyZSBmb3IgdGhlIGVudGlyZSBjaGF0IGhpc3RvcnkuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdEhpc3Rvcnkge1xuICB2ZXJzaW9uOiAnMi4wJzsgLy8gVmVyc2lvbiBpZGVudGlmaWVyIGZvciBmdXR1cmUgbWlncmF0aW9uc1xuICBicmFuY2hlczoge1xuICAgIFticmFuY2hJZDogc3RyaW5nXTogeyBbdHVybkluZGV4OiBudW1iZXJdOiBUdXJuIH07XG4gIH07XG4gIGFjdGl2ZUJyYW5jaDogc3RyaW5nO1xuICBtZXRhZGF0YToge1xuICAgIFttZXNzYWdlSWQ6IHN0cmluZ106IHtcbiAgICAgIGJyYW5jaElkOiBzdHJpbmc7XG4gICAgICB0dXJuSW5kZXg6IG51bWJlcjtcbiAgICAgIHBhZ2VJbmRleDogbnVtYmVyO1xuICAgIH07XG4gIH07XG59XG5cbi8vIC0tLSBDb3JlIExvZ2ljOiBDaGF0SGlzdG9yeU1hbmFnZXIgdjIuMCAtLS1cbmV4cG9ydCBjbGFzcyBDaGF0SGlzdG9yeU1hbmFnZXIge1xuICBwcml2YXRlIGhpc3Rvcnk6IENoYXRIaXN0b3J5ID0gdGhpcy5nZXRkZWZhdWx0SGlzdG9yeSgpO1xuICBwcml2YXRlIGlzSW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBsYXN0QWN0aXZlTWVzc2FnZUlkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblxuICBwcml2YXRlIGdldGRlZmF1bHRIaXN0b3J5KCk6IENoYXRIaXN0b3J5IHtcbiAgICByZXR1cm4ge1xuICAgICAgdmVyc2lvbjogJzIuMCcsXG4gICAgICBicmFuY2hlczogeyBtYWluOiB7fSB9LFxuICAgICAgYWN0aXZlQnJhbmNoOiAnbWFpbicsXG4gICAgICBtZXRhZGF0YToge30sXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkcyBoaXN0b3J5IGZyb20gdmFyaWFibGVzLCBoYW5kbGVzIG1pZ3JhdGlvbiBmcm9tIHYxLCBhbmQgYnVpbGRzIG1ldGFkYXRhLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGxvYWRIaXN0b3J5KCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0aGlzLmlzSW5pdGlhbGl6ZWQpIHJldHVybjtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBjaGF0VmFycyA9IGdldFZhcmlhYmxlcyh7IHR5cGU6ICdjaGF0JyB9KSB8fCB7fTtcbiAgICAgIGNvbnN0IHJhd0hpc3RvcnkgPSBfLmNsb25lRGVlcChfLmdldChjaGF0VmFycywgJ3BsdWdpbl9zdG9yYWdlLmxsbV9oaXN0b3J5JykpO1xuXG4gICAgICBpZiAoIXJhd0hpc3RvcnkpIHtcbiAgICAgICAgdGhpcy5oaXN0b3J5ID0gdGhpcy5nZXRkZWZhdWx0SGlzdG9yeSgpO1xuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHJhd0hpc3RvcnkpIHx8ICFyYXdIaXN0b3J5LnZlcnNpb24pIHtcbiAgICAgICAgLy8gVGhpcyBpcyB2MS4wIGRhdGEgKG9yIHZlcnkgb2xkIGZvcm1hdClcbiAgICAgICAgbG9nZ2VyKCd3YXJuJywgJ0hpc3RvcnknLCAndjEuMCBoaXN0b3J5IGZvcm1hdCBkZXRlY3RlZC4gTWlncmF0aW5nIHRvIHYyLjAuLi4nKTtcbiAgICAgICAgdGhpcy5oaXN0b3J5ID0gdGhpcy5taWdyYXRlVjFUb1YyKHJhd0hpc3RvcnkpO1xuICAgICAgICBhd2FpdCB0aGlzLnNhdmVIaXN0b3J5KCk7IC8vIFBlcnNpc3QgdGhlIG1pZ3JhdGVkIHN0cnVjdHVyZVxuICAgICAgfSBlbHNlIGlmIChyYXdIaXN0b3J5LnZlcnNpb24gPT09ICcyLjAnKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgdjIuMCBkYXRhXG4gICAgICAgIHRoaXMuaGlzdG9yeSA9IHJhd0hpc3Rvcnk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBVbnN1cHBvcnRlZCB2ZXJzaW9uXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgaGlzdG9yeSB2ZXJzaW9uOiAke3Jhd0hpc3RvcnkudmVyc2lvbn1gKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5idWlsZE1ldGFkYXRhKCk7XG4gICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgbG9nZ2VyKCdpbmZvJywgJ0hpc3RvcnknLCBgQ2hhdCBoaXN0b3J5IHYke3RoaXMuaGlzdG9yeS52ZXJzaW9ufSBsb2FkZWQuIEFjdGl2ZSBicmFuY2g6IFwiJHt0aGlzLmhpc3RvcnkuYWN0aXZlQnJhbmNofVwiLmApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIoJ2Vycm9yJywgJ0hpc3RvcnknLCAnRmFpbGVkIHRvIGxvYWQgY2hhdCBoaXN0b3J5LicsIGVycm9yKTtcbiAgICAgIHRvYXN0ci5lcnJvcign5Yqg6L296IGK5aSp6K6w5b2V5aSx6LSl77yM5bCG5L2/55So56m66K6w5b2V44CCJyk7XG4gICAgICB0aGlzLmhpc3RvcnkgPSB0aGlzLmdldGRlZmF1bHRIaXN0b3J5KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyBhIG5ldyB0dXJuIHdpdGggdGhlIHVzZXIncyBtZXNzYWdlLlxuICAgKiBAcGFyYW0gdXNlck1lc3NhZ2VDb250ZW50IFRoZSBjb250ZW50IG9mIHRoZSB1c2VyJ3MgbWVzc2FnZS5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBhZGRVc2VyVHVybih1c2VyTWVzc2FnZUNvbnRlbnQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHVzZXJQYWdlOiBNZXNzYWdlUGFnZSA9IHtcbiAgICAgIGlkOiBgbXNnXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgOSl9YCxcbiAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgIGNvbnRlbnQ6IHVzZXJNZXNzYWdlQ29udGVudCxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgIGlzVmFsaWQ6IHRydWUsXG4gICAgfTtcblxuICAgIGNvbnN0IG5ld1R1cm46IFR1cm4gPSB7XG4gICAgICByb2xlOiAndXNlcicsXG4gICAgICBwYWdlczogeyAwOiB1c2VyUGFnZSB9LFxuICAgICAgYWN0aXZlUGFnZUluZGV4OiAwLFxuICAgIH07XG5cbiAgICBjb25zdCBhY3RpdmVCcmFuY2ggPSB0aGlzLmhpc3RvcnkuYnJhbmNoZXNbdGhpcy5oaXN0b3J5LmFjdGl2ZUJyYW5jaF07XG4gICAgY29uc3QgbmV3VHVybkluZGV4ID0gT2JqZWN0LmtleXMoYWN0aXZlQnJhbmNoKS5sZW5ndGg7XG4gICAgYWN0aXZlQnJhbmNoW25ld1R1cm5JbmRleF0gPSBuZXdUdXJuO1xuXG4gICAgLy8gVXBkYXRlIG1ldGFkYXRhXG4gICAgdGhpcy5oaXN0b3J5Lm1ldGFkYXRhW3VzZXJQYWdlLmlkXSA9IHtcbiAgICAgIGJyYW5jaElkOiB0aGlzLmhpc3RvcnkuYWN0aXZlQnJhbmNoLFxuICAgICAgdHVybkluZGV4OiBuZXdUdXJuSW5kZXgsXG4gICAgICBwYWdlSW5kZXg6IDAsXG4gICAgfTtcblxuICAgIGF3YWl0IHRoaXMuc2F2ZUhpc3RvcnkoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydHMgdGhlIHZlcnkgZmlyc3QgdHVybiBvZiBhIGJyYW5jaCwgd2hpY2ggaXMgYW4gYXNzaXN0YW50IG1lc3NhZ2UuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgc3RhcnRHZW5lc2lzVHVybigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBuZXdUdXJuOiBUdXJuID0ge1xuICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICBwYWdlczoge30sXG4gICAgICBhY3RpdmVQYWdlSW5kZXg6IDAsXG4gICAgfTtcblxuICAgIGNvbnN0IGFjdGl2ZUJyYW5jaCA9IHRoaXMuaGlzdG9yeS5icmFuY2hlc1t0aGlzLmhpc3RvcnkuYWN0aXZlQnJhbmNoXTtcbiAgICBpZiAoT2JqZWN0LmtleXMoYWN0aXZlQnJhbmNoKS5sZW5ndGggPiAwKSB7XG4gICAgICAvLyBBdm9pZCBjcmVhdGluZyBhIGdlbmVzaXMgdHVybiBpZiBoaXN0b3J5IGlzIG5vdCBlbXB0eVxuICAgICAgbG9nZ2VyKCd3YXJuJywgJ0hpc3RvcnknLCAnQXR0ZW1wdGVkIHRvIGNyZWF0ZSBhIGdlbmVzaXMgdHVybiBpbiBhIG5vbi1lbXB0eSBicmFuY2guJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGFjdGl2ZUJyYW5jaFswXSA9IG5ld1R1cm47XG4gICAgYXdhaXQgdGhpcy5zYXZlSGlzdG9yeSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBuZXcgQUktZ2VuZXJhdGVkIG1lc3NhZ2UgcGFnZSAoYSBzd2lwZSkuIEl0IHdpbGwgZWl0aGVyIGFkZCBpdCB0byB0aGVcbiAgICogbGFzdCBhc3Npc3RhbnQgdHVybiBvciBjcmVhdGUgYSBuZXcgYXNzaXN0YW50IHR1cm4gaWYgdGhlIGxhc3Qgb25lIHdhcyBieSB0aGUgdXNlci5cbiAgICogQHBhcmFtIGFzc2lzdGFudE1lc3NhZ2VDb250ZW50IFRoZSBjb250ZW50IG9mIHRoZSBBSSdzIG1lc3NhZ2UuXG4gICAqIEByZXR1cm5zIFRoZSBJRCBvZiB0aGUgbmV3bHkgY3JlYXRlZCBtZXNzYWdlIHBhZ2UuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgYWRkQXNzaXN0YW50TWVzc2FnZVBhZ2UoYXNzaXN0YW50TWVzc2FnZUNvbnRlbnQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgY29uc3QgYWN0aXZlQnJhbmNoID0gdGhpcy5oaXN0b3J5LmJyYW5jaGVzW3RoaXMuaGlzdG9yeS5hY3RpdmVCcmFuY2hdO1xuICAgIGxldCB0dXJuSW5kZXggPSBPYmplY3Qua2V5cyhhY3RpdmVCcmFuY2gpLmxlbmd0aCAtIDE7XG4gICAgbGV0IGN1cnJlbnRUdXJuID0gYWN0aXZlQnJhbmNoW3R1cm5JbmRleF07XG5cbiAgICAvLyBJZiB0aGUgbGFzdCB0dXJuIHdhcyBhIHVzZXIgdHVybiwgb3IgaWYgdGhlcmUgYXJlIG5vIHR1cm5zLCBjcmVhdGUgYSBuZXcgYXNzaXN0YW50IHR1cm4uXG4gICAgaWYgKCFjdXJyZW50VHVybiB8fCBjdXJyZW50VHVybi5yb2xlID09PSAndXNlcicpIHtcbiAgICAgIHR1cm5JbmRleCsrO1xuICAgICAgY29uc3QgbmV3VHVybjogVHVybiA9IHtcbiAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgIHBhZ2VzOiB7fSxcbiAgICAgICAgYWN0aXZlUGFnZUluZGV4OiAwLFxuICAgICAgfTtcbiAgICAgIGFjdGl2ZUJyYW5jaFt0dXJuSW5kZXhdID0gbmV3VHVybjtcbiAgICAgIGN1cnJlbnRUdXJuID0gbmV3VHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBuZXdQYWdlSW5kZXggPSBPYmplY3Qua2V5cyhjdXJyZW50VHVybi5wYWdlcykubGVuZ3RoO1xuICAgIGNvbnN0IGFzc2lzdGFudFBhZ2U6IE1lc3NhZ2VQYWdlID0ge1xuICAgICAgaWQ6IGBtc2dfJHtEYXRlLm5vdygpfV8ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCA5KX1gLFxuICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICBjb250ZW50OiBhc3Npc3RhbnRNZXNzYWdlQ29udGVudCxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgIGlzVmFsaWQ6IHRydWUsXG4gICAgfTtcblxuICAgIGN1cnJlbnRUdXJuLnBhZ2VzW25ld1BhZ2VJbmRleF0gPSBhc3Npc3RhbnRQYWdlO1xuXG4gICAgLy8gQ29yZSBGaXg6IFNldCB0aGUgbmV3bHkgYWRkZWQgcGFnZSBhcyB0aGUgYWN0aXZlIG9uZSBmb3IgdGhpcyB0dXJuLlxuICAgIC8vIFRoaXMgZW5zdXJlcyB0aGF0IHRoZSBoaXN0b3J5J3MgaW50ZXJuYWwgc3RhdGUgaXMgYWx3YXlzIGNvbnNpc3RlbnQsXG4gICAgLy8gbWFraW5nIGl0IHRoZSBhdXRob3JpdGF0aXZlIHNvdXJjZSBvZiB0cnV0aCBmb3IgdGhlIGFjdGl2ZSBzd2lwZS5cbiAgICBjdXJyZW50VHVybi5hY3RpdmVQYWdlSW5kZXggPSBuZXdQYWdlSW5kZXg7XG4gICAgbG9nZ2VyKCdpbmZvJywgJ0hpc3RvcnknLCBgW1NXSVBFX0ZJWF0gTmV3IGFzc2lzdGFudCBwYWdlIGFkZGVkLiBBY3RpdmUgcGFnZSBpbmRleCBmb3IgdHVybiAke3R1cm5JbmRleH0gaXMgbm93ICR7bmV3UGFnZUluZGV4fS5gKTtcblxuICAgIC8vIFVwZGF0ZSBtZXRhZGF0YVxuICAgIHRoaXMuaGlzdG9yeS5tZXRhZGF0YVthc3Npc3RhbnRQYWdlLmlkXSA9IHtcbiAgICAgIGJyYW5jaElkOiB0aGlzLmhpc3RvcnkuYWN0aXZlQnJhbmNoLFxuICAgICAgdHVybkluZGV4OiB0dXJuSW5kZXgsXG4gICAgICBwYWdlSW5kZXg6IG5ld1BhZ2VJbmRleCxcbiAgICB9O1xuXG4gICAgYXdhaXQgdGhpcy5zYXZlSGlzdG9yeSgpO1xuICAgIHJldHVybiBhc3Npc3RhbnRQYWdlLmlkO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFycyB0aGUgaW4tbWVtb3J5IHJlcHJlc2VudGF0aW9uIG9mIHRoZSBjaGF0IGhpc3RvcnkuXG4gICAqIFRoaXMgaXMgdXNlZCB3aGVuIHN0YXJ0aW5nIGEgbmV3IGdhbWUgdG8gcHJldmVudCBzdGFsZSBkYXRhIGJlZm9yZSBhIHBhZ2UgcmVsb2FkLlxuICAgKi9cbiAgcHVibGljIGNsZWFySW5NZW1vcnlIaXN0b3J5KCk6IHZvaWQge1xuICAgIHRoaXMuaGlzdG9yeSA9IHRoaXMuZ2V0ZGVmYXVsdEhpc3RvcnkoKTtcbiAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSBmYWxzZTsgLy8gUmVzZXQgaW5pdGlhbGl6YXRpb24gZmxhZyBhcyB3ZWxsXG4gICAgbG9nZ2VyKCd3YXJuJywgJ0hpc3RvcnknLCAnSW4tbWVtb3J5IGhpc3RvcnkgaGFzIGJlZW4gY2xlYXJlZC4nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBhY3RpdmUgYXNzaXN0YW50IG1lc3NhZ2UgcGFnZSAoc3dpcGUpIGZvciBhIGdpdmVuIHR1cm4uXG4gICAqIEBwYXJhbSB0dXJuSW5kZXggVGhlIGluZGV4IG9mIHRoZSB0dXJuIHRvIG1vZGlmeS5cbiAgICogQHBhcmFtIHBhZ2VJbmRleCBUaGUgbmV3IGFjdGl2ZSBwYWdlIGluZGV4LlxuICAgKi9cbiAgcHVibGljIGFzeW5jIHNldEFjdGl2ZVBhZ2UodHVybkluZGV4OiBudW1iZXIsIHBhZ2VJbmRleDogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgbG9nZ2VyKCdsb2cnLCAnSGlzdG9yeScsIGBbU1dJUEVfREVCVUddIHNldEFjdGl2ZVBhZ2UgY2FsbGVkIHdpdGggdHVybkluZGV4OiAke3R1cm5JbmRleH0sIHBhZ2VJbmRleDogJHtwYWdlSW5kZXh9YCk7XG4gICAgY29uc3QgdHVybiA9IHRoaXMuaGlzdG9yeS5icmFuY2hlc1t0aGlzLmhpc3RvcnkuYWN0aXZlQnJhbmNoXT8uW3R1cm5JbmRleF07XG4gICAgaWYgKCF0dXJuIHx8ICF0dXJuLnBhZ2VzW3BhZ2VJbmRleF0pIHtcbiAgICAgIGxvZ2dlcignZXJyb3InLCAnSGlzdG9yeScsIGBbU1dJUEVfREVCVUddIHNldEFjdGl2ZVBhZ2UgZmFpbGVkOiBJbnZhbGlkIHR1cm4gb3IgcGFnZSBpbmRleC4gVHVybjogJHt0dXJuSW5kZXh9LCBQYWdlOiAke3BhZ2VJbmRleH1gKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCB0dXJuIG9yIHBhZ2UgaW5kZXg6IFR1cm4gJHt0dXJuSW5kZXh9LCBQYWdlICR7cGFnZUluZGV4fWApO1xuICAgIH1cblxuICAgIGlmICh0dXJuLnJvbGUgPT09ICd1c2VyJykge1xuICAgICAgbG9nZ2VyKCd3YXJuJywgJ0hpc3RvcnknLCBgW1NXSVBFX0RFQlVHXSBBdHRlbXB0ZWQgdG8gc2V0IGFjdGl2ZSBwYWdlIG9uIGEgdXNlciB0dXJuICgke3R1cm5JbmRleH0pLCB3aGljaCBpcyBub3QgYWxsb3dlZC5gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwcmV2aW91c1BhZ2VJZCA9IHR1cm4ucGFnZXNbdHVybi5hY3RpdmVQYWdlSW5kZXhdPy5pZCB8fCBudWxsO1xuICAgIGNvbnN0IG5ld1BhZ2VJZCA9IHR1cm4ucGFnZXNbcGFnZUluZGV4XS5pZDtcblxuICAgIC8vIOS7heWcqOmhtemdouWunumZheWPkeeUn+WPmOWMluaXtuaJjeinpuWPkeeKtuaAgeabtOaWsFxuICAgIGlmIChwcmV2aW91c1BhZ2VJZCA9PT0gbmV3UGFnZUlkKSB7XG4gICAgICBsb2dnZXIoJ2xvZycsICdIaXN0b3J5JywgYFtTV0lQRV9ERUJVR10gUGFnZSBpbmRleCAke3BhZ2VJbmRleH0gaXMgYWxyZWFkeSBhY3RpdmUuIE5vIHN0YXRlIGNoYW5nZSBuZWVkZWQuYCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbG9nZ2VyKCdpbmZvJywgJ0hpc3RvcnknLCBgW1NXSVBFX0RFQlVHXSBBY3RpdmUgcGFnZSBjaGFuZ2luZyBmb3IgdHVybiAke3R1cm5JbmRleH0sIGZyb20gJHt0dXJuLmFjdGl2ZVBhZ2VJbmRleH0gdG8gJHtwYWdlSW5kZXh9LmApO1xuICAgIHR1cm4uYWN0aXZlUGFnZUluZGV4ID0gcGFnZUluZGV4O1xuICAgIGF3YWl0IHRoaXMuc2F2ZUhpc3RvcnkoKTtcbiAgICBcbiAgICAvLyBEaXNwYXRjaCBldmVudCBmb3Igc3RhdGUgcmVjYWxjdWxhdGlvblxuICAgIGxvZ2dlcignaW5mbycsICdIaXN0b3J5JywgYFtTV0lQRV9ERUJVR10gRGlzcGF0Y2hpbmcgJ3N0YXRlQWN0aXZhdGlvblJlcXVlc3RlZCcgZXZlbnQgZm9yIG5ldyBtZXNzYWdlSWQ6ICR7bmV3UGFnZUlkfSAocHJldmlvdXM6ICR7cHJldmlvdXNQYWdlSWR9KWApO1xuICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnc3RhdGVBY3RpdmF0aW9uUmVxdWVzdGVkJywge1xuICAgICAgZGV0YWlsOiB7XG4gICAgICAgIG5ld01lc3NhZ2VJZDogbmV3UGFnZUlkLFxuICAgICAgICBwcmV2aW91c01lc3NhZ2VJZDogdGhpcy5sYXN0QWN0aXZlTWVzc2FnZUlkLFxuICAgICAgfVxuICAgIH0pKTtcbiAgICB0aGlzLmxhc3RBY3RpdmVNZXNzYWdlSWQgPSBuZXdQYWdlSWQ7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgY29udGVudCBvZiBhIHNwZWNpZmljIG1lc3NhZ2UgcGFnZS5cbiAgICogQHBhcmFtIG1lc3NhZ2VJZCBUaGUgSUQgb2YgdGhlIG1lc3NhZ2UgdG8gdXBkYXRlLlxuICAgKiBAcGFyYW0gbmV3Q29udGVudCBUaGUgbmV3IGNvbnRlbnQuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgdXBkYXRlTWVzc2FnZVBhZ2VDb250ZW50KG1lc3NhZ2VJZDogc3RyaW5nLCBuZXdDb250ZW50OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBjb29yZHMgPSB0aGlzLmhpc3RvcnkubWV0YWRhdGFbbWVzc2FnZUlkXTtcbiAgICBpZiAoIWNvb3JkcykgdGhyb3cgbmV3IEVycm9yKGBNZXNzYWdlIHdpdGggSUQgJHttZXNzYWdlSWR9IG5vdCBmb3VuZCBpbiBtZXRhZGF0YS5gKTtcblxuICAgIGNvbnN0IHsgYnJhbmNoSWQsIHR1cm5JbmRleCwgcGFnZUluZGV4IH0gPSBjb29yZHM7XG4gICAgY29uc3QgdHVybiA9IHRoaXMuaGlzdG9yeS5icmFuY2hlc1ticmFuY2hJZF0/Llt0dXJuSW5kZXhdO1xuICAgIGlmICghdHVybikgdGhyb3cgbmV3IEVycm9yKCdUdXJuIG5vdCBmb3VuZCBmb3IgbWVzc2FnZS4nKTtcblxuICAgIGNvbnN0IHBhZ2VUb1VwZGF0ZSA9IHR1cm4ucGFnZXNbcGFnZUluZGV4XTtcblxuICAgIGlmIChwYWdlVG9VcGRhdGUpIHtcbiAgICAgIHBhZ2VUb1VwZGF0ZS5jb250ZW50ID0gbmV3Q29udGVudDtcbiAgICAgIGF3YWl0IHRoaXMuc2F2ZUhpc3RvcnkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXNzYWdlIHBhZ2Ugbm90IGZvdW5kIGF0IHNwZWNpZmllZCBjb29yZGluYXRlcy4nKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBicmFuY2ggZnJvbSBhIHNwZWNpZmljIHR1cm4gaW4gdGhlIGN1cnJlbnQgYWN0aXZlIGJyYW5jaC5cbiAgICogQHBhcmFtIGZyb21UdXJuSW5kZXggVGhlIGluZGV4IG9mIHRoZSB0dXJuIHRvIGJyYW5jaCBmcm9tLlxuICAgKiBAcmV0dXJucyBUaGUgSUQgb2YgdGhlIG5ldyBicmFuY2guXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgY3JlYXRlQnJhbmNoKGZyb21UdXJuSW5kZXg6IG51bWJlcik6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgY29uc3QgYWN0aXZlQnJhbmNoVHVybnMgPSB0aGlzLmhpc3RvcnkuYnJhbmNoZXNbdGhpcy5oaXN0b3J5LmFjdGl2ZUJyYW5jaF07XG4gICAgaWYgKGFjdGl2ZUJyYW5jaFR1cm5zW2Zyb21UdXJuSW5kZXhdID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQnJhbmNoIGNyZWF0aW9uIGluZGV4IGlzIG91dCBvZiBib3VuZHMuJyk7XG4gICAgfVxuXG4gICAgY29uc3QgbmV3QnJhbmNoSWQgPSBgYnJhbmNoLSR7RGF0ZS5ub3coKX1gO1xuICAgIGNvbnN0IG5ld0JyYW5jaDogeyBbdHVybkluZGV4OiBudW1iZXJdOiBUdXJuIH0gPSB7fTtcblxuICAgIC8vIERlZXAgY29weSB0dXJucyB1cCB0byB0aGUgc3BlY2lmaWVkIGluZGV4XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gZnJvbVR1cm5JbmRleDsgaSsrKSB7XG4gICAgICBuZXdCcmFuY2hbaV0gPSBfLmNsb25lRGVlcChhY3RpdmVCcmFuY2hUdXJuc1tpXSk7XG4gICAgfVxuXG4gICAgdGhpcy5oaXN0b3J5LmJyYW5jaGVzW25ld0JyYW5jaElkXSA9IG5ld0JyYW5jaDtcbiAgICB0aGlzLmhpc3RvcnkuYWN0aXZlQnJhbmNoID0gbmV3QnJhbmNoSWQ7XG4gICAgXG4gICAgLy8gTWV0YWRhdGEgZm9yIHRoZSBuZXcgYnJhbmNoIGlzIGltcGxpY2l0bHkgY29waWVkLiBSZWJ1aWxkIHRvIGJlIHNhZmUuXG4gICAgdGhpcy5idWlsZE1ldGFkYXRhKCk7XG4gICAgYXdhaXQgdGhpcy5zYXZlSGlzdG9yeSgpO1xuICAgIGxvZ2dlcignaW5mbycsICdIaXN0b3J5JywgYENyZWF0ZWQgbmV3IGJyYW5jaCBcIiR7bmV3QnJhbmNoSWR9XCIgZnJvbSB0dXJuICR7ZnJvbVR1cm5JbmRleH0uYCk7XG4gICAgcmV0dXJuIG5ld0JyYW5jaElkO1xuICB9XG5cbiAgLy8gLS0tIEJyYW5jaCBNYW5hZ2VtZW50IC0tLVxuXG4gIHB1YmxpYyBnZXRCcmFuY2hlcygpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5oaXN0b3J5LmJyYW5jaGVzKS5tYXAoYnJhbmNoSWQgPT4ge1xuICAgICAgY29uc3QgdHVybnMgPSB0aGlzLmhpc3RvcnkuYnJhbmNoZXNbYnJhbmNoSWRdO1xuICAgICAgY29uc3QgdHVybkluZGljZXMgPSBPYmplY3Qua2V5cyh0dXJucykubWFwKE51bWJlcik7XG4gICAgICBjb25zdCBsYXN0VHVybiA9IHR1cm5zW01hdGgubWF4KC4uLnR1cm5JbmRpY2VzKV07XG4gICAgICBjb25zdCBsYXN0TWVzc2FnZSA9IGxhc3RUdXJuPy5wYWdlc1tsYXN0VHVybi5hY3RpdmVQYWdlSW5kZXhdO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogYnJhbmNoSWQsXG4gICAgICAgIG5hbWU6IGJyYW5jaElkLCAvLyBOYW1lIGlzIElEIGZvciBub3dcbiAgICAgICAgbWVzc2FnZUNvdW50OiB0dXJuSW5kaWNlcy5sZW5ndGggKiAyLCAvLyBBcHByb3hpbWF0aW9uXG4gICAgICAgIGxhc3RNb2RpZmllZDogbGFzdE1lc3NhZ2U/LnRpbWVzdGFtcCB8fCAwLFxuICAgICAgICBpc0FjdGl2ZTogYnJhbmNoSWQgPT09IHRoaXMuaGlzdG9yeS5hY3RpdmVCcmFuY2gsXG4gICAgICB9O1xuICAgIH0pLnNvcnQoKGEsIGIpID0+IGIubGFzdE1vZGlmaWVkIC0gYS5sYXN0TW9kaWZpZWQpO1xuICB9XG5cbiAgcHVibGljIGdldEFjdGl2ZUJyYW5jaElkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuaGlzdG9yeS5hY3RpdmVCcmFuY2g7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgc3dpdGNoQnJhbmNoKGJyYW5jaElkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuaGlzdG9yeS5icmFuY2hlc1ticmFuY2hJZF0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQnJhbmNoIFwiJHticmFuY2hJZH1cIiBub3QgZm91bmQuYCk7XG4gICAgfVxuICAgIHRoaXMuaGlzdG9yeS5hY3RpdmVCcmFuY2ggPSBicmFuY2hJZDtcbiAgICBhd2FpdCB0aGlzLnNhdmVIaXN0b3J5KCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0UmF3SGlzdG9yeSgpOiBDaGF0SGlzdG9yeSB7XG4gICAgcmV0dXJuIHRoaXMuaGlzdG9yeTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgYSBzaW5nbGUgbWVzc2FnZSBwYWdlIGJ5IGl0cyB1bmlxdWUgSUQuXG4gICAqIEBwYXJhbSBtZXNzYWdlSWQgVGhlIElEIG9mIHRoZSBtZXNzYWdlIHRvIHJldHJpZXZlLlxuICAgKiBAcmV0dXJucyBUaGUgTWVzc2FnZVBhZ2Ugb2JqZWN0IG9yIG51bGwgaWYgbm90IGZvdW5kLlxuICAgKi9cbiAgcHVibGljIGdldE1lc3NhZ2VCeUlkKG1lc3NhZ2VJZDogc3RyaW5nKTogTWVzc2FnZVBhZ2UgfCBudWxsIHtcbiAgICBjb25zdCBjb29yZHMgPSB0aGlzLmhpc3RvcnkubWV0YWRhdGFbbWVzc2FnZUlkXTtcbiAgICBpZiAoIWNvb3JkcykgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgeyBicmFuY2hJZCwgdHVybkluZGV4LCBwYWdlSW5kZXggfSA9IGNvb3JkcztcbiAgICByZXR1cm4gdGhpcy5oaXN0b3J5LmJyYW5jaGVzW2JyYW5jaElkXT8uW3R1cm5JbmRleF0/LnBhZ2VzW3BhZ2VJbmRleF0gfHwgbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiAodjIuNikgR2V0cyB0aGUgYWJzb2x1dGUgdHVybiBpbmRleCBmb3IgYSBnaXZlbiBtZXNzYWdlIElELlxuICAgKiBAcGFyYW0gbWVzc2FnZUlkIFRoZSBJRCBvZiB0aGUgbWVzc2FnZS5cbiAgICogQHJldHVybnMgVGhlIHR1cm4gaW5kZXgsIG9yIC0xIGlmIG5vdCBmb3VuZC5cbiAgICovXG4gIHB1YmxpYyBnZXRNZXNzYWdlSW5kZXgobWVzc2FnZUlkOiBzdHJpbmcpOiBudW1iZXIge1xuICAgIGNvbnN0IGNvb3JkcyA9IHRoaXMuaGlzdG9yeS5tZXRhZGF0YVttZXNzYWdlSWRdO1xuICAgIHJldHVybiBjb29yZHMgPyBjb29yZHMudHVybkluZGV4IDogLTE7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgcmVuYW1lQnJhbmNoKG9sZEJyYW5jaElkOiBzdHJpbmcsIG5ld0JyYW5jaElkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuaGlzdG9yeS5icmFuY2hlc1tvbGRCcmFuY2hJZF0pIHRocm93IG5ldyBFcnJvcihgQnJhbmNoIFwiJHtvbGRCcmFuY2hJZH1cIiBub3QgZm91bmQuYCk7XG4gICAgaWYgKHRoaXMuaGlzdG9yeS5icmFuY2hlc1tuZXdCcmFuY2hJZF0pIHRocm93IG5ldyBFcnJvcihgQnJhbmNoIFwiJHtuZXdCcmFuY2hJZH1cIiBhbHJlYWR5IGV4aXN0cy5gKTtcbiAgICBcbiAgICB0aGlzLmhpc3RvcnkuYnJhbmNoZXNbbmV3QnJhbmNoSWRdID0gdGhpcy5oaXN0b3J5LmJyYW5jaGVzW29sZEJyYW5jaElkXTtcbiAgICBkZWxldGUgdGhpcy5oaXN0b3J5LmJyYW5jaGVzW29sZEJyYW5jaElkXTtcblxuICAgIGlmICh0aGlzLmhpc3RvcnkuYWN0aXZlQnJhbmNoID09PSBvbGRCcmFuY2hJZCkge1xuICAgICAgdGhpcy5oaXN0b3J5LmFjdGl2ZUJyYW5jaCA9IG5ld0JyYW5jaElkO1xuICAgIH1cbiAgICB0aGlzLmJ1aWxkTWV0YWRhdGEoKTsgLy8gUmVidWlsZCBtZXRhZGF0YSB3aXRoIG5ldyBicmFuY2ggSURcbiAgICBhd2FpdCB0aGlzLnNhdmVIaXN0b3J5KCk7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgZGVsZXRlQnJhbmNoKGJyYW5jaElkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoT2JqZWN0LmtleXModGhpcy5oaXN0b3J5LmJyYW5jaGVzKS5sZW5ndGggPD0gMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGRlbGV0ZSB0aGUgbGFzdCBicmFuY2guXCIpO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuaGlzdG9yeS5icmFuY2hlc1ticmFuY2hJZF0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQnJhbmNoIFwiJHticmFuY2hJZH1cIiBub3QgZm91bmQuYCk7XG4gICAgfVxuXG4gICAgZGVsZXRlIHRoaXMuaGlzdG9yeS5icmFuY2hlc1ticmFuY2hJZF07XG4gICAgaWYgKHRoaXMuaGlzdG9yeS5hY3RpdmVCcmFuY2ggPT09IGJyYW5jaElkKSB7XG4gICAgICB0aGlzLmhpc3RvcnkuYWN0aXZlQnJhbmNoID0gT2JqZWN0LmtleXModGhpcy5oaXN0b3J5LmJyYW5jaGVzKVswXTtcbiAgICB9XG4gICAgdGhpcy5idWlsZE1ldGFkYXRhKCk7XG4gICAgYXdhaXQgdGhpcy5zYXZlSGlzdG9yeSgpO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIGRlbGV0ZVR1cm4odHVybkluZGV4OiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBhY3RpdmVCcmFuY2ggPSB0aGlzLmhpc3RvcnkuYnJhbmNoZXNbdGhpcy5oaXN0b3J5LmFjdGl2ZUJyYW5jaF07XG4gICAgaWYgKCFhY3RpdmVCcmFuY2ggfHwgIWFjdGl2ZUJyYW5jaFt0dXJuSW5kZXhdKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFR1cm4gJHt0dXJuSW5kZXh9IG5vdCBmb3VuZCBpbiBhY3RpdmUgYnJhbmNoLmApO1xuICAgIH1cblxuICAgIC8vIFRvIGRlbGV0ZSBhIHR1cm4sIHdlIHNoaWZ0IGFsbCBzdWJzZXF1ZW50IHR1cm5zIGRvd24uXG4gICAgY29uc3QgdHVybkluZGljZXMgPSBPYmplY3Qua2V5cyhhY3RpdmVCcmFuY2gpLm1hcChOdW1iZXIpLnNvcnQoKGEsIGIpID0+IGEgLSBiKTtcbiAgICBmb3IgKGxldCBpID0gdHVybkluZGV4OyBpIDwgdHVybkluZGljZXMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICBhY3RpdmVCcmFuY2hbaV0gPSBhY3RpdmVCcmFuY2hbaSArIDFdO1xuICAgIH1cbiAgICAvLyBEZWxldGUgdGhlIGxhc3QgdHVybiwgd2hpY2ggaXMgbm93IGEgZHVwbGljYXRlLlxuICAgIGRlbGV0ZSBhY3RpdmVCcmFuY2hbdHVybkluZGljZXMubGVuZ3RoIC0gMV07XG5cbiAgICB0aGlzLmJ1aWxkTWV0YWRhdGEoKTtcbiAgICBhd2FpdCB0aGlzLnNhdmVIaXN0b3J5KCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIGxpbmVhciwgb3JkZXJlZCBsaXN0IG9mIGFjdGl2ZSBtZXNzYWdlcyBmb3IgcHJvbXB0IGNvbnN0cnVjdGlvbi5cbiAgICovXG4gIHB1YmxpYyBnZXRNZXNzYWdlc0ZvclByb21wdCgpOiBNZXNzYWdlUGFnZVtdIHtcbiAgICBjb25zdCBtZXNzYWdlczogTWVzc2FnZVBhZ2VbXSA9IFtdO1xuICAgIGNvbnN0IGFjdGl2ZUJyYW5jaFR1cm5zID0gdGhpcy5oaXN0b3J5LmJyYW5jaGVzW3RoaXMuaGlzdG9yeS5hY3RpdmVCcmFuY2hdO1xuICAgIGNvbnN0IHR1cm5JbmRpY2VzID0gT2JqZWN0LmtleXMoYWN0aXZlQnJhbmNoVHVybnMpLm1hcChOdW1iZXIpLnNvcnQoKGEsIGIpID0+IGEgLSBiKTtcblxuICAgIGZvciAoY29uc3QgaW5kZXggb2YgdHVybkluZGljZXMpIHtcbiAgICAgIGNvbnN0IHR1cm4gPSBhY3RpdmVCcmFuY2hUdXJuc1tpbmRleF07XG4gICAgICBjb25zdCBhY3RpdmVQYWdlID0gdHVybi5wYWdlc1t0dXJuLmFjdGl2ZVBhZ2VJbmRleF07XG4gICAgICBpZiAoYWN0aXZlUGFnZSkge1xuICAgICAgICBtZXNzYWdlcy5wdXNoKGFjdGl2ZVBhZ2UpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZXM7XG4gIH1cblxuICAvKipcbiAgICogKHYyLjcpIEdldHMgdGhlIGZpbmFsIG1lc3NhZ2UgcGFnZSBvZiB0aGUgdHVybiBwcmlvciB0byB0aGUgb25lIGNvbnRhaW5pbmcgdGhlIGdpdmVuIG1lc3NhZ2UgSUQuXG4gICAqIFRoaXMgaXMgZXNzZW50aWFsIGZvciBMMSBjYWNoZSBpbXBsZW1lbnRhdGlvbiAoc3RhdGUgcm9sbGJhY2sgZm9yIHJldHJpZXMpLlxuICAgKiBAcGFyYW0gbWVzc2FnZUlkIFRoZSBJRCBvZiBhIG1lc3NhZ2UgaW4gdGhlIGN1cnJlbnQgdHVybi5cbiAgICogQHJldHVybnMgVGhlIE1lc3NhZ2VQYWdlIG9mIHRoZSBsYXN0IGFjdGl2ZSBtZXNzYWdlIG9mIHRoZSBwcmV2aW91cyB0dXJuLCBvciBudWxsIGlmIGl0J3MgdGhlIGZpcnN0IHR1cm4uXG4gICAqL1xuICBwdWJsaWMgZ2V0UHJldmlvdXNUdXJuTWVzc2FnZShtZXNzYWdlSWQ6IHN0cmluZyk6IE1lc3NhZ2VQYWdlIHwgbnVsbCB7XG4gICAgY29uc3QgY29vcmRzID0gdGhpcy5oaXN0b3J5Lm1ldGFkYXRhW21lc3NhZ2VJZF07XG4gICAgaWYgKCFjb29yZHMpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgeyBicmFuY2hJZCwgdHVybkluZGV4IH0gPSBjb29yZHM7XG4gICAgaWYgKHR1cm5JbmRleCA9PT0gMCkgcmV0dXJuIG51bGw7IC8vIEl0J3MgdGhlIGZpcnN0IHR1cm4sIG5vIHByZXZpb3VzIHR1cm4gZXhpc3RzLlxuXG4gICAgY29uc3QgcHJldmlvdXNUdXJuSW5kZXggPSB0dXJuSW5kZXggLSAxO1xuICAgIGNvbnN0IHByZXZpb3VzVHVybiA9IHRoaXMuaGlzdG9yeS5icmFuY2hlc1ticmFuY2hJZF0/LltwcmV2aW91c1R1cm5JbmRleF07XG4gICAgaWYgKCFwcmV2aW91c1R1cm4pIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIHByZXZpb3VzVHVybi5wYWdlc1twcmV2aW91c1R1cm4uYWN0aXZlUGFnZUluZGV4XSB8fCBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqICh2Mi42KSBHZXRzIGFsbCBhY3RpdmUgbWVzc2FnZSBwYWdlcyBpbiB0aGUgY3VycmVudCBicmFuY2ggYmV0d2VlbiB0d28gcG9pbnRzLlxuICAgKiBUaGlzIGlzIGNydWNpYWwgZm9yIHN0YXRlIHJlY2FsY3VsYXRpb24gd2l0aCBzbmFwc2hvdHMuXG4gICAqIEBwYXJhbSB0YXJnZXRNZXNzYWdlSWQgVGhlIElEIG9mIHRoZSBlbmQgbWVzc2FnZS5cbiAgICogQHBhcmFtIHN0YXJ0TWVzc2FnZUlkIChPcHRpb25hbCkgVGhlIElEIG9mIHRoZSBzdGFydCBtZXNzYWdlLiBFdmVudHMgZnJvbSB0aGlzIG1lc3NhZ2UncyB0dXJuIHdpbGwgYmUgZXhjbHVkZWQuXG4gICAqIEByZXR1cm5zIEFuIGFycmF5IG9mIE1lc3NhZ2VQYWdlIG9iamVjdHMgaW4gY2hyb25vbG9naWNhbCBvcmRlciwgb3IgbnVsbCBpZiB0aGUgdGFyZ2V0IGlzIG5vdCBmb3VuZC5cbiAgICovXG4gIHB1YmxpYyBnZXRBY3RpdmVNZXNzYWdlc1VudGlsKHRhcmdldE1lc3NhZ2VJZDogc3RyaW5nLCBzdGFydE1lc3NhZ2VJZD86IHN0cmluZyB8IG51bGwpOiBNZXNzYWdlUGFnZVtdIHwgbnVsbCB7XG4gICAgY29uc3QgY29vcmRzID0gdGhpcy5oaXN0b3J5Lm1ldGFkYXRhW3RhcmdldE1lc3NhZ2VJZF07XG4gICAgaWYgKCFjb29yZHMpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgeyBicmFuY2hJZCwgdHVybkluZGV4OiB0YXJnZXRUdXJuSW5kZXggfSA9IGNvb3JkcztcbiAgICBjb25zdCBzdGFydFR1cm5JbmRleCA9IHN0YXJ0TWVzc2FnZUlkID8gdGhpcy5nZXRNZXNzYWdlSW5kZXgoc3RhcnRNZXNzYWdlSWQpIDogLTE7XG4gICAgXG4gICAgY29uc3QgbWVzc2FnZXM6IE1lc3NhZ2VQYWdlW10gPSBbXTtcbiAgICBjb25zdCB0YXJnZXRCcmFuY2hUdXJucyA9IHRoaXMuaGlzdG9yeS5icmFuY2hlc1ticmFuY2hJZF07XG4gICAgY29uc3QgdHVybkluZGljZXMgPSBPYmplY3Qua2V5cyh0YXJnZXRCcmFuY2hUdXJucykubWFwKE51bWJlcikuc29ydCgoYSwgYikgPT4gYSAtIGIpO1xuXG4gICAgZm9yIChjb25zdCBpbmRleCBvZiB0dXJuSW5kaWNlcykge1xuICAgICAgaWYgKGluZGV4IDw9IHN0YXJ0VHVybkluZGV4KSBjb250aW51ZTsgLy8gU2tpcCB0dXJucyBiZWZvcmUgb3IgYXQgdGhlIHNuYXBzaG90XG4gICAgICBpZiAoaW5kZXggPiB0YXJnZXRUdXJuSW5kZXgpIGJyZWFrO1xuICAgICAgXG4gICAgICBjb25zdCB0dXJuID0gdGFyZ2V0QnJhbmNoVHVybnNbaW5kZXhdO1xuICAgICAgLy8gRm9yIHRoZSB0YXJnZXQgdHVybiwgdXNlIGl0cyBvd24gcGFnZSBpbmRleC4gRm9yIGFsbCBwcmV2aW91cyB0dXJucywgdXNlIHRoZWlyIGFjdGl2ZSBwYWdlIGluZGV4LlxuICAgICAgY29uc3QgcGFnZUluZGV4ID0gKGluZGV4ID09PSB0YXJnZXRUdXJuSW5kZXgpID8gY29vcmRzLnBhZ2VJbmRleCA6IHR1cm4uYWN0aXZlUGFnZUluZGV4O1xuICAgICAgY29uc3QgYWN0aXZlUGFnZSA9IHR1cm4ucGFnZXNbcGFnZUluZGV4XTtcbiAgICAgIFxuICAgICAgaWYgKGFjdGl2ZVBhZ2UpIHtcbiAgICAgICAgbWVzc2FnZXMucHVzaChhY3RpdmVQYWdlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2VzO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHRvdGFsIG51bWJlciBvZiB0dXJucyBpbiB0aGUgY3VycmVudGx5IGFjdGl2ZSBicmFuY2guXG4gICAqIEByZXR1cm5zIFRoZSBudW1iZXIgb2YgdHVybnMuXG4gICAqL1xuICBwdWJsaWMgZ2V0VHVybkNvdW50KCk6IG51bWJlciB7XG4gICAgY29uc3QgYWN0aXZlQnJhbmNoID0gdGhpcy5oaXN0b3J5LmJyYW5jaGVzW3RoaXMuaGlzdG9yeS5hY3RpdmVCcmFuY2hdO1xuICAgIGlmICghYWN0aXZlQnJhbmNoKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKGFjdGl2ZUJyYW5jaCkubGVuZ3RoO1xuICB9XG5cbiAgLyoqXG4gICAqIFNhdmVzIHRoZSBlbnRpcmUgaGlzdG9yeSBvYmplY3QgYmFjayB0byB0aGUgdmFyaWFibGUgc3lzdGVtLlxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBzYXZlSGlzdG9yeSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgLy8g5re75Yqg5LqGIHRoaXMuaGlzdG9yeSDnmoTmt7Hmi7fotJ3vvIzku6XpmLLmraLml6Xlv5forrDlvZXkuK3nmoTlr7nosaHooqvlkI7nu63mk43kvZzkv67mlLlcbiAgICAgIGxvZ2dlcignaW5mbycsICdIaXN0b3J5JywgJ0F0dGVtcHRpbmcgdG8gc2F2ZSBoaXN0b3J5LiBDdXJyZW50IHN0YXRlOicsIF8uY2xvbmVEZWVwKHRoaXMuaGlzdG9yeSkpO1xuICAgICAgYXdhaXQgdXBkYXRlVmFyaWFibGVzV2l0aCgoY2hhdFZhcnM6IGFueSkgPT4ge1xuICAgICAgICBfLnNldChjaGF0VmFycywgJ3BsdWdpbl9zdG9yYWdlLmxsbV9oaXN0b3J5JywgdGhpcy5oaXN0b3J5KTtcbiAgICAgICAgcmV0dXJuIGNoYXRWYXJzO1xuICAgICAgfSwgeyB0eXBlOiAnY2hhdCcgfSk7XG4gICAgICBsb2dnZXIoJ2luZm8nLCAnSGlzdG9yeScsICdIaXN0b3J5IHNhdmVkIHN1Y2Nlc3NmdWxseS4nKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyKCdlcnJvcicsICdIaXN0b3J5JywgJ0ZhaWxlZCB0byBzYXZlIGhpc3RvcnkuJywgZXJyb3IpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gcGVyc2lzdCBoaXN0b3J5IGNoYW5nZXMuJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkcyB0aGUgbWV0YWRhdGEgbG9va3VwIHRhYmxlIGZyb20gdGhlIGN1cnJlbnQgaGlzdG9yeSBzdGF0ZS5cbiAgICovXG4gIHByaXZhdGUgYnVpbGRNZXRhZGF0YSgpOiB2b2lkIHtcbiAgICB0aGlzLmhpc3RvcnkubWV0YWRhdGEgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGJyYW5jaElkIGluIHRoaXMuaGlzdG9yeS5icmFuY2hlcykge1xuICAgICAgY29uc3QgdHVybnMgPSB0aGlzLmhpc3RvcnkuYnJhbmNoZXNbYnJhbmNoSWRdO1xuICAgICAgZm9yIChjb25zdCB0dXJuSW5kZXhTdHIgaW4gdHVybnMpIHtcbiAgICAgICAgY29uc3QgdHVybkluZGV4ID0gcGFyc2VJbnQodHVybkluZGV4U3RyLCAxMCk7XG4gICAgICAgIGNvbnN0IHR1cm4gPSB0dXJuc1t0dXJuSW5kZXhdO1xuICAgICAgICBmb3IgKGNvbnN0IHBhZ2VJbmRleFN0ciBpbiB0dXJuLnBhZ2VzKSB7XG4gICAgICAgICAgY29uc3QgcGFnZUluZGV4ID0gcGFyc2VJbnQocGFnZUluZGV4U3RyLCAxMCk7XG4gICAgICAgICAgY29uc3QgcGFnZSA9IHR1cm4ucGFnZXNbcGFnZUluZGV4XTtcbiAgICAgICAgICBpZiAocGFnZSkge1xuICAgICAgICAgICAgdGhpcy5oaXN0b3J5Lm1ldGFkYXRhW3BhZ2UuaWRdID0geyBicmFuY2hJZCwgdHVybkluZGV4LCBwYWdlSW5kZXggfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgdGhlIG9sZCB2MSBmbGF0IGFycmF5IHN0cnVjdHVyZSB0byB0aGUgbmV3IHYyIG5lc3RlZCBvYmplY3Qgc3RydWN0dXJlLlxuICAgKiBAcGFyYW0gdjFIaXN0b3J5IFRoZSBvbGQgaGlzdG9yeSBhcnJheS5cbiAgICogQHJldHVybnMgQSBuZXcgQ2hhdEhpc3Rvcnkgb2JqZWN0IGluIHYyIGZvcm1hdC5cbiAgICovXG4gIHByaXZhdGUgbWlncmF0ZVYxVG9WMih2MUhpc3Rvcnk6IGFueVtdKTogQ2hhdEhpc3Rvcnkge1xuICAgIGNvbnN0IG5ld0hpc3RvcnkgPSB0aGlzLmdldGRlZmF1bHRIaXN0b3J5KCk7XG4gICAgY29uc3QgbWFpbkJyYW5jaCA9IG5ld0hpc3RvcnkuYnJhbmNoZXMubWFpbjtcbiAgICBsZXQgdHVybkluZGV4ID0gMDtcblxuICAgIHYxSGlzdG9yeS5mb3JFYWNoKG1zZyA9PiB7XG4gICAgICBpZiAobXNnLnJvbGUgPT09ICd1c2VyJykge1xuICAgICAgICBjb25zdCB1c2VyUGFnZTogTWVzc2FnZVBhZ2UgPSB7XG4gICAgICAgICAgaWQ6IG1zZy5pZCB8fCBgbXNnXyR7bXNnLnRpbWVzdGFtcH1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgOSl9YCxcbiAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgY29udGVudDogQXJyYXkuaXNBcnJheShtc2cuY29udGVudCkgPyBtc2cuY29udGVudC5qb2luKCdcXG4nKSA6IG1zZy5jb250ZW50LFxuICAgICAgICAgIHRpbWVzdGFtcDogbXNnLnRpbWVzdGFtcCxcbiAgICAgICAgICBpc1ZhbGlkOiBtc2cuaXNWYWxpZCAhPT0gZmFsc2UsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHVzZXJUdXJuOiBUdXJuID0ge1xuICAgICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgICBwYWdlczogeyAwOiB1c2VyUGFnZSB9LFxuICAgICAgICAgIGFjdGl2ZVBhZ2VJbmRleDogMCxcbiAgICAgICAgfTtcbiAgICAgICAgbWFpbkJyYW5jaFt0dXJuSW5kZXgrK10gPSB1c2VyVHVybjtcbiAgICAgIH0gZWxzZSBpZiAobXNnLnJvbGUgPT09ICdhc3Npc3RhbnQnKSB7XG4gICAgICAgIGNvbnN0IGFzc2lzdGFudFR1cm46IFR1cm4gPSB7XG4gICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgcGFnZXM6IHt9LFxuICAgICAgICAgIGFjdGl2ZVBhZ2VJbmRleDogbXNnLmFjdGl2ZVN3aXBlSW5kZXggfHwgMCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgc3dpcGVzOiBzdHJpbmdbXSA9IEFycmF5LmlzQXJyYXkobXNnLmNvbnRlbnQpID8gbXNnLmNvbnRlbnQgOiBbbXNnLmNvbnRlbnRdO1xuICAgICAgICBzd2lwZXMuZm9yRWFjaCgoc3dpcGVDb250ZW50OiBzdHJpbmcsIHBhZ2VJbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgY29uc3QgYXNzaXN0YW50UGFnZTogTWVzc2FnZVBhZ2UgPSB7XG4gICAgICAgICAgICBpZDogcGFnZUluZGV4ID09PSAobXNnLmFjdGl2ZVN3aXBlSW5kZXggfHwgMCkgPyBtc2cuaWQgOiBgbXNnXyR7bXNnLnRpbWVzdGFtcH1fJHtwYWdlSW5kZXh9YCxcbiAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgY29udGVudDogc3dpcGVDb250ZW50LFxuICAgICAgICAgICAgdGltZXN0YW1wOiBtc2cudGltZXN0YW1wLFxuICAgICAgICAgICAgaXNWYWxpZDogbXNnLmlzVmFsaWQgIT09IGZhbHNlLFxuICAgICAgICAgIH07XG4gICAgICAgICAgYXNzaXN0YW50VHVybi5wYWdlc1twYWdlSW5kZXhdID0gYXNzaXN0YW50UGFnZTtcbiAgICAgICAgfSk7XG4gICAgICAgIG1haW5CcmFuY2hbdHVybkluZGV4KytdID0gYXNzaXN0YW50VHVybjtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBuZXdIaXN0b3J5O1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/core/history.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts": 
  /*!***********************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts ***!
  \***********************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearLogs: () => (/* binding */ clearLogs),\n/* harmony export */   getLogs: () => (/* binding */ getLogs),\n/* harmony export */   getLogsAsText: () => (/* binding */ getLogsAsText),\n/* harmony export */   logger: () => (/* binding */ logger),\n/* harmony export */   refreshLoggerStatus: () => (/* binding */ refreshLoggerStatus)\n/* harmony export */ });\n// core/logger.ts\nlet isDebugMode = null;\nlet logContainer = null;\nlet logHistory = [];\n/**\n * Checks localStorage to determine if debug mode is enabled.\n * Caches the result to avoid repeated localStorage access.\n */\nfunction checkDebugMode() {\n    if (isDebugMode === null) {\n        isDebugMode = localStorage.getItem('xuanhuan.debugMode') === 'true';\n    }\n    return isDebugMode;\n}\n/**\n * Appends a formatted log entry to the debug modal's log container.\n * @param level The severity level of the log.\n * @param moduleName The name of the module logging the message.\n * @param message The primary message.\n * @param additionalData Optional additional data.\n */\nfunction logToModal(level, moduleName, message, ...additionalData) {\n    if (!logContainer) {\n        logContainer = $('#debug-log-container');\n        if (logContainer.length === 0) {\n            logContainer = null;\n        }\n    }\n    const timestamp = new Date().toLocaleTimeString();\n    const entry = {\n        timestamp,\n        level,\n        source: moduleName,\n        message: typeof message === 'object' ? JSON.stringify(message, null, 2) : String(message),\n        data: additionalData,\n    };\n    logHistory.push(entry);\n    if (!logContainer) {\n        return;\n    }\n    let colorClass = '';\n    switch (level) {\n        case 'info':\n            colorClass = 'text-green-400';\n            break;\n        case 'warn':\n            colorClass = 'text-yellow-400';\n            break;\n        case 'error':\n            colorClass = 'text-red-400';\n            break;\n        default:\n            colorClass = 'text-cyan-400';\n            break;\n    }\n    const additionalDataStr = additionalData.map(d => typeof d === 'object' ? JSON.stringify(d, null, 2) : String(d)).join(' ');\n    const logMessageContent = entry.message + ' ' + additionalDataStr;\n    const truncationLength = 200;\n    let displayMessage;\n    if (logMessageContent.length > truncationLength) {\n        displayMessage = `\n      <span class=\"log-message-short\">${logMessageContent.substring(0, truncationLength)}...</span>\n      <a href=\"#\" class=\"log-expand-btn\">显示更多</a>\n      <span class=\"log-message-full\" style=\"display: none;\">${logMessageContent}</span>\n    `;\n    }\n    else {\n        displayMessage = `<span class=\"log-message-full\">${logMessageContent}</span>`;\n    }\n    const logEntryEl = $(`\n    <div class=\"debug-log-entry\" data-level=\"${level}\">\n      <span class=\"${colorClass} font-bold\">[${timestamp}] [${moduleName}]</span>\n      ${displayMessage}\n    </div>\n  `);\n    logContainer.append(logEntryEl);\n    if (logContainer[0]) {\n        logContainer.scrollTop(logContainer[0].scrollHeight);\n    }\n}\n/**\n * A centralized logger that only outputs to the console when debug mode is enabled.\n *\n * @param level The severity level of the log ('log', 'info', 'warn', 'error').\n * @param moduleName The name of the module or component logging the message.\n * @param message The primary message or object to log.\n * @param additionalData Optional additional data to log.\n */\nfunction logger(level, moduleName, message, ...additionalData) {\n    if (!checkDebugMode()) {\n        return;\n    }\n    logToModal(level, moduleName, message, ...additionalData);\n    const timestamp = new Date().toLocaleTimeString();\n    const style = 'font-weight: bold;';\n    let color = '';\n    switch (level) {\n        case 'info':\n            color = 'color: #28a745;';\n            break;\n        case 'warn':\n            color = 'color: #ffc107;';\n            break;\n        case 'error':\n            color = 'color: #dc3545;';\n            break;\n        default:\n            color = 'color: #17a2b8;';\n            break;\n    }\n    console[level](`%c[${timestamp}] [${moduleName}]`, `${style} ${color}`, message, ...additionalData);\n}\n/**\n * Forces a re-check of the debug mode status from localStorage.\n */\nfunction refreshLoggerStatus() {\n    isDebugMode = null;\n    checkDebugMode();\n}\n/**\n * Clears all logs from the in-memory history.\n */\nfunction clearLogs() {\n    logHistory = [];\n}\n/**\n * Gets all stored logs as a single plain text string.\n * @returns A string containing all log entries, separated by newlines.\n */\nfunction getLogsAsText() {\n    return logHistory.map(entry => {\n        const dataStr = entry.data.map(d => typeof d === 'object' ? JSON.stringify(d) : String(d)).join(' ');\n        return `${entry.timestamp} [${entry.level.toUpperCase()}] [${entry.source}] ${entry.message} ${dataStr}`;\n    }).join('\\n');\n}\n/**\n * Gets the structured log history.\n */\nfunction getLogs() {\n    return logHistory;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9sb2dnZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxpQkFBaUI7QUFjakIsSUFBSSxXQUFXLEdBQW1CLElBQUksQ0FBQztBQUN2QyxJQUFJLFlBQVksR0FBK0IsSUFBSSxDQUFDO0FBQ3BELElBQUksVUFBVSxHQUFlLEVBQUUsQ0FBQztBQUVoQzs7O0dBR0c7QUFDSCxTQUFTLGNBQWM7SUFDckIsSUFBSSxXQUFXLEtBQUssSUFBSSxFQUFFLENBQUM7UUFDekIsV0FBVyxHQUFHLFlBQVksQ0FBQyxPQUFPLENBQUMsb0JBQW9CLENBQUMsS0FBSyxNQUFNLENBQUM7SUFDdEUsQ0FBQztJQUNELE9BQU8sV0FBVyxDQUFDO0FBQ3JCLENBQUM7QUFFRDs7Ozs7O0dBTUc7QUFDSCxTQUFTLFVBQVUsQ0FBQyxLQUFlLEVBQUUsVUFBa0IsRUFBRSxPQUFZLEVBQUUsR0FBRyxjQUFxQjtJQUM3RixJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7UUFDbEIsWUFBWSxHQUFHLENBQUMsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO1FBQ3pDLElBQUksWUFBWSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUUsQ0FBQztZQUM5QixZQUFZLEdBQUcsSUFBSSxDQUFDO1FBQ3RCLENBQUM7SUFDSCxDQUFDO0lBRUQsTUFBTSxTQUFTLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO0lBRWxELE1BQU0sS0FBSyxHQUFhO1FBQ3RCLFNBQVM7UUFDVCxLQUFLO1FBQ0wsTUFBTSxFQUFFLFVBQVU7UUFDbEIsT0FBTyxFQUFFLE9BQU8sT0FBTyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDO1FBQ3pGLElBQUks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TSxVQUFVLEdBQUcsRUFDbEMsR0FBRyxLQUFLLElBQUksS0FBSyxFQUFFLEVBQ25CLE9BQU8sRUFDUCxHQUFHLGNBQWMsQ0FDbEIsQ0FBQztBQUNKLENBQUM7QUFFRDs7R0FFRztBQUNJLFNBQVMsbUJBQW1CO0lBQ2pDLFdBQVcsR0FBRyxJQUFJLENBQUM7SUFDbkIsY0FBYyxFQUFFLENBQUM7QUFDbkIsQ0FBQztBQUVEOztHQUVHO0FBQ0ksU0FBUyxTQUFTO0lBQ3ZCLFVBQVUsR0FBRyxFQUFFLENBQUM7QUFDbEIsQ0FBQztBQUVEOzs7R0FHRztBQUNJLFNBQVMsYUFBYTtJQUMzQixPQUFPLFVBQVUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDNUIsTUFBTSxPQUFPLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsS0FBSyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNyRyxPQUFPLEdBQUcsS0FBSyxDQUFDLFNBQVMsS0FBSyxLQUFLLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSxNQUFNLEtBQUssQ0FBQyxNQUFNLEtBQUssS0FBSyxDQUFDLE9BQU8sSUFBSSxPQUFPLEVBQUUsQ0FBQztJQUMzRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDaEIsQ0FBQztBQUVEOztHQUVHO0FBQ0ksU0FBUyxPQUFPO0lBQ3JCLE9BQU8sVUFBVSxDQUFDO0FBQ3BCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlLy4vc3JjL+S7gOS5iOaIkeimgeWcqOeOhOW5u+S/ruS7meS4lueVjOenjeeUsC0w5qW854mI5pysL2NvcmUvbG9nZ2VyLnRzPyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjb3JlL2xvZ2dlci50c1xuXG5kZWNsYXJlIGNvbnN0ICQ6IGFueTtcblxudHlwZSBMb2dMZXZlbCA9ICdsb2cnIHwgJ2luZm8nIHwgJ3dhcm4nIHwgJ2Vycm9yJztcblxuZXhwb3J0IGludGVyZmFjZSBMb2dFbnRyeSB7XG4gIHRpbWVzdGFtcDogc3RyaW5nO1xuICBsZXZlbDogTG9nTGV2ZWw7XG4gIHNvdXJjZTogc3RyaW5nO1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIGRhdGE6IGFueVtdO1xufVxuXG5sZXQgaXNEZWJ1Z01vZGU6IGJvb2xlYW4gfCBudWxsID0gbnVsbDtcbmxldCBsb2dDb250YWluZXI6IEpRdWVyeTxIVE1MRWxlbWVudD4gfCBudWxsID0gbnVsbDtcbmxldCBsb2dIaXN0b3J5OiBMb2dFbnRyeVtdID0gW107XG5cbi8qKlxuICogQ2hlY2tzIGxvY2FsU3RvcmFnZSB0byBkZXRlcm1pbmUgaWYgZGVidWcgbW9kZSBpcyBlbmFibGVkLlxuICogQ2FjaGVzIHRoZSByZXN1bHQgdG8gYXZvaWQgcmVwZWF0ZWQgbG9jYWxTdG9yYWdlIGFjY2Vzcy5cbiAqL1xuZnVuY3Rpb24gY2hlY2tEZWJ1Z01vZGUoKSB7XG4gIGlmIChpc0RlYnVnTW9kZSA9PT0gbnVsbCkge1xuICAgIGlzRGVidWdNb2RlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3h1YW5odWFuLmRlYnVnTW9kZScpID09PSAndHJ1ZSc7XG4gIH1cbiAgcmV0dXJuIGlzRGVidWdNb2RlO1xufVxuXG4vKipcbiAqIEFwcGVuZHMgYSBmb3JtYXR0ZWQgbG9nIGVudHJ5IHRvIHRoZSBkZWJ1ZyBtb2RhbCdzIGxvZyBjb250YWluZXIuXG4gKiBAcGFyYW0gbGV2ZWwgVGhlIHNldmVyaXR5IGxldmVsIG9mIHRoZSBsb2cuXG4gKiBAcGFyYW0gbW9kdWxlTmFtZSBUaGUgbmFtZSBvZiB0aGUgbW9kdWxlIGxvZ2dpbmcgdGhlIG1lc3NhZ2UuXG4gKiBAcGFyYW0gbWVzc2FnZSBUaGUgcHJpbWFyeSBtZXNzYWdlLlxuICogQHBhcmFtIGFkZGl0aW9uYWxEYXRhIE9wdGlvbmFsIGFkZGl0aW9uYWwgZGF0YS5cbiAqL1xuZnVuY3Rpb24gbG9nVG9Nb2RhbChsZXZlbDogTG9nTGV2ZWwsIG1vZHVsZU5hbWU6IHN0cmluZywgbWVzc2FnZTogYW55LCAuLi5hZGRpdGlvbmFsRGF0YTogYW55W10pIHtcbiAgaWYgKCFsb2dDb250YWluZXIpIHtcbiAgICBsb2dDb250YWluZXIgPSAkKCcjZGVidWctbG9nLWNvbnRhaW5lcicpO1xuICAgIGlmIChsb2dDb250YWluZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICBsb2dDb250YWluZXIgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCk7XG4gIFxuICBjb25zdCBlbnRyeTogTG9nRW50cnkgPSB7XG4gICAgdGltZXN0YW1wLFxuICAgIGxldmVsLFxuICAgIHNvdXJjZTogbW9kdWxlTmFtZSxcbiAgICBtZXNzYWdlOiB0eXBlb2YgbWVzc2FnZSA9PT0gJ29iamVjdCcgPyBKU09OLnN0cmluZ2lmeShtZXNzYWdlLCBudWxsLCAyKSA6IFN0cmluZyhtZXNzYWdlKSxcbiAgICBkYXRhOiBhZGRpdGlvbmFsRGF0YSxcbiAgfTtcbiAgbG9nSGlzdG9yeS5wdXNoKGVudHJ5KTtcblxuICBpZiAoIWxvZ0NvbnRhaW5lcikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBjb2xvckNsYXNzID0gJyc7XG4gIHN3aXRjaCAobGV2ZWwpIHtcbiAgICBjYXNlICdpbmZvJzogY29sb3JDbGFzcyA9ICd0ZXh0LWdyZWVuLTQwMCc7IGJyZWFrO1xuICAgIGNhc2UgJ3dhcm4nOiBjb2xvckNsYXNzID0gJ3RleHQteWVsbG93LTQwMCc7IGJyZWFrO1xuICAgIGNhc2UgJ2Vycm9yJzogY29sb3JDbGFzcyA9ICd0ZXh0LXJlZC00MDAnOyBicmVhaztcbiAgICBkZWZhdWx0OiBjb2xvckNsYXNzID0gJ3RleHQtY3lhbi00MDAnOyBicmVhaztcbiAgfVxuXG4gIGNvbnN0IGFkZGl0aW9uYWxEYXRhU3RyID0gYWRkaXRpb25hbERhdGEubWFwKGQgPT4gdHlwZW9mIGQgPT09ICdvYmplY3QnID8gSlNPTi5zdHJpbmdpZnkoZCwgbnVsbCwgMikgOiBTdHJpbmcoZCkpLmpvaW4oJyAnKTtcbiAgY29uc3QgbG9nTWVzc2FnZUNvbnRlbnQgPSBlbnRyeS5tZXNzYWdlICsgJyAnICsgYWRkaXRpb25hbERhdGFTdHI7XG4gIGNvbnN0IHRydW5jYXRpb25MZW5ndGggPSAyMDA7XG4gIGxldCBkaXNwbGF5TWVzc2FnZTtcblxuICBpZiAobG9nTWVzc2FnZUNvbnRlbnQubGVuZ3RoID4gdHJ1bmNhdGlvbkxlbmd0aCkge1xuICAgIGRpc3BsYXlNZXNzYWdlID0gYFxuICAgICAgPHNwYW4gY2xhc3M9XCJsb2ctbWVzc2FnZS1zaG9ydFwiPiR7bG9nTWVzc2FnZUNvbnRlbnQuc3Vic3RyaW5nKDAsIHRydW5jYXRpb25MZW5ndGgpfS4uLjwvc3Bhbj5cbiAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJsb2ctZXhwYW5kLWJ0blwiPuaYvuekuuabtOWkmjwvYT5cbiAgICAgIDxzcGFuIGNsYXNzPVwibG9nLW1lc3NhZ2UtZnVsbFwiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIj4ke2xvZ01lc3NhZ2VDb250ZW50fTwvc3Bhbj5cbiAgICBgO1xuICB9IGVsc2Uge1xuICAgIGRpc3BsYXlNZXNzYWdlID0gYDxzcGFuIGNsYXNzPVwibG9nLW1lc3NhZ2UtZnVsbFwiPiR7bG9nTWVzc2FnZUNvbnRlbnR9PC9zcGFuPmA7XG4gIH1cblxuICBjb25zdCBsb2dFbnRyeUVsID0gJChgXG4gICAgPGRpdiBjbGFzcz1cImRlYnVnLWxvZy1lbnRyeVwiIGRhdGEtbGV2ZWw9XCIke2xldmVsfVwiPlxuICAgICAgPHNwYW4gY2xhc3M9XCIke2NvbG9yQ2xhc3N9IGZvbnQtYm9sZFwiPlske3RpbWVzdGFtcH1dIFske21vZHVsZU5hbWV9XTwvc3Bhbj5cbiAgICAgICR7ZGlzcGxheU1lc3NhZ2V9XG4gICAgPC9kaXY+XG4gIGApO1xuICBcbiAgbG9nQ29udGFpbmVyLmFwcGVuZChsb2dFbnRyeUVsKTtcbiAgaWYgKGxvZ0NvbnRhaW5lclswXSkge1xuICAgIGxvZ0NvbnRhaW5lci5zY3JvbGxUb3AobG9nQ29udGFpbmVyWzBdLnNjcm9sbEhlaWdodCk7XG4gIH1cbn1cblxuLyoqXG4gKiBBIGNlbnRyYWxpemVkIGxvZ2dlciB0aGF0IG9ubHkgb3V0cHV0cyB0byB0aGUgY29uc29sZSB3aGVuIGRlYnVnIG1vZGUgaXMgZW5hYmxlZC5cbiAqIFxuICogQHBhcmFtIGxldmVsIFRoZSBzZXZlcml0eSBsZXZlbCBvZiB0aGUgbG9nICgnbG9nJywgJ2luZm8nLCAnd2FybicsICdlcnJvcicpLlxuICogQHBhcmFtIG1vZHVsZU5hbWUgVGhlIG5hbWUgb2YgdGhlIG1vZHVsZSBvciBjb21wb25lbnQgbG9nZ2luZyB0aGUgbWVzc2FnZS5cbiAqIEBwYXJhbSBtZXNzYWdlIFRoZSBwcmltYXJ5IG1lc3NhZ2Ugb3Igb2JqZWN0IHRvIGxvZy5cbiAqIEBwYXJhbSBhZGRpdGlvbmFsRGF0YSBPcHRpb25hbCBhZGRpdGlvbmFsIGRhdGEgdG8gbG9nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9nZ2VyKGxldmVsOiBMb2dMZXZlbCwgbW9kdWxlTmFtZTogc3RyaW5nLCBtZXNzYWdlOiBhbnksIC4uLmFkZGl0aW9uYWxEYXRhOiBhbnlbXSkge1xuICBpZiAoIWNoZWNrRGVidWdNb2RlKCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBsb2dUb01vZGFsKGxldmVsLCBtb2R1bGVOYW1lLCBtZXNzYWdlLCAuLi5hZGRpdGlvbmFsRGF0YSk7XG5cbiAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoKTtcbiAgY29uc3Qgc3R5bGUgPSAnZm9udC13ZWlnaHQ6IGJvbGQ7JztcbiAgXG4gIGxldCBjb2xvciA9ICcnO1xuICBzd2l0Y2ggKGxldmVsKSB7XG4gICAgY2FzZSAnaW5mbyc6IGNvbG9yID0gJ2NvbG9yOiAjMjhhNzQ1Oyc7IGJyZWFrO1xuICAgIGNhc2UgJ3dhcm4nOiBjb2xvciA9ICdjb2xvcjogI2ZmYzEwNzsnOyBicmVhaztcbiAgICBjYXNlICdlcnJvcic6IGNvbG9yID0gJ2NvbG9yOiAjZGMzNTQ1Oyc7IGJyZWFrO1xuICAgIGRlZmF1bHQ6IGNvbG9yID0gJ2NvbG9yOiAjMTdhMmI4Oyc7IGJyZWFrO1xuICB9XG5cbiAgY29uc29sZVtsZXZlbF0oXG4gICAgYCVjWyR7dGltZXN0YW1wfV0gWyR7bW9kdWxlTmFtZX1dYCxcbiAgICBgJHtzdHlsZX0gJHtjb2xvcn1gLFxuICAgIG1lc3NhZ2UsXG4gICAgLi4uYWRkaXRpb25hbERhdGFcbiAgKTtcbn1cblxuLyoqXG4gKiBGb3JjZXMgYSByZS1jaGVjayBvZiB0aGUgZGVidWcgbW9kZSBzdGF0dXMgZnJvbSBsb2NhbFN0b3JhZ2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWZyZXNoTG9nZ2VyU3RhdHVzKCkge1xuICBpc0RlYnVnTW9kZSA9IG51bGw7XG4gIGNoZWNrRGVidWdNb2RlKCk7XG59XG5cbi8qKlxuICogQ2xlYXJzIGFsbCBsb2dzIGZyb20gdGhlIGluLW1lbW9yeSBoaXN0b3J5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJMb2dzKCkge1xuICBsb2dIaXN0b3J5ID0gW107XG59XG5cbi8qKlxuICogR2V0cyBhbGwgc3RvcmVkIGxvZ3MgYXMgYSBzaW5nbGUgcGxhaW4gdGV4dCBzdHJpbmcuXG4gKiBAcmV0dXJucyBBIHN0cmluZyBjb250YWluaW5nIGFsbCBsb2cgZW50cmllcywgc2VwYXJhdGVkIGJ5IG5ld2xpbmVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9nc0FzVGV4dCgpOiBzdHJpbmcge1xuICByZXR1cm4gbG9nSGlzdG9yeS5tYXAoZW50cnkgPT4ge1xuICAgIGNvbnN0IGRhdGFTdHIgPSBlbnRyeS5kYXRhLm1hcChkID0+IHR5cGVvZiBkID09PSAnb2JqZWN0JyA/IEpTT04uc3RyaW5naWZ5KGQpIDogU3RyaW5nKGQpKS5qb2luKCcgJyk7XG4gICAgcmV0dXJuIGAke2VudHJ5LnRpbWVzdGFtcH0gWyR7ZW50cnkubGV2ZWwudG9VcHBlckNhc2UoKX1dIFske2VudHJ5LnNvdXJjZX1dICR7ZW50cnkubWVzc2FnZX0gJHtkYXRhU3RyfWA7XG4gIH0pLmpvaW4oJ1xcbicpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHN0cnVjdHVyZWQgbG9nIGhpc3RvcnkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRMb2dzKCk6IExvZ0VudHJ5W10ge1xuICByZXR1cm4gbG9nSGlzdG9yeTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/core/messageBus.ts": 
  /*!***************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/core/messageBus.ts ***!
  \***************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval('{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   messageBus: () => (/* binding */ messageBus)\n/* harmony export */ });\n/**\n * @file 类型安全的消息总线实现\n *\n * 该文件提供了 `TypedMessageBus` 类的实现和一个全局单例 `messageBus`。\n * 这个总线是系统内部模块间通信的推荐方式，取代了旧的、非类型安全的全局 eventEmit/eventOn 函数。\n *\n * 设计特点：\n * 1.  **由契约驱动**: 它的行为完全由 `core/events/definitions.ts` 中的 `AppEventMap` 接口定义。\n * 2.  **编译时安全**: 任何不符合 `AppEventMap` 契约的 `emit` 或 `on` 调用都会在编译时报错。\n * 3.  **智能提示**: 在支持的IDE中，`emit` 和 `on` 的事件名参数会自动提示所有可用的事件，\n *     并且回调函数中的 `payload` 参数会自动推断出正确的类型。\n * 4.  **单例模式**: 整个应用共享一个 `messageBus` 实例，确保了通信的全局一致性。\n */\n/**\n * 类型安全的消息总线类。\n */\nclass TypedMessageBus {\n    // 使用映射类型来为每种事件创建一个监听器数组。\n    // `[K in EventKey]?` 表示这是一个可选属性，键是 AppEventMap 中的事件名，\n    // 值是 `((payload: AppEventMap[K]) => void)[]`，即一个回调函数数组，\n    // 其中回调函数的参数 `payload` 的类型是与事件名K对应的载荷类型。\n    listeners = {};\n    /**\n     * 监听一个事件。\n     * @template K - 事件名称的类型，由传入的 eventName 参数推断。\n     * @param {K} eventName - 事件的名称。IDE会基于 AppEventMap 提供自动补全。\n     * @param {(payload: AppEventMap[K]) => void} callback - 事件触发时执行的回调函数。\n     *        其 `payload` 参数的类型会被自动、正确地推断。\n     */\n    on(eventName, callback) {\n        // 如果该事件还没有任何监听器，则初始化一个空数组。\n        if (!this.listeners[eventName]) {\n            this.listeners[eventName] = [];\n        }\n        // 将新的回调函数添加到监听器数组中。\n        // `!` 是非空断言操作符，因为我们刚刚在上一行确保了该数组存在。\n        this.listeners[eventName].push(callback);\n    }\n    /**\n     * 发送（触发）一个事件。\n     * @template K - 事件名称的类型，由传入的 eventName 参数推断。\n     * @param {K} eventName - 要发送的事件的名称。IDE会提供自动补全。\n     * @param {AppEventMap[K]} payload - 事件的载荷。其结构必须严格匹配 AppEventMap 中的定义，否则会产生编译错误。\n     */\n    emit(eventName, payload) {\n        const eventListeners = this.listeners[eventName];\n        if (eventListeners) {\n            // 遍历并执行所有已注册的监听器回调。\n            eventListeners.forEach(callback => {\n                try {\n                    callback(payload);\n                }\n                catch (error) {\n                    console.error(`Error executing listener for event "${eventName}":`, error);\n                }\n            });\n        }\n    }\n}\n/**\n * 导出一个 `TypedMessageBus` 的全局单例。\n * 应用中的所有模块都应该导入并使用这个实例来进行通信。\n */\nconst messageBus = new TypedMessageBus();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9tZXNzYWdlQnVzLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7Ozs7Ozs7Ozs7O0dBWUc7QUFRSDs7R0FFRztBQUNILE1BQU0sZUFBZTtJQUNuQix5QkFBeUI7SUFDekIsc0RBQXNEO0lBQ3RELHdEQUF3RDtJQUN4RCx3Q0FBd0M7SUFDaEMsU0FBUyxHQUFnRSxFQUFFLENBQUM7SUFFcEY7Ozs7OztPQU1HO0lBQ0ksRUFBRSxDQUFxQixTQUFZLEVBQUUsUUFBMkM7UUFDckYsMkJBQTJCO1FBQzNCLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUM7WUFDL0IsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDakMsQ0FBQztRQUNELG9CQUFvQjtRQUNwQixtQ0FBbUM7UUFDbkMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDNUMsQ0FBQztJQUVEOzs7OztPQUtHO0lBQ0ksSUFBSSxDQUFxQixTQUFZLEVBQUUsT0FBdUI7UUFDbkUsTUFBTSxjQUFjLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNqRCxJQUFJLGNBQWMsRUFBRSxDQUFDO1lBQ25CLG9CQUFvQjtZQUNwQixjQUFjLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxFQUFFO2dCQUNoQyxJQUFJLENBQUM7b0JBQ0gsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUNwQixDQUFDO2dCQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7b0JBQ2YsT0FBTyxDQUFDLEtBQUssQ0FBQyx1Q0FBdUMsU0FBUyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7Z0JBQzdFLENBQUM7WUFDSCxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUM7SUFDSCxDQUFDO0NBQ0Y7QUFFRDs7O0dBR0c7QUFDSSxNQUFNLFVBQVUsR0FBRyxJQUFJLGVBQWUsRUFBRSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS8uL3NyYy/ku4DkuYjmiJHopoHlnKjnjoTlubvkv67ku5nkuJbnlYznp43nlLAtMOalvOeJiOacrC9jb3JlL21lc3NhZ2VCdXMudHM/Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBAZmlsZSDnsbvlnovlronlhajnmoTmtojmga/mgLvnur/lrp7njrBcclxuICpcclxuICog6K+l5paH5Lu25o+Q5L6b5LqGIGBUeXBlZE1lc3NhZ2VCdXNgIOexu+eahOWunueOsOWSjOS4gOS4quWFqOWxgOWNleS+iyBgbWVzc2FnZUJ1c2DjgIJcclxuICog6L+Z5Liq5oC757q/5piv57O757uf5YaF6YOo5qih5Z2X6Ze06YCa5L+h55qE5o6o6I2Q5pa55byP77yM5Y+W5Luj5LqG5pen55qE44CB6Z2e57G75Z6L5a6J5YWo55qE5YWo5bGAIGV2ZW50RW1pdC9ldmVudE9uIOWHveaVsOOAglxyXG4gKlxyXG4gKiDorr7orqHnibnngrnvvJpcclxuICogMS4gICoq55Sx5aWR57qm6amx5YqoKio6IOWug+eahOihjOS4uuWujOWFqOeUsSBgY29yZS9ldmVudHMvZGVmaW5pdGlvbnMudHNgIOS4reeahCBgQXBwRXZlbnRNYXBgIOaOpeWPo+WumuS5ieOAglxyXG4gKiAyLiAgKirnvJbor5Hml7blronlhagqKjog5Lu75L2V5LiN56ym5ZCIIGBBcHBFdmVudE1hcGAg5aWR57qm55qEIGBlbWl0YCDmiJYgYG9uYCDosIPnlKjpg73kvJrlnKjnvJbor5Hml7bmiqXplJnjgIJcclxuICogMy4gICoq5pm66IO95o+Q56S6Kio6IOWcqOaUr+aMgeeahElEReS4re+8jGBlbWl0YCDlkowgYG9uYCDnmoTkuovku7blkI3lj4LmlbDkvJroh6rliqjmj5DnpLrmiYDmnInlj6/nlKjnmoTkuovku7bvvIxcclxuICogICAgIOW5tuS4lOWbnuiwg+WHveaVsOS4reeahCBgcGF5bG9hZGAg5Y+C5pWw5Lya6Ieq5Yqo5o6o5pat5Ye65q2j56Gu55qE57G75Z6L44CCXHJcbiAqIDQuICAqKuWNleS+i+aooeW8jyoqOiDmlbTkuKrlupTnlKjlhbHkuqvkuIDkuKogYG1lc3NhZ2VCdXNgIOWunuS+i++8jOehruS/neS6humAmuS/oeeahOWFqOWxgOS4gOiHtOaAp+OAglxyXG4gKi9cclxuXHJcbmltcG9ydCB7IEFwcEV2ZW50TWFwIH0gZnJvbSAnLi9ldmVudHMvZGVmaW5pdGlvbnMnO1xyXG5cclxuLy8g5LuOIEFwcEV2ZW50TWFwIOS4reaPkOWPluaJgOacieWQiOazleeahOS6i+S7tuWQjeensO+8jOS9nOS4uuS4gOS4quiBlOWQiOexu+Wei+OAglxyXG4vLyDkvovlpoIgJ3RpbWVDaGFuZ2VkJyB8ICd3ZWF0aGVyQ2hhbmdlZCcgfCAuLi5cclxudHlwZSBFdmVudEtleSA9IGtleW9mIEFwcEV2ZW50TWFwO1xyXG5cclxuLyoqXHJcbiAqIOexu+Wei+WuieWFqOeahOa2iOaBr+aAu+e6v+exu+OAglxyXG4gKi9cclxuY2xhc3MgVHlwZWRNZXNzYWdlQnVzIHtcclxuICAvLyDkvb/nlKjmmKDlsITnsbvlnovmnaXkuLrmr4/np43kuovku7bliJvlu7rkuIDkuKrnm5HlkKzlmajmlbDnu4TjgIJcclxuICAvLyBgW0sgaW4gRXZlbnRLZXldP2Ag6KGo56S66L+Z5piv5LiA5Liq5Y+v6YCJ5bGe5oCn77yM6ZSu5pivIEFwcEV2ZW50TWFwIOS4reeahOS6i+S7tuWQje+8jFxyXG4gIC8vIOWAvOaYryBgKChwYXlsb2FkOiBBcHBFdmVudE1hcFtLXSkgPT4gdm9pZClbXWDvvIzljbPkuIDkuKrlm57osIPlh73mlbDmlbDnu4TvvIxcclxuICAvLyDlhbbkuK3lm57osIPlh73mlbDnmoTlj4LmlbAgYHBheWxvYWRgIOeahOexu+Wei+aYr+S4juS6i+S7tuWQjUvlr7nlupTnmoTovb3ojbfnsbvlnovjgIJcclxuICBwcml2YXRlIGxpc3RlbmVyczogeyBbSyBpbiBFdmVudEtleV0/OiAoKHBheWxvYWQ6IEFwcEV2ZW50TWFwW0tdKSA9PiB2b2lkKVtdIH0gPSB7fTtcclxuXHJcbiAgLyoqXHJcbiAgICog55uR5ZCs5LiA5Liq5LqL5Lu244CCXHJcbiAgICogQHRlbXBsYXRlIEsgLSDkuovku7blkI3np7DnmoTnsbvlnovvvIznlLHkvKDlhaXnmoQgZXZlbnROYW1lIOWPguaVsOaOqOaWreOAglxyXG4gICAqIEBwYXJhbSB7S30gZXZlbnROYW1lIC0g5LqL5Lu255qE5ZCN56ew44CCSURF5Lya5Z+65LqOIEFwcEV2ZW50TWFwIOaPkOS+m+iHquWKqOihpeWFqOOAglxyXG4gICAqIEBwYXJhbSB7KHBheWxvYWQ6IEFwcEV2ZW50TWFwW0tdKSA9PiB2b2lkfSBjYWxsYmFjayAtIOS6i+S7tuinpuWPkeaXtuaJp+ihjOeahOWbnuiwg+WHveaVsOOAglxyXG4gICAqICAgICAgICDlhbYgYHBheWxvYWRgIOWPguaVsOeahOexu+Wei+S8muiiq+iHquWKqOOAgeato+ehruWcsOaOqOaWreOAglxyXG4gICAqL1xyXG4gIHB1YmxpYyBvbjxLIGV4dGVuZHMgRXZlbnRLZXk+KGV2ZW50TmFtZTogSywgY2FsbGJhY2s6IChwYXlsb2FkOiBBcHBFdmVudE1hcFtLXSkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgLy8g5aaC5p6c6K+l5LqL5Lu26L+Y5rKh5pyJ5Lu75L2V55uR5ZCs5Zmo77yM5YiZ5Yid5aeL5YyW5LiA5Liq56m65pWw57uE44CCXHJcbiAgICBpZiAoIXRoaXMubGlzdGVuZXJzW2V2ZW50TmFtZV0pIHtcclxuICAgICAgdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXSA9IFtdO1xyXG4gICAgfVxyXG4gICAgLy8g5bCG5paw55qE5Zue6LCD5Ye95pWw5re75Yqg5Yiw55uR5ZCs5Zmo5pWw57uE5Lit44CCXHJcbiAgICAvLyBgIWAg5piv6Z2e56m65pat6KiA5pON5L2c56ym77yM5Zug5Li65oiR5Lus5Yia5Yia5Zyo5LiK5LiA6KGM56Gu5L+d5LqG6K+l5pWw57uE5a2Y5Zyo44CCXHJcbiAgICB0aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdIS5wdXNoKGNhbGxiYWNrKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOWPkemAge+8iOinpuWPke+8ieS4gOS4quS6i+S7tuOAglxyXG4gICAqIEB0ZW1wbGF0ZSBLIC0g5LqL5Lu25ZCN56ew55qE57G75Z6L77yM55Sx5Lyg5YWl55qEIGV2ZW50TmFtZSDlj4LmlbDmjqjmlq3jgIJcclxuICAgKiBAcGFyYW0ge0t9IGV2ZW50TmFtZSAtIOimgeWPkemAgeeahOS6i+S7tueahOWQjeensOOAgklEReS8muaPkOS+m+iHquWKqOihpeWFqOOAglxyXG4gICAqIEBwYXJhbSB7QXBwRXZlbnRNYXBbS119IHBheWxvYWQgLSDkuovku7bnmoTovb3ojbfjgILlhbbnu5PmnoTlv4XpobvkuKXmoLzljLnphY0gQXBwRXZlbnRNYXAg5Lit55qE5a6a5LmJ77yM5ZCm5YiZ5Lya5Lqn55Sf57yW6K+R6ZSZ6K+v44CCXHJcbiAgICovXHJcbiAgcHVibGljIGVtaXQ8SyBleHRlbmRzIEV2ZW50S2V5PihldmVudE5hbWU6IEssIHBheWxvYWQ6IEFwcEV2ZW50TWFwW0tdKTogdm9pZCB7XHJcbiAgICBjb25zdCBldmVudExpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzW2V2ZW50TmFtZV07XHJcbiAgICBpZiAoZXZlbnRMaXN0ZW5lcnMpIHtcclxuICAgICAgLy8g6YGN5Y6G5bm25omn6KGM5omA5pyJ5bey5rOo5YaM55qE55uR5ZCs5Zmo5Zue6LCD44CCXHJcbiAgICAgIGV2ZW50TGlzdGVuZXJzLmZvckVhY2goY2FsbGJhY2sgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjYWxsYmFjayhwYXlsb2FkKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZXhlY3V0aW5nIGxpc3RlbmVyIGZvciBldmVudCBcIiR7ZXZlbnROYW1lfVwiOmAsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOWvvOWHuuS4gOS4qiBgVHlwZWRNZXNzYWdlQnVzYCDnmoTlhajlsYDljZXkvovjgIJcclxuICog5bqU55So5Lit55qE5omA5pyJ5qih5Z2X6YO95bqU6K+l5a+85YWl5bm25L2/55So6L+Z5Liq5a6e5L6L5p2l6L+b6KGM6YCa5L+h44CCXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgbWVzc2FnZUJ1cyA9IG5ldyBUeXBlZE1lc3NhZ2VCdXMoKTtcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/core/messageBus.ts\n\n}');
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/core/parser.ts": 
  /*!***********************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/core/parser.ts ***!
  \***********************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cleanMessageContent: () => (/* binding */ cleanMessageContent),\n/* harmony export */   createJsonErrorDisplay: () => (/* binding */ createJsonErrorDisplay),\n/* harmony export */   extractJsonFromStatusBar: () => (/* binding */ extractJsonFromStatusBar)\n/* harmony export */ });\n/**\n * 从完整的消息文本中严格提取 <statusbar>...</statusbar> 块内的 JSON 内容。\n * @param messageContent - 完整的聊天消息字符串。\n * @returns 清理后的 JSON 字符串，如果找不到或无效则返回空字符串。\n */\nfunction extractJsonFromStatusBar(messageContent) {\n    if (!messageContent)\n        return '';\n    const startIndex = messageContent.indexOf('<statusbar>');\n    const endIndex = messageContent.indexOf('</statusbar>');\n    if (startIndex === -1 || endIndex === -1 || endIndex <= startIndex) {\n        return '';\n    }\n    const contentToProcess = messageContent.substring(startIndex + '<statusbar>'.length, endIndex);\n    const jsonRegex = /```json\\s*([\\s\\S]*?)\\s*```/;\n    const match = contentToProcess.match(jsonRegex);\n    const potentialJsonString = match && match[1] ? match[1].trim() : contentToProcess.trim();\n    const firstBracket = potentialJsonString.indexOf('{');\n    const lastBracket = potentialJsonString.lastIndexOf('}');\n    if (firstBracket === -1 || lastBracket === -1 || lastBracket <= firstBracket) {\n        console.error('在 <statusbar> 块内未找到有效的JSON对象结构。');\n        return '';\n    }\n    const finalJsonString = potentialJsonString.substring(firstBracket, lastBracket + 1);\n    // 清理JSON中末尾多余的逗号，以增加解析的健壮性\n    return finalJsonString.replace(/,(?=\\s*?[\\]}])/g, '');\n}\n/**\n * 从消息内容中移除所有可解析的特殊标签（statusbar）。\n * @param messageContent - 原始消息内容。\n * @returns 清理后的、只包含叙事文本的消息内容。\n */\nfunction cleanMessageContent(messageContent) {\n    if (!messageContent)\n        return '';\n    let cleaned = messageContent;\n    cleaned = cleaned.replace(/<statusbar>[\\s\\S]*?<\\/statusbar>/g, '').trim();\n    return cleaned;\n}\n/**\n * 生成一个标准化的HTML字符串，用于在UI中显示JSON解析失败的信息。\n * @param rawText - 尝试解析的原始文本。\n * @param error - 捕获到的错误对象。\n * @returns 一个包含错误详情和原始文本的HTML字符串。\n */\nfunction createJsonErrorDisplay(rawText, error) {\n    const safeRawText = String(rawText || '');\n    const errorMessage = (error instanceof Error) ? error.message : String(error);\n    return `\n    <div class=\"bg-orange-800/20 border border-orange-700/30 text-orange-300 px-4 py-3 rounded-lg relative\" role=\"alert\">\n        <strong class=\"font-bold\">解析失败:</strong>\n        <span class=\"block sm:inline\">${errorMessage}</span>\n        <p class=\"mt-2 text-sm\">已为您显示原始输出内容，请检查格式：</p>\n    </div>\n    <pre class=\"bg-gray-900/50 text-white p-4 rounded-lg mt-2 whitespace-pre-wrap text-xs leading-relaxed\"><code>${safeRawText.replace(/</g, '<').replace(/>/g, '>')}</code></pre>\n  `;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9wYXJzZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBUUE7Ozs7R0FJRztBQUNJLFNBQVMsd0JBQXdCLENBQUMsY0FBc0I7SUFDN0QsSUFBSSxDQUFDLGNBQWM7UUFBRSxPQUFPLEVBQUUsQ0FBQztJQUUvQixNQUFNLFVBQVUsR0FBRyxjQUFjLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQ3pELE1BQU0sUUFBUSxHQUFHLGNBQWMsQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUM7SUFFeEQsSUFBSSxVQUFVLEtBQUssQ0FBQyxDQUFDLElBQUksUUFBUSxLQUFLLENBQUMsQ0FBQyxJQUFJLFFBQVEsSUFBSSxVQUFVLEVBQUUsQ0FBQztRQUNuRSxPQUFPLEVBQUUsQ0FBQztJQUNaLENBQUM7SUFFRCxNQUFNLGdCQUFnQixHQUFHLGNBQWMsQ0FBQyxTQUFTLENBQUMsVUFBVSxHQUFHLGFBQWEsQ0FBQyxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDL0YsTUFBTSxTQUFTLEdBQUcsNEJBQTRCLENBQUM7SUFDL0MsTUFBTSxLQUFLLEdBQUcsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ2hELE1BQU0sbUJBQW1CLEdBQUcsS0FBSyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUUxRixNQUFNLFlBQVksR0FBRyxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDdEQsTUFBTSxXQUFXLEdBQUcsbUJBQW1CLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBRXpELElBQUksWUFBWSxLQUFLLENBQUMsQ0FBQyxJQUFJLFdBQVcsS0FBSyxDQUFDLENBQUMsSUFBSSxXQUFXLElBQUksWUFBWSxFQUFFLENBQUM7UUFDN0UsT0FBTyxDQUFDLEtBQUssQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDO1FBQ2pELE9BQU8sRUFBRSxDQUFDO0lBQ1osQ0FBQztJQUVELE1BQU0sZUFBZSxHQUFHLG1CQUFtQixDQUFDLFNBQVMsQ0FBQyxZQUFZLEVBQUUsV0FBVyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ3JGLDJCQUEyQjtJQUMzQixPQUFPLGVBQWUsQ0FBQyxPQUFPLENBQUMsaUJBQWlCLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDeEQsQ0FBQztBQUVEOzs7O0dBSUc7QUFDSSxTQUFTLG1CQUFtQixDQUFDLGNBQXNCO0lBQ3RELElBQUksQ0FBQyxjQUFjO1FBQUUsT0FBTyxFQUFFLENBQUM7SUFDL0IsSUFBSSxPQUFPLEdBQUcsY0FBYyxDQUFDO0lBQzdCLE9BQU8sR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLG1DQUFtQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQzFFLE9BQU8sT0FBTyxDQUFDO0FBQ25CLENBQUM7QUFHRDs7Ozs7R0FLRztBQUNJLFNBQVMsc0JBQXNCLENBQUMsT0FBZSxFQUFFLEtBQWM7SUFDcEUsTUFBTSxXQUFXLEdBQUcsTUFBTSxDQUFDLE9BQU8sSUFBSSxFQUFFLENBQUMsQ0FBQztJQUMxQyxNQUFNLFlBQVksR0FBRyxDQUFDLEtBQUssWUFBWSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBRTlFLE9BQU87Ozt3Q0FHK0IsWUFBWTs7O21IQUcrRCxXQUFXLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQztHQUNqSyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9wYXJzZXIudHM/Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBva2VkZXhNYW5hZ2VyIH0gZnJvbSAnLi9wb2tlZGV4JztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4vbG9nZ2VyJztcblxuZGVjbGFyZSBjb25zdCBfOiBhbnk7XG5kZWNsYXJlIGNvbnN0IHRvYXN0cjogYW55O1xuZGVjbGFyZSBjb25zdCBnZXRWYXJpYWJsZXM6IChvcHRpb25zOiBhbnkpID0+IGFueTtcbmRlY2xhcmUgY29uc3QgdXBkYXRlVmFyaWFibGVzV2l0aDogKHVwZGF0ZXI6ICh2YXJzOiBhbnkpID0+IGFueSwgb3B0aW9uczogYW55KSA9PiBQcm9taXNlPHZvaWQ+O1xuXG4vKipcbiAqIOS7juWujOaVtOeahOa2iOaBr+aWh+acrOS4reS4peagvOaPkOWPliA8c3RhdHVzYmFyPi4uLjwvc3RhdHVzYmFyPiDlnZflhoXnmoQgSlNPTiDlhoXlrrnjgIJcbiAqIEBwYXJhbSBtZXNzYWdlQ29udGVudCAtIOWujOaVtOeahOiBiuWkqea2iOaBr+Wtl+espuS4suOAglxuICogQHJldHVybnMg5riF55CG5ZCO55qEIEpTT04g5a2X56ym5Liy77yM5aaC5p6c5om+5LiN5Yiw5oiW5peg5pWI5YiZ6L+U5Zue56m65a2X56ym5Liy44CCXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0SnNvbkZyb21TdGF0dXNCYXIobWVzc2FnZUNvbnRlbnQ6IHN0cmluZyk6IHN0cmluZyB7XG4gIGlmICghbWVzc2FnZUNvbnRlbnQpIHJldHVybiAnJztcblxuICBjb25zdCBzdGFydEluZGV4ID0gbWVzc2FnZUNvbnRlbnQuaW5kZXhPZignPHN0YXR1c2Jhcj4nKTtcbiAgY29uc3QgZW5kSW5kZXggPSBtZXNzYWdlQ29udGVudC5pbmRleE9mKCc8L3N0YXR1c2Jhcj4nKTtcblxuICBpZiAoc3RhcnRJbmRleCA9PT0gLTEgfHwgZW5kSW5kZXggPT09IC0xIHx8IGVuZEluZGV4IDw9IHN0YXJ0SW5kZXgpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgXG4gIGNvbnN0IGNvbnRlbnRUb1Byb2Nlc3MgPSBtZXNzYWdlQ29udGVudC5zdWJzdHJpbmcoc3RhcnRJbmRleCArICc8c3RhdHVzYmFyPicubGVuZ3RoLCBlbmRJbmRleCk7XG4gIGNvbnN0IGpzb25SZWdleCA9IC9gYGBqc29uXFxzKihbXFxzXFxTXSo/KVxccypgYGAvO1xuICBjb25zdCBtYXRjaCA9IGNvbnRlbnRUb1Byb2Nlc3MubWF0Y2goanNvblJlZ2V4KTtcbiAgY29uc3QgcG90ZW50aWFsSnNvblN0cmluZyA9IG1hdGNoICYmIG1hdGNoWzFdID8gbWF0Y2hbMV0udHJpbSgpIDogY29udGVudFRvUHJvY2Vzcy50cmltKCk7XG5cbiAgY29uc3QgZmlyc3RCcmFja2V0ID0gcG90ZW50aWFsSnNvblN0cmluZy5pbmRleE9mKCd7Jyk7XG4gIGNvbnN0IGxhc3RCcmFja2V0ID0gcG90ZW50aWFsSnNvblN0cmluZy5sYXN0SW5kZXhPZignfScpO1xuXG4gIGlmIChmaXJzdEJyYWNrZXQgPT09IC0xIHx8IGxhc3RCcmFja2V0ID09PSAtMSB8fCBsYXN0QnJhY2tldCA8PSBmaXJzdEJyYWNrZXQpIHtcbiAgICBjb25zb2xlLmVycm9yKCflnKggPHN0YXR1c2Jhcj4g5Z2X5YaF5pyq5om+5Yiw5pyJ5pWI55qESlNPTuWvueixoee7k+aehOOAgicpO1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIGNvbnN0IGZpbmFsSnNvblN0cmluZyA9IHBvdGVudGlhbEpzb25TdHJpbmcuc3Vic3RyaW5nKGZpcnN0QnJhY2tldCwgbGFzdEJyYWNrZXQgKyAxKTtcbiAgLy8g5riF55CGSlNPTuS4reacq+WwvuWkmuS9meeahOmAl+WPt++8jOS7peWinuWKoOino+aekOeahOWBpeWjruaAp1xuICByZXR1cm4gZmluYWxKc29uU3RyaW5nLnJlcGxhY2UoLywoPz1cXHMqP1tcXF19XSkvZywgJycpO1xufVxuXG4vKipcbiAqIOS7jua2iOaBr+WGheWuueS4reenu+mZpOaJgOacieWPr+ino+aekOeahOeJueauiuagh+etvu+8iHN0YXR1c2Jhcu+8ieOAglxuICogQHBhcmFtIG1lc3NhZ2VDb250ZW50IC0g5Y6f5aeL5raI5oGv5YaF5a6544CCXG4gKiBAcmV0dXJucyDmuIXnkIblkI7nmoTjgIHlj6rljIXlkKvlj5nkuovmlofmnKznmoTmtojmga/lhoXlrrnjgIJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsZWFuTWVzc2FnZUNvbnRlbnQobWVzc2FnZUNvbnRlbnQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgaWYgKCFtZXNzYWdlQ29udGVudCkgcmV0dXJuICcnO1xuICAgIGxldCBjbGVhbmVkID0gbWVzc2FnZUNvbnRlbnQ7XG4gICAgY2xlYW5lZCA9IGNsZWFuZWQucmVwbGFjZSgvPHN0YXR1c2Jhcj5bXFxzXFxTXSo/PFxcL3N0YXR1c2Jhcj4vZywgJycpLnRyaW0oKTtcbiAgICByZXR1cm4gY2xlYW5lZDtcbn1cblxuXG4vKipcbiAqIOeUn+aIkOS4gOS4quagh+WHhuWMlueahEhUTUzlrZfnrKbkuLLvvIznlKjkuo7lnKhVSeS4reaYvuekukpTT07op6PmnpDlpLHotKXnmoTkv6Hmga/jgIJcbiAqIEBwYXJhbSByYXdUZXh0IC0g5bCd6K+V6Kej5p6Q55qE5Y6f5aeL5paH5pys44CCXG4gKiBAcGFyYW0gZXJyb3IgLSDmjZXojrfliLDnmoTplJnor6/lr7nosaHjgIJcbiAqIEByZXR1cm5zIOS4gOS4quWMheWQq+mUmeivr+ivpuaDheWSjOWOn+Wni+aWh+acrOeahEhUTUzlrZfnrKbkuLLjgIJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUpzb25FcnJvckRpc3BsYXkocmF3VGV4dDogc3RyaW5nLCBlcnJvcjogdW5rbm93bik6IHN0cmluZyB7XG4gIGNvbnN0IHNhZmVSYXdUZXh0ID0gU3RyaW5nKHJhd1RleHQgfHwgJycpO1xuICBjb25zdCBlcnJvck1lc3NhZ2UgPSAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKTtcblxuICByZXR1cm4gYFxuICAgIDxkaXYgY2xhc3M9XCJiZy1vcmFuZ2UtODAwLzIwIGJvcmRlciBib3JkZXItb3JhbmdlLTcwMC8zMCB0ZXh0LW9yYW5nZS0zMDAgcHgtNCBweS0zIHJvdW5kZWQtbGcgcmVsYXRpdmVcIiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgPHN0cm9uZyBjbGFzcz1cImZvbnQtYm9sZFwiPuino+aekOWksei0pTo8L3N0cm9uZz5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJibG9jayBzbTppbmxpbmVcIj4ke2Vycm9yTWVzc2FnZX08L3NwYW4+XG4gICAgICAgIDxwIGNsYXNzPVwibXQtMiB0ZXh0LXNtXCI+5bey5Li65oKo5pi+56S65Y6f5aeL6L6T5Ye65YaF5a6577yM6K+35qOA5p+l5qC85byP77yaPC9wPlxuICAgIDwvZGl2PlxuICAgIDxwcmUgY2xhc3M9XCJiZy1ncmF5LTkwMC81MCB0ZXh0LXdoaXRlIHAtNCByb3VuZGVkLWxnIG10LTIgd2hpdGVzcGFjZS1wcmUtd3JhcCB0ZXh0LXhzIGxlYWRpbmctcmVsYXhlZFwiPjxjb2RlPiR7c2FmZVJhd1RleHQucmVwbGFjZSgvPC9nLCAnPCcpLnJlcGxhY2UoLz4vZywgJz4nKX08L2NvZGU+PC9wcmU+XG4gIGA7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/core/parser.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/core/pokedex.ts": 
  /*!************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/core/pokedex.ts ***!
  \************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PokedexManager: () => (/* binding */ PokedexManager)\n/* harmony export */ });\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ \"lodash\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _data_pokedex_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../data/pokedex-data */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/data/pokedex-data.ts\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./logger */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts\");\n/* harmony import */ var _state__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./state */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/state.ts\");\n\n\n\n\nconst ACHIEVEMENT_VARIABLE_PATH = '世界.系统';\n// --- Remote Sync Configuration ---\n// NOTE: This is a simple Base64 encoding to obscure the URL, NOT for security.\nconst encodedUrl = 'aHR0cHM6Ly93d3ctYXBpLWZvcnVtLnJjNnMzd2N1ZS5ueWF0LmFwcDo1OTY5MC9hcGkvcG9rZWRleA==';\nconst getRemoteUrl = () => atob(encodedUrl);\n// --- PokedexManager Class ---\nclass PokedexManager {\n    pokedexData;\n    constructor() {\n        this.pokedexData = lodash__WEBPACK_IMPORTED_MODULE_0___default().cloneDeep(_data_pokedex_data__WEBPACK_IMPORTED_MODULE_1__.pokedexDataSource);\n        if (!this.pokedexData.书籍) {\n            this.pokedexData.书籍 = [];\n        }\n        (0,_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'Pokedex', 'Initialized with data from TS module.');\n    }\n    getPokedexData() {\n        return this.pokedexData;\n    }\n    /**\n     * (vFuture 新增) 获取所有图鉴条目的Map，键为完整的变量路径ID。\n     * @returns {Map<string, PokedexEntry>}\n     */\n    getAllEntriesAsMap() {\n        const entriesMap = new Map();\n        for (const category in this.pokedexData) {\n            if (Array.isArray(this.pokedexData[category])) {\n                for (const item of this.pokedexData[category]) {\n                    const itemId = `世界.图鉴.${category}.${item.名称}`;\n                    entriesMap.set(itemId, item);\n                }\n            }\n        }\n        return entriesMap;\n    }\n    // --- Value Calculation ---\n    getMarketModifier(tags) {\n        const worldState = getVariables({ type: 'global' });\n        const marketPrices = lodash__WEBPACK_IMPORTED_MODULE_0___default().get(worldState, '世界.时价', []);\n        let totalModifier = 1.0;\n        (0,_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('log', 'Pokedex', '[getMarketModifier] Calculating modifier for tags:', { tags, marketPrices: lodash__WEBPACK_IMPORTED_MODULE_0___default().cloneDeep(marketPrices) });\n        if (!marketPrices || marketPrices.length === 0) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('log', 'Pokedex', '[getMarketModifier] No market prices found. Returning base modifier 1.0.');\n            return totalModifier;\n        }\n        tags.forEach(tag => {\n            const priceInfo = marketPrices.find(p => p.标签 === tag);\n            if (priceInfo) {\n                totalModifier += priceInfo.涨跌幅;\n                (0,_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('log', 'Pokedex', `[getMarketModifier] Found matching price for tag \"${tag}\". Modifier changed by ${priceInfo.涨跌幅}. New total: ${totalModifier}`);\n            }\n        });\n        (0,_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'Pokedex', `[getMarketModifier] Final modifier calculated: ${totalModifier}`);\n        return totalModifier;\n    }\n    calculateItemValue(entry) {\n        if (!entry.价值) {\n            return 0;\n        }\n        const baseValue = entry.价值.基础价值;\n        const tags = entry.价值.价值标签 || [];\n        const modifier = this.getMarketModifier(tags);\n        const finalValue = Math.round(baseValue * modifier);\n        (0,_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('log', 'Pokedex', `Calculated value for \"${entry.名称}\"`, { baseValue, tags, modifier, finalValue });\n        return finalValue;\n    }\n    // --- CRUD for Pokedex Entries ---\n    createPokedexEntry(type, entryData) {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('log', 'Pokedex', `Attempting to create entry in \"${type}\"`, entryData);\n        if (!entryData.名称) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('error', 'Pokedex', 'Create failed: Entry is missing \"名称\" field.');\n            toastr.error('创建失败：条目必须包含“名称”字段。');\n            return false;\n        }\n        if (this.pokedexData[type].some(entry => entry.名称 === entryData.名称)) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('warn', 'Pokedex', `Create failed: Entry \"${entryData.名称}\" already exists in \"${type}\".`);\n            //toastr.warning(`创建失败：名为“${entryData.名称}”的${type}已存在。`);\n            return false;\n        }\n        this.pokedexData[type].push(entryData);\n        (0,_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'Pokedex', `Successfully created entry \"${entryData.名称}\" in memory.`);\n        if (!(0,_state__WEBPACK_IMPORTED_MODULE_3__.getIsRecalculatingState)()) {\n            toastr.success(`成功在内存中添加【${entryData.名称}】。`);\n        }\n        return true;\n    }\n    readPokedexEntry(type, name) {\n        const entry = this.pokedexData[type].find(entry => entry.名称 === name);\n        (0,_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('log', 'Pokedex', `Read attempt for \"${name}\" in \"${type}\": ${entry ? 'Found' : 'Not Found'}.`);\n        return entry ? lodash__WEBPACK_IMPORTED_MODULE_0___default().cloneDeep(entry) : undefined;\n    }\n    updatePokedexEntry(type, originalName, updatedData) {\n        if (!updatedData.名称) {\n            toastr.error('更新失败：条目必须包含“名称”字段。');\n            return false;\n        }\n        const entryIndex = this.pokedexData[type].findIndex(entry => entry.名称 === originalName);\n        if (entryIndex === -1) {\n            toastr.error(`更新失败：未找到名为“${originalName}”的${type}。`);\n            return false;\n        }\n        if (originalName !== updatedData.名称 && this.pokedexData[type].some(entry => entry.名称 === updatedData.名称)) {\n            //toastr.warning(`更新失败：名为“${updatedData.名称}”的${type}已存在。`);\n            return false;\n        }\n        this.pokedexData[type][entryIndex] = updatedData;\n        if (!(0,_state__WEBPACK_IMPORTED_MODULE_3__.getIsRecalculatingState)()) {\n            toastr.success(`成功在内存中更新【${updatedData.名称}】。`);\n        }\n        return true;\n    }\n    deletePokedexEntry(type, name) {\n        const initialLength = this.pokedexData[type].length;\n        this.pokedexData[type] = this.pokedexData[type].filter((entry) => entry.名称 !== name);\n        if (this.pokedexData[type].length < initialLength) {\n            toastr.success(`成功从内存中删除【${name}】。`);\n            return true;\n        }\n        else {\n            toastr.warning(`删除失败：未找到名为“${name}”的${type}。`);\n            return false;\n        }\n    }\n    // --- Remote Sync ---\n    async submitToHuggingFace(type, entryData, provider) {\n        console.warn('[PokedexManager] submitToHuggingFace is a placeholder and does not actually submit data.');\n        toastr.warning('提交功能尚未实现，数据未发送到服务器。请联系开发者配置提交API。');\n        // Placeholder for actual submission logic, e.g., a POST request to a backend API.\n        // For now, we'll just simulate a successful operation for UI flow.\n        return Promise.resolve();\n    }\n    async getRemotePokedex() {\n        const url = getRemoteUrl();\n        (0,_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'Pokedex', `Fetching remote pokedex from ${url}`);\n        try {\n            const response = await fetch(url);\n            if (!response.ok) {\n                throw new Error(`HTTP error! status: ${response.status}`);\n            }\n            const data = await response.json();\n            (0,_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'Pokedex', 'Successfully fetched and parsed remote pokedex.');\n            return data;\n        }\n        catch (error) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('error', 'Pokedex', 'Failed to fetch remote pokedex.', error);\n            toastr.error(\"获取社区图鉴失败，请检查网络连接或URL配置。\");\n            return null;\n        }\n    }\n    // --- Achievements ---\n    async getSystemData() {\n        const variables = getVariables({ type: 'global' });\n        return lodash__WEBPACK_IMPORTED_MODULE_0___default().get(variables, ACHIEVEMENT_VARIABLE_PATH, { 已完成: [], 成就点数: 0 });\n    }\n    async saveSystemData(data) {\n        await insertOrAssignVariables({ [ACHIEVEMENT_VARIABLE_PATH]: data }, { type: 'global' });\n    }\n    async getAchievements() {\n        const systemData = await this.getSystemData();\n        return systemData.已完成 || [];\n    }\n    async createAchievement(entryData) {\n        const systemData = await this.getSystemData();\n        if (!systemData.已完成.some((ach) => ach.名称 === entryData.名称)) {\n            systemData.已完成.push(entryData);\n            await this.saveSystemData(systemData);\n            toastr.success(`新成就【${entryData.名称}】已添加！`);\n            return true;\n        }\n        //toastr.warning(`成就【${entryData.名称}】已存在。`);\n        return false;\n    }\n    async updateAchievement(originalName, updatedData) {\n        const systemData = await this.getSystemData();\n        const achIndex = systemData.已完成.findIndex((ach) => ach.名称 === originalName);\n        if (achIndex > -1) {\n            systemData.已完成[achIndex] = updatedData;\n            await this.saveSystemData(systemData);\n            toastr.success(`成就【${updatedData.名称}】已更新！`);\n            return true;\n        }\n        return false;\n    }\n    async deleteAchievement(name) {\n        const systemData = await this.getSystemData();\n        const initialLength = systemData.已完成.length;\n        systemData.已完成 = systemData.已完成.filter((ach) => ach.名称 !== name);\n        if (systemData.已完成.length < initialLength) {\n            await this.saveSystemData(systemData);\n            toastr.success(`成就【${name}】已删除。`);\n            return true;\n        }\n        return false;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9wb2tlZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUF1QjtBQUNrQztBQUN2QjtBQUNnQjtBQStCbEQsTUFBTSx5QkFBeUIsR0FBRyxPQUFPLENBQUM7QUFFMUMsb0NBQW9DO0FBQ3BDLCtFQUErRTtBQUMvRSxNQUFNLFVBQVUsR0FBRyxrRkFBa0YsQ0FBQztBQUN0RyxNQUFNLFlBQVksR0FBRyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7QUFFNUMsK0JBQStCO0FBQ3hCLE1BQU0sY0FBYztJQUNqQixXQUFXLENBQVU7SUFFN0I7UUFDRSxJQUFJLENBQUMsV0FBVyxHQUFHLHVEQUFXLENBQUMsaUVBQWlCLENBQUMsQ0FBQztRQUNsRCxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFFLEVBQUUsQ0FBQztZQUN6QixJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7UUFDM0IsQ0FBQztRQUNELCtDQUFNLENBQUMsTUFBTSxFQUFFLFNBQVMsRUFBRSx1Q0FBdUMsQ0FBQyxDQUFDO0lBQ3JFLENBQUM7SUFFTSxjQUFjO1FBQ25CLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQztJQUMxQixDQUFDO0lBRUQ7OztPQUdHO0lBQ0ksa0JBQWtCO1FBQ3ZCLE1BQU0sVUFBVSxHQUFHLElBQUksR0FBRyxFQUF3QixDQUFDO1FBQ25ELEtBQUssTUFBTSxRQUFRLElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ3hDLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQXVCLENBQUMsQ0FBQyxFQUFFLENBQUM7Z0JBQzdELEtBQUssTUFBTSxJQUFJLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUF1QixDQUFDLEVBQUUsQ0FBQztvQkFDN0QsTUFBTSxNQUFN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QU0sVUFBVSxHQUFHLE1BQU0sSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQzlDLE1BQU0sYUFBYSxHQUFHLFVBQVUsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDO1FBQzVDLFVBQVUsQ0FBQyxHQUFHLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFpQixFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLElBQUksQ0FBQyxDQUFDO1FBQy9FLElBQUksVUFBVSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEdBQUcsYUFBYSxFQUFFLENBQUM7WUFDeEMsTUFBTSxJQUFJLENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQ3RDLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxJQUFJLE9BQU8sQ0FBQyxDQUFDO1lBQ2xDLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFDRCxPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7Q0FFRiIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9wb2tlZGV4LnRzPyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgcG9rZWRleERhdGFTb3VyY2UgfSBmcm9tICcuLi9kYXRhL3Bva2VkZXgtZGF0YSc7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuL2xvZ2dlcic7XG5pbXBvcnQgeyBnZXRJc1JlY2FsY3VsYXRpbmdTdGF0ZSB9IGZyb20gJy4vc3RhdGUnO1xuXG4vLyBHbG9iYWwgZGVjbGFyYXRpb25zIGZvciBUYXZlcm4ncyBidWlsdC1pbiBmdW5jdGlvbnNcbmRlY2xhcmUgY29uc3QgZ2V0VmFyaWFibGVzOiAob3B0aW9uczogYW55KSA9PiBhbnk7XG5kZWNsYXJlIGNvbnN0IHVwZGF0ZVZhcmlhYmxlc1dpdGg6ICh1cGRhdGVyOiAodmFyczogYW55KSA9PiBhbnksIG9wdGlvbnM6IGFueSkgPT4gUHJvbWlzZTx2b2lkPjtcbmRlY2xhcmUgY29uc3QgaW5zZXJ0T3JBc3NpZ25WYXJpYWJsZXM6ICh2YXJzOiBhbnksIG9wdGlvbnM6IGFueSkgPT4gUHJvbWlzZTx2b2lkPjtcbmRlY2xhcmUgY29uc3QgdG9hc3RyOiBhbnk7XG5cbi8vIC0tLSBUeXBlIERlZmluaXRpb25zIC0tLVxuZXhwb3J0IGludGVyZmFjZSBWYWx1ZSB7XG4gIOWfuuehgOS7t+WAvDogbnVtYmVyO1xuICDku7flgLzmoIfnrb46IHN0cmluZ1tdO1xufVxuZXhwb3J0IGludGVyZmFjZSBNYXJrZXRQcmljZUluZm8ge1xuICDmoIfnrb46IHN0cmluZztcbiAg5rao6LeM5bmFOiBudW1iZXI7XG4gIOmjjumXuzogc3RyaW5nO1xufVxuZXhwb3J0IHR5cGUgUG9rZWRleEVudHJ5ID0geyBba2V5OiBzdHJpbmddOiBhbnk7IOWQjeensDogc3RyaW5nOyDku7flgLw/OiBWYWx1ZSB9O1xuZXhwb3J0IHR5cGUgUG9rZWRleFR5cGUgPSAn5aaW5YW9JyB8ICfmpI3niaknIHwgJ+eJqeWTgScgfCAn5Lmm57GNJztcbmV4cG9ydCB0eXBlIFNoYXJlYWJsZVR5cGUgPSBQb2tlZGV4VHlwZSB8ICfmiJDlsLEnO1xuZXhwb3J0IGludGVyZmFjZSBQb2tlZGV4IHtcbiAg5aaW5YW9OiBQb2tlZGV4RW50cnlbXTtcbiAg5qSN54mpOiBQb2tlZGV4RW50cnlbXTtcbiAg54mp5ZOBOiBQb2tlZGV4RW50cnlbXTtcbiAg5Lmm57GNOiBQb2tlZGV4RW50cnlbXTtcbn1cbmV4cG9ydCB0eXBlIFJlbW90ZVBva2VkZXhEYXRhID0gUG9rZWRleCAmIHtcbiAg5oiQ5bCxOiBQb2tlZGV4RW50cnlbXTtcbn07XG5cbmNvbnN0IEFDSElFVkVNRU5UX1ZBUklBQkxFX1BBVEggPSAn5LiW55WMLuezu+e7nyc7XG5cbi8vIC0tLSBSZW1vdGUgU3luYyBDb25maWd1cmF0aW9uIC0tLVxuLy8gTk9URTogVGhpcyBpcyBhIHNpbXBsZSBCYXNlNjQgZW5jb2RpbmcgdG8gb2JzY3VyZSB0aGUgVVJMLCBOT1QgZm9yIHNlY3VyaXR5LlxuY29uc3QgZW5jb2RlZFVybCA9ICdhSFIwY0hNNkx5OTNkM2N0WVhCcExXWnZjblZ0TG5Kak5uTXpkMk4xWlM1dWVXRjBMbUZ3Y0RvMU9UWTVNQzloY0drdmNHOXJaV1JsZUE9PSc7XG5jb25zdCBnZXRSZW1vdGVVcmwgPSAoKSA9PiBhdG9iKGVuY29kZWRVcmwpO1xuXG4vLyAtLS0gUG9rZWRleE1hbmFnZXIgQ2xhc3MgLS0tXG5leHBvcnQgY2xhc3MgUG9rZWRleE1hbmFnZXIge1xuICBwcml2YXRlIHBva2VkZXhEYXRhOiBQb2tlZGV4O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucG9rZWRleERhdGEgPSBfLmNsb25lRGVlcChwb2tlZGV4RGF0YVNvdXJjZSk7XG4gICAgaWYgKCF0aGlzLnBva2VkZXhEYXRhLuS5puexjSkge1xuICAgICAgdGhpcy5wb2tlZGV4RGF0YS7kuabnsY0gPSBbXTtcbiAgICB9XG4gICAgbG9nZ2VyKCdpbmZvJywgJ1Bva2VkZXgnLCAnSW5pdGlhbGl6ZWQgd2l0aCBkYXRhIGZyb20gVFMgbW9kdWxlLicpO1xuICB9XG5cbiAgcHVibGljIGdldFBva2VkZXhEYXRhKCk6IFBva2VkZXgge1xuICAgIHJldHVybiB0aGlzLnBva2VkZXhEYXRhO1xuICB9XG5cbiAgLyoqXG4gICAqICh2RnV0dXJlIOaWsOWinikg6I635Y+W5omA5pyJ5Zu+6Ym05p2h55uu55qETWFw77yM6ZSu5Li65a6M5pW055qE5Y+Y6YeP6Lev5b6ESUTjgIJcbiAgICogQHJldHVybnMge01hcDxzdHJpbmcsIFBva2VkZXhFbnRyeT59XG4gICAqL1xuICBwdWJsaWMgZ2V0QWxsRW50cmllc0FzTWFwKCk6IE1hcDxzdHJpbmcsIFBva2VkZXhFbnRyeT4ge1xuICAgIGNvbnN0IGVudHJpZXNNYXAgPSBuZXcgTWFwPHN0cmluZywgUG9rZWRleEVudHJ5PigpO1xuICAgIGZvciAoY29uc3QgY2F0ZWdvcnkgaW4gdGhpcy5wb2tlZGV4RGF0YSkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5wb2tlZGV4RGF0YVtjYXRlZ29yeSBhcyBQb2tlZGV4VHlwZV0pKSB7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB0aGlzLnBva2VkZXhEYXRhW2NhdGVnb3J5IGFzIFBva2VkZXhUeXBlXSkge1xuICAgICAgICAgIGNvbnN0IGl0ZW1JZCA9IGDkuJbnlYwu5Zu+6Ym0LiR7Y2F0ZWdvcnl9LiR7aXRlbS7lkI3np7B9YDtcbiAgICAgICAgICBlbnRyaWVzTWFwLnNldChpdGVtSWQsIGl0ZW0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzTWFwO1xuICB9XG5cbiAgLy8gLS0tIFZhbHVlIENhbGN1bGF0aW9uIC0tLVxuXG4gIHByaXZhdGUgZ2V0TWFya2V0TW9kaWZpZXIodGFnczogc3RyaW5nW10pOiBudW1iZXIge1xuICAgIGNvbnN0IHdvcmxkU3RhdGUgPSBnZXRWYXJpYWJsZXMoeyB0eXBlOiAnZ2xvYmFsJyB9KTtcbiAgICBjb25zdCBtYXJrZXRQcmljZXM6IE1hcmtldFByaWNlSW5mb1tdID0gXy5nZXQod29ybGRTdGF0ZSwgJ+S4lueVjC7ml7bku7cnLCBbXSk7XG4gICAgbGV0IHRvdGFsTW9kaWZpZXIgPSAxLjA7XG5cbiAgICBsb2dnZXIoJ2xvZycsICdQb2tlZGV4JywgJ1tnZXRNYXJrZXRNb2RpZmllcl0gQ2FsY3VsYXRpbmcgbW9kaWZpZXIgZm9yIHRhZ3M6JywgeyB0YWdzLCBtYXJrZXRQcmljZXM6IF8uY2xvbmVEZWVwKG1hcmtldFByaWNlcykgfSk7XG5cbiAgICBpZiAoIW1hcmtldFByaWNlcyB8fCBtYXJrZXRQcmljZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBsb2dnZXIoJ2xvZycsICdQb2tlZGV4JywgJ1tnZXRNYXJrZXRNb2RpZmllcl0gTm8gbWFya2V0IHByaWNlcyBmb3VuZC4gUmV0dXJuaW5nIGJhc2UgbW9kaWZpZXIgMS4wLicpO1xuICAgICAgcmV0dXJuIHRvdGFsTW9kaWZpZXI7XG4gICAgfVxuXG4gICAgdGFncy5mb3JFYWNoKHRhZyA9PiB7XG4gICAgICBjb25zdCBwcmljZUluZm8gPSBtYXJrZXRQcmljZXMuZmluZChwID0+IHAu5qCH562+ID09PSB0YWcpO1xuICAgICAgaWYgKHByaWNlSW5mbykge1xuICAgICAgICB0b3RhbE1vZGlmaWVyICs9IHByaWNlSW5mby7mtqjot4zluYU7XG4gICAgICAgIGxvZ2dlcignbG9nJywgJ1Bva2VkZXgnLCBgW2dldE1hcmtldE1vZGlmaWVyXSBGb3VuZCBtYXRjaGluZyBwcmljZSBmb3IgdGFnIFwiJHt0YWd9XCIuIE1vZGlmaWVyIGNoYW5nZWQgYnkgJHtwcmljZUluZm8u5rao6LeM5bmFfS4gTmV3IHRvdGFsOiAke3RvdGFsTW9kaWZpZXJ9YCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBsb2dnZXIoJ2luZm8nLCAnUG9rZWRleCcsIGBbZ2V0TWFya2V0TW9kaWZpZXJdIEZpbmFsIG1vZGlmaWVyIGNhbGN1bGF0ZWQ6ICR7dG90YWxNb2RpZmllcn1gKTtcbiAgICByZXR1cm4gdG90YWxNb2RpZmllcjtcbiAgfVxuXG4gIHB1YmxpYyBjYWxjdWxhdGVJdGVtVmFsdWUoZW50cnk6IFBva2VkZXhFbnRyeSk6IG51bWJlciB7XG4gICAgaWYgKCFlbnRyeS7ku7flgLwpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBjb25zdCBiYXNlVmFsdWUgPSBlbnRyeS7ku7flgLwu5Z+656GA5Lu35YC8O1xuICAgIGNvbnN0IHRhZ3MgPSBlbnRyeS7ku7flgLwu5Lu35YC85qCH562+IHx8IFtdO1xuICAgIGNvbnN0IG1vZGlmaWVyID0gdGhpcy5nZXRNYXJrZXRNb2RpZmllcih0YWdzKTtcbiAgICBjb25zdCBmaW5hbFZhbHVlID0gTWF0aC5yb3VuZChiYXNlVmFsdWUgKiBtb2RpZmllcik7XG4gICAgXG4gICAgbG9nZ2VyKCdsb2cnLCAnUG9rZWRleCcsIGBDYWxjdWxhdGVkIHZhbHVlIGZvciBcIiR7ZW50cnku5ZCN56ewfVwiYCwgeyBiYXNlVmFsdWUsIHRhZ3MsIG1vZGlmaWVyLCBmaW5hbFZhbHVlIH0pO1xuICAgIHJldHVybiBmaW5hbFZhbHVlO1xuICB9XG4gIFxuICAvLyAtLS0gQ1JVRCBmb3IgUG9rZWRleCBFbnRyaWVzIC0tLVxuXG4gIHB1YmxpYyBjcmVhdGVQb2tlZGV4RW50cnkodHlwZTogUG9rZWRleFR5cGUsIGVudHJ5RGF0YTogUG9rZWRleEVudHJ5KTogYm9vbGVhbiB7XG4gICAgbG9nZ2VyKCdsb2cnLCAnUG9rZWRleCcsIGBBdHRlbXB0aW5nIHRvIGNyZWF0ZSBlbnRyeSBpbiBcIiR7dHlwZX1cImAsIGVudHJ5RGF0YSk7XG4gICAgaWYgKCFlbnRyeURhdGEu5ZCN56ewKSB7XG4gICAgICBsb2dnZXIoJ2Vycm9yJywgJ1Bva2VkZXgnLCAnQ3JlYXRlIGZhaWxlZDogRW50cnkgaXMgbWlzc2luZyBcIuWQjeensFwiIGZpZWxkLicpO1xuICAgICAgdG9hc3RyLmVycm9yKCfliJvlu7rlpLHotKXvvJrmnaHnm67lv4XpobvljIXlkKvigJzlkI3np7DigJ3lrZfmrrXjgIInKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHRoaXMucG9rZWRleERhdGFbdHlwZV0uc29tZShlbnRyeSA9PiBlbnRyeS7lkI3np7AgPT09IGVudHJ5RGF0YS7lkI3np7ApKSB7XG4gICAgICBsb2dnZXIoJ3dhcm4nLCAnUG9rZWRleCcsIGBDcmVhdGUgZmFpbGVkOiBFbnRyeSBcIiR7ZW50cnlEYXRhLuWQjeensH1cIiBhbHJlYWR5IGV4aXN0cyBpbiBcIiR7dHlwZX1cIi5gKTtcbiAgICAgIC8vdG9hc3RyLndhcm5pbmcoYOWIm+W7uuWksei0pe+8muWQjeS4uuKAnCR7ZW50cnlEYXRhLuWQjeensH3igJ3nmoQke3R5cGV95bey5a2Y5Zyo44CCYCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMucG9rZWRleERhdGFbdHlwZV0ucHVzaChlbnRyeURhdGEpO1xuICAgIGxvZ2dlcignaW5mbycsICdQb2tlZGV4JywgYFN1Y2Nlc3NmdWxseSBjcmVhdGVkIGVudHJ5IFwiJHtlbnRyeURhdGEu5ZCN56ewfVwiIGluIG1lbW9yeS5gKTtcbiAgICBpZiAoIWdldElzUmVjYWxjdWxhdGluZ1N0YXRlKCkpIHtcbiAgICB0b2FzdHIuc3VjY2Vzcyhg5oiQ5Yqf5Zyo5YaF5a2Y5Lit5re75Yqg44CQJHtlbnRyeURhdGEu5ZCN56ewfeOAkeOAgmApO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHB1YmxpYyByZWFkUG9rZWRleEVudHJ5KHR5cGU6IFBva2VkZXhUeXBlLCBuYW1lOiBzdHJpbmcpOiBQb2tlZGV4RW50cnkgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IGVudHJ5ID0gdGhpcy5wb2tlZGV4RGF0YVt0eXBlXS5maW5kKGVudHJ5ID0+IGVudHJ5LuWQjeensCA9PT0gbmFtZSk7XG4gICAgbG9nZ2VyKCdsb2cnLCAnUG9rZWRleCcsIGBSZWFkIGF0dGVtcHQgZm9yIFwiJHtuYW1lfVwiIGluIFwiJHt0eXBlfVwiOiAke2VudHJ5ID8gJ0ZvdW5kJyA6ICdOb3QgRm91bmQnfS5gKTtcbiAgICByZXR1cm4gZW50cnkgPyBfLmNsb25lRGVlcChlbnRyeSkgOiB1bmRlZmluZWQ7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlUG9rZWRleEVudHJ5KHR5cGU6IFBva2VkZXhUeXBlLCBvcmlnaW5hbE5hbWU6IHN0cmluZywgdXBkYXRlZERhdGE6IFBva2VkZXhFbnRyeSk6IGJvb2xlYW4ge1xuICAgIGlmICghdXBkYXRlZERhdGEu5ZCN56ewKSB7XG4gICAgICB0b2FzdHIuZXJyb3IoJ+abtOaWsOWksei0pe+8muadoeebruW/hemhu+WMheWQq+KAnOWQjeensOKAneWtl+auteOAgicpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBlbnRyeUluZGV4ID0gdGhpcy5wb2tlZGV4RGF0YVt0eXBlXS5maW5kSW5kZXgoZW50cnkgPT4gZW50cnku5ZCN56ewID09PSBvcmlnaW5hbE5hbWUpO1xuXG4gICAgaWYgKGVudHJ5SW5kZXggPT09IC0xKSB7XG4gICAgICB0b2FzdHIuZXJyb3IoYOabtOaWsOWksei0pe+8muacquaJvuWIsOWQjeS4uuKAnCR7b3JpZ2luYWxOYW1lfeKAneeahCR7dHlwZX3jgIJgKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAob3JpZ2luYWxOYW1lICE9PSB1cGRhdGVkRGF0YS7lkI3np7AgJiYgdGhpcy5wb2tlZGV4RGF0YVt0eXBlXS5zb21lKGVudHJ5ID0+IGVudHJ5LuWQjeensCA9PT0gdXBkYXRlZERhdGEu5ZCN56ewKSkge1xuICAgICAgLy90b2FzdHIud2FybmluZyhg5pu05paw5aSx6LSl77ya5ZCN5Li64oCcJHt1cGRhdGVkRGF0YS7lkI3np7B94oCd55qEJHt0eXBlfeW3suWtmOWcqOOAgmApO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMucG9rZWRleERhdGFbdHlwZV1bZW50cnlJbmRleF0gPSB1cGRhdGVkRGF0YTtcbiAgICBpZiAoIWdldElzUmVjYWxjdWxhdGluZ1N0YXRlKCkpIHtcbiAgICB0b2FzdHIuc3VjY2Vzcyhg5oiQ5Yqf5Zyo5YaF5a2Y5Lit5pu05paw44CQJHt1cGRhdGVkRGF0YS7lkI3np7B944CR44CCYCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcHVibGljIGRlbGV0ZVBva2VkZXhFbnRyeSh0eXBlOiBQb2tlZGV4VHlwZSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgY29uc3QgaW5pdGlhbExlbmd0aCA9IHRoaXMucG9rZWRleERhdGFbdHlwZV0ubGVuZ3RoO1xuICAgIHRoaXMucG9rZWRleERhdGFbdHlwZV0gPSB0aGlzLnBva2VkZXhEYXRhW3R5cGVdLmZpbHRlcigoZW50cnk6IFBva2VkZXhFbnRyeSkgPT4gZW50cnku5ZCN56ewICE9PSBuYW1lKTtcbiAgICBcbiAgICBpZiAodGhpcy5wb2tlZGV4RGF0YVt0eXBlXS5sZW5ndGggPCBpbml0aWFsTGVuZ3RoKSB7XG4gICAgICB0b2FzdHIuc3VjY2Vzcyhg5oiQ5Yqf5LuO5YaF5a2Y5Lit5Yig6Zmk44CQJHtuYW1lfeOAkeOAgmApO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRvYXN0ci53YXJuaW5nKGDliKDpmaTlpLHotKXvvJrmnKrmib7liLDlkI3kuLrigJwke25hbWV94oCd55qEJHt0eXBlfeOAgmApO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8vIC0tLSBSZW1vdGUgU3luYyAtLS1cblxuICBwdWJsaWMgYXN5bmMgc3VibWl0VG9IdWdnaW5nRmFjZSh0eXBlOiBTaGFyZWFibGVUeXBlLCBlbnRyeURhdGE6IFBva2VkZXhFbnRyeSwgcHJvdmlkZXI/OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zb2xlLndhcm4oJ1tQb2tlZGV4TWFuYWdlcl0gc3VibWl0VG9IdWdnaW5nRmFjZSBpcyBhIHBsYWNlaG9sZGVyIGFuZCBkb2VzIG5vdCBhY3R1YWxseSBzdWJtaXQgZGF0YS4nKTtcbiAgICB0b2FzdHIud2FybmluZygn5o+Q5Lqk5Yqf6IO95bCa5pyq5a6e546w77yM5pWw5o2u5pyq5Y+R6YCB5Yiw5pyN5Yqh5Zmo44CC6K+36IGU57O75byA5Y+R6ICF6YWN572u5o+Q5LqkQVBJ44CCJyk7XG4gICAgLy8gUGxhY2Vob2xkZXIgZm9yIGFjdHVhbCBzdWJtaXNzaW9uIGxvZ2ljLCBlLmcuLCBhIFBPU1QgcmVxdWVzdCB0byBhIGJhY2tlbmQgQVBJLlxuICAgIC8vIEZvciBub3csIHdlJ2xsIGp1c3Qgc2ltdWxhdGUgYSBzdWNjZXNzZnVsIG9wZXJhdGlvbiBmb3IgVUkgZmxvdy5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgZ2V0UmVtb3RlUG9rZWRleCgpOiBQcm9taXNlPFJlbW90ZVBva2VkZXhEYXRhIHwgbnVsbD4ge1xuICAgIGNvbnN0IHVybCA9IGdldFJlbW90ZVVybCgpO1xuICAgIGxvZ2dlcignaW5mbycsICdQb2tlZGV4JywgYEZldGNoaW5nIHJlbW90ZSBwb2tlZGV4IGZyb20gJHt1cmx9YCk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQIGVycm9yISBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgfVxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGxvZ2dlcignaW5mbycsICdQb2tlZGV4JywgJ1N1Y2Nlc3NmdWxseSBmZXRjaGVkIGFuZCBwYXJzZWQgcmVtb3RlIHBva2VkZXguJyk7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyKCdlcnJvcicsICdQb2tlZGV4JywgJ0ZhaWxlZCB0byBmZXRjaCByZW1vdGUgcG9rZWRleC4nLCBlcnJvcik7XG4gICAgICB0b2FzdHIuZXJyb3IoXCLojrflj5bnpL7ljLrlm77pibTlpLHotKXvvIzor7fmo4Dmn6XnvZHnu5zov57mjqXmiJZVUkzphY3nva7jgIJcIik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvLyAtLS0gQWNoaWV2ZW1lbnRzIC0tLVxuICBcbiAgcHVibGljIGFzeW5jIGdldFN5c3RlbURhdGEoKTogUHJvbWlzZTxhbnk+IHtcbiAgICBjb25zdCB2YXJpYWJsZXMgPSBnZXRWYXJpYWJsZXMoeyB0eXBlOiAnZ2xvYmFsJyB9KTtcbiAgICByZXR1cm4gXy5nZXQodmFyaWFibGVzLCBBQ0hJRVZFTUVOVF9WQVJJQUJMRV9QQVRILCB7IOW3suWujOaIkDogW10sIOaIkOWwseeCueaVsDogMCB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgc2F2ZVN5c3RlbURhdGEoZGF0YTogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgaW5zZXJ0T3JBc3NpZ25WYXJpYWJsZXMoeyBbQUNISUVWRU1FTlRfVkFSSUFCTEVfUEFUSF06IGRhdGEgfSwgeyB0eXBlOiAnZ2xvYmFsJyB9KTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBnZXRBY2hpZXZlbWVudHMoKTogUHJvbWlzZTxQb2tlZGV4RW50cnlbXT4ge1xuICAgIGNvbnN0IHN5c3RlbURhdGEgPSBhd2FpdCB0aGlzLmdldFN5c3RlbURhdGEoKTtcbiAgICByZXR1cm4gc3lzdGVtRGF0YS7lt7LlrozmiJAgfHwgW107XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgY3JlYXRlQWNoaWV2ZW1lbnQoZW50cnlEYXRhOiBQb2tlZGV4RW50cnkpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBjb25zdCBzeXN0ZW1EYXRhID0gYXdhaXQgdGhpcy5nZXRTeXN0ZW1EYXRhKCk7XG4gICAgaWYgKCFzeXN0ZW1EYXRhLuW3suWujOaIkC5zb21lKChhY2g6IFBva2VkZXhFbnRyeSkgPT4gYWNoLuWQjeensCA9PT0gZW50cnlEYXRhLuWQjeensCkpIHtcbiAgICAgICAgc3lzdGVtRGF0YS7lt7LlrozmiJAucHVzaChlbnRyeURhdGEpO1xuICAgICAgICBhd2FpdCB0aGlzLnNhdmVTeXN0ZW1EYXRhKHN5c3RlbURhdGEpO1xuICAgICAgICB0b2FzdHIuc3VjY2Vzcyhg5paw5oiQ5bCx44CQJHtlbnRyeURhdGEu5ZCN56ewfeOAkeW3sua3u+WKoO+8gWApO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy90b2FzdHIud2FybmluZyhg5oiQ5bCx44CQJHtlbnRyeURhdGEu5ZCN56ewfeOAkeW3suWtmOWcqOOAgmApO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyB1cGRhdGVBY2hpZXZlbWVudChvcmlnaW5hbE5hbWU6IHN0cmluZywgdXBkYXRlZERhdGE6IFBva2VkZXhFbnRyeSk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IHN5c3RlbURhdGEgPSBhd2FpdCB0aGlzLmdldFN5c3RlbURhdGEoKTtcbiAgICBjb25zdCBhY2hJbmRleCA9IHN5c3RlbURhdGEu5bey5a6M5oiQLmZpbmRJbmRleCgoYWNoOiBQb2tlZGV4RW50cnkpID0+IGFjaC7lkI3np7AgPT09IG9yaWdpbmFsTmFtZSk7XG4gICAgaWYgKGFjaEluZGV4ID4gLTEpIHtcbiAgICAgICAgc3lzdGVtRGF0YS7lt7LlrozmiJBbYWNoSW5kZXhdID0gdXBkYXRlZERhdGE7XG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZVN5c3RlbURhdGEoc3lzdGVtRGF0YSk7XG4gICAgICAgIHRvYXN0ci5zdWNjZXNzKGDmiJDlsLHjgJAke3VwZGF0ZWREYXRhLuWQjeensH3jgJHlt7Lmm7TmlrDvvIFgKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBkZWxldGVBY2hpZXZlbWVudChuYW1lOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBjb25zdCBzeXN0ZW1EYXRhID0gYXdhaXQgdGhpcy5nZXRTeXN0ZW1EYXRhKCk7XG4gICAgY29uc3QgaW5pdGlhbExlbmd0aCA9IHN5c3RlbURhdGEu5bey5a6M5oiQLmxlbmd0aDtcbiAgICBzeXN0ZW1EYXRhLuW3suWujOaIkCA9IHN5c3RlbURhdGEu5bey5a6M5oiQLmZpbHRlcigoYWNoOiBQb2tlZGV4RW50cnkpID0+IGFjaC7lkI3np7AgIT09IG5hbWUpO1xuICAgIGlmIChzeXN0ZW1EYXRhLuW3suWujOaIkC5sZW5ndGggPCBpbml0aWFsTGVuZ3RoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZVN5c3RlbURhdGEoc3lzdGVtRGF0YSk7XG4gICAgICAgIHRvYXN0ci5zdWNjZXNzKGDmiJDlsLHjgJAke25hbWV944CR5bey5Yig6Zmk44CCYCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/core/pokedex.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/core/promptManager.ts": 
  /*!******************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/core/promptManager.ts ***!
  \******************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PromptManager: () => (/* binding */ PromptManager)\n/* harmony export */ });\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ \"lodash\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _data_prompts_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../data/prompts-data */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/data/prompts-data.ts\");\n/* harmony import */ var _modules_setup_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../modules/setup/data */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/modules/setup/data.ts\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./logger */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts\");\n/* harmony import */ var _variables__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./variables */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/variables.ts\");\n/* harmony import */ var _messageBus__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./messageBus */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/messageBus.ts\");\n\n\n\n\n\n\n/**\n * PromptManager 负责根据当前游戏状态动态构建和管理发送给LLM的系统指令。\n */\nclass PromptManager {\n    basePrompt = _data_prompts_data__WEBPACK_IMPORTED_MODULE_1__.PROMPTS.BASE;\n    systemPrompts = new Map();\n    pokedexManager;\n    forceInjectKnowledgeIds = new Set();\n    dynamicFragments = new Map();\n    lastGeneratedSystemPrompt = '尚未生成任何提示词。';\n    constructor(pokedexManager) {\n        this.pokedexManager = pokedexManager;\n        this.initializeListeners();\n    }\n    /**\n     * 初始化事件监听器，订阅 messageBus 中的相关事件。\n     */\n    initializeListeners() {\n        _messageBus__WEBPACK_IMPORTED_MODULE_5__.messageBus.on('adventureHintUpdate', (payload) => {\n            const positiveHint = '当前时机合适，你可以酌情提议一次奇遇。';\n            let finalHint = payload.hint;\n            if (payload.hint === positiveHint) {\n                const currentVars = getVariables({ type: 'chat' });\n                const weatherName = lodash__WEBPACK_IMPORTED_MODULE_0___default().get(currentVars, '世界.天气.当前天气', '未知');\n                const rumorPlaceholder = '暂无可用传闻'; // Per user request for placeholder\n                finalHint = `奇遇事件的CD已经好了，请酌情考虑在某个时间段触发奇遇事件。当前天气为${weatherName}，当前可用的传闻为${rumorPlaceholder}。`;\n            }\n            this.dynamicFragments.set('adventureHint', finalHint);\n            (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('log', 'PromptManager', `Dynamic fragment 'adventureHint' updated: \"${finalHint}\"`);\n            this.systemPrompts.clear();\n        });\n        _messageBus__WEBPACK_IMPORTED_MODULE_5__.messageBus.on('weatherChanged', (payload) => {\n            const weatherDesc = `当前天气为${payload.weatherData.当前天气}，${payload.weatherData.天气描述}。`;\n            this.dynamicFragments.set('weather', weatherDesc);\n            (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('log', 'PromptManager', `Dynamic fragment 'weather' updated: \"${weatherDesc}\"`);\n            this.systemPrompts.clear();\n        });\n        _messageBus__WEBPACK_IMPORTED_MODULE_5__.messageBus.on('shelterStatusChanged', (payload) => {\n            const shelterDesc = `你的庇护所状态更新为：${payload.newStatus}。`;\n            this.dynamicFragments.set('shelterStatus', shelterDesc);\n            (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('log', 'PromptManager', `Dynamic fragment 'shelterStatus' updated: \"${shelterDesc}\"`);\n            this.systemPrompts.clear();\n        });\n        _messageBus__WEBPACK_IMPORTED_MODULE_5__.messageBus.on('shelterDamaged', (payload) => {\n            const currentVars = getVariables({ type: 'chat' });\n            const activeSystem = lodash__WEBPACK_IMPORTED_MODULE_0___default().get(currentVars, '世界.当前激活系统.名称');\n            if (activeSystem === '任务系统') {\n                const hint = `你的庇护所组件“${payload.componentId}”已受损，或许可以发布一个相关的维修任务。`;\n                this.dynamicFragments.set('shelterDamageQuestHint', hint);\n                (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('log', 'PromptManager', `Dynamic fragment 'shelterDamageQuestHint' updated: \"${hint}\"`);\n                this.systemPrompts.clear();\n            }\n        });\n    }\n    /**\n     * 根据系统ID获取组合后的系统指令。\n     * @param systemId - 当前激活的系统ID。\n     * @returns 组合了基础和特定系统规则的系统指令字符串。\n     */\n    getSystemInstructions(systemId) {\n        const systemKey = systemId ? `SYSTEM_${systemId.replace('system-', '').toUpperCase().replace(/-/g, '_')}` : 'SYSTEM_NONE';\n        if (this.systemPrompts.has(systemKey)) {\n            return this.systemPrompts.get(systemKey);\n        }\n        let systemSpecificPrompt = '';\n        if (systemKey === 'SYSTEM_NONE') {\n            systemSpecificPrompt = _data_prompts_data__WEBPACK_IMPORTED_MODULE_1__.PROMPTS.SYSTEM_NONE;\n        }\n        else if (Object.prototype.hasOwnProperty.call(_data_prompts_data__WEBPACK_IMPORTED_MODULE_1__.PROMPTS, systemKey)) {\n            systemSpecificPrompt = _data_prompts_data__WEBPACK_IMPORTED_MODULE_1__.PROMPTS[systemKey];\n        }\n        else {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('warn', 'PromptManager', `No specific prompt for system ID \"${systemId}\". Using base prompt only.`);\n        }\n        let finalPrompt = `${this.basePrompt}\\n\\n---\\n\\n${systemSpecificPrompt}`;\n        const adventureHint = this.dynamicFragments.get('adventureHint') || '非奇遇时机。';\n        finalPrompt = finalPrompt.replace('{{adventure_hint}}', adventureHint);\n        (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('info', 'PromptManager', `[ADVENTURE HINT] Injected hint into prompt: \"${adventureHint}\"`);\n        this.systemPrompts.set(systemKey, finalPrompt);\n        return finalPrompt;\n    }\n    /**\n     * 准备用于发送给LLM的提示词组件。\n     * @param historyManager - ChatHistoryManager的实例。\n     * @param eventManager - EventManager 的实例，用于状态回滚计算。\n     * @param userInput - 用户的输入文本。\n     * @param excludeLastAssistant - 是否在历史记录中排除最后一条AI消息。\n     * @returns 一个包含 userInput, chatHistory 和 injects 的对象。\n     */\n    async preparePromptComponents(historyManager, eventManager, userInput, excludeLastAssistant = false) {\n        let contextVariables;\n        if (excludeLastAssistant) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('log', 'PromptManager', 'Rollback requested for Retry/Swipe. Preparing state from the previous turn.');\n            const lastMessage = historyManager.getMessagesForPrompt().slice(-1)[0];\n            if (lastMessage) {\n                const previousTurnMessage = historyManager.getPreviousTurnMessage(lastMessage.id);\n                if (previousTurnMessage) {\n                    (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('log', 'PromptManager', `Found previous turn message: ${previousTurnMessage.id}. Calculating its state...`);\n                    contextVariables = await (0,_variables__WEBPACK_IMPORTED_MODULE_4__.calculateStateUntil)(historyManager, previousTurnMessage.id, eventManager);\n                    if (contextVariables) {\n                        (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('info', 'PromptManager', `Successfully calculated state of previous turn ${previousTurnMessage.id}. Using it for prompt context.`);\n                    }\n                    else {\n                        (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('error', 'PromptManager', `State calculation for previous turn ${previousTurnMessage.id} failed. Falling back to current state.`);\n                        contextVariables = getVariables({ type: 'chat' }) || {};\n                    }\n                }\n                else {\n                    (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('info', 'PromptManager', 'This is the first turn, no previous turn to roll back to. Using current state.');\n                    contextVariables = getVariables({ type: 'chat' }) || {};\n                }\n            }\n            else {\n                (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('warn', 'PromptManager', 'No last message found in history. Using current state.');\n                contextVariables = getVariables({ type: 'chat' }) || {};\n            }\n        }\n        else {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('log', 'PromptManager', 'New turn detected. Using current active state for prompt.');\n            contextVariables = getVariables({ type: 'chat' }) || {};\n        }\n        // 智能上下文系统：查找引用并更新统计数据\n        this.forceInjectKnowledgeIds.clear();\n        const turnCount = historyManager.getTurnCount();\n        await this.findAndTrackKnowledgeReferences(userInput, contextVariables);\n        // 1. 格式化聊天记录\n        const chatHistory = await this.formatChatHistoryForSillyTavern(historyManager, contextVariables, excludeLastAssistant);\n        // 2. 获取系统指令 (v2.0)\n        const systemName = lodash__WEBPACK_IMPORTED_MODULE_0___default().get(contextVariables, '世界.当前激活系统.名称', '无系统');\n        // 将中文名转换为ID, e.g., \"成就系统\" -> \"system-achievement\"\n        const systemId = _modules_setup_data__WEBPACK_IMPORTED_MODULE_2__.systems.find((s) => s.name === systemName)?.id || null;\n        const systemInstructions = this.getSystemInstructions(systemId);\n        // 3. 格式化变量\n        const explainedVariables = this.explainVariables(contextVariables, systemId, turnCount);\n        // 4. 组合系统提示词\n        const preamble = `[OOC: 以下是发送给你的、用于驱动剧情的完整游戏状态和规则。请仔细阅读并严格遵守。]\\n\\n**当前游戏状态**:\\n这是游戏世界的完整快照，请将其作为你生成回应的唯一真实来源。`;\n        const systemPrompt = `<SystemInstructions>\\n${systemInstructions}\\n</SystemInstructions>\\n\\n<Variables>\\n${preamble}\\n\\n${explainedVariables}\\n</Variables>`;\n        this.lastGeneratedSystemPrompt = systemPrompt; // 缓存生成的提示词\n        const injects = [{ role: 'system', content: systemPrompt, position: 'before_prompt', depth: 0, should_scan: true }];\n        (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('info', 'PromptManager', 'Prompt components prepared:', { userInput, chatHistory, injects });\n        return { userInput, chatHistory, injects };\n    }\n    async formatChatHistoryForSillyTavern(historyManager, variables, excludeLastAssistant = false) {\n        await historyManager.loadHistory(); // Ensure history is loaded\n        const chatVars = getVariables({ type: 'chat' }) || {};\n        const settings = lodash__WEBPACK_IMPORTED_MODULE_0___default().get(chatVars, 'plugin_settings.context_management', { contextLimit: 20 });\n        const messageCount = settings.contextLimit;\n        let messages = historyManager.getMessagesForPrompt();\n        if (excludeLastAssistant) {\n            const lastMessage = messages[messages.length - 1];\n            if (lastMessage && lastMessage.role === 'assistant') {\n                messages = messages.slice(0, -1);\n            }\n        }\n        messages = messages.slice(-messageCount);\n        if (messages.length === 0) {\n            return [];\n        }\n        const mainCharacterName = variables['角色']?.['主控角色名'] || '玩家';\n        let aiCharacterName = 'AI';\n        if (variables['角色']) {\n            const characterNames = Object.keys(variables['角色']);\n            const otherCharacter = characterNames.find(name => name !== '主控角色名' && name !== mainCharacterName);\n            if (otherCharacter) {\n                aiCharacterName = otherCharacter;\n            }\n        }\n        const formattedMessages = messages.map((msg) => {\n            let role = msg.role;\n            let content;\n            if (msg.role === 'summary') {\n                role = 'system';\n                content = `[之前的剧情概要]: ${msg.content}`;\n            }\n            else {\n                const roleName = msg.role === 'user' ? mainCharacterName : aiCharacterName;\n                content = msg.content.replace(/<statusbar>[\\s\\S]*?<\\/statusbar>/g, '').trim();\n                content = `${roleName}: ${content}`;\n            }\n            if (content) {\n                return { role, content };\n            }\n            return null;\n        }).filter(Boolean);\n        return formattedMessages;\n    }\n    async findAndTrackKnowledgeReferences(userInput, variables) {\n        const knowledgeStats = lodash__WEBPACK_IMPORTED_MODULE_0___default().get(variables, '世界.知识库使用统计');\n        // 非侵入性：如果统计对象不存在，则不执行任何操作。\n        if (!knowledgeStats) {\n            return;\n        }\n        (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('log', 'PromptManager:SmartContext', '`findAndTrackKnowledgeReferences` started.');\n        const allPokedex = lodash__WEBPACK_IMPORTED_MODULE_0___default().get(variables, '世界.图鉴', {});\n        const linkerProfile = lodash__WEBPACK_IMPORTED_MODULE_0___default().get(variables, 'plugin_storage.context_linker_profile', {});\n        const allEntries = [];\n        // 展平所有图鉴条目及其关键词\n        for (const category in allPokedex) {\n            if (Array.isArray(allPokedex[category])) {\n                for (const item of allPokedex[category]) {\n                    const itemId = `世界.图鉴.${category}.${item.名称}`;\n                    const profile = linkerProfile[itemId] || {};\n                    const keywords = [\n                        item.名称,\n                        ...(profile.dynamicKeywords || [])\n                    ];\n                    allEntries.push({\n                        id: itemId,\n                        name: item.名称,\n                        keywords: lodash__WEBPACK_IMPORTED_MODULE_0___default().uniq(keywords)\n                    });\n                }\n            }\n        }\n        let statsUpdated = false;\n        const updates = {};\n        for (const entry of allEntries) {\n            const isReferenced = entry.keywords.some(kw => userInput.includes(kw));\n            if (isReferenced) {\n                this.forceInjectKnowledgeIds.add(entry.id);\n                (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('log', 'PromptManager:SmartContext', `Found reference to \"${entry.name}\" via keywords. Added to force-inject list.`);\n                const currentStat = lodash__WEBPACK_IMPORTED_MODULE_0___default().get(knowledgeStats, `['${entry.id}']`, { frequency: 0, lastSentTurn: 0 });\n                updates[`['${entry.id}']`] = {\n                    ...currentStat,\n                    frequency: currentStat.frequency + 1,\n                };\n                statsUpdated = true;\n            }\n        }\n        if (statsUpdated) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('info', 'PromptManager:SmartContext', 'Knowledge references found. Updating frequency stats:', updates);\n            await updateVariablesWith((vars) => {\n                lodash__WEBPACK_IMPORTED_MODULE_0___default().forEach(updates, (value, keyPath) => {\n                    lodash__WEBPACK_IMPORTED_MODULE_0___default().set(vars, `世界.知识库使用统计.${keyPath}`, value);\n                });\n                return vars;\n            }, { type: 'chat' });\n        }\n    }\n    explainVariables(variables, systemId, currentTurn) {\n        const mainCharacterName = variables['角色']?.['主控角色名'];\n        const parts = [];\n        // 0. 注入动态世界状态摘要\n        const worldStateSummary = [];\n        this.dynamicFragments.forEach((value, key) => {\n            // adventureHint 已在 getSystemInstructions 中处理，此处不再重复\n            if (key !== 'adventureHint') {\n                worldStateSummary.push(value);\n            }\n        });\n        if (worldStateSummary.length > 0) {\n            let summaryPart = `  // 来自游戏世界的实时动态信息\\n`;\n            summaryPart += `  \"世界状态摘要\": [\\n    \"${worldStateSummary.join('\",\\n    \"')}\"\\n  ]`;\n            parts.push(summaryPart);\n        }\n        // 1. Generate Value Analysis Report if in Barter mode\n        if (systemId === 'system-barter') {\n            const marketPrices = lodash__WEBPACK_IMPORTED_MODULE_0___default().get(variables, '世界.时价', []);\n            if (marketPrices.length > 0) {\n                let report = `  // 当前影响交易价值的【时价风闻】\\n`;\n                report += `  \"价值分析报告\": ${JSON.stringify(marketPrices, null, 2)}`;\n                parts.push(report);\n            }\n        }\n        // 1. Main Character Info (Core Context)\n        if (mainCharacterName && variables['角色']?.[mainCharacterName]) {\n            const charData = variables['角色'][mainCharacterName];\n            const items = charData['物品'];\n            // 根据 SPEC 5.1, 只保留核心状态和物品\n            const coreStatusData = {\n                姓名: charData['姓名'],\n                种族: charData['种族'],\n                职业: charData['职业'],\n                等级: charData['等级'],\n                状态: charData['状态'],\n            };\n            let coreStatus = `  // 主控角色'${mainCharacterName}'的核心状态\\n`;\n            coreStatus += `  \"角色状态\": ${JSON.stringify(coreStatusData, null, 2)}`;\n            parts.push(coreStatus);\n            if (items && !lodash__WEBPACK_IMPORTED_MODULE_0___default().isEmpty(items)) {\n                let itemsPart = `  // 主控角色当前持有的物品\\n`;\n                itemsPart += `  \"角色物品\": ${JSON.stringify(items, null, 2)}`;\n                parts.push(itemsPart);\n            }\n        }\n        // 2. World Info\n        if (variables['世界']) {\n            const worldParts = [];\n            // --- 核心世界状态 ---\n            const worldCoreState = {};\n            if (variables['世界']['时间'])\n                worldCoreState['时间'] = variables['世界']['时间'];\n            if (variables['世界']['当前日期'])\n                worldCoreState['当前日期'] = variables['世界']['当前日期'];\n            if (variables['世界']['地点'])\n                worldCoreState['地点'] = variables['世界']['地点'];\n            if (!lodash__WEBPACK_IMPORTED_MODULE_0___default().isEmpty(worldCoreState)) {\n                let coreStatePart = `    // 世界核心状态\\n`;\n                coreStatePart += `    \"核心状态\": ${JSON.stringify(worldCoreState, null, 2)}`;\n                worldParts.push(coreStatePart);\n            }\n            // --- 智能上下文注入逻辑 (图鉴) ---\n            const knowledgeStats = lodash__WEBPACK_IMPORTED_MODULE_0___default().get(variables, '世界.知识库使用统计');\n            if (knowledgeStats) {\n                (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('log', 'PromptManager:SmartContext', 'Smart context injection is active.');\n                const allPokedexEntries = this.pokedexManager.getAllEntriesAsMap();\n                const injectedKnowledge = new Map();\n                // a. 强制注入\n                this.forceInjectKnowledgeIds.forEach(id => {\n                    if (allPokedexEntries.has(id) && !injectedKnowledge.has(id)) {\n                        injectedKnowledge.set(id, allPokedexEntries.get(id));\n                        (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('log', 'PromptManager:SmartContext', `Force-injecting: \"${allPokedexEntries.get(id)?.名称}\"`);\n                    }\n                });\n                // b. 频率注入\n                const HIGH_FREQ = 10;\n                const MID_FREQ = 3;\n                const MID_COOLDOWN = 3;\n                const LOW_COOLDOWN = 10;\n                lodash__WEBPACK_IMPORTED_MODULE_0___default().forEach(knowledgeStats, (stat, id) => {\n                    if (injectedKnowledge.has(id))\n                        return;\n                    let shouldInject = false;\n                    if (stat.frequency > HIGH_FREQ) {\n                        shouldInject = true;\n                    }\n                    else if (stat.frequency > MID_FREQ && (currentTurn - stat.lastSentTurn) > MID_COOLDOWN) {\n                        shouldInject = true;\n                    }\n                    else if ((currentTurn - stat.lastSentTurn) > LOW_COOLDOWN) {\n                        shouldInject = true;\n                    }\n                    if (shouldInject && allPokedexEntries.has(id)) {\n                        injectedKnowledge.set(id, allPokedexEntries.get(id));\n                        (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('log', 'PromptManager:SmartContext', `Frequency-injecting: \"${allPokedexEntries.get(id)?.名称}\" (freq: ${stat.frequency}, lastSent: ${stat.lastSentTurn})`);\n                    }\n                });\n                if (injectedKnowledge.size > 0) {\n                    (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logger)('info', 'PromptManager:SmartContext', `Total ${injectedKnowledge.size} knowledge entries will be injected into the prompt.`);\n                    const pokedexObject = {};\n                    const statsToUpdate = {};\n                    injectedKnowledge.forEach((item, id) => {\n                        const pathParts = id.split('.');\n                        const category = pathParts[2];\n                        if (!pokedexObject[category])\n                            pokedexObject[category] = [];\n                        pokedexObject[category].push(item);\n                        statsToUpdate[`世界.知识库使用统计['${id}'].lastSentTurn`] = currentTurn;\n                    });\n                    updateVariablesWith((vars) => {\n                        lodash__WEBPACK_IMPORTED_MODULE_0___default().forEach(statsToUpdate, (value, keyPath) => lodash__WEBPACK_IMPORTED_MODULE_0___default().set(vars, keyPath, value));\n                        return vars;\n                    }, { type: 'chat' });\n                    let pokedexPart = `    // 根据上下文动态选择的图鉴知识\\n`;\n                    pokedexPart += `    \"图鉴\": ${JSON.stringify(pokedexObject, null, 2)}`;\n                    worldParts.push(pokedexPart);\n                }\n            }\n            else if (variables['世界']['图鉴'] && !lodash__WEBPACK_IMPORTED_MODULE_0___default().isEmpty(variables['世界']['图鉴'])) {\n                // 旧版逻辑: 注入所有图鉴\n                let pokedexPart = `    // 玩家已发现的图鉴条目，代表其知识\\n`;\n                pokedexPart += `    \"图鉴\": ${JSON.stringify(variables['世界']['图鉴'], null, 2)}`;\n                worldParts.push(pokedexPart);\n            }\n            // --- 其他世界信息 (根据 SPEC 移除) ---\n            // '庇护所', '成就', '技能', '签到', '任务列表' 等不再发送完整对象\n            if (worldParts.length > 0) {\n                let worldString = `  // 关于游戏世界的信息\\n`;\n                worldString += `  \"世界信息\": {\\n${worldParts.join(',\\n')}\\n  }`;\n                parts.push(worldString);\n            }\n        }\n        // 3. Player's chosen action\n        if (variables['行动选择']) {\n            let actionPart = `  // 玩家本回合选择的行动\\n`;\n            actionPart += `  \"玩家行动\": {\\n`;\n            actionPart += `    \"行动序号\": ${variables['行动选择'].index},\\n`;\n            actionPart += `    \"行动描述\": \"${variables['行动选择'].text}\"\\n`;\n            actionPart += `  }`;\n            parts.push(actionPart);\n        }\n        return `{\\n${parts.join(',\\n')}\\n}`;\n    }\n    /**\n     * 获取最后一次生成的系统提示词。\n     * @returns 提示词字符串。\n     */\n    getLastGeneratedSystemPrompt() {\n        return this.lastGeneratedSystemPrompt;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9wcm9tcHRNYW5hZ2VyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXVCO0FBQ3dCO0FBQ0o7QUFHVDtBQUdnQjtBQUNSO0FBTzFDOztHQUVHO0FBQ0ksTUFBTSxhQUFhO0lBQ2QsVUFBVSxHQUFXLHVEQUFPLENBQUMsSUFBSSxDQUFDO0lBQ2xDLGFBQWEsR0FBd0IsSUFBSSxHQUFHLEVBQUUsQ0FBQztJQUMvQyxjQUFjLENBQWlCO0lBQy9CLHVCQUF1QixHQUFnQixJQUFJLEdBQUcsRUFBRSxDQUFDO0lBQ2pELGdCQUFnQixHQUF3QixJQUFJLEdBQUcsRUFBRSxDQUFDO0lBQ2xELHlCQUF5QixHQUFXLFlBQVksQ0FBQztJQUV6RCxZQUFZLGNBQThCO1FBQ3RDLElBQUksQ0FBQyxjQUFjLEdBQUcsY0FBYyxDQUFDO1FBQ3JDLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO0lBQy9CLENBQUM7SUFFRDs7T0FFRztJQUNJLG1CQUFtQjtRQUN0QixtREFBVSxDQUFDLEVBQUUsQ0FBQyxxQkFBcUIsRUFBRSxDQUFDLE9BQW1DLEVBQUUsRUFBRTtZQUN6RSxNQUFNLFlBQVksR0FBRyxxQkFBcUIsQ0FBQztZQUMzQyxJQUFJLFNBQVMsR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDO1lBRTdCLElBQUksT0FBTyxDQUFDLElBQUksS0FBSyxZQUFZLEVBQUUsQ0FBQztnQkFDaEMsTUFBTSxXQUFXLEdBQUcsWUFBWSxDQUFDLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUM7Z0JBQ25ELE1BQU0sV0FBVyxHQUFHLGlEQUFLLENBQUMsV0FBVyxFQUFFLFlBQVksRUFBRSxJQUFJLENBQUMsQ0FBQztnQkFDM0QsTUFBTSxnQkFBZ0IsR0FBRyxRQUFRLENBQUMsQ0FBQyxtQ0FBbUM7Z0JBQ3RFLFNBQVMsR0FBRyxzQ0FBc0MsV0FBVyxZQUFZLGdCQUFn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SSxLQUFLLENBQUM7WUFDcEIsS0FBSyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUMzQixDQUFDO1FBRUQsT0FBTyxNQUFNLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQztJQUN4QyxDQUFDO0lBRUQ7OztPQUdHO0lBQ0ksNEJBQTRCO1FBQy9CLE9BQU8sSUFBSSxDQUFDLHlCQUF5QixDQUFDO0lBQzFDLENBQUM7Q0FDSiIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9wcm9tcHRNYW5hZ2VyLnRzPyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgUFJPTVBUUyB9IGZyb20gJy4uL2RhdGEvcHJvbXB0cy1kYXRhJztcbmltcG9ydCAqIGFzIEMgZnJvbSAnLi4vbW9kdWxlcy9zZXR1cC9kYXRhJztcbmltcG9ydCB7IEV2ZW50TWFuYWdlciB9IGZyb20gJy4vZXZlbnRNYW5hZ2VyJztcbmltcG9ydCB7IENoYXRIaXN0b3J5TWFuYWdlciwgTWVzc2FnZVBhZ2UgfSBmcm9tICcuL2hpc3RvcnknO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi9sb2dnZXInO1xuaW1wb3J0IHsgTWFya2V0UHJpY2VJbmZvLCBQb2tlZGV4TWFuYWdlciB9IGZyb20gJy4vcG9rZWRleCc7XG5pbXBvcnQgeyBnZXRUb3RhbERheXMgfSBmcm9tICcuL3RpbWUnO1xuaW1wb3J0IHsgY2FsY3VsYXRlU3RhdGVVbnRpbCB9IGZyb20gJy4vdmFyaWFibGVzJztcbmltcG9ydCB7IG1lc3NhZ2VCdXMgfSBmcm9tICcuL21lc3NhZ2VCdXMnO1xuaW1wb3J0IHsgQWR2ZW50dXJlSGludFVwZGF0ZVBheWxvYWQsIFNoZWx0ZXJEYW1hZ2VkUGF5bG9hZCwgU2hlbHRlclN0YXR1c0NoYW5nZWRQYXlsb2FkLCBXZWF0aGVyQ2hhbmdlZFBheWxvYWQgfSBmcm9tICcuL2V2ZW50cy9kZWZpbml0aW9ucyc7XG5cbmRlY2xhcmUgY29uc3QgZ2V0VmFyaWFibGVzOiAob3B0aW9uczogYW55KSA9PiBhbnk7XG5kZWNsYXJlIGNvbnN0IHVwZGF0ZVZhcmlhYmxlc1dpdGg6ICh1cGRhdGVyOiAodmFyczogYW55KSA9PiBhbnksIG9wdGlvbnM6IGFueSkgPT4gUHJvbWlzZTx2b2lkPjtcblxuXG4vKipcbiAqIFByb21wdE1hbmFnZXIg6LSf6LSj5qC55o2u5b2T5YmN5ri45oiP54q25oCB5Yqo5oCB5p6E5bu65ZKM566h55CG5Y+R6YCB57uZTExN55qE57O757uf5oyH5Luk44CCXG4gKi9cbmV4cG9ydCBjbGFzcyBQcm9tcHRNYW5hZ2VyIHtcbiAgICBwcml2YXRlIGJhc2VQcm9tcHQ6IHN0cmluZyA9IFBST01QVFMuQkFTRTtcbiAgICBwcml2YXRlIHN5c3RlbVByb21wdHM6IE1hcDxzdHJpbmcsIHN0cmluZz4gPSBuZXcgTWFwKCk7XG4gICAgcHJpdmF0ZSBwb2tlZGV4TWFuYWdlcjogUG9rZWRleE1hbmFnZXI7XG4gICAgcHJpdmF0ZSBmb3JjZUluamVjdEtub3dsZWRnZUlkczogU2V0PHN0cmluZz4gPSBuZXcgU2V0KCk7XG4gICAgcHJpdmF0ZSBkeW5hbWljRnJhZ21lbnRzOiBNYXA8c3RyaW5nLCBzdHJpbmc+ID0gbmV3IE1hcCgpO1xuICAgIHByaXZhdGUgbGFzdEdlbmVyYXRlZFN5c3RlbVByb21wdDogc3RyaW5nID0gJ+WwmuacqueUn+aIkOS7u+S9leaPkOekuuivjeOAgic7XG5cbiAgICBjb25zdHJ1Y3Rvcihwb2tlZGV4TWFuYWdlcjogUG9rZWRleE1hbmFnZXIpIHtcbiAgICAgICAgdGhpcy5wb2tlZGV4TWFuYWdlciA9IHBva2VkZXhNYW5hZ2VyO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVMaXN0ZW5lcnMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDliJ3lp4vljJbkuovku7bnm5HlkKzlmajvvIzorqLpmIUgbWVzc2FnZUJ1cyDkuK3nmoTnm7jlhbPkuovku7bjgIJcbiAgICAgKi9cbiAgICBwdWJsaWMgaW5pdGlhbGl6ZUxpc3RlbmVycygpOiB2b2lkIHtcbiAgICAgICAgbWVzc2FnZUJ1cy5vbignYWR2ZW50dXJlSGludFVwZGF0ZScsIChwYXlsb2FkOiBBZHZlbnR1cmVIaW50VXBkYXRlUGF5bG9hZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcG9zaXRpdmVIaW50ID0gJ+W9k+WJjeaXtuacuuWQiOmAgu+8jOS9oOWPr+S7pemFjOaDheaPkOiuruS4gOasoeWlh+mBh+OAgic7XG4gICAgICAgICAgICBsZXQgZmluYWxIaW50ID0gcGF5bG9hZC5oaW50O1xuXG4gICAgICAgICAgICBpZiAocGF5bG9hZC5oaW50ID09PSBwb3NpdGl2ZUhpbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VmFycyA9IGdldFZhcmlhYmxlcyh7IHR5cGU6ICdjaGF0JyB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCB3ZWF0aGVyTmFtZSA9IF8uZ2V0KGN1cnJlbnRWYXJzLCAn5LiW55WMLuWkqeawlC7lvZPliY3lpKnmsJQnLCAn5pyq55+lJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcnVtb3JQbGFjZWhvbGRlciA9ICfmmoLml6Dlj6/nlKjkvKDpl7snOyAvLyBQZXIgdXNlciByZXF1ZXN0IGZvciBwbGFjZWhvbGRlclxuICAgICAgICAgICAgICAgIGZpbmFsSGludCA9IGDlpYfpgYfkuovku7bnmoRDROW3sue7j+WlveS6hu+8jOivt+mFjOaDheiAg+iZkeWcqOafkOS4quaXtumXtOauteinpuWPkeWlh+mBh+S6i+S7tuOAguW9k+WJjeWkqeawlOS4uiR7d2VhdGhlck5hbWV977yM5b2T5YmN5Y+v55So55qE5Lyg6Ze75Li6JHtydW1vclBsYWNlaG9sZGVyfeOAgmA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZHluYW1pY0ZyYWdtZW50cy5zZXQoJ2FkdmVudHVyZUhpbnQnLCBmaW5hbEhpbnQpO1xuICAgICAgICAgICAgbG9nZ2VyKCdsb2cnLCAnUHJvbXB0TWFuYWdlcicsIGBEeW5hbWljIGZyYWdtZW50ICdhZHZlbnR1cmVIaW50JyB1cGRhdGVkOiBcIiR7ZmluYWxIaW50fVwiYCk7XG4gICAgICAgICAgICB0aGlzLnN5c3RlbVByb21wdHMuY2xlYXIoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbWVzc2FnZUJ1cy5vbignd2VhdGhlckNoYW5nZWQnLCAocGF5bG9hZDogV2VhdGhlckNoYW5nZWRQYXlsb2FkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB3ZWF0aGVyRGVzYyA9IGDlvZPliY3lpKnmsJTkuLoke3BheWxvYWQud2VhdGhlckRhdGEu5b2T5YmN5aSp5rCUfe+8jCR7cGF5bG9hZC53ZWF0aGVyRGF0YS7lpKnmsJTmj4/ov7B944CCYDtcbiAgICAgICAgICAgIHRoaXMuZHluYW1pY0ZyYWdtZW50cy5zZXQoJ3dlYXRoZXInLCB3ZWF0aGVyRGVzYyk7XG4gICAgICAgICAgICBsb2dnZXIoJ2xvZycsICdQcm9tcHRNYW5hZ2VyJywgYER5bmFtaWMgZnJhZ21lbnQgJ3dlYXRoZXInIHVwZGF0ZWQ6IFwiJHt3ZWF0aGVyRGVzY31cImApO1xuICAgICAgICAgICAgdGhpcy5zeXN0ZW1Qcm9tcHRzLmNsZWFyKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG1lc3NhZ2VCdXMub24oJ3NoZWx0ZXJTdGF0dXNDaGFuZ2VkJywgKHBheWxvYWQ6IFNoZWx0ZXJTdGF0dXNDaGFuZ2VkUGF5bG9hZCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2hlbHRlckRlc2MgPSBg5L2g55qE5bqH5oqk5omA54q25oCB5pu05paw5Li677yaJHtwYXlsb2FkLm5ld1N0YXR1c33jgIJgO1xuICAgICAgICAgICAgdGhpcy5keW5hbWljRnJhZ21lbnRzLnNldCgnc2hlbHRlclN0YXR1cycsIHNoZWx0ZXJEZXNjKTtcbiAgICAgICAgICAgIGxvZ2dlcignbG9nJywgJ1Byb21wdE1hbmFnZXInLCBgRHluYW1pYyBmcmFnbWVudCAnc2hlbHRlclN0YXR1cycgdXBkYXRlZDogXCIke3NoZWx0ZXJEZXNjfVwiYCk7XG4gICAgICAgICAgICB0aGlzLnN5c3RlbVByb21wdHMuY2xlYXIoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbWVzc2FnZUJ1cy5vbignc2hlbHRlckRhbWFnZWQnLCAocGF5bG9hZDogU2hlbHRlckRhbWFnZWRQYXlsb2FkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VmFycyA9IGdldFZhcmlhYmxlcyh7IHR5cGU6ICdjaGF0JyB9KTtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZVN5c3RlbSA9IF8uZ2V0KGN1cnJlbnRWYXJzLCAn5LiW55WMLuW9k+WJjea/gOa0u+ezu+e7ny7lkI3np7AnKTtcblxuICAgICAgICAgICAgaWYgKGFjdGl2ZVN5c3RlbSA9PT0gJ+S7u+WKoeezu+e7nycpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBoaW50ID0gYOS9oOeahOW6h+aKpOaJgOe7hOS7tuKAnCR7cGF5bG9hZC5jb21wb25lbnRJZH3igJ3lt7Llj5fmjZ/vvIzmiJborrjlj6/ku6Xlj5HluIPkuIDkuKrnm7jlhbPnmoTnu7Tkv67ku7vliqHjgIJgO1xuICAgICAgICAgICAgICAgIHRoaXMuZHluYW1pY0ZyYWdtZW50cy5zZXQoJ3NoZWx0ZXJEYW1hZ2VRdWVzdEhpbnQnLCBoaW50KTtcbiAgICAgICAgICAgICAgICBsb2dnZXIoJ2xvZycsICdQcm9tcHRNYW5hZ2VyJywgYER5bmFtaWMgZnJhZ21lbnQgJ3NoZWx0ZXJEYW1hZ2VRdWVzdEhpbnQnIHVwZGF0ZWQ6IFwiJHtoaW50fVwiYCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zeXN0ZW1Qcm9tcHRzLmNsZWFyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOagueaNruezu+e7n0lE6I635Y+W57uE5ZCI5ZCO55qE57O757uf5oyH5Luk44CCXG4gICAgICogQHBhcmFtIHN5c3RlbUlkIC0g5b2T5YmN5r+A5rS755qE57O757ufSUTjgIJcbiAgICAgKiBAcmV0dXJucyDnu4TlkIjkuobln7rnoYDlkoznibnlrprns7vnu5/op4TliJnnmoTns7vnu5/mjIfku6TlrZfnrKbkuLLjgIJcbiAgICAgKi9cbiAgICBwcml2YXRlIGdldFN5c3RlbUluc3RydWN0aW9ucyhzeXN0ZW1JZDogc3RyaW5nIHwgbnVsbCk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHN5c3RlbUtleSA9IHN5c3RlbUlkID8gYFNZU1RFTV8ke3N5c3RlbUlkLnJlcGxhY2UoJ3N5c3RlbS0nLCAnJykudG9VcHBlckNhc2UoKS5yZXBsYWNlKC8tL2csICdfJyl9YCA6ICdTWVNURU1fTk9ORSc7XG4gICAgICAgIFxuICAgICAgICBpZiAodGhpcy5zeXN0ZW1Qcm9tcHRzLmhhcyhzeXN0ZW1LZXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zeXN0ZW1Qcm9tcHRzLmdldChzeXN0ZW1LZXkpIGFzIHN0cmluZztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzeXN0ZW1TcGVjaWZpY1Byb21wdCA9ICcnO1xuICAgICAgICBpZiAoc3lzdGVtS2V5ID09PSAnU1lTVEVNX05PTkUnKSB7XG4gICAgICAgICAgICBzeXN0ZW1TcGVjaWZpY1Byb21wdCA9IFBST01QVFMuU1lTVEVNX05PTkU7XG4gICAgICAgIH0gZWxzZSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKFBST01QVFMsIHN5c3RlbUtleSkpIHtcbiAgICAgICAgICAgIHN5c3RlbVNwZWNpZmljUHJvbXB0ID0gKFBST01QVFMgYXMgYW55KVtzeXN0ZW1LZXldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbG9nZ2VyKCd3YXJuJywgJ1Byb21wdE1hbmFnZXInLCBgTm8gc3BlY2lmaWMgcHJvbXB0IGZvciBzeXN0ZW0gSUQgXCIke3N5c3RlbUlkfVwiLiBVc2luZyBiYXNlIHByb21wdCBvbmx5LmApO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGZpbmFsUHJvbXB0ID0gYCR7dGhpcy5iYXNlUHJvbXB0fVxcblxcbi0tLVxcblxcbiR7c3lzdGVtU3BlY2lmaWNQcm9tcHR9YDtcbiAgICAgICAgY29uc3QgYWR2ZW50dXJlSGludCA9IHRoaXMuZHluYW1pY0ZyYWdtZW50cy5nZXQoJ2FkdmVudHVyZUhpbnQnKSB8fCAn6Z2e5aWH6YGH5pe25py644CCJztcbiAgICAgICAgZmluYWxQcm9tcHQgPSBmaW5hbFByb21wdC5yZXBsYWNlKCd7e2FkdmVudHVyZV9oaW50fX0nLCBhZHZlbnR1cmVIaW50KTtcbiAgICAgICAgbG9nZ2VyKCdpbmZvJywgJ1Byb21wdE1hbmFnZXInLCBgW0FEVkVOVFVSRSBISU5UXSBJbmplY3RlZCBoaW50IGludG8gcHJvbXB0OiBcIiR7YWR2ZW50dXJlSGludH1cImApO1xuICAgICAgICB0aGlzLnN5c3RlbVByb21wdHMuc2V0KHN5c3RlbUtleSwgZmluYWxQcm9tcHQpO1xuICAgICAgICByZXR1cm4gZmluYWxQcm9tcHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5YeG5aSH55So5LqO5Y+R6YCB57uZTExN55qE5o+Q56S66K+N57uE5Lu244CCXG4gICAgICogQHBhcmFtIGhpc3RvcnlNYW5hZ2VyIC0gQ2hhdEhpc3RvcnlNYW5hZ2Vy55qE5a6e5L6L44CCXG4gICAgICogQHBhcmFtIGV2ZW50TWFuYWdlciAtIEV2ZW50TWFuYWdlciDnmoTlrp7kvovvvIznlKjkuo7nirbmgIHlm57mu5rorqHnrpfjgIJcbiAgICAgKiBAcGFyYW0gdXNlcklucHV0IC0g55So5oi355qE6L6T5YWl5paH5pys44CCXG4gICAgICogQHBhcmFtIGV4Y2x1ZGVMYXN0QXNzaXN0YW50IC0g5piv5ZCm5Zyo5Y6G5Y+y6K6w5b2V5Lit5o6S6Zmk5pyA5ZCO5LiA5p2hQUnmtojmga/jgIJcbiAgICAgKiBAcmV0dXJucyDkuIDkuKrljIXlkKsgdXNlcklucHV0LCBjaGF0SGlzdG9yeSDlkowgaW5qZWN0cyDnmoTlr7nosaHjgIJcbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgcHJlcGFyZVByb21wdENvbXBvbmVudHMoaGlzdG9yeU1hbmFnZXI6IENoYXRIaXN0b3J5TWFuYWdlciwgZXZlbnRNYW5hZ2VyOiBFdmVudE1hbmFnZXIsIHVzZXJJbnB1dDogc3RyaW5nLCBleGNsdWRlTGFzdEFzc2lzdGFudDogYm9vbGVhbiA9IGZhbHNlKTogUHJvbWlzZTx7IHVzZXJJbnB1dDogc3RyaW5nLCBjaGF0SGlzdG9yeTogYW55W10sIGluamVjdHM6IGFueVtdIH0+IHtcbiAgICAgICAgbGV0IGNvbnRleHRWYXJpYWJsZXM7XG5cbiAgICAgICAgaWYgKGV4Y2x1ZGVMYXN0QXNzaXN0YW50KSB7XG4gICAgICAgICAgICBsb2dnZXIoJ2xvZycsICdQcm9tcHRNYW5hZ2VyJywgJ1JvbGxiYWNrIHJlcXVlc3RlZCBmb3IgUmV0cnkvU3dpcGUuIFByZXBhcmluZyBzdGF0ZSBmcm9tIHRoZSBwcmV2aW91cyB0dXJuLicpO1xuICAgICAgICAgICAgY29uc3QgbGFzdE1lc3NhZ2UgPSBoaXN0b3J5TWFuYWdlci5nZXRNZXNzYWdlc0ZvclByb21wdCgpLnNsaWNlKC0xKVswXTtcbiAgICAgICAgICAgIGlmIChsYXN0TWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzVHVybk1lc3NhZ2UgPSBoaXN0b3J5TWFuYWdlci5nZXRQcmV2aW91c1R1cm5NZXNzYWdlKGxhc3RNZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNUdXJuTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIoJ2xvZycsICdQcm9tcHRNYW5hZ2VyJywgYEZvdW5kIHByZXZpb3VzIHR1cm4gbWVzc2FnZTogJHtwcmV2aW91c1R1cm5NZXNzYWdlLmlkfS4gQ2FsY3VsYXRpbmcgaXRzIHN0YXRlLi4uYCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHRWYXJpYWJsZXMgPSBhd2FpdCBjYWxjdWxhdGVTdGF0ZVVudGlsKGhpc3RvcnlNYW5hZ2VyLCBwcmV2aW91c1R1cm5NZXNzYWdlLmlkLCBldmVudE1hbmFnZXIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGV4dFZhcmlhYmxlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyKCdpbmZvJywgJ1Byb21wdE1hbmFnZXInLCBgU3VjY2Vzc2Z1bGx5IGNhbGN1bGF0ZWQgc3RhdGUgb2YgcHJldmlvdXMgdHVybiAke3ByZXZpb3VzVHVybk1lc3NhZ2UuaWR9LiBVc2luZyBpdCBmb3IgcHJvbXB0IGNvbnRleHQuYCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIoJ2Vycm9yJywgJ1Byb21wdE1hbmFnZXInLCBgU3RhdGUgY2FsY3VsYXRpb24gZm9yIHByZXZpb3VzIHR1cm4gJHtwcmV2aW91c1R1cm5NZXNzYWdlLmlkfSBmYWlsZWQuIEZhbGxpbmcgYmFjayB0byBjdXJyZW50IHN0YXRlLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dFZhcmlhYmxlcyA9IGdldFZhcmlhYmxlcyh7IHR5cGU6ICdjaGF0JyB9KSB8fCB7fTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcignaW5mbycsICdQcm9tcHRNYW5hZ2VyJywgJ1RoaXMgaXMgdGhlIGZpcnN0IHR1cm4sIG5vIHByZXZpb3VzIHR1cm4gdG8gcm9sbCBiYWNrIHRvLiBVc2luZyBjdXJyZW50IHN0YXRlLicpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0VmFyaWFibGVzID0gZ2V0VmFyaWFibGVzKHsgdHlwZTogJ2NoYXQnIH0pIHx8IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgIGxvZ2dlcignd2FybicsICdQcm9tcHRNYW5hZ2VyJywgJ05vIGxhc3QgbWVzc2FnZSBmb3VuZCBpbiBoaXN0b3J5LiBVc2luZyBjdXJyZW50IHN0YXRlLicpO1xuICAgICAgICAgICAgICAgIGNvbnRleHRWYXJpYWJsZXMgPSBnZXRWYXJpYWJsZXMoeyB0eXBlOiAnY2hhdCcgfSkgfHwge307XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2dnZXIoJ2xvZycsICdQcm9tcHRNYW5hZ2VyJywgJ05ldyB0dXJuIGRldGVjdGVkLiBVc2luZyBjdXJyZW50IGFjdGl2ZSBzdGF0ZSBmb3IgcHJvbXB0LicpO1xuICAgICAgICAgICAgY29udGV4dFZhcmlhYmxlcyA9IGdldFZhcmlhYmxlcyh7IHR5cGU6ICdjaGF0JyB9KSB8fCB7fTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8g5pm66IO95LiK5LiL5paH57O757uf77ya5p+l5om+5byV55So5bm25pu05paw57uf6K6h5pWw5o2uXG4gICAgICAgIHRoaXMuZm9yY2VJbmplY3RLbm93bGVkZ2VJZHMuY2xlYXIoKTtcbiAgICAgICAgY29uc3QgdHVybkNvdW50ID0gaGlzdG9yeU1hbmFnZXIuZ2V0VHVybkNvdW50KCk7XG4gICAgICAgIGF3YWl0IHRoaXMuZmluZEFuZFRyYWNrS25vd2xlZGdlUmVmZXJlbmNlcyh1c2VySW5wdXQsIGNvbnRleHRWYXJpYWJsZXMpO1xuXG5cbiAgICAgICAgLy8gMS4g5qC85byP5YyW6IGK5aSp6K6w5b2VXG4gICAgICAgIGNvbnN0IGNoYXRIaXN0b3J5ID0gYXdhaXQgdGhpcy5mb3JtYXRDaGF0SGlzdG9yeUZvclNpbGx5VGF2ZXJuKGhpc3RvcnlNYW5hZ2VyLCBjb250ZXh0VmFyaWFibGVzLCBleGNsdWRlTGFzdEFzc2lzdGFudCk7XG5cbiAgICAgICAgLy8gMi4g6I635Y+W57O757uf5oyH5LukICh2Mi4wKVxuICAgICAgICBjb25zdCBzeXN0ZW1OYW1lID0gXy5nZXQoY29udGV4dFZhcmlhYmxlcywgJ+S4lueVjC7lvZPliY3mv4DmtLvns7vnu58u5ZCN56ewJywgJ+aXoOezu+e7nycpO1xuICAgICAgICAvLyDlsIbkuK3mloflkI3ovazmjaLkuLpJRCwgZS5nLiwgXCLmiJDlsLHns7vnu59cIiAtPiBcInN5c3RlbS1hY2hpZXZlbWVudFwiXG4gICAgICAgIGNvbnN0IHN5c3RlbUlkID0gQy5zeXN0ZW1zLmZpbmQoKHM6IGFueSkgPT4gcy5uYW1lID09PSBzeXN0ZW1OYW1lKT8uaWQgfHwgbnVsbDtcbiAgICAgICAgY29uc3Qgc3lzdGVtSW5zdHJ1Y3Rpb25zID0gdGhpcy5nZXRTeXN0ZW1JbnN0cnVjdGlvbnMoc3lzdGVtSWQpO1xuXG4gICAgICAgIC8vIDMuIOagvOW8j+WMluWPmOmHj1xuICAgICAgICBjb25zdCBleHBsYWluZWRWYXJpYWJsZXMgPSB0aGlzLmV4cGxhaW5WYXJpYWJsZXMoY29udGV4dFZhcmlhYmxlcywgc3lzdGVtSWQsIHR1cm5Db3VudCk7XG5cbiAgICAgICAgLy8gNC4g57uE5ZCI57O757uf5o+Q56S66K+NXG4gICAgICAgIGNvbnN0IHByZWFtYmxlID0gYFtPT0M6IOS7peS4i+aYr+WPkemAgee7meS9oOeahOOAgeeUqOS6jumpseWKqOWJp+aDheeahOWujOaVtOa4uOaIj+eKtuaAgeWSjOinhOWImeOAguivt+S7lOe7humYheivu+W5tuS4peagvOmBteWuiOOAgl1cXG5cXG4qKuW9k+WJjea4uOaIj+eKtuaAgSoqOlxcbui/meaYr+a4uOaIj+S4lueVjOeahOWujOaVtOW/q+eFp++8jOivt+WwhuWFtuS9nOS4uuS9oOeUn+aIkOWbnuW6lOeahOWUr+S4gOecn+Wunuadpea6kOOAgmA7XG4gICAgICAgIGNvbnN0IHN5c3RlbVByb21wdCA9IGA8U3lzdGVtSW5zdHJ1Y3Rpb25zPlxcbiR7c3lzdGVtSW5zdHJ1Y3Rpb25zfVxcbjwvU3lzdGVtSW5zdHJ1Y3Rpb25zPlxcblxcbjxWYXJpYWJsZXM+XFxuJHtwcmVhbWJsZX1cXG5cXG4ke2V4cGxhaW5lZFZhcmlhYmxlc31cXG48L1ZhcmlhYmxlcz5gO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5sYXN0R2VuZXJhdGVkU3lzdGVtUHJvbXB0ID0gc3lzdGVtUHJvbXB0OyAvLyDnvJPlrZjnlJ/miJDnmoTmj5DnpLror41cbiAgICAgICAgY29uc3QgaW5qZWN0cyA9IFt7IHJvbGU6ICdzeXN0ZW0nLCBjb250ZW50OiBzeXN0ZW1Qcm9tcHQsIHBvc2l0aW9uOiAnYmVmb3JlX3Byb21wdCcsIGRlcHRoOiAwLCBzaG91bGRfc2NhbjogdHJ1ZSB9XTtcblxuICAgICAgICBsb2dnZXIoJ2luZm8nLCAnUHJvbXB0TWFuYWdlcicsICdQcm9tcHQgY29tcG9uZW50cyBwcmVwYXJlZDonLCB7IHVzZXJJbnB1dCwgY2hhdEhpc3RvcnksIGluamVjdHMgfSk7XG4gICAgICAgIHJldHVybiB7IHVzZXJJbnB1dCwgY2hhdEhpc3RvcnksIGluamVjdHMgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGZvcm1hdENoYXRIaXN0b3J5Rm9yU2lsbHlUYXZlcm4oXG4gICAgICAgIGhpc3RvcnlNYW5hZ2VyOiBDaGF0SGlzdG9yeU1hbmFnZXIsIFxuICAgICAgICB2YXJpYWJsZXM6IGFueSwgXG4gICAgICAgIGV4Y2x1ZGVMYXN0QXNzaXN0YW50OiBib29sZWFuID0gZmFsc2VcbiAgICAgICk6IFByb21pc2U8YW55W10+IHtcbiAgICAgICAgYXdhaXQgaGlzdG9yeU1hbmFnZXIubG9hZEhpc3RvcnkoKTsgLy8gRW5zdXJlIGhpc3RvcnkgaXMgbG9hZGVkXG4gICAgICBcbiAgICAgICAgY29uc3QgY2hhdFZhcnMgPSBnZXRWYXJpYWJsZXMoeyB0eXBlOiAnY2hhdCcgfSkgfHwge307XG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gXy5nZXQoY2hhdFZhcnMsICdwbHVnaW5fc2V0dGluZ3MuY29udGV4dF9tYW5hZ2VtZW50JywgeyBjb250ZXh0TGltaXQ6IDIwIH0pO1xuICAgICAgICBjb25zdCBtZXNzYWdlQ291bnQgPSBzZXR0aW5ncy5jb250ZXh0TGltaXQ7XG4gICAgICBcbiAgICAgICAgbGV0IG1lc3NhZ2VzID0gaGlzdG9yeU1hbmFnZXIuZ2V0TWVzc2FnZXNGb3JQcm9tcHQoKTtcbiAgICAgIFxuICAgICAgICBpZiAoZXhjbHVkZUxhc3RBc3Npc3RhbnQpIHtcbiAgICAgICAgICBjb25zdCBsYXN0TWVzc2FnZSA9IG1lc3NhZ2VzW21lc3NhZ2VzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIGlmIChsYXN0TWVzc2FnZSAmJiBsYXN0TWVzc2FnZS5yb2xlID09PSAnYXNzaXN0YW50Jykge1xuICAgICAgICAgICAgbWVzc2FnZXMgPSBtZXNzYWdlcy5zbGljZSgwLCAtMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBcbiAgICAgICAgbWVzc2FnZXMgPSBtZXNzYWdlcy5zbGljZSgtbWVzc2FnZUNvdW50KTtcbiAgICAgICAgaWYgKG1lc3NhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgXG4gICAgICAgIGNvbnN0IG1haW5DaGFyYWN0ZXJOYW1lID0gdmFyaWFibGVzWyfop5LoibInXT8uWyfkuLvmjqfop5LoibLlkI0nXSB8fCAn546p5a62JztcbiAgICAgICAgbGV0IGFpQ2hhcmFjdGVyTmFtZSA9ICdBSSc7XG4gICAgICAgIGlmICh2YXJpYWJsZXNbJ+inkuiJsiddKSB7XG4gICAgICAgICAgY29uc3QgY2hhcmFjdGVyTmFtZXMgPSBPYmplY3Qua2V5cyh2YXJpYWJsZXNbJ+inkuiJsiddKTtcbiAgICAgICAgICBjb25zdCBvdGhlckNoYXJhY3RlciA9IGNoYXJhY3Rlck5hbWVzLmZpbmQobmFtZSA9PiBuYW1lICE9PSAn5Li75o6n6KeS6Imy5ZCNJyAmJiBuYW1lICE9PSBtYWluQ2hhcmFjdGVyTmFtZSk7XG4gICAgICAgICAgaWYgKG90aGVyQ2hhcmFjdGVyKSB7XG4gICAgICAgICAgICBhaUNoYXJhY3Rlck5hbWUgPSBvdGhlckNoYXJhY3RlcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIFxuICAgICAgICBjb25zdCBmb3JtYXR0ZWRNZXNzYWdlcyA9IG1lc3NhZ2VzLm1hcCgobXNnOiBNZXNzYWdlUGFnZSkgPT4ge1xuICAgICAgICAgIGxldCByb2xlOiAndXNlcicgfCAnYXNzaXN0YW50JyB8ICdzdW1tYXJ5JyB8ICdzeXN0ZW0nID0gbXNnLnJvbGU7XG4gICAgICAgICAgbGV0IGNvbnRlbnQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICAgIFxuICAgICAgICAgIGlmIChtc2cucm9sZSA9PT0gJ3N1bW1hcnknKSB7XG4gICAgICAgICAgICByb2xlID0gJ3N5c3RlbSc7XG4gICAgICAgICAgICBjb250ZW50ID0gYFvkuYvliY3nmoTliafmg4XmpoLopoFdOiAke21zZy5jb250ZW50fWA7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHJvbGVOYW1lID0gbXNnLnJvbGUgPT09ICd1c2VyJyA/IG1haW5DaGFyYWN0ZXJOYW1lIDogYWlDaGFyYWN0ZXJOYW1lO1xuICAgICAgICAgICAgY29udGVudCA9IG1zZy5jb250ZW50LnJlcGxhY2UoLzxzdGF0dXNiYXI+W1xcc1xcU10qPzxcXC9zdGF0dXNiYXI+L2csICcnKS50cmltKCk7XG4gICAgICAgICAgICBjb250ZW50ID0gYCR7cm9sZU5hbWV9OiAke2NvbnRlbnR9YDtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHJvbGUsIGNvbnRlbnQgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0pLmZpbHRlcihCb29sZWFuKTtcbiAgICAgIFxuICAgICAgICByZXR1cm4gZm9ybWF0dGVkTWVzc2FnZXMgYXMgYW55W107XG4gICAgICB9XG5cbiAgICAgIHByaXZhdGUgYXN5bmMgZmluZEFuZFRyYWNrS25vd2xlZGdlUmVmZXJlbmNlcyh1c2VySW5wdXQ6IHN0cmluZywgdmFyaWFibGVzOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3Qga25vd2xlZGdlU3RhdHMgPSBfLmdldCh2YXJpYWJsZXMsICfkuJbnlYwu55+l6K+G5bqT5L2/55So57uf6K6hJyk7XG4gICAgICAgIC8vIOmdnuS+teWFpeaAp++8muWmguaenOe7n+iuoeWvueixoeS4jeWtmOWcqO+8jOWImeS4jeaJp+ihjOS7u+S9leaTjeS9nOOAglxuICAgICAgICBpZiAoIWtub3dsZWRnZVN0YXRzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2VyKCdsb2cnLCAnUHJvbXB0TWFuYWdlcjpTbWFydENvbnRleHQnLCAnYGZpbmRBbmRUcmFja0tub3dsZWRnZVJlZmVyZW5jZXNgIHN0YXJ0ZWQuJyk7XG4gICAgXG4gICAgICAgIGNvbnN0IGFsbFBva2VkZXggPSBfLmdldCh2YXJpYWJsZXMsICfkuJbnlYwu5Zu+6Ym0Jywge30pO1xuICAgICAgICBjb25zdCBsaW5rZXJQcm9maWxlID0gXy5nZXQodmFyaWFibGVzLCAncGx1Z2luX3N0b3JhZ2UuY29udGV4dF9saW5rZXJfcHJvZmlsZScsIHt9KTtcbiAgICBcbiAgICAgICAgY29uc3QgYWxsRW50cmllczoge2lkOiBzdHJpbmcsIG5hbWU6IHN0cmluZywga2V5d29yZHM6IHN0cmluZ1tdfVtdID0gW107XG4gICAgXG4gICAgICAgIC8vIOWxleW5s+aJgOacieWbvumJtOadoeebruWPiuWFtuWFs+mUruivjVxuICAgICAgICBmb3IgKGNvbnN0IGNhdGVnb3J5IGluIGFsbFBva2VkZXgpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFsbFBva2VkZXhbY2F0ZWdvcnldKSkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBhbGxQb2tlZGV4W2NhdGVnb3J5XSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtSWQgPSBg5LiW55WMLuWbvumJtC4ke2NhdGVnb3J5fS4ke2l0ZW0u5ZCN56ewfWA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2ZpbGUgPSBsaW5rZXJQcm9maWxlW2l0ZW1JZF0gfHwge307XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleXdvcmRzID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS7lkI3np7AsXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi4ocHJvZmlsZS5keW5hbWljS2V5d29yZHMgfHwgW10pXG4gICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGFsbEVudHJpZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogaXRlbUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbS7lkI3np7AsXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXl3b3JkczogXy51bmlxKGtleXdvcmRzKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgbGV0IHN0YXRzVXBkYXRlZCA9IGZhbHNlO1xuICAgICAgICBjb25zdCB1cGRhdGVzOiBhbnkgPSB7fTtcbiAgICBcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBhbGxFbnRyaWVzKSB7XG4gICAgICAgICAgICBjb25zdCBpc1JlZmVyZW5jZWQgPSBlbnRyeS5rZXl3b3Jkcy5zb21lKGt3ID0+IHVzZXJJbnB1dC5pbmNsdWRlcyhrdykpO1xuICAgICAgICAgICAgaWYgKGlzUmVmZXJlbmNlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZm9yY2VJbmplY3RLbm93bGVkZ2VJZHMuYWRkKGVudHJ5LmlkKTtcbiAgICAgICAgICAgICAgICBsb2dnZXIoJ2xvZycsICdQcm9tcHRNYW5hZ2VyOlNtYXJ0Q29udGV4dCcsIGBGb3VuZCByZWZlcmVuY2UgdG8gXCIke2VudHJ5Lm5hbWV9XCIgdmlhIGtleXdvcmRzLiBBZGRlZCB0byBmb3JjZS1pbmplY3QgbGlzdC5gKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50U3RhdCA9IF8uZ2V0KGtub3dsZWRnZVN0YXRzLCBgWycke2VudHJ5LmlkfSddYCwgeyBmcmVxdWVuY3k6IDAsIGxhc3RTZW50VHVybjogMCB9KTtcbiAgICAgICAgICAgICAgICB1cGRhdGVzW2BbJyR7ZW50cnkuaWR9J11gXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudFN0YXQsXG4gICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeTogY3VycmVudFN0YXQuZnJlcXVlbmN5ICsgMSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHN0YXRzVXBkYXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgaWYgKHN0YXRzVXBkYXRlZCkge1xuICAgICAgICAgICAgbG9nZ2VyKCdpbmZvJywgJ1Byb21wdE1hbmFnZXI6U21hcnRDb250ZXh0JywgJ0tub3dsZWRnZSByZWZlcmVuY2VzIGZvdW5kLiBVcGRhdGluZyBmcmVxdWVuY3kgc3RhdHM6JywgdXBkYXRlcyk7XG4gICAgICAgICAgICBhd2FpdCB1cGRhdGVWYXJpYWJsZXNXaXRoKCh2YXJzOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBfLmZvckVhY2godXBkYXRlcywgKHZhbHVlLCBrZXlQYXRoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIF8uc2V0KHZhcnMsIGDkuJbnlYwu55+l6K+G5bqT5L2/55So57uf6K6hLiR7a2V5UGF0aH1gLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhcnM7XG4gICAgICAgICAgICB9LCB7IHR5cGU6ICdjaGF0JyB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZXhwbGFpblZhcmlhYmxlcyh2YXJpYWJsZXM6IGFueSwgc3lzdGVtSWQ6IHN0cmluZyB8IG51bGwsIGN1cnJlbnRUdXJuOiBudW1iZXIpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBtYWluQ2hhcmFjdGVyTmFtZSA9IHZhcmlhYmxlc1sn6KeS6ImyJ10/Llsn5Li75o6n6KeS6Imy5ZCNJ107XG4gICAgICAgIGNvbnN0IHBhcnRzID0gW107XG5cbiAgICAgICAgLy8gMC4g5rOo5YWl5Yqo5oCB5LiW55WM54q25oCB5pGY6KaBXG4gICAgICAgIGNvbnN0IHdvcmxkU3RhdGVTdW1tYXJ5OiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICB0aGlzLmR5bmFtaWNGcmFnbWVudHMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgICAgLy8gYWR2ZW50dXJlSGludCDlt7LlnKggZ2V0U3lzdGVtSW5zdHJ1Y3Rpb25zIOS4reWkhOeQhu+8jOatpOWkhOS4jeWGjemHjeWkjVxuICAgICAgICAgICAgaWYgKGtleSAhPT0gJ2FkdmVudHVyZUhpbnQnKSB7XG4gICAgICAgICAgICAgICAgd29ybGRTdGF0ZVN1bW1hcnkucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh3b3JsZFN0YXRlU3VtbWFyeS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZXQgc3VtbWFyeVBhcnQgPSBgICAvLyDmnaXoh6rmuLjmiI/kuJbnlYznmoTlrp7ml7bliqjmgIHkv6Hmga9cXG5gO1xuICAgICAgICAgICAgc3VtbWFyeVBhcnQgKz0gYCAgXCLkuJbnlYznirbmgIHmkZjopoFcIjogW1xcbiAgICBcIiR7d29ybGRTdGF0ZVN1bW1hcnkuam9pbignXCIsXFxuICAgIFwiJyl9XCJcXG4gIF1gO1xuICAgICAgICAgICAgcGFydHMucHVzaChzdW1tYXJ5UGFydCk7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLy8gMS4gR2VuZXJhdGUgVmFsdWUgQW5hbHlzaXMgUmVwb3J0IGlmIGluIEJhcnRlciBtb2RlXG4gICAgICAgIGlmIChzeXN0ZW1JZCA9PT0gJ3N5c3RlbS1iYXJ0ZXInKSB7XG4gICAgICAgICAgICBjb25zdCBtYXJrZXRQcmljZXM6IE1hcmtldFByaWNlSW5mb1tdID0gXy5nZXQodmFyaWFibGVzLCAn5LiW55WMLuaXtuS7tycsIFtdKTtcbiAgICAgICAgICAgIGlmIChtYXJrZXRQcmljZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGxldCByZXBvcnQgPSBgICAvLyDlvZPliY3lvbHlk43kuqTmmJPku7flgLznmoTjgJDml7bku7fpo47pl7vjgJFcXG5gO1xuICAgICAgICAgICAgICAgIHJlcG9ydCArPSBgICBcIuS7t+WAvOWIhuaekOaKpeWRilwiOiAke0pTT04uc3RyaW5naWZ5KG1hcmtldFByaWNlcywgbnVsbCwgMil9YDtcbiAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHJlcG9ydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLy8gMS4gTWFpbiBDaGFyYWN0ZXIgSW5mbyAoQ29yZSBDb250ZXh0KVxuICAgICAgICBpZiAobWFpbkNoYXJhY3Rlck5hbWUgJiYgdmFyaWFibGVzWyfop5LoibInXT8uW21haW5DaGFyYWN0ZXJOYW1lXSkge1xuICAgICAgICAgICAgY29uc3QgY2hhckRhdGEgPSB2YXJpYWJsZXNbJ+inkuiJsiddW21haW5DaGFyYWN0ZXJOYW1lXTtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gY2hhckRhdGFbJ+eJqeWTgSddO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyDmoLnmja4gU1BFQyA1LjEsIOWPquS/neeVmeaguOW/g+eKtuaAgeWSjOeJqeWTgVxuICAgICAgICAgICAgY29uc3QgY29yZVN0YXR1c0RhdGE6IGFueSA9IHtcbiAgICAgICAgICAgICAgICDlp5PlkI06IGNoYXJEYXRhWyflp5PlkI0nXSxcbiAgICAgICAgICAgICAgICDnp43ml486IGNoYXJEYXRhWyfnp43ml48nXSxcbiAgICAgICAgICAgICAgICDogYzkuJo6IGNoYXJEYXRhWyfogYzkuJonXSxcbiAgICAgICAgICAgICAgICDnrYnnuqc6IGNoYXJEYXRhWyfnrYnnuqcnXSxcbiAgICAgICAgICAgICAgICDnirbmgIE6IGNoYXJEYXRhWyfnirbmgIEnXSxcbiAgICAgICAgICAgIH07XG4gICAgXG4gICAgICAgICAgICBsZXQgY29yZVN0YXR1cyA9IGAgIC8vIOS4u+aOp+inkuiJsicke21haW5DaGFyYWN0ZXJOYW1lfSfnmoTmoLjlv4PnirbmgIFcXG5gO1xuICAgICAgICAgICAgY29yZVN0YXR1cyArPSBgICBcIuinkuiJsueKtuaAgVwiOiAke0pTT04uc3RyaW5naWZ5KGNvcmVTdGF0dXNEYXRhLCBudWxsLCAyKX1gO1xuICAgICAgICAgICAgcGFydHMucHVzaChjb3JlU3RhdHVzKTtcbiAgICBcbiAgICAgICAgICAgIGlmIChpdGVtcyAmJiAhXy5pc0VtcHR5KGl0ZW1zKSkge1xuICAgICAgICAgICAgICAgIGxldCBpdGVtc1BhcnQgPSBgICAvLyDkuLvmjqfop5LoibLlvZPliY3mjIHmnInnmoTnianlk4FcXG5gO1xuICAgICAgICAgICAgICAgIGl0ZW1zUGFydCArPSBgICBcIuinkuiJsueJqeWTgVwiOiAke0pTT04uc3RyaW5naWZ5KGl0ZW1zLCBudWxsLCAyKX1gO1xuICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goaXRlbXNQYXJ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvLyAyLiBXb3JsZCBJbmZvXG4gICAgICAgIGlmICh2YXJpYWJsZXNbJ+S4lueVjCddKSB7XG4gICAgICAgICAgICBjb25zdCB3b3JsZFBhcnRzID0gW107XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIC0tLSDmoLjlv4PkuJbnlYznirbmgIEgLS0tXG4gICAgICAgICAgICBjb25zdCB3b3JsZENvcmVTdGF0ZTogYW55ID0ge307XG4gICAgICAgICAgICBpZiAodmFyaWFibGVzWyfkuJbnlYwnXVsn5pe26Ze0J10pIHdvcmxkQ29yZVN0YXRlWyfml7bpl7QnXSA9IHZhcmlhYmxlc1sn5LiW55WMJ11bJ+aXtumXtCddO1xuICAgICAgICAgICAgaWYgKHZhcmlhYmxlc1sn5LiW55WMJ11bJ+W9k+WJjeaXpeacnyddKSB3b3JsZENvcmVTdGF0ZVsn5b2T5YmN5pel5pyfJ10gPSB2YXJpYWJsZXNbJ+S4lueVjCddWyflvZPliY3ml6XmnJ8nXTtcbiAgICAgICAgICAgIGlmICh2YXJpYWJsZXNbJ+S4lueVjCddWyflnLDngrknXSkgd29ybGRDb3JlU3RhdGVbJ+WcsOeCuSddID0gdmFyaWFibGVzWyfkuJbnlYwnXVsn5Zyw54K5J107XG5cbiAgICAgICAgICAgIGlmICghXy5pc0VtcHR5KHdvcmxkQ29yZVN0YXRlKSkge1xuICAgICAgICAgICAgICAgIGxldCBjb3JlU3RhdGVQYXJ0ID0gYCAgICAvLyDkuJbnlYzmoLjlv4PnirbmgIFcXG5gO1xuICAgICAgICAgICAgICAgIGNvcmVTdGF0ZVBhcnQgKz0gYCAgICBcIuaguOW/g+eKtuaAgVwiOiAke0pTT04uc3RyaW5naWZ5KHdvcmxkQ29yZVN0YXRlLCBudWxsLCAyKX1gO1xuICAgICAgICAgICAgICAgIHdvcmxkUGFydHMucHVzaChjb3JlU3RhdGVQYXJ0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gLS0tIOaZuuiDveS4iuS4i+aWh+azqOWFpemAu+i+kSAo5Zu+6Ym0KSAtLS1cbiAgICAgICAgICAgIGNvbnN0IGtub3dsZWRnZVN0YXRzID0gXy5nZXQodmFyaWFibGVzLCAn5LiW55WMLuefpeivhuW6k+S9v+eUqOe7n+iuoScpO1xuICAgICAgICAgICAgaWYgKGtub3dsZWRnZVN0YXRzKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyKCdsb2cnLCAnUHJvbXB0TWFuYWdlcjpTbWFydENvbnRleHQnLCAnU21hcnQgY29udGV4dCBpbmplY3Rpb24gaXMgYWN0aXZlLicpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFsbFBva2VkZXhFbnRyaWVzID0gdGhpcy5wb2tlZGV4TWFuYWdlci5nZXRBbGxFbnRyaWVzQXNNYXAoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmplY3RlZEtub3dsZWRnZSA9IG5ldyBNYXA8c3RyaW5nLCBhbnk+KCk7XG4gICAgXG4gICAgICAgICAgICAgICAgLy8gYS4g5by65Yi25rOo5YWlXG4gICAgICAgICAgICAgICAgdGhpcy5mb3JjZUluamVjdEtub3dsZWRnZUlkcy5mb3JFYWNoKGlkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFsbFBva2VkZXhFbnRyaWVzLmhhcyhpZCkgJiYgIWluamVjdGVkS25vd2xlZGdlLmhhcyhpZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluamVjdGVkS25vd2xlZGdlLnNldChpZCwgYWxsUG9rZWRleEVudHJpZXMuZ2V0KGlkKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIoJ2xvZycsICdQcm9tcHRNYW5hZ2VyOlNtYXJ0Q29udGV4dCcsIGBGb3JjZS1pbmplY3Rpbmc6IFwiJHthbGxQb2tlZGV4RW50cmllcy5nZXQoaWQpPy7lkI3np7B9XCJgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgIFxuICAgICAgICAgICAgICAgIC8vIGIuIOmikeeOh+azqOWFpVxuICAgICAgICAgICAgICAgIGNvbnN0IEhJR0hfRlJFUSA9IDEwO1xuICAgICAgICAgICAgICAgIGNvbnN0IE1JRF9GUkVRID0gMztcbiAgICAgICAgICAgICAgICBjb25zdCBNSURfQ09PTERPV04gPSAzO1xuICAgICAgICAgICAgICAgIGNvbnN0IExPV19DT09MRE9XTiA9IDEwO1xuICAgIFxuICAgICAgICAgICAgICAgIF8uZm9yRWFjaChrbm93bGVkZ2VTdGF0cywgKHN0YXQsIGlkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmplY3RlZEtub3dsZWRnZS5oYXMoaWQpKSByZXR1cm47XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIGxldCBzaG91bGRJbmplY3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXQuZnJlcXVlbmN5ID4gSElHSF9GUkVRKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRJbmplY3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXQuZnJlcXVlbmN5ID4gTUlEX0ZSRVEgJiYgKGN1cnJlbnRUdXJuIC0gc3RhdC5sYXN0U2VudFR1cm4pID4gTUlEX0NPT0xET1dOKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRJbmplY3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKChjdXJyZW50VHVybiAtIHN0YXQubGFzdFNlbnRUdXJuKSA+IExPV19DT09MRE9XTikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkSW5qZWN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoc2hvdWxkSW5qZWN0ICYmIGFsbFBva2VkZXhFbnRyaWVzLmhhcyhpZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluamVjdGVkS25vd2xlZGdlLnNldChpZCwgYWxsUG9rZWRleEVudHJpZXMuZ2V0KGlkKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIoJ2xvZycsICdQcm9tcHRNYW5hZ2VyOlNtYXJ0Q29udGV4dCcsIGBGcmVxdWVuY3ktaW5qZWN0aW5nOiBcIiR7YWxsUG9rZWRleEVudHJpZXMuZ2V0KGlkKT8u5ZCN56ewfVwiIChmcmVxOiAke3N0YXQuZnJlcXVlbmN5fSwgbGFzdFNlbnQ6ICR7c3RhdC5sYXN0U2VudFR1cm59KWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgXG4gICAgICAgICAgICAgICAgaWYgKGluamVjdGVkS25vd2xlZGdlLnNpemUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcignaW5mbycsICdQcm9tcHRNYW5hZ2VyOlNtYXJ0Q29udGV4dCcsIGBUb3RhbCAke2luamVjdGVkS25vd2xlZGdlLnNpemV9IGtub3dsZWRnZSBlbnRyaWVzIHdpbGwgYmUgaW5qZWN0ZWQgaW50byB0aGUgcHJvbXB0LmApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2tlZGV4T2JqZWN0OiBhbnkgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdHNUb1VwZGF0ZTogYW55ID0ge307XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIGluamVjdGVkS25vd2xlZGdlLmZvckVhY2goKGl0ZW0sIGlkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXRoUGFydHMgPSBpZC5zcGxpdCgnLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSBwYXRoUGFydHNbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBva2VkZXhPYmplY3RbY2F0ZWdvcnldKSBwb2tlZGV4T2JqZWN0W2NhdGVnb3J5XSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9rZWRleE9iamVjdFtjYXRlZ29yeV0ucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRzVG9VcGRhdGVbYOS4lueVjC7nn6Xor4blupPkvb/nlKjnu5/orqFbJyR7aWR9J10ubGFzdFNlbnRUdXJuYF0gPSBjdXJyZW50VHVybjtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVWYXJpYWJsZXNXaXRoKCh2YXJzOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF8uZm9yRWFjaChzdGF0c1RvVXBkYXRlLCAodmFsdWUsIGtleVBhdGgpID0+IF8uc2V0KHZhcnMsIGtleVBhdGgsIHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFycztcbiAgICAgICAgICAgICAgICAgICAgfSwgeyB0eXBlOiAnY2hhdCcgfSk7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIGxldCBwb2tlZGV4UGFydCA9IGAgICAgLy8g5qC55o2u5LiK5LiL5paH5Yqo5oCB6YCJ5oup55qE5Zu+6Ym055+l6K+GXFxuYDtcbiAgICAgICAgICAgICAgICAgICAgcG9rZWRleFBhcnQgKz0gYCAgICBcIuWbvumJtFwiOiAke0pTT04uc3RyaW5naWZ5KHBva2VkZXhPYmplY3QsIG51bGwsIDIpfWA7XG4gICAgICAgICAgICAgICAgICAgIHdvcmxkUGFydHMucHVzaChwb2tlZGV4UGFydCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh2YXJpYWJsZXNbJ+S4lueVjCddWyflm77pibQnXSAmJiAhXy5pc0VtcHR5KHZhcmlhYmxlc1sn5LiW55WMJ11bJ+WbvumJtCddKSkge1xuICAgICAgICAgICAgICAgIC8vIOaXp+eJiOmAu+i+kTog5rOo5YWl5omA5pyJ5Zu+6Ym0XG4gICAgICAgICAgICAgICAgbGV0IHBva2VkZXhQYXJ0ID0gYCAgICAvLyDnjqnlrrblt7Llj5HnjrDnmoTlm77pibTmnaHnm67vvIzku6Pooajlhbbnn6Xor4ZcXG5gO1xuICAgICAgICAgICAgICAgIHBva2VkZXhQYXJ0ICs9IGAgICAgXCLlm77pibRcIjogJHtKU09OLnN0cmluZ2lmeSh2YXJpYWJsZXNbJ+S4lueVjCddWyflm77pibQnXSwgbnVsbCwgMil9YDtcbiAgICAgICAgICAgICAgICB3b3JsZFBhcnRzLnB1c2gocG9rZWRleFBhcnQpO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgLy8gLS0tIOWFtuS7luS4lueVjOS/oeaBryAo5qC55o2uIFNQRUMg56e76ZmkKSAtLS1cbiAgICAgICAgICAgIC8vICfluofmiqTmiYAnLCAn5oiQ5bCxJywgJ+aKgOiDvScsICfnrb7liLAnLCAn5Lu75Yqh5YiX6KGoJyDnrYnkuI3lho3lj5HpgIHlrozmlbTlr7nosaFcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHdvcmxkUGFydHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGxldCB3b3JsZFN0cmluZyA9IGAgIC8vIOWFs+S6jua4uOaIj+S4lueVjOeahOS/oeaBr1xcbmA7XG4gICAgICAgICAgICAgICAgd29ybGRTdHJpbmcgKz0gYCAgXCLkuJbnlYzkv6Hmga9cIjoge1xcbiR7d29ybGRQYXJ0cy5qb2luKCcsXFxuJyl9XFxuICB9YDtcbiAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHdvcmxkU3RyaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvLyAzLiBQbGF5ZXIncyBjaG9zZW4gYWN0aW9uXG4gICAgICAgIGlmICh2YXJpYWJsZXNbJ+ihjOWKqOmAieaLqSddKSB7XG4gICAgICAgICAgICBsZXQgYWN0aW9uUGFydCA9IGAgIC8vIOeOqeWutuacrOWbnuWQiOmAieaLqeeahOihjOWKqFxcbmA7XG4gICAgICAgICAgICBhY3Rpb25QYXJ0ICs9IGAgIFwi546p5a626KGM5YqoXCI6IHtcXG5gO1xuICAgICAgICAgICAgYWN0aW9uUGFydCArPSBgICAgIFwi6KGM5Yqo5bqP5Y+3XCI6ICR7dmFyaWFibGVzWyfooYzliqjpgInmi6knXS5pbmRleH0sXFxuYDtcbiAgICAgICAgICAgIGFjdGlvblBhcnQgKz0gYCAgICBcIuihjOWKqOaPj+i/sFwiOiBcIiR7dmFyaWFibGVzWyfooYzliqjpgInmi6knXS50ZXh0fVwiXFxuYDtcbiAgICAgICAgICAgIGFjdGlvblBhcnQgKz0gYCAgfWA7XG4gICAgICAgICAgICBwYXJ0cy5wdXNoKGFjdGlvblBhcnQpO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIHJldHVybiBge1xcbiR7cGFydHMuam9pbignLFxcbicpfVxcbn1gO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOiOt+WPluacgOWQjuS4gOasoeeUn+aIkOeahOezu+e7n+aPkOekuuivjeOAglxuICAgICAqIEByZXR1cm5zIOaPkOekuuivjeWtl+espuS4suOAglxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRMYXN0R2VuZXJhdGVkU3lzdGVtUHJvbXB0KCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmxhc3RHZW5lcmF0ZWRTeXN0ZW1Qcm9tcHQ7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/core/promptManager.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/core/regexProcessor.ts": 
  /*!*******************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/core/regexProcessor.ts ***!
  \*******************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   extractMainText: () => (/* binding */ extractMainText),\n/* harmony export */   getProcessedStoryText: () => (/* binding */ getProcessedStoryText),\n/* harmony export */   processTextWithTavernRegex: () => (/* binding */ processTextWithTavernRegex)\n/* harmony export */ });\n/**\n * 从LLM的完整响应中提取 `<MainText>` 标签内的内容。\n * @param fullText - LLM返回的完整字符串。\n * @returns 提取出的主要叙事文本，如果未找到则返回原始文本。\n */\nfunction extractMainText(fullText) {\n    const match = fullText.match(/<MainText>([\\s\\S]*?)<\\/MainText>/);\n    return match ? match[1].trim() : fullText;\n}\n/**\n * 对给定的文本应用酒馆的正则表达式处理。\n * @param text - 需要处理的文本。\n * @returns 处理后的文本。\n */\nfunction processTextWithTavernRegex(text) {\n    // 这是一个同步操作\n    return formatAsTavernRegexedString(text, 'ai_output', 'display');\n}\n/**\n * 一个集成的处理函数，先提取主文本，然后应用正则表达式。\n * @param fullText - LLM返回的完整字符串。\n * @returns 经过处理和清洗的最终叙事文本。\n */\nfunction getProcessedStoryText(fullText) {\n    const statusBarMatch = fullText.match(/<statusbar>[\\s\\S]*?<\\/statusbar>/);\n    const statusBarContent = statusBarMatch ? statusBarMatch[0] : '';\n    const textToProcess = fullText.replace(statusBarContent, '');\n    const mainText = extractMainText(textToProcess);\n    const processedText = processTextWithTavernRegex(mainText);\n    return processedText + statusBarContent;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9yZWdleFByb2Nlc3Nvci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFXQTs7OztHQUlHO0FBQ0ksU0FBUyxlQUFlLENBQUMsUUFBZ0I7SUFDOUMsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxrQ0FBa0MsQ0FBQyxDQUFDO0lBQ2pFLE9BQU8sS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQztBQUM1QyxDQUFDO0FBRUQ7Ozs7R0FJRztBQUNJLFNBQVMsMEJBQTBCLENBQUMsSUFBWTtJQUNyRCxXQUFXO0lBQ1gsT0FBTywyQkFBMkIsQ0FBQyxJQUFJLEVBQUUsV0FBVyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQ25FLENBQUM7QUFFRDs7OztHQUlHO0FBQ0ksU0FBUyxxQkFBcUIsQ0FBQyxRQUFnQjtJQUNwRCxNQUFNLGNBQWMsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLGtDQUFrQyxDQUFDLENBQUM7SUFDMUUsTUFBTSxnQkFBZ0IsR0FBRyxjQUFjLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0lBQ2pFLE1BQU0sYUFBYSxHQUFHLFFBQVEsQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFFN0QsTUFBTSxRQUFRLEdBQUcsZUFBZSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQ2hELE1BQU0sYUFBYSxHQUFHLDBCQUEwQixDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBRTNELE9BQU8sYUFBYSxHQUFHLGdCQUFnQixDQUFDO0FBQzFDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlLy4vc3JjL+S7gOS5iOaIkeimgeWcqOeOhOW5u+S/ruS7meS4lueVjOenjeeUsC0w5qW854mI5pysL2NvcmUvcmVnZXhQcm9jZXNzb3IudHM/Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIOWBh+iuviBmb3JtYXRBc1RhdmVyblJlZ2V4ZWRTdHJpbmcg5piv55Sx6YWS6aaG546v5aKD5o+Q5L6b55qE5YWo5bGA5Ye95pWwXHJcbmRlY2xhcmUgZnVuY3Rpb24gZm9ybWF0QXNUYXZlcm5SZWdleGVkU3RyaW5nKFxyXG4gIHRleHQ6IHN0cmluZyxcclxuICBzb3VyY2U6ICd1c2VyX2lucHV0JyB8ICdhaV9vdXRwdXQnIHwgJ3NsYXNoX2NvbW1hbmQnIHwgJ3dvcmxkX2luZm8nIHwgJ3JlYXNvbmluZycsXHJcbiAgZGVzdGluYXRpb246ICdkaXNwbGF5JyB8ICdwcm9tcHQnLFxyXG4gIG9wdGlvbnM/OiB7XHJcbiAgICBkZXB0aD86IG51bWJlcjtcclxuICAgIGNoYXJhY3Rlcl9uYW1lPzogc3RyaW5nO1xyXG4gIH1cclxuKTogc3RyaW5nO1xyXG5cclxuLyoqXHJcbiAqIOS7jkxMTeeahOWujOaVtOWTjeW6lOS4reaPkOWPliBgPE1haW5UZXh0PmAg5qCH562+5YaF55qE5YaF5a6544CCXHJcbiAqIEBwYXJhbSBmdWxsVGV4dCAtIExMTei/lOWbnueahOWujOaVtOWtl+espuS4suOAglxyXG4gKiBAcmV0dXJucyDmj5Dlj5blh7rnmoTkuLvopoHlj5nkuovmlofmnKzvvIzlpoLmnpzmnKrmib7liLDliJnov5Tlm57ljp/lp4vmlofmnKzjgIJcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0TWFpblRleHQoZnVsbFRleHQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgY29uc3QgbWF0Y2ggPSBmdWxsVGV4dC5tYXRjaCgvPE1haW5UZXh0PihbXFxzXFxTXSo/KTxcXC9NYWluVGV4dD4vKTtcclxuICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXS50cmltKCkgOiBmdWxsVGV4dDtcclxufVxyXG5cclxuLyoqXHJcbiAqIOWvuee7meWumueahOaWh+acrOW6lOeUqOmFkummhueahOato+WImeihqOi+vuW8j+WkhOeQhuOAglxyXG4gKiBAcGFyYW0gdGV4dCAtIOmcgOimgeWkhOeQhueahOaWh+acrOOAglxyXG4gKiBAcmV0dXJucyDlpITnkIblkI7nmoTmlofmnKzjgIJcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzVGV4dFdpdGhUYXZlcm5SZWdleCh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gIC8vIOi/meaYr+S4gOS4quWQjOatpeaTjeS9nFxyXG4gIHJldHVybiBmb3JtYXRBc1RhdmVyblJlZ2V4ZWRTdHJpbmcodGV4dCwgJ2FpX291dHB1dCcsICdkaXNwbGF5Jyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDkuIDkuKrpm4bmiJDnmoTlpITnkIblh73mlbDvvIzlhYjmj5Dlj5bkuLvmlofmnKzvvIznhLblkI7lupTnlKjmraPliJnooajovr7lvI/jgIJcclxuICogQHBhcmFtIGZ1bGxUZXh0IC0gTExN6L+U5Zue55qE5a6M5pW05a2X56ym5Liy44CCXHJcbiAqIEByZXR1cm5zIOe7j+i/h+WkhOeQhuWSjOa4hea0l+eahOacgOe7iOWPmeS6i+aWh+acrOOAglxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFByb2Nlc3NlZFN0b3J5VGV4dChmdWxsVGV4dDogc3RyaW5nKTogc3RyaW5nIHtcclxuICBjb25zdCBzdGF0dXNCYXJNYXRjaCA9IGZ1bGxUZXh0Lm1hdGNoKC88c3RhdHVzYmFyPltcXHNcXFNdKj88XFwvc3RhdHVzYmFyPi8pO1xyXG4gIGNvbnN0IHN0YXR1c0JhckNvbnRlbnQgPSBzdGF0dXNCYXJNYXRjaCA/IHN0YXR1c0Jhck1hdGNoWzBdIDogJyc7XHJcbiAgY29uc3QgdGV4dFRvUHJvY2VzcyA9IGZ1bGxUZXh0LnJlcGxhY2Uoc3RhdHVzQmFyQ29udGVudCwgJycpO1xyXG5cclxuICBjb25zdCBtYWluVGV4dCA9IGV4dHJhY3RNYWluVGV4dCh0ZXh0VG9Qcm9jZXNzKTtcclxuICBjb25zdCBwcm9jZXNzZWRUZXh0ID0gcHJvY2Vzc1RleHRXaXRoVGF2ZXJuUmVnZXgobWFpblRleHQpO1xyXG4gIFxyXG4gIHJldHVybiBwcm9jZXNzZWRUZXh0ICsgc3RhdHVzQmFyQ29udGVudDtcclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/core/regexProcessor.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/core/renderer.ts": 
  /*!*************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/core/renderer.ts ***!
  \*************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StoryRenderer: () => (/* binding */ StoryRenderer)\n/* harmony export */ });\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./logger */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts\");\n/* harmony import */ var _parser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parser */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/parser.ts\");\n/* harmony import */ var _systems__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./systems */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/systems.ts\");\n/* harmony import */ var _variables__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./variables */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/variables.ts\");\n/* harmony import */ var _events_adventureCooldownHandler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./events/adventureCooldownHandler */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/adventureCooldownHandler.ts\");\n/* harmony import */ var _state__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./state */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/state.ts\");\n// core/renderer.ts\n\n\n\n\n\n\nclass StoryRenderer {\n    historyManager;\n    pokedexManager;\n    timeManager;\n    eventManager;\n    jsonData = null;\n    rootNodeKey;\n    elements;\n    globalPokedex = null;\n    constructor(historyManager, pokedexManager, timeManager, eventManager) {\n        this.historyManager = historyManager;\n        this.pokedexManager = pokedexManager;\n        this.timeManager = timeManager;\n        this.eventManager = eventManager;\n        this.rootNodeKey = null;\n        this.elements = {\n            storyContent: document.getElementById('story-content'),\n            actionOwner: document.getElementById('action-owner'),\n            optionsList: document.getElementById('options-list'),\n            timeDisplay: document.getElementById('time-display'),\n            locationDisplay: document.getElementById('location-display'),\n            weatherDisplay: document.getElementById('weather-display'),\n            charactersContainer: document.getElementById('characters-container'),\n            relationsContainer: document.getElementById('relations-container'),\n            shelterContainer: document.getElementById('shelter-container'),\n            bestiaryContainer: document.getElementById('bestiary-container'),\n            herbologyContainer: document.getElementById('herbology-container'),\n            booksContainer: document.getElementById('books-container'),\n            inventoryContainer: document.getElementById('inventory-container'),\n            systemContainer: document.getElementById('system-container'),\n        };\n    }\n    getPokedexManager() {\n        return this.pokedexManager;\n    }\n    getHistoryManager() {\n        return this.historyManager;\n    }\n    async init() {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'Renderer', '`init` called. Starting full render process.');\n        this.setLoadingState();\n        try {\n            // 1. 确保核心变量结构存在\n            await this._ensureVariableIntegrity();\n            // 1.5. 初始化状态管理系统\n            // 错误修复：状态初始化不应使用 getVariables()，因为它会获取已加载的存档。\n            // 正确的流程是在 index.ts 中从 setup 模块获取真正的初始状态，\n            // 或在没有存档时使用一个干净的默认对象。\n            // 此处我们先确保状态重算前，initializeState 被正确调用。\n            // 注意：真正的 initialVars 应该从开局模块传入，这里暂时使用当前变量作为临时方案，\n            // 但重算逻辑会使用其内部的 clean state。\n            (0,_variables__WEBPACK_IMPORTED_MODULE_3__.initializeState)(getVariables({ type: 'chat' }));\n            // v4.1 CHAT_FLOW_SPEC 修正: 在状态重算前，预先清理 L3 缓存中的 plugin_storage，确保重算逻辑的稳定性\n            const currentVars = getVariables({ type: 'chat' });\n            const l3History = _.get(currentVars, '世界.初始状态.plugin_storage.llm_history');\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'Renderer', `[L3 Pre-Fix] L3 cache plugin_storage.llm_history now is ${JSON.stringify(l3History, null, 2)}.`);\n            if (l3History && Array.isArray(l3History) && l3History.length > 1) {\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Renderer', `[L3 Pre-Fix] L3 cache plugin_storage.llm_history contains ${l3History.length} entries. Trimming before recalculation.`);\n                // @ts-ignore\n                await updateVariablesWith((vars) => {\n                    // 精确修正 L3 缓存中的 history\n                    _.set(vars, '世界.初始状态.plugin_storage.llm_history', l3History.slice(0, 1));\n                    return vars;\n                }, { type: 'chat' });\n            }\n            // 2. (v2.0) 重算并应用初始状态\n            const messages = this.historyManager.getMessagesForPrompt();\n            const lastMessage = _.findLast(messages, (m) => m.role === 'assistant');\n            if (lastMessage && lastMessage.id) {\n                (0,_state__WEBPACK_IMPORTED_MODULE_5__.setIsRecalculatingState)(true);\n                await (0,_variables__WEBPACK_IMPORTED_MODULE_3__.recalculateAndApplyState)(this.historyManager, lastMessage.id, this.eventManager);\n                (0,_state__WEBPACK_IMPORTED_MODULE_5__.setIsRecalculatingState)(false);\n                // 3. 提取最新消息用于UI渲染\n                const rawJsonContent = (0,_parser__WEBPACK_IMPORTED_MODULE_1__.extractJsonFromStatusBar)(lastMessage.content);\n                if (rawJsonContent) {\n                    try {\n                        this.jsonData = this._transformJsonData(JSON.parse(rawJsonContent));\n                        this.findRootNodeKey();\n                    }\n                    catch (e) {\n                        this.jsonData = null;\n                    }\n                }\n                this.renderAll();\n            }\n            else {\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Renderer', 'History is empty. Rendering from default variables.');\n                this.jsonData = null;\n                this.renderAll();\n            }\n            // 在所有状态恢复和渲染完成后，手动触发一次冷却检查\n            (0,_events_adventureCooldownHandler__WEBPACK_IMPORTED_MODULE_4__.checkAdventureCooldown)();\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'Renderer', 'Initialization and rendering completed successfully.');\n        }\n        catch (error) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'Renderer', 'An unexpected error occurred during `init`.', error);\n            this.handleError(error);\n        }\n    }\n    async _ensureVariableIntegrity() {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'Renderer', 'Running variable integrity check...');\n        const currentVars = getVariables({ type: 'chat' }) || {};\n        const updates = {};\n        const defaultCharacterName = '萧栖雪';\n        // 确保核心命名空间存在\n        if (!_.has(currentVars, '角色'))\n            updates['角色'] = {};\n        if (!_.has(currentVars, '世界'))\n            updates['世界'] = {};\n        // 确保主控角色名和角色对象存在\n        const mainCharName = _.get(currentVars, '角色.主控角色名', defaultCharacterName);\n        if (!_.has(currentVars, `角色.${mainCharName}`)) {\n            // 同时初始化物品数组和关系对象\n            _.set(updates, `角色.${mainCharName}`, { '物品': [], '关系': {} });\n        }\n        else if (!_.has(currentVars, `角色.${mainCharName}.关系`)) {\n            // 如果角色已存在，检查是否有关心字段\n            _.set(updates, `角色.${mainCharName}.关系`, {});\n        }\n        if (!_.has(currentVars, '角色.主控角色名')) {\n            updates['角色.主控角色名'] = mainCharName;\n        }\n        // 确保世界子对象存在\n        if (!_.has(currentVars, '世界.图鉴')) {\n            _.set(updates, '世界.图鉴', { '物品': [], '妖兽': [], '植物': [], '书籍': [] });\n        }\n        if (!_.has(currentVars, '世界.庇护所')) {\n            _.set(updates, '世界.庇护所', { '状态': '尚未建立' });\n        }\n        // v3.9: 确保奇遇模块的状态存在，以兼容旧存档\n        if (!_.has(currentVars, '世界.奇遇')) {\n            // 修正：直接在 updates.世界 对象下创建属性\n            if (!updates['世界']) {\n                updates['世界'] = {};\n            }\n            updates['世界']['奇遇'] = {\n                '冷却至天数': 15, // 允许在游戏早期发生第一次奇遇\n                '上次奇遇日期': { '年': 0, '月': 0, '日': 0 }, // 使用一个无效日期作为初始值\n                '历史奇遇记录': [],\n            };\n        }\n        if (!_.isEmpty(updates)) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Renderer', 'One or more core variables were missing. Initializing them.', _.cloneDeep(updates));\n            // 更新当前聊天变量\n            await insertOrAssignVariables(updates, { type: 'chat' });\n            // 关键修复：同时更新创世快照，防止状态重算时丢失数据\n            const genesisSnapshot = _.get(currentVars, '世界.初始状态');\n            if (genesisSnapshot) {\n                await updateVariablesWith((vars) => {\n                    // 修正：使用 _.merge 来正确处理嵌套对象的更新\n                    _.merge(vars.世界.初始状态, updates);\n                    return vars;\n                }, { type: 'chat' });\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'Renderer', 'Genesis snapshot was also updated to ensure consistency.');\n            }\n            toastr.warning('部分核心游戏变量缺失，已自动初始化。');\n        }\n        else {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'Renderer', 'Variable integrity check passed. No missing core variables.');\n        }\n    }\n    async _findLatestValidStateAndMarkHistory() {\n        const messages = this.historyManager.getMessagesForPrompt();\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'Renderer', `Searching for latest valid state in ${messages.length} active messages.`);\n        // Iterate backwards through the active history to find the latest valid assistant message\n        for (let i = messages.length - 1; i >= 0; i--) {\n            const entry = messages[i];\n            if (entry.role === 'assistant') {\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'Renderer', `Checking message with ID ${entry.id}...`);\n                const potentialJson = (0,_parser__WEBPACK_IMPORTED_MODULE_1__.extractJsonFromStatusBar)(entry.content);\n                if (potentialJson) {\n                    try {\n                        JSON.parse(potentialJson); // Validate JSON\n                        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'Renderer', `Found valid JSON in message ${entry.id}. Returning.`);\n                        toastr.info(`已从最新有效回应成功加载情节。`);\n                        // In v2.0, we don't mark validity here. We just find and use.\n                        return { rawJsonContent: potentialJson, storyHtmlContent: entry.content, messageId: entry.id };\n                    }\n                    catch (error) {\n                        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Renderer', `JSON parsing failed for message ${entry.id}.`, error);\n                        // Continue to the previous message\n                    }\n                }\n                else {\n                    (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Renderer', `No status bar found in message ${entry.id}.`);\n                }\n            }\n        }\n        // If we reach here, no valid assistant message was found.\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'Renderer', 'No message with valid JSON status bar found in the active history.');\n        return { rawJsonContent: null, storyHtmlContent: null, messageId: null };\n    }\n    _extractAllEventsFromHistory() {\n        // Note: This now only extracts events from the ACTIVE timeline.\n        // A more comprehensive version would need to traverse all branches and turns,\n        // which is a task for a future enhancement if needed.\n        const messages = this.historyManager.getMessagesForPrompt();\n        const allEvents = [];\n        messages.forEach((message) => {\n            if (message.role === 'assistant' && message.id) {\n                const jsonString = (0,_parser__WEBPACK_IMPORTED_MODULE_1__.extractJsonFromStatusBar)(message.content);\n                if (jsonString) {\n                    try {\n                        const parsedJson = JSON.parse(jsonString);\n                        const eventList = parsedJson['事件列表'] || [];\n                        if (Array.isArray(eventList)) {\n                            const eventsWithSource = eventList.map((event) => ({ ...event, sourceMessageId: message.id }));\n                            allEvents.push(...eventsWithSource);\n                        }\n                    }\n                    catch (e) {\n                        // Ignore parsing errors for this initial scan\n                    }\n                }\n            }\n        });\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'Renderer', `Extracted ${allEvents.length} events from active history timeline.`);\n        return allEvents;\n    }\n    _transformJsonData(jsonData) {\n        if (!jsonData)\n            return jsonData;\n        const rootNodeKey = Object.keys(jsonData).find(key => key.includes('状态总览') || key.includes('角色状态总览')) || Object.keys(jsonData)[0];\n        if (!rootNodeKey || !jsonData[rootNodeKey])\n            return jsonData;\n        const rootData = jsonData[rootNodeKey];\n        const charListKey = this.findFieldByKeywords(rootData, ['角色', '列表', '人物']);\n        if (!charListKey || !Array.isArray(rootData[charListKey]))\n            return jsonData;\n        rootData[charListKey].forEach((charDataWrapper) => {\n            const charDataKey = Object.keys(charDataWrapper).find(k => k.includes('角色'));\n            if (charDataKey) {\n                const charData = charDataWrapper[charDataKey];\n                const coreItemsKey = this.findFieldByKeywords(charData, ['核心物品']);\n                if (coreItemsKey && charData[coreItemsKey]) {\n                    // Use a generic '物品' key, as this is what the inventory renderer expects.\n                    // This prevents writing a separate '核心物品' variable.\n                    if (!charData['物品']) {\n                        charData['物品'] = charData[coreItemsKey];\n                    }\n                    delete charData[coreItemsKey];\n                }\n            }\n        });\n        return jsonData;\n    }\n    setLoadingState() {\n        if (this.elements.storyContent)\n            this.elements.storyContent.innerHTML = this.createSpinner();\n        if (this.elements.charactersContainer)\n            this.elements.charactersContainer.innerHTML = this.createSpinner();\n        if (this.elements.optionsList)\n            this.elements.optionsList.innerHTML = `<li>${this.createSpinner()}</li>`;\n    }\n    createSpinner() {\n        return `<div class=\"flex justify-center items-center p-4\"><div class=\"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-accent\"></div></div>`;\n    }\n    findRootNodeKey() {\n        const keys = Object.keys(this.jsonData);\n        this.rootNodeKey = keys.find(key => key.includes('状态总览') || key.includes('角色状态总览')) || keys[0];\n    }\n    findFieldByKeywords(data, keywords) {\n        if (!data || typeof data !== 'object')\n            return null;\n        const fields = Object.keys(data);\n        for (const field of fields) {\n            for (const keyword of keywords) {\n                if (field.toLowerCase().includes(keyword.toLowerCase()))\n                    return field;\n            }\n        }\n        return null;\n    }\n    /**\n     * 使用广度优先搜索（BFS）在嵌套对象中查找第一个包含与关键字匹配的键的对象。\n     * @param data 要搜索的顶层对象。\n     * @param keywords 一个包含要匹配的关键字的字符串数组。\n     * @returns 返回包含匹配键的第一个对象，如果未找到则返回 null。\n     */\n    findObjectContainingKey(data, keywords) {\n        if (!data || typeof data !== 'object') {\n            return null;\n        }\n        const queue = [data];\n        while (queue.length > 0) {\n            const current = queue.shift();\n            if (!current || typeof current !== 'object')\n                continue;\n            const keys = Object.keys(current);\n            for (const key of keys) {\n                for (const keyword of keywords) {\n                    // 使用 includes 进行部分匹配，以兼容 emoji 和修饰词\n                    if (key.includes(keyword)) {\n                        return current; // 找到了包含目标键的对象\n                    }\n                }\n            }\n            // 将子对象加入队列以继续搜索\n            for (const key of keys) {\n                if (typeof current[key] === 'object' && current[key] !== null) {\n                    queue.push(current[key]);\n                }\n            }\n        }\n        return null; // 搜索完整个对象树后仍未找到\n    }\n    _applySyntaxHighlighting(html) {\n        if (!html)\n            return '';\n        // let t = html;\n        // // Order matters: apply more specific ones first.\n        // // 【...】 for special items\n        // t = t.replace(/【([^<]+?)】/g, '<span class=\"text-highlight-special\">【$1】</span>');\n        // // 「...」 for quotes\n        // t = t.replace(/「([^<]+?)」/g, '<span class=\"text-highlight-quote\">「$1」</span>');\n        // // “...” for narration\n        // t = t.replace(/“([^<]+?)”/g, '<span class=\"text-highlight-narration\">“$1”</span>');\n        // // (...) for thoughts\n        // t = t.replace(/（([^<]+?)）/g, '<span class=\"text-highlight-thought\">（$1）</span>');\n        // // **...** for emphasis (from markdown)\n        // t = t.replace(/<strong>([^<]+?)<\\/strong>/g, '<strong class=\"text-highlight-emphasis\">$1</strong>');\n        return html;\n    }\n    renderSidePanels(messageData) {\n        // 始终从聊天变量（单一事实来源）渲染状态\n        this.renderWorldInfoFromChatVars();\n        // this.renderCharactersFromChatVars(); // Migrated to Vue\n        // this.renderRelationsFromChatVars(); // Migrated to Vue\n        // this.renderShelterFromChatVars(); // Migrated to Vue\n        this.renderInventoryFromChatVars(); // This one was already correct\n        this.renderSystemFromChatVars();\n        // 行动选项是临时的，必须从当次消息中获取\n        this.renderActionOptions(messageData);\n    }\n    renderAll() {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'Renderer', '[SWIPE_RENDER] renderAll called. Reading final state from chat variables for rendering.');\n        const finalVars = getVariables({ type: 'chat' });\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'Renderer', '[SWIPE_RENDER] State before rendering:', _.cloneDeep(finalVars));\n        // v2.2 重构: renderAll 不再接受参数，而是自己从单一事实来源获取所有需要的数据。\n        const messages = this.historyManager.getMessagesForPrompt();\n        const lastMessage = _.last(messages);\n        let storyHtmlContent = null;\n        this.jsonData = null; // 重置状态\n        if (lastMessage) {\n            storyHtmlContent = lastMessage.content;\n            const rawJsonContent = (0,_parser__WEBPACK_IMPORTED_MODULE_1__.extractJsonFromStatusBar)(lastMessage.content);\n            if (rawJsonContent) {\n                try {\n                    this.jsonData = this._transformJsonData(JSON.parse(rawJsonContent));\n                    this.findRootNodeKey();\n                }\n                catch (e) {\n                    (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Renderer', 'Failed to parse JSON in renderAll for last message.', e);\n                    this.jsonData = null;\n                }\n            }\n        }\n        const rootData = this.jsonData && this.rootNodeKey ? this.jsonData[this.rootNodeKey] : null;\n        this.renderStory(rootData, storyHtmlContent);\n        this.renderSidePanels(this.jsonData);\n    }\n    renderStory(data, storyHtmlContent) {\n        if (!this.elements.storyContent)\n            return;\n        if (storyHtmlContent) {\n            const storyOnlyHtml = storyHtmlContent.replace(/<statusbar>[\\s\\S]*?<\\/statusbar>/i, '');\n            if (storyOnlyHtml) {\n                const rawHtml = marked.parse(storyOnlyHtml);\n                this.elements.storyContent.innerHTML = this._applySyntaxHighlighting(rawHtml);\n            }\n        }\n        else if (data) {\n            const eventKey = this.findFieldByKeywords(data, ['最新事件', '情节', '描述']);\n            if (eventKey && data[eventKey]) {\n                const rawHtml = marked.parse(data[eventKey]);\n                this.elements.storyContent.innerHTML = this._applySyntaxHighlighting(rawHtml);\n            }\n            else {\n                this.elements.storyContent.innerHTML = `<p class=\"text-secondary\">状态已更新，请查看右侧面板了解详情。</p>`;\n            }\n        }\n        // If both are null, the message from init's error handling will be preserved.\n    }\n    renderWorldInfoFromChatVars() {\n        const variables = getVariables({ type: 'chat' });\n        const timeString = _.get(variables, '世界.时间', '未知');\n        const location = _.get(variables, '世界.地点', '未知');\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'Renderer', 'Rendering World Info:', { time: timeString, location });\n        if (this.elements.timeDisplay) {\n            this.elements.timeDisplay.textContent = this.formatNodeName(timeString, true);\n        }\n        if (this.elements.locationDisplay) {\n            this.elements.locationDisplay.textContent = this.formatNodeName(location, true);\n        }\n        this.renderWeatherFromChatVars();\n    }\n    renderWeatherFromChatVars() {\n        if (!this.elements.weatherDisplay)\n            return;\n        const variables = getVariables({ type: 'chat' });\n        const weatherState = _.get(variables, '世界.天气', {});\n        const weather = _.get(weatherState, '当前天气', '晴朗');\n        const season = _.get(weatherState, '季节', '');\n        const solarTerm = _.get(weatherState, '节气', '');\n        const description = _.get(weatherState, '天气描述', '天气状况未知');\n        const influences = _.get(weatherState, '天气影响', []);\n        const weatherIconMap = {\n            '晴朗': '☀️', '微雨': '💧', '多云': '☁️', '烈日': '🔥',\n            '雷阵雨': '⛈️', '闷热': '🥵', '秋高气爽': '🍂', '阴天': '🌥️',\n            '小雨': '🌦️', '小雪': '❄️', '阴冷': '🥶', '晴暖': '🌤️',\n            '灵气雨': '🌌',\n        };\n        const influenceIconMap = {\n            '祈雨': '🌧️', '干旱': '🏜️', '强风': '💨', '灵气浓郁': '✨',\n        };\n        const icon = weatherIconMap[weather] || '❓';\n        let displayText = `<span title=\"${description}\">${icon} ${weather}</span>`;\n        if (season && solarTerm) {\n            displayText += ` <span class=\"text-secondary text-xs\">(${season}·${solarTerm})</span>`;\n        }\n        // 渲染天气影响\n        if (influences.length > 0) {\n            const influencesHtml = influences.map((inf) => {\n                const infIcon = influenceIconMap[inf.类型] || '🌀';\n                const tooltip = `${inf.类型} (来源: ${inf.来源})`;\n                return `<span class=\"ml-2\" title=\"${tooltip}\">${infIcon}</span>`;\n            }).join('');\n            displayText += influencesHtml;\n        }\n        this.elements.weatherDisplay.innerHTML = displayText;\n    }\n    renderCharactersFromChatVars() {\n        if (!this.elements.charactersContainer)\n            return;\n        this.elements.charactersContainer.innerHTML = '';\n        const variables = getVariables({ type: 'chat' });\n        const characters = _.get(variables, '角色', {});\n        // Filter out non-character properties like '主控角色名'\n        const characterList = Object.values(characters).filter((char) => _.isObject(char) && char.姓名);\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'Renderer', 'Rendering Characters. Found characters:', _.cloneDeep(characterList));\n        if (characterList.length > 0) {\n            characterList.forEach((charData) => {\n                const card = this.createCharacterCard({ [`👤 角色: ${charData.姓名}`]: charData });\n                if (card)\n                    this.elements.charactersContainer.appendChild(card);\n            });\n        }\n        else {\n            this.elements.charactersContainer.innerHTML = this.createEmptyState('没有角色数据');\n        }\n    }\n    renderRelationsFromChatVars() {\n        if (!this.elements.relationsContainer)\n            return;\n        this.elements.relationsContainer.innerHTML = '';\n        const variables = getVariables({ type: 'chat' });\n        const mainCharName = _.get(variables, '角色.主控角色名');\n        if (!mainCharName) {\n            this.elements.relationsContainer.innerHTML = this.createEmptyState('无法确定主控角色');\n            return;\n        }\n        const relations = _.get(variables, `角色.${mainCharName}.关系`, {});\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'Renderer', 'Rendering Relations data:', _.cloneDeep(relations));\n        const relationEntries = Object.entries(relations);\n        if (relationEntries.length > 0) {\n            const card = document.createElement('div');\n            card.className = 'bg-secondary/50 rounded-xl border border-dim p-4 shadow-sm';\n            const h3 = document.createElement('h3');\n            h3.className = 'font-bold text-lg mb-3 pb-2 border-b border-dim';\n            h3.innerHTML = `<i class=\"fas fa-users-cog text-accent mr-2\"></i> 人际关系`;\n            card.appendChild(h3);\n            const list = document.createElement('ul');\n            list.className = 'space-y-2 text-sm';\n            card.appendChild(list);\n            relationEntries.forEach(([name, favor]) => {\n                const li = document.createElement('li');\n                li.className = 'flex justify-between items-center';\n                const favorValue = parseInt(favor, 10) || 0;\n                let favorColor = 'text-gray-400';\n                if (favorValue > 50)\n                    favorColor = 'text-green-400';\n                else if (favorValue > 20)\n                    favorColor = 'text-blue-400';\n                else if (favorValue < 0)\n                    favorColor = 'text-red-400';\n                li.innerHTML = `\n                <span>${name}</span>\n                <span class=\"font-bold ${favorColor}\">${favorValue}</span>\n            `;\n                list.appendChild(li);\n            });\n            this.elements.relationsContainer.appendChild(card);\n        }\n        else {\n            this.elements.relationsContainer.innerHTML = this.createEmptyState('暂无角色关系');\n        }\n    }\n    renderSystemFromChatVars() {\n        if (this.elements.systemContainer) {\n            const variables = getVariables({ type: 'chat' });\n            // v2.0: Pass the view controller object to the renderSystem dispatcher.\n            const viewControllerData = _.get(variables, '世界.当前激活系统', { 名称: '无' });\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'Renderer', '[renderSystem] Rendering system with view controller:', _.cloneDeep(viewControllerData));\n            (0,_systems__WEBPACK_IMPORTED_MODULE_2__.renderSystem)(viewControllerData, this.elements.systemContainer, this.pokedexManager);\n        }\n    }\n    renderShelterFromChatVars() {\n        if (!this.elements.shelterContainer)\n            return;\n        this.elements.shelterContainer.innerHTML = '';\n        const variables = getVariables({ type: 'chat' });\n        const shelterData = _.get(variables, '世界.庇护所', null);\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'Renderer', 'Rendering Shelter data:', _.cloneDeep(shelterData));\n        if (shelterData && _.isObject(shelterData) && !_.isEmpty(shelterData)) {\n            const card = this.createShelterCard(shelterData);\n            if (card)\n                this.elements.shelterContainer.appendChild(card);\n        }\n        else {\n            this.elements.shelterContainer.innerHTML = this.createEmptyState('暂无庇护所信息');\n        }\n    }\n    createShelterCard(shelterData) {\n        const card = document.createElement('div');\n        card.className = 'bg-secondary/50 rounded-xl border border-dim p-4 shadow-sm card-hover theme-transition';\n        const h3 = document.createElement('h3');\n        h3.className = 'font-bold text-lg mb-3 pb-2 border-b border-dim theme-transition';\n        h3.innerHTML = `<i class=\"fas fa-home text-accent mr-2\"></i> ${shelterData.名称 || '庇护所'}`;\n        card.appendChild(h3);\n        const list = document.createElement('ul');\n        list.className = 'space-y-3 text-sm';\n        card.appendChild(list);\n        // 渲染综合属性\n        list.appendChild(this.createAttributeItem('规模', shelterData.规模));\n        list.appendChild(this.createAttributeItem('状态', shelterData.状态));\n        list.appendChild(this.createAttributeItem('舒适度', shelterData.舒适度));\n        list.appendChild(this.createAttributeItem('防御力', shelterData.防御力));\n        // 渲染组件\n        if (shelterData.组件 && !_.isEmpty(shelterData.组件)) {\n            const componentsTitle = document.createElement('h4');\n            componentsTitle.className = 'font-semibold text-md mt-4 mb-2 pb-1 border-b border-dim/50';\n            componentsTitle.innerHTML = `<i class=\"fas fa-cogs text-accent mr-2\"></i> 组件详情`;\n            list.appendChild(componentsTitle);\n            Object.entries(shelterData.组件).forEach(([name, component]) => {\n                if (component.状态 === '未建造' || component.规模 === '未开垦' || component.规模 === '未布置')\n                    return;\n                const componentItem = document.createElement('li');\n                componentItem.className = 'p-3 bg-main/50 rounded-lg';\n                let componentHtml = `<div class=\"font-medium text-accent/90\">${name} <span class=\"text-xs text-secondary\">(${component.规模})</span></div>`;\n                // Details section\n                let detailsHtml = '<div class=\"mt-2 space-y-1 text-xs text-secondary\">';\n                if (component.材料) {\n                    detailsHtml += `<div><i class=\"fas fa-gem fa-fw mr-1 text-gray-400\"></i> 材料: <span class=\"font-semibold text-primary/80\">${component.材料}</span></div>`;\n                }\n                if (component.防御加成) {\n                    detailsHtml += `<div><i class=\"fas fa-shield-alt fa-fw mr-1 text-blue-400\"></i> 防御加成: <span class=\"font-semibold text-primary/80\">${component.防御加成}</span></div>`;\n                }\n                if (component.防雨加成) {\n                    detailsHtml += `<div><i class=\"fas fa-cloud-showers-heavy fa-fw mr-1 text-cyan-400\"></i> 防雨加成: <span class=\"font-semibold text-primary/80\">${component.防雨加成}</span></div>`;\n                }\n                if (component.产出效率) {\n                    detailsHtml += `<div><i class=\"fas fa-leaf fa-fw mr-1 text-green-400\"></i> 产出效率: <span class=\"font-semibold text-primary/80\">${component.产出效率}</span></div>`;\n                }\n                detailsHtml += '</div>';\n                componentHtml += detailsHtml;\n                if (component.耐久度) {\n                    const durabilityValue = parseFloat(String(component.耐久度).replace('%', '')) || 0;\n                    let bgColor = 'bg-green-500';\n                    if (durabilityValue < 30)\n                        bgColor = 'bg-red-500';\n                    else if (durabilityValue < 60)\n                        bgColor = 'bg-yellow-500';\n                    componentHtml += `\n            <div class=\"mt-2\">\n              <div class=\"flex justify-between items-center mb-1 text-xs font-mono text-secondary\">\n                <span>耐久度: ${component.状态 || ''}</span>\n                <span>${durabilityValue.toFixed(0)}%</span>\n              </div>\n              <div class=\"progress-bar-bg w-full rounded-full h-1.5\">\n                <div class=\"progress-bar-fg h-1.5 rounded-full ${bgColor}\" style=\"width: ${durabilityValue}%\"></div>\n              </div>\n            </div>\n          `;\n                }\n                componentItem.innerHTML = componentHtml;\n                list.appendChild(componentItem);\n            });\n        }\n        return card;\n    }\n    renderInventoryFromChatVars() {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'Renderer', '`renderInventoryFromChatVars` called.');\n        const variables = getVariables({ type: 'chat' });\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'Renderer', 'All Chat Variables for inventory rendering:', _.cloneDeep(variables));\n        let inventory = [];\n        const mainCharacterName = _.get(variables, '角色.主控角色名');\n        if (mainCharacterName) {\n            const inventoryKey = `角色.${mainCharacterName}.物品`;\n            inventory = _.get(variables, inventoryKey, []);\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'Renderer', `Inventory data retrieved from key: \"${inventoryKey}\"`, _.cloneDeep(inventory));\n        }\n        else {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Renderer', 'Could not find \"角色.主控角色名\" in chat variables. Checking for fallback \"inventory\" key.');\n            inventory = _.get(variables, 'inventory', []);\n            if (inventory.length > 0) {\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'Renderer', 'Found inventory data under a generic \"inventory\" key:', _.cloneDeep(inventory));\n            }\n            else {\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'Renderer', 'No inventory data found in fallback locations either.');\n            }\n        }\n        const pokedexData = _.get(variables, '世界.图鉴', {});\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'Renderer', 'Pokedex data for rendering:', _.cloneDeep(pokedexData));\n        if (inventory.length === 0) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Renderer', 'Inventory is empty. The UI will show an empty state.');\n        }\n        if (!pokedexData || (_.isEmpty(pokedexData['妖兽']) && _.isEmpty(pokedexData['植物']))) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Renderer', 'Pokedex data is empty. The UI will show an empty state.');\n        }\n        // v3.8: Merge inventory with Pokedex data for richer details\n        const pokedexItems = _.get(pokedexData, '物品', []);\n        const pokedexItemsMap = _.keyBy(pokedexItems, '名称');\n        const mergedInventory = inventory.map(invItem => {\n            const pokedexItem = pokedexItemsMap[invItem.名称];\n            if (pokedexItem) {\n                // Pokedex entry exists. Combine data.\n                // Prioritize Pokedex for base info, but inventory for dynamic values.\n                return {\n                    ...pokedexItem, // Start with Pokedex data (desc, etc.)\n                    ...invItem, // Overwrite with inventory data (ensures quantity and value are from the player's item)\n                    // Explicitly fall back to pokedex value if inventory item has none.\n                    价值: invItem.价值 || pokedexItem.价值,\n                };\n            }\n            else {\n                // No Pokedex entry, use inventory data as is.\n                return invItem;\n            }\n        });\n        const renderListCard = (container, data, title, emptyText) => {\n            if (container) {\n                container.innerHTML = '';\n                // 统一创建卡片，即使数据为空\n                const card = this.createCharacterCard({ [title]: data });\n                if (card) {\n                    // 如果数据为空，则在卡片内部的列表中插入“空状态”消息\n                    if (!data || data.length === 0) {\n                        const list = card.querySelector('ul');\n                        if (list) {\n                            list.innerHTML = this.createEmptyState(emptyText);\n                        }\n                    }\n                    container.appendChild(card);\n                }\n            }\n        };\n        const bestiaryData = pokedexData['妖兽'] || [];\n        const herbologyData = pokedexData['植物'] || [];\n        const booksData = pokedexData['书籍'] || [];\n        // renderListCard(this.elements.bestiaryContainer, bestiaryData, `已发现的妖兽 (${bestiaryData?.length || 0})`, '尚未发现任何妖兽');\n        // renderListCard(this.elements.herbologyContainer, herbologyData, `已发现的植物 (${herbologyData?.length || 0})`, '尚未发现任何植物');\n        // renderListCard(this.elements.booksContainer, booksData, `已发现的书籍 (${booksData?.length || 0})`, '尚未发现任何书籍');\n        renderListCard(this.elements.inventoryContainer, mergedInventory, '我的物品', '你的行囊空空如也');\n    }\n    createCharacterCard(charData) {\n        const titleKey = Object.keys(charData)[0];\n        const attributes = charData[titleKey];\n        if (!titleKey || !attributes)\n            return null;\n        const card = document.createElement('div');\n        card.className = 'bg-secondary/50 rounded-xl border border-dim p-4 shadow-sm card-hover theme-transition';\n        const h3 = document.createElement('h3');\n        h3.className = 'font-bold text-lg mb-3 pb-2 border-b border-dim theme-transition';\n        h3.innerHTML = `${this.extractEmojis(titleKey)[0] || ''} ${this.formatNodeName(titleKey, true)}`;\n        card.appendChild(h3);\n        const list = document.createElement('ul');\n        list.className = 'space-y-2 text-sm';\n        card.appendChild(list);\n        if (typeof attributes === 'object' && attributes !== null && !Array.isArray(attributes)) {\n            Object.entries(attributes).forEach(([key, value]) => {\n                // 根据用户要求，在角色卡片中不再显示物品列表\n                if (key === '物品')\n                    return;\n                // 如果“关系”数组为空，则不渲染该字段\n                if (key === '关系' && Array.isArray(value) && value.length === 0)\n                    return;\n                list.appendChild(this.createAttributeItem(key, value));\n            });\n        }\n        else if (Array.isArray(attributes)) {\n            attributes.forEach(entry => {\n                const entryName = entry['名称'] || '未知条目';\n                const li = document.createElement('li');\n                li.className = 'clickable-item';\n                li.dataset.details = JSON.stringify(entry);\n                li.innerHTML = `• ${this.formatNodeName(entryName)}`;\n                list.appendChild(li);\n            });\n        }\n        return card;\n    }\n    createAttributeItem(key, value) {\n        const item = document.createElement('li');\n        const emojiMap = {\n            '种族': '🧬', '职业': '💼', '状态': '🎭', '等级': '📈',\n            '口渴度': '💧', '饱腹度': '🍖', '体力': '⚡️', '灵力': '✨',\n        };\n        const cleanKey = this.formatNodeName(key, true);\n        const emoji = emojiMap[cleanKey] || this.extractEmojis(key)[0] || '🔸';\n        const keyHtml = `<span class=\"font-medium text-accent\">${emoji} ${cleanKey}:</span>`;\n        const isItems = key.includes('物品');\n        if (typeof value === 'object' && value !== null && !Array.isArray(value) && 'value' in value && 'max' in value && typeof value.value === 'number' && typeof value.max === 'number') {\n            item.innerHTML = keyHtml;\n            const percentage = (value.value / value.max) * 100;\n            const container = document.createElement('div');\n            container.className = 'flex items-center space-x-2 mt-1';\n            const progressBarWrapper = document.createElement('div');\n            progressBarWrapper.className = 'progress-bar-bg w-full rounded-full h-2.5';\n            const progressBar = document.createElement('div');\n            progressBar.className = 'progress-bar-fg h-2.5 rounded-full';\n            progressBar.style.width = `${percentage}%`;\n            if (percentage < 25)\n                progressBar.classList.add('bg-red-500');\n            else if (percentage < 50)\n                progressBar.classList.add('bg-yellow-500');\n            else\n                progressBar.classList.add('bg-green-500');\n            progressBarWrapper.appendChild(progressBar);\n            const progressText = document.createElement('span');\n            progressText.className = 'text-xs text-secondary font-mono';\n            progressText.textContent = `${value.value} / ${value.max}`;\n            container.appendChild(progressBarWrapper);\n            container.appendChild(progressText);\n            item.appendChild(container);\n        }\n        else if (key.includes('价值') && typeof value === 'object' && value !== null && '基础价值' in value) {\n            item.innerHTML = `${keyHtml} ${value.基础价值}`;\n        }\n        else if (typeof value === 'object' && value !== null) {\n            item.innerHTML = keyHtml;\n            const subList = document.createElement('ul');\n            subList.className = 'list-disc list-inside ml-4 mt-1 space-y-1';\n            if (Array.isArray(value)) {\n                value.forEach(subValue => {\n                    const subItem = document.createElement('li');\n                    let text;\n                    if (isItems && typeof subValue === 'string') {\n                        // For simple string items, just display them without click functionality.\n                        // The enriched object format is required for details.\n                        text = this.formatNodeName(String(subValue));\n                    }\n                    else if (typeof subValue === 'object' && subValue !== null) {\n                        // If the item is an object, it's assumed to contain all necessary details\n                        // from the pokedex, merged by syncVariables.\n                        subItem.classList.add('clickable-item');\n                        subItem.dataset.details = JSON.stringify(subValue);\n                        const nameKey = Object.keys(subValue).find(k => k.includes('名称') || k.includes('姓名'));\n                        const amount = subValue['数量'] ? ` x${subValue['数量']}` : '';\n                        const name = nameKey ? this.formatNodeName(String(subValue[nameKey])) : '点击查看详情';\n                        text = `【${name}】${amount}`;\n                    }\n                    else {\n                        text = this.formatNodeName(String(subValue));\n                    }\n                    subItem.innerHTML = `${this.extractEmojis(text)[0] || '•'} ${this.formatNodeName(text, true)}`;\n                    subList.appendChild(subItem);\n                });\n            }\n            else {\n                Object.entries(value).forEach(([subKey, subValue]) => {\n                    const subItem = this.createAttributeItem(subKey, subValue);\n                    subList.appendChild(subItem);\n                });\n            }\n            item.appendChild(subList);\n        }\n        else {\n            item.innerHTML = `${keyHtml} ${this.formatNodeName(String(value))}`;\n        }\n        return item;\n    }\n    renderActionOptions(data) {\n        if (!this.elements.optionsList)\n            return;\n        this.elements.optionsList.innerHTML = '';\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'Renderer', '[renderActionOptions] Received data:', _.cloneDeep(data));\n        // v3.6: 使用广度优先搜索来查找包含“行动选项”的对象，以处理任意嵌套层级。\n        const actionOptionsContainer = data ? this.findObjectContainingKey(data, ['行动选项']) : null;\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'Renderer', '[renderActionOptions] Found actionOptionsContainer:', _.cloneDeep(actionOptionsContainer));\n        if (!actionOptionsContainer) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Renderer', '[renderActionOptions] No container with action options found. Rendering empty state.');\n            this.elements.optionsList.innerHTML = this.createEmptyState('没有可用行动');\n            if (this.elements.actionOwner)\n                this.elements.actionOwner.textContent = '你';\n            return;\n        }\n        // 现在我们有了正确的容器，从中找到确切的键（可能带emoji）\n        const actionOptionsKey = this.findFieldByKeywords(actionOptionsContainer, ['行动选项']);\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'Renderer', `[renderActionOptions] Found actionOptionsKey: \"${actionOptionsKey}\"`);\n        const actionData = actionOptionsKey ? actionOptionsContainer[actionOptionsKey] : null;\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'Renderer', '[renderActionOptions] actionData:', _.cloneDeep(actionData));\n        if (!actionData) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Renderer', '[renderActionOptions] Could not extract actionData. Rendering empty state.');\n            this.elements.optionsList.innerHTML = this.createEmptyState('没有可用行动');\n            if (this.elements.actionOwner)\n                this.elements.actionOwner.textContent = '你';\n            return;\n        }\n        const optionsKey = this.findFieldByKeywords(actionData, ['可选行动']);\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'Renderer', `[renderActionOptions] Found optionsKey: \"${optionsKey}\"`);\n        const options = (optionsKey && actionData && Array.isArray(actionData[optionsKey])) ? actionData[optionsKey] : [];\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'Renderer', '[renderActionOptions] Final options array:', _.cloneDeep(options));\n        // 行动人始终从单一事实来源（聊天变量）获取\n        if (this.elements.actionOwner) {\n            const variables = getVariables({ type: 'chat' });\n            const mainCharacterName = _.get(variables, '角色.主控角色名', '你');\n            this.elements.actionOwner.textContent = mainCharacterName;\n        }\n        if (options.length > 0) {\n            options.forEach((optionText, index) => {\n                const item = document.createElement('li');\n                item.className = 'pl-2 py-1 border-l-2 border-dim ml-1 hover:border-indigo-400/70 transition-colors theme-transition';\n                const cleanText = this.formatNodeName(optionText, true); // This removes prefix and emojis\n                const emoji = this.extractEmojis(optionText)[0] || '▶️';\n                item.innerHTML = `${emoji} ${cleanText}`;\n                item.dataset.optionIndex = index.toString();\n                item.dataset.optionText = cleanText; // Store clean text\n                this.elements.optionsList.appendChild(item);\n            });\n        }\n        const customActionItem = document.createElement('li');\n        customActionItem.className = 'pl-2 py-1 border-l-2 border-dim ml-1 hover:border-indigo-400/70 transition-colors theme-transition mt-4';\n        customActionItem.innerHTML = `<i class=\"fas fa-pen-nib mr-2 text-accent\"></i> 自定义行动...`;\n        customActionItem.dataset.actionType = 'custom';\n        this.elements.optionsList.appendChild(customActionItem);\n    }\n    createEmptyState(message) {\n        return `<li class=\"text-center py-4 text-secondary theme-transition\"><i class=\"fas fa-info-circle mr-1\"></i>${message}</li>`;\n    }\n    handleError(error) {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'Renderer', 'A critical rendering error occurred.', error);\n        const errorHtml = `<div class=\"bg-red-900/20 border border-red-800/30 text-red-400 px-4 py-3 rounded relative\" role=\"alert\">\n            <strong class=\"font-bold\">加载失败: </strong>\n            <span class=\"block sm:inline\">${error.message}</span>\n        </div>`;\n        if (this.elements.storyContent)\n            this.elements.storyContent.innerHTML = errorHtml;\n        if (this.elements.optionsList)\n            this.elements.optionsList.innerHTML = `<li>${errorHtml}</li>`;\n    }\n    showGenerationLoadingState() {\n        if (this.elements.storyContent) {\n            this.elements.storyContent.innerHTML = `<div class=\"flex justify-center items-center p-4\"><div class=\"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-accent\"></div><span class=\"ml-3 text-secondary\">正在等待彼界的响应...</span></div>`;\n        }\n    }\n    showGenerationError(errorMessage, onRetry) {\n        if (this.elements.storyContent) {\n            this.elements.storyContent.innerHTML = `\n        <div class=\"bg-red-900/20 border border-red-800/30 text-red-400 px-4 py-3 rounded relative text-center\" role=\"alert\">\n          <strong class=\"font-bold\">生成失败</strong>\n          <span class=\"block sm:inline\">${errorMessage}</span>\n          <button id=\"retry-generation-button\" class=\"mt-2 px-4 py-2 bg-accent text-white rounded hover:bg-accent-hover\">重试</button>\n        </div>\n      `;\n            const retryButton = document.getElementById('retry-generation-button');\n            if (retryButton) {\n                retryButton.addEventListener('click', onRetry);\n            }\n        }\n    }\n    updateStoryContent(storyText) {\n        if (this.elements.storyContent) {\n            const rawHtml = marked.parse(storyText);\n            this.elements.storyContent.innerHTML = this._applySyntaxHighlighting(rawHtml);\n        }\n    }\n    /**\n     * Processes the final, complete AI message to authoritatively update the story,\n     * sync variables, and render all UI components. This is the main entry point\n     * for both streaming and non-streaming responses once generation is complete.\n     * @param storyText The processed, clean story text for rendering.\n     * @param message The original, complete message object from the history, including the status bar.\n     * @param eventManager The instance of the event manager.\n     */\n    async renderStoryAndSyncState(storyText, message, eventManager) {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'Renderer', '`renderStoryAndSyncState` called for final update.');\n        // In v2.0, message.content is always the string of the active page.\n        const jsonString = (0,_parser__WEBPACK_IMPORTED_MODULE_1__.extractJsonFromStatusBar)(message.content);\n        if (jsonString && message.id) {\n            try {\n                const parsedJson = JSON.parse(jsonString);\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'Renderer', 'Final JSON parsed. Calling `syncVariables`.', _.cloneDeep(parsedJson));\n                // 步骤 1: 将新事件录入事件池\n                await (0,_variables__WEBPACK_IMPORTED_MODULE_3__.syncVariables)(parsedJson, message.id, eventManager);\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'Renderer', 'Final `syncVariables` has completed.');\n                // 步骤 2: 触发完整的状态重算\n                // await handleStateActivation(message.id, this.historyManager, this.pokedexManager, this);\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'Renderer', 'Final `handleStateActivation` has completed.');\n                this.jsonData = this._transformJsonData(parsedJson);\n                this.findRootNodeKey();\n            }\n            catch (error) {\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'Renderer', 'Failed to parse or sync final state.', { error, jsonString });\n                this.handleParsingFailure(jsonString, error);\n                this.jsonData = null;\n            }\n        }\n        else {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Renderer', 'No status bar found in the final message. UI will be rendered from existing variables.');\n            this.jsonData = null;\n        }\n        // Perform a full render using the final story content and the now-synced variables.\n        this.renderAll();\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'Renderer', 'Final renderAll complete.');\n    }\n    updateWithStreamedData(streamedJson, messageId) {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'Renderer', '`updateWithStreamedData` called with new JSON string.');\n        try {\n            const newState = JSON.parse(streamedJson);\n            this.jsonData = this._transformJsonData(newState);\n            this.findRootNodeKey();\n            if (!this.rootNodeKey) {\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Renderer', 'Could not find root node key in streamed JSON.', newState);\n                return;\n            }\n            const rootData = this.jsonData[this.rootNodeKey];\n            // 在流式更新期间，我们只同步事件，而不进行完整的状态重算，以避免性能问题。\n            // 最终的状态将在 renderStoryAndSyncState 中一次性计算。\n            (0,_variables__WEBPACK_IMPORTED_MODULE_3__.syncVariables)(newState, messageId, this.eventManager).then(() => {\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'Renderer', 'Variable sync complete, re-rendering side panels from temporary data.');\n                // 注意：这里的渲染可能不是最终精确的，但提供了即时反馈。\n                this.renderSidePanels(rootData);\n            });\n        }\n        catch (error) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'Renderer', 'Failed to parse or process JSON from stream.', { error, streamedJson });\n            toastr.error('状态栏数据解析失败。');\n        }\n    }\n    handleParsingFailure(rawText, error) {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'Renderer', 'Handling a JSON parsing failure.', { rawText, error });\n        const errorHtml = (0,_parser__WEBPACK_IMPORTED_MODULE_1__.createJsonErrorDisplay)(rawText, error);\n        // Clear all major UI components to prevent stale loading states\n        if (this.elements.storyContent) {\n            this.elements.storyContent.innerHTML = errorHtml;\n        }\n        if (this.elements.optionsList) {\n            this.elements.optionsList.innerHTML = this.createEmptyState('数据解析失败');\n        }\n        if (this.elements.charactersContainer) {\n            this.elements.charactersContainer.innerHTML = this.createEmptyState('数据解析失败');\n        }\n        if (this.elements.shelterContainer) {\n            this.elements.shelterContainer.innerHTML = '';\n        }\n        if (this.elements.bestiaryContainer) {\n            this.elements.bestiaryContainer.innerHTML = '';\n        }\n        if (this.elements.herbologyContainer) {\n            this.elements.herbologyContainer.innerHTML = '';\n        }\n        if (this.elements.booksContainer) {\n            this.elements.booksContainer.innerHTML = '';\n        }\n        if (this.elements.inventoryContainer) {\n            this.elements.inventoryContainer.innerHTML = '';\n        }\n        if (this.elements.systemContainer) {\n            this.elements.systemContainer.innerHTML = '';\n        }\n        if (this.elements.timeDisplay) {\n            this.elements.timeDisplay.textContent = '未知';\n        }\n        if (this.elements.locationDisplay) {\n            this.elements.locationDisplay.textContent = '未知';\n        }\n    }\n    extractEmojis(text) {\n        if (!_.isString(text))\n            return [];\n        const emojiRegex = /[\\u{1F600}-\\u{1F64F}\\u{1F300}-\\u{1F5FF}\\u{1F900}-\\u{1F9FF}\\u{1FA70}-\\u{1FAFF}\\u{1F680}-\\u{1F6FF}\\u{1F1E0}-\\u{1F1FF}\\u{2600}-\\u{26FF}\\u{2700}-\\u{27BF}]/gu;\n        return text.match(emojiRegex) || [];\n    }\n    formatNodeName(name, removeAllEmoji = false) {\n        if (!_.isString(name) && !_.isNumber(name))\n            return '';\n        let cleanName = _.toString(name);\n        cleanName = _.replace(cleanName, /^\\d+\\.\\s*/, '');\n        if (removeAllEmoji) {\n            const emojiRegex = /[\\u{1F600}-\\u{1F64F}\\u{1F300}-\\u{1F5FF}\\u{1F680}-\\u{1F6FF}\\u{1F1E0}-\\u{1F1FF}\\u{2600}-\\u{26FF}\\u{2700}-\\u{27BF}]/gu;\n            cleanName = _.replace(cleanName, emojiRegex, '');\n        }\n        return _.trim(cleanName);\n    }\n    toggleEditMode(editing, newContent) {\n        if (!this.elements.storyContent)\n            return;\n        if (editing) {\n            // Find the latest assistant message to get the original markdown\n            const messages = this.historyManager.getMessagesForPrompt();\n            // Find the last message that is from the assistant\n            const lastMessage = _.findLast(messages, (m) => m.role === 'assistant');\n            if (!lastMessage) {\n                toastr.error('没有找到可以编辑的AI回复。');\n                return;\n            }\n            const storyOnlyMarkdown = lastMessage.content.replace(/<statusbar>[\\s\\S]*?<\\/statusbar>/i, '');\n            const textarea = document.createElement('textarea');\n            textarea.id = 'story-edit-textarea';\n            // Apply some basic styling to match the app's theme\n            textarea.className = 'w-full bg-secondary rounded border border-dim p-2 text-primary focus:ring-2 focus:ring-accent focus:outline-none theme-transition';\n            textarea.style.height = `${this.elements.storyContent.scrollHeight}px`; // Match the content height\n            textarea.value = storyOnlyMarkdown;\n            this.elements.storyContent.innerHTML = '';\n            this.elements.storyContent.appendChild(textarea);\n            textarea.focus();\n        }\n        else {\n            const textarea = this.elements.storyContent.querySelector('#story-edit-textarea');\n            // If textarea doesn't exist, it means we are not in edit mode, so do nothing.\n            if (!textarea)\n                return;\n            // If newContent is provided (on save), use it. Otherwise (on cancel), use the original content from the textarea.\n            const contentToRender = newContent !== undefined ? newContent : textarea.value;\n            // Render the markdown back to HTML\n            const rawHtml = marked.parse(contentToRender);\n            this.elements.storyContent.innerHTML = this._applySyntaxHighlighting(rawHtml);\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9yZW5kZXJlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsbUJBQW1CO0FBR2U7QUFDMEM7QUFFbkM7QUFFOEM7QUFFWjtBQUN6QjtBQVEzQyxNQUFNLGFBQWE7SUFDaEIsY0FBYyxDQUFxQjtJQUNwQyxjQUFjLENBQWlCO0lBQzlCLFdBQVcsQ0FBYztJQUN6QixZQUFZLENBQWU7SUFDNUIsUUFBUSxHQUFRLElBQUksQ0FBQztJQUNyQixXQUFXLENBQWdCO0lBQzFCLFFBQVEsQ0FlZDtJQUNNLGFBQWEsR0FBbUIsSUFBSSxDQUFDO0lBRTdDLFlBQVksY0FBa0MsRUFBRSxjQUE4QixFQUFFLFdBQXdCLEVBQUUsWUFBMEI7UUFDbEksSUFBSSxDQUFDLGNBQWMsR0FBRyxjQUFjLENBQUM7UUFDckMsSUFBSSxDQUFDLGNBQWMsR0FBRyxjQUFjLENBQUM7UUFDckMsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7UUFDL0IsSUFBSSxDQUFDLFlBQVksR0FBRyxZQUFZLENBQUM7UUFDakMsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUM7UUFDeEIsSUFBSSxDQUFDLFFBQVEsR0FBRztZQUNkLFlBQVksRUFBRSxRQUFRLENBQUMsY0FBYyxDQUFDLGVBQWUsQ0FBQztZQUN0RCxXQUFXLEVBQUUsUUFBUSxDQUFDLGNBQWMsQ0FBQyxjQUFjLENBQUM7WUFDcEQsV0FBVyxFQUFFLFFBQVEsQ0FBQyxjQUFjLENBQUMsY0FBYyxDQUFDO1lBQ3BELFdBQVcsRUFBRSxRQUFRLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBQztZQUNwRCxlQUFlLEVBQUUsUUFBUSxDQUFDLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBQztZQUM1RCxjQUFjLEVBQUUsUUFBUSxDQUFDLGNBQWMsQ0FBQyxpQkFBaUIsQ0FBQztZQUMxRCxtQkFBbUIsRUFBRSxRQUFRLENBQUMsY0FBYyxD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QUcsSUFBSSxDQUFDLHdCQUF3QixDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ2hGLENBQUM7SUFDSCxDQUFDO0NBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlLy4vc3JjL+S7gOS5iOaIkeimgeWcqOeOhOW5u+S/ruS7meS4lueVjOenjeeUsC0w5qW854mI5pysL2NvcmUvcmVuZGVyZXIudHM/Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGNvcmUvcmVuZGVyZXIudHNcblxuaW1wb3J0IHR5cGUgeyBDaGF0SGlzdG9yeU1hbmFnZXIsIE1lc3NhZ2VQYWdlIH0gZnJvbSAnLi9oaXN0b3J5JztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4vbG9nZ2VyJztcbmltcG9ydCB7IGNyZWF0ZUpzb25FcnJvckRpc3BsYXksIGV4dHJhY3RKc29uRnJvbVN0YXR1c0JhciB9IGZyb20gJy4vcGFyc2VyJztcbmltcG9ydCB7IFBva2VkZXgsIFBva2VkZXhNYW5hZ2VyIH0gZnJvbSAnLi9wb2tlZGV4JztcbmltcG9ydCB7IHJlbmRlclN5c3RlbSB9IGZyb20gJy4vc3lzdGVtcyc7XG5pbXBvcnQgeyBUaW1lTWFuYWdlciB9IGZyb20gJy4vdGltZSc7XG5pbXBvcnQgeyBzeW5jVmFyaWFibGVzLCBpbml0aWFsaXplU3RhdGUsIHJlY2FsY3VsYXRlQW5kQXBwbHlTdGF0ZSB9IGZyb20gJy4vdmFyaWFibGVzJztcbmltcG9ydCB7IEV2ZW50TWFuYWdlciB9IGZyb20gJy4vZXZlbnRNYW5hZ2VyJztcbmltcG9ydCB7IGNoZWNrQWR2ZW50dXJlQ29vbGRvd24gfSBmcm9tICcuL2V2ZW50cy9hZHZlbnR1cmVDb29sZG93bkhhbmRsZXInO1xuaW1wb3J0IHsgc2V0SXNSZWNhbGN1bGF0aW5nU3RhdGUgfSBmcm9tICcuL3N0YXRlJztcblxuLy8gRGVjbGFyZSBnbG9iYWwgdmFyaWFibGVzXG5kZWNsYXJlIGNvbnN0IG1hcmtlZDogYW55O1xuZGVjbGFyZSBjb25zdCBfOiBhbnk7XG5kZWNsYXJlIGNvbnN0IHRvYXN0cjogYW55O1xuZGVjbGFyZSBjb25zdCBnZXRWYXJpYWJsZXM6IChvcHRpb25zOiBhbnkpID0+IGFueTtcblxuZXhwb3J0IGNsYXNzIFN0b3J5UmVuZGVyZXIge1xuICBwcml2YXRlIGhpc3RvcnlNYW5hZ2VyOiBDaGF0SGlzdG9yeU1hbmFnZXI7XG4gIHB1YmxpYyBwb2tlZGV4TWFuYWdlcjogUG9rZWRleE1hbmFnZXI7XG4gIHByaXZhdGUgdGltZU1hbmFnZXI6IFRpbWVNYW5hZ2VyO1xuICBwcml2YXRlIGV2ZW50TWFuYWdlcjogRXZlbnRNYW5hZ2VyO1xuICBwdWJsaWMganNvbkRhdGE6IGFueSA9IG51bGw7XG4gIHB1YmxpYyByb290Tm9kZUtleTogc3RyaW5nIHwgbnVsbDtcbiAgcHJpdmF0ZSBlbGVtZW50czoge1xuICAgIHN0b3J5Q29udGVudDogSFRNTEVsZW1lbnQgfCBudWxsO1xuICAgIGFjdGlvbk93bmVyOiBIVE1MRWxlbWVudCB8IG51bGw7XG4gICAgb3B0aW9uc0xpc3Q6IEhUTUxFbGVtZW50IHwgbnVsbDtcbiAgICB0aW1lRGlzcGxheTogSFRNTEVsZW1lbnQgfCBudWxsO1xuICAgIGxvY2F0aW9uRGlzcGxheTogSFRNTEVsZW1lbnQgfCBudWxsO1xuICAgIHdlYXRoZXJEaXNwbGF5OiBIVE1MRWxlbWVudCB8IG51bGw7XG4gICAgY2hhcmFjdGVyc0NvbnRhaW5lcjogSFRNTEVsZW1lbnQgfCBudWxsO1xuICAgIHJlbGF0aW9uc0NvbnRhaW5lcjogSFRNTEVsZW1lbnQgfCBudWxsO1xuICAgIHNoZWx0ZXJDb250YWluZXI6IEhUTUxFbGVtZW50IHwgbnVsbDtcbiAgICBiZXN0aWFyeUNvbnRhaW5lcjogSFRNTEVsZW1lbnQgfCBudWxsO1xuICAgIGhlcmJvbG9neUNvbnRhaW5lcjogSFRNTEVsZW1lbnQgfCBudWxsO1xuICAgIGJvb2tzQ29udGFpbmVyOiBIVE1MRWxlbWVudCB8IG51bGw7XG4gICAgaW52ZW50b3J5Q29udGFpbmVyOiBIVE1MRWxlbWVudCB8IG51bGw7XG4gICAgc3lzdGVtQ29udGFpbmVyOiBIVE1MRWxlbWVudCB8IG51bGw7XG4gIH07XG4gIHByaXZhdGUgZ2xvYmFsUG9rZWRleDogUG9rZWRleCB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKGhpc3RvcnlNYW5hZ2VyOiBDaGF0SGlzdG9yeU1hbmFnZXIsIHBva2VkZXhNYW5hZ2VyOiBQb2tlZGV4TWFuYWdlciwgdGltZU1hbmFnZXI6IFRpbWVNYW5hZ2VyLCBldmVudE1hbmFnZXI6IEV2ZW50TWFuYWdlcikge1xuICAgIHRoaXMuaGlzdG9yeU1hbmFnZXIgPSBoaXN0b3J5TWFuYWdlcjtcbiAgICB0aGlzLnBva2VkZXhNYW5hZ2VyID0gcG9rZWRleE1hbmFnZXI7XG4gICAgdGhpcy50aW1lTWFuYWdlciA9IHRpbWVNYW5hZ2VyO1xuICAgIHRoaXMuZXZlbnRNYW5hZ2VyID0gZXZlbnRNYW5hZ2VyO1xuICAgIHRoaXMucm9vdE5vZGVLZXkgPSBudWxsO1xuICAgIHRoaXMuZWxlbWVudHMgPSB7XG4gICAgICBzdG9yeUNvbnRlbnQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdG9yeS1jb250ZW50JyksXG4gICAgICBhY3Rpb25Pd25lcjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjdGlvbi1vd25lcicpLFxuICAgICAgb3B0aW9uc0xpc3Q6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcHRpb25zLWxpc3QnKSxcbiAgICAgIHRpbWVEaXNwbGF5OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGltZS1kaXNwbGF5JyksXG4gICAgICBsb2NhdGlvbkRpc3BsYXk6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2NhdGlvbi1kaXNwbGF5JyksXG4gICAgICB3ZWF0aGVyRGlzcGxheTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dlYXRoZXItZGlzcGxheScpLFxuICAgICAgY2hhcmFjdGVyc0NvbnRhaW5lcjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXJhY3RlcnMtY29udGFpbmVyJyksXG4gICAgICByZWxhdGlvbnNDb250YWluZXI6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWxhdGlvbnMtY29udGFpbmVyJyksXG4gICAgICBzaGVsdGVyQ29udGFpbmVyOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hlbHRlci1jb250YWluZXInKSxcbiAgICAgIGJlc3RpYXJ5Q29udGFpbmVyOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmVzdGlhcnktY29udGFpbmVyJyksXG4gICAgICBoZXJib2xvZ3lDb250YWluZXI6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoZXJib2xvZ3ktY29udGFpbmVyJyksXG4gICAgICBib29rc0NvbnRhaW5lcjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Jvb2tzLWNvbnRhaW5lcicpLFxuICAgICAgaW52ZW50b3J5Q29udGFpbmVyOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW52ZW50b3J5LWNvbnRhaW5lcicpLFxuICAgICAgc3lzdGVtQ29udGFpbmVyOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3lzdGVtLWNvbnRhaW5lcicpLFxuICAgIH07XG4gIH1cblxuICBwdWJsaWMgZ2V0UG9rZWRleE1hbmFnZXIoKTogUG9rZWRleE1hbmFnZXIge1xuICAgIHJldHVybiB0aGlzLnBva2VkZXhNYW5hZ2VyO1xuICB9XG5cbiAgcHVibGljIGdldEhpc3RvcnlNYW5hZ2VyKCk6IENoYXRIaXN0b3J5TWFuYWdlciB7XG4gICAgcmV0dXJuIHRoaXMuaGlzdG9yeU1hbmFnZXI7XG4gIH1cblxuICBhc3luYyBpbml0KCkge1xuICAgIGxvZ2dlcignaW5mbycsICdSZW5kZXJlcicsICdgaW5pdGAgY2FsbGVkLiBTdGFydGluZyBmdWxsIHJlbmRlciBwcm9jZXNzLicpO1xuICAgIHRoaXMuc2V0TG9hZGluZ1N0YXRlKCk7XG5cbiAgICB0cnkge1xuICAgICAgLy8gMS4g56Gu5L+d5qC45b+D5Y+Y6YeP57uT5p6E5a2Y5ZyoXG4gICAgICBhd2FpdCB0aGlzLl9lbnN1cmVWYXJpYWJsZUludGVncml0eSgpO1xuXG4gICAgICAvLyAxLjUuIOWIneWni+WMlueKtuaAgeeuoeeQhuezu+e7n1xuICAgICAgLy8g6ZSZ6K+v5L+u5aSN77ya54q25oCB5Yid5aeL5YyW5LiN5bqU5L2/55SoIGdldFZhcmlhYmxlcygp77yM5Zug5Li65a6D5Lya6I635Y+W5bey5Yqg6L2955qE5a2Y5qGj44CCXG4gICAgICAvLyDmraPnoa7nmoTmtYHnqIvmmK/lnKggaW5kZXgudHMg5Lit5LuOIHNldHVwIOaooeWdl+iOt+WPluecn+ato+eahOWIneWni+eKtuaAge+8jFxuICAgICAgLy8g5oiW5Zyo5rKh5pyJ5a2Y5qGj5pe25L2/55So5LiA5Liq5bmy5YeA55qE6buY6K6k5a+56LGh44CCXG4gICAgICAvLyDmraTlpITmiJHku6zlhYjnoa7kv53nirbmgIHph43nrpfliY3vvIxpbml0aWFsaXplU3RhdGUg6KKr5q2j56Gu6LCD55So44CCXG4gICAgICAvLyDms6jmhI/vvJrnnJ/mraPnmoQgaW5pdGlhbFZhcnMg5bqU6K+l5LuO5byA5bGA5qih5Z2X5Lyg5YWl77yM6L+Z6YeM5pqC5pe25L2/55So5b2T5YmN5Y+Y6YeP5L2c5Li65Li05pe25pa55qGI77yMXG4gICAgICAvLyDkvYbph43nrpfpgLvovpHkvJrkvb/nlKjlhbblhoXpg6jnmoQgY2xlYW4gc3RhdGXjgIJcbiAgICAgIGluaXRpYWxpemVTdGF0ZShnZXRWYXJpYWJsZXMoeyB0eXBlOiAnY2hhdCcgfSkpO1xuXG4gICAgICAvLyB2NC4xIENIQVRfRkxPV19TUEVDIOS/ruatozog5Zyo54q25oCB6YeN566X5YmN77yM6aKE5YWI5riF55CGIEwzIOe8k+WtmOS4reeahCBwbHVnaW5fc3RvcmFnZe+8jOehruS/nemHjeeul+mAu+i+keeahOeos+WumuaAp1xuICAgICAgY29uc3QgY3VycmVudFZhcnMgPSBnZXRWYXJpYWJsZXMoeyB0eXBlOiAnY2hhdCcgfSk7XG4gICAgICBjb25zdCBsM0hpc3RvcnkgPSBfLmdldChjdXJyZW50VmFycywgJ+S4lueVjC7liJ3lp4vnirbmgIEucGx1Z2luX3N0b3JhZ2UubGxtX2hpc3RvcnknKTtcbiAgICAgIGxvZ2dlcignaW5mbycsICdSZW5kZXJlcicsIGBbTDMgUHJlLUZpeF0gTDMgY2FjaGUgcGx1Z2luX3N0b3JhZ2UubGxtX2hpc3Rvcnkgbm93IGlzICR7SlNPTi5zdHJpbmdpZnkobDNIaXN0b3J5LCBudWxsLCAyKX0uYCk7XG4gICAgICBpZiAobDNIaXN0b3J5ICYmIEFycmF5LmlzQXJyYXkobDNIaXN0b3J5KSAmJiBsM0hpc3RvcnkubGVuZ3RoID4gMSkge1xuICAgICAgICAgIGxvZ2dlcignd2FybicsICdSZW5kZXJlcicsIGBbTDMgUHJlLUZpeF0gTDMgY2FjaGUgcGx1Z2luX3N0b3JhZ2UubGxtX2hpc3RvcnkgY29udGFpbnMgJHtsM0hpc3RvcnkubGVuZ3RofSBlbnRyaWVzLiBUcmltbWluZyBiZWZvcmUgcmVjYWxjdWxhdGlvbi5gKTtcbiAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgYXdhaXQgdXBkYXRlVmFyaWFibGVzV2l0aCgodmFyczogYW55KSA9PiB7XG4gICAgICAgICAgICAgIC8vIOeyvuehruS/ruatoyBMMyDnvJPlrZjkuK3nmoQgaGlzdG9yeVxuICAgICAgICAgICAgICBfLnNldCh2YXJzLCAn5LiW55WMLuWIneWni+eKtuaAgS5wbHVnaW5fc3RvcmFnZS5sbG1faGlzdG9yeScsIGwzSGlzdG9yeS5zbGljZSgwLCAxKSk7XG4gICAgICAgICAgICAgIHJldHVybiB2YXJzO1xuICAgICAgICAgIH0sIHsgdHlwZTogJ2NoYXQnIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyAyLiAodjIuMCkg6YeN566X5bm25bqU55So5Yid5aeL54q25oCBXG4gICAgICBjb25zdCBtZXNzYWdlcyA9IHRoaXMuaGlzdG9yeU1hbmFnZXIuZ2V0TWVzc2FnZXNGb3JQcm9tcHQoKTtcbiAgICAgIGNvbnN0IGxhc3RNZXNzYWdlID0gXy5maW5kTGFzdChtZXNzYWdlcywgKG06IE1lc3NhZ2VQYWdlKSA9PiBtLnJvbGUgPT09ICdhc3Npc3RhbnQnKTtcbiAgICAgIGlmIChsYXN0TWVzc2FnZSAmJiBsYXN0TWVzc2FnZS5pZCkge1xuICAgICAgICBzZXRJc1JlY2FsY3VsYXRpbmdTdGF0ZSh0cnVlKTtcbiAgICAgICAgYXdhaXQgcmVjYWxjdWxhdGVBbmRBcHBseVN0YXRlKHRoaXMuaGlzdG9yeU1hbmFnZXIsIGxhc3RNZXNzYWdlLmlkLCB0aGlzLmV2ZW50TWFuYWdlcik7XG4gICAgICAgIHNldElzUmVjYWxjdWxhdGluZ1N0YXRlKGZhbHNlKTtcblxuICAgICAgICAvLyAzLiDmj5Dlj5bmnIDmlrDmtojmga/nlKjkuo5VSea4suafk1xuICAgICAgICBjb25zdCByYXdKc29uQ29udGVudCA9IGV4dHJhY3RKc29uRnJvbVN0YXR1c0JhcihsYXN0TWVzc2FnZS5jb250ZW50KTtcbiAgICAgICAgaWYgKHJhd0pzb25Db250ZW50KSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMuanNvbkRhdGEgPSB0aGlzLl90cmFuc2Zvcm1Kc29uRGF0YShKU09OLnBhcnNlKHJhd0pzb25Db250ZW50KSk7XG4gICAgICAgICAgICAgICAgdGhpcy5maW5kUm9vdE5vZGVLZXkoKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmpzb25EYXRhID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlckFsbCgpO1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2dnZXIoJ3dhcm4nLCAnUmVuZGVyZXInLCAnSGlzdG9yeSBpcyBlbXB0eS4gUmVuZGVyaW5nIGZyb20gZGVmYXVsdCB2YXJpYWJsZXMuJyk7XG4gICAgICAgIHRoaXMuanNvbkRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnJlbmRlckFsbCgpO1xuICAgICAgfVxuXG4gICAgICAvLyDlnKjmiYDmnInnirbmgIHmgaLlpI3lkozmuLLmn5PlrozmiJDlkI7vvIzmiYvliqjop6blj5HkuIDmrKHlhrfljbTmo4Dmn6VcbiAgICAgIGNoZWNrQWR2ZW50dXJlQ29vbGRvd24oKTtcblxuICAgICAgbG9nZ2VyKCdpbmZvJywgJ1JlbmRlcmVyJywgJ0luaXRpYWxpemF0aW9uIGFuZCByZW5kZXJpbmcgY29tcGxldGVkIHN1Y2Nlc3NmdWxseS4nKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyKCdlcnJvcicsICdSZW5kZXJlcicsICdBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIGR1cmluZyBgaW5pdGAuJywgZXJyb3IpO1xuICAgICAgdGhpcy5oYW5kbGVFcnJvcihlcnJvciBhcyBFcnJvcik7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBfZW5zdXJlVmFyaWFibGVJbnRlZ3JpdHkoKSB7XG4gICAgbG9nZ2VyKCdsb2cnLCAnUmVuZGVyZXInLCAnUnVubmluZyB2YXJpYWJsZSBpbnRlZ3JpdHkgY2hlY2suLi4nKTtcbiAgICBjb25zdCBjdXJyZW50VmFycyA9IGdldFZhcmlhYmxlcyh7IHR5cGU6ICdjaGF0JyB9KSB8fCB7fTtcbiAgICBjb25zdCB1cGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgY29uc3QgZGVmYXVsdENoYXJhY3Rlck5hbWUgPSAn6JCn5qCW6ZuqJztcblxuICAgIC8vIOehruS/neaguOW/g+WRveWQjeepuumXtOWtmOWcqFxuICAgIGlmICghXy5oYXMoY3VycmVudFZhcnMsICfop5LoibInKSkgdXBkYXRlc1sn6KeS6ImyJ10gPSB7fTtcbiAgICBpZiAoIV8uaGFzKGN1cnJlbnRWYXJzLCAn5LiW55WMJykpIHVwZGF0ZXNbJ+S4lueVjCddID0ge307XG5cbiAgICAvLyDnoa7kv53kuLvmjqfop5LoibLlkI3lkozop5LoibLlr7nosaHlrZjlnKhcbiAgICBjb25zdCBtYWluQ2hhck5hbWUgPSBfLmdldChjdXJyZW50VmFycywgJ+inkuiJsi7kuLvmjqfop5LoibLlkI0nLCBkZWZhdWx0Q2hhcmFjdGVyTmFtZSk7XG4gICAgaWYgKCFfLmhhcyhjdXJyZW50VmFycywgYOinkuiJsi4ke21haW5DaGFyTmFtZX1gKSkge1xuICAgICAgICAvLyDlkIzml7bliJ3lp4vljJbnianlk4HmlbDnu4TlkozlhbPns7vlr7nosaFcbiAgICAgICAgXy5zZXQodXBkYXRlcywgYOinkuiJsi4ke21haW5DaGFyTmFtZX1gLCB7ICfnianlk4EnOiBbXSwgJ+WFs+ezuyc6IHt9IH0pO1xuICAgIH0gZWxzZSBpZiAoIV8uaGFzKGN1cnJlbnRWYXJzLCBg6KeS6ImyLiR7bWFpbkNoYXJOYW1lfS7lhbPns7tgKSkge1xuICAgICAgICAvLyDlpoLmnpzop5LoibLlt7LlrZjlnKjvvIzmo4Dmn6XmmK/lkKbmnInlhbPlv4PlrZfmrrVcbiAgICAgICAgXy5zZXQodXBkYXRlcywgYOinkuiJsi4ke21haW5DaGFyTmFtZX0u5YWz57O7YCwge30pO1xuICAgIH1cbiAgICBpZiAoIV8uaGFzKGN1cnJlbnRWYXJzLCAn6KeS6ImyLuS4u+aOp+inkuiJsuWQjScpKSB7XG4gICAgICAgIHVwZGF0ZXNbJ+inkuiJsi7kuLvmjqfop5LoibLlkI0nXSA9IG1haW5DaGFyTmFtZTtcbiAgICB9XG5cbiAgICAvLyDnoa7kv53kuJbnlYzlrZDlr7nosaHlrZjlnKhcbiAgICBpZiAoIV8uaGFzKGN1cnJlbnRWYXJzLCAn5LiW55WMLuWbvumJtCcpKSB7XG4gICAgICAgIF8uc2V0KHVwZGF0ZXMsICfkuJbnlYwu5Zu+6Ym0JywgeyAn54mp5ZOBJzogW10sICflppblhb0nOiBbXSwgJ+akjeeJqSc6IFtdLCAn5Lmm57GNJzogW10gfSk7XG4gICAgfVxuICAgIGlmICghXy5oYXMoY3VycmVudFZhcnMsICfkuJbnlYwu5bqH5oqk5omAJykpIHtcbiAgICAgICAgXy5zZXQodXBkYXRlcywgJ+S4lueVjC7luofmiqTmiYAnLCB7ICfnirbmgIEnOiAn5bCa5pyq5bu656uLJyB9KTtcbiAgICB9XG4gICAgLy8gdjMuOTog56Gu5L+d5aWH6YGH5qih5Z2X55qE54q25oCB5a2Y5Zyo77yM5Lul5YW85a655pen5a2Y5qGjXG4gICAgaWYgKCFfLmhhcyhjdXJyZW50VmFycywgJ+S4lueVjC7lpYfpgYcnKSkge1xuICAgICAgICAvLyDkv67mraPvvJrnm7TmjqXlnKggdXBkYXRlcy7kuJbnlYwg5a+56LGh5LiL5Yib5bu65bGe5oCnXG4gICAgICAgIGlmICghdXBkYXRlc1sn5LiW55WMJ10pIHtcbiAgICAgICAgICAgIHVwZGF0ZXNbJ+S4lueVjCddID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlc1sn5LiW55WMJ11bJ+Wlh+mBhyddID0ge1xuICAgICAgICAgICAgJ+WGt+WNtOiHs+WkqeaVsCc6IDE1LCAvLyDlhYHorrjlnKjmuLjmiI/ml6nmnJ/lj5HnlJ/nrKzkuIDmrKHlpYfpgYdcbiAgICAgICAgICAgICfkuIrmrKHlpYfpgYfml6XmnJ8nOiB7ICflubQnOiAwLCAn5pyIJzogMCwgJ+aXpSc6IDAgfSwgLy8g5L2/55So5LiA5Liq5peg5pWI5pel5pyf5L2c5Li65Yid5aeL5YC8XG4gICAgICAgICAgICAn5Y6G5Y+y5aWH6YGH6K6w5b2VJzogW10sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKCFfLmlzRW1wdHkodXBkYXRlcykpIHtcbiAgICAgICAgbG9nZ2VyKCd3YXJuJywgJ1JlbmRlcmVyJywgJ09uZSBvciBtb3JlIGNvcmUgdmFyaWFibGVzIHdlcmUgbWlzc2luZy4gSW5pdGlhbGl6aW5nIHRoZW0uJywgXy5jbG9uZURlZXAodXBkYXRlcykpO1xuICAgICAgICBcbiAgICAgICAgLy8g5pu05paw5b2T5YmN6IGK5aSp5Y+Y6YePXG4gICAgICAgIGF3YWl0IGluc2VydE9yQXNzaWduVmFyaWFibGVzKHVwZGF0ZXMsIHsgdHlwZTogJ2NoYXQnIH0pO1xuXG4gICAgICAgIC8vIOWFs+mUruS/ruWkje+8muWQjOaXtuabtOaWsOWIm+S4luW/q+eFp++8jOmYsuatoueKtuaAgemHjeeul+aXtuS4ouWkseaVsOaNrlxuICAgICAgICBjb25zdCBnZW5lc2lzU25hcHNob3QgPSBfLmdldChjdXJyZW50VmFycywgJ+S4lueVjC7liJ3lp4vnirbmgIEnKTtcbiAgICAgICAgaWYgKGdlbmVzaXNTbmFwc2hvdCkge1xuICAgICAgICAgICAgYXdhaXQgdXBkYXRlVmFyaWFibGVzV2l0aCgodmFyczogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgLy8g5L+u5q2j77ya5L2/55SoIF8ubWVyZ2Ug5p2l5q2j56Gu5aSE55CG5bWM5aWX5a+56LGh55qE5pu05pawXG4gICAgICAgICAgICAgICAgXy5tZXJnZSh2YXJzLuS4lueVjC7liJ3lp4vnirbmgIEsIHVwZGF0ZXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiB2YXJzO1xuICAgICAgICAgICAgfSwgeyB0eXBlOiAnY2hhdCcgfSk7XG4gICAgICAgICAgICBsb2dnZXIoJ2luZm8nLCAnUmVuZGVyZXInLCAnR2VuZXNpcyBzbmFwc2hvdCB3YXMgYWxzbyB1cGRhdGVkIHRvIGVuc3VyZSBjb25zaXN0ZW5jeS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRvYXN0ci53YXJuaW5nKCfpg6jliIbmoLjlv4PmuLjmiI/lj5jph4/nvLrlpLHvvIzlt7Loh6rliqjliJ3lp4vljJbjgIInKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBsb2dnZXIoJ2xvZycsICdSZW5kZXJlcicsICdWYXJpYWJsZSBpbnRlZ3JpdHkgY2hlY2sgcGFzc2VkLiBObyBtaXNzaW5nIGNvcmUgdmFyaWFibGVzLicpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgX2ZpbmRMYXRlc3RWYWxpZFN0YXRlQW5kTWFya0hpc3RvcnkoKTogUHJvbWlzZTx7IHJhd0pzb25Db250ZW50OiBzdHJpbmcgfCBudWxsLCBzdG9yeUh0bWxDb250ZW50OiBzdHJpbmcgfCBudWxsLCBtZXNzYWdlSWQ6IHN0cmluZyB8IG51bGwgfT4ge1xuICAgIGNvbnN0IG1lc3NhZ2VzID0gdGhpcy5oaXN0b3J5TWFuYWdlci5nZXRNZXNzYWdlc0ZvclByb21wdCgpO1xuICAgIGxvZ2dlcignbG9nJywgJ1JlbmRlcmVyJywgYFNlYXJjaGluZyBmb3IgbGF0ZXN0IHZhbGlkIHN0YXRlIGluICR7bWVzc2FnZXMubGVuZ3RofSBhY3RpdmUgbWVzc2FnZXMuYCk7XG5cbiAgICAvLyBJdGVyYXRlIGJhY2t3YXJkcyB0aHJvdWdoIHRoZSBhY3RpdmUgaGlzdG9yeSB0byBmaW5kIHRoZSBsYXRlc3QgdmFsaWQgYXNzaXN0YW50IG1lc3NhZ2VcbiAgICBmb3IgKGxldCBpID0gbWVzc2FnZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IGVudHJ5ID0gbWVzc2FnZXNbaV07XG4gICAgICBpZiAoZW50cnkucm9sZSA9PT0gJ2Fzc2lzdGFudCcpIHtcbiAgICAgICAgbG9nZ2VyKCdsb2cnLCAnUmVuZGVyZXInLCBgQ2hlY2tpbmcgbWVzc2FnZSB3aXRoIElEICR7ZW50cnkuaWR9Li4uYCk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBwb3RlbnRpYWxKc29uID0gZXh0cmFjdEpzb25Gcm9tU3RhdHVzQmFyKGVudHJ5LmNvbnRlbnQpO1xuICAgICAgICBpZiAocG90ZW50aWFsSnNvbikge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBKU09OLnBhcnNlKHBvdGVudGlhbEpzb24pOyAvLyBWYWxpZGF0ZSBKU09OXG4gICAgICAgICAgICBsb2dnZXIoJ2luZm8nLCAnUmVuZGVyZXInLCBgRm91bmQgdmFsaWQgSlNPTiBpbiBtZXNzYWdlICR7ZW50cnkuaWR9LiBSZXR1cm5pbmcuYCk7XG4gICAgICAgICAgICB0b2FzdHIuaW5mbyhg5bey5LuO5pyA5paw5pyJ5pWI5Zue5bqU5oiQ5Yqf5Yqg6L295oOF6IqC44CCYCk7XG4gICAgICAgICAgICAvLyBJbiB2Mi4wLCB3ZSBkb24ndCBtYXJrIHZhbGlkaXR5IGhlcmUuIFdlIGp1c3QgZmluZCBhbmQgdXNlLlxuICAgICAgICAgICAgcmV0dXJuIHsgcmF3SnNvbkNvbnRlbnQ6IHBvdGVudGlhbEpzb24sIHN0b3J5SHRtbENvbnRlbnQ6IGVudHJ5LmNvbnRlbnQsIG1lc3NhZ2VJZDogZW50cnkuaWQgfTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgbG9nZ2VyKCd3YXJuJywgJ1JlbmRlcmVyJywgYEpTT04gcGFyc2luZyBmYWlsZWQgZm9yIG1lc3NhZ2UgJHtlbnRyeS5pZH0uYCwgZXJyb3IpO1xuICAgICAgICAgICAgLy8gQ29udGludWUgdG8gdGhlIHByZXZpb3VzIG1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2dnZXIoJ3dhcm4nLCAnUmVuZGVyZXInLCBgTm8gc3RhdHVzIGJhciBmb3VuZCBpbiBtZXNzYWdlICR7ZW50cnkuaWR9LmApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgd2UgcmVhY2ggaGVyZSwgbm8gdmFsaWQgYXNzaXN0YW50IG1lc3NhZ2Ugd2FzIGZvdW5kLlxuICAgIGxvZ2dlcignZXJyb3InLCAnUmVuZGVyZXInLCAnTm8gbWVzc2FnZSB3aXRoIHZhbGlkIEpTT04gc3RhdHVzIGJhciBmb3VuZCBpbiB0aGUgYWN0aXZlIGhpc3RvcnkuJyk7XG4gICAgcmV0dXJuIHsgcmF3SnNvbkNvbnRlbnQ6IG51bGwsIHN0b3J5SHRtbENvbnRlbnQ6IG51bGwsIG1lc3NhZ2VJZDogbnVsbCB9O1xuICB9XG5cbiAgcHJpdmF0ZSBfZXh0cmFjdEFsbEV2ZW50c0Zyb21IaXN0b3J5KCk6IGFueVtdIHtcbiAgICAvLyBOb3RlOiBUaGlzIG5vdyBvbmx5IGV4dHJhY3RzIGV2ZW50cyBmcm9tIHRoZSBBQ1RJVkUgdGltZWxpbmUuXG4gICAgLy8gQSBtb3JlIGNvbXByZWhlbnNpdmUgdmVyc2lvbiB3b3VsZCBuZWVkIHRvIHRyYXZlcnNlIGFsbCBicmFuY2hlcyBhbmQgdHVybnMsXG4gICAgLy8gd2hpY2ggaXMgYSB0YXNrIGZvciBhIGZ1dHVyZSBlbmhhbmNlbWVudCBpZiBuZWVkZWQuXG4gICAgY29uc3QgbWVzc2FnZXMgPSB0aGlzLmhpc3RvcnlNYW5hZ2VyLmdldE1lc3NhZ2VzRm9yUHJvbXB0KCk7XG4gICAgY29uc3QgYWxsRXZlbnRzOiBhbnlbXSA9IFtdO1xuICAgIG1lc3NhZ2VzLmZvckVhY2goKG1lc3NhZ2U6IE1lc3NhZ2VQYWdlKSA9PiB7XG4gICAgICBpZiAobWVzc2FnZS5yb2xlID09PSAnYXNzaXN0YW50JyAmJiBtZXNzYWdlLmlkKSB7XG4gICAgICAgIGNvbnN0IGpzb25TdHJpbmcgPSBleHRyYWN0SnNvbkZyb21TdGF0dXNCYXIobWVzc2FnZS5jb250ZW50KTtcbiAgICAgICAgaWYgKGpzb25TdHJpbmcpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkSnNvbiA9IEpTT04ucGFyc2UoanNvblN0cmluZyk7XG4gICAgICAgICAgICBjb25zdCBldmVudExpc3QgPSBwYXJzZWRKc29uWyfkuovku7bliJfooagnXSB8fCBbXTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGV2ZW50TGlzdCkpIHtcbiAgICAgICAgICAgICAgY29uc3QgZXZlbnRzV2l0aFNvdXJjZSA9IGV2ZW50TGlzdC5tYXAoKGV2ZW50OiBhbnkpID0+ICh7IC4uLmV2ZW50LCBzb3VyY2VNZXNzYWdlSWQ6IG1lc3NhZ2UuaWQgfSkpO1xuICAgICAgICAgICAgICBhbGxFdmVudHMucHVzaCguLi5ldmVudHNXaXRoU291cmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgcGFyc2luZyBlcnJvcnMgZm9yIHRoaXMgaW5pdGlhbCBzY2FuXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgbG9nZ2VyKCdpbmZvJywgJ1JlbmRlcmVyJywgYEV4dHJhY3RlZCAke2FsbEV2ZW50cy5sZW5ndGh9IGV2ZW50cyBmcm9tIGFjdGl2ZSBoaXN0b3J5IHRpbWVsaW5lLmApO1xuICAgIHJldHVybiBhbGxFdmVudHM7XG4gIH1cblxuICBwdWJsaWMgX3RyYW5zZm9ybUpzb25EYXRhKGpzb25EYXRhOiBhbnkpOiBhbnkge1xuICAgIGlmICghanNvbkRhdGEpIHJldHVybiBqc29uRGF0YTtcblxuICAgIGNvbnN0IHJvb3ROb2RlS2V5ID0gT2JqZWN0LmtleXMoanNvbkRhdGEpLmZpbmQoa2V5ID0+IGtleS5pbmNsdWRlcygn54q25oCB5oC76KeIJykgfHwga2V5LmluY2x1ZGVzKCfop5LoibLnirbmgIHmgLvop4gnKSkgfHwgT2JqZWN0LmtleXMoanNvbkRhdGEpWzBdO1xuICAgIGlmICghcm9vdE5vZGVLZXkgfHwgIWpzb25EYXRhW3Jvb3ROb2RlS2V5XSkgcmV0dXJuIGpzb25EYXRhO1xuXG4gICAgY29uc3Qgcm9vdERhdGEgPSBqc29uRGF0YVtyb290Tm9kZUtleV07XG4gICAgY29uc3QgY2hhckxpc3RLZXkgPSB0aGlzLmZpbmRGaWVsZEJ5S2V5d29yZHMocm9vdERhdGEsIFsn6KeS6ImyJywgJ+WIl+ihqCcsICfkurrniaknXSk7XG4gICAgaWYgKCFjaGFyTGlzdEtleSB8fCAhQXJyYXkuaXNBcnJheShyb290RGF0YVtjaGFyTGlzdEtleV0pKSByZXR1cm4ganNvbkRhdGE7XG5cbiAgICByb290RGF0YVtjaGFyTGlzdEtleV0uZm9yRWFjaCgoY2hhckRhdGFXcmFwcGVyOiBhbnkpID0+IHtcbiAgICAgICAgY29uc3QgY2hhckRhdGFLZXkgPSBPYmplY3Qua2V5cyhjaGFyRGF0YVdyYXBwZXIpLmZpbmQoayA9PiBrLmluY2x1ZGVzKCfop5LoibInKSk7XG4gICAgICAgIGlmIChjaGFyRGF0YUtleSkge1xuICAgICAgICAgICAgY29uc3QgY2hhckRhdGEgPSBjaGFyRGF0YVdyYXBwZXJbY2hhckRhdGFLZXldO1xuICAgICAgICAgICAgY29uc3QgY29yZUl0ZW1zS2V5ID0gdGhpcy5maW5kRmllbGRCeUtleXdvcmRzKGNoYXJEYXRhLCBbJ+aguOW/g+eJqeWTgSddKTtcbiAgICAgICAgICAgIGlmIChjb3JlSXRlbXNLZXkgJiYgY2hhckRhdGFbY29yZUl0ZW1zS2V5XSkge1xuICAgICAgICAgICAgICAgIC8vIFVzZSBhIGdlbmVyaWMgJ+eJqeWTgScga2V5LCBhcyB0aGlzIGlzIHdoYXQgdGhlIGludmVudG9yeSByZW5kZXJlciBleHBlY3RzLlxuICAgICAgICAgICAgICAgIC8vIFRoaXMgcHJldmVudHMgd3JpdGluZyBhIHNlcGFyYXRlICfmoLjlv4Pnianlk4EnIHZhcmlhYmxlLlxuICAgICAgICAgICAgICAgIGlmICghY2hhckRhdGFbJ+eJqeWTgSddKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYXJEYXRhWyfnianlk4EnXSA9IGNoYXJEYXRhW2NvcmVJdGVtc0tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlbGV0ZSBjaGFyRGF0YVtjb3JlSXRlbXNLZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4ganNvbkRhdGE7XG4gIH1cblxuXG4gIHNldExvYWRpbmdTdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5lbGVtZW50cy5zdG9yeUNvbnRlbnQpIHRoaXMuZWxlbWVudHMuc3RvcnlDb250ZW50LmlubmVySFRNTCA9IHRoaXMuY3JlYXRlU3Bpbm5lcigpO1xuICAgIGlmICh0aGlzLmVsZW1lbnRzLmNoYXJhY3RlcnNDb250YWluZXIpIHRoaXMuZWxlbWVudHMuY2hhcmFjdGVyc0NvbnRhaW5lci5pbm5lckhUTUwgPSB0aGlzLmNyZWF0ZVNwaW5uZXIoKTtcbiAgICBpZiAodGhpcy5lbGVtZW50cy5vcHRpb25zTGlzdCkgdGhpcy5lbGVtZW50cy5vcHRpb25zTGlzdC5pbm5lckhUTUwgPSBgPGxpPiR7dGhpcy5jcmVhdGVTcGlubmVyKCl9PC9saT5gO1xuICB9XG5cbiAgY3JlYXRlU3Bpbm5lcigpIHtcbiAgICByZXR1cm4gYDxkaXYgY2xhc3M9XCJmbGV4IGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlciBwLTRcIj48ZGl2IGNsYXNzPVwiYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTggdy04IGJvcmRlci10LTIgYm9yZGVyLWItMiBib3JkZXItYWNjZW50XCI+PC9kaXY+PC9kaXY+YDtcbiAgfVxuXG4gIGZpbmRSb290Tm9kZUtleSgpIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModGhpcy5qc29uRGF0YSk7XG4gICAgdGhpcy5yb290Tm9kZUtleSA9IGtleXMuZmluZChrZXkgPT4ga2V5LmluY2x1ZGVzKCfnirbmgIHmgLvop4gnKSB8fCBrZXkuaW5jbHVkZXMoJ+inkuiJsueKtuaAgeaAu+iniCcpKSB8fCBrZXlzWzBdO1xuICB9XG5cbiAgZmluZEZpZWxkQnlLZXl3b3JkcyhkYXRhOiBhbnksIGtleXdvcmRzOiBzdHJpbmdbXSkge1xuICAgIGlmICghZGF0YSB8fCB0eXBlb2YgZGF0YSAhPT0gJ29iamVjdCcpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IGZpZWxkcyA9IE9iamVjdC5rZXlzKGRhdGEpO1xuICAgIGZvciAoY29uc3QgZmllbGQgb2YgZmllbGRzKSB7XG4gICAgICBmb3IgKGNvbnN0IGtleXdvcmQgb2Yga2V5d29yZHMpIHtcbiAgICAgICAgaWYgKGZpZWxkLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoa2V5d29yZC50b0xvd2VyQ2FzZSgpKSkgcmV0dXJuIGZpZWxkO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiDkvb/nlKjlub/luqbkvJjlhYjmkJzntKLvvIhCRlPvvInlnKjltYzlpZflr7nosaHkuK3mn6Xmib7nrKzkuIDkuKrljIXlkKvkuI7lhbPplK7lrZfljLnphY3nmoTplK7nmoTlr7nosaHjgIJcbiAgICogQHBhcmFtIGRhdGEg6KaB5pCc57Si55qE6aG25bGC5a+56LGh44CCXG4gICAqIEBwYXJhbSBrZXl3b3JkcyDkuIDkuKrljIXlkKvopoHljLnphY3nmoTlhbPplK7lrZfnmoTlrZfnrKbkuLLmlbDnu4TjgIJcbiAgICogQHJldHVybnMg6L+U5Zue5YyF5ZCr5Yy56YWN6ZSu55qE56ys5LiA5Liq5a+56LGh77yM5aaC5p6c5pyq5om+5Yiw5YiZ6L+U5ZueIG51bGzjgIJcbiAgICovXG4gIHByaXZhdGUgZmluZE9iamVjdENvbnRhaW5pbmdLZXkoZGF0YTogYW55LCBrZXl3b3Jkczogc3RyaW5nW10pOiBhbnkgfCBudWxsIHtcbiAgICBpZiAoIWRhdGEgfHwgdHlwZW9mIGRhdGEgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IHF1ZXVlID0gW2RhdGFdO1xuICAgIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSBxdWV1ZS5zaGlmdCgpO1xuICAgICAgICBpZiAoIWN1cnJlbnQgfHwgdHlwZW9mIGN1cnJlbnQgIT09ICdvYmplY3QnKSBjb250aW51ZTtcblxuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoY3VycmVudCk7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5d29yZCBvZiBrZXl3b3Jkcykge1xuICAgICAgICAgICAgICAgIC8vIOS9v+eUqCBpbmNsdWRlcyDov5vooYzpg6jliIbljLnphY3vvIzku6XlhbzlrrkgZW1vamkg5ZKM5L+u6aWw6K+NXG4gICAgICAgICAgICAgICAgaWYgKGtleS5pbmNsdWRlcyhrZXl3b3JkKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudDsgLy8g5om+5Yiw5LqG5YyF5ZCr55uu5qCH6ZSu55qE5a+56LGhXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyDlsIblrZDlr7nosaHliqDlhaXpmJ/liJfku6Xnu6fnu63mkJzntKJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjdXJyZW50W2tleV0gPT09ICdvYmplY3QnICYmIGN1cnJlbnRba2V5XSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goY3VycmVudFtrZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsOyAvLyDmkJzntKLlrozmlbTkuKrlr7nosaHmoJHlkI7ku43mnKrmib7liLBcbiAgfVxuXG4gIHByaXZhdGUgX2FwcGx5U3ludGF4SGlnaGxpZ2h0aW5nKGh0bWw6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgaWYgKCFodG1sKSByZXR1cm4gJyc7XG4gICAgLy8gbGV0IHQgPSBodG1sO1xuICAgIC8vIC8vIE9yZGVyIG1hdHRlcnM6IGFwcGx5IG1vcmUgc3BlY2lmaWMgb25lcyBmaXJzdC5cbiAgICAvLyAvLyDjgJAuLi7jgJEgZm9yIHNwZWNpYWwgaXRlbXNcbiAgICAvLyB0ID0gdC5yZXBsYWNlKC/jgJAoW148XSs/KeOAkS9nLCAnPHNwYW4gY2xhc3M9XCJ0ZXh0LWhpZ2hsaWdodC1zcGVjaWFsXCI+44CQJDHjgJE8L3NwYW4+Jyk7XG4gICAgLy8gLy8g44CMLi4u44CNIGZvciBxdW90ZXNcbiAgICAvLyB0ID0gdC5yZXBsYWNlKC/jgIwoW148XSs/KeOAjS9nLCAnPHNwYW4gY2xhc3M9XCJ0ZXh0LWhpZ2hsaWdodC1xdW90ZVwiPuOAjCQx44CNPC9zcGFuPicpO1xuICAgIC8vIC8vIOKAnC4uLuKAnSBmb3IgbmFycmF0aW9uXG4gICAgLy8gdCA9IHQucmVwbGFjZSgv4oCcKFtePF0rPynigJ0vZywgJzxzcGFuIGNsYXNzPVwidGV4dC1oaWdobGlnaHQtbmFycmF0aW9uXCI+4oCcJDHigJ08L3NwYW4+Jyk7XG4gICAgLy8gLy8gKC4uLikgZm9yIHRob3VnaHRzXG4gICAgLy8gdCA9IHQucmVwbGFjZSgv77yIKFtePF0rPynvvIkvZywgJzxzcGFuIGNsYXNzPVwidGV4dC1oaWdobGlnaHQtdGhvdWdodFwiPu+8iCQx77yJPC9zcGFuPicpO1xuICAgIC8vIC8vICoqLi4uKiogZm9yIGVtcGhhc2lzIChmcm9tIG1hcmtkb3duKVxuICAgIC8vIHQgPSB0LnJlcGxhY2UoLzxzdHJvbmc+KFtePF0rPyk8XFwvc3Ryb25nPi9nLCAnPHN0cm9uZyBjbGFzcz1cInRleHQtaGlnaGxpZ2h0LWVtcGhhc2lzXCI+JDE8L3N0cm9uZz4nKTtcbiAgICByZXR1cm4gaHRtbDtcbiAgfVxuXG4gIHJlbmRlclNpZGVQYW5lbHMobWVzc2FnZURhdGE6IGFueSB8IG51bGwpIHtcbiAgICAvLyDlp4vnu4jku47ogYrlpKnlj5jph4/vvIjljZXkuIDkuovlrp7mnaXmupDvvInmuLLmn5PnirbmgIFcbiAgICB0aGlzLnJlbmRlcldvcmxkSW5mb0Zyb21DaGF0VmFycygpO1xuICAgIC8vIHRoaXMucmVuZGVyQ2hhcmFjdGVyc0Zyb21DaGF0VmFycygpOyAvLyBNaWdyYXRlZCB0byBWdWVcbiAgICAvLyB0aGlzLnJlbmRlclJlbGF0aW9uc0Zyb21DaGF0VmFycygpOyAvLyBNaWdyYXRlZCB0byBWdWVcbiAgICAvLyB0aGlzLnJlbmRlclNoZWx0ZXJGcm9tQ2hhdFZhcnMoKTsgLy8gTWlncmF0ZWQgdG8gVnVlXG4gICAgdGhpcy5yZW5kZXJJbnZlbnRvcnlGcm9tQ2hhdFZhcnMoKTsgLy8gVGhpcyBvbmUgd2FzIGFscmVhZHkgY29ycmVjdFxuICAgIHRoaXMucmVuZGVyU3lzdGVtRnJvbUNoYXRWYXJzKCk7XG5cbiAgICAvLyDooYzliqjpgInpobnmmK/kuLTml7bnmoTvvIzlv4Xpobvku47lvZPmrKHmtojmga/kuK3ojrflj5ZcbiAgICB0aGlzLnJlbmRlckFjdGlvbk9wdGlvbnMobWVzc2FnZURhdGEpO1xuICB9XG5cbiAgcmVuZGVyQWxsKCkge1xuICAgIGxvZ2dlcignaW5mbycsICdSZW5kZXJlcicsICdbU1dJUEVfUkVOREVSXSByZW5kZXJBbGwgY2FsbGVkLiBSZWFkaW5nIGZpbmFsIHN0YXRlIGZyb20gY2hhdCB2YXJpYWJsZXMgZm9yIHJlbmRlcmluZy4nKTtcbiAgICBjb25zdCBmaW5hbFZhcnMgPSBnZXRWYXJpYWJsZXMoeyB0eXBlOiAnY2hhdCcgfSk7XG4gICAgbG9nZ2VyKCdsb2cnLCAnUmVuZGVyZXInLCAnW1NXSVBFX1JFTkRFUl0gU3RhdGUgYmVmb3JlIHJlbmRlcmluZzonLCBfLmNsb25lRGVlcChmaW5hbFZhcnMpKTtcblxuICAgIC8vIHYyLjIg6YeN5p6EOiByZW5kZXJBbGwg5LiN5YaN5o6l5Y+X5Y+C5pWw77yM6ICM5piv6Ieq5bex5LuO5Y2V5LiA5LqL5a6e5p2l5rqQ6I635Y+W5omA5pyJ6ZyA6KaB55qE5pWw5o2u44CCXG4gICAgY29uc3QgbWVzc2FnZXMgPSB0aGlzLmhpc3RvcnlNYW5hZ2VyLmdldE1lc3NhZ2VzRm9yUHJvbXB0KCk7XG4gICAgY29uc3QgbGFzdE1lc3NhZ2UgPSBfLmxhc3QobWVzc2FnZXMpO1xuXG4gICAgbGV0IHN0b3J5SHRtbENvbnRlbnQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgIHRoaXMuanNvbkRhdGEgPSBudWxsOyAvLyDph43nva7nirbmgIFcblxuICAgIGlmIChsYXN0TWVzc2FnZSkge1xuICAgICAgc3RvcnlIdG1sQ29udGVudCA9IGxhc3RNZXNzYWdlLmNvbnRlbnQ7XG4gICAgICBjb25zdCByYXdKc29uQ29udGVudCA9IGV4dHJhY3RKc29uRnJvbVN0YXR1c0JhcihsYXN0TWVzc2FnZS5jb250ZW50KTtcbiAgICAgIGlmIChyYXdKc29uQ29udGVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHRoaXMuanNvbkRhdGEgPSB0aGlzLl90cmFuc2Zvcm1Kc29uRGF0YShKU09OLnBhcnNlKHJhd0pzb25Db250ZW50KSk7XG4gICAgICAgICAgdGhpcy5maW5kUm9vdE5vZGVLZXkoKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGxvZ2dlcignd2FybicsICdSZW5kZXJlcicsICdGYWlsZWQgdG8gcGFyc2UgSlNPTiBpbiByZW5kZXJBbGwgZm9yIGxhc3QgbWVzc2FnZS4nLCBlKTtcbiAgICAgICAgICB0aGlzLmpzb25EYXRhID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBjb25zdCByb290RGF0YSA9IHRoaXMuanNvbkRhdGEgJiYgdGhpcy5yb290Tm9kZUtleSA/IHRoaXMuanNvbkRhdGFbdGhpcy5yb290Tm9kZUtleV0gOiBudWxsO1xuICAgIFxuICAgIHRoaXMucmVuZGVyU3Rvcnkocm9vdERhdGEsIHN0b3J5SHRtbENvbnRlbnQpO1xuICAgIHRoaXMucmVuZGVyU2lkZVBhbmVscyh0aGlzLmpzb25EYXRhKTtcbiAgfVxuXG4gIHJlbmRlclN0b3J5KGRhdGE6IGFueSB8IG51bGwsIHN0b3J5SHRtbENvbnRlbnQ6IHN0cmluZyB8IG51bGwpIHtcbiAgICBpZiAoIXRoaXMuZWxlbWVudHMuc3RvcnlDb250ZW50KSByZXR1cm47XG5cbiAgICBpZiAoc3RvcnlIdG1sQ29udGVudCkge1xuICAgICAgY29uc3Qgc3RvcnlPbmx5SHRtbCA9IHN0b3J5SHRtbENvbnRlbnQucmVwbGFjZSgvPHN0YXR1c2Jhcj5bXFxzXFxTXSo/PFxcL3N0YXR1c2Jhcj4vaSwgJycpO1xuICAgICAgaWYgKHN0b3J5T25seUh0bWwpIHtcbiAgICAgICAgY29uc3QgcmF3SHRtbCA9IG1hcmtlZC5wYXJzZShzdG9yeU9ubHlIdG1sKTtcbiAgICAgICAgdGhpcy5lbGVtZW50cy5zdG9yeUNvbnRlbnQuaW5uZXJIVE1MID0gdGhpcy5fYXBwbHlTeW50YXhIaWdobGlnaHRpbmcocmF3SHRtbCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkYXRhKSB7XG4gICAgICBjb25zdCBldmVudEtleSA9IHRoaXMuZmluZEZpZWxkQnlLZXl3b3JkcyhkYXRhLCBbJ+acgOaWsOS6i+S7ticsICfmg4XoioInLCAn5o+P6L+wJ10pO1xuICAgICAgaWYgKGV2ZW50S2V5ICYmIGRhdGFbZXZlbnRLZXldKSB7XG4gICAgICAgIGNvbnN0IHJhd0h0bWwgPSBtYXJrZWQucGFyc2UoZGF0YVtldmVudEtleV0pO1xuICAgICAgICB0aGlzLmVsZW1lbnRzLnN0b3J5Q29udGVudC5pbm5lckhUTUwgPSB0aGlzLl9hcHBseVN5bnRheEhpZ2hsaWdodGluZyhyYXdIdG1sKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZWxlbWVudHMuc3RvcnlDb250ZW50LmlubmVySFRNTCA9IGA8cCBjbGFzcz1cInRleHQtc2Vjb25kYXJ5XCI+54q25oCB5bey5pu05paw77yM6K+35p+l55yL5Y+z5L6n6Z2i5p2/5LqG6Kej6K+m5oOF44CCPC9wPmA7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIElmIGJvdGggYXJlIG51bGwsIHRoZSBtZXNzYWdlIGZyb20gaW5pdCdzIGVycm9yIGhhbmRsaW5nIHdpbGwgYmUgcHJlc2VydmVkLlxuICB9XG5cbiAgcmVuZGVyV29ybGRJbmZvRnJvbUNoYXRWYXJzKCkge1xuICAgIGNvbnN0IHZhcmlhYmxlcyA9IGdldFZhcmlhYmxlcyh7IHR5cGU6ICdjaGF0JyB9KTtcbiAgICBjb25zdCB0aW1lU3RyaW5nID0gXy5nZXQodmFyaWFibGVzLCAn5LiW55WMLuaXtumXtCcsICfmnKrnn6UnKTtcbiAgICBjb25zdCBsb2NhdGlvbiA9IF8uZ2V0KHZhcmlhYmxlcywgJ+S4lueVjC7lnLDngrknLCAn5pyq55+lJyk7XG4gICAgXG4gICAgbG9nZ2VyKCdsb2cnLCAnUmVuZGVyZXInLCAnUmVuZGVyaW5nIFdvcmxkIEluZm86JywgeyB0aW1lOiB0aW1lU3RyaW5nLCBsb2NhdGlvbiB9KTtcblxuICAgIGlmICh0aGlzLmVsZW1lbnRzLnRpbWVEaXNwbGF5KSB7XG4gICAgICB0aGlzLmVsZW1lbnRzLnRpbWVEaXNwbGF5LnRleHRDb250ZW50ID0gdGhpcy5mb3JtYXROb2RlTmFtZSh0aW1lU3RyaW5nLCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZWxlbWVudHMubG9jYXRpb25EaXNwbGF5KSB7XG4gICAgICB0aGlzLmVsZW1lbnRzLmxvY2F0aW9uRGlzcGxheS50ZXh0Q29udGVudCA9IHRoaXMuZm9ybWF0Tm9kZU5hbWUobG9jYXRpb24sIHRydWUpO1xuICAgIH1cbiAgICB0aGlzLnJlbmRlcldlYXRoZXJGcm9tQ2hhdFZhcnMoKTtcbiAgfVxuXG4gIHJlbmRlcldlYXRoZXJGcm9tQ2hhdFZhcnMoKSB7XG4gICAgaWYgKCF0aGlzLmVsZW1lbnRzLndlYXRoZXJEaXNwbGF5KSByZXR1cm47XG4gICAgY29uc3QgdmFyaWFibGVzID0gZ2V0VmFyaWFibGVzKHsgdHlwZTogJ2NoYXQnIH0pO1xuICAgIGNvbnN0IHdlYXRoZXJTdGF0ZSA9IF8uZ2V0KHZhcmlhYmxlcywgJ+S4lueVjC7lpKnmsJQnLCB7fSk7XG5cbiAgICBjb25zdCB3ZWF0aGVyID0gXy5nZXQod2VhdGhlclN0YXRlLCAn5b2T5YmN5aSp5rCUJywgJ+aZtOaclycpO1xuICAgIGNvbnN0IHNlYXNvbiA9IF8uZ2V0KHdlYXRoZXJTdGF0ZSwgJ+Wto+iKgicsICcnKTtcbiAgICBjb25zdCBzb2xhclRlcm0gPSBfLmdldCh3ZWF0aGVyU3RhdGUsICfoioLmsJQnLCAnJyk7XG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBfLmdldCh3ZWF0aGVyU3RhdGUsICflpKnmsJTmj4/ov7AnLCAn5aSp5rCU54q25Ya15pyq55+lJyk7XG4gICAgY29uc3QgaW5mbHVlbmNlcyA9IF8uZ2V0KHdlYXRoZXJTdGF0ZSwgJ+WkqeawlOW9seWTjScsIFtdKTtcbiAgICBcbiAgICBjb25zdCB3ZWF0aGVySWNvbk1hcDogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHtcbiAgICAgICAgJ+aZtOaclyc6ICfimIDvuI8nLCAn5b6u6ZuoJzogJ/CfkqcnLCAn5aSa5LqRJzogJ+KYge+4jycsICfng4jml6UnOiAn8J+UpScsXG4gICAgICAgICfpm7fpmLXpm6gnOiAn4puI77iPJywgJ+mXt+eDrSc6ICfwn6W1JywgJ+eni+mrmOawlOeIvSc6ICfwn42CJywgJ+mYtOWkqSc6ICfwn4yl77iPJyxcbiAgICAgICAgJ+Wwj+mbqCc6ICfwn4ym77iPJywgJ+Wwj+mbqic6ICfinYTvuI8nLCAn6Zi05Ya3JzogJ/CfpbYnLCAn5pm05pqWJzogJ/CfjKTvuI8nLFxuICAgICAgICAn54G15rCU6ZuoJzogJ/CfjIwnLFxuICAgIH07XG4gICAgY29uc3QgaW5mbHVlbmNlSWNvbk1hcDogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHtcbiAgICAgICAgJ+eliOmbqCc6ICfwn4yn77iPJywgJ+W5suaXsSc6ICfwn4+c77iPJywgJ+W8uumjjic6ICfwn5KoJywgJ+eBteawlOa1k+mDgSc6ICfinKgnLFxuICAgIH07XG5cbiAgICBjb25zdCBpY29uID0gd2VhdGhlckljb25NYXBbd2VhdGhlcl0gfHwgJ+Kdkyc7XG4gICAgXG4gICAgbGV0IGRpc3BsYXlUZXh0ID0gYDxzcGFuIHRpdGxlPVwiJHtkZXNjcmlwdGlvbn1cIj4ke2ljb259ICR7d2VhdGhlcn08L3NwYW4+YDtcbiAgICBpZiAoc2Vhc29uICYmIHNvbGFyVGVybSkge1xuICAgICAgZGlzcGxheVRleHQgKz0gYCA8c3BhbiBjbGFzcz1cInRleHQtc2Vjb25kYXJ5IHRleHQteHNcIj4oJHtzZWFzb259wrcke3NvbGFyVGVybX0pPC9zcGFuPmA7XG4gICAgfVxuXG4gICAgLy8g5riy5p+T5aSp5rCU5b2x5ZONXG4gICAgaWYgKGluZmx1ZW5jZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBpbmZsdWVuY2VzSHRtbCA9IGluZmx1ZW5jZXMubWFwKChpbmY6IGFueSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5mSWNvbiA9IGluZmx1ZW5jZUljb25NYXBbaW5mLuexu+Wei10gfHwgJ/CfjIAnO1xuICAgICAgICAgICAgY29uc3QgdG9vbHRpcCA9IGAke2luZi7nsbvlnot9ICjmnaXmupA6ICR7aW5mLuadpea6kH0pYDtcbiAgICAgICAgICAgIHJldHVybiBgPHNwYW4gY2xhc3M9XCJtbC0yXCIgdGl0bGU9XCIke3Rvb2x0aXB9XCI+JHtpbmZJY29ufTwvc3Bhbj5gO1xuICAgICAgICB9KS5qb2luKCcnKTtcbiAgICAgICAgZGlzcGxheVRleHQgKz0gaW5mbHVlbmNlc0h0bWw7XG4gICAgfVxuICAgIFxuICAgIHRoaXMuZWxlbWVudHMud2VhdGhlckRpc3BsYXkuaW5uZXJIVE1MID0gZGlzcGxheVRleHQ7XG4gIH1cblxuICByZW5kZXJDaGFyYWN0ZXJzRnJvbUNoYXRWYXJzKCkge1xuICAgIGlmICghdGhpcy5lbGVtZW50cy5jaGFyYWN0ZXJzQ29udGFpbmVyKSByZXR1cm47XG4gICAgdGhpcy5lbGVtZW50cy5jaGFyYWN0ZXJzQ29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuXG4gICAgY29uc3QgdmFyaWFibGVzID0gZ2V0VmFyaWFibGVzKHsgdHlwZTogJ2NoYXQnIH0pO1xuICAgIGNvbnN0IGNoYXJhY3RlcnMgPSBfLmdldCh2YXJpYWJsZXMsICfop5LoibInLCB7fSk7XG4gICAgLy8gRmlsdGVyIG91dCBub24tY2hhcmFjdGVyIHByb3BlcnRpZXMgbGlrZSAn5Li75o6n6KeS6Imy5ZCNJ1xuICAgIGNvbnN0IGNoYXJhY3Rlckxpc3QgPSBPYmplY3QudmFsdWVzKGNoYXJhY3RlcnMpLmZpbHRlcigoY2hhcjogYW55KSA9PiBfLmlzT2JqZWN0KGNoYXIpICYmIGNoYXIu5aeT5ZCNKTtcbiAgICBsb2dnZXIoJ2xvZycsICdSZW5kZXJlcicsICdSZW5kZXJpbmcgQ2hhcmFjdGVycy4gRm91bmQgY2hhcmFjdGVyczonLCBfLmNsb25lRGVlcChjaGFyYWN0ZXJMaXN0KSk7XG5cbiAgICBpZiAoY2hhcmFjdGVyTGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICBjaGFyYWN0ZXJMaXN0LmZvckVhY2goKGNoYXJEYXRhOiBhbnkpID0+IHtcbiAgICAgICAgY29uc3QgY2FyZCA9IHRoaXMuY3JlYXRlQ2hhcmFjdGVyQ2FyZCh7IFtg8J+RpCDop5LoibI6ICR7Y2hhckRhdGEu5aeT5ZCNfWBdOiBjaGFyRGF0YSB9KTtcbiAgICAgICAgaWYgKGNhcmQpIHRoaXMuZWxlbWVudHMuY2hhcmFjdGVyc0NvbnRhaW5lciEuYXBwZW5kQ2hpbGQoY2FyZCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbGVtZW50cy5jaGFyYWN0ZXJzQ29udGFpbmVyLmlubmVySFRNTCA9IHRoaXMuY3JlYXRlRW1wdHlTdGF0ZSgn5rKh5pyJ6KeS6Imy5pWw5o2uJyk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyUmVsYXRpb25zRnJvbUNoYXRWYXJzKCkge1xuICAgIGlmICghdGhpcy5lbGVtZW50cy5yZWxhdGlvbnNDb250YWluZXIpIHJldHVybjtcbiAgICB0aGlzLmVsZW1lbnRzLnJlbGF0aW9uc0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcblxuICAgIGNvbnN0IHZhcmlhYmxlcyA9IGdldFZhcmlhYmxlcyh7IHR5cGU6ICdjaGF0JyB9KTtcbiAgICBjb25zdCBtYWluQ2hhck5hbWUgPSBfLmdldCh2YXJpYWJsZXMsICfop5LoibIu5Li75o6n6KeS6Imy5ZCNJyk7XG4gICAgaWYgKCFtYWluQ2hhck5hbWUpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50cy5yZWxhdGlvbnNDb250YWluZXIuaW5uZXJIVE1MID0gdGhpcy5jcmVhdGVFbXB0eVN0YXRlKCfml6Dms5Xnoa7lrprkuLvmjqfop5LoibInKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHJlbGF0aW9ucyA9IF8uZ2V0KHZhcmlhYmxlcywgYOinkuiJsi4ke21haW5DaGFyTmFtZX0u5YWz57O7YCwge30pO1xuICAgIGxvZ2dlcignbG9nJywgJ1JlbmRlcmVyJywgJ1JlbmRlcmluZyBSZWxhdGlvbnMgZGF0YTonLCBfLmNsb25lRGVlcChyZWxhdGlvbnMpKTtcblxuICAgIGNvbnN0IHJlbGF0aW9uRW50cmllcyA9IE9iamVjdC5lbnRyaWVzKHJlbGF0aW9ucyk7XG5cbiAgICBpZiAocmVsYXRpb25FbnRyaWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgY2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjYXJkLmNsYXNzTmFtZSA9ICdiZy1zZWNvbmRhcnkvNTAgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLWRpbSBwLTQgc2hhZG93LXNtJztcblxuICAgICAgICBjb25zdCBoMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XG4gICAgICAgIGgzLmNsYXNzTmFtZSA9ICdmb250LWJvbGQgdGV4dC1sZyBtYi0zIHBiLTIgYm9yZGVyLWIgYm9yZGVyLWRpbSc7XG4gICAgICAgIGgzLmlubmVySFRNTCA9IGA8aSBjbGFzcz1cImZhcyBmYS11c2Vycy1jb2cgdGV4dC1hY2NlbnQgbXItMlwiPjwvaT4g5Lq66ZmF5YWz57O7YDtcbiAgICAgICAgY2FyZC5hcHBlbmRDaGlsZChoMyk7XG5cbiAgICAgICAgY29uc3QgbGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG4gICAgICAgIGxpc3QuY2xhc3NOYW1lID0gJ3NwYWNlLXktMiB0ZXh0LXNtJztcbiAgICAgICAgY2FyZC5hcHBlbmRDaGlsZChsaXN0KTtcblxuICAgICAgICByZWxhdGlvbkVudHJpZXMuZm9yRWFjaCgoW25hbWUsIGZhdm9yXTogW3N0cmluZywgYW55XSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICAgICAgbGkuY2xhc3NOYW1lID0gJ2ZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlcic7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGZhdm9yVmFsdWUgPSBwYXJzZUludChmYXZvciwgMTApIHx8IDA7XG4gICAgICAgICAgICBsZXQgZmF2b3JDb2xvciA9ICd0ZXh0LWdyYXktNDAwJztcbiAgICAgICAgICAgIGlmIChmYXZvclZhbHVlID4gNTApIGZhdm9yQ29sb3IgPSAndGV4dC1ncmVlbi00MDAnO1xuICAgICAgICAgICAgZWxzZSBpZiAoZmF2b3JWYWx1ZSA+IDIwKSBmYXZvckNvbG9yID0gJ3RleHQtYmx1ZS00MDAnO1xuICAgICAgICAgICAgZWxzZSBpZiAoZmF2b3JWYWx1ZSA8IDApIGZhdm9yQ29sb3IgPSAndGV4dC1yZWQtNDAwJztcblxuICAgICAgICAgICAgbGkuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgICAgIDxzcGFuPiR7bmFtZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmb250LWJvbGQgJHtmYXZvckNvbG9yfVwiPiR7ZmF2b3JWYWx1ZX08L3NwYW4+XG4gICAgICAgICAgICBgO1xuICAgICAgICAgICAgbGlzdC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVsZW1lbnRzLnJlbGF0aW9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChjYXJkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVsZW1lbnRzLnJlbGF0aW9uc0NvbnRhaW5lci5pbm5lckhUTUwgPSB0aGlzLmNyZWF0ZUVtcHR5U3RhdGUoJ+aaguaXoOinkuiJsuWFs+ezuycpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlclN5c3RlbUZyb21DaGF0VmFycygpIHtcbiAgICBpZiAodGhpcy5lbGVtZW50cy5zeXN0ZW1Db250YWluZXIpIHtcbiAgICAgIGNvbnN0IHZhcmlhYmxlcyA9IGdldFZhcmlhYmxlcyh7IHR5cGU6ICdjaGF0JyB9KTtcbiAgICAgIC8vIHYyLjA6IFBhc3MgdGhlIHZpZXcgY29udHJvbGxlciBvYmplY3QgdG8gdGhlIHJlbmRlclN5c3RlbSBkaXNwYXRjaGVyLlxuICAgICAgY29uc3Qgdmlld0NvbnRyb2xsZXJEYXRhID0gXy5nZXQodmFyaWFibGVzLCAn5LiW55WMLuW9k+WJjea/gOa0u+ezu+e7nycsIHsg5ZCN56ewOiAn5pegJyB9KTtcbiAgICAgIGxvZ2dlcignaW5mbycsICdSZW5kZXJlcicsICdbcmVuZGVyU3lzdGVtXSBSZW5kZXJpbmcgc3lzdGVtIHdpdGggdmlldyBjb250cm9sbGVyOicsIF8uY2xvbmVEZWVwKHZpZXdDb250cm9sbGVyRGF0YSkpO1xuICAgICAgcmVuZGVyU3lzdGVtKHZpZXdDb250cm9sbGVyRGF0YSwgdGhpcy5lbGVtZW50cy5zeXN0ZW1Db250YWluZXIsIHRoaXMucG9rZWRleE1hbmFnZXIpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlclNoZWx0ZXJGcm9tQ2hhdFZhcnMoKSB7XG4gICAgaWYgKCF0aGlzLmVsZW1lbnRzLnNoZWx0ZXJDb250YWluZXIpIHJldHVybjtcbiAgICB0aGlzLmVsZW1lbnRzLnNoZWx0ZXJDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG5cbiAgICBjb25zdCB2YXJpYWJsZXMgPSBnZXRWYXJpYWJsZXMoeyB0eXBlOiAnY2hhdCcgfSk7XG4gICAgY29uc3Qgc2hlbHRlckRhdGEgPSBfLmdldCh2YXJpYWJsZXMsICfkuJbnlYwu5bqH5oqk5omAJywgbnVsbCk7XG4gICAgbG9nZ2VyKCdsb2cnLCAnUmVuZGVyZXInLCAnUmVuZGVyaW5nIFNoZWx0ZXIgZGF0YTonLCBfLmNsb25lRGVlcChzaGVsdGVyRGF0YSkpO1xuXG4gICAgaWYgKHNoZWx0ZXJEYXRhICYmIF8uaXNPYmplY3Qoc2hlbHRlckRhdGEpICYmICFfLmlzRW1wdHkoc2hlbHRlckRhdGEpKSB7XG4gICAgICBjb25zdCBjYXJkID0gdGhpcy5jcmVhdGVTaGVsdGVyQ2FyZChzaGVsdGVyRGF0YSk7XG4gICAgICBpZiAoY2FyZCkgdGhpcy5lbGVtZW50cy5zaGVsdGVyQ29udGFpbmVyLmFwcGVuZENoaWxkKGNhcmQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVsZW1lbnRzLnNoZWx0ZXJDb250YWluZXIuaW5uZXJIVE1MID0gdGhpcy5jcmVhdGVFbXB0eVN0YXRlKCfmmoLml6DluofmiqTmiYDkv6Hmga8nKTtcbiAgICB9XG4gIH1cblxuICBjcmVhdGVTaGVsdGVyQ2FyZChzaGVsdGVyRGF0YTogYW55KSB7XG4gICAgY29uc3QgY2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNhcmQuY2xhc3NOYW1lID0gJ2JnLXNlY29uZGFyeS81MCByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItZGltIHAtNCBzaGFkb3ctc20gY2FyZC1ob3ZlciB0aGVtZS10cmFuc2l0aW9uJztcblxuICAgIGNvbnN0IGgzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICBoMy5jbGFzc05hbWUgPSAnZm9udC1ib2xkIHRleHQtbGcgbWItMyBwYi0yIGJvcmRlci1iIGJvcmRlci1kaW0gdGhlbWUtdHJhbnNpdGlvbic7XG4gICAgaDMuaW5uZXJIVE1MID0gYDxpIGNsYXNzPVwiZmFzIGZhLWhvbWUgdGV4dC1hY2NlbnQgbXItMlwiPjwvaT4gJHtzaGVsdGVyRGF0YS7lkI3np7AgfHwgJ+W6h+aKpOaJgCd9YDtcbiAgICBjYXJkLmFwcGVuZENoaWxkKGgzKTtcblxuICAgIGNvbnN0IGxpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgIGxpc3QuY2xhc3NOYW1lID0gJ3NwYWNlLXktMyB0ZXh0LXNtJztcbiAgICBjYXJkLmFwcGVuZENoaWxkKGxpc3QpO1xuXG4gICAgLy8g5riy5p+T57u85ZCI5bGe5oCnXG4gICAgbGlzdC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUF0dHJpYnV0ZUl0ZW0oJ+inhOaooScsIHNoZWx0ZXJEYXRhLuinhOaooSkpO1xuICAgIGxpc3QuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVBdHRyaWJ1dGVJdGVtKCfnirbmgIEnLCBzaGVsdGVyRGF0YS7nirbmgIEpKTtcbiAgICBsaXN0LmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlQXR0cmlidXRlSXRlbSgn6IiS6YCC5bqmJywgc2hlbHRlckRhdGEu6IiS6YCC5bqmKSk7XG4gICAgbGlzdC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUF0dHJpYnV0ZUl0ZW0oJ+mYsuW+oeWKmycsIHNoZWx0ZXJEYXRhLumYsuW+oeWKmykpO1xuXG4gICAgLy8g5riy5p+T57uE5Lu2XG4gICAgaWYgKHNoZWx0ZXJEYXRhLue7hOS7tiAmJiAhXy5pc0VtcHR5KHNoZWx0ZXJEYXRhLue7hOS7tikpIHtcbiAgICAgIGNvbnN0IGNvbXBvbmVudHNUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2g0Jyk7XG4gICAgICBjb21wb25lbnRzVGl0bGUuY2xhc3NOYW1lID0gJ2ZvbnQtc2VtaWJvbGQgdGV4dC1tZCBtdC00IG1iLTIgcGItMSBib3JkZXItYiBib3JkZXItZGltLzUwJztcbiAgICAgIGNvbXBvbmVudHNUaXRsZS5pbm5lckhUTUwgPSBgPGkgY2xhc3M9XCJmYXMgZmEtY29ncyB0ZXh0LWFjY2VudCBtci0yXCI+PC9pPiDnu4Tku7bor6bmg4VgO1xuICAgICAgbGlzdC5hcHBlbmRDaGlsZChjb21wb25lbnRzVGl0bGUpO1xuXG4gICAgICBPYmplY3QuZW50cmllcyhzaGVsdGVyRGF0YS7nu4Tku7YpLmZvckVhY2goKFtuYW1lLCBjb21wb25lbnRdOiBbc3RyaW5nLCBhbnldKSA9PiB7XG4gICAgICAgIGlmIChjb21wb25lbnQu54q25oCBID09PSAn5pyq5bu66YCgJyB8fCBjb21wb25lbnQu6KeE5qihID09PSAn5pyq5byA5Z6mJyB8fCBjb21wb25lbnQu6KeE5qihID09PSAn5pyq5biD572uJykgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBjb21wb25lbnRJdGVtLmNsYXNzTmFtZSA9ICdwLTMgYmctbWFpbi81MCByb3VuZGVkLWxnJztcblxuICAgICAgICBsZXQgY29tcG9uZW50SHRtbCA9IGA8ZGl2IGNsYXNzPVwiZm9udC1tZWRpdW0gdGV4dC1hY2NlbnQvOTBcIj4ke25hbWV9IDxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNlY29uZGFyeVwiPigke2NvbXBvbmVudC7op4TmqKF9KTwvc3Bhbj48L2Rpdj5gO1xuICAgICAgICBcbiAgICAgICAgLy8gRGV0YWlscyBzZWN0aW9uXG4gICAgICAgIGxldCBkZXRhaWxzSHRtbCA9ICc8ZGl2IGNsYXNzPVwibXQtMiBzcGFjZS15LTEgdGV4dC14cyB0ZXh0LXNlY29uZGFyeVwiPic7XG4gICAgICAgIGlmIChjb21wb25lbnQu5p2Q5paZKSB7XG4gICAgICAgICAgZGV0YWlsc0h0bWwgKz0gYDxkaXY+PGkgY2xhc3M9XCJmYXMgZmEtZ2VtIGZhLWZ3IG1yLTEgdGV4dC1ncmF5LTQwMFwiPjwvaT4g5p2Q5paZOiA8c3BhbiBjbGFzcz1cImZvbnQtc2VtaWJvbGQgdGV4dC1wcmltYXJ5LzgwXCI+JHtjb21wb25lbnQu5p2Q5paZfTwvc3Bhbj48L2Rpdj5gO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb21wb25lbnQu6Ziy5b6h5Yqg5oiQKSB7XG4gICAgICAgICAgZGV0YWlsc0h0bWwgKz0gYDxkaXY+PGkgY2xhc3M9XCJmYXMgZmEtc2hpZWxkLWFsdCBmYS1mdyBtci0xIHRleHQtYmx1ZS00MDBcIj48L2k+IOmYsuW+oeWKoOaIkDogPHNwYW4gY2xhc3M9XCJmb250LXNlbWlib2xkIHRleHQtcHJpbWFyeS84MFwiPiR7Y29tcG9uZW50LumYsuW+oeWKoOaIkH08L3NwYW4+PC9kaXY+YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tcG9uZW50LumYsumbqOWKoOaIkCkge1xuICAgICAgICAgIGRldGFpbHNIdG1sICs9IGA8ZGl2PjxpIGNsYXNzPVwiZmFzIGZhLWNsb3VkLXNob3dlcnMtaGVhdnkgZmEtZncgbXItMSB0ZXh0LWN5YW4tNDAwXCI+PC9pPiDpmLLpm6jliqDmiJA6IDxzcGFuIGNsYXNzPVwiZm9udC1zZW1pYm9sZCB0ZXh0LXByaW1hcnkvODBcIj4ke2NvbXBvbmVudC7pmLLpm6jliqDmiJB9PC9zcGFuPjwvZGl2PmA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbXBvbmVudC7kuqflh7rmlYjnjocpIHtcbiAgICAgICAgICBkZXRhaWxzSHRtbCArPSBgPGRpdj48aSBjbGFzcz1cImZhcyBmYS1sZWFmIGZhLWZ3IG1yLTEgdGV4dC1ncmVlbi00MDBcIj48L2k+IOS6p+WHuuaViOeOhzogPHNwYW4gY2xhc3M9XCJmb250LXNlbWlib2xkIHRleHQtcHJpbWFyeS84MFwiPiR7Y29tcG9uZW50LuS6p+WHuuaViOeOh308L3NwYW4+PC9kaXY+YDtcbiAgICAgICAgfVxuICAgICAgICBkZXRhaWxzSHRtbCArPSAnPC9kaXY+JztcbiAgICAgICAgY29tcG9uZW50SHRtbCArPSBkZXRhaWxzSHRtbDtcblxuICAgICAgICBpZiAoY29tcG9uZW50LuiAkOS5heW6pikge1xuICAgICAgICAgIGNvbnN0IGR1cmFiaWxpdHlWYWx1ZSA9IHBhcnNlRmxvYXQoU3RyaW5nKGNvbXBvbmVudC7ogJDkuYXluqYpLnJlcGxhY2UoJyUnLCcnKSkgfHwgMDtcbiAgICAgICAgICBsZXQgYmdDb2xvciA9ICdiZy1ncmVlbi01MDAnO1xuICAgICAgICAgIGlmIChkdXJhYmlsaXR5VmFsdWUgPCAzMCkgYmdDb2xvciA9ICdiZy1yZWQtNTAwJztcbiAgICAgICAgICBlbHNlIGlmIChkdXJhYmlsaXR5VmFsdWUgPCA2MCkgYmdDb2xvciA9ICdiZy15ZWxsb3ctNTAwJztcblxuICAgICAgICAgIGNvbXBvbmVudEh0bWwgKz0gYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm10LTJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi0xIHRleHQteHMgZm9udC1tb25vIHRleHQtc2Vjb25kYXJ5XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4+6ICQ5LmF5bqmOiAke2NvbXBvbmVudC7nirbmgIEgfHwgJyd9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuPiR7ZHVyYWJpbGl0eVZhbHVlLnRvRml4ZWQoMCl9JTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmVzcy1iYXItYmcgdy1mdWxsIHJvdW5kZWQtZnVsbCBoLTEuNVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmVzcy1iYXItZmcgaC0xLjUgcm91bmRlZC1mdWxsICR7YmdDb2xvcn1cIiBzdHlsZT1cIndpZHRoOiAke2R1cmFiaWxpdHlWYWx1ZX0lXCI+PC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYDtcbiAgICAgICAgfVxuICAgICAgICBjb21wb25lbnRJdGVtLmlubmVySFRNTCA9IGNvbXBvbmVudEh0bWw7XG4gICAgICAgIGxpc3QuYXBwZW5kQ2hpbGQoY29tcG9uZW50SXRlbSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGNhcmQ7XG4gIH1cblxuICByZW5kZXJJbnZlbnRvcnlGcm9tQ2hhdFZhcnMoKSB7XG4gICAgbG9nZ2VyKCdsb2cnLCAnUmVuZGVyZXInLCAnYHJlbmRlckludmVudG9yeUZyb21DaGF0VmFyc2AgY2FsbGVkLicpO1xuICAgIGNvbnN0IHZhcmlhYmxlcyA9IGdldFZhcmlhYmxlcyh7IHR5cGU6ICdjaGF0JyB9KTtcbiAgICBsb2dnZXIoJ2xvZycsICdSZW5kZXJlcicsICdBbGwgQ2hhdCBWYXJpYWJsZXMgZm9yIGludmVudG9yeSByZW5kZXJpbmc6JywgXy5jbG9uZURlZXAodmFyaWFibGVzKSk7XG5cbiAgICBsZXQgaW52ZW50b3J5OiBhbnlbXSA9IFtdO1xuICAgIGNvbnN0IG1haW5DaGFyYWN0ZXJOYW1lID0gXy5nZXQodmFyaWFibGVzLCAn6KeS6ImyLuS4u+aOp+inkuiJsuWQjScpO1xuICAgIFxuICAgIGlmIChtYWluQ2hhcmFjdGVyTmFtZSkge1xuICAgICAgICBjb25zdCBpbnZlbnRvcnlLZXkgPSBg6KeS6ImyLiR7bWFpbkNoYXJhY3Rlck5hbWV9LueJqeWTgWA7XG4gICAgICAgIGludmVudG9yeSA9IF8uZ2V0KHZhcmlhYmxlcywgaW52ZW50b3J5S2V5LCBbXSk7XG4gICAgICAgIGxvZ2dlcignbG9nJywgJ1JlbmRlcmVyJywgYEludmVudG9yeSBkYXRhIHJldHJpZXZlZCBmcm9tIGtleTogXCIke2ludmVudG9yeUtleX1cImAsIF8uY2xvbmVEZWVwKGludmVudG9yeSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGxvZ2dlcignd2FybicsICdSZW5kZXJlcicsICdDb3VsZCBub3QgZmluZCBcIuinkuiJsi7kuLvmjqfop5LoibLlkI1cIiBpbiBjaGF0IHZhcmlhYmxlcy4gQ2hlY2tpbmcgZm9yIGZhbGxiYWNrIFwiaW52ZW50b3J5XCIga2V5LicpO1xuICAgICAgICBpbnZlbnRvcnkgPSBfLmdldCh2YXJpYWJsZXMsICdpbnZlbnRvcnknLCBbXSk7XG4gICAgICAgIGlmIChpbnZlbnRvcnkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbG9nZ2VyKCdsb2cnLCAnUmVuZGVyZXInLCAnRm91bmQgaW52ZW50b3J5IGRhdGEgdW5kZXIgYSBnZW5lcmljIFwiaW52ZW50b3J5XCIga2V5OicsIF8uY2xvbmVEZWVwKGludmVudG9yeSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbG9nZ2VyKCdsb2cnLCAnUmVuZGVyZXInLCAnTm8gaW52ZW50b3J5IGRhdGEgZm91bmQgaW4gZmFsbGJhY2sgbG9jYXRpb25zIGVpdGhlci4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHBva2VkZXhEYXRhID0gXy5nZXQodmFyaWFibGVzLCAn5LiW55WMLuWbvumJtCcsIHt9KTtcbiAgICBsb2dnZXIoJ2luZm8nLCAnUmVuZGVyZXInLCAnUG9rZWRleCBkYXRhIGZvciByZW5kZXJpbmc6JywgXy5jbG9uZURlZXAocG9rZWRleERhdGEpKTtcblxuICAgIGlmIChpbnZlbnRvcnkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGxvZ2dlcignd2FybicsICdSZW5kZXJlcicsICdJbnZlbnRvcnkgaXMgZW1wdHkuIFRoZSBVSSB3aWxsIHNob3cgYW4gZW1wdHkgc3RhdGUuJyk7XG4gICAgfVxuICAgIGlmICghcG9rZWRleERhdGEgfHwgKF8uaXNFbXB0eShwb2tlZGV4RGF0YVsn5aaW5YW9J10pICYmIF8uaXNFbXB0eShwb2tlZGV4RGF0YVsn5qSN54mpJ10pKSkge1xuICAgICAgICBsb2dnZXIoJ3dhcm4nLCAnUmVuZGVyZXInLCAnUG9rZWRleCBkYXRhIGlzIGVtcHR5LiBUaGUgVUkgd2lsbCBzaG93IGFuIGVtcHR5IHN0YXRlLicpO1xuICAgIH1cblxuICAgIC8vIHYzLjg6IE1lcmdlIGludmVudG9yeSB3aXRoIFBva2VkZXggZGF0YSBmb3IgcmljaGVyIGRldGFpbHNcbiAgICBjb25zdCBwb2tlZGV4SXRlbXMgPSBfLmdldChwb2tlZGV4RGF0YSwgJ+eJqeWTgScsIFtdKTtcbiAgICBjb25zdCBwb2tlZGV4SXRlbXNNYXAgPSBfLmtleUJ5KHBva2VkZXhJdGVtcywgJ+WQjeensCcpO1xuXG4gICAgY29uc3QgbWVyZ2VkSW52ZW50b3J5ID0gaW52ZW50b3J5Lm1hcChpbnZJdGVtID0+IHtcbiAgICAgICAgY29uc3QgcG9rZWRleEl0ZW0gPSBwb2tlZGV4SXRlbXNNYXBbaW52SXRlbS7lkI3np7BdO1xuICAgICAgICBpZiAocG9rZWRleEl0ZW0pIHtcbiAgICAgICAgICAgIC8vIFBva2VkZXggZW50cnkgZXhpc3RzLiBDb21iaW5lIGRhdGEuXG4gICAgICAgICAgICAvLyBQcmlvcml0aXplIFBva2VkZXggZm9yIGJhc2UgaW5mbywgYnV0IGludmVudG9yeSBmb3IgZHluYW1pYyB2YWx1ZXMuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLnBva2VkZXhJdGVtLCAvLyBTdGFydCB3aXRoIFBva2VkZXggZGF0YSAoZGVzYywgZXRjLilcbiAgICAgICAgICAgICAgICAuLi5pbnZJdGVtLCAgICAgLy8gT3ZlcndyaXRlIHdpdGggaW52ZW50b3J5IGRhdGEgKGVuc3VyZXMgcXVhbnRpdHkgYW5kIHZhbHVlIGFyZSBmcm9tIHRoZSBwbGF5ZXIncyBpdGVtKVxuICAgICAgICAgICAgICAgIC8vIEV4cGxpY2l0bHkgZmFsbCBiYWNrIHRvIHBva2VkZXggdmFsdWUgaWYgaW52ZW50b3J5IGl0ZW0gaGFzIG5vbmUuXG4gICAgICAgICAgICAgICAg5Lu35YC8OiBpbnZJdGVtLuS7t+WAvCB8fCBwb2tlZGV4SXRlbS7ku7flgLwsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gTm8gUG9rZWRleCBlbnRyeSwgdXNlIGludmVudG9yeSBkYXRhIGFzIGlzLlxuICAgICAgICAgICAgcmV0dXJuIGludkl0ZW07XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IHJlbmRlckxpc3RDYXJkID0gKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQgfCBudWxsLCBkYXRhOiBhbnksIHRpdGxlOiBzdHJpbmcsIGVtcHR5VGV4dDogc3RyaW5nKSA9PiB7XG4gICAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgLy8g57uf5LiA5Yib5bu65Y2h54mH77yM5Y2z5L2/5pWw5o2u5Li656m6XG4gICAgICAgIGNvbnN0IGNhcmQgPSB0aGlzLmNyZWF0ZUNoYXJhY3RlckNhcmQoeyBbdGl0bGVdOiBkYXRhIH0pO1xuICAgICAgICBpZiAoY2FyZCkge1xuICAgICAgICAgIC8vIOWmguaenOaVsOaNruS4uuepuu+8jOWImeWcqOWNoeeJh+WGhemDqOeahOWIl+ihqOS4reaPkuWFpeKAnOepuueKtuaAgeKAnea2iOaBr1xuICAgICAgICAgIGlmICghZGF0YSB8fCBkYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3QgbGlzdCA9IGNhcmQucXVlcnlTZWxlY3RvcigndWwnKTtcbiAgICAgICAgICAgIGlmIChsaXN0KSB7XG4gICAgICAgICAgICAgIGxpc3QuaW5uZXJIVE1MID0gdGhpcy5jcmVhdGVFbXB0eVN0YXRlKGVtcHR5VGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjYXJkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBiZXN0aWFyeURhdGEgPSBwb2tlZGV4RGF0YVsn5aaW5YW9J10gfHwgW107XG4gICAgY29uc3QgaGVyYm9sb2d5RGF0YSA9IHBva2VkZXhEYXRhWyfmpI3niaknXSB8fCBbXTtcbiAgICBjb25zdCBib29rc0RhdGEgPSBwb2tlZGV4RGF0YVsn5Lmm57GNJ10gfHwgW107XG5cbiAgICAvLyByZW5kZXJMaXN0Q2FyZCh0aGlzLmVsZW1lbnRzLmJlc3RpYXJ5Q29udGFpbmVyLCBiZXN0aWFyeURhdGEsIGDlt7Llj5HnjrDnmoTlppblhb0gKCR7YmVzdGlhcnlEYXRhPy5sZW5ndGggfHwgMH0pYCwgJ+WwmuacquWPkeeOsOS7u+S9leWmluWFvScpO1xuICAgIC8vIHJlbmRlckxpc3RDYXJkKHRoaXMuZWxlbWVudHMuaGVyYm9sb2d5Q29udGFpbmVyLCBoZXJib2xvZ3lEYXRhLCBg5bey5Y+R546w55qE5qSN54mpICgke2hlcmJvbG9neURhdGE/Lmxlbmd0aCB8fCAwfSlgLCAn5bCa5pyq5Y+R546w5Lu75L2V5qSN54mpJyk7XG4gICAgLy8gcmVuZGVyTGlzdENhcmQodGhpcy5lbGVtZW50cy5ib29rc0NvbnRhaW5lciwgYm9va3NEYXRhLCBg5bey5Y+R546w55qE5Lmm57GNICgke2Jvb2tzRGF0YT8ubGVuZ3RoIHx8IDB9KWAsICflsJrmnKrlj5HnjrDku7vkvZXkuabnsY0nKTtcbiAgICByZW5kZXJMaXN0Q2FyZCh0aGlzLmVsZW1lbnRzLmludmVudG9yeUNvbnRhaW5lciwgbWVyZ2VkSW52ZW50b3J5LCAn5oiR55qE54mp5ZOBJywgJ+S9oOeahOihjOWbiuepuuepuuWmguS5nycpO1xuICB9XG5cbiAgY3JlYXRlQ2hhcmFjdGVyQ2FyZChjaGFyRGF0YTogYW55KSB7XG4gICAgY29uc3QgdGl0bGVLZXkgPSBPYmplY3Qua2V5cyhjaGFyRGF0YSlbMF07XG4gICAgY29uc3QgYXR0cmlidXRlcyA9IGNoYXJEYXRhW3RpdGxlS2V5XTtcbiAgICBpZiAoIXRpdGxlS2V5IHx8ICFhdHRyaWJ1dGVzKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IGNhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjYXJkLmNsYXNzTmFtZSA9ICdiZy1zZWNvbmRhcnkvNTAgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLWRpbSBwLTQgc2hhZG93LXNtIGNhcmQtaG92ZXIgdGhlbWUtdHJhbnNpdGlvbic7XG5cbiAgICBjb25zdCBoMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XG4gICAgaDMuY2xhc3NOYW1lID0gJ2ZvbnQtYm9sZCB0ZXh0LWxnIG1iLTMgcGItMiBib3JkZXItYiBib3JkZXItZGltIHRoZW1lLXRyYW5zaXRpb24nO1xuICAgIGgzLmlubmVySFRNTCA9IGAke3RoaXMuZXh0cmFjdEVtb2ppcyh0aXRsZUtleSlbMF0gfHwgJyd9ICR7dGhpcy5mb3JtYXROb2RlTmFtZSh0aXRsZUtleSwgdHJ1ZSl9YDtcbiAgICBjYXJkLmFwcGVuZENoaWxkKGgzKTtcblxuICAgIGNvbnN0IGxpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgIGxpc3QuY2xhc3NOYW1lID0gJ3NwYWNlLXktMiB0ZXh0LXNtJztcbiAgICBjYXJkLmFwcGVuZENoaWxkKGxpc3QpO1xuXG4gICAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzID09PSAnb2JqZWN0JyAmJiBhdHRyaWJ1dGVzICE9PSBudWxsICYmICFBcnJheS5pc0FycmF5KGF0dHJpYnV0ZXMpKSB7XG4gICAgICBPYmplY3QuZW50cmllcyhhdHRyaWJ1dGVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgLy8g5qC55o2u55So5oi36KaB5rGC77yM5Zyo6KeS6Imy5Y2h54mH5Lit5LiN5YaN5pi+56S654mp5ZOB5YiX6KGoXG4gICAgICAgIGlmIChrZXkgPT09ICfnianlk4EnKSByZXR1cm47XG4gICAgICAgIC8vIOWmguaenOKAnOWFs+ezu+KAneaVsOe7hOS4uuepuu+8jOWImeS4jea4suafk+ivpeWtl+autVxuICAgICAgICBpZiAoa2V5ID09PSAn5YWz57O7JyAmJiBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAgICAgbGlzdC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUF0dHJpYnV0ZUl0ZW0oa2V5LCB2YWx1ZSkpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGF0dHJpYnV0ZXMpKSB7XG4gICAgICAgIGF0dHJpYnV0ZXMuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbnRyeU5hbWUgPSBlbnRyeVsn5ZCN56ewJ10gfHwgJ+acquefpeadoeebric7XG4gICAgICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgICAgICBsaS5jbGFzc05hbWUgPSAnY2xpY2thYmxlLWl0ZW0nO1xuICAgICAgICAgICAgbGkuZGF0YXNldC5kZXRhaWxzID0gSlNPTi5zdHJpbmdpZnkoZW50cnkpO1xuICAgICAgICAgICAgbGkuaW5uZXJIVE1MID0gYOKAoiAke3RoaXMuZm9ybWF0Tm9kZU5hbWUoZW50cnlOYW1lKX1gO1xuICAgICAgICAgICAgbGlzdC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gY2FyZDtcbiAgfVxuXG4gIGNyZWF0ZUF0dHJpYnV0ZUl0ZW0oa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpOiBIVE1MTElFbGVtZW50IHtcbiAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICBjb25zdCBlbW9qaU1hcDogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHtcbiAgICAgICAgJ+enjeaXjyc6ICfwn6esJywgJ+iBjOS4mic6ICfwn5K8JywgJ+eKtuaAgSc6ICfwn46tJywgJ+etiee6pyc6ICfwn5OIJyxcbiAgICAgICAgJ+WPo+a4tOW6pic6ICfwn5KnJywgJ+mlseiFueW6pic6ICfwn42WJywgJ+S9k+WKmyc6ICfimqHvuI8nLCAn54G15YqbJzogJ+KcqCcsXG4gICAgfTtcbiAgICBjb25zdCBjbGVhbktleSA9IHRoaXMuZm9ybWF0Tm9kZU5hbWUoa2V5LCB0cnVlKTtcbiAgICBjb25zdCBlbW9qaSA9IGVtb2ppTWFwW2NsZWFuS2V5XSB8fCB0aGlzLmV4dHJhY3RFbW9qaXMoa2V5KVswXSB8fCAn8J+UuCc7XG4gICAgY29uc3Qga2V5SHRtbCA9IGA8c3BhbiBjbGFzcz1cImZvbnQtbWVkaXVtIHRleHQtYWNjZW50XCI+JHtlbW9qaX0gJHtjbGVhbktleX06PC9zcGFuPmA7XG4gICAgY29uc3QgaXNJdGVtcyA9IGtleS5pbmNsdWRlcygn54mp5ZOBJyk7XG5cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgJ3ZhbHVlJyBpbiB2YWx1ZSAmJiAnbWF4JyBpbiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUudmFsdWUgPT09ICdudW1iZXInICYmIHR5cGVvZiB2YWx1ZS5tYXggPT09ICdudW1iZXInKSB7XG4gICAgICBpdGVtLmlubmVySFRNTCA9IGtleUh0bWw7XG4gICAgICBjb25zdCBwZXJjZW50YWdlID0gKHZhbHVlLnZhbHVlIC8gdmFsdWUubWF4KSAqIDEwMDtcbiAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgY29udGFpbmVyLmNsYXNzTmFtZSA9ICdmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTIgbXQtMSc7XG4gICAgICBjb25zdCBwcm9ncmVzc0JhcldyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHByb2dyZXNzQmFyV3JhcHBlci5jbGFzc05hbWUgPSAncHJvZ3Jlc3MtYmFyLWJnIHctZnVsbCByb3VuZGVkLWZ1bGwgaC0yLjUnO1xuICAgICAgY29uc3QgcHJvZ3Jlc3NCYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHByb2dyZXNzQmFyLmNsYXNzTmFtZSA9ICdwcm9ncmVzcy1iYXItZmcgaC0yLjUgcm91bmRlZC1mdWxsJztcbiAgICAgIHByb2dyZXNzQmFyLnN0eWxlLndpZHRoID0gYCR7cGVyY2VudGFnZX0lYDtcbiAgICAgIGlmIChwZXJjZW50YWdlIDwgMjUpIHByb2dyZXNzQmFyLmNsYXNzTGlzdC5hZGQoJ2JnLXJlZC01MDAnKTtcbiAgICAgIGVsc2UgaWYgKHBlcmNlbnRhZ2UgPCA1MCkgcHJvZ3Jlc3NCYXIuY2xhc3NMaXN0LmFkZCgnYmcteWVsbG93LTUwMCcpO1xuICAgICAgZWxzZSBwcm9ncmVzc0Jhci5jbGFzc0xpc3QuYWRkKCdiZy1ncmVlbi01MDAnKTtcbiAgICAgIHByb2dyZXNzQmFyV3JhcHBlci5hcHBlbmRDaGlsZChwcm9ncmVzc0Jhcik7XG4gICAgICBjb25zdCBwcm9ncmVzc1RleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICBwcm9ncmVzc1RleHQuY2xhc3NOYW1lID0gJ3RleHQteHMgdGV4dC1zZWNvbmRhcnkgZm9udC1tb25vJztcbiAgICAgIHByb2dyZXNzVGV4dC50ZXh0Q29udGVudCA9IGAke3ZhbHVlLnZhbHVlfSAvICR7dmFsdWUubWF4fWA7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocHJvZ3Jlc3NCYXJXcmFwcGVyKTtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChwcm9ncmVzc1RleHQpO1xuICAgICAgaXRlbS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICAgIH0gZWxzZSBpZiAoa2V5LmluY2x1ZGVzKCfku7flgLwnKSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsICYmICfln7rnoYDku7flgLwnIGluIHZhbHVlKSB7XG4gICAgICBpdGVtLmlubmVySFRNTCA9IGAke2tleUh0bWx9ICR7dmFsdWUu5Z+656GA5Lu35YC8fWA7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgICBpdGVtLmlubmVySFRNTCA9IGtleUh0bWw7XG4gICAgICBjb25zdCBzdWJMaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgICAgIHN1Ykxpc3QuY2xhc3NOYW1lID0gJ2xpc3QtZGlzYyBsaXN0LWluc2lkZSBtbC00IG10LTEgc3BhY2UteS0xJztcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICB2YWx1ZS5mb3JFYWNoKHN1YlZhbHVlID0+IHtcbiAgICAgICAgICBjb25zdCBzdWJJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgICBsZXQgdGV4dDtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoaXNJdGVtcyAmJiB0eXBlb2Ygc3ViVmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAvLyBGb3Igc2ltcGxlIHN0cmluZyBpdGVtcywganVzdCBkaXNwbGF5IHRoZW0gd2l0aG91dCBjbGljayBmdW5jdGlvbmFsaXR5LlxuICAgICAgICAgICAgLy8gVGhlIGVucmljaGVkIG9iamVjdCBmb3JtYXQgaXMgcmVxdWlyZWQgZm9yIGRldGFpbHMuXG4gICAgICAgICAgICB0ZXh0ID0gdGhpcy5mb3JtYXROb2RlTmFtZShTdHJpbmcoc3ViVmFsdWUpKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzdWJWYWx1ZSA9PT0gJ29iamVjdCcgJiYgc3ViVmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBpdGVtIGlzIGFuIG9iamVjdCwgaXQncyBhc3N1bWVkIHRvIGNvbnRhaW4gYWxsIG5lY2Vzc2FyeSBkZXRhaWxzXG4gICAgICAgICAgICAvLyBmcm9tIHRoZSBwb2tlZGV4LCBtZXJnZWQgYnkgc3luY1ZhcmlhYmxlcy5cbiAgICAgICAgICAgIHN1Ykl0ZW0uY2xhc3NMaXN0LmFkZCgnY2xpY2thYmxlLWl0ZW0nKTtcbiAgICAgICAgICAgIHN1Ykl0ZW0uZGF0YXNldC5kZXRhaWxzID0gSlNPTi5zdHJpbmdpZnkoc3ViVmFsdWUpO1xuICAgICAgICAgICAgY29uc3QgbmFtZUtleSA9IE9iamVjdC5rZXlzKHN1YlZhbHVlKS5maW5kKGsgPT4gay5pbmNsdWRlcygn5ZCN56ewJykgfHwgay5pbmNsdWRlcygn5aeT5ZCNJykpO1xuICAgICAgICAgICAgY29uc3QgYW1vdW50ID0gc3ViVmFsdWVbJ+aVsOmHjyddID8gYCB4JHtzdWJWYWx1ZVsn5pWw6YePJ119YCA6ICcnO1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IG5hbWVLZXkgPyB0aGlzLmZvcm1hdE5vZGVOYW1lKFN0cmluZyhzdWJWYWx1ZVtuYW1lS2V5XSkpIDogJ+eCueWHu+afpeeci+ivpuaDhSc7XG4gICAgICAgICAgICB0ZXh0ID0gYOOAkCR7bmFtZX3jgJEke2Ftb3VudH1gO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZXh0ID0gdGhpcy5mb3JtYXROb2RlTmFtZShTdHJpbmcoc3ViVmFsdWUpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3ViSXRlbS5pbm5lckhUTUwgPSBgJHt0aGlzLmV4dHJhY3RFbW9qaXModGV4dClbMF0gfHwgJ+KAoid9ICR7dGhpcy5mb3JtYXROb2RlTmFtZSh0ZXh0LCB0cnVlKX1gO1xuICAgICAgICAgIHN1Ykxpc3QuYXBwZW5kQ2hpbGQoc3ViSXRlbSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgT2JqZWN0LmVudHJpZXModmFsdWUpLmZvckVhY2goKFtzdWJLZXksIHN1YlZhbHVlXSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHN1Ykl0ZW0gPSB0aGlzLmNyZWF0ZUF0dHJpYnV0ZUl0ZW0oc3ViS2V5LCBzdWJWYWx1ZSk7XG4gICAgICAgICAgc3ViTGlzdC5hcHBlbmRDaGlsZChzdWJJdGVtKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpdGVtLmFwcGVuZENoaWxkKHN1Ykxpc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpdGVtLmlubmVySFRNTCA9IGAke2tleUh0bWx9ICR7dGhpcy5mb3JtYXROb2RlTmFtZShTdHJpbmcodmFsdWUpKX1gO1xuICAgIH1cbiAgICByZXR1cm4gaXRlbTtcbiAgfVxuXG4gIHJlbmRlckFjdGlvbk9wdGlvbnMoZGF0YTogYW55IHwgbnVsbCkge1xuICAgIGlmICghdGhpcy5lbGVtZW50cy5vcHRpb25zTGlzdCkgcmV0dXJuO1xuICAgIHRoaXMuZWxlbWVudHMub3B0aW9uc0xpc3QuaW5uZXJIVE1MID0gJyc7XG5cbiAgICBsb2dnZXIoJ2xvZycsICdSZW5kZXJlcicsICdbcmVuZGVyQWN0aW9uT3B0aW9uc10gUmVjZWl2ZWQgZGF0YTonLCBfLmNsb25lRGVlcChkYXRhKSk7XG5cbiAgICAvLyB2My42OiDkvb/nlKjlub/luqbkvJjlhYjmkJzntKLmnaXmn6Xmib7ljIXlkKvigJzooYzliqjpgInpobnigJ3nmoTlr7nosaHvvIzku6XlpITnkIbku7vmhI/ltYzlpZflsYLnuqfjgIJcbiAgICBjb25zdCBhY3Rpb25PcHRpb25zQ29udGFpbmVyID0gZGF0YSA/IHRoaXMuZmluZE9iamVjdENvbnRhaW5pbmdLZXkoZGF0YSwgWyfooYzliqjpgInpobknXSkgOiBudWxsO1xuICAgIGxvZ2dlcignbG9nJywgJ1JlbmRlcmVyJywgJ1tyZW5kZXJBY3Rpb25PcHRpb25zXSBGb3VuZCBhY3Rpb25PcHRpb25zQ29udGFpbmVyOicsIF8uY2xvbmVEZWVwKGFjdGlvbk9wdGlvbnNDb250YWluZXIpKTtcblxuICAgIGlmICghYWN0aW9uT3B0aW9uc0NvbnRhaW5lcikge1xuICAgICAgICBsb2dnZXIoJ3dhcm4nLCAnUmVuZGVyZXInLCAnW3JlbmRlckFjdGlvbk9wdGlvbnNdIE5vIGNvbnRhaW5lciB3aXRoIGFjdGlvbiBvcHRpb25zIGZvdW5kLiBSZW5kZXJpbmcgZW1wdHkgc3RhdGUuJyk7XG4gICAgICAgIHRoaXMuZWxlbWVudHMub3B0aW9uc0xpc3QuaW5uZXJIVE1MID0gdGhpcy5jcmVhdGVFbXB0eVN0YXRlKCfmsqHmnInlj6/nlKjooYzliqgnKTtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudHMuYWN0aW9uT3duZXIpIHRoaXMuZWxlbWVudHMuYWN0aW9uT3duZXIudGV4dENvbnRlbnQgPSAn5L2gJztcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIOeOsOWcqOaIkeS7rOacieS6huato+ehrueahOWuueWZqO+8jOS7juS4reaJvuWIsOehruWIh+eahOmUru+8iOWPr+iDveW4pmVtb2pp77yJXG4gICAgY29uc3QgYWN0aW9uT3B0aW9uc0tleSA9IHRoaXMuZmluZEZpZWxkQnlLZXl3b3JkcyhhY3Rpb25PcHRpb25zQ29udGFpbmVyLCBbJ+ihjOWKqOmAiemhuSddKTtcbiAgICBsb2dnZXIoJ2xvZycsICdSZW5kZXJlcicsIGBbcmVuZGVyQWN0aW9uT3B0aW9uc10gRm91bmQgYWN0aW9uT3B0aW9uc0tleTogXCIke2FjdGlvbk9wdGlvbnNLZXl9XCJgKTtcblxuICAgIGNvbnN0IGFjdGlvbkRhdGEgPSBhY3Rpb25PcHRpb25zS2V5ID8gYWN0aW9uT3B0aW9uc0NvbnRhaW5lclthY3Rpb25PcHRpb25zS2V5XSA6IG51bGw7XG4gICAgbG9nZ2VyKCdsb2cnLCAnUmVuZGVyZXInLCAnW3JlbmRlckFjdGlvbk9wdGlvbnNdIGFjdGlvbkRhdGE6JywgXy5jbG9uZURlZXAoYWN0aW9uRGF0YSkpO1xuXG4gICAgaWYgKCFhY3Rpb25EYXRhKSB7XG4gICAgICAgIGxvZ2dlcignd2FybicsICdSZW5kZXJlcicsICdbcmVuZGVyQWN0aW9uT3B0aW9uc10gQ291bGQgbm90IGV4dHJhY3QgYWN0aW9uRGF0YS4gUmVuZGVyaW5nIGVtcHR5IHN0YXRlLicpO1xuICAgICAgICB0aGlzLmVsZW1lbnRzLm9wdGlvbnNMaXN0LmlubmVySFRNTCA9IHRoaXMuY3JlYXRlRW1wdHlTdGF0ZSgn5rKh5pyJ5Y+v55So6KGM5YqoJyk7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnRzLmFjdGlvbk93bmVyKSB0aGlzLmVsZW1lbnRzLmFjdGlvbk93bmVyLnRleHRDb250ZW50ID0gJ+S9oCc7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBvcHRpb25zS2V5ID0gdGhpcy5maW5kRmllbGRCeUtleXdvcmRzKGFjdGlvbkRhdGEsIFsn5Y+v6YCJ6KGM5YqoJ10pO1xuICAgIGxvZ2dlcignbG9nJywgJ1JlbmRlcmVyJywgYFtyZW5kZXJBY3Rpb25PcHRpb25zXSBGb3VuZCBvcHRpb25zS2V5OiBcIiR7b3B0aW9uc0tleX1cImApO1xuXG4gICAgY29uc3Qgb3B0aW9ucyA9IChvcHRpb25zS2V5ICYmIGFjdGlvbkRhdGEgJiYgQXJyYXkuaXNBcnJheShhY3Rpb25EYXRhW29wdGlvbnNLZXldKSkgPyBhY3Rpb25EYXRhW29wdGlvbnNLZXldIDogW107XG4gICAgbG9nZ2VyKCdsb2cnLCAnUmVuZGVyZXInLCAnW3JlbmRlckFjdGlvbk9wdGlvbnNdIEZpbmFsIG9wdGlvbnMgYXJyYXk6JywgXy5jbG9uZURlZXAob3B0aW9ucykpO1xuXG4gICAgLy8g6KGM5Yqo5Lq65aeL57uI5LuO5Y2V5LiA5LqL5a6e5p2l5rqQ77yI6IGK5aSp5Y+Y6YeP77yJ6I635Y+WXG4gICAgaWYgKHRoaXMuZWxlbWVudHMuYWN0aW9uT3duZXIpIHtcbiAgICAgICAgY29uc3QgdmFyaWFibGVzID0gZ2V0VmFyaWFibGVzKHsgdHlwZTogJ2NoYXQnIH0pO1xuICAgICAgICBjb25zdCBtYWluQ2hhcmFjdGVyTmFtZSA9IF8uZ2V0KHZhcmlhYmxlcywgJ+inkuiJsi7kuLvmjqfop5LoibLlkI0nLCAn5L2gJyk7XG4gICAgICAgIHRoaXMuZWxlbWVudHMuYWN0aW9uT3duZXIudGV4dENvbnRlbnQgPSBtYWluQ2hhcmFjdGVyTmFtZTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIG9wdGlvbnMuZm9yRWFjaCgob3B0aW9uVGV4dDogc3RyaW5nLCBpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgICAgIGl0ZW0uY2xhc3NOYW1lID0gJ3BsLTIgcHktMSBib3JkZXItbC0yIGJvcmRlci1kaW0gbWwtMSBob3Zlcjpib3JkZXItaW5kaWdvLTQwMC83MCB0cmFuc2l0aW9uLWNvbG9ycyB0aGVtZS10cmFuc2l0aW9uJztcbiAgICAgICAgICAgIGNvbnN0IGNsZWFuVGV4dCA9IHRoaXMuZm9ybWF0Tm9kZU5hbWUob3B0aW9uVGV4dCwgdHJ1ZSk7IC8vIFRoaXMgcmVtb3ZlcyBwcmVmaXggYW5kIGVtb2ppc1xuICAgICAgICAgICAgY29uc3QgZW1vamkgPSB0aGlzLmV4dHJhY3RFbW9qaXMob3B0aW9uVGV4dClbMF0gfHwgJ+KWtu+4jyc7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGl0ZW0uaW5uZXJIVE1MID0gYCR7ZW1vaml9ICR7Y2xlYW5UZXh0fWA7XG4gICAgICAgICAgICBpdGVtLmRhdGFzZXQub3B0aW9uSW5kZXggPSBpbmRleC50b1N0cmluZygpO1xuICAgICAgICAgICAgaXRlbS5kYXRhc2V0Lm9wdGlvblRleHQgPSBjbGVhblRleHQ7IC8vIFN0b3JlIGNsZWFuIHRleHRcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHMub3B0aW9uc0xpc3QhLmFwcGVuZENoaWxkKGl0ZW0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgY3VzdG9tQWN0aW9uSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgY3VzdG9tQWN0aW9uSXRlbS5jbGFzc05hbWUgPSAncGwtMiBweS0xIGJvcmRlci1sLTIgYm9yZGVyLWRpbSBtbC0xIGhvdmVyOmJvcmRlci1pbmRpZ28tNDAwLzcwIHRyYW5zaXRpb24tY29sb3JzIHRoZW1lLXRyYW5zaXRpb24gbXQtNCc7XG4gICAgY3VzdG9tQWN0aW9uSXRlbS5pbm5lckhUTUwgPSBgPGkgY2xhc3M9XCJmYXMgZmEtcGVuLW5pYiBtci0yIHRleHQtYWNjZW50XCI+PC9pPiDoh6rlrprkuYnooYzliqguLi5gO1xuICAgIGN1c3RvbUFjdGlvbkl0ZW0uZGF0YXNldC5hY3Rpb25UeXBlID0gJ2N1c3RvbSc7XG4gICAgdGhpcy5lbGVtZW50cy5vcHRpb25zTGlzdCEuYXBwZW5kQ2hpbGQoY3VzdG9tQWN0aW9uSXRlbSk7XG4gIH1cblxuICBjcmVhdGVFbXB0eVN0YXRlKG1lc3NhZ2U6IHN0cmluZykge1xuICAgIHJldHVybiBgPGxpIGNsYXNzPVwidGV4dC1jZW50ZXIgcHktNCB0ZXh0LXNlY29uZGFyeSB0aGVtZS10cmFuc2l0aW9uXCI+PGkgY2xhc3M9XCJmYXMgZmEtaW5mby1jaXJjbGUgbXItMVwiPjwvaT4ke21lc3NhZ2V9PC9saT5gO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IoZXJyb3I6IEVycm9yKSB7XG4gICAgbG9nZ2VyKCdlcnJvcicsICdSZW5kZXJlcicsICdBIGNyaXRpY2FsIHJlbmRlcmluZyBlcnJvciBvY2N1cnJlZC4nLCBlcnJvcik7XG4gICAgY29uc3QgZXJyb3JIdG1sID0gYDxkaXYgY2xhc3M9XCJiZy1yZWQtOTAwLzIwIGJvcmRlciBib3JkZXItcmVkLTgwMC8zMCB0ZXh0LXJlZC00MDAgcHgtNCBweS0zIHJvdW5kZWQgcmVsYXRpdmVcIiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgICAgIDxzdHJvbmcgY2xhc3M9XCJmb250LWJvbGRcIj7liqDovb3lpLHotKU6IDwvc3Ryb25nPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJibG9jayBzbTppbmxpbmVcIj4ke2Vycm9yLm1lc3NhZ2V9PC9zcGFuPlxuICAgICAgICA8L2Rpdj5gO1xuICAgIGlmICh0aGlzLmVsZW1lbnRzLnN0b3J5Q29udGVudCkgdGhpcy5lbGVtZW50cy5zdG9yeUNvbnRlbnQuaW5uZXJIVE1MID0gZXJyb3JIdG1sO1xuICAgIGlmICh0aGlzLmVsZW1lbnRzLm9wdGlvbnNMaXN0KSB0aGlzLmVsZW1lbnRzLm9wdGlvbnNMaXN0LmlubmVySFRNTCA9IGA8bGk+JHtlcnJvckh0bWx9PC9saT5gO1xuICB9XG5cbiAgcHVibGljIHNob3dHZW5lcmF0aW9uTG9hZGluZ1N0YXRlKCkge1xuICAgIGlmICh0aGlzLmVsZW1lbnRzLnN0b3J5Q29udGVudCkge1xuICAgICAgdGhpcy5lbGVtZW50cy5zdG9yeUNvbnRlbnQuaW5uZXJIVE1MID0gYDxkaXYgY2xhc3M9XCJmbGV4IGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlciBwLTRcIj48ZGl2IGNsYXNzPVwiYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTggdy04IGJvcmRlci10LTIgYm9yZGVyLWItMiBib3JkZXItYWNjZW50XCI+PC9kaXY+PHNwYW4gY2xhc3M9XCJtbC0zIHRleHQtc2Vjb25kYXJ5XCI+5q2j5Zyo562J5b6F5b2855WM55qE5ZON5bqULi4uPC9zcGFuPjwvZGl2PmA7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHNob3dHZW5lcmF0aW9uRXJyb3IoZXJyb3JNZXNzYWdlOiBzdHJpbmcsIG9uUmV0cnk6ICgpID0+IHZvaWQpIHtcbiAgICBpZiAodGhpcy5lbGVtZW50cy5zdG9yeUNvbnRlbnQpIHtcbiAgICAgIHRoaXMuZWxlbWVudHMuc3RvcnlDb250ZW50LmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImJnLXJlZC05MDAvMjAgYm9yZGVyIGJvcmRlci1yZWQtODAwLzMwIHRleHQtcmVkLTQwMCBweC00IHB5LTMgcm91bmRlZCByZWxhdGl2ZSB0ZXh0LWNlbnRlclwiIHJvbGU9XCJhbGVydFwiPlxuICAgICAgICAgIDxzdHJvbmcgY2xhc3M9XCJmb250LWJvbGRcIj7nlJ/miJDlpLHotKU8L3N0cm9uZz5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImJsb2NrIHNtOmlubGluZVwiPiR7ZXJyb3JNZXNzYWdlfTwvc3Bhbj5cbiAgICAgICAgICA8YnV0dG9uIGlkPVwicmV0cnktZ2VuZXJhdGlvbi1idXR0b25cIiBjbGFzcz1cIm10LTIgcHgtNCBweS0yIGJnLWFjY2VudCB0ZXh0LXdoaXRlIHJvdW5kZWQgaG92ZXI6YmctYWNjZW50LWhvdmVyXCI+6YeN6K+VPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICAgIGNvbnN0IHJldHJ5QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JldHJ5LWdlbmVyYXRpb24tYnV0dG9uJyk7XG4gICAgICBpZiAocmV0cnlCdXR0b24pIHtcbiAgICAgICAgcmV0cnlCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvblJldHJ5KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlU3RvcnlDb250ZW50KHN0b3J5VGV4dDogc3RyaW5nKSB7XG4gICAgaWYgKHRoaXMuZWxlbWVudHMuc3RvcnlDb250ZW50KSB7XG4gICAgICBjb25zdCByYXdIdG1sID0gbWFya2VkLnBhcnNlKHN0b3J5VGV4dCk7XG4gICAgICB0aGlzLmVsZW1lbnRzLnN0b3J5Q29udGVudC5pbm5lckhUTUwgPSB0aGlzLl9hcHBseVN5bnRheEhpZ2hsaWdodGluZyhyYXdIdG1sKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUHJvY2Vzc2VzIHRoZSBmaW5hbCwgY29tcGxldGUgQUkgbWVzc2FnZSB0byBhdXRob3JpdGF0aXZlbHkgdXBkYXRlIHRoZSBzdG9yeSxcbiAgICogc3luYyB2YXJpYWJsZXMsIGFuZCByZW5kZXIgYWxsIFVJIGNvbXBvbmVudHMuIFRoaXMgaXMgdGhlIG1haW4gZW50cnkgcG9pbnRcbiAgICogZm9yIGJvdGggc3RyZWFtaW5nIGFuZCBub24tc3RyZWFtaW5nIHJlc3BvbnNlcyBvbmNlIGdlbmVyYXRpb24gaXMgY29tcGxldGUuXG4gICAqIEBwYXJhbSBzdG9yeVRleHQgVGhlIHByb2Nlc3NlZCwgY2xlYW4gc3RvcnkgdGV4dCBmb3IgcmVuZGVyaW5nLlxuICAgKiBAcGFyYW0gbWVzc2FnZSBUaGUgb3JpZ2luYWwsIGNvbXBsZXRlIG1lc3NhZ2Ugb2JqZWN0IGZyb20gdGhlIGhpc3RvcnksIGluY2x1ZGluZyB0aGUgc3RhdHVzIGJhci5cbiAgICogQHBhcmFtIGV2ZW50TWFuYWdlciBUaGUgaW5zdGFuY2Ugb2YgdGhlIGV2ZW50IG1hbmFnZXIuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgcmVuZGVyU3RvcnlBbmRTeW5jU3RhdGUoc3RvcnlUZXh0OiBzdHJpbmcsIG1lc3NhZ2U6IE1lc3NhZ2VQYWdlLCBldmVudE1hbmFnZXI6IEV2ZW50TWFuYWdlcikge1xuICAgIGxvZ2dlcignaW5mbycsICdSZW5kZXJlcicsICdgcmVuZGVyU3RvcnlBbmRTeW5jU3RhdGVgIGNhbGxlZCBmb3IgZmluYWwgdXBkYXRlLicpO1xuICAgIFxuICAgIC8vIEluIHYyLjAsIG1lc3NhZ2UuY29udGVudCBpcyBhbHdheXMgdGhlIHN0cmluZyBvZiB0aGUgYWN0aXZlIHBhZ2UuXG4gICAgY29uc3QganNvblN0cmluZyA9IGV4dHJhY3RKc29uRnJvbVN0YXR1c0JhcihtZXNzYWdlLmNvbnRlbnQpO1xuXG4gICAgaWYgKGpzb25TdHJpbmcgJiYgbWVzc2FnZS5pZCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGFyc2VkSnNvbiA9IEpTT04ucGFyc2UoanNvblN0cmluZyk7XG4gICAgICAgIGxvZ2dlcignaW5mbycsICdSZW5kZXJlcicsICdGaW5hbCBKU09OIHBhcnNlZC4gQ2FsbGluZyBgc3luY1ZhcmlhYmxlc2AuJywgXy5jbG9uZURlZXAocGFyc2VkSnNvbikpO1xuICAgICAgICAvLyDmraXpqqQgMTog5bCG5paw5LqL5Lu25b2V5YWl5LqL5Lu25rGgXG4gICAgICAgIGF3YWl0IHN5bmNWYXJpYWJsZXMocGFyc2VkSnNvbiwgbWVzc2FnZS5pZCwgZXZlbnRNYW5hZ2VyKTtcbiAgICAgICAgbG9nZ2VyKCdpbmZvJywgJ1JlbmRlcmVyJywgJ0ZpbmFsIGBzeW5jVmFyaWFibGVzYCBoYXMgY29tcGxldGVkLicpO1xuXG4gICAgICAgIC8vIOatpemqpCAyOiDop6blj5HlrozmlbTnmoTnirbmgIHph43nrpdcbiAgICAgICAgLy8gYXdhaXQgaGFuZGxlU3RhdGVBY3RpdmF0aW9uKG1lc3NhZ2UuaWQsIHRoaXMuaGlzdG9yeU1hbmFnZXIsIHRoaXMucG9rZWRleE1hbmFnZXIsIHRoaXMpO1xuICAgICAgICBsb2dnZXIoJ2luZm8nLCAnUmVuZGVyZXInLCAnRmluYWwgYGhhbmRsZVN0YXRlQWN0aXZhdGlvbmAgaGFzIGNvbXBsZXRlZC4nKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuanNvbkRhdGEgPSB0aGlzLl90cmFuc2Zvcm1Kc29uRGF0YShwYXJzZWRKc29uKTtcbiAgICAgICAgdGhpcy5maW5kUm9vdE5vZGVLZXkoKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGxvZ2dlcignZXJyb3InLCAnUmVuZGVyZXInLCAnRmFpbGVkIHRvIHBhcnNlIG9yIHN5bmMgZmluYWwgc3RhdGUuJywgeyBlcnJvciwganNvblN0cmluZyB9KTtcbiAgICAgICAgdGhpcy5oYW5kbGVQYXJzaW5nRmFpbHVyZShqc29uU3RyaW5nLCBlcnJvcik7XG4gICAgICAgIHRoaXMuanNvbkRhdGEgPSBudWxsO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsb2dnZXIoJ3dhcm4nLCAnUmVuZGVyZXInLCAnTm8gc3RhdHVzIGJhciBmb3VuZCBpbiB0aGUgZmluYWwgbWVzc2FnZS4gVUkgd2lsbCBiZSByZW5kZXJlZCBmcm9tIGV4aXN0aW5nIHZhcmlhYmxlcy4nKTtcbiAgICAgIHRoaXMuanNvbkRhdGEgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIFBlcmZvcm0gYSBmdWxsIHJlbmRlciB1c2luZyB0aGUgZmluYWwgc3RvcnkgY29udGVudCBhbmQgdGhlIG5vdy1zeW5jZWQgdmFyaWFibGVzLlxuICAgIHRoaXMucmVuZGVyQWxsKCk7XG4gICAgbG9nZ2VyKCdpbmZvJywgJ1JlbmRlcmVyJywgJ0ZpbmFsIHJlbmRlckFsbCBjb21wbGV0ZS4nKTtcbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGVXaXRoU3RyZWFtZWREYXRhKHN0cmVhbWVkSnNvbjogc3RyaW5nLCBtZXNzYWdlSWQ6IHN0cmluZykge1xuICAgIGxvZ2dlcignbG9nJywgJ1JlbmRlcmVyJywgJ2B1cGRhdGVXaXRoU3RyZWFtZWREYXRhYCBjYWxsZWQgd2l0aCBuZXcgSlNPTiBzdHJpbmcuJyk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG5ld1N0YXRlID0gSlNPTi5wYXJzZShzdHJlYW1lZEpzb24pO1xuICAgICAgdGhpcy5qc29uRGF0YSA9IHRoaXMuX3RyYW5zZm9ybUpzb25EYXRhKG5ld1N0YXRlKTtcbiAgICAgIHRoaXMuZmluZFJvb3ROb2RlS2V5KCk7XG4gICAgICBpZiAoIXRoaXMucm9vdE5vZGVLZXkpIHtcbiAgICAgICAgbG9nZ2VyKCd3YXJuJywgJ1JlbmRlcmVyJywgJ0NvdWxkIG5vdCBmaW5kIHJvb3Qgbm9kZSBrZXkgaW4gc3RyZWFtZWQgSlNPTi4nLCBuZXdTdGF0ZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJvb3REYXRhID0gdGhpcy5qc29uRGF0YVt0aGlzLnJvb3ROb2RlS2V5XTtcbiAgICAgIC8vIOWcqOa1geW8j+abtOaWsOacn+mXtO+8jOaIkeS7rOWPquWQjOatpeS6i+S7tu+8jOiAjOS4jei/m+ihjOWujOaVtOeahOeKtuaAgemHjeeul++8jOS7pemBv+WFjeaAp+iDvemXrumimOOAglxuICAgICAgLy8g5pyA57uI55qE54q25oCB5bCG5ZyoIHJlbmRlclN0b3J5QW5kU3luY1N0YXRlIOS4reS4gOasoeaAp+iuoeeul+OAglxuICAgICAgc3luY1ZhcmlhYmxlcyhuZXdTdGF0ZSwgbWVzc2FnZUlkLCB0aGlzLmV2ZW50TWFuYWdlcikudGhlbigoKSA9PiB7XG4gICAgICAgIGxvZ2dlcignbG9nJywgJ1JlbmRlcmVyJywgJ1ZhcmlhYmxlIHN5bmMgY29tcGxldGUsIHJlLXJlbmRlcmluZyBzaWRlIHBhbmVscyBmcm9tIHRlbXBvcmFyeSBkYXRhLicpO1xuICAgICAgICAvLyDms6jmhI/vvJrov5nph4znmoTmuLLmn5Plj6/og73kuI3mmK/mnIDnu4jnsr7noa7nmoTvvIzkvYbmj5DkvpvkuobljbPml7blj43ppojjgIJcbiAgICAgICAgdGhpcy5yZW5kZXJTaWRlUGFuZWxzKHJvb3REYXRhKTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIoJ2Vycm9yJywgJ1JlbmRlcmVyJywgJ0ZhaWxlZCB0byBwYXJzZSBvciBwcm9jZXNzIEpTT04gZnJvbSBzdHJlYW0uJywgeyBlcnJvciwgc3RyZWFtZWRKc29uIH0pO1xuICAgICAgdG9hc3RyLmVycm9yKCfnirbmgIHmoI/mlbDmja7op6PmnpDlpLHotKXjgIInKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVQYXJzaW5nRmFpbHVyZShyYXdUZXh0OiBzdHJpbmcsIGVycm9yOiB1bmtub3duKSB7XG4gICAgbG9nZ2VyKCdlcnJvcicsICdSZW5kZXJlcicsICdIYW5kbGluZyBhIEpTT04gcGFyc2luZyBmYWlsdXJlLicsIHsgcmF3VGV4dCwgZXJyb3IgfSk7XG4gICAgY29uc3QgZXJyb3JIdG1sID0gY3JlYXRlSnNvbkVycm9yRGlzcGxheShyYXdUZXh0LCBlcnJvcik7XG4gICAgXG4gICAgLy8gQ2xlYXIgYWxsIG1ham9yIFVJIGNvbXBvbmVudHMgdG8gcHJldmVudCBzdGFsZSBsb2FkaW5nIHN0YXRlc1xuICAgIGlmICh0aGlzLmVsZW1lbnRzLnN0b3J5Q29udGVudCkge1xuICAgICAgdGhpcy5lbGVtZW50cy5zdG9yeUNvbnRlbnQuaW5uZXJIVE1MID0gZXJyb3JIdG1sO1xuICAgIH1cbiAgICBpZiAodGhpcy5lbGVtZW50cy5vcHRpb25zTGlzdCkge1xuICAgICAgdGhpcy5lbGVtZW50cy5vcHRpb25zTGlzdC5pbm5lckhUTUwgPSB0aGlzLmNyZWF0ZUVtcHR5U3RhdGUoJ+aVsOaNruino+aekOWksei0pScpO1xuICAgIH1cbiAgICBpZiAodGhpcy5lbGVtZW50cy5jaGFyYWN0ZXJzQ29udGFpbmVyKSB7XG4gICAgICB0aGlzLmVsZW1lbnRzLmNoYXJhY3RlcnNDb250YWluZXIuaW5uZXJIVE1MID0gdGhpcy5jcmVhdGVFbXB0eVN0YXRlKCfmlbDmja7op6PmnpDlpLHotKUnKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZWxlbWVudHMuc2hlbHRlckNvbnRhaW5lcikge1xuICAgICAgdGhpcy5lbGVtZW50cy5zaGVsdGVyQ29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICAgIH1cbiAgICBpZiAodGhpcy5lbGVtZW50cy5iZXN0aWFyeUNvbnRhaW5lcikge1xuICAgICAgdGhpcy5lbGVtZW50cy5iZXN0aWFyeUNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICB9XG4gICAgaWYgKHRoaXMuZWxlbWVudHMuaGVyYm9sb2d5Q29udGFpbmVyKSB7XG4gICAgICB0aGlzLmVsZW1lbnRzLmhlcmJvbG9neUNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICB9XG4gICAgaWYgKHRoaXMuZWxlbWVudHMuYm9va3NDb250YWluZXIpIHtcbiAgICAgIHRoaXMuZWxlbWVudHMuYm9va3NDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgfVxuICAgIGlmICh0aGlzLmVsZW1lbnRzLmludmVudG9yeUNvbnRhaW5lcikge1xuICAgICAgdGhpcy5lbGVtZW50cy5pbnZlbnRvcnlDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgfVxuICAgIGlmICh0aGlzLmVsZW1lbnRzLnN5c3RlbUNvbnRhaW5lcikge1xuICAgICAgdGhpcy5lbGVtZW50cy5zeXN0ZW1Db250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgfVxuICAgIGlmICh0aGlzLmVsZW1lbnRzLnRpbWVEaXNwbGF5KSB7XG4gICAgICB0aGlzLmVsZW1lbnRzLnRpbWVEaXNwbGF5LnRleHRDb250ZW50ID0gJ+acquefpSc7XG4gICAgfVxuICAgIGlmICh0aGlzLmVsZW1lbnRzLmxvY2F0aW9uRGlzcGxheSkge1xuICAgICAgdGhpcy5lbGVtZW50cy5sb2NhdGlvbkRpc3BsYXkudGV4dENvbnRlbnQgPSAn5pyq55+lJztcbiAgICB9XG4gIH1cblxuICBleHRyYWN0RW1vamlzKHRleHQ6IGFueSk6IHN0cmluZ1tdIHtcbiAgICBpZiAoIV8uaXNTdHJpbmcodGV4dCkpIHJldHVybiBbXTtcbiAgICBjb25zdCBlbW9qaVJlZ2V4ID0gL1tcXHV7MUY2MDB9LVxcdXsxRjY0Rn1cXHV7MUYzMDB9LVxcdXsxRjVGRn1cXHV7MUY5MDB9LVxcdXsxRjlGRn1cXHV7MUZBNzB9LVxcdXsxRkFGRn1cXHV7MUY2ODB9LVxcdXsxRjZGRn1cXHV7MUYxRTB9LVxcdXsxRjFGRn1cXHV7MjYwMH0tXFx1ezI2RkZ9XFx1ezI3MDB9LVxcdXsyN0JGfV0vZ3U7XG4gICAgcmV0dXJuIHRleHQubWF0Y2goZW1vamlSZWdleCkgfHwgW107XG4gIH1cblxuICBmb3JtYXROb2RlTmFtZShuYW1lOiBhbnksIHJlbW92ZUFsbEVtb2ppID0gZmFsc2UpOiBzdHJpbmcge1xuICAgIGlmICghXy5pc1N0cmluZyhuYW1lKSAmJiAhXy5pc051bWJlcihuYW1lKSkgcmV0dXJuICcnO1xuICAgIGxldCBjbGVhbk5hbWUgPSBfLnRvU3RyaW5nKG5hbWUpO1xuICAgIGNsZWFuTmFtZSA9IF8ucmVwbGFjZShjbGVhbk5hbWUsIC9eXFxkK1xcLlxccyovLCAnJyk7XG4gICAgaWYgKHJlbW92ZUFsbEVtb2ppKSB7XG4gICAgICBjb25zdCBlbW9qaVJlZ2V4ID0gL1tcXHV7MUY2MDB9LVxcdXsxRjY0Rn1cXHV7MUYzMDB9LVxcdXsxRjVGRn1cXHV7MUY2ODB9LVxcdXsxRjZGRn1cXHV7MUYxRTB9LVxcdXsxRjFGRn1cXHV7MjYwMH0tXFx1ezI2RkZ9XFx1ezI3MDB9LVxcdXsyN0JGfV0vZ3U7XG4gICAgICBjbGVhbk5hbWUgPSBfLnJlcGxhY2UoY2xlYW5OYW1lLCBlbW9qaVJlZ2V4LCAnJyk7XG4gICAgfVxuICAgIHJldHVybiBfLnRyaW0oY2xlYW5OYW1lKTtcbiAgfVxuXG4gIHB1YmxpYyB0b2dnbGVFZGl0TW9kZShlZGl0aW5nOiBib29sZWFuLCBuZXdDb250ZW50Pzogc3RyaW5nKSB7XG4gICAgaWYgKCF0aGlzLmVsZW1lbnRzLnN0b3J5Q29udGVudCkgcmV0dXJuO1xuXG4gICAgaWYgKGVkaXRpbmcpIHtcbiAgICAgIC8vIEZpbmQgdGhlIGxhdGVzdCBhc3Npc3RhbnQgbWVzc2FnZSB0byBnZXQgdGhlIG9yaWdpbmFsIG1hcmtkb3duXG4gICAgICBjb25zdCBtZXNzYWdlcyA9IHRoaXMuaGlzdG9yeU1hbmFnZXIuZ2V0TWVzc2FnZXNGb3JQcm9tcHQoKTtcbiAgICAgIC8vIEZpbmQgdGhlIGxhc3QgbWVzc2FnZSB0aGF0IGlzIGZyb20gdGhlIGFzc2lzdGFudFxuICAgICAgY29uc3QgbGFzdE1lc3NhZ2UgPSBfLmZpbmRMYXN0KG1lc3NhZ2VzLCAobTogTWVzc2FnZVBhZ2UpID0+IG0ucm9sZSA9PT0gJ2Fzc2lzdGFudCcpO1xuXG4gICAgICBpZiAoIWxhc3RNZXNzYWdlKSB7XG4gICAgICAgIHRvYXN0ci5lcnJvcign5rKh5pyJ5om+5Yiw5Y+v5Lul57yW6L6R55qEQUnlm57lpI3jgIInKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBzdG9yeU9ubHlNYXJrZG93biA9IGxhc3RNZXNzYWdlLmNvbnRlbnQucmVwbGFjZSgvPHN0YXR1c2Jhcj5bXFxzXFxTXSo/PFxcL3N0YXR1c2Jhcj4vaSwgJycpO1xuXG4gICAgICBjb25zdCB0ZXh0YXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gICAgICB0ZXh0YXJlYS5pZCA9ICdzdG9yeS1lZGl0LXRleHRhcmVhJztcbiAgICAgIC8vIEFwcGx5IHNvbWUgYmFzaWMgc3R5bGluZyB0byBtYXRjaCB0aGUgYXBwJ3MgdGhlbWVcbiAgICAgIHRleHRhcmVhLmNsYXNzTmFtZSA9ICd3LWZ1bGwgYmctc2Vjb25kYXJ5IHJvdW5kZWQgYm9yZGVyIGJvcmRlci1kaW0gcC0yIHRleHQtcHJpbWFyeSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1hY2NlbnQgZm9jdXM6b3V0bGluZS1ub25lIHRoZW1lLXRyYW5zaXRpb24nO1xuICAgICAgdGV4dGFyZWEuc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5lbGVtZW50cy5zdG9yeUNvbnRlbnQuc2Nyb2xsSGVpZ2h0fXB4YDsgLy8gTWF0Y2ggdGhlIGNvbnRlbnQgaGVpZ2h0XG4gICAgICB0ZXh0YXJlYS52YWx1ZSA9IHN0b3J5T25seU1hcmtkb3duO1xuXG4gICAgICB0aGlzLmVsZW1lbnRzLnN0b3J5Q29udGVudC5pbm5lckhUTUwgPSAnJztcbiAgICAgIHRoaXMuZWxlbWVudHMuc3RvcnlDb250ZW50LmFwcGVuZENoaWxkKHRleHRhcmVhKTtcbiAgICAgIHRleHRhcmVhLmZvY3VzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHRleHRhcmVhID0gdGhpcy5lbGVtZW50cy5zdG9yeUNvbnRlbnQucXVlcnlTZWxlY3RvcjxIVE1MVGV4dEFyZWFFbGVtZW50PignI3N0b3J5LWVkaXQtdGV4dGFyZWEnKTtcbiAgICAgIC8vIElmIHRleHRhcmVhIGRvZXNuJ3QgZXhpc3QsIGl0IG1lYW5zIHdlIGFyZSBub3QgaW4gZWRpdCBtb2RlLCBzbyBkbyBub3RoaW5nLlxuICAgICAgaWYgKCF0ZXh0YXJlYSkgcmV0dXJuO1xuXG4gICAgICAvLyBJZiBuZXdDb250ZW50IGlzIHByb3ZpZGVkIChvbiBzYXZlKSwgdXNlIGl0LiBPdGhlcndpc2UgKG9uIGNhbmNlbCksIHVzZSB0aGUgb3JpZ2luYWwgY29udGVudCBmcm9tIHRoZSB0ZXh0YXJlYS5cbiAgICAgIGNvbnN0IGNvbnRlbnRUb1JlbmRlciA9IG5ld0NvbnRlbnQgIT09IHVuZGVmaW5lZCA/IG5ld0NvbnRlbnQgOiB0ZXh0YXJlYS52YWx1ZTtcbiAgICAgIFxuICAgICAgLy8gUmVuZGVyIHRoZSBtYXJrZG93biBiYWNrIHRvIEhUTUxcbiAgICAgIGNvbnN0IHJhd0h0bWwgPSBtYXJrZWQucGFyc2UoY29udGVudFRvUmVuZGVyKTtcbiAgICAgIHRoaXMuZWxlbWVudHMuc3RvcnlDb250ZW50LmlubmVySFRNTCA9IHRoaXMuX2FwcGx5U3ludGF4SGlnaGxpZ2h0aW5nKHJhd0h0bWwpO1xuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/core/renderer.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/core/state.ts": 
  /*!**********************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/core/state.ts ***!
  \**********************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addSwipe: () => (/* binding */ addSwipe),\n/* harmony export */   getCurrentSwipeIndex: () => (/* binding */ getCurrentSwipeIndex),\n/* harmony export */   getCurrentTurnSwipes: () => (/* binding */ getCurrentTurnSwipes),\n/* harmony export */   getFloorId: () => (/* binding */ getFloorId),\n/* harmony export */   getForceSwipeReset: () => (/* binding */ getForceSwipeReset),\n/* harmony export */   getIsAiGenerating: () => (/* binding */ getIsAiGenerating),\n/* harmony export */   getIsNewTurn: () => (/* binding */ getIsNewTurn),\n/* harmony export */   getIsRecalculatingState: () => (/* binding */ getIsRecalculatingState),\n/* harmony export */   getLastUserInput: () => (/* binding */ getLastUserInput),\n/* harmony export */   getState: () => (/* binding */ getState),\n/* harmony export */   setCurrentSwipeIndex: () => (/* binding */ setCurrentSwipeIndex),\n/* harmony export */   setCurrentTurnSwipes: () => (/* binding */ setCurrentTurnSwipes),\n/* harmony export */   setFloorId: () => (/* binding */ setFloorId),\n/* harmony export */   setForceSwipeReset: () => (/* binding */ setForceSwipeReset),\n/* harmony export */   setIsAiGenerating: () => (/* binding */ setIsAiGenerating),\n/* harmony export */   setIsNewTurn: () => (/* binding */ setIsNewTurn),\n/* harmony export */   setIsRecalculatingState: () => (/* binding */ setIsRecalculatingState),\n/* harmony export */   setLastUserInput: () => (/* binding */ setLastUserInput),\n/* harmony export */   setState: () => (/* binding */ setState),\n/* harmony export */   updateLastSwipe: () => (/* binding */ updateLastSwipe)\n/* harmony export */ });\n// core/state.ts\n// 使用 Map 来存储状态，避免使用全局变量，更易于管理和测试\nconst state = new Map([\n    ['floor_id', 0],\n    ['currentTurnSwipes', []],\n    ['currentSwipeIndex', 0],\n    ['lastUserInput', null],\n    ['isAiGenerating', false],\n    ['isNewTurn', true], // 新增状态，用于区分是新回合还是重新生成\n    ['forceSwipeReset', false], // 新增状态，用于强制UI更新到1/1\n    ['isRecalculatingState', false], // 新增状态，用于在状态重算期间抑制不必要的错误\n]);\nconst getState = (key) => {\n    return state.get(key);\n};\nconst setState = (key, value) => {\n    state.set(key, value);\n};\n// 为每个状态提供具体的 getter 和 setter，提供类型安全和更好的可读性\nconst getFloorId = () => getState('floor_id');\nconst setFloorId = (id) => setState('floor_id', id);\nconst getCurrentTurnSwipes = () => getState('currentTurnSwipes');\nconst setCurrentTurnSwipes = (swipes) => setState('currentTurnSwipes', swipes);\nconst addSwipe = (swipe) => {\n    const oldSwipes = getState('currentTurnSwipes');\n    const newSwipes = [...oldSwipes, swipe];\n    setCurrentTurnSwipes(newSwipes);\n};\nconst updateLastSwipe = (swipe) => {\n    const oldSwipes = getState('currentTurnSwipes');\n    if (oldSwipes.length > 0) {\n        const newSwipes = [...oldSwipes];\n        newSwipes[newSwipes.length - 1] = swipe;\n        setCurrentTurnSwipes(newSwipes);\n    }\n};\nconst getCurrentSwipeIndex = () => getState('currentSwipeIndex');\nconst setCurrentSwipeIndex = (index) => setState('currentSwipeIndex', index);\nconst getLastUserInput = () => getState('lastUserInput');\nconst setLastUserInput = (input) => setState('lastUserInput', input);\nconst getIsAiGenerating = () => getState('isAiGenerating');\nconst setIsAiGenerating = (isGenerating) => setState('isAiGenerating', isGenerating);\nconst getIsNewTurn = () => getState('isNewTurn');\nconst setIsNewTurn = (isNew) => setState('isNewTurn', isNew);\nconst getForceSwipeReset = () => getState('forceSwipeReset');\nconst setForceSwipeReset = (force) => setState('forceSwipeReset', force);\nconst getIsRecalculatingState = () => getState('isRecalculatingState');\nconst setIsRecalculatingState = (isRecalculating) => setState('isRecalculatingState', isRecalculating);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9zdGF0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGdCQUFnQjtBQUVoQixpQ0FBaUM7QUFDakMsTUFBTSxLQUFLLEdBQUcsSUFBSSxHQUFHLENBQWM7SUFDakMsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxDQUFDO0lBQ2YsQ0FBQyxtQkFBbUIsRUFBRSxFQUFFLENBQUM7SUFDekIsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDLENBQUM7SUFDeEIsQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDO0lBQ3ZCLENBQUMsZ0JBQWdCLEVBQUUsS0FBSyxDQUFDO0lBQ3pCLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxFQUFFLHNCQUFzQjtJQUMzQyxDQUFDLGlCQUFpQixFQUFFLEtBQUssQ0FBQyxFQUFFLG9CQUFvQjtJQUNoRCxDQUFDLHNCQUFzQixFQUFFLEtBQUssQ0FBQyxFQUFFLHlCQUF5QjtDQUMzRCxDQUFDLENBQUM7QUFFSSxNQUFNLFFBQVEsR0FBRyxDQUFJLEdBQVcsRUFBSyxFQUFFO0lBQzVDLE9BQU8sS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQU0sQ0FBQztBQUM3QixDQUFDLENBQUM7QUFFSyxNQUFNLFFBQVEsR0FBRyxDQUFJLEdBQVcsRUFBRSxLQUFRLEVBQVEsRUFBRTtJQUN6RCxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUN4QixDQUFDLENBQUM7QUFFRiwyQ0FBMkM7QUFFcEMsTUFBTSxVQUFVLEdBQUcsR0FBVyxFQUFFLENBQUMsUUFBUSxDQUFTLFVBQVUsQ0FBQyxDQUFDO0FBQzlELE1BQU0sVUFBVSxHQUFHLENBQUMsRUFBVSxFQUFRLEVBQUUsQ0FBQyxRQUFRLENBQUMsVUFBVSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBRWxFLE1BQU0sb0JBQW9CLEdBQUcsR0FBYSxFQUFFLENBQUMsUUFBUSxDQUFXLG1CQUFtQixDQUFDLENBQUM7QUFDckYsTUFBTSxvQkFBb0IsR0FBRyxDQUFDLE1BQWdCLEVBQVEsRUFBRSxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUMvRixNQUFNLFFBQVEsR0FBRyxDQUFDLEtBQWEsRUFBUSxFQUFFO0lBQzVDLE1BQU0sU0FBUyxHQUFHLFFBQVEsQ0FBVyxtQkFBbUIsQ0FBQyxDQUFDO0lBQzFELE1BQU0sU0FBUyxHQUFHLENBQUMsR0FBRyxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDeEMsb0JBQW9CLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDcEMsQ0FBQyxDQUFDO0FBQ0ssTUFBTSxlQUFlLEdBQUcsQ0FBQyxLQUFhLEVBQVEsRUFBRTtJQUNuRCxNQUFNLFNBQVMsR0FBRyxRQUFRLENBQVcsbUJBQW1CLENBQUMsQ0FBQztJQUMxRCxJQUFJLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7UUFDdkIsTUFBTSxTQUFTLEdBQUcsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDO1FBQ2pDLFNBQVMsQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQztRQUN4QyxvQkFBb0IsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUNwQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDO0FBR0ssTUFBTSxvQkFBb0IsR0FBRyxHQUFXLEVBQUUsQ0FBQyxRQUFRLENBQVMsbUJBQW1CLENBQUMsQ0FBQztBQUNqRixNQUFNLG9CQUFvQixHQUFHLENBQUMsS0FBYSxFQUFRLEVBQUUsQ0FBQyxRQUFRLENBQUMsbUJBQW1CLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFFM0YsTUFBTSxnQkFBZ0IsR0FBRyxHQUFrQixFQUFFLENBQUMsUUFBUSxDQUFnQixlQUFlLENBQUMsQ0FBQztBQUN2RixNQUFNLGdCQUFnQixHQUFHLENBQUMsS0FBb0IsRUFBUSxFQUFFLENBQUMsUUFBUSxDQUFDLGVBQWUsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUUxRixNQUFNLGlCQUFpQixHQUFHLEdBQVksRUFBRSxDQUFDLFFBQVEsQ0FBVSxnQkFBZ0IsQ0FBQyxDQUFDO0FBQzdFLE1BQU0saUJBQWlCLEdBQUcsQ0FBQyxZQUFxQixFQUFRLEVBQUUsQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLEVBQUUsWUFBWSxDQUFDLENBQUM7QUFFcEcsTUFBTSxZQUFZLEdBQUcsR0FBWSxFQUFFLENBQUMsUUFBUSxDQUFVLFdBQVcsQ0FBQyxDQUFDO0FBQ25FLE1BQU0sWUFBWSxHQUFHLENBQUMsS0FBYyxFQUFRLEVBQUUsQ0FBQyxRQUFRLENBQUMsV0FBVyxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBRTVFLE1BQU0sa0JBQWtCLEdBQUcsR0FBWSxFQUFFLENBQUMsUUFBUSxDQUFVLGlCQUFpQixDQUFDLENBQUM7QUFDL0UsTUFBTSxrQkFBa0IsR0FBRyxDQUFDLEtBQWMsRUFBUSxFQUFFLENBQUMsUUFBUSxDQUFDLGlCQUFpQixFQUFFLEtBQUssQ0FBQyxDQUFDO0FBRXhGLE1BQU0sdUJBQXVCLEdBQUcsR0FBWSxFQUFFLENBQUMsUUFBUSxDQUFVLHNCQUFzQixDQUFDLENBQUM7QUFDekYsTUFBTSx1QkFBdUIsR0FBRyxDQUFDLGVBQXdCLEVBQVEsRUFBRSxDQUFDLFFBQVEsQ0FBQyxzQkFBc0IsRUFBRSxlQUFlLENBQUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9zdGF0ZS50cz8iXSwic291cmNlc0NvbnRlbnQiOlsiLy8gY29yZS9zdGF0ZS50c1xuXG4vLyDkvb/nlKggTWFwIOadpeWtmOWCqOeKtuaAge+8jOmBv+WFjeS9v+eUqOWFqOWxgOWPmOmHj++8jOabtOaYk+S6jueuoeeQhuWSjOa1i+ivlVxuY29uc3Qgc3RhdGUgPSBuZXcgTWFwPHN0cmluZywgYW55PihbXG4gIFsnZmxvb3JfaWQnLCAwXSxcbiAgWydjdXJyZW50VHVyblN3aXBlcycsIFtdXSxcbiAgWydjdXJyZW50U3dpcGVJbmRleCcsIDBdLFxuICBbJ2xhc3RVc2VySW5wdXQnLCBudWxsXSxcbiAgWydpc0FpR2VuZXJhdGluZycsIGZhbHNlXSxcbiAgWydpc05ld1R1cm4nLCB0cnVlXSwgLy8g5paw5aKe54q25oCB77yM55So5LqO5Yy65YiG5piv5paw5Zue5ZCI6L+Y5piv6YeN5paw55Sf5oiQXG4gIFsnZm9yY2VTd2lwZVJlc2V0JywgZmFsc2VdLCAvLyDmlrDlop7nirbmgIHvvIznlKjkuo7lvLrliLZVSeabtOaWsOWIsDEvMVxuICBbJ2lzUmVjYWxjdWxhdGluZ1N0YXRlJywgZmFsc2VdLCAvLyDmlrDlop7nirbmgIHvvIznlKjkuo7lnKjnirbmgIHph43nrpfmnJ/pl7TmipHliLbkuI3lv4XopoHnmoTplJnor69cbl0pO1xuXG5leHBvcnQgY29uc3QgZ2V0U3RhdGUgPSA8VD4oa2V5OiBzdHJpbmcpOiBUID0+IHtcbiAgcmV0dXJuIHN0YXRlLmdldChrZXkpIGFzIFQ7XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0U3RhdGUgPSA8VD4oa2V5OiBzdHJpbmcsIHZhbHVlOiBUKTogdm9pZCA9PiB7XG4gIHN0YXRlLnNldChrZXksIHZhbHVlKTtcbn07XG5cbi8vIOS4uuavj+S4queKtuaAgeaPkOS+m+WFt+S9k+eahCBnZXR0ZXIg5ZKMIHNldHRlcu+8jOaPkOS+m+exu+Wei+WuieWFqOWSjOabtOWlveeahOWPr+ivu+aAp1xuXG5leHBvcnQgY29uc3QgZ2V0Rmxvb3JJZCA9ICgpOiBudW1iZXIgPT4gZ2V0U3RhdGU8bnVtYmVyPignZmxvb3JfaWQnKTtcbmV4cG9ydCBjb25zdCBzZXRGbG9vcklkID0gKGlkOiBudW1iZXIpOiB2b2lkID0+IHNldFN0YXRlKCdmbG9vcl9pZCcsIGlkKTtcblxuZXhwb3J0IGNvbnN0IGdldEN1cnJlbnRUdXJuU3dpcGVzID0gKCk6IHN0cmluZ1tdID0+IGdldFN0YXRlPHN0cmluZ1tdPignY3VycmVudFR1cm5Td2lwZXMnKTtcbmV4cG9ydCBjb25zdCBzZXRDdXJyZW50VHVyblN3aXBlcyA9IChzd2lwZXM6IHN0cmluZ1tdKTogdm9pZCA9PiBzZXRTdGF0ZSgnY3VycmVudFR1cm5Td2lwZXMnLCBzd2lwZXMpO1xuZXhwb3J0IGNvbnN0IGFkZFN3aXBlID0gKHN3aXBlOiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICBjb25zdCBvbGRTd2lwZXMgPSBnZXRTdGF0ZTxzdHJpbmdbXT4oJ2N1cnJlbnRUdXJuU3dpcGVzJyk7XG4gICAgY29uc3QgbmV3U3dpcGVzID0gWy4uLm9sZFN3aXBlcywgc3dpcGVdO1xuICAgIHNldEN1cnJlbnRUdXJuU3dpcGVzKG5ld1N3aXBlcyk7XG59O1xuZXhwb3J0IGNvbnN0IHVwZGF0ZUxhc3RTd2lwZSA9IChzd2lwZTogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgY29uc3Qgb2xkU3dpcGVzID0gZ2V0U3RhdGU8c3RyaW5nW10+KCdjdXJyZW50VHVyblN3aXBlcycpO1xuICAgIGlmIChvbGRTd2lwZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBuZXdTd2lwZXMgPSBbLi4ub2xkU3dpcGVzXTtcbiAgICAgICAgbmV3U3dpcGVzW25ld1N3aXBlcy5sZW5ndGggLSAxXSA9IHN3aXBlO1xuICAgICAgICBzZXRDdXJyZW50VHVyblN3aXBlcyhuZXdTd2lwZXMpO1xuICAgIH1cbn07XG5cblxuZXhwb3J0IGNvbnN0IGdldEN1cnJlbnRTd2lwZUluZGV4ID0gKCk6IG51bWJlciA9PiBnZXRTdGF0ZTxudW1iZXI+KCdjdXJyZW50U3dpcGVJbmRleCcpO1xuZXhwb3J0IGNvbnN0IHNldEN1cnJlbnRTd2lwZUluZGV4ID0gKGluZGV4OiBudW1iZXIpOiB2b2lkID0+IHNldFN0YXRlKCdjdXJyZW50U3dpcGVJbmRleCcsIGluZGV4KTtcblxuZXhwb3J0IGNvbnN0IGdldExhc3RVc2VySW5wdXQgPSAoKTogc3RyaW5nIHwgbnVsbCA9PiBnZXRTdGF0ZTxzdHJpbmcgfCBudWxsPignbGFzdFVzZXJJbnB1dCcpO1xuZXhwb3J0IGNvbnN0IHNldExhc3RVc2VySW5wdXQgPSAoaW5wdXQ6IHN0cmluZyB8IG51bGwpOiB2b2lkID0+IHNldFN0YXRlKCdsYXN0VXNlcklucHV0JywgaW5wdXQpO1xuXG5leHBvcnQgY29uc3QgZ2V0SXNBaUdlbmVyYXRpbmcgPSAoKTogYm9vbGVhbiA9PiBnZXRTdGF0ZTxib29sZWFuPignaXNBaUdlbmVyYXRpbmcnKTtcbmV4cG9ydCBjb25zdCBzZXRJc0FpR2VuZXJhdGluZyA9IChpc0dlbmVyYXRpbmc6IGJvb2xlYW4pOiB2b2lkID0+IHNldFN0YXRlKCdpc0FpR2VuZXJhdGluZycsIGlzR2VuZXJhdGluZyk7XG5cbmV4cG9ydCBjb25zdCBnZXRJc05ld1R1cm4gPSAoKTogYm9vbGVhbiA9PiBnZXRTdGF0ZTxib29sZWFuPignaXNOZXdUdXJuJyk7XG5leHBvcnQgY29uc3Qgc2V0SXNOZXdUdXJuID0gKGlzTmV3OiBib29sZWFuKTogdm9pZCA9PiBzZXRTdGF0ZSgnaXNOZXdUdXJuJywgaXNOZXcpO1xuXG5leHBvcnQgY29uc3QgZ2V0Rm9yY2VTd2lwZVJlc2V0ID0gKCk6IGJvb2xlYW4gPT4gZ2V0U3RhdGU8Ym9vbGVhbj4oJ2ZvcmNlU3dpcGVSZXNldCcpO1xuZXhwb3J0IGNvbnN0IHNldEZvcmNlU3dpcGVSZXNldCA9IChmb3JjZTogYm9vbGVhbik6IHZvaWQgPT4gc2V0U3RhdGUoJ2ZvcmNlU3dpcGVSZXNldCcsIGZvcmNlKTtcblxuZXhwb3J0IGNvbnN0IGdldElzUmVjYWxjdWxhdGluZ1N0YXRlID0gKCk6IGJvb2xlYW4gPT4gZ2V0U3RhdGU8Ym9vbGVhbj4oJ2lzUmVjYWxjdWxhdGluZ1N0YXRlJyk7XG5leHBvcnQgY29uc3Qgc2V0SXNSZWNhbGN1bGF0aW5nU3RhdGUgPSAoaXNSZWNhbGN1bGF0aW5nOiBib29sZWFuKTogdm9pZCA9PiBzZXRTdGF0ZSgnaXNSZWNhbGN1bGF0aW5nU3RhdGUnLCBpc1JlY2FsY3VsYXRpbmcpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/core/state.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/core/summarizer.ts": 
  /*!***************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/core/summarizer.ts ***!
  \***************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Summarizer: () => (/* binding */ Summarizer)\n/* harmony export */ });\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./logger */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts\");\n\nconst SETTINGS_KEY = 'plugin_settings.context_management';\n/**\n * Manages the automatic summarization of chat history in the background.\n */\nclass Summarizer {\n    historyManager;\n    isSummarizing = false;\n    constructor(historyManager) {\n        this.historyManager = historyManager;\n    }\n    /**\n     * Checks if a summary is needed and triggers it if conditions are met.\n     * This should be called after a new message is added.\n     */\n    async triggerSummaryIfNeeded() {\n        if (this.isSummarizing) {\n            console.log('[Summarizer] Already summarizing, skipping trigger.');\n            return;\n        }\n        const messages = this.historyManager.getMessagesForPrompt();\n        const chatVars = getVariables({ type: 'chat' }) || {};\n        const settings = _.get(chatVars, SETTINGS_KEY, { summaryTrigger: 30 });\n        const summaryTrigger = settings.summaryTrigger;\n        // A more robust solution that tracks messages since the last summary.\n        const lastSummaryIndex = messages.findLastIndex((m) => m.role === 'summary');\n        const messagesSinceLastSummary = lastSummaryIndex > -1 ? messages.length - 1 - lastSummaryIndex : messages.length;\n        if (messagesSinceLastSummary >= summaryTrigger) {\n            console.log(`[Summarizer] ${messagesSinceLastSummary} messages since last summary, exceeding trigger count of ${summaryTrigger}.`);\n            this.executeSummary();\n        }\n    }\n    /**\n     * Executes the summarization process.\n     */\n    async executeSummary() {\n        this.isSummarizing = true;\n        console.log('[Summarizer] Starting iterative refinement summary...');\n        try {\n            // Find the last summary, if any.\n            const allMessages = this.historyManager.getMessagesForPrompt();\n            const lastSummaryIndex = allMessages.findLastIndex((m) => m.role === 'summary');\n            let messagesToSummarize;\n            let previousSummary = null;\n            if (lastSummaryIndex > -1) {\n                previousSummary = allMessages[lastSummaryIndex];\n                // Summarize all messages *after* the last summary.\n                messagesToSummarize = allMessages.slice(lastSummaryIndex + 1);\n            }\n            else {\n                // If no previous summary, summarize the entire history up to the trigger point.\n                messagesToSummarize = allMessages;\n            }\n            if (messagesToSummarize.length === 0) {\n                console.log('[Summarizer] No new messages to add to the summary.');\n                return;\n            }\n            // 1. Get character names for the prompt.\n            const floor_id = getFloorId();\n            const variables = getVariables({ type: 'message', message_id: floor_id }) || {};\n            const mainCharacterName = variables['角色']?.['主控角色名'] || '玩家';\n            let aiCharacterName = 'AI';\n            if (variables['角色']) {\n                const characterNames = Object.keys(variables['角色']);\n                const otherCharacter = characterNames.find(name => name !== '主控角色名' && name !== mainCharacterName);\n                if (otherCharacter) {\n                    aiCharacterName = otherCharacter;\n                }\n            }\n            // 2. Build the detailed prompt for the LLM.\n            const newHistoryText = messagesToSummarize.map((msg) => {\n                const roleName = msg.role === 'user' ? mainCharacterName : aiCharacterName;\n                const contentToProcess = msg.content.replace(/<statusbar>[\\s\\S]*?<\\/statusbar>/g, '').trim();\n                return `${roleName}: ${contentToProcess}`;\n            }).join('\\n');\n            const chatVars = getVariables({ type: 'chat' }) || {};\n            const settings = _.get(chatVars, SETTINGS_KEY, {});\n            let userPrompt = settings.summaryPrompt;\n            if (!userPrompt) {\n                // Fallback to a default prompt if user prompt is not set or empty\n                userPrompt = `你是一个专业的剧情摘要助手。\r\n        <过往的剧情摘要>\r\n        {{PREVIOUS_SUMMARY}}\r\n        </过往的剧情摘要>\r\n        <最新的对话内容>\r\n        {{NEW_HISTORY}}\r\n        </最新的对话内容>\r\n        请根据上述信息，输出一份优化后的全新完整摘要。`;\n            }\n            const prompt = userPrompt\n                .replace('{{PREVIOUS_SUMMARY}}', previousSummary ? previousSummary.content : '无')\n                .replace('{{NEW_HISTORY}}', newHistoryText);\n            console.log('[Summarizer] Sending refinement request with user-defined prompt...');\n            // 3. Call generateRaw with the prompt.\n            const summaryContent = await generateRaw(prompt);\n            if (!summaryContent || summaryContent.trim().length === 0) {\n                console.warn('[Summarizer] Received empty summary from LLM.');\n                return;\n            }\n            // 4. In v2.0, replacing messages with a summary is a destructive action that breaks the Turn structure.\n            // This feature is temporarily disabled pending a redesign. A new approach might involve creating a summary turn\n            // or storing summaries separately.\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Summarizer', 'replaceMessagesWithSummary is disabled in v2.0 due to incompatibility with the new data structure. Summary was generated but not saved.');\n            // const startIndex = lastSummaryIndex > -1 ? lastSummaryIndex : 0;\n            // const count = previousSummary ? messagesToSummarize.length + 1 : messagesToSummarize.length;\n            // await this.historyManager.replaceMessagesWithSummary(startIndex, count, summaryContent.trim());\n            console.log('[Summarizer] Refinement process completed. NOTE: Summary was not saved to history in v2.0.');\n        }\n        catch (error) {\n            console.error('[Summarizer] Error during summarization:', error);\n        }\n        finally {\n            this.isSummarizing = false;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9zdW1tYXJpemVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBRWtDO0FBUWxDLE1BQU0sWUFBWSxHQUFHLG9DQUFvQyxDQUFDO0FBRTFEOztHQUVHO0FBQ0ksTUFBTSxVQUFVO0lBQ2IsY0FBYyxDQUFxQjtJQUNuQyxhQUFhLEdBQVksS0FBSyxDQUFDO0lBRXZDLFlBQVksY0FBa0M7UUFDNUMsSUFBSSxDQUFDLGNBQWMsR0FBRyxjQUFjLENBQUM7SUFDdkMsQ0FBQztJQUVEOzs7T0FHRztJQUNJLEtBQUssQ0FBQyxzQkFBc0I7UUFDakMsSUFBSSxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7WUFDdkIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxxREFBcUQsQ0FBQyxDQUFDO1lBQ25FLE9BQU87UUFDVCxDQUFDO1FBRUQsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO1FBQzVELE1BQU0sUUFBUSxHQUFHLFlBQVksQ0FBQyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUN0RCxNQUFNLFFBQVEsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxZQUFZLEVBQUUsRUFBRSxjQUFjLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUN2RSxNQUFNLGNBQWMsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDO1FBRS9DLHNFQUFzRTtRQUN0RSxNQUFNLGdCQUFnQixHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFjLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssU0FBUyxDQUFDLENBQUM7UUFDMUYsTUFBTSx3QkFBd0IsR0FBRyxnQkFBZ0IsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBRyxDQUFDLEdBQUcsZ0JB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LEVBQUUsQ0FBQztZQUNmLE9BQU8sQ0FBQyxLQUFLLENBQUMsMENBQTBDLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDbkUsQ0FBQztnQkFBUyxDQUFDO1lBQ1QsSUFBSSxDQUFDLGFBQWEsR0FBRyxLQUFLLENBQUM7UUFDN0IsQ0FBQztJQUNILENBQUM7Q0FDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9zdW1tYXJpemVyLnRzPyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjb3JlL3N1bW1hcml6ZXIudHNcclxuaW1wb3J0IHsgQ2hhdEhpc3RvcnlNYW5hZ2VyLCBNZXNzYWdlUGFnZSB9IGZyb20gJy4vaGlzdG9yeSc7XHJcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4vbG9nZ2VyJztcclxuXHJcbi8vIERlY2xhcmUgZ2xvYmFsIGZ1bmN0aW9uc1xyXG5kZWNsYXJlIGNvbnN0IGdlbmVyYXRlUmF3OiAocHJvbXB0OiBzdHJpbmcsIG9wdGlvbnM/OiBhbnkpID0+IFByb21pc2U8c3RyaW5nPjtcclxuZGVjbGFyZSBjb25zdCBnZXRWYXJpYWJsZXM6IChvcHRpb25zOiBhbnkpID0+IGFueTtcclxuZGVjbGFyZSBjb25zdCBnZXRGbG9vcklkOiAoKSA9PiBhbnk7XHJcbmRlY2xhcmUgY29uc3QgXzogYW55O1xyXG5cclxuY29uc3QgU0VUVElOR1NfS0VZID0gJ3BsdWdpbl9zZXR0aW5ncy5jb250ZXh0X21hbmFnZW1lbnQnO1xyXG5cclxuLyoqXHJcbiAqIE1hbmFnZXMgdGhlIGF1dG9tYXRpYyBzdW1tYXJpemF0aW9uIG9mIGNoYXQgaGlzdG9yeSBpbiB0aGUgYmFja2dyb3VuZC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBTdW1tYXJpemVyIHtcclxuICBwcml2YXRlIGhpc3RvcnlNYW5hZ2VyOiBDaGF0SGlzdG9yeU1hbmFnZXI7XHJcbiAgcHJpdmF0ZSBpc1N1bW1hcml6aW5nOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGhpc3RvcnlNYW5hZ2VyOiBDaGF0SGlzdG9yeU1hbmFnZXIpIHtcclxuICAgIHRoaXMuaGlzdG9yeU1hbmFnZXIgPSBoaXN0b3J5TWFuYWdlcjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENoZWNrcyBpZiBhIHN1bW1hcnkgaXMgbmVlZGVkIGFuZCB0cmlnZ2VycyBpdCBpZiBjb25kaXRpb25zIGFyZSBtZXQuXHJcbiAgICogVGhpcyBzaG91bGQgYmUgY2FsbGVkIGFmdGVyIGEgbmV3IG1lc3NhZ2UgaXMgYWRkZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGFzeW5jIHRyaWdnZXJTdW1tYXJ5SWZOZWVkZWQoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBpZiAodGhpcy5pc1N1bW1hcml6aW5nKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdbU3VtbWFyaXplcl0gQWxyZWFkeSBzdW1tYXJpemluZywgc2tpcHBpbmcgdHJpZ2dlci4nKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG1lc3NhZ2VzID0gdGhpcy5oaXN0b3J5TWFuYWdlci5nZXRNZXNzYWdlc0ZvclByb21wdCgpO1xyXG4gICAgY29uc3QgY2hhdFZhcnMgPSBnZXRWYXJpYWJsZXMoeyB0eXBlOiAnY2hhdCcgfSkgfHwge307XHJcbiAgICBjb25zdCBzZXR0aW5ncyA9IF8uZ2V0KGNoYXRWYXJzLCBTRVRUSU5HU19LRVksIHsgc3VtbWFyeVRyaWdnZXI6IDMwIH0pO1xyXG4gICAgY29uc3Qgc3VtbWFyeVRyaWdnZXIgPSBzZXR0aW5ncy5zdW1tYXJ5VHJpZ2dlcjtcclxuXHJcbiAgICAvLyBBIG1vcmUgcm9idXN0IHNvbHV0aW9uIHRoYXQgdHJhY2tzIG1lc3NhZ2VzIHNpbmNlIHRoZSBsYXN0IHN1bW1hcnkuXHJcbiAgICBjb25zdCBsYXN0U3VtbWFyeUluZGV4ID0gbWVzc2FnZXMuZmluZExhc3RJbmRleCgobTogTWVzc2FnZVBhZ2UpID0+IG0ucm9sZSA9PT0gJ3N1bW1hcnknKTtcclxuICAgIGNvbnN0IG1lc3NhZ2VzU2luY2VMYXN0U3VtbWFyeSA9IGxhc3RTdW1tYXJ5SW5kZXggPiAtMSA/IG1lc3NhZ2VzLmxlbmd0aCAtIDEgLSBsYXN0U3VtbWFyeUluZGV4IDogbWVzc2FnZXMubGVuZ3RoO1xyXG5cclxuICAgIGlmIChtZXNzYWdlc1NpbmNlTGFzdFN1bW1hcnkgPj0gc3VtbWFyeVRyaWdnZXIpIHtcclxuICAgICAgY29uc29sZS5sb2coYFtTdW1tYXJpemVyXSAke21lc3NhZ2VzU2luY2VMYXN0U3VtbWFyeX0gbWVzc2FnZXMgc2luY2UgbGFzdCBzdW1tYXJ5LCBleGNlZWRpbmcgdHJpZ2dlciBjb3VudCBvZiAke3N1bW1hcnlUcmlnZ2VyfS5gKTtcclxuICAgICAgdGhpcy5leGVjdXRlU3VtbWFyeSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRXhlY3V0ZXMgdGhlIHN1bW1hcml6YXRpb24gcHJvY2Vzcy5cclxuICAgKi9cclxuICBwcml2YXRlIGFzeW5jIGV4ZWN1dGVTdW1tYXJ5KCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgdGhpcy5pc1N1bW1hcml6aW5nID0gdHJ1ZTtcclxuICAgIGNvbnNvbGUubG9nKCdbU3VtbWFyaXplcl0gU3RhcnRpbmcgaXRlcmF0aXZlIHJlZmluZW1lbnQgc3VtbWFyeS4uLicpO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIEZpbmQgdGhlIGxhc3Qgc3VtbWFyeSwgaWYgYW55LlxyXG4gICAgICBjb25zdCBhbGxNZXNzYWdlcyA9IHRoaXMuaGlzdG9yeU1hbmFnZXIuZ2V0TWVzc2FnZXNGb3JQcm9tcHQoKTtcclxuICAgICAgY29uc3QgbGFzdFN1bW1hcnlJbmRleCA9IGFsbE1lc3NhZ2VzLmZpbmRMYXN0SW5kZXgoKG06IE1lc3NhZ2VQYWdlKSA9PiBtLnJvbGUgPT09ICdzdW1tYXJ5Jyk7XHJcbiAgICAgIFxyXG4gICAgICBsZXQgbWVzc2FnZXNUb1N1bW1hcml6ZTogTWVzc2FnZVBhZ2VbXTtcclxuICAgICAgbGV0IHByZXZpb3VzU3VtbWFyeTogTWVzc2FnZVBhZ2UgfCBudWxsID0gbnVsbDtcclxuXHJcbiAgICAgIGlmIChsYXN0U3VtbWFyeUluZGV4ID4gLTEpIHtcclxuICAgICAgICBwcmV2aW91c1N1bW1hcnkgPSBhbGxNZXNzYWdlc1tsYXN0U3VtbWFyeUluZGV4XTtcclxuICAgICAgICAvLyBTdW1tYXJpemUgYWxsIG1lc3NhZ2VzICphZnRlciogdGhlIGxhc3Qgc3VtbWFyeS5cclxuICAgICAgICBtZXNzYWdlc1RvU3VtbWFyaXplID0gYWxsTWVzc2FnZXMuc2xpY2UobGFzdFN1bW1hcnlJbmRleCArIDEpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIElmIG5vIHByZXZpb3VzIHN1bW1hcnksIHN1bW1hcml6ZSB0aGUgZW50aXJlIGhpc3RvcnkgdXAgdG8gdGhlIHRyaWdnZXIgcG9pbnQuXHJcbiAgICAgICAgbWVzc2FnZXNUb1N1bW1hcml6ZSA9IGFsbE1lc3NhZ2VzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAobWVzc2FnZXNUb1N1bW1hcml6ZS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnW1N1bW1hcml6ZXJdIE5vIG5ldyBtZXNzYWdlcyB0byBhZGQgdG8gdGhlIHN1bW1hcnkuJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyAxLiBHZXQgY2hhcmFjdGVyIG5hbWVzIGZvciB0aGUgcHJvbXB0LlxyXG4gICAgICBjb25zdCBmbG9vcl9pZCA9IGdldEZsb29ySWQoKTtcclxuICAgICAgY29uc3QgdmFyaWFibGVzID0gZ2V0VmFyaWFibGVzKHsgdHlwZTogJ21lc3NhZ2UnLCBtZXNzYWdlX2lkOiBmbG9vcl9pZCB9KSB8fCB7fTtcclxuICAgICAgY29uc3QgbWFpbkNoYXJhY3Rlck5hbWUgPSB2YXJpYWJsZXNbJ+inkuiJsiddPy5bJ+S4u+aOp+inkuiJsuWQjSddIHx8ICfnjqnlrrYnO1xyXG4gICAgICBsZXQgYWlDaGFyYWN0ZXJOYW1lID0gJ0FJJztcclxuICAgICAgaWYgKHZhcmlhYmxlc1sn6KeS6ImyJ10pIHtcclxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJOYW1lcyA9IE9iamVjdC5rZXlzKHZhcmlhYmxlc1sn6KeS6ImyJ10pO1xyXG4gICAgICAgIGNvbnN0IG90aGVyQ2hhcmFjdGVyID0gY2hhcmFjdGVyTmFtZXMuZmluZChuYW1lID0+IG5hbWUgIT09ICfkuLvmjqfop5LoibLlkI0nICYmIG5hbWUgIT09IG1haW5DaGFyYWN0ZXJOYW1lKTtcclxuICAgICAgICBpZiAob3RoZXJDaGFyYWN0ZXIpIHtcclxuICAgICAgICAgIGFpQ2hhcmFjdGVyTmFtZSA9IG90aGVyQ2hhcmFjdGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gMi4gQnVpbGQgdGhlIGRldGFpbGVkIHByb21wdCBmb3IgdGhlIExMTS5cclxuICAgICAgY29uc3QgbmV3SGlzdG9yeVRleHQgPSBtZXNzYWdlc1RvU3VtbWFyaXplLm1hcCgobXNnOiBNZXNzYWdlUGFnZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHJvbGVOYW1lID0gbXNnLnJvbGUgPT09ICd1c2VyJyA/IG1haW5DaGFyYWN0ZXJOYW1lIDogYWlDaGFyYWN0ZXJOYW1lO1xyXG4gICAgICAgIGNvbnN0IGNvbnRlbnRUb1Byb2Nlc3MgPSBtc2cuY29udGVudC5yZXBsYWNlKC88c3RhdHVzYmFyPltcXHNcXFNdKj88XFwvc3RhdHVzYmFyPi9nLCAnJykudHJpbSgpO1xyXG4gICAgICAgIHJldHVybiBgJHtyb2xlTmFtZX06ICR7Y29udGVudFRvUHJvY2Vzc31gO1xyXG4gICAgICB9KS5qb2luKCdcXG4nKTtcclxuXHJcbiAgICAgIGNvbnN0IGNoYXRWYXJzID0gZ2V0VmFyaWFibGVzKHsgdHlwZTogJ2NoYXQnIH0pIHx8IHt9O1xyXG4gICAgICBjb25zdCBzZXR0aW5ncyA9IF8uZ2V0KGNoYXRWYXJzLCBTRVRUSU5HU19LRVksIHt9KTtcclxuICAgICAgbGV0IHVzZXJQcm9tcHQgPSBzZXR0aW5ncy5zdW1tYXJ5UHJvbXB0O1xyXG5cclxuICAgICAgaWYgKCF1c2VyUHJvbXB0KSB7XHJcbiAgICAgICAgLy8gRmFsbGJhY2sgdG8gYSBkZWZhdWx0IHByb21wdCBpZiB1c2VyIHByb21wdCBpcyBub3Qgc2V0IG9yIGVtcHR5XHJcbiAgICAgICAgdXNlclByb21wdCA9IGDkvaDmmK/kuIDkuKrkuJPkuJrnmoTliafmg4XmkZjopoHliqnmiYvjgIJcclxuICAgICAgICA86L+H5b6A55qE5Ymn5oOF5pGY6KaBPlxyXG4gICAgICAgIHt7UFJFVklPVVNfU1VNTUFSWX19XHJcbiAgICAgICAgPC/ov4flvoDnmoTliafmg4XmkZjopoE+XHJcbiAgICAgICAgPOacgOaWsOeahOWvueivneWGheWuuT5cclxuICAgICAgICB7e05FV19ISVNUT1JZfX1cclxuICAgICAgICA8L+acgOaWsOeahOWvueivneWGheWuuT5cclxuICAgICAgICDor7fmoLnmja7kuIrov7Dkv6Hmga/vvIzovpPlh7rkuIDku73kvJjljJblkI7nmoTlhajmlrDlrozmlbTmkZjopoHjgIJgO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBwcm9tcHQgPSB1c2VyUHJvbXB0XHJcbiAgICAgICAgLnJlcGxhY2UoJ3t7UFJFVklPVVNfU1VNTUFSWX19JywgcHJldmlvdXNTdW1tYXJ5ID8gcHJldmlvdXNTdW1tYXJ5LmNvbnRlbnQgOiAn5pegJylcclxuICAgICAgICAucmVwbGFjZSgne3tORVdfSElTVE9SWX19JywgbmV3SGlzdG9yeVRleHQpO1xyXG5cclxuICAgICAgY29uc29sZS5sb2coJ1tTdW1tYXJpemVyXSBTZW5kaW5nIHJlZmluZW1lbnQgcmVxdWVzdCB3aXRoIHVzZXItZGVmaW5lZCBwcm9tcHQuLi4nKTtcclxuICAgICAgXHJcbiAgICAgIC8vIDMuIENhbGwgZ2VuZXJhdGVSYXcgd2l0aCB0aGUgcHJvbXB0LlxyXG4gICAgICBjb25zdCBzdW1tYXJ5Q29udGVudCA9IGF3YWl0IGdlbmVyYXRlUmF3KHByb21wdCk7XHJcblxyXG4gICAgICBpZiAoIXN1bW1hcnlDb250ZW50IHx8IHN1bW1hcnlDb250ZW50LnRyaW0oKS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ1tTdW1tYXJpemVyXSBSZWNlaXZlZCBlbXB0eSBzdW1tYXJ5IGZyb20gTExNLicpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gNC4gSW4gdjIuMCwgcmVwbGFjaW5nIG1lc3NhZ2VzIHdpdGggYSBzdW1tYXJ5IGlzIGEgZGVzdHJ1Y3RpdmUgYWN0aW9uIHRoYXQgYnJlYWtzIHRoZSBUdXJuIHN0cnVjdHVyZS5cclxuICAgICAgLy8gVGhpcyBmZWF0dXJlIGlzIHRlbXBvcmFyaWx5IGRpc2FibGVkIHBlbmRpbmcgYSByZWRlc2lnbi4gQSBuZXcgYXBwcm9hY2ggbWlnaHQgaW52b2x2ZSBjcmVhdGluZyBhIHN1bW1hcnkgdHVyblxyXG4gICAgICAvLyBvciBzdG9yaW5nIHN1bW1hcmllcyBzZXBhcmF0ZWx5LlxyXG4gICAgICBsb2dnZXIoJ3dhcm4nLCAnU3VtbWFyaXplcicsICdyZXBsYWNlTWVzc2FnZXNXaXRoU3VtbWFyeSBpcyBkaXNhYmxlZCBpbiB2Mi4wIGR1ZSB0byBpbmNvbXBhdGliaWxpdHkgd2l0aCB0aGUgbmV3IGRhdGEgc3RydWN0dXJlLiBTdW1tYXJ5IHdhcyBnZW5lcmF0ZWQgYnV0IG5vdCBzYXZlZC4nKTtcclxuICAgICAgLy8gY29uc3Qgc3RhcnRJbmRleCA9IGxhc3RTdW1tYXJ5SW5kZXggPiAtMSA/IGxhc3RTdW1tYXJ5SW5kZXggOiAwO1xyXG4gICAgICAvLyBjb25zdCBjb3VudCA9IHByZXZpb3VzU3VtbWFyeSA/IG1lc3NhZ2VzVG9TdW1tYXJpemUubGVuZ3RoICsgMSA6IG1lc3NhZ2VzVG9TdW1tYXJpemUubGVuZ3RoO1xyXG4gICAgICAvLyBhd2FpdCB0aGlzLmhpc3RvcnlNYW5hZ2VyLnJlcGxhY2VNZXNzYWdlc1dpdGhTdW1tYXJ5KHN0YXJ0SW5kZXgsIGNvdW50LCBzdW1tYXJ5Q29udGVudC50cmltKCkpO1xyXG5cclxuICAgICAgY29uc29sZS5sb2coJ1tTdW1tYXJpemVyXSBSZWZpbmVtZW50IHByb2Nlc3MgY29tcGxldGVkLiBOT1RFOiBTdW1tYXJ5IHdhcyBub3Qgc2F2ZWQgdG8gaGlzdG9yeSBpbiB2Mi4wLicpO1xyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tTdW1tYXJpemVyXSBFcnJvciBkdXJpbmcgc3VtbWFyaXphdGlvbjonLCBlcnJvcik7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICB0aGlzLmlzU3VtbWFyaXppbmcgPSBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/core/summarizer.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/core/systems.ts": 
  /*!************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/core/systems.ts ***!
  \************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   renderSystem: () => (/* binding */ renderSystem)\n/* harmony export */ });\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ \"lodash\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./logger */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts\");\n/* harmony import */ var _time__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./time */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/time.ts\");\n\n\n\nfunction initCustomSlider() {\n    const slider = document.querySelector('.custom-slider');\n    if (!slider)\n        return;\n    const track = slider.querySelector('.custom-slider-track');\n    const slides = Array.from(track.children);\n    const nextButton = slider.querySelector('.slider-nav-btn.next');\n    const prevButton = slider.querySelector('.slider-nav-btn.prev');\n    const counter = slider.querySelector('.slider-counter');\n    if (!track || slides.length === 0 || !nextButton || !prevButton || !counter)\n        return;\n    let currentIndex = 0;\n    const totalSlides = slides.length;\n    const updateSlider = () => {\n        const slideWidth = slides[0].offsetWidth;\n        track.style.transform = `translateX(-${currentIndex * slideWidth}px)`;\n        // Update counter\n        counter.textContent = `${currentIndex + 1} / ${totalSlides}`;\n        // Update button states\n        prevButton.disabled = currentIndex === 0;\n        nextButton.disabled = currentIndex === totalSlides - 1;\n    };\n    nextButton.addEventListener('click', () => {\n        if (currentIndex < totalSlides - 1) {\n            currentIndex++;\n            updateSlider();\n        }\n    });\n    prevButton.addEventListener('click', () => {\n        if (currentIndex > 0) {\n            currentIndex--;\n            updateSlider();\n        }\n    });\n    // Initial setup\n    updateSlider();\n    // Recalculate on resize\n    new ResizeObserver(updateSlider).observe(slider);\n}\n/**\n * 渲染技能面板系统\n * @param container - 用于渲染的HTML容器元素\n */\nfunction renderSkillPanel(container) {\n    const systemData = lodash__WEBPACK_IMPORTED_MODULE_0___default().get(getVariables(), '世界.技能', {});\n    const skills = Object.values(systemData.skills || {});\n    let contentHtml = '';\n    if (skills.length === 0) {\n        contentHtml = `<p class=\"text-secondary text-sm italic\">${systemData['提示'] || '尚未学习任何技能。'}</p>`;\n    }\n    else {\n        contentHtml = '<ul class=\"space-y-3\">';\n        skills.forEach((skill) => {\n            const name = skill['名称'] || '未知技能';\n            const level = skill['等级'] || 1;\n            const exp = skill['熟练度'] || 0;\n            const maxExp = 100; // Assuming max is 100 for now\n            const percentage = (exp / maxExp) * 100;\n            contentHtml += `\n        <li>\n          <div class=\"flex justify-between items-center mb-1\">\n            <span class=\"font-semibold text-primary\">${name}</span>\n            <span class=\"text-sm font-mono text-secondary\">Lv. ${level}</span>\n          </div>\n          <div class=\"progress-bar-bg w-full rounded-full h-2.5\">\n            <div class=\"progress-bar-fg bg-accent h-2.5 rounded-full\" style=\"width: ${percentage}%\"></div>\n          </div>\n          <div class=\"text-right text-xs font-mono text-secondary mt-1\">${exp} / ${maxExp}</div>\n        </li>\n      `;\n        });\n        contentHtml += '</ul>';\n    }\n    container.innerHTML = `\n    <div class=\"bg-main rounded-xl border border-dim p-3.5 shadow-sm card-hover theme-transition\">\n      <h3 class=\"font-bold text-lg mb-2 pb-1 border-b border-dim theme-transition\">\n        ⚙️ ${systemData['名称'] || '技能面板'}\n      </h3>\n      ${contentHtml}\n    </div>\n  `;\n}\n/**\n * 渲染成就系统 (v3.1 - 支持奖励兑换)\n * @param container - 用于渲染的HTML容器元素\n */\nfunction renderAchievementSystem(container) {\n    const currentVars = getVariables();\n    (0,_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('log', 'AchievementSystem', 'Rendering started. Full variables:', lodash__WEBPACK_IMPORTED_MODULE_0___default().cloneDeep(currentVars));\n    const systemData = lodash__WEBPACK_IMPORTED_MODULE_0___default().get(currentVars, '世界.成就.已完成', {});\n    (0,_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('log', 'AchievementSystem', 'Extracted system data:', lodash__WEBPACK_IMPORTED_MODULE_0___default().cloneDeep(systemData));\n    const points = systemData['成就点数'] || 0;\n    const completedAchievements = Object.values(systemData || {});\n    (0,_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('log', 'AchievementSystem', 'Parsed completed achievements:', lodash__WEBPACK_IMPORTED_MODULE_0___default().cloneDeep(completedAchievements));\n    const rewards = systemData['奖励列表'] || [];\n    const lastRefreshDay = lodash__WEBPACK_IMPORTED_MODULE_0___default().get(systemData, '上次刷新天数', 0);\n    const currentDate = lodash__WEBPACK_IMPORTED_MODULE_0___default().get(currentVars, '世界.当前日期', { 年: 1, 月: 1, 日: 1 });\n    const currentDayOfYear = (currentDate.年 - 1) * 360 + (currentDate.月 - 1) * 30 + currentDate.日;\n    const canRefresh = currentDayOfYear > lastRefreshDay;\n    // --- 成就列表 ---\n    let achievementsHtml = '';\n    if (completedAchievements.length === 0) {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('warn', 'AchievementSystem', 'No completed achievements found to render.');\n        achievementsHtml = `<p class=\"text-secondary text-sm italic p-4 text-center\">尚未解锁任何成就。</p>`;\n    }\n    else {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('info', 'AchievementSystem', `Rendering ${completedAchievements.length} achievements.`);\n        achievementsHtml = '<ul class=\"space-y-3\">';\n        completedAchievements.forEach((ach) => {\n            const name = ach['名称'] || '未知成就';\n            const desc = ach['描述'] || '没有描述。';\n            const details = JSON.stringify(ach);\n            achievementsHtml += `\n        <li class=\"clickable-item rounded-lg p-3 hover:bg-secondary transition-colors\" data-details='${details}'>\n          <div class=\"flex items-center\">\n            <i class=\"fas fa-trophy text-yellow-400 mr-3 fa-lg\"></i>\n            <p class=\"font-semibold text-primary\">${name}</p>\n          </div>\n          <p class=\"text-sm text-secondary pl-8 mt-1\">${desc}</p>\n        </li>\n      `;\n        });\n        achievementsHtml += '</ul>';\n    }\n    // --- 奖励列表 ---\n    let rewardsHtml = '';\n    if (rewards.length === 0) {\n        rewardsHtml = `<p class=\"text-secondary text-sm italic p-4 text-center\">当前没有可兑换的奖励。</p>`;\n    }\n    else {\n        rewardsHtml = '<ul class=\"space-y-3\">';\n        rewards.forEach((reward) => {\n            const canAfford = points >= reward['消耗点数'];\n            rewardsHtml += `\n        <li class=\"p-3 bg-main/50 rounded-lg\">\n          <div class=\"flex justify-between items-start\">\n            <div class=\"flex-grow\">\n              <p class=\"font-semibold text-primary\">${reward['名称']}</p>\n              <p class=\"text-sm text-secondary mt-1\">${reward['描述']}</p>\n              <p class=\"text-xs text-secondary mt-1\">库存: ${reward['库存']}</p>\n            </div>\n            <div class=\"text-right ml-4 flex-shrink-0\">\n              <div class=\"font-bold text-accent mb-2\">${reward['消耗点数']} <i class=\"fas fa-star text-xs\"></i></div>\n              <button class=\"redeem-btn btn-sm btn-primary\" data-reward-id=\"${reward.id}\" ${!canAfford || reward['库存'] <= 0 ? 'disabled' : ''}>\n                ${reward['库存'] <= 0 ? '无货' : '兑换'}\n              </button>\n            </div>\n          </div>\n        </li>\n      `;\n        });\n        rewardsHtml += '</ul>';\n    }\n    container.innerHTML = `\n    <div id=\"achievement-system-panel\" class=\"bg-main rounded-xl border border-dim p-3.5 shadow-sm card-hover theme-transition\">\n      <div class=\"flex justify-between items-center mb-3 pb-2 border-b border-dim\">\n        <h3 class=\"font-bold text-lg theme-transition\">\n          🏆 ${systemData['名称'] || '成就系统'}\n        </h3>\n        <div class=\"font-bold text-accent text-lg\" title=\"成就点数\">\n          ${points} <i class=\"fas fa-star text-xs\"></i>\n        </div>\n      </div>\n\n      \x3c!-- Tabs --\x3e\n      <div class=\"flex border-b border-dim mb-3 achievement-tabs\">\n        <button class=\"achievement-tab-btn flex-1 p-2 text-sm font-semibold transition-colors active\" data-tab=\"achievements\">\n          <i class=\"fas fa-trophy mr-1.5\"></i> 成就\n        </button>\n        <button class=\"achievement-tab-btn flex-1 p-2 text-sm font-semibold transition-colors\" data-tab=\"rewards\">\n          <i class=\"fas fa-gift mr-1.5\"></i> 奖励\n        </button>\n      </div>\n\n      \x3c!-- Tab Content --\x3e\n      <div class=\"achievement-tabs-content\">\n        <div id=\"achievement-tab-achievements\" class=\"achievement-tab-pane active\">\n          ${achievementsHtml}\n        </div>\n        <div id=\"achievement-tab-rewards\" class=\"achievement-tab-pane\">\n          ${rewardsHtml}\n          <div class=\"mt-4 pt-3 border-t border-dim text-center\">\n            <button id=\"refresh-rewards-btn\" class=\"btn-secondary w-full sm:w-auto\" ${!canRefresh ? 'disabled' : ''}>\n              <i class=\"fas fa-sync-alt mr-2\"></i> ${canRefresh ? '刷新奖励列表' : '明日可刷新'}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `;\n    const style = document.createElement('style');\n    style.textContent = `\n    #achievement-system-panel .achievement-tab-pane { display: none; }\n    #achievement-system-panel .achievement-tab-pane.active { display: block; }\n    #achievement-system-panel .achievement-tab-btn.active { color: var(--accent-color); border-bottom: 2px solid var(--accent-color); }\n  `;\n    container.appendChild(style);\n    const script = document.createElement('script');\n    script.textContent = `\n    (function() {\n      const panel = document.getElementById('achievement-system-panel');\n      if (!panel || panel.dataset.initialized) return;\n      panel.dataset.initialized = 'true';\n\n      const tabs = panel.querySelectorAll('.achievement-tab-btn');\n      const panes = panel.querySelectorAll('.achievement-tab-pane');\n\n      tabs.forEach(tab => {\n        tab.addEventListener('click', () => {\n          const targetId = tab.dataset.tab;\n          \n          tabs.forEach(t => t.classList.remove('active'));\n          tab.classList.add('active');\n\n          panes.forEach(pane => {\n            pane.classList.toggle('active', pane.id === 'achievement-tab-' + targetId);\n          });\n        });\n      });\n    })();\n  `;\n    container.appendChild(script);\n}\nfunction renderBarterSystem(container, pokedexManager) {\n    const currentVars = getVariables({ type: 'chat' });\n    const systemData = lodash__WEBPACK_IMPORTED_MODULE_0___default().get(currentVars, '世界.以物换物', {});\n    const mainCharacterName = lodash__WEBPACK_IMPORTED_MODULE_0___default().get(currentVars, '角色.主控角色名', '萧栖雪');\n    const myItems = lodash__WEBPACK_IMPORTED_MODULE_0___default().get(currentVars, `角色.${mainCharacterName}.物品`, []);\n    const availableItems = systemData['可换取的物品'] || [];\n    const lastRefreshDay = lodash__WEBPACK_IMPORTED_MODULE_0___default().get(systemData, '上次刷新天数', 0);\n    const currentDate = lodash__WEBPACK_IMPORTED_MODULE_0___default().get(currentVars, '世界.当前日期', { 年: 1, 月: 1, 日: 1 });\n    const currentDayOfYear = (currentDate.年 - 1) * 360 + (currentDate.月 - 1) * 30 + currentDate.日;\n    const canRefresh = currentDayOfYear > lastRefreshDay;\n    const getItemValue = (item) => {\n        const pokedexEntry = pokedexManager.readPokedexEntry('物品', item['名称']);\n        return pokedexEntry ? pokedexManager.calculateItemValue(pokedexEntry) : (lodash__WEBPACK_IMPORTED_MODULE_0___default().get(item, '价值.基础价值') || item['价值'] || 0);\n    };\n    // --- My Items Section ---\n    let myItemsHtml = `<div class=\"bg-secondary/30 rounded-lg p-3 shadow-inner max-h-48 overflow-y-auto\">`;\n    if (myItems.length > 0) {\n        myItemsHtml += `<ul class=\"space-y-2 text-sm\">`;\n        myItems.forEach((item) => {\n            const value = getItemValue(item);\n            const quantity = item['数量'] || 1;\n            myItemsHtml += `\n        <li class=\"flex items-center p-2 rounded-md bg-main/30\">\n          <input type=\"checkbox\" class=\"barter-my-item-checkbox mr-3 form-checkbox\" data-name=\"${item['名称']}\" data-value=\"${value}\" data-quantity=\"${quantity}\">\n          <div class=\"flex-grow\">\n            <span class=\"font-semibold text-primary\">${item['名称']}</span>\n            <span class=\"text-xs text-secondary ml-2\">(价值: ${value})</span>\n          </div>\n          <span class=\"font-mono text-accent font-semibold\">x ${quantity}</span>\n        </li>\n      `;\n        });\n        myItemsHtml += `</ul>`;\n    }\n    else {\n        myItemsHtml += `<p class=\"text-secondary text-sm italic text-center p-4\">你没有可用于交换的物品。</p>`;\n    }\n    myItemsHtml += '</div>';\n    // --- Available Items Section ---\n    let availableItemsHtml = `<div class=\"bg-secondary/30 rounded-lg p-3 shadow-inner max-h-60 overflow-y-auto\">`;\n    if (availableItems.length > 0) {\n        availableItemsHtml += `<ul class=\"space-y-2 text-sm\">`;\n        availableItems.forEach((item) => {\n            const value = getItemValue(item);\n            availableItemsHtml += `\n        <li class=\"flex items-start p-2 rounded-md bg-main/30\">\n          <input type=\"checkbox\" class=\"barter-available-item-checkbox mr-3 mt-1 form-checkbox\" data-name=\"${item['名称']}\" data-value=\"${value}\" data-stock=\"${item['库存']}\">\n          <div class=\"flex-grow\">\n            <div class=\"flex justify-between items-center\">\n              <span class=\"font-semibold text-primary\">${item['名称']}</span>\n              <span class=\"font-mono text-accent font-semibold\">${value} <i class=\"fas fa-coins text-xs\"></i></span>\n            </div>\n            <p class=\"text-xs text-secondary mt-1\">${item['描述'] || '暂无描述'}</p>\n            <p class=\"text-xs text-secondary mt-1\">库存: ${item['库存']}</p>\n          </div>\n        </li>\n      `;\n        });\n        availableItemsHtml += `</ul>`;\n    }\n    else {\n        availableItemsHtml += `<p class=\"text-secondary text-sm italic text-center p-4\">当前没有可换取的物品。</p>`;\n    }\n    availableItemsHtml += '</div>';\n    container.innerHTML = `\n    <div id=\"barter-system-container\" class=\"bg-main rounded-xl border border-dim p-4 shadow-sm card-hover theme-transition\">\n      <div class=\"flex justify-between items-center mb-3 pb-2 border-b border-dim\">\n        <h3 class=\"font-bold text-lg theme-transition flex items-center\">\n          <i class=\"fas fa-store mr-2 text-accent\"></i> ${systemData['名称'] || '以物换物'}\n        </h3>\n        <button id=\"refresh-barter-btn\" class=\"text-sm text-accent hover:text-accent-hover transition-colors p-1 rounded hover:bg-secondary disabled:text-secondary disabled:cursor-not-allowed\" title=\"${canRefresh ? '刷新可换取物品' : '今日已刷新'}\" ${!canRefresh ? 'disabled' : ''}>\n          <i class=\"fas fa-sync-alt\"></i> ${canRefresh ? '刷新' : '明日再来'}\n        </button>\n      </div>\n      \n      <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n        <div>\n          <h4 class=\"font-semibold text-base mb-2 text-primary/80\">我的物品</h4>\n          ${myItemsHtml}\n        </div>\n        <div>\n          <h4 class=\"font-semibold text-base mb-2 text-primary/80\">可换取的物品</h4>\n          ${availableItemsHtml}\n        </div>\n      </div>\n\n      <div class=\"mt-4 pt-3 border-t border-dim\">\n        <h4 class=\"font-semibold text-base mb-2 text-primary/80\">交易详情</h4>\n        <div class=\"bg-secondary/30 rounded-lg p-3 shadow-inner text-sm space-y-2\">\n          <div class=\"flex justify-between\">\n            <span>我方出价:</span>\n            <span id=\"barter-offer-value\" class=\"font-bold text-accent\">0 <i class=\"fas fa-coins text-xs\"></i></span>\n          </div>\n          <div class=\"flex justify-between\">\n            <span>对方要价:</span>\n            <span id=\"barter-request-value\" class=\"font-bold text-primary\">0 <i class=\"fas fa-coins text-xs\"></i></span>\n          </div>\n        </div>\n        <button id=\"execute-barter-btn\" class=\"btn-primary w-full mt-3\" disabled>\n          <i class=\"fas fa-exchange-alt mr-2\"></i> 确认交易\n        </button>\n        <p id=\"barter-status-text\" class=\"text-center text-xs text-secondary mt-2 h-4\"></p>\n      </div>\n    </div>\n  `;\n    // Event handling is now managed by ui/eventHandlers.ts\n}\n/**\n * 渲染签到系统\n * @param container - 用于渲染的HTML容器元素\n */\nfunction renderSignInSystem(container) {\n    const currentVars = getVariables();\n    (0,_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('info', 'SignInSystem', 'Rendering started. Full variables:', lodash__WEBPACK_IMPORTED_MODULE_0___default().cloneDeep(currentVars));\n    const systemData = lodash__WEBPACK_IMPORTED_MODULE_0___default().get(currentVars, '世界.签到', {});\n    const currentDate = lodash__WEBPACK_IMPORTED_MODULE_0___default().get(currentVars, '世界.当前日期');\n    (0,_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('log', 'SignInSystem', 'Extracted system data and current date:', { systemData: lodash__WEBPACK_IMPORTED_MODULE_0___default().cloneDeep(systemData), currentDate: lodash__WEBPACK_IMPORTED_MODULE_0___default().cloneDeep(currentDate) });\n    if (!currentDate) {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('warn', 'renderSignInSystem', 'Failed to render sign-in system: could not find currentDate in variables.');\n        container.innerHTML = `\n      <div class=\"bg-main rounded-xl border border-dim p-3.5 shadow-sm card-hover theme-transition\">\n        <h3 class=\"font-bold text-lg mb-3 pb-2 border-b border-dim theme-transition\">\n          🗓️ ${systemData['名称'] || '签到系统'}\n        </h3>\n        <div class=\"text-center py-4 text-secondary italic\">\n          <i class=\"fas fa-exclamation-circle mr-1\"></i> 无法获取当前游戏日期\n        </div>\n      </div>`;\n        return;\n    }\n    const gameDate = (0,_time__WEBPACK_IMPORTED_MODULE_2__.parseGameDate)(currentDate);\n    if (!gameDate) {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('error', 'renderSignInSystem', 'Failed to parse game date from currentDate object:', currentDate);\n        return;\n    }\n    (0,_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('log', 'SignInSystem', 'Parsed game date:', gameDate);\n    const { year, month, day: todayInGame } = gameDate;\n    const recordKey = `Y${year}M${month}`;\n    const signInRecords = systemData.签到记录 || {};\n    const signedInDays = signInRecords[recordKey] || [];\n    (0,_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('log', 'SignInSystem', `Calculated record key: \"${recordKey}\". Found signed in days for this month:`, signedInDays);\n    const hasSignedInToday = systemData.今日已签到 || false;\n    const canSignIn = !hasSignedInToday;\n    const consecutiveDays = systemData.连续签到天数 || 0;\n    const monthlyCard = systemData.月卡 || { 状态: '未激活', 剩余天数: 0 };\n    const monthlyCardHTML = monthlyCard.状态 === '未激活'\n        ? `未激活 <button id=\"activate-monthly-card-btn\" class=\"text-xs ml-2 px-2 py-0.5 rounded bg-accent/20 hover:bg-accent/40 text-accent transition-colors\" title=\"向AI询问激活月卡的条件\">激活</button>`\n        : `激活中 (剩余${monthlyCard.剩余天数}天)`;\n    let calendarHtml = `<div class=\"text-center mb-2 font-semibold text-primary\">第${year}年 - 第${month}月</div>`;\n    calendarHtml += '<div id=\"calendar-grid\" class=\"grid grid-cols-7 gap-1 text-center text-xs\">';\n    const daysInMonth = 30; // 游戏设定每月固定30天\n    for (let i = 1; i <= daysInMonth; i++) {\n        const isToday = i === todayInGame;\n        const isSignedIn = signedInDays.includes(i);\n        let dayClass = 'w-8 h-8 flex items-center justify-center rounded-full transition-colors duration-300 ';\n        if (isToday) {\n            dayClass += 'font-bold ring-2 ring-accent ';\n            dayClass += isSignedIn ? 'bg-accent/50 text-white ' : 'bg-accent/30 text-accent ';\n        }\n        else {\n            dayClass += isSignedIn ? 'bg-green-500/50 text-white ' : 'bg-secondary/50 ';\n        }\n        if (isSignedIn) {\n            calendarHtml += `<div class=\"${dayClass}\" title=\"第${i}天：已签到\" data-day=\"${i}\"><i class=\"fas fa-check\"></i></div>`;\n        }\n        else {\n            calendarHtml += `<div class=\"${dayClass}\" title=\"第${i}天：未签到\" data-day=\"${i}\">${i}</div>`;\n        }\n    }\n    calendarHtml += '</div>';\n    container.innerHTML = `\n    <div class=\"bg-main rounded-xl border border-dim p-3.5 shadow-sm card-hover theme-transition\">\n      <h3 class=\"font-bold text-lg mb-3 pb-2 border-b border-dim theme-transition\">\n        🗓️ ${systemData['名称'] || '签到系统'}\n      </h3>\n      <div class=\"space-y-4\">\n        ${calendarHtml}\n        <div class=\"text-center text-sm text-secondary space-y-1 pt-2\">\n            <p>连续签到: <span class=\"font-bold text-accent\">${consecutiveDays}</span> 天</p>\n            <p>月卡状态: <span class=\"font-bold text-accent\">${monthlyCardHTML}</span></p>\n        </div>\n        <button id=\"sign-in-btn\" class=\"btn-primary w-full\" ${!canSignIn ? 'disabled' : ''}>\n          <i class=\"fas fa-calendar-check mr-2\"></i>${canSignIn ? '今日签到' : '今日已签到'}\n        </button>\n      </div>\n    </div>\n  `;\n}\n/**\n * 渲染任务系统面板\n * @param container - 用于渲染的HTML容器元素\n */\nfunction renderQuestSystem(container) {\n    const quests = lodash__WEBPACK_IMPORTED_MODULE_0___default().get(getVariables(), '世界.任务列表', []);\n    const ongoing = quests.filter((q) => q['状态'] === '进行中');\n    const completed = quests.filter((q) => q['状态'] === '已完成');\n    const notCompleted = quests.filter((q) => q['状态'] === '未完成');\n    const failed = quests.filter((q) => q['状态'] === '失败');\n    const renderQuestList = (quests, status) => {\n        if (quests.length === 0) {\n            return `<p class=\"text-secondary text-sm italic p-4 text-center\">该分类下没有任务。</p>`;\n        }\n        let listHtml = '<ul class=\"space-y-3 quest-list\">';\n        quests.forEach((quest) => {\n            const name = quest['名称'] || '未知任务';\n            const desc = quest['描述'] || '没有描述。';\n            const conditions = quest['条件'];\n            const rewards = quest['奖励'];\n            let objectivesHtml = '';\n            const progress = quest['进度'];\n            // 根据任务状态决定是否显示进度。只有“正在进行”和“未完成”的任务需要显示进度。\n            const shouldShowProgress = status === 'ongoing' || status === 'not-completed';\n            if (shouldShowProgress) {\n                const objectives = quest['objectives'] || quest['目标'] || (progress && (progress['objectives'] || progress['目标']));\n                // Case 1: `progress` is an array of progress bars\n                if (Array.isArray(progress) && progress.length > 0) {\n                    progress.forEach(p => {\n                        if (p && typeof p === 'object' && 'value' in p && 'max' in p) {\n                            const percentage = p.max > 0 ? (p.value / p.max) * 100 : 0;\n                            objectivesHtml += `\n                <div class=\"mt-2\">\n                  <div class=\"flex justify-between items-center mb-1 text-xs font-mono text-secondary\">\n                    <span>${p.label || '进度'}</span>\n                    <span>${p.text || `${p.value} / ${p.max}`}</span>\n                  </div>\n                  <div class=\"progress-bar-bg w-full rounded-full h-1.5\">\n                    <div class=\"progress-bar-fg bg-accent h-1.5 rounded-full\" style=\"width: ${percentage}%\"></div>\n                  </div>\n                </div>\n              `;\n                        }\n                    });\n                }\n                // Case 2: `progress` is a single progress bar object\n                else if (progress && typeof progress === 'object' && 'value' in progress && 'max' in progress) {\n                    const percentage = progress.max > 0 ? (progress.value / progress.max) * 100 : 0;\n                    objectivesHtml += `\n            <div class=\"mt-2\">\n              <div class=\"flex justify-between items-center mb-1 text-xs font-mono text-secondary\">\n                <span>进度</span>\n                <span>${progress.text || `${progress.value} / ${progress.max}`}</span>\n              </div>\n              <div class=\"progress-bar-bg w-full rounded-full h-1.5\">\n                <div class=\"progress-bar-fg bg-accent h-1.5 rounded-full\" style=\"width: ${percentage}%\"></div>\n              </div>\n            </div>\n          `;\n                }\n                // Case 3: `objectives` is an array of objective items\n                else if (Array.isArray(objectives)) {\n                    objectivesHtml += '<ul class=\"space-y-1 mt-2 text-xs list-disc list-inside pl-2\">';\n                    objectives.forEach((obj) => {\n                        const description = obj['text'] || obj['描述'];\n                        const isCompleted = obj['completed'] || obj['完成'];\n                        objectivesHtml += `<li class=\"${isCompleted ? 'text-green-400 line-through' : 'text-secondary'}\">${description}</li>`;\n                    });\n                    objectivesHtml += '</ul>';\n                }\n            }\n            if (Array.isArray(conditions) && conditions.length > 0) {\n                objectivesHtml += '<ul class=\"space-y-1 mt-2 text-xs list-inside pl-2\">';\n                conditions.forEach((cond) => {\n                    objectivesHtml += `<li class=\"text-yellow-400/80\"><i class=\"fas fa-exclamation-triangle fa-fw mr-1\"></i>${cond}</li>`;\n                });\n                objectivesHtml += '</ul>';\n            }\n            // 渲染奖励\n            if (rewards) {\n                objectivesHtml += '<div class=\"mt-2 pt-2 border-t border-dim/50\">';\n                objectivesHtml += '<h5 class=\"text-xs font-semibold text-green-400/90 mb-1\"><i class=\"fas fa-gift fa-fw mr-1\"></i>奖励</h5>';\n                objectivesHtml += '<ul class=\"space-y-1 text-xs list-disc list-inside pl-2\">';\n                if (Array.isArray(rewards)) {\n                    rewards.forEach((reward) => {\n                        if (typeof reward === 'string') {\n                            objectivesHtml += `<li class=\"text-secondary\">${reward}</li>`;\n                        }\n                        else if (typeof reward === 'object' && reward !== null && reward['名称']) {\n                            const rewardName = reward['名称'];\n                            const rewardAmount = reward['数量'] ? ` x${reward['数量']}` : '';\n                            objectivesHtml += `<li class=\"text-secondary\">${rewardName}${rewardAmount}</li>`;\n                        }\n                    });\n                }\n                else if (typeof rewards === 'string') {\n                    objectivesHtml += `<li class=\"text-secondary\">${rewards}</li>`;\n                }\n                objectivesHtml += '</ul></div>';\n            }\n            listHtml += `\n        <li class=\"p-3 bg-main/50 rounded-lg quest-item\" data-quest-name=\"${name.toLowerCase()}\">\n          <div class=\"font-semibold text-primary\">${name}</div>\n          <p class=\"text-sm text-secondary mt-1\">${desc}</p>\n          ${objectivesHtml}\n        </li>\n      `;\n        });\n        listHtml += '</ul>';\n        return listHtml;\n    };\n    const tabs = [\n        { id: 'ongoing', label: '正在进行', count: ongoing.length, data: ongoing, icon: 'fa-person-running' },\n        { id: 'completed', label: '已完成', count: completed.length, data: completed, icon: 'fa-check-double' },\n        { id: 'not-completed', label: '未完成', count: notCompleted.length, data: notCompleted, icon: 'fa-box-archive' },\n        { id: 'failed', label: '失败', count: failed.length, data: failed, icon: 'fa-xmark' },\n    ];\n    let tabsHtml = '<div class=\"flex border-b border-dim mb-3 quest-tabs\">';\n    tabs.forEach((tab, index) => {\n        tabsHtml += `\n      <button class=\"quest-tab-btn flex-1 p-2 text-sm font-semibold transition-colors ${index === 0 ? 'active' : ''}\" data-tab=\"${tab.id}\">\n        <i class=\"fas ${tab.icon} mr-1.5\"></i>\n        ${tab.label} <span class=\"ml-1 text-xs px-1.5 py-0.5 rounded-full bg-secondary/50\">${tab.count}</span>\n      </button>\n    `;\n    });\n    tabsHtml += '</div>';\n    let contentHtml = '<div class=\"quest-tabs-content\">';\n    tabs.forEach((tab, index) => {\n        contentHtml += `\n      <div id=\"quest-tab-${tab.id}\" class=\"quest-tab-pane ${index === 0 ? 'active' : ''}\">\n        ${renderQuestList(tab.data, tab.id)}\n      </div>\n    `;\n    });\n    contentHtml += '</div>';\n    container.innerHTML = `\n    <div id=\"quest-system-panel\" class=\"bg-main rounded-xl border border-dim p-3.5 shadow-sm card-hover theme-transition\">\n      <div class=\"flex justify-between items-center mb-3 pb-2 border-b border-dim\">\n        <h3 class=\"font-bold text-lg theme-transition\">\n          <i class=\"fas fa-scroll text-accent mr-2\"></i> 任务系统\n        </h3>\n      </div>\n      <div class=\"mb-3\">\n        <input type=\"search\" id=\"quest-search-input\" class=\"w-full bg-secondary/30 rounded-md p-2 text-sm border border-transparent focus:border-accent focus:ring-0\" placeholder=\"搜索任务名称...\">\n      </div>\n      ${tabsHtml}\n      ${contentHtml}\n      <p class=\"text-center text-xs text-secondary mt-3\"></p>\n    </div>\n  `;\n    const style = document.createElement('style');\n    style.textContent = `\n    #quest-system-panel .quest-tab-pane { display: none; }\n    #quest-system-panel .quest-tab-pane.active { display: block; }\n    #quest-system-panel .quest-tab-btn.active { color: var(--color-accent); border-bottom: 2px solid var(--color-accent); }\n  `;\n    container.appendChild(style);\n    const script = document.createElement('script');\n    script.textContent = `\n    (function() {\n      const panel = document.getElementById('quest-system-panel');\n      if (!panel || panel.dataset.initialized) return;\n      panel.dataset.initialized = 'true';\n\n      const tabs = panel.querySelectorAll('.quest-tab-btn');\n      const panes = panel.querySelectorAll('.quest-tab-pane');\n      const searchInput = panel.querySelector('#quest-search-input');\n\n      tabs.forEach(tab => {\n        tab.addEventListener('click', () => {\n          const targetId = tab.dataset.tab;\n          \n          tabs.forEach(t => t.classList.remove('active'));\n          tab.classList.add('active');\n\n          panes.forEach(pane => {\n            pane.classList.toggle('active', pane.id === 'quest-tab-' + targetId);\n          });\n        });\n      });\n\n      searchInput.addEventListener('input', (e) => {\n        const searchTerm = e.target.value.toLowerCase();\n        panel.querySelectorAll('.quest-item').forEach(item => {\n          const questName = item.dataset.questName || '';\n          item.style.display = questName.includes(searchTerm) ? '' : 'none';\n        });\n      });\n    })();\n  `;\n    container.appendChild(script);\n}\n/**\n * 系统渲染的主函数\n * @param viewControllerData - `世界.当前激活系统` 对象\n * @param container - 用于渲染的HTML容器元素\n * @param pokedexManager - PokedexManager 实例\n */\nfunction renderSystem(viewControllerData, container, pokedexManager) {\n    const systemName = viewControllerData ? viewControllerData['名称'] : null;\n    if (!systemName || systemName === '无' || systemName === '无系统') {\n        container.innerHTML = `\n      <div class=\"text-center py-4 text-secondary theme-transition italic\">\n        <i class=\"fas fa-info-circle mr-1\"></i>未绑定系统\n      </div>\n    `;\n        return;\n    }\n    // Vue components have taken over all system rendering. This switch is deprecated.\n    container.innerHTML = `\n    <div class=\"text-center py-4 text-secondary theme-transition italic\">\n      <i class=\"fas fa-info-circle mr-1\"></i>系统 \"${systemName}\" 由 Vue 组件渲染。\n    </div>\n  `;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9zeXN0ZW1zLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXVCO0FBQ1c7QUFFSztBQUt2QyxTQUFTLGdCQUFnQjtJQUN2QixNQUFNLE1BQU0sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLGdCQUFnQixDQUFnQixDQUFDO0lBQ3ZFLElBQUksQ0FBQyxNQUFNO1FBQUUsT0FBTztJQUVwQixNQUFNLEtBQUssR0FBRyxNQUFNLENBQUMsYUFBYSxDQUFDLHNCQUFzQixDQUFnQixDQUFDO0lBQzFFLE1BQU0sTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBa0IsQ0FBQztJQUMzRCxNQUFNLFVBQVUsR0FBRyxNQUFNLENBQUMsYUFBYSxDQUFDLHNCQUFzQixDQUFzQixDQUFDO0lBQ3JGLE1BQU0sVUFBVSxHQUFHLE1BQU0sQ0FBQyxhQUFhLENBQUMsc0JBQXNCLENBQXNCLENBQUM7SUFDckYsTUFBTSxPQUFPLEdBQUcsTUFBTSxDQUFDLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBZ0IsQ0FBQztJQUV2RSxJQUFJLENBQUMsS0FBSyxJQUFJLE1BQU0sQ0FBQyxNQUFNLEtBQUssQ0FBQyxJQUFJLENBQUMsVUFBVSxJQUFJLENBQUMsVUFBVSxJQUFJLENBQUMsT0FBTztRQUFFLE9BQU87SUFFcEYsSUFBSSxZQUFZLEdBQUcsQ0FBQyxDQUFDO0lBQ3JCLE1BQU0sV0FBVyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7SUFFbEMsTUFBTSxZQUFZLEdBQUcsR0FBRyxFQUFFO1FBQ3hCLE1BQU0sVUFBVSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUM7UUFDekMsS0FBSyxDQUFDLEtBQUssQ0FBQyxTQUFTLEdBQUcsZUFBZSxZQUFZLEdBQUcsVUFBVSxLQUFLLENBQUM7UUFFdEUsaUJBQWlCO1FBQ2pCLE9BQU8sQ0FB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Q0FBQztJQUM5QyxLQUFLLENBQUMsV0FBVyxHQUFHOzs7O0dBSW5CLENBQUM7SUFDRixTQUFTLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBRTdCLE1BQU0sTUFBTSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDaEQsTUFBTSxDQUFDLFdBQVcsR0FBRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQStCcEIsQ0FBQztJQUNGLFNBQVMsQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDaEMsQ0FBQztBQUdEOzs7OztHQUtHO0FBQ0ksU0FBUyxZQUFZLENBQUMsa0JBQXVCLEVBQUUsU0FBc0IsRUFBRSxjQUE4QjtJQUMxRyxNQUFNLFVBQVUsR0FBRyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztJQUV4RSxJQUFJLENBQUMsVUFBVSxJQUFJLFVBQVUsS0FBSyxHQUFHLElBQUksVUFBVSxLQUFLLEtBQUssRUFBRSxDQUFDO1FBQzlELFNBQVMsQ0FBQyxTQUFTLEdBQUc7Ozs7S0FJckIsQ0FBQztRQUNGLE9BQU87SUFDVCxDQUFDO0lBQ0Qsa0ZBQWtGO0lBQ2xGLFNBQVMsQ0FBQyxTQUFTLEdBQUc7O21EQUUyQixVQUFVOztHQUUxRCxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS9zeXN0ZW1zLnRzPyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi9sb2dnZXInO1xuaW1wb3J0IHsgUG9rZWRleE1hbmFnZXIgfSBmcm9tICcuL3Bva2VkZXgnO1xuaW1wb3J0IHsgcGFyc2VHYW1lRGF0ZSB9IGZyb20gJy4vdGltZSc7XG5cbi8vIEB0cy1pZ25vcmVcbmRlY2xhcmUgY29uc3QgZ2V0VmFyaWFibGVzOiAob3B0aW9ucz86IGFueSkgPT4gYW55O1xuXG5mdW5jdGlvbiBpbml0Q3VzdG9tU2xpZGVyKCkge1xuICBjb25zdCBzbGlkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY3VzdG9tLXNsaWRlcicpIGFzIEhUTUxFbGVtZW50O1xuICBpZiAoIXNsaWRlcikgcmV0dXJuO1xuXG4gIGNvbnN0IHRyYWNrID0gc2xpZGVyLnF1ZXJ5U2VsZWN0b3IoJy5jdXN0b20tc2xpZGVyLXRyYWNrJykgYXMgSFRNTEVsZW1lbnQ7XG4gIGNvbnN0IHNsaWRlcyA9IEFycmF5LmZyb20odHJhY2suY2hpbGRyZW4pIGFzIEhUTUxFbGVtZW50W107XG4gIGNvbnN0IG5leHRCdXR0b24gPSBzbGlkZXIucXVlcnlTZWxlY3RvcignLnNsaWRlci1uYXYtYnRuLm5leHQnKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgY29uc3QgcHJldkJ1dHRvbiA9IHNsaWRlci5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLW5hdi1idG4ucHJldicpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICBjb25zdCBjb3VudGVyID0gc2xpZGVyLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXItY291bnRlcicpIGFzIEhUTUxFbGVtZW50O1xuXG4gIGlmICghdHJhY2sgfHwgc2xpZGVzLmxlbmd0aCA9PT0gMCB8fCAhbmV4dEJ1dHRvbiB8fCAhcHJldkJ1dHRvbiB8fCAhY291bnRlcikgcmV0dXJuO1xuXG4gIGxldCBjdXJyZW50SW5kZXggPSAwO1xuICBjb25zdCB0b3RhbFNsaWRlcyA9IHNsaWRlcy5sZW5ndGg7XG5cbiAgY29uc3QgdXBkYXRlU2xpZGVyID0gKCkgPT4ge1xuICAgIGNvbnN0IHNsaWRlV2lkdGggPSBzbGlkZXNbMF0ub2Zmc2V0V2lkdGg7XG4gICAgdHJhY2suc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoLSR7Y3VycmVudEluZGV4ICogc2xpZGVXaWR0aH1weClgO1xuICAgIFxuICAgIC8vIFVwZGF0ZSBjb3VudGVyXG4gICAgY291bnRlci50ZXh0Q29udGVudCA9IGAke2N1cnJlbnRJbmRleCArIDF9IC8gJHt0b3RhbFNsaWRlc31gO1xuXG4gICAgLy8gVXBkYXRlIGJ1dHRvbiBzdGF0ZXNcbiAgICBwcmV2QnV0dG9uLmRpc2FibGVkID0gY3VycmVudEluZGV4ID09PSAwO1xuICAgIG5leHRCdXR0b24uZGlzYWJsZWQgPSBjdXJyZW50SW5kZXggPT09IHRvdGFsU2xpZGVzIC0gMTtcbiAgfTtcblxuICBuZXh0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGlmIChjdXJyZW50SW5kZXggPCB0b3RhbFNsaWRlcyAtIDEpIHtcbiAgICAgIGN1cnJlbnRJbmRleCsrO1xuICAgICAgdXBkYXRlU2xpZGVyKCk7XG4gICAgfVxuICB9KTtcblxuICBwcmV2QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGlmIChjdXJyZW50SW5kZXggPiAwKSB7XG4gICAgICBjdXJyZW50SW5kZXgtLTtcbiAgICAgIHVwZGF0ZVNsaWRlcigpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gSW5pdGlhbCBzZXR1cFxuICB1cGRhdGVTbGlkZXIoKTtcbiAgXG4gIC8vIFJlY2FsY3VsYXRlIG9uIHJlc2l6ZVxuICBuZXcgUmVzaXplT2JzZXJ2ZXIodXBkYXRlU2xpZGVyKS5vYnNlcnZlKHNsaWRlcik7XG59XG5cbi8qKlxuICog5riy5p+T5oqA6IO96Z2i5p2/57O757ufXG4gKiBAcGFyYW0gY29udGFpbmVyIC0g55So5LqO5riy5p+T55qESFRNTOWuueWZqOWFg+e0oFxuICovXG5mdW5jdGlvbiByZW5kZXJTa2lsbFBhbmVsKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgY29uc3Qgc3lzdGVtRGF0YSA9IF8uZ2V0KGdldFZhcmlhYmxlcygpLCAn5LiW55WMLuaKgOiDvScsIHt9KTtcbiAgY29uc3Qgc2tpbGxzID0gT2JqZWN0LnZhbHVlcyhzeXN0ZW1EYXRhLnNraWxscyB8fCB7fSk7XG4gIGxldCBjb250ZW50SHRtbCA9ICcnO1xuXG4gIGlmIChza2lsbHMubGVuZ3RoID09PSAwKSB7XG4gICAgY29udGVudEh0bWwgPSBgPHAgY2xhc3M9XCJ0ZXh0LXNlY29uZGFyeSB0ZXh0LXNtIGl0YWxpY1wiPiR7c3lzdGVtRGF0YVsn5o+Q56S6J10gfHwgJ+WwmuacquWtpuS5oOS7u+S9leaKgOiDveOAgid9PC9wPmA7XG4gIH0gZWxzZSB7XG4gICAgY29udGVudEh0bWwgPSAnPHVsIGNsYXNzPVwic3BhY2UteS0zXCI+JztcbiAgICBza2lsbHMuZm9yRWFjaCgoc2tpbGw6IGFueSkgPT4ge1xuICAgICAgY29uc3QgbmFtZSA9IHNraWxsWyflkI3np7AnXSB8fCAn5pyq55+l5oqA6IO9JztcbiAgICAgIGNvbnN0IGxldmVsID0gc2tpbGxbJ+etiee6pyddIHx8IDE7XG4gICAgICBjb25zdCBleHAgPSBza2lsbFsn54af57uD5bqmJ10gfHwgMDtcbiAgICAgIGNvbnN0IG1heEV4cCA9IDEwMDsgLy8gQXNzdW1pbmcgbWF4IGlzIDEwMCBmb3Igbm93XG4gICAgICBjb25zdCBwZXJjZW50YWdlID0gKGV4cCAvIG1heEV4cCkgKiAxMDA7XG5cbiAgICAgIGNvbnRlbnRIdG1sICs9IGBcbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItMVwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmb250LXNlbWlib2xkIHRleHQtcHJpbWFyeVwiPiR7bmFtZX08L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtc20gZm9udC1tb25vIHRleHQtc2Vjb25kYXJ5XCI+THYuICR7bGV2ZWx9PC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmVzcy1iYXItYmcgdy1mdWxsIHJvdW5kZWQtZnVsbCBoLTIuNVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzLWJhci1mZyBiZy1hY2NlbnQgaC0yLjUgcm91bmRlZC1mdWxsXCIgc3R5bGU9XCJ3aWR0aDogJHtwZXJjZW50YWdlfSVcIj48L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1yaWdodCB0ZXh0LXhzIGZvbnQtbW9ubyB0ZXh0LXNlY29uZGFyeSBtdC0xXCI+JHtleHB9IC8gJHttYXhFeHB9PC9kaXY+XG4gICAgICAgIDwvbGk+XG4gICAgICBgO1xuICAgIH0pO1xuICAgIGNvbnRlbnRIdG1sICs9ICc8L3VsPic7XG4gIH1cblxuICBjb250YWluZXIuaW5uZXJIVE1MID0gYFxuICAgIDxkaXYgY2xhc3M9XCJiZy1tYWluIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1kaW0gcC0zLjUgc2hhZG93LXNtIGNhcmQtaG92ZXIgdGhlbWUtdHJhbnNpdGlvblwiPlxuICAgICAgPGgzIGNsYXNzPVwiZm9udC1ib2xkIHRleHQtbGcgbWItMiBwYi0xIGJvcmRlci1iIGJvcmRlci1kaW0gdGhlbWUtdHJhbnNpdGlvblwiPlxuICAgICAgICDimpnvuI8gJHtzeXN0ZW1EYXRhWyflkI3np7AnXSB8fCAn5oqA6IO96Z2i5p2/J31cbiAgICAgIDwvaDM+XG4gICAgICAke2NvbnRlbnRIdG1sfVxuICAgIDwvZGl2PlxuICBgO1xufVxuXG4vKipcbiAqIOa4suafk+aIkOWwseezu+e7nyAodjMuMSAtIOaUr+aMgeWlluWKseWFkeaNoilcbiAqIEBwYXJhbSBjb250YWluZXIgLSDnlKjkuo7muLLmn5PnmoRIVE1M5a655Zmo5YWD57SgXG4gKi9cbmZ1bmN0aW9uIHJlbmRlckFjaGlldmVtZW50U3lzdGVtKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgY29uc3QgY3VycmVudFZhcnMgPSBnZXRWYXJpYWJsZXMoKTtcbiAgbG9nZ2VyKCdsb2cnLCAnQWNoaWV2ZW1lbnRTeXN0ZW0nLCAnUmVuZGVyaW5nIHN0YXJ0ZWQuIEZ1bGwgdmFyaWFibGVzOicsIF8uY2xvbmVEZWVwKGN1cnJlbnRWYXJzKSk7XG4gIGNvbnN0IHN5c3RlbURhdGEgPSBfLmdldChjdXJyZW50VmFycywgJ+S4lueVjC7miJDlsLEu5bey5a6M5oiQJywge30pO1xuICBsb2dnZXIoJ2xvZycsICdBY2hpZXZlbWVudFN5c3RlbScsICdFeHRyYWN0ZWQgc3lzdGVtIGRhdGE6JywgXy5jbG9uZURlZXAoc3lzdGVtRGF0YSkpO1xuICBjb25zdCBwb2ludHMgPSBzeXN0ZW1EYXRhWyfmiJDlsLHngrnmlbAnXSB8fCAwO1xuICBjb25zdCBjb21wbGV0ZWRBY2hpZXZlbWVudHMgPSBPYmplY3QudmFsdWVzKHN5c3RlbURhdGEgfHwge30pO1xuICBsb2dnZXIoJ2xvZycsICdBY2hpZXZlbWVudFN5c3RlbScsICdQYXJzZWQgY29tcGxldGVkIGFjaGlldmVtZW50czonLCBfLmNsb25lRGVlcChjb21wbGV0ZWRBY2hpZXZlbWVudHMpKTtcbiAgY29uc3QgcmV3YXJkcyA9IHN5c3RlbURhdGFbJ+WlluWKseWIl+ihqCddIHx8IFtdO1xuICBcbiAgY29uc3QgbGFzdFJlZnJlc2hEYXkgPSBfLmdldChzeXN0ZW1EYXRhLCAn5LiK5qyh5Yi35paw5aSp5pWwJywgMCk7XG4gIGNvbnN0IGN1cnJlbnREYXRlID0gXy5nZXQoY3VycmVudFZhcnMsICfkuJbnlYwu5b2T5YmN5pel5pyfJywgeyDlubQ6IDEsIOaciDogMSwg5pelOiAxIH0pO1xuICBjb25zdCBjdXJyZW50RGF5T2ZZZWFyID0gKGN1cnJlbnREYXRlLuW5tCAtIDEpICogMzYwICsgKGN1cnJlbnREYXRlLuaciCAtIDEpICogMzAgKyBjdXJyZW50RGF0ZS7ml6U7XG4gIGNvbnN0IGNhblJlZnJlc2ggPSBjdXJyZW50RGF5T2ZZZWFyID4gbGFzdFJlZnJlc2hEYXk7XG5cbiAgLy8gLS0tIOaIkOWwseWIl+ihqCAtLS1cbiAgbGV0IGFjaGlldmVtZW50c0h0bWwgPSAnJztcbiAgaWYgKGNvbXBsZXRlZEFjaGlldmVtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICBsb2dnZXIoJ3dhcm4nLCAnQWNoaWV2ZW1lbnRTeXN0ZW0nLCAnTm8gY29tcGxldGVkIGFjaGlldmVtZW50cyBmb3VuZCB0byByZW5kZXIuJyk7XG4gICAgYWNoaWV2ZW1lbnRzSHRtbCA9IGA8cCBjbGFzcz1cInRleHQtc2Vjb25kYXJ5IHRleHQtc20gaXRhbGljIHAtNCB0ZXh0LWNlbnRlclwiPuWwmuacquino+mUgeS7u+S9leaIkOWwseOAgjwvcD5gO1xuICB9IGVsc2Uge1xuICAgIGxvZ2dlcignaW5mbycsICdBY2hpZXZlbWVudFN5c3RlbScsIGBSZW5kZXJpbmcgJHtjb21wbGV0ZWRBY2hpZXZlbWVudHMubGVuZ3RofSBhY2hpZXZlbWVudHMuYCk7XG4gICAgYWNoaWV2ZW1lbnRzSHRtbCA9ICc8dWwgY2xhc3M9XCJzcGFjZS15LTNcIj4nO1xuICAgIGNvbXBsZXRlZEFjaGlldmVtZW50cy5mb3JFYWNoKChhY2g6IGFueSkgPT4ge1xuICAgICAgY29uc3QgbmFtZSA9IGFjaFsn5ZCN56ewJ10gfHwgJ+acquefpeaIkOWwsSc7XG4gICAgICBjb25zdCBkZXNjID0gYWNoWyfmj4/ov7AnXSB8fCAn5rKh5pyJ5o+P6L+w44CCJztcbiAgICAgIGNvbnN0IGRldGFpbHMgPSBKU09OLnN0cmluZ2lmeShhY2gpO1xuICAgICAgYWNoaWV2ZW1lbnRzSHRtbCArPSBgXG4gICAgICAgIDxsaSBjbGFzcz1cImNsaWNrYWJsZS1pdGVtIHJvdW5kZWQtbGcgcC0zIGhvdmVyOmJnLXNlY29uZGFyeSB0cmFuc2l0aW9uLWNvbG9yc1wiIGRhdGEtZGV0YWlscz0nJHtkZXRhaWxzfSc+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICA8aSBjbGFzcz1cImZhcyBmYS10cm9waHkgdGV4dC15ZWxsb3ctNDAwIG1yLTMgZmEtbGdcIj48L2k+XG4gICAgICAgICAgICA8cCBjbGFzcz1cImZvbnQtc2VtaWJvbGQgdGV4dC1wcmltYXJ5XCI+JHtuYW1lfTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1zZWNvbmRhcnkgcGwtOCBtdC0xXCI+JHtkZXNjfTwvcD5cbiAgICAgICAgPC9saT5cbiAgICAgIGA7XG4gICAgfSk7XG4gICAgYWNoaWV2ZW1lbnRzSHRtbCArPSAnPC91bD4nO1xuICB9XG5cbiAgLy8gLS0tIOWlluWKseWIl+ihqCAtLS1cbiAgbGV0IHJld2FyZHNIdG1sID0gJyc7XG4gIGlmIChyZXdhcmRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJld2FyZHNIdG1sID0gYDxwIGNsYXNzPVwidGV4dC1zZWNvbmRhcnkgdGV4dC1zbSBpdGFsaWMgcC00IHRleHQtY2VudGVyXCI+5b2T5YmN5rKh5pyJ5Y+v5YWR5o2i55qE5aWW5Yqx44CCPC9wPmA7XG4gIH0gZWxzZSB7XG4gICAgcmV3YXJkc0h0bWwgPSAnPHVsIGNsYXNzPVwic3BhY2UteS0zXCI+JztcbiAgICByZXdhcmRzLmZvckVhY2goKHJld2FyZDogYW55KSA9PiB7XG4gICAgICBjb25zdCBjYW5BZmZvcmQgPSBwb2ludHMgPj0gcmV3YXJkWyfmtojogJfngrnmlbAnXTtcbiAgICAgIHJld2FyZHNIdG1sICs9IGBcbiAgICAgICAgPGxpIGNsYXNzPVwicC0zIGJnLW1haW4vNTAgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1zdGFydFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtZ3Jvd1wiPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cImZvbnQtc2VtaWJvbGQgdGV4dC1wcmltYXJ5XCI+JHtyZXdhcmRbJ+WQjeensCddfTwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtc2Vjb25kYXJ5IG10LTFcIj4ke3Jld2FyZFsn5o+P6L+wJ119PC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgdGV4dC1zZWNvbmRhcnkgbXQtMVwiPuW6k+WtmDogJHtyZXdhcmRbJ+W6k+WtmCddfTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtcmlnaHQgbWwtNCBmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb250LWJvbGQgdGV4dC1hY2NlbnQgbWItMlwiPiR7cmV3YXJkWyfmtojogJfngrnmlbAnXX0gPGkgY2xhc3M9XCJmYXMgZmEtc3RhciB0ZXh0LXhzXCI+PC9pPjwvZGl2PlxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicmVkZWVtLWJ0biBidG4tc20gYnRuLXByaW1hcnlcIiBkYXRhLXJld2FyZC1pZD1cIiR7cmV3YXJkLmlkfVwiICR7IWNhbkFmZm9yZCB8fCByZXdhcmRbJ+W6k+WtmCddIDw9IDAgPyAnZGlzYWJsZWQnIDogJyd9PlxuICAgICAgICAgICAgICAgICR7cmV3YXJkWyflupPlrZgnXSA8PSAwID8gJ+aXoOi0pycgOiAn5YWR5o2iJ31cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9saT5cbiAgICAgIGA7XG4gICAgfSk7XG4gICAgcmV3YXJkc0h0bWwgKz0gJzwvdWw+JztcbiAgfVxuXG4gIGNvbnRhaW5lci5pbm5lckhUTUwgPSBgXG4gICAgPGRpdiBpZD1cImFjaGlldmVtZW50LXN5c3RlbS1wYW5lbFwiIGNsYXNzPVwiYmctbWFpbiByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItZGltIHAtMy41IHNoYWRvdy1zbSBjYXJkLWhvdmVyIHRoZW1lLXRyYW5zaXRpb25cIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItMyBwYi0yIGJvcmRlci1iIGJvcmRlci1kaW1cIj5cbiAgICAgICAgPGgzIGNsYXNzPVwiZm9udC1ib2xkIHRleHQtbGcgdGhlbWUtdHJhbnNpdGlvblwiPlxuICAgICAgICAgIPCfj4YgJHtzeXN0ZW1EYXRhWyflkI3np7AnXSB8fCAn5oiQ5bCx57O757ufJ31cbiAgICAgICAgPC9oMz5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZvbnQtYm9sZCB0ZXh0LWFjY2VudCB0ZXh0LWxnXCIgdGl0bGU9XCLmiJDlsLHngrnmlbBcIj5cbiAgICAgICAgICAke3BvaW50c30gPGkgY2xhc3M9XCJmYXMgZmEtc3RhciB0ZXh0LXhzXCI+PC9pPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8IS0tIFRhYnMgLS0+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleCBib3JkZXItYiBib3JkZXItZGltIG1iLTMgYWNoaWV2ZW1lbnQtdGFic1wiPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYWNoaWV2ZW1lbnQtdGFiLWJ0biBmbGV4LTEgcC0yIHRleHQtc20gZm9udC1zZW1pYm9sZCB0cmFuc2l0aW9uLWNvbG9ycyBhY3RpdmVcIiBkYXRhLXRhYj1cImFjaGlldmVtZW50c1wiPlxuICAgICAgICAgIDxpIGNsYXNzPVwiZmFzIGZhLXRyb3BoeSBtci0xLjVcIj48L2k+IOaIkOWwsVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImFjaGlldmVtZW50LXRhYi1idG4gZmxleC0xIHAtMiB0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdHJhbnNpdGlvbi1jb2xvcnNcIiBkYXRhLXRhYj1cInJld2FyZHNcIj5cbiAgICAgICAgICA8aSBjbGFzcz1cImZhcyBmYS1naWZ0IG1yLTEuNVwiPjwvaT4g5aWW5YqxXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDwhLS0gVGFiIENvbnRlbnQgLS0+XG4gICAgICA8ZGl2IGNsYXNzPVwiYWNoaWV2ZW1lbnQtdGFicy1jb250ZW50XCI+XG4gICAgICAgIDxkaXYgaWQ9XCJhY2hpZXZlbWVudC10YWItYWNoaWV2ZW1lbnRzXCIgY2xhc3M9XCJhY2hpZXZlbWVudC10YWItcGFuZSBhY3RpdmVcIj5cbiAgICAgICAgICAke2FjaGlldmVtZW50c0h0bWx9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGlkPVwiYWNoaWV2ZW1lbnQtdGFiLXJld2FyZHNcIiBjbGFzcz1cImFjaGlldmVtZW50LXRhYi1wYW5lXCI+XG4gICAgICAgICAgJHtyZXdhcmRzSHRtbH1cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibXQtNCBwdC0zIGJvcmRlci10IGJvcmRlci1kaW0gdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJyZWZyZXNoLXJld2FyZHMtYnRuXCIgY2xhc3M9XCJidG4tc2Vjb25kYXJ5IHctZnVsbCBzbTp3LWF1dG9cIiAkeyFjYW5SZWZyZXNoID8gJ2Rpc2FibGVkJyA6ICcnfT5cbiAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtc3luYy1hbHQgbXItMlwiPjwvaT4gJHtjYW5SZWZyZXNoID8gJ+WIt+aWsOWlluWKseWIl+ihqCcgOiAn5piO5pel5Y+v5Yi35pawJ31cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICBgO1xuICBcbiAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICBzdHlsZS50ZXh0Q29udGVudCA9IGBcbiAgICAjYWNoaWV2ZW1lbnQtc3lzdGVtLXBhbmVsIC5hY2hpZXZlbWVudC10YWItcGFuZSB7IGRpc3BsYXk6IG5vbmU7IH1cbiAgICAjYWNoaWV2ZW1lbnQtc3lzdGVtLXBhbmVsIC5hY2hpZXZlbWVudC10YWItcGFuZS5hY3RpdmUgeyBkaXNwbGF5OiBibG9jazsgfVxuICAgICNhY2hpZXZlbWVudC1zeXN0ZW0tcGFuZWwgLmFjaGlldmVtZW50LXRhYi1idG4uYWN0aXZlIHsgY29sb3I6IHZhcigtLWFjY2VudC1jb2xvcik7IGJvcmRlci1ib3R0b206IDJweCBzb2xpZCB2YXIoLS1hY2NlbnQtY29sb3IpOyB9XG4gIGA7XG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChzdHlsZSk7XG5cbiAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gIHNjcmlwdC50ZXh0Q29udGVudCA9IGBcbiAgICAoZnVuY3Rpb24oKSB7XG4gICAgICBjb25zdCBwYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY2hpZXZlbWVudC1zeXN0ZW0tcGFuZWwnKTtcbiAgICAgIGlmICghcGFuZWwgfHwgcGFuZWwuZGF0YXNldC5pbml0aWFsaXplZCkgcmV0dXJuO1xuICAgICAgcGFuZWwuZGF0YXNldC5pbml0aWFsaXplZCA9ICd0cnVlJztcblxuICAgICAgY29uc3QgdGFicyA9IHBhbmVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2hpZXZlbWVudC10YWItYnRuJyk7XG4gICAgICBjb25zdCBwYW5lcyA9IHBhbmVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2hpZXZlbWVudC10YWItcGFuZScpO1xuXG4gICAgICB0YWJzLmZvckVhY2godGFiID0+IHtcbiAgICAgICAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHRhcmdldElkID0gdGFiLmRhdGFzZXQudGFiO1xuICAgICAgICAgIFxuICAgICAgICAgIHRhYnMuZm9yRWFjaCh0ID0+IHQuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJykpO1xuICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcblxuICAgICAgICAgIHBhbmVzLmZvckVhY2gocGFuZSA9PiB7XG4gICAgICAgICAgICBwYW5lLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScsIHBhbmUuaWQgPT09ICdhY2hpZXZlbWVudC10YWItJyArIHRhcmdldElkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KSgpO1xuICBgO1xuICBjb250YWluZXIuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyQmFydGVyU3lzdGVtKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHBva2VkZXhNYW5hZ2VyOiBQb2tlZGV4TWFuYWdlcikge1xuICBjb25zdCBjdXJyZW50VmFycyA9IGdldFZhcmlhYmxlcyh7IHR5cGU6ICdjaGF0JyB9KTtcbiAgY29uc3Qgc3lzdGVtRGF0YSA9IF8uZ2V0KGN1cnJlbnRWYXJzLCAn5LiW55WMLuS7peeJqeaNoueJqScsIHt9KTtcbiAgY29uc3QgbWFpbkNoYXJhY3Rlck5hbWUgPSBfLmdldChjdXJyZW50VmFycywgJ+inkuiJsi7kuLvmjqfop5LoibLlkI0nLCAn6JCn5qCW6ZuqJyk7XG4gIGNvbnN0IG15SXRlbXMgPSBfLmdldChjdXJyZW50VmFycywgYOinkuiJsi4ke21haW5DaGFyYWN0ZXJOYW1lfS7nianlk4FgLCBbXSk7XG4gIGNvbnN0IGF2YWlsYWJsZUl0ZW1zID0gc3lzdGVtRGF0YVsn5Y+v5o2i5Y+W55qE54mp5ZOBJ10gfHwgW107XG4gIFxuICBjb25zdCBsYXN0UmVmcmVzaERheSA9IF8uZ2V0KHN5c3RlbURhdGEsICfkuIrmrKHliLfmlrDlpKnmlbAnLCAwKTtcbiAgY29uc3QgY3VycmVudERhdGUgPSBfLmdldChjdXJyZW50VmFycywgJ+S4lueVjC7lvZPliY3ml6XmnJ8nLCB7IOW5tDogMSwg5pyIOiAxLCDml6U6IDEgfSk7XG4gIGNvbnN0IGN1cnJlbnREYXlPZlllYXIgPSAoY3VycmVudERhdGUu5bm0IC0gMSkgKiAzNjAgKyAoY3VycmVudERhdGUu5pyIIC0gMSkgKiAzMCArIGN1cnJlbnREYXRlLuaXpTtcbiAgY29uc3QgY2FuUmVmcmVzaCA9IGN1cnJlbnREYXlPZlllYXIgPiBsYXN0UmVmcmVzaERheTtcblxuICBjb25zdCBnZXRJdGVtVmFsdWUgPSAoaXRlbTogYW55KSA9PiB7XG4gICAgY29uc3QgcG9rZWRleEVudHJ5ID0gcG9rZWRleE1hbmFnZXIucmVhZFBva2VkZXhFbnRyeSgn54mp5ZOBJywgaXRlbVsn5ZCN56ewJ10pO1xuICAgIHJldHVybiBwb2tlZGV4RW50cnkgPyBwb2tlZGV4TWFuYWdlci5jYWxjdWxhdGVJdGVtVmFsdWUocG9rZWRleEVudHJ5KSA6IChfLmdldChpdGVtLCAn5Lu35YC8LuWfuuehgOS7t+WAvCcpIHx8IGl0ZW1bJ+S7t+WAvCddIHx8IDApO1xuICB9O1xuXG4gIC8vIC0tLSBNeSBJdGVtcyBTZWN0aW9uIC0tLVxuICBsZXQgbXlJdGVtc0h0bWwgPSBgPGRpdiBjbGFzcz1cImJnLXNlY29uZGFyeS8zMCByb3VuZGVkLWxnIHAtMyBzaGFkb3ctaW5uZXIgbWF4LWgtNDggb3ZlcmZsb3cteS1hdXRvXCI+YDtcbiAgaWYgKG15SXRlbXMubGVuZ3RoID4gMCkge1xuICAgIG15SXRlbXNIdG1sICs9IGA8dWwgY2xhc3M9XCJzcGFjZS15LTIgdGV4dC1zbVwiPmA7XG4gICAgbXlJdGVtcy5mb3JFYWNoKChpdGVtOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gZ2V0SXRlbVZhbHVlKGl0ZW0pO1xuICAgICAgY29uc3QgcXVhbnRpdHkgPSBpdGVtWyfmlbDph48nXSB8fCAxO1xuICAgICAgbXlJdGVtc0h0bWwgKz0gYFxuICAgICAgICA8bGkgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBwLTIgcm91bmRlZC1tZCBiZy1tYWluLzMwXCI+XG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNsYXNzPVwiYmFydGVyLW15LWl0ZW0tY2hlY2tib3ggbXItMyBmb3JtLWNoZWNrYm94XCIgZGF0YS1uYW1lPVwiJHtpdGVtWyflkI3np7AnXX1cIiBkYXRhLXZhbHVlPVwiJHt2YWx1ZX1cIiBkYXRhLXF1YW50aXR5PVwiJHtxdWFudGl0eX1cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC1ncm93XCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZvbnQtc2VtaWJvbGQgdGV4dC1wcmltYXJ5XCI+JHtpdGVtWyflkI3np7AnXX08L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1zZWNvbmRhcnkgbWwtMlwiPijku7flgLw6ICR7dmFsdWV9KTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImZvbnQtbW9ubyB0ZXh0LWFjY2VudCBmb250LXNlbWlib2xkXCI+eCAke3F1YW50aXR5fTwvc3Bhbj5cbiAgICAgICAgPC9saT5cbiAgICAgIGA7XG4gICAgfSk7XG4gICAgbXlJdGVtc0h0bWwgKz0gYDwvdWw+YDtcbiAgfSBlbHNlIHtcbiAgICBteUl0ZW1zSHRtbCArPSBgPHAgY2xhc3M9XCJ0ZXh0LXNlY29uZGFyeSB0ZXh0LXNtIGl0YWxpYyB0ZXh0LWNlbnRlciBwLTRcIj7kvaDmsqHmnInlj6/nlKjkuo7kuqTmjaLnmoTnianlk4HjgII8L3A+YDtcbiAgfVxuICBteUl0ZW1zSHRtbCArPSAnPC9kaXY+JztcblxuICAvLyAtLS0gQXZhaWxhYmxlIEl0ZW1zIFNlY3Rpb24gLS0tXG4gIGxldCBhdmFpbGFibGVJdGVtc0h0bWwgPSBgPGRpdiBjbGFzcz1cImJnLXNlY29uZGFyeS8zMCByb3VuZGVkLWxnIHAtMyBzaGFkb3ctaW5uZXIgbWF4LWgtNjAgb3ZlcmZsb3cteS1hdXRvXCI+YDtcbiAgaWYgKGF2YWlsYWJsZUl0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICBhdmFpbGFibGVJdGVtc0h0bWwgKz0gYDx1bCBjbGFzcz1cInNwYWNlLXktMiB0ZXh0LXNtXCI+YDtcbiAgICBhdmFpbGFibGVJdGVtcy5mb3JFYWNoKChpdGVtOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gZ2V0SXRlbVZhbHVlKGl0ZW0pO1xuICAgICAgYXZhaWxhYmxlSXRlbXNIdG1sICs9IGBcbiAgICAgICAgPGxpIGNsYXNzPVwiZmxleCBpdGVtcy1zdGFydCBwLTIgcm91bmRlZC1tZCBiZy1tYWluLzMwXCI+XG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNsYXNzPVwiYmFydGVyLWF2YWlsYWJsZS1pdGVtLWNoZWNrYm94IG1yLTMgbXQtMSBmb3JtLWNoZWNrYm94XCIgZGF0YS1uYW1lPVwiJHtpdGVtWyflkI3np7AnXX1cIiBkYXRhLXZhbHVlPVwiJHt2YWx1ZX1cIiBkYXRhLXN0b2NrPVwiJHtpdGVtWyflupPlrZgnXX1cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC1ncm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZm9udC1zZW1pYm9sZCB0ZXh0LXByaW1hcnlcIj4ke2l0ZW1bJ+WQjeensCddfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmb250LW1vbm8gdGV4dC1hY2NlbnQgZm9udC1zZW1pYm9sZFwiPiR7dmFsdWV9IDxpIGNsYXNzPVwiZmFzIGZhLWNvaW5zIHRleHQteHNcIj48L2k+PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgdGV4dC1zZWNvbmRhcnkgbXQtMVwiPiR7aXRlbVsn5o+P6L+wJ10gfHwgJ+aaguaXoOaPj+i/sCd9PC9wPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2Vjb25kYXJ5IG10LTFcIj7lupPlrZg6ICR7aXRlbVsn5bqT5a2YJ119PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2xpPlxuICAgICAgYDtcbiAgICB9KTtcbiAgICBhdmFpbGFibGVJdGVtc0h0bWwgKz0gYDwvdWw+YDtcbiAgfSBlbHNlIHtcbiAgICBhdmFpbGFibGVJdGVtc0h0bWwgKz0gYDxwIGNsYXNzPVwidGV4dC1zZWNvbmRhcnkgdGV4dC1zbSBpdGFsaWMgdGV4dC1jZW50ZXIgcC00XCI+5b2T5YmN5rKh5pyJ5Y+v5o2i5Y+W55qE54mp5ZOB44CCPC9wPmA7XG4gIH1cbiAgYXZhaWxhYmxlSXRlbXNIdG1sICs9ICc8L2Rpdj4nO1xuXG4gIGNvbnRhaW5lci5pbm5lckhUTUwgPSBgXG4gICAgPGRpdiBpZD1cImJhcnRlci1zeXN0ZW0tY29udGFpbmVyXCIgY2xhc3M9XCJiZy1tYWluIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1kaW0gcC00IHNoYWRvdy1zbSBjYXJkLWhvdmVyIHRoZW1lLXRyYW5zaXRpb25cIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItMyBwYi0yIGJvcmRlci1iIGJvcmRlci1kaW1cIj5cbiAgICAgICAgPGgzIGNsYXNzPVwiZm9udC1ib2xkIHRleHQtbGcgdGhlbWUtdHJhbnNpdGlvbiBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgIDxpIGNsYXNzPVwiZmFzIGZhLXN0b3JlIG1yLTIgdGV4dC1hY2NlbnRcIj48L2k+ICR7c3lzdGVtRGF0YVsn5ZCN56ewJ10gfHwgJ+S7peeJqeaNoueJqSd9XG4gICAgICAgIDwvaDM+XG4gICAgICAgIDxidXR0b24gaWQ9XCJyZWZyZXNoLWJhcnRlci1idG5cIiBjbGFzcz1cInRleHQtc20gdGV4dC1hY2NlbnQgaG92ZXI6dGV4dC1hY2NlbnQtaG92ZXIgdHJhbnNpdGlvbi1jb2xvcnMgcC0xIHJvdW5kZWQgaG92ZXI6Ymctc2Vjb25kYXJ5IGRpc2FibGVkOnRleHQtc2Vjb25kYXJ5IGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZFwiIHRpdGxlPVwiJHtjYW5SZWZyZXNoID8gJ+WIt+aWsOWPr+aNouWPlueJqeWTgScgOiAn5LuK5pel5bey5Yi35pawJ31cIiAkeyFjYW5SZWZyZXNoID8gJ2Rpc2FibGVkJyA6ICcnfT5cbiAgICAgICAgICA8aSBjbGFzcz1cImZhcyBmYS1zeW5jLWFsdFwiPjwvaT4gJHtjYW5SZWZyZXNoID8gJ+WIt+aWsCcgOiAn5piO5pel5YaN5p2lJ31cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAgPGRpdiBjbGFzcz1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgZ2FwLTQgbXQtNFwiPlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxoNCBjbGFzcz1cImZvbnQtc2VtaWJvbGQgdGV4dC1iYXNlIG1iLTIgdGV4dC1wcmltYXJ5LzgwXCI+5oiR55qE54mp5ZOBPC9oND5cbiAgICAgICAgICAke215SXRlbXNIdG1sfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8aDQgY2xhc3M9XCJmb250LXNlbWlib2xkIHRleHQtYmFzZSBtYi0yIHRleHQtcHJpbWFyeS84MFwiPuWPr+aNouWPlueahOeJqeWTgTwvaDQ+XG4gICAgICAgICAgJHthdmFpbGFibGVJdGVtc0h0bWx9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3M9XCJtdC00IHB0LTMgYm9yZGVyLXQgYm9yZGVyLWRpbVwiPlxuICAgICAgICA8aDQgY2xhc3M9XCJmb250LXNlbWlib2xkIHRleHQtYmFzZSBtYi0yIHRleHQtcHJpbWFyeS84MFwiPuS6pOaYk+ivpuaDhTwvaDQ+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJiZy1zZWNvbmRhcnkvMzAgcm91bmRlZC1sZyBwLTMgc2hhZG93LWlubmVyIHRleHQtc20gc3BhY2UteS0yXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICA8c3Bhbj7miJHmlrnlh7rku7c6PC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gaWQ9XCJiYXJ0ZXItb2ZmZXItdmFsdWVcIiBjbGFzcz1cImZvbnQtYm9sZCB0ZXh0LWFjY2VudFwiPjAgPGkgY2xhc3M9XCJmYXMgZmEtY29pbnMgdGV4dC14c1wiPjwvaT48L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICA8c3Bhbj7lr7nmlrnopoHku7c6PC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gaWQ9XCJiYXJ0ZXItcmVxdWVzdC12YWx1ZVwiIGNsYXNzPVwiZm9udC1ib2xkIHRleHQtcHJpbWFyeVwiPjAgPGkgY2xhc3M9XCJmYXMgZmEtY29pbnMgdGV4dC14c1wiPjwvaT48L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8YnV0dG9uIGlkPVwiZXhlY3V0ZS1iYXJ0ZXItYnRuXCIgY2xhc3M9XCJidG4tcHJpbWFyeSB3LWZ1bGwgbXQtM1wiIGRpc2FibGVkPlxuICAgICAgICAgIDxpIGNsYXNzPVwiZmFzIGZhLWV4Y2hhbmdlLWFsdCBtci0yXCI+PC9pPiDnoa7orqTkuqTmmJNcbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxwIGlkPVwiYmFydGVyLXN0YXR1cy10ZXh0XCIgY2xhc3M9XCJ0ZXh0LWNlbnRlciB0ZXh0LXhzIHRleHQtc2Vjb25kYXJ5IG10LTIgaC00XCI+PC9wPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIGA7XG5cbiAgLy8gRXZlbnQgaGFuZGxpbmcgaXMgbm93IG1hbmFnZWQgYnkgdWkvZXZlbnRIYW5kbGVycy50c1xufVxuXG5cbi8qKlxuICog5riy5p+T562+5Yiw57O757ufXG4gKiBAcGFyYW0gY29udGFpbmVyIC0g55So5LqO5riy5p+T55qESFRNTOWuueWZqOWFg+e0oFxuICovXG5mdW5jdGlvbiByZW5kZXJTaWduSW5TeXN0ZW0oY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xuICBjb25zdCBjdXJyZW50VmFycyA9IGdldFZhcmlhYmxlcygpO1xuICBsb2dnZXIoJ2luZm8nLCAnU2lnbkluU3lzdGVtJywgJ1JlbmRlcmluZyBzdGFydGVkLiBGdWxsIHZhcmlhYmxlczonLCBfLmNsb25lRGVlcChjdXJyZW50VmFycykpO1xuICBjb25zdCBzeXN0ZW1EYXRhID0gXy5nZXQoY3VycmVudFZhcnMsICfkuJbnlYwu562+5YiwJywge30pO1xuICBjb25zdCBjdXJyZW50RGF0ZSA9IF8uZ2V0KGN1cnJlbnRWYXJzLCAn5LiW55WMLuW9k+WJjeaXpeacnycpO1xuICBsb2dnZXIoJ2xvZycsICdTaWduSW5TeXN0ZW0nLCAnRXh0cmFjdGVkIHN5c3RlbSBkYXRhIGFuZCBjdXJyZW50IGRhdGU6JywgeyBzeXN0ZW1EYXRhOiBfLmNsb25lRGVlcChzeXN0ZW1EYXRhKSwgY3VycmVudERhdGU6IF8uY2xvbmVEZWVwKGN1cnJlbnREYXRlKSB9KTtcblxuICBpZiAoIWN1cnJlbnREYXRlKSB7XG4gICAgbG9nZ2VyKCd3YXJuJywgJ3JlbmRlclNpZ25JblN5c3RlbScsICdGYWlsZWQgdG8gcmVuZGVyIHNpZ24taW4gc3lzdGVtOiBjb3VsZCBub3QgZmluZCBjdXJyZW50RGF0ZSBpbiB2YXJpYWJsZXMuJyk7XG4gICAgY29udGFpbmVyLmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJiZy1tYWluIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1kaW0gcC0zLjUgc2hhZG93LXNtIGNhcmQtaG92ZXIgdGhlbWUtdHJhbnNpdGlvblwiPlxuICAgICAgICA8aDMgY2xhc3M9XCJmb250LWJvbGQgdGV4dC1sZyBtYi0zIHBiLTIgYm9yZGVyLWIgYm9yZGVyLWRpbSB0aGVtZS10cmFuc2l0aW9uXCI+XG4gICAgICAgICAg8J+Xk++4jyAke3N5c3RlbURhdGFbJ+WQjeensCddIHx8ICfnrb7liLDns7vnu58nfVxuICAgICAgICA8L2gzPlxuICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1jZW50ZXIgcHktNCB0ZXh0LXNlY29uZGFyeSBpdGFsaWNcIj5cbiAgICAgICAgICA8aSBjbGFzcz1cImZhcyBmYS1leGNsYW1hdGlvbi1jaXJjbGUgbXItMVwiPjwvaT4g5peg5rOV6I635Y+W5b2T5YmN5ri45oiP5pel5pyfXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+YDtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBnYW1lRGF0ZSA9IHBhcnNlR2FtZURhdGUoY3VycmVudERhdGUpO1xuICBpZiAoIWdhbWVEYXRlKSB7XG4gICAgbG9nZ2VyKCdlcnJvcicsICdyZW5kZXJTaWduSW5TeXN0ZW0nLCAnRmFpbGVkIHRvIHBhcnNlIGdhbWUgZGF0ZSBmcm9tIGN1cnJlbnREYXRlIG9iamVjdDonLCBjdXJyZW50RGF0ZSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxvZ2dlcignbG9nJywgJ1NpZ25JblN5c3RlbScsICdQYXJzZWQgZ2FtZSBkYXRlOicsIGdhbWVEYXRlKTtcbiAgXG4gIGNvbnN0IHsgeWVhciwgbW9udGgsIGRheTogdG9kYXlJbkdhbWUgfSA9IGdhbWVEYXRlO1xuICBjb25zdCByZWNvcmRLZXkgPSBgWSR7eWVhcn1NJHttb250aH1gO1xuICBjb25zdCBzaWduSW5SZWNvcmRzID0gc3lzdGVtRGF0YS7nrb7liLDorrDlvZUgfHwge307XG4gIGNvbnN0IHNpZ25lZEluRGF5cyA9IHNpZ25JblJlY29yZHNbcmVjb3JkS2V5XSB8fCBbXTtcbiAgbG9nZ2VyKCdsb2cnLCAnU2lnbkluU3lzdGVtJywgYENhbGN1bGF0ZWQgcmVjb3JkIGtleTogXCIke3JlY29yZEtleX1cIi4gRm91bmQgc2lnbmVkIGluIGRheXMgZm9yIHRoaXMgbW9udGg6YCwgc2lnbmVkSW5EYXlzKTtcblxuICBjb25zdCBoYXNTaWduZWRJblRvZGF5ID0gc3lzdGVtRGF0YS7ku4rml6Xlt7Lnrb7liLAgfHwgZmFsc2U7XG4gIGNvbnN0IGNhblNpZ25JbiA9ICFoYXNTaWduZWRJblRvZGF5O1xuICBjb25zdCBjb25zZWN1dGl2ZURheXMgPSBzeXN0ZW1EYXRhLui/nue7reetvuWIsOWkqeaVsCB8fCAwO1xuICBjb25zdCBtb250aGx5Q2FyZCA9IHN5c3RlbURhdGEu5pyI5Y2hIHx8IHsg54q25oCBOiAn5pyq5r+A5rS7Jywg5Ymp5L2Z5aSp5pWwOiAwIH07XG4gIGNvbnN0IG1vbnRobHlDYXJkSFRNTCA9IG1vbnRobHlDYXJkLueKtuaAgSA9PT0gJ+acqua/gOa0uydcbiAgICA/IGDmnKrmv4DmtLsgPGJ1dHRvbiBpZD1cImFjdGl2YXRlLW1vbnRobHktY2FyZC1idG5cIiBjbGFzcz1cInRleHQteHMgbWwtMiBweC0yIHB5LTAuNSByb3VuZGVkIGJnLWFjY2VudC8yMCBob3ZlcjpiZy1hY2NlbnQvNDAgdGV4dC1hY2NlbnQgdHJhbnNpdGlvbi1jb2xvcnNcIiB0aXRsZT1cIuWQkUFJ6K+i6Zeu5r+A5rS75pyI5Y2h55qE5p2h5Lu2XCI+5r+A5rS7PC9idXR0b24+YFxuICAgIDogYOa/gOa0u+S4rSAo5Ymp5L2ZJHttb250aGx5Q2FyZC7liankvZnlpKnmlbB95aSpKWA7XG5cbiAgbGV0IGNhbGVuZGFySHRtbCA9IGA8ZGl2IGNsYXNzPVwidGV4dC1jZW50ZXIgbWItMiBmb250LXNlbWlib2xkIHRleHQtcHJpbWFyeVwiPuesrCR7eWVhcn3lubQgLSDnrKwke21vbnRofeaciDwvZGl2PmA7XG4gIGNhbGVuZGFySHRtbCArPSAnPGRpdiBpZD1cImNhbGVuZGFyLWdyaWRcIiBjbGFzcz1cImdyaWQgZ3JpZC1jb2xzLTcgZ2FwLTEgdGV4dC1jZW50ZXIgdGV4dC14c1wiPic7XG4gIGNvbnN0IGRheXNJbk1vbnRoID0gMzA7IC8vIOa4uOaIj+iuvuWumuavj+aciOWbuuWumjMw5aSpXG5cbiAgZm9yIChsZXQgaSA9IDE7IGkgPD0gZGF5c0luTW9udGg7IGkrKykge1xuICAgIGNvbnN0IGlzVG9kYXkgPSBpID09PSB0b2RheUluR2FtZTtcbiAgICBjb25zdCBpc1NpZ25lZEluID0gc2lnbmVkSW5EYXlzLmluY2x1ZGVzKGkpO1xuICAgIGxldCBkYXlDbGFzcyA9ICd3LTggaC04IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0zMDAgJztcblxuICAgIGlmIChpc1RvZGF5KSB7XG4gICAgICBkYXlDbGFzcyArPSAnZm9udC1ib2xkIHJpbmctMiByaW5nLWFjY2VudCAnO1xuICAgICAgZGF5Q2xhc3MgKz0gaXNTaWduZWRJbiA/ICdiZy1hY2NlbnQvNTAgdGV4dC13aGl0ZSAnIDogJ2JnLWFjY2VudC8zMCB0ZXh0LWFjY2VudCAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkYXlDbGFzcyArPSBpc1NpZ25lZEluID8gJ2JnLWdyZWVuLTUwMC81MCB0ZXh0LXdoaXRlICcgOiAnYmctc2Vjb25kYXJ5LzUwICc7XG4gICAgfVxuXG4gICAgaWYgKGlzU2lnbmVkSW4pIHtcbiAgICAgIGNhbGVuZGFySHRtbCArPSBgPGRpdiBjbGFzcz1cIiR7ZGF5Q2xhc3N9XCIgdGl0bGU9XCLnrKwke2l95aSp77ya5bey562+5YiwXCIgZGF0YS1kYXk9XCIke2l9XCI+PGkgY2xhc3M9XCJmYXMgZmEtY2hlY2tcIj48L2k+PC9kaXY+YDtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsZW5kYXJIdG1sICs9IGA8ZGl2IGNsYXNzPVwiJHtkYXlDbGFzc31cIiB0aXRsZT1cIuesrCR7aX3lpKnvvJrmnKrnrb7liLBcIiBkYXRhLWRheT1cIiR7aX1cIj4ke2l9PC9kaXY+YDtcbiAgICB9XG4gIH1cbiAgY2FsZW5kYXJIdG1sICs9ICc8L2Rpdj4nO1xuXG4gIGNvbnRhaW5lci5pbm5lckhUTUwgPSBgXG4gICAgPGRpdiBjbGFzcz1cImJnLW1haW4gcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLWRpbSBwLTMuNSBzaGFkb3ctc20gY2FyZC1ob3ZlciB0aGVtZS10cmFuc2l0aW9uXCI+XG4gICAgICA8aDMgY2xhc3M9XCJmb250LWJvbGQgdGV4dC1sZyBtYi0zIHBiLTIgYm9yZGVyLWIgYm9yZGVyLWRpbSB0aGVtZS10cmFuc2l0aW9uXCI+XG4gICAgICAgIPCfl5PvuI8gJHtzeXN0ZW1EYXRhWyflkI3np7AnXSB8fCAn562+5Yiw57O757ufJ31cbiAgICAgIDwvaDM+XG4gICAgICA8ZGl2IGNsYXNzPVwic3BhY2UteS00XCI+XG4gICAgICAgICR7Y2FsZW5kYXJIdG1sfVxuICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1jZW50ZXIgdGV4dC1zbSB0ZXh0LXNlY29uZGFyeSBzcGFjZS15LTEgcHQtMlwiPlxuICAgICAgICAgICAgPHA+6L+e57ut562+5YiwOiA8c3BhbiBjbGFzcz1cImZvbnQtYm9sZCB0ZXh0LWFjY2VudFwiPiR7Y29uc2VjdXRpdmVEYXlzfTwvc3Bhbj4g5aSpPC9wPlxuICAgICAgICAgICAgPHA+5pyI5Y2h54q25oCBOiA8c3BhbiBjbGFzcz1cImZvbnQtYm9sZCB0ZXh0LWFjY2VudFwiPiR7bW9udGhseUNhcmRIVE1MfTwvc3Bhbj48L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8YnV0dG9uIGlkPVwic2lnbi1pbi1idG5cIiBjbGFzcz1cImJ0bi1wcmltYXJ5IHctZnVsbFwiICR7IWNhblNpZ25JbiA/ICdkaXNhYmxlZCcgOiAnJ30+XG4gICAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtY2FsZW5kYXItY2hlY2sgbXItMlwiPjwvaT4ke2NhblNpZ25JbiA/ICfku4rml6Xnrb7liLAnIDogJ+S7iuaXpeW3suetvuWIsCd9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIGA7XG59XG5cbi8qKlxuICog5riy5p+T5Lu75Yqh57O757uf6Z2i5p2/XG4gKiBAcGFyYW0gY29udGFpbmVyIC0g55So5LqO5riy5p+T55qESFRNTOWuueWZqOWFg+e0oFxuICovXG5mdW5jdGlvbiByZW5kZXJRdWVzdFN5c3RlbShjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XG4gIGNvbnN0IHF1ZXN0cyA9IF8uZ2V0KGdldFZhcmlhYmxlcygpLCAn5LiW55WMLuS7u+WKoeWIl+ihqCcsIFtdKTtcbiAgY29uc3Qgb25nb2luZyA9IHF1ZXN0cy5maWx0ZXIoKHE6IGFueSkgPT4gcVsn54q25oCBJ10gPT09ICfov5vooYzkuK0nKTtcbiAgY29uc3QgY29tcGxldGVkID0gcXVlc3RzLmZpbHRlcigocTogYW55KSA9PiBxWyfnirbmgIEnXSA9PT0gJ+W3suWujOaIkCcpO1xuICBjb25zdCBub3RDb21wbGV0ZWQgPSBxdWVzdHMuZmlsdGVyKChxOiBhbnkpID0+IHFbJ+eKtuaAgSddID09PSAn5pyq5a6M5oiQJyk7XG4gIGNvbnN0IGZhaWxlZCA9IHF1ZXN0cy5maWx0ZXIoKHE6IGFueSkgPT4gcVsn54q25oCBJ10gPT09ICflpLHotKUnKTtcblxuICBjb25zdCByZW5kZXJRdWVzdExpc3QgPSAocXVlc3RzOiBhbnlbXSwgc3RhdHVzOiBzdHJpbmcpID0+IHtcbiAgICBpZiAocXVlc3RzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGA8cCBjbGFzcz1cInRleHQtc2Vjb25kYXJ5IHRleHQtc20gaXRhbGljIHAtNCB0ZXh0LWNlbnRlclwiPuivpeWIhuexu+S4i+ayoeacieS7u+WKoeOAgjwvcD5gO1xuICAgIH1cbiAgICBsZXQgbGlzdEh0bWwgPSAnPHVsIGNsYXNzPVwic3BhY2UteS0zIHF1ZXN0LWxpc3RcIj4nO1xuICAgIHF1ZXN0cy5mb3JFYWNoKChxdWVzdDogYW55KSA9PiB7XG4gICAgICBjb25zdCBuYW1lID0gcXVlc3RbJ+WQjeensCddIHx8ICfmnKrnn6Xku7vliqEnO1xuICAgICAgY29uc3QgZGVzYyA9IHF1ZXN0Wyfmj4/ov7AnXSB8fCAn5rKh5pyJ5o+P6L+w44CCJztcbiAgICAgIGNvbnN0IGNvbmRpdGlvbnMgPSBxdWVzdFsn5p2h5Lu2J107XG4gICAgICBjb25zdCByZXdhcmRzID0gcXVlc3RbJ+WlluWKsSddO1xuICAgICAgbGV0IG9iamVjdGl2ZXNIdG1sID0gJyc7XG4gICAgICBjb25zdCBwcm9ncmVzcyA9IHF1ZXN0Wyfov5vluqYnXTtcblxuICAgICAgLy8g5qC55o2u5Lu75Yqh54q25oCB5Yaz5a6a5piv5ZCm5pi+56S66L+b5bqm44CC5Y+q5pyJ4oCc5q2j5Zyo6L+b6KGM4oCd5ZKM4oCc5pyq5a6M5oiQ4oCd55qE5Lu75Yqh6ZyA6KaB5pi+56S66L+b5bqm44CCXG4gICAgICBjb25zdCBzaG91bGRTaG93UHJvZ3Jlc3MgPSBzdGF0dXMgPT09ICdvbmdvaW5nJyB8fCBzdGF0dXMgPT09ICdub3QtY29tcGxldGVkJztcbiAgICAgIGlmIChzaG91bGRTaG93UHJvZ3Jlc3MpIHtcbiAgICAgICAgY29uc3Qgb2JqZWN0aXZlcyA9IHF1ZXN0WydvYmplY3RpdmVzJ10gfHwgcXVlc3RbJ+ebruaghyddIHx8IChwcm9ncmVzcyAmJiAocHJvZ3Jlc3NbJ29iamVjdGl2ZXMnXSB8fCBwcm9ncmVzc1sn55uu5qCHJ10pKTtcblxuICAgICAgICAvLyBDYXNlIDE6IGBwcm9ncmVzc2AgaXMgYW4gYXJyYXkgb2YgcHJvZ3Jlc3MgYmFyc1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9ncmVzcykgJiYgcHJvZ3Jlc3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHByb2dyZXNzLmZvckVhY2gocCA9PiB7XG4gICAgICAgICAgICBpZiAocCAmJiB0eXBlb2YgcCA9PT0gJ29iamVjdCcgJiYgJ3ZhbHVlJyBpbiBwICYmICdtYXgnIGluIHApIHtcbiAgICAgICAgICAgICAgY29uc3QgcGVyY2VudGFnZSA9IHAubWF4ID4gMCA/IChwLnZhbHVlIC8gcC5tYXgpICogMTAwIDogMDtcbiAgICAgICAgICAgICAgb2JqZWN0aXZlc0h0bWwgKz0gYFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtdC0yXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTEgdGV4dC14cyBmb250LW1vbm8gdGV4dC1zZWNvbmRhcnlcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+JHtwLmxhYmVsIHx8ICfov5vluqYnfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+JHtwLnRleHQgfHwgYCR7cC52YWx1ZX0gLyAke3AubWF4fWB9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3MtYmFyLWJnIHctZnVsbCByb3VuZGVkLWZ1bGwgaC0xLjVcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzLWJhci1mZyBiZy1hY2NlbnQgaC0xLjUgcm91bmRlZC1mdWxsXCIgc3R5bGU9XCJ3aWR0aDogJHtwZXJjZW50YWdlfSVcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICBgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IFxuICAgICAgICAvLyBDYXNlIDI6IGBwcm9ncmVzc2AgaXMgYSBzaW5nbGUgcHJvZ3Jlc3MgYmFyIG9iamVjdFxuICAgICAgICBlbHNlIGlmIChwcm9ncmVzcyAmJiB0eXBlb2YgcHJvZ3Jlc3MgPT09ICdvYmplY3QnICYmICd2YWx1ZScgaW4gcHJvZ3Jlc3MgJiYgJ21heCcgaW4gcHJvZ3Jlc3MpIHtcbiAgICAgICAgICBjb25zdCBwZXJjZW50YWdlID0gcHJvZ3Jlc3MubWF4ID4gMCA/IChwcm9ncmVzcy52YWx1ZSAvIHByb2dyZXNzLm1heCkgKiAxMDAgOiAwO1xuICAgICAgICAgIG9iamVjdGl2ZXNIdG1sICs9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtdC0yXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItMSB0ZXh0LXhzIGZvbnQtbW9ubyB0ZXh0LXNlY29uZGFyeVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuPui/m+W6pjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3Bhbj4ke3Byb2dyZXNzLnRleHQgfHwgYCR7cHJvZ3Jlc3MudmFsdWV9IC8gJHtwcm9ncmVzcy5tYXh9YH08L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3MtYmFyLWJnIHctZnVsbCByb3VuZGVkLWZ1bGwgaC0xLjVcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3MtYmFyLWZnIGJnLWFjY2VudCBoLTEuNSByb3VuZGVkLWZ1bGxcIiBzdHlsZT1cIndpZHRoOiAke3BlcmNlbnRhZ2V9JVwiPjwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIGA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2FzZSAzOiBgb2JqZWN0aXZlc2AgaXMgYW4gYXJyYXkgb2Ygb2JqZWN0aXZlIGl0ZW1zXG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0aXZlcykpIHtcbiAgICAgICAgICBvYmplY3RpdmVzSHRtbCArPSAnPHVsIGNsYXNzPVwic3BhY2UteS0xIG10LTIgdGV4dC14cyBsaXN0LWRpc2MgbGlzdC1pbnNpZGUgcGwtMlwiPic7XG4gICAgICAgICAgb2JqZWN0aXZlcy5mb3JFYWNoKChvYmo6IGFueSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBvYmpbJ3RleHQnXSB8fCBvYmpbJ+aPj+i/sCddO1xuICAgICAgICAgICAgY29uc3QgaXNDb21wbGV0ZWQgPSBvYmpbJ2NvbXBsZXRlZCddIHx8IG9ialsn5a6M5oiQJ107XG4gICAgICAgICAgICBvYmplY3RpdmVzSHRtbCArPSBgPGxpIGNsYXNzPVwiJHtpc0NvbXBsZXRlZCA/ICd0ZXh0LWdyZWVuLTQwMCBsaW5lLXRocm91Z2gnIDogJ3RleHQtc2Vjb25kYXJ5J31cIj4ke2Rlc2NyaXB0aW9ufTwvbGk+YDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBvYmplY3RpdmVzSHRtbCArPSAnPC91bD4nO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGNvbmRpdGlvbnMpICYmIGNvbmRpdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICBvYmplY3RpdmVzSHRtbCArPSAnPHVsIGNsYXNzPVwic3BhY2UteS0xIG10LTIgdGV4dC14cyBsaXN0LWluc2lkZSBwbC0yXCI+JztcbiAgICAgICAgY29uZGl0aW9ucy5mb3JFYWNoKChjb25kOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIG9iamVjdGl2ZXNIdG1sICs9IGA8bGkgY2xhc3M9XCJ0ZXh0LXllbGxvdy00MDAvODBcIj48aSBjbGFzcz1cImZhcyBmYS1leGNsYW1hdGlvbi10cmlhbmdsZSBmYS1mdyBtci0xXCI+PC9pPiR7Y29uZH08L2xpPmA7XG4gICAgICAgIH0pO1xuICAgICAgICBvYmplY3RpdmVzSHRtbCArPSAnPC91bD4nO1xuICAgICAgfVxuXG4gICAgICAvLyDmuLLmn5PlpZblirFcbiAgICAgIGlmIChyZXdhcmRzKSB7XG4gICAgICAgIG9iamVjdGl2ZXNIdG1sICs9ICc8ZGl2IGNsYXNzPVwibXQtMiBwdC0yIGJvcmRlci10IGJvcmRlci1kaW0vNTBcIj4nO1xuICAgICAgICBvYmplY3RpdmVzSHRtbCArPSAnPGg1IGNsYXNzPVwidGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtZ3JlZW4tNDAwLzkwIG1iLTFcIj48aSBjbGFzcz1cImZhcyBmYS1naWZ0IGZhLWZ3IG1yLTFcIj48L2k+5aWW5YqxPC9oNT4nO1xuICAgICAgICBvYmplY3RpdmVzSHRtbCArPSAnPHVsIGNsYXNzPVwic3BhY2UteS0xIHRleHQteHMgbGlzdC1kaXNjIGxpc3QtaW5zaWRlIHBsLTJcIj4nO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShyZXdhcmRzKSkge1xuICAgICAgICAgICAgcmV3YXJkcy5mb3JFYWNoKChyZXdhcmQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmV3YXJkID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBvYmplY3RpdmVzSHRtbCArPSBgPGxpIGNsYXNzPVwidGV4dC1zZWNvbmRhcnlcIj4ke3Jld2FyZH08L2xpPmA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcmV3YXJkID09PSAnb2JqZWN0JyAmJiByZXdhcmQgIT09IG51bGwgJiYgcmV3YXJkWyflkI3np7AnXSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXdhcmROYW1lID0gcmV3YXJkWyflkI3np7AnXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmV3YXJkQW1vdW50ID0gcmV3YXJkWyfmlbDph48nXSA/IGAgeCR7cmV3YXJkWyfmlbDph48nXX1gIDogJyc7XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdGl2ZXNIdG1sICs9IGA8bGkgY2xhc3M9XCJ0ZXh0LXNlY29uZGFyeVwiPiR7cmV3YXJkTmFtZX0ke3Jld2FyZEFtb3VudH08L2xpPmA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHJld2FyZHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBvYmplY3RpdmVzSHRtbCArPSBgPGxpIGNsYXNzPVwidGV4dC1zZWNvbmRhcnlcIj4ke3Jld2FyZHN9PC9saT5gO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdGl2ZXNIdG1sICs9ICc8L3VsPjwvZGl2Pic7XG4gICAgICB9XG5cbiAgICAgIGxpc3RIdG1sICs9IGBcbiAgICAgICAgPGxpIGNsYXNzPVwicC0zIGJnLW1haW4vNTAgcm91bmRlZC1sZyBxdWVzdC1pdGVtXCIgZGF0YS1xdWVzdC1uYW1lPVwiJHtuYW1lLnRvTG93ZXJDYXNlKCl9XCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZvbnQtc2VtaWJvbGQgdGV4dC1wcmltYXJ5XCI+JHtuYW1lfTwvZGl2PlxuICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXNlY29uZGFyeSBtdC0xXCI+JHtkZXNjfTwvcD5cbiAgICAgICAgICAke29iamVjdGl2ZXNIdG1sfVxuICAgICAgICA8L2xpPlxuICAgICAgYDtcbiAgICB9KTtcbiAgICBsaXN0SHRtbCArPSAnPC91bD4nO1xuICAgIHJldHVybiBsaXN0SHRtbDtcbiAgfTtcblxuICBjb25zdCB0YWJzID0gW1xuICAgIHsgaWQ6ICdvbmdvaW5nJywgbGFiZWw6ICfmraPlnKjov5vooYwnLCBjb3VudDogb25nb2luZy5sZW5ndGgsIGRhdGE6IG9uZ29pbmcsIGljb246ICdmYS1wZXJzb24tcnVubmluZycgfSxcbiAgICB7IGlkOiAnY29tcGxldGVkJywgbGFiZWw6ICflt7LlrozmiJAnLCBjb3VudDogY29tcGxldGVkLmxlbmd0aCwgZGF0YTogY29tcGxldGVkLCBpY29uOiAnZmEtY2hlY2stZG91YmxlJyB9LFxuICAgIHsgaWQ6ICdub3QtY29tcGxldGVkJywgbGFiZWw6ICfmnKrlrozmiJAnLCBjb3VudDogbm90Q29tcGxldGVkLmxlbmd0aCwgZGF0YTogbm90Q29tcGxldGVkLCBpY29uOiAnZmEtYm94LWFyY2hpdmUnIH0sXG4gICAgeyBpZDogJ2ZhaWxlZCcsIGxhYmVsOiAn5aSx6LSlJywgY291bnQ6IGZhaWxlZC5sZW5ndGgsIGRhdGE6IGZhaWxlZCwgaWNvbjogJ2ZhLXhtYXJrJyB9LFxuICBdO1xuXG4gIGxldCB0YWJzSHRtbCA9ICc8ZGl2IGNsYXNzPVwiZmxleCBib3JkZXItYiBib3JkZXItZGltIG1iLTMgcXVlc3QtdGFic1wiPic7XG4gIHRhYnMuZm9yRWFjaCgodGFiLCBpbmRleCkgPT4ge1xuICAgIHRhYnNIdG1sICs9IGBcbiAgICAgIDxidXR0b24gY2xhc3M9XCJxdWVzdC10YWItYnRuIGZsZXgtMSBwLTIgdGV4dC1zbSBmb250LXNlbWlib2xkIHRyYW5zaXRpb24tY29sb3JzICR7aW5kZXggPT09IDAgPyAnYWN0aXZlJyA6ICcnfVwiIGRhdGEtdGFiPVwiJHt0YWIuaWR9XCI+XG4gICAgICAgIDxpIGNsYXNzPVwiZmFzICR7dGFiLmljb259IG1yLTEuNVwiPjwvaT5cbiAgICAgICAgJHt0YWIubGFiZWx9IDxzcGFuIGNsYXNzPVwibWwtMSB0ZXh0LXhzIHB4LTEuNSBweS0wLjUgcm91bmRlZC1mdWxsIGJnLXNlY29uZGFyeS81MFwiPiR7dGFiLmNvdW50fTwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgIGA7XG4gIH0pO1xuICB0YWJzSHRtbCArPSAnPC9kaXY+JztcblxuICBsZXQgY29udGVudEh0bWwgPSAnPGRpdiBjbGFzcz1cInF1ZXN0LXRhYnMtY29udGVudFwiPic7XG4gIHRhYnMuZm9yRWFjaCgodGFiLCBpbmRleCkgPT4ge1xuICAgIGNvbnRlbnRIdG1sICs9IGBcbiAgICAgIDxkaXYgaWQ9XCJxdWVzdC10YWItJHt0YWIuaWR9XCIgY2xhc3M9XCJxdWVzdC10YWItcGFuZSAke2luZGV4ID09PSAwID8gJ2FjdGl2ZScgOiAnJ31cIj5cbiAgICAgICAgJHtyZW5kZXJRdWVzdExpc3QodGFiLmRhdGEsIHRhYi5pZCl9XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICB9KTtcbiAgY29udGVudEh0bWwgKz0gJzwvZGl2Pic7XG5cbiAgY29udGFpbmVyLmlubmVySFRNTCA9IGBcbiAgICA8ZGl2IGlkPVwicXVlc3Qtc3lzdGVtLXBhbmVsXCIgY2xhc3M9XCJiZy1tYWluIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1kaW0gcC0zLjUgc2hhZG93LXNtIGNhcmQtaG92ZXIgdGhlbWUtdHJhbnNpdGlvblwiPlxuICAgICAgPGRpdiBjbGFzcz1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi0zIHBiLTIgYm9yZGVyLWIgYm9yZGVyLWRpbVwiPlxuICAgICAgICA8aDMgY2xhc3M9XCJmb250LWJvbGQgdGV4dC1sZyB0aGVtZS10cmFuc2l0aW9uXCI+XG4gICAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtc2Nyb2xsIHRleHQtYWNjZW50IG1yLTJcIj48L2k+IOS7u+WKoeezu+e7n1xuICAgICAgICA8L2gzPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwibWItM1wiPlxuICAgICAgICA8aW5wdXQgdHlwZT1cInNlYXJjaFwiIGlkPVwicXVlc3Qtc2VhcmNoLWlucHV0XCIgY2xhc3M9XCJ3LWZ1bGwgYmctc2Vjb25kYXJ5LzMwIHJvdW5kZWQtbWQgcC0yIHRleHQtc20gYm9yZGVyIGJvcmRlci10cmFuc3BhcmVudCBmb2N1czpib3JkZXItYWNjZW50IGZvY3VzOnJpbmctMFwiIHBsYWNlaG9sZGVyPVwi5pCc57Si5Lu75Yqh5ZCN56ewLi4uXCI+XG4gICAgICA8L2Rpdj5cbiAgICAgICR7dGFic0h0bWx9XG4gICAgICAke2NvbnRlbnRIdG1sfVxuICAgICAgPHAgY2xhc3M9XCJ0ZXh0LWNlbnRlciB0ZXh0LXhzIHRleHQtc2Vjb25kYXJ5IG10LTNcIj48L3A+XG4gICAgPC9kaXY+XG4gIGA7XG5cbiAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICBzdHlsZS50ZXh0Q29udGVudCA9IGBcbiAgICAjcXVlc3Qtc3lzdGVtLXBhbmVsIC5xdWVzdC10YWItcGFuZSB7IGRpc3BsYXk6IG5vbmU7IH1cbiAgICAjcXVlc3Qtc3lzdGVtLXBhbmVsIC5xdWVzdC10YWItcGFuZS5hY3RpdmUgeyBkaXNwbGF5OiBibG9jazsgfVxuICAgICNxdWVzdC1zeXN0ZW0tcGFuZWwgLnF1ZXN0LXRhYi1idG4uYWN0aXZlIHsgY29sb3I6IHZhcigtLWNvbG9yLWFjY2VudCk7IGJvcmRlci1ib3R0b206IDJweCBzb2xpZCB2YXIoLS1jb2xvci1hY2NlbnQpOyB9XG4gIGA7XG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChzdHlsZSk7XG5cbiAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gIHNjcmlwdC50ZXh0Q29udGVudCA9IGBcbiAgICAoZnVuY3Rpb24oKSB7XG4gICAgICBjb25zdCBwYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWVzdC1zeXN0ZW0tcGFuZWwnKTtcbiAgICAgIGlmICghcGFuZWwgfHwgcGFuZWwuZGF0YXNldC5pbml0aWFsaXplZCkgcmV0dXJuO1xuICAgICAgcGFuZWwuZGF0YXNldC5pbml0aWFsaXplZCA9ICd0cnVlJztcblxuICAgICAgY29uc3QgdGFicyA9IHBhbmVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5xdWVzdC10YWItYnRuJyk7XG4gICAgICBjb25zdCBwYW5lcyA9IHBhbmVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5xdWVzdC10YWItcGFuZScpO1xuICAgICAgY29uc3Qgc2VhcmNoSW5wdXQgPSBwYW5lbC5xdWVyeVNlbGVjdG9yKCcjcXVlc3Qtc2VhcmNoLWlucHV0Jyk7XG5cbiAgICAgIHRhYnMuZm9yRWFjaCh0YWIgPT4ge1xuICAgICAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0YWIuZGF0YXNldC50YWI7XG4gICAgICAgICAgXG4gICAgICAgICAgdGFicy5mb3JFYWNoKHQgPT4gdC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSk7XG4gICAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuXG4gICAgICAgICAgcGFuZXMuZm9yRWFjaChwYW5lID0+IHtcbiAgICAgICAgICAgIHBhbmUuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJywgcGFuZS5pZCA9PT0gJ3F1ZXN0LXRhYi0nICsgdGFyZ2V0SWQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBzZWFyY2hJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKSA9PiB7XG4gICAgICAgIGNvbnN0IHNlYXJjaFRlcm0gPSBlLnRhcmdldC52YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBwYW5lbC5xdWVyeVNlbGVjdG9yQWxsKCcucXVlc3QtaXRlbScpLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgY29uc3QgcXVlc3ROYW1lID0gaXRlbS5kYXRhc2V0LnF1ZXN0TmFtZSB8fCAnJztcbiAgICAgICAgICBpdGVtLnN0eWxlLmRpc3BsYXkgPSBxdWVzdE5hbWUuaW5jbHVkZXMoc2VhcmNoVGVybSkgPyAnJyA6ICdub25lJztcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KSgpO1xuICBgO1xuICBjb250YWluZXIuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbn1cblxuXG4vKipcbiAqIOezu+e7n+a4suafk+eahOS4u+WHveaVsFxuICogQHBhcmFtIHZpZXdDb250cm9sbGVyRGF0YSAtIGDkuJbnlYwu5b2T5YmN5r+A5rS757O757ufYCDlr7nosaFcbiAqIEBwYXJhbSBjb250YWluZXIgLSDnlKjkuo7muLLmn5PnmoRIVE1M5a655Zmo5YWD57SgXG4gKiBAcGFyYW0gcG9rZWRleE1hbmFnZXIgLSBQb2tlZGV4TWFuYWdlciDlrp7kvotcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlclN5c3RlbSh2aWV3Q29udHJvbGxlckRhdGE6IGFueSwgY29udGFpbmVyOiBIVE1MRWxlbWVudCwgcG9rZWRleE1hbmFnZXI6IFBva2VkZXhNYW5hZ2VyKSB7XG4gIGNvbnN0IHN5c3RlbU5hbWUgPSB2aWV3Q29udHJvbGxlckRhdGEgPyB2aWV3Q29udHJvbGxlckRhdGFbJ+WQjeensCddIDogbnVsbDtcblxuICBpZiAoIXN5c3RlbU5hbWUgfHwgc3lzdGVtTmFtZSA9PT0gJ+aXoCcgfHwgc3lzdGVtTmFtZSA9PT0gJ+aXoOezu+e7nycpIHtcbiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cInRleHQtY2VudGVyIHB5LTQgdGV4dC1zZWNvbmRhcnkgdGhlbWUtdHJhbnNpdGlvbiBpdGFsaWNcIj5cbiAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtaW5mby1jaXJjbGUgbXItMVwiPjwvaT7mnKrnu5Hlrprns7vnu59cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIFZ1ZSBjb21wb25lbnRzIGhhdmUgdGFrZW4gb3ZlciBhbGwgc3lzdGVtIHJlbmRlcmluZy4gVGhpcyBzd2l0Y2ggaXMgZGVwcmVjYXRlZC5cbiAgY29udGFpbmVyLmlubmVySFRNTCA9IGBcbiAgICA8ZGl2IGNsYXNzPVwidGV4dC1jZW50ZXIgcHktNCB0ZXh0LXNlY29uZGFyeSB0aGVtZS10cmFuc2l0aW9uIGl0YWxpY1wiPlxuICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtaW5mby1jaXJjbGUgbXItMVwiPjwvaT7ns7vnu58gXCIke3N5c3RlbU5hbWV9XCIg55SxIFZ1ZSDnu4Tku7bmuLLmn5PjgIJcbiAgICA8L2Rpdj5cbiAgYDtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/core/systems.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/core/time.ts": 
  /*!*********************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/core/time.ts ***!
  \*********************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SHICHEN_NAMES: () => (/* binding */ SHICHEN_NAMES),\n/* harmony export */   TimeManager: () => (/* binding */ TimeManager),\n/* harmony export */   absoluteDaysToDate: () => (/* binding */ absoluteDaysToDate),\n/* harmony export */   dateToAbsoluteDays: () => (/* binding */ dateToAbsoluteDays),\n/* harmony export */   getTotalDays: () => (/* binding */ getTotalDays),\n/* harmony export */   parseDayFromChinese: () => (/* binding */ parseDayFromChinese),\n/* harmony export */   parseDurationToHours: () => (/* binding */ parseDurationToHours),\n/* harmony export */   parseGameDate: () => (/* binding */ parseGameDate),\n/* harmony export */   parseTimeDetailsFromString: () => (/* binding */ parseTimeDetailsFromString)\n/* harmony export */ });\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./logger */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts\");\n// core/time.ts\n\n/**\n * TimeManager 负责处理所有与游戏内时间相关的逻辑，\n * 包括解析、格式化和根据游戏进程提供不同的显示文本。\n */\nclass TimeManager {\n    constructor() {\n        // 构造函数可以留空，或用于未来的初始化逻辑\n    }\n    /**\n     * 从游戏时间字符串中解析出结构化的日期信息。\n     * @param dateString - 格式为 \"任意前缀第X日...\" 的字符串。\n     * @returns 一个包含年、月、日和年内天数的对象，如果解析失败则返回 null。\n     */\n    static parseGameDate(date) {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'Time', 'parseGameDate called with:', date);\n        if (!date || typeof date !== 'object') {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Time', 'Invalid date object input:', date);\n            return null;\n        }\n        const { 年: year, 月: month, 日: day } = date;\n        if (typeof year !== 'number' || typeof month !== 'number' || typeof day !== 'number') {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Time', 'Invalid date object properties:', date);\n            return null;\n        }\n        // 假设每年360天，每月30天\n        const dayOfYear = (year - 1) * 360 + (month - 1) * 30 + day;\n        const result = { year, month, day, dayOfYear };\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'Time', `Successfully parsed date object.`, result);\n        return result;\n    }\n}\n/**\n * Converts a date object to a total day count from year 1, day 1.\n * @param date The date object { 年, 月, 日 }.\n * @returns The absolute day count.\n */\nconst dateToAbsoluteDays = (date) => {\n    if (!date)\n        return 0;\n    return (date.年 - 1) * 360 + (date.月 - 1) * 30 + date.日;\n};\n/**\n * Converts an absolute day count back to a date object.\n * @param absoluteDays The absolute day count from year 1, day 1.\n * @returns The date object { 年, 月, 日 }.\n */\nconst absoluteDaysToDate = (absoluteDays) => {\n    const year = Math.floor((absoluteDays - 1) / 360) + 1;\n    const dayInYear = (absoluteDays - 1) % 360;\n    const month = Math.floor(dayInYear / 30) + 1;\n    const day = (dayInYear % 30) + 1;\n    return { 年: year, 月: month, 日: day };\n};\nconst parseDayFromChinese = (chineseNum) => {\n    (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'Time', 'parseDayFromChinese called with:', chineseNum);\n    if (!chineseNum)\n        return null;\n    const numMap = {\n        '一': 1, '二': 2, '三': 3, '四': 4, '五': 5, '六': 6, '七': 7, '八': 8, '九': 9,\n    };\n    // Handle simple case \"十\"\n    if (chineseNum === '十')\n        return 10;\n    const parts = chineseNum.split('十');\n    if (parts.length === 1) { // No '十'\n        return numMap[parts[0]] || null;\n    }\n    else if (parts.length === 2) { // Contains '十'\n        const tenPart = parts[0];\n        const onePart = parts[1];\n        let day = 0;\n        if (tenPart === '') { // Starts with '十', e.g., \"十一\"\n            day = 10;\n        }\n        else if (numMap[tenPart]) { // e.g., \"二十\"\n            day = numMap[tenPart] * 10;\n        }\n        else {\n            return null; // Invalid format before '十'\n        }\n        if (onePart !== '') {\n            if (numMap[onePart]) { // e.g., \"二十一\"\n                day += numMap[onePart];\n            }\n            else {\n                return null; // Invalid format after '十'\n            }\n        }\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'Time', `Parsed Chinese day number \"${chineseNum}\" to ${day}.`);\n        return day;\n    }\n    (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Time', 'Unsupported Chinese number format:', chineseNum);\n    return null; // More than one '十', format not supported\n};\n/**\n * 解析游戏时间字符串，返回结构化的日期对象。\n * 游戏日历规则：每月30天，每年12个月 (360天)。\n * @param dateString - 例如 \"穿越后第35日 · 清晨\"\n * @returns {{ year: number, month: number, day: number, dayOfYear: number } | null} 结构化的游戏日期对象，或在无法解析时返回 null。\n */\nconst parseGameDate = (date) => {\n    return TimeManager.parseGameDate(date);\n};\n/**\n * 计算从开局日期到当前日期总共经过了多少天。\n * @param currentDate - 当前日期对象 { 年, 月, 日 }。\n * @param startDate - 开局日期对象 { 年, 月, 日 }。\n * @returns {number} 总天数。\n */\nconst getTotalDays = (currentDate, startDate) => {\n    if (!currentDate || !startDate) {\n        return 1;\n    }\n    // 假设每年360天，每月30天\n    const startDays = (startDate.年 - 1) * 360 + (startDate.月 - 1) * 30 + startDate.日;\n    const currentDays = (currentDate.年 - 1) * 360 + (currentDate.月 - 1) * 30 + currentDate.日;\n    return currentDays - startDays + 1;\n};\n/**\n * 中国古代时辰映射表。\n * 一天分为12个时辰，每个时辰等于现代的2个小时。\n */\nconst SHICHEN_MAP = {\n    '子': 0, '丑': 1, '寅': 2, '卯': 3, '辰': 4, '巳': 5,\n    '午': 6, '未': 7, '申': 8, '酉': 9, '戌': 10, '亥': 11,\n};\nconst SHICHEN_NAMES = Object.keys(SHICHEN_MAP);\n/**\n * 常见时间描述到时辰的映射。\n */\nconst TIME_OF_DAY_MAP = {\n    '子时': { name: '子', index: 0 }, '丑时': { name: '丑', index: 1 },\n    '寅时': { name: '寅', index: 2 }, '卯时': { name: '卯', index: 3 },\n    '辰时': { name: '辰', index: 4 }, '巳时': { name: '巳', index: 5 },\n    '午时': { name: '午', index: 6 }, '未时': { name: '未', index: 7 },\n    '申时': { name: '申', index: 8 }, '酉时': { name: '酉', index: 9 },\n    '戌时': { name: '戌', index: 10 }, '亥时': { name: '亥', index: 11 },\n    '清晨': { name: '辰', index: 4 },\n    '上午': { name: '巳', index: 5 },\n    '中午': { name: '午', index: 6 },\n    '午后': { name: '未', index: 7 },\n    '黄昏': { name: '酉', index: 9 },\n    '傍晚': { name: '酉', index: 9 },\n    '深夜': { name: '子', index: 0 },\n};\n/**\n * From LLM's time string, parse out the relative day and time of day.\n * @param timeStr - e.g., \"穿越后第二天辰时\"\n * @returns An object with relative day and hour info, or null on failure.\n */\nconst parseTimeDetailsFromString = (timeStr) => {\n    if (!timeStr)\n        return null;\n    // Match \"第X天\" or \"第X日\"\n    const dayPartMatch = timeStr.match(/第(\\S+)[天日]/);\n    if (!dayPartMatch)\n        return null;\n    const relativeDay = parseDayFromChinese(dayPartMatch[1]);\n    if (relativeDay === null)\n        return null;\n    let hourIndex = 6; // Default to 午时\n    let hourName = '午';\n    // Robust hour parsing, supports fuzzy descriptions\n    const timeOfDayKeywords = Object.keys(TIME_OF_DAY_MAP);\n    const foundKeyword = timeOfDayKeywords.find(keyword => timeStr.includes(keyword));\n    if (foundKeyword) {\n        const timeDetails = TIME_OF_DAY_MAP[foundKeyword];\n        hourName = timeDetails.name;\n        hourIndex = timeDetails.index;\n    }\n    else {\n        // Fallback to exact \"X时\" match\n        const hourPartMatch = timeStr.match(/(\\S+)时/);\n        if (hourPartMatch && Object.prototype.hasOwnProperty.call(SHICHEN_MAP, hourPartMatch[1])) {\n            hourName = hourPartMatch[1];\n            hourIndex = SHICHEN_MAP[hourName];\n        }\n    }\n    return { relativeDay, hourIndex, hourName };\n};\n/**\n * 从持续时间字符串中解析出时辰数。\n * @param durationStr - 例如 \"12个时辰\"\n * @returns 时辰数，如果解析失败则返回 0。\n */\nconst parseDurationToHours = (durationStr) => {\n    if (!durationStr)\n        return 0;\n    const match = durationStr.match(/(\\d+)\\s*个?时辰/);\n    if (match && match[1]) {\n        return parseInt(match[1], 10);\n    }\n    return 0;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS90aW1lLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQSxlQUFlO0FBRW1CO0FBRWxDOzs7R0FHRztBQUNJLE1BQU0sV0FBVztJQUN0QjtRQUNFLHVCQUF1QjtJQUN6QixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNJLE1BQU0sQ0FBQyxhQUFhLENBQUMsSUFBeUM7UUFDbkUsK0NBQU0sQ0FBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLDRCQUE0QixFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzNELElBQUksQ0FBQyxJQUFJLElBQUksT0FBTyxJQUFJLEtBQUssUUFBUSxFQUFFLENBQUM7WUFDcEMsK0NBQU0sQ0FBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLDRCQUE0QixFQUFFLElBQUksQ0FBQyxDQUFDO1lBQzNELE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFDRCxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUM7UUFDM0MsSUFBSSxPQUFPLElBQUksS0FBSyxRQUFRLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxJQUFJLE9BQU8sR0FBRyxLQUFLLFFBQVEsRUFBRSxDQUFDO1lBQ25GLCtDQUFNLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxpQ0FBaUMsRUFBRSxJQUFJLENBQUMsQ0FBQztZQUNoRSxPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRUQsaUJBQWlCO1FBQ2pCLE1BQU0sU0FBUyxHQUFHLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsR0FBRyxDQUFDO1FBRTVELE1BQU0sTUFBTSxHQUFHLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxHQUFH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QUFFO0lBQzVELElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRTtJQUM1RCxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUU7SUFDNUQsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFO0lBQzlELElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRTtJQUM3QixJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUU7SUFDN0IsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFO0lBQzdCLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRTtJQUM3QixJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUU7SUFDN0IsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFO0lBQzdCLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRTtDQUNoQyxDQUFDO0FBR0Y7Ozs7R0FJRztBQUNJLE1BQU0sMEJBQTBCLEdBQUcsQ0FBQyxPQUFlLEVBSWpELEVBQUU7SUFDVCxJQUFJLENBQUMsT0FBTztRQUFFLE9BQU8sSUFBSSxDQUFDO0lBRTFCLHVCQUF1QjtJQUN2QixNQUFNLFlBQVksR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ2pELElBQUksQ0FBQyxZQUFZO1FBQUUsT0FBTyxJQUFJLENBQUM7SUFFL0IsTUFBTSxXQUFXLEdBQUcsbUJBQW1CLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDekQsSUFBSSxXQUFXLEtBQUssSUFBSTtRQUFFLE9BQU8sSUFBSSxDQUFDO0lBRXRDLElBQUksU0FBUyxHQUFHLENBQUMsQ0FBQyxDQUFDLGdCQUFnQjtJQUNuQyxJQUFJLFFBQVEsR0FBRyxHQUFHLENBQUM7SUFFbkIsbURBQW1EO0lBQ25ELE1BQU0saUJBQWlCLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUN2RCxNQUFNLFlBQVksR0FBRyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFFbEYsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUNmLE1BQU0sV0FBVyxHQUFHLGVBQWUsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUNsRCxRQUFRLEdBQUcsV0FBVyxDQUFDLElBQUksQ0FBQztRQUM1QixTQUFTLEdBQUcsV0FBVyxDQUFDLEtBQUssQ0FBQztJQUNsQyxDQUFDO1NBQU0sQ0FBQztRQUNKLCtCQUErQjtRQUMvQixNQUFNLGFBQWEsR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzlDLElBQUksYUFBYSxJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUN2RixRQUFRLEdBQUcsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzVCLFNBQVMsR0FBRyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDdEMsQ0FBQztJQUNMLENBQUM7SUFFRCxPQUFPLEVBQUUsV0FBVyxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsQ0FBQztBQUM5QyxDQUFDLENBQUM7QUFFRjs7OztHQUlHO0FBQ0ksTUFBTSxvQkFBb0IsR0FBRyxDQUFDLFdBQW1CLEVBQVUsRUFBRTtJQUNoRSxJQUFJLENBQUMsV0FBVztRQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQzNCLE1BQU0sS0FBSyxHQUFHLFdBQVcsQ0FBQyxLQUFLLENBQUMsY0FBYyxDQUFDLENBQUM7SUFDaEQsSUFBSSxLQUFLLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFDcEIsT0FBTyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ2xDLENBQUM7SUFDRCxPQUFPLENBQUMsQ0FBQztBQUNiLENBQUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS90aW1lLnRzPyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjb3JlL3RpbWUudHNcclxuXHJcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4vbG9nZ2VyJztcclxuXHJcbi8qKlxyXG4gKiBUaW1lTWFuYWdlciDotJ/otKPlpITnkIbmiYDmnInkuI7muLjmiI/lhoXml7bpl7Tnm7jlhbPnmoTpgLvovpHvvIxcclxuICog5YyF5ous6Kej5p6Q44CB5qC85byP5YyW5ZKM5qC55o2u5ri45oiP6L+b56iL5o+Q5L6b5LiN5ZCM55qE5pi+56S65paH5pys44CCXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVGltZU1hbmFnZXIge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgLy8g5p6E6YCg5Ye95pWw5Y+v5Lul55WZ56m677yM5oiW55So5LqO5pyq5p2l55qE5Yid5aeL5YyW6YC76L6RXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDku47muLjmiI/ml7bpl7TlrZfnrKbkuLLkuK3op6PmnpDlh7rnu5PmnoTljJbnmoTml6XmnJ/kv6Hmga/jgIJcclxuICAgKiBAcGFyYW0gZGF0ZVN0cmluZyAtIOagvOW8j+S4uiBcIuS7u+aEj+WJjee8gOesrFjml6UuLi5cIiDnmoTlrZfnrKbkuLLjgIJcclxuICAgKiBAcmV0dXJucyDkuIDkuKrljIXlkKvlubTjgIHmnIjjgIHml6XlkozlubTlhoXlpKnmlbDnmoTlr7nosaHvvIzlpoLmnpzop6PmnpDlpLHotKXliJnov5Tlm54gbnVsbOOAglxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgcGFyc2VHYW1lRGF0ZShkYXRlOiB7IOW5tDogbnVtYmVyLCDmnIg6IG51bWJlciwg5pelOiBudW1iZXIgfSk6IHsgeWVhcjogbnVtYmVyLCBtb250aDogbnVtYmVyLCBkYXk6IG51bWJlciwgZGF5T2ZZZWFyOiBudW1iZXIgfSB8IG51bGwge1xyXG4gICAgbG9nZ2VyKCdpbmZvJywgJ1RpbWUnLCAncGFyc2VHYW1lRGF0ZSBjYWxsZWQgd2l0aDonLCBkYXRlKTtcclxuICAgIGlmICghZGF0ZSB8fCB0eXBlb2YgZGF0ZSAhPT0gJ29iamVjdCcpIHtcclxuICAgICAgICBsb2dnZXIoJ3dhcm4nLCAnVGltZScsICdJbnZhbGlkIGRhdGUgb2JqZWN0IGlucHV0OicsIGRhdGUpO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgY29uc3QgeyDlubQ6IHllYXIsIOaciDogbW9udGgsIOaXpTogZGF5IH0gPSBkYXRlO1xyXG4gICAgaWYgKHR5cGVvZiB5ZWFyICE9PSAnbnVtYmVyJyB8fCB0eXBlb2YgbW9udGggIT09ICdudW1iZXInIHx8IHR5cGVvZiBkYXkgIT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgbG9nZ2VyKCd3YXJuJywgJ1RpbWUnLCAnSW52YWxpZCBkYXRlIG9iamVjdCBwcm9wZXJ0aWVzOicsIGRhdGUpO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOWBh+iuvuavj+W5tDM2MOWkqe+8jOavj+aciDMw5aSpXHJcbiAgICBjb25zdCBkYXlPZlllYXIgPSAoeWVhciAtIDEpICogMzYwICsgKG1vbnRoIC0gMSkgKiAzMCArIGRheTtcclxuXHJcbiAgICBjb25zdCByZXN1bHQgPSB7IHllYXIsIG1vbnRoLCBkYXksIGRheU9mWWVhciB9O1xyXG4gICAgbG9nZ2VyKCdsb2cnLCAnVGltZScsIGBTdWNjZXNzZnVsbHkgcGFyc2VkIGRhdGUgb2JqZWN0LmAsIHJlc3VsdCk7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxuXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb252ZXJ0cyBhIGRhdGUgb2JqZWN0IHRvIGEgdG90YWwgZGF5IGNvdW50IGZyb20geWVhciAxLCBkYXkgMS5cclxuICogQHBhcmFtIGRhdGUgVGhlIGRhdGUgb2JqZWN0IHsg5bm0LCDmnIgsIOaXpSB9LlxyXG4gKiBAcmV0dXJucyBUaGUgYWJzb2x1dGUgZGF5IGNvdW50LlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGRhdGVUb0Fic29sdXRlRGF5cyA9IChkYXRlOiB7IOW5tDogbnVtYmVyLCDmnIg6IG51bWJlciwg5pelOiBudW1iZXIgfSk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAoIWRhdGUpIHJldHVybiAwO1xyXG4gICAgcmV0dXJuIChkYXRlLuW5tCAtIDEpICogMzYwICsgKGRhdGUu5pyIIC0gMSkgKiAzMCArIGRhdGUu5pelO1xyXG59XHJcblxyXG4vKipcclxuICogQ29udmVydHMgYW4gYWJzb2x1dGUgZGF5IGNvdW50IGJhY2sgdG8gYSBkYXRlIG9iamVjdC5cclxuICogQHBhcmFtIGFic29sdXRlRGF5cyBUaGUgYWJzb2x1dGUgZGF5IGNvdW50IGZyb20geWVhciAxLCBkYXkgMS5cclxuICogQHJldHVybnMgVGhlIGRhdGUgb2JqZWN0IHsg5bm0LCDmnIgsIOaXpSB9LlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGFic29sdXRlRGF5c1RvRGF0ZSA9IChhYnNvbHV0ZURheXM6IG51bWJlcik6IHsg5bm0OiBudW1iZXIsIOaciDogbnVtYmVyLCDml6U6IG51bWJlciB9ID0+IHtcclxuICAgIGNvbnN0IHllYXIgPSBNYXRoLmZsb29yKChhYnNvbHV0ZURheXMgLSAxKSAvIDM2MCkgKyAxO1xyXG4gICAgY29uc3QgZGF5SW5ZZWFyID0gKGFic29sdXRlRGF5cyAtIDEpICUgMzYwO1xyXG4gICAgY29uc3QgbW9udGggPSBNYXRoLmZsb29yKGRheUluWWVhciAvIDMwKSArIDE7XHJcbiAgICBjb25zdCBkYXkgPSAoZGF5SW5ZZWFyICUgMzApICsgMTtcclxuICAgIHJldHVybiB7IOW5tDogeWVhciwg5pyIOiBtb250aCwg5pelOiBkYXkgfTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHBhcnNlRGF5RnJvbUNoaW5lc2UgPSAoY2hpbmVzZU51bTogc3RyaW5nKTogbnVtYmVyIHwgbnVsbCA9PiB7XHJcbiAgICBsb2dnZXIoJ2luZm8nLCAnVGltZScsICdwYXJzZURheUZyb21DaGluZXNlIGNhbGxlZCB3aXRoOicsIGNoaW5lc2VOdW0pO1xyXG4gICAgaWYgKCFjaGluZXNlTnVtKSByZXR1cm4gbnVsbDtcclxuICAgIGNvbnN0IG51bU1hcDogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSA9IHtcclxuICAgICAgICAn5LiAJzogMSwgJ+S6jCc6IDIsICfkuIknOiAzLCAn5ZubJzogNCwgJ+S6lCc6IDUsICflha0nOiA2LCAn5LiDJzogNywgJ+WFqyc6IDgsICfkuZ0nOiA5LFxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBIYW5kbGUgc2ltcGxlIGNhc2UgXCLljYFcIlxyXG4gICAgaWYgKGNoaW5lc2VOdW0gPT09ICfljYEnKSByZXR1cm4gMTA7XHJcblxyXG4gICAgY29uc3QgcGFydHMgPSBjaGluZXNlTnVtLnNwbGl0KCfljYEnKTtcclxuXHJcbiAgICBpZiAocGFydHMubGVuZ3RoID09PSAxKSB7IC8vIE5vICfljYEnXHJcbiAgICAgICAgcmV0dXJuIG51bU1hcFtwYXJ0c1swXV0gfHwgbnVsbDtcclxuICAgIH0gZWxzZSBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7IC8vIENvbnRhaW5zICfljYEnXHJcbiAgICAgICAgY29uc3QgdGVuUGFydCA9IHBhcnRzWzBdO1xyXG4gICAgICAgIGNvbnN0IG9uZVBhcnQgPSBwYXJ0c1sxXTtcclxuICAgICAgICBsZXQgZGF5ID0gMDtcclxuXHJcbiAgICAgICAgaWYgKHRlblBhcnQgPT09ICcnKSB7IC8vIFN0YXJ0cyB3aXRoICfljYEnLCBlLmcuLCBcIuWNgeS4gFwiXHJcbiAgICAgICAgICAgIGRheSA9IDEwO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobnVtTWFwW3RlblBhcnRdKSB7IC8vIGUuZy4sIFwi5LqM5Y2BXCJcclxuICAgICAgICAgICAgZGF5ID0gbnVtTWFwW3RlblBhcnRdICogMTA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7IC8vIEludmFsaWQgZm9ybWF0IGJlZm9yZSAn5Y2BJ1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG9uZVBhcnQgIT09ICcnKSB7XHJcbiAgICAgICAgICAgIGlmIChudW1NYXBbb25lUGFydF0pIHsgLy8gZS5nLiwgXCLkuozljYHkuIBcIlxyXG4gICAgICAgICAgICAgICAgZGF5ICs9IG51bU1hcFtvbmVQYXJ0XTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsOyAvLyBJbnZhbGlkIGZvcm1hdCBhZnRlciAn5Y2BJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxvZ2dlcignbG9nJywgJ1RpbWUnLCBgUGFyc2VkIENoaW5lc2UgZGF5IG51bWJlciBcIiR7Y2hpbmVzZU51bX1cIiB0byAke2RheX0uYCk7XHJcbiAgICAgICAgcmV0dXJuIGRheTtcclxuICAgIH1cclxuXHJcbiAgICBsb2dnZXIoJ3dhcm4nLCAnVGltZScsICdVbnN1cHBvcnRlZCBDaGluZXNlIG51bWJlciBmb3JtYXQ6JywgY2hpbmVzZU51bSk7XHJcbiAgICByZXR1cm4gbnVsbDsgLy8gTW9yZSB0aGFuIG9uZSAn5Y2BJywgZm9ybWF0IG5vdCBzdXBwb3J0ZWRcclxufTtcclxuXHJcbi8qKlxyXG4gKiDop6PmnpDmuLjmiI/ml7bpl7TlrZfnrKbkuLLvvIzov5Tlm57nu5PmnoTljJbnmoTml6XmnJ/lr7nosaHjgIJcclxuICog5ri45oiP5pel5Y6G6KeE5YiZ77ya5q+P5pyIMzDlpKnvvIzmr4/lubQxMuS4quaciCAoMzYw5aSpKeOAglxyXG4gKiBAcGFyYW0gZGF0ZVN0cmluZyAtIOS+i+WmgiBcIuepv+i2iuWQjuesrDM15pelIMK3IOa4heaZqFwiXHJcbiAqIEByZXR1cm5zIHt7IHllYXI6IG51bWJlciwgbW9udGg6IG51bWJlciwgZGF5OiBudW1iZXIsIGRheU9mWWVhcjogbnVtYmVyIH0gfCBudWxsfSDnu5PmnoTljJbnmoTmuLjmiI/ml6XmnJ/lr7nosaHvvIzmiJblnKjml6Dms5Xop6PmnpDml7bov5Tlm54gbnVsbOOAglxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHBhcnNlR2FtZURhdGUgPSAoZGF0ZTogeyDlubQ6IG51bWJlciwg5pyIOiBudW1iZXIsIOaXpTogbnVtYmVyIH0pOiB7IHllYXI6IG51bWJlciwgbW9udGg6IG51bWJlciwgZGF5OiBudW1iZXIsIGRheU9mWWVhcjogbnVtYmVyIH0gfCBudWxsID0+IHtcclxuICAgIHJldHVybiBUaW1lTWFuYWdlci5wYXJzZUdhbWVEYXRlKGRhdGUpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIOiuoeeul+S7juW8gOWxgOaXpeacn+WIsOW9k+WJjeaXpeacn+aAu+WFsee7j+i/h+S6huWkmuWwkeWkqeOAglxyXG4gKiBAcGFyYW0gY3VycmVudERhdGUgLSDlvZPliY3ml6XmnJ/lr7nosaEgeyDlubQsIOaciCwg5pelIH3jgIJcclxuICogQHBhcmFtIHN0YXJ0RGF0ZSAtIOW8gOWxgOaXpeacn+WvueixoSB7IOW5tCwg5pyILCDml6UgfeOAglxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSDmgLvlpKnmlbDjgIJcclxuICovXHJcbmV4cG9ydCBjb25zdCBnZXRUb3RhbERheXMgPSAoY3VycmVudERhdGU6IHsg5bm0OiBudW1iZXIsIOaciDogbnVtYmVyLCDml6U6IG51bWJlciB9LCBzdGFydERhdGU6IHsg5bm0OiBudW1iZXIsIOaciDogbnVtYmVyLCDml6U6IG51bWJlciB9KTogbnVtYmVyID0+IHtcclxuICAgIGlmICghY3VycmVudERhdGUgfHwgIXN0YXJ0RGF0ZSkge1xyXG4gICAgICAgIHJldHVybiAxO1xyXG4gICAgfVxyXG4gICAgLy8g5YGH6K6+5q+P5bm0MzYw5aSp77yM5q+P5pyIMzDlpKlcclxuICAgIGNvbnN0IHN0YXJ0RGF5cyA9IChzdGFydERhdGUu5bm0IC0gMSkgKiAzNjAgKyAoc3RhcnREYXRlLuaciCAtIDEpICogMzAgKyBzdGFydERhdGUu5pelO1xyXG4gICAgY29uc3QgY3VycmVudERheXMgPSAoY3VycmVudERhdGUu5bm0IC0gMSkgKiAzNjAgKyAoY3VycmVudERhdGUu5pyIIC0gMSkgKiAzMCArIGN1cnJlbnREYXRlLuaXpTtcclxuICAgIHJldHVybiBjdXJyZW50RGF5cyAtIHN0YXJ0RGF5cyArIDE7XHJcbn07XHJcblxyXG4vKipcclxuICog5Lit5Zu95Y+k5Luj5pe26L6w5pig5bCE6KGo44CCXHJcbiAqIOS4gOWkqeWIhuS4ujEy5Liq5pe26L6w77yM5q+P5Liq5pe26L6w562J5LqO546w5Luj55qEMuS4quWwj+aXtuOAglxyXG4gKi9cclxuY29uc3QgU0hJQ0hFTl9NQVA6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0gPSB7XHJcbiAgJ+WtkCc6IDAsICfkuJEnOiAxLCAn5a+FJzogMiwgJ+WNryc6IDMsICfovrAnOiA0LCAn5bezJzogNSxcclxuICAn5Y2IJzogNiwgJ+acqic6IDcsICfnlLMnOiA4LCAn6YWJJzogOSwgJ+aIjCc6IDEwLCAn5LqlJzogMTEsXHJcbn07XHJcbmV4cG9ydCBjb25zdCBTSElDSEVOX05BTUVTID0gT2JqZWN0LmtleXMoU0hJQ0hFTl9NQVApO1xyXG5cclxuXHJcbi8qKlxyXG4gKiDluLjop4Hml7bpl7Tmj4/ov7DliLDml7bovrDnmoTmmKDlsITjgIJcclxuICovXHJcbmNvbnN0IFRJTUVfT0ZfREFZX01BUDogeyBba2V5OiBzdHJpbmddOiB7IG5hbWU6IHN0cmluZywgaW5kZXg6IG51bWJlciB9IH0gPSB7XHJcbiAgICAn5a2Q5pe2JzogeyBuYW1lOiAn5a2QJywgaW5kZXg6IDAgfSwgJ+S4keaXtic6IHsgbmFtZTogJ+S4kScsIGluZGV4OiAxIH0sXHJcbiAgICAn5a+F5pe2JzogeyBuYW1lOiAn5a+FJywgaW5kZXg6IDIgfSwgJ+WNr+aXtic6IHsgbmFtZTogJ+WNrycsIGluZGV4OiAzIH0sXHJcbiAgICAn6L6w5pe2JzogeyBuYW1lOiAn6L6wJywgaW5kZXg6IDQgfSwgJ+W3s+aXtic6IHsgbmFtZTogJ+W3sycsIGluZGV4OiA1IH0sXHJcbiAgICAn5Y2I5pe2JzogeyBuYW1lOiAn5Y2IJywgaW5kZXg6IDYgfSwgJ+acquaXtic6IHsgbmFtZTogJ+acqicsIGluZGV4OiA3IH0sXHJcbiAgICAn55Sz5pe2JzogeyBuYW1lOiAn55SzJywgaW5kZXg6IDggfSwgJ+mFieaXtic6IHsgbmFtZTogJ+mFiScsIGluZGV4OiA5IH0sXHJcbiAgICAn5oiM5pe2JzogeyBuYW1lOiAn5oiMJywgaW5kZXg6IDEwIH0sICfkuqXml7YnOiB7IG5hbWU6ICfkuqUnLCBpbmRleDogMTEgfSxcclxuICAgICfmuIXmmagnOiB7IG5hbWU6ICfovrAnLCBpbmRleDogNCB9LFxyXG4gICAgJ+S4iuWNiCc6IHsgbmFtZTogJ+W3sycsIGluZGV4OiA1IH0sXHJcbiAgICAn5Lit5Y2IJzogeyBuYW1lOiAn5Y2IJywgaW5kZXg6IDYgfSxcclxuICAgICfljYjlkI4nOiB7IG5hbWU6ICfmnKonLCBpbmRleDogNyB9LFxyXG4gICAgJ+m7hOaYjyc6IHsgbmFtZTogJ+mFiScsIGluZGV4OiA5IH0sXHJcbiAgICAn5YKN5pmaJzogeyBuYW1lOiAn6YWJJywgaW5kZXg6IDkgfSxcclxuICAgICfmt7HlpJwnOiB7IG5hbWU6ICflrZAnLCBpbmRleDogMCB9LFxyXG59O1xyXG5cclxuXHJcbi8qKlxyXG4gKiBGcm9tIExMTSdzIHRpbWUgc3RyaW5nLCBwYXJzZSBvdXQgdGhlIHJlbGF0aXZlIGRheSBhbmQgdGltZSBvZiBkYXkuXHJcbiAqIEBwYXJhbSB0aW1lU3RyIC0gZS5nLiwgXCLnqb/otorlkI7nrKzkuozlpKnovrDml7ZcIlxyXG4gKiBAcmV0dXJucyBBbiBvYmplY3Qgd2l0aCByZWxhdGl2ZSBkYXkgYW5kIGhvdXIgaW5mbywgb3IgbnVsbCBvbiBmYWlsdXJlLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHBhcnNlVGltZURldGFpbHNGcm9tU3RyaW5nID0gKHRpbWVTdHI6IHN0cmluZyk6IHtcclxuICByZWxhdGl2ZURheTogbnVtYmVyO1xyXG4gIGhvdXJJbmRleDogbnVtYmVyO1xyXG4gIGhvdXJOYW1lOiBzdHJpbmc7XHJcbn0gfCBudWxsID0+IHtcclxuICBpZiAoIXRpbWVTdHIpIHJldHVybiBudWxsO1xyXG5cclxuICAvLyBNYXRjaCBcIuesrFjlpKlcIiBvciBcIuesrFjml6VcIlxyXG4gIGNvbnN0IGRheVBhcnRNYXRjaCA9IHRpbWVTdHIubWF0Y2goL+esrChcXFMrKVvlpKnml6VdLyk7XHJcbiAgaWYgKCFkYXlQYXJ0TWF0Y2gpIHJldHVybiBudWxsO1xyXG5cclxuICBjb25zdCByZWxhdGl2ZURheSA9IHBhcnNlRGF5RnJvbUNoaW5lc2UoZGF5UGFydE1hdGNoWzFdKTtcclxuICBpZiAocmVsYXRpdmVEYXkgPT09IG51bGwpIHJldHVybiBudWxsO1xyXG5cclxuICBsZXQgaG91ckluZGV4ID0gNjsgLy8gRGVmYXVsdCB0byDljYjml7ZcclxuICBsZXQgaG91ck5hbWUgPSAn5Y2IJztcclxuXHJcbiAgLy8gUm9idXN0IGhvdXIgcGFyc2luZywgc3VwcG9ydHMgZnV6enkgZGVzY3JpcHRpb25zXHJcbiAgY29uc3QgdGltZU9mRGF5S2V5d29yZHMgPSBPYmplY3Qua2V5cyhUSU1FX09GX0RBWV9NQVApO1xyXG4gIGNvbnN0IGZvdW5kS2V5d29yZCA9IHRpbWVPZkRheUtleXdvcmRzLmZpbmQoa2V5d29yZCA9PiB0aW1lU3RyLmluY2x1ZGVzKGtleXdvcmQpKTtcclxuXHJcbiAgaWYgKGZvdW5kS2V5d29yZCkge1xyXG4gICAgICBjb25zdCB0aW1lRGV0YWlscyA9IFRJTUVfT0ZfREFZX01BUFtmb3VuZEtleXdvcmRdO1xyXG4gICAgICBob3VyTmFtZSA9IHRpbWVEZXRhaWxzLm5hbWU7XHJcbiAgICAgIGhvdXJJbmRleCA9IHRpbWVEZXRhaWxzLmluZGV4O1xyXG4gIH0gZWxzZSB7XHJcbiAgICAgIC8vIEZhbGxiYWNrIHRvIGV4YWN0IFwiWOaXtlwiIG1hdGNoXHJcbiAgICAgIGNvbnN0IGhvdXJQYXJ0TWF0Y2ggPSB0aW1lU3RyLm1hdGNoKC8oXFxTKynml7YvKTtcclxuICAgICAgaWYgKGhvdXJQYXJ0TWF0Y2ggJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKFNISUNIRU5fTUFQLCBob3VyUGFydE1hdGNoWzFdKSkge1xyXG4gICAgICAgICAgaG91ck5hbWUgPSBob3VyUGFydE1hdGNoWzFdO1xyXG4gICAgICAgICAgaG91ckluZGV4ID0gU0hJQ0hFTl9NQVBbaG91ck5hbWVdO1xyXG4gICAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4geyByZWxhdGl2ZURheSwgaG91ckluZGV4LCBob3VyTmFtZSB9O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIOS7juaMgee7reaXtumXtOWtl+espuS4suS4reino+aekOWHuuaXtui+sOaVsOOAglxyXG4gKiBAcGFyYW0gZHVyYXRpb25TdHIgLSDkvovlpoIgXCIxMuS4quaXtui+sFwiXHJcbiAqIEByZXR1cm5zIOaXtui+sOaVsO+8jOWmguaenOino+aekOWksei0peWImei/lOWbniAw44CCXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgcGFyc2VEdXJhdGlvblRvSG91cnMgPSAoZHVyYXRpb25TdHI6IHN0cmluZyk6IG51bWJlciA9PiB7XHJcbiAgICBpZiAoIWR1cmF0aW9uU3RyKSByZXR1cm4gMDtcclxuICAgIGNvbnN0IG1hdGNoID0gZHVyYXRpb25TdHIubWF0Y2goLyhcXGQrKVxccyrkuKo/5pe26L6wLyk7XHJcbiAgICBpZiAobWF0Y2ggJiYgbWF0Y2hbMV0pIHtcclxuICAgICAgICByZXR1cm4gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKTtcclxuICAgIH1cclxuICAgIHJldHVybiAwO1xyXG59O1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/core/time.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/core/ui.ts": 
  /*!*******************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/core/ui.ts ***!
  \*******************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   hideModal: () => (/* binding */ hideModal),\n/* harmony export */   renderSwipe: () => (/* binding */ renderSwipe),\n/* harmony export */   showModal: () => (/* binding */ showModal),\n/* harmony export */   updateSwipeUI: () => (/* binding */ updateSwipeUI)\n/* harmony export */ });\n/* harmony import */ var _parser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parser */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/parser.ts\");\n/* harmony import */ var _state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./state */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/state.ts\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./logger */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts\");\n// core/ui.ts\n\n\n\nfunction updateSwipeUI() {\n    const swipeContainer = $('#swipe-controls');\n    const swipeCounter = $('#swipe-counter');\n    const prevSwipeBtn = $('#prev-swipe-btn');\n    const nextSwipeBtn = $('#next-swipe-btn');\n    const currentTurnSwipes = (0,_state__WEBPACK_IMPORTED_MODULE_1__.getCurrentTurnSwipes)();\n    const currentSwipeIndex = (0,_state__WEBPACK_IMPORTED_MODULE_1__.getCurrentSwipeIndex)();\n    const isAiGenerating = (0,_state__WEBPACK_IMPORTED_MODULE_1__.getIsAiGenerating)();\n    const forceReset = (0,_state__WEBPACK_IMPORTED_MODULE_1__.getForceSwipeReset)();\n    if (forceReset) {\n        swipeCounter.text('1 / 1');\n        prevSwipeBtn.prop('disabled', true);\n        nextSwipeBtn.prop('disabled', true);\n        return;\n    }\n    // Show controls if there is at least one swipe.\n    if (currentTurnSwipes.length > 0) {\n        //swipeContainer.removeClass('invisible');\n        swipeCounter.text(`${currentSwipeIndex + 1} / ${currentTurnSwipes.length}`);\n        // Disable both buttons if AI is currently generating a new swipe\n        if (isAiGenerating) {\n            prevSwipeBtn.prop('disabled', true);\n            nextSwipeBtn.prop('disabled', true).find('i').addClass('fa-spin'); // Add spinner to next button\n        }\n        else {\n            // Re-enable buttons when generation is finished.\n            // The logic for when to trigger re-generation is handled in the click events.\n            prevSwipeBtn.prop('disabled', false);\n            nextSwipeBtn.prop('disabled', false).find('i').removeClass('fa-spin');\n        }\n    }\n    else {\n        //swipeContainer.addClass('invisible');\n    }\n}\nfunction renderSwipe(index, storyRenderer) {\n    const currentTurnSwipes = (0,_state__WEBPACK_IMPORTED_MODULE_1__.getCurrentTurnSwipes)();\n    if (index < 0 || index >= currentTurnSwipes.length) {\n        return;\n    }\n    (0,_state__WEBPACK_IMPORTED_MODULE_1__.setCurrentSwipeIndex)(index);\n    const fullText = currentTurnSwipes[index];\n    // Find the messageId corresponding to the swipe index\n    const historyManager = storyRenderer.getHistoryManager();\n    const history = historyManager.getRawHistory();\n    const activeBranch = history.branches[history.activeBranch];\n    const turnIndices = Object.keys(activeBranch).map(Number).sort((a, b) => a - b);\n    const lastTurnIndex = _.last(turnIndices);\n    let messageId = null;\n    if (lastTurnIndex !== undefined) {\n        const lastTurn = activeBranch[lastTurnIndex];\n        if (lastTurn.role === 'assistant') {\n            const page = Object.values(lastTurn.pages).find(p => p.content === fullText);\n            if (page) {\n                messageId = page.id;\n            }\n        }\n    }\n    const statusBarMarker = '```json';\n    const statusBarMarkerAlt = '<statusbar>';\n    let storyPart = fullText;\n    let jsonPart = null;\n    let markerIndex = fullText.lastIndexOf(statusBarMarker);\n    if (markerIndex === -1) {\n        markerIndex = fullText.lastIndexOf(statusBarMarkerAlt);\n    }\n    if (markerIndex !== -1) {\n        storyPart = fullText.substring(0, markerIndex);\n        jsonPart = (0,_parser__WEBPACK_IMPORTED_MODULE_0__.extractJsonFromStatusBar)(fullText);\n    }\n    // When a new swipe is rendered, we should treat it as a full UI update.\n    // First, update the story content itself.\n    storyRenderer.updateStoryContent(storyPart);\n    // Then, if there's a JSON part, parse it and re-render the side panels.\n    if (jsonPart) {\n        if (messageId) {\n            storyRenderer.updateWithStreamedData(jsonPart, messageId);\n        }\n        else {\n            // Fallback for safety, though messageId should ideally always be found.\n            (0,_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('warn', 'Renderer', 'Could not find a messageId for the current swipe. Side panel updates may be incorrect.');\n            // Attempt to find the latest message ID as a fallback\n            const messages = storyRenderer.getHistoryManager().getMessagesForPrompt();\n            const lastMessage = _.last(messages);\n            if (lastMessage && lastMessage.id) {\n                storyRenderer.updateWithStreamedData(jsonPart, lastMessage.id);\n            }\n        }\n    }\n    else {\n        // If there's no JSON part, it means the side panels won't be updated automatically.\n        // We should clear them to avoid showing stale data from a previous turn.\n        // This is a fallback, ideally every response should have a status bar.\n        console.warn(\"[Render] No JSON status bar found in the swipe. Side panels might be stale.\");\n    }\n    updateSwipeUI();\n}\n/**\n * 显示指定的模态框\n * @param modalElement 模态框的HTML元素\n */\nfunction showModal(modalElement) {\n    if (modalElement) {\n        modalElement.classList.remove('hidden');\n    }\n}\n/**\n * 隐藏指定的模态框\n * @param modalElement 模态框的HTML元素\n */\nfunction hideModal(modalElement) {\n    if (modalElement) {\n        modalElement.classList.add('hidden');\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS91aS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsYUFBYTtBQUV1QztBQUU4RTtBQUNoRztBQUszQixTQUFTLGFBQWE7SUFDM0IsTUFBTSxjQUFjLEdBQUcsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLENBQUM7SUFDNUMsTUFBTSxZQUFZLEdBQUcsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFDekMsTUFBTSxZQUFZLEdBQUcsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLENBQUM7SUFDMUMsTUFBTSxZQUFZLEdBQUcsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLENBQUM7SUFDMUMsTUFBTSxpQkFBaUIsR0FBRyw0REFBb0IsRUFBRSxDQUFDO0lBQ2pELE1BQU0saUJBQWlCLEdBQUcsNERBQW9CLEVBQUUsQ0FBQztJQUNqRCxNQUFNLGNBQWMsR0FBRyx5REFBaUIsRUFBRSxDQUFDO0lBQzNDLE1BQU0sVUFBVSxHQUFHLDBEQUFrQixFQUFFLENBQUM7SUFFeEMsSUFBSSxVQUFVLEVBQUUsQ0FBQztRQUNmLFlBQVksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDM0IsWUFBWSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDcEMsWUFBWSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDcEMsT0FBTztJQUNULENBQUM7SUFFRCxnREFBZ0Q7SUFDaEQsSUFBSSxpQkFBaUIsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7UUFDakMsMENBQTBDO1FBQzFDLFlBQVksQ0FBQyxJQUFJLENBQUMsR0FBRyxpQkFBaUIsR0FBRyxDQUFDLE1BQU0saUJBQWlCLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztRQUU1RSxpRUFBaUU7UUFDakUsSUFBSSxjQUFjLEVBQUUsQ0FBQztZQUNuQixZQUFZ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UyxTQUFTLENBQUMsWUFBZ0M7SUFDeEQsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUNqQixZQUFZLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUN2QyxDQUFDO0FBQ0gsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS91aS50cz8iXSwic291cmNlc0NvbnRlbnQiOlsiLy8gY29yZS91aS50c1xyXG5cclxuaW1wb3J0IHsgZXh0cmFjdEpzb25Gcm9tU3RhdHVzQmFyIH0gZnJvbSAnLi9wYXJzZXInO1xyXG5pbXBvcnQgdHlwZSB7IFN0b3J5UmVuZGVyZXIgfSBmcm9tICcuL3JlbmRlcmVyJztcclxuaW1wb3J0IHsgZ2V0Q3VycmVudFN3aXBlSW5kZXgsIGdldEN1cnJlbnRUdXJuU3dpcGVzLCBnZXRJc0FpR2VuZXJhdGluZywgc2V0Q3VycmVudFN3aXBlSW5kZXgsIGdldEZvcmNlU3dpcGVSZXNldCB9IGZyb20gJy4vc3RhdGUnO1xyXG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuL2xvZ2dlcic7XHJcblxyXG5kZWNsYXJlIGNvbnN0ICQ6IGFueTtcclxuZGVjbGFyZSBjb25zdCBfOiBhbnk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlU3dpcGVVSSgpIHtcclxuICBjb25zdCBzd2lwZUNvbnRhaW5lciA9ICQoJyNzd2lwZS1jb250cm9scycpO1xyXG4gIGNvbnN0IHN3aXBlQ291bnRlciA9ICQoJyNzd2lwZS1jb3VudGVyJyk7XHJcbiAgY29uc3QgcHJldlN3aXBlQnRuID0gJCgnI3ByZXYtc3dpcGUtYnRuJyk7XHJcbiAgY29uc3QgbmV4dFN3aXBlQnRuID0gJCgnI25leHQtc3dpcGUtYnRuJyk7XHJcbiAgY29uc3QgY3VycmVudFR1cm5Td2lwZXMgPSBnZXRDdXJyZW50VHVyblN3aXBlcygpO1xyXG4gIGNvbnN0IGN1cnJlbnRTd2lwZUluZGV4ID0gZ2V0Q3VycmVudFN3aXBlSW5kZXgoKTtcclxuICBjb25zdCBpc0FpR2VuZXJhdGluZyA9IGdldElzQWlHZW5lcmF0aW5nKCk7XHJcbiAgY29uc3QgZm9yY2VSZXNldCA9IGdldEZvcmNlU3dpcGVSZXNldCgpO1xyXG5cclxuICBpZiAoZm9yY2VSZXNldCkge1xyXG4gICAgc3dpcGVDb3VudGVyLnRleHQoJzEgLyAxJyk7XHJcbiAgICBwcmV2U3dpcGVCdG4ucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcclxuICAgIG5leHRTd2lwZUJ0bi5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLy8gU2hvdyBjb250cm9scyBpZiB0aGVyZSBpcyBhdCBsZWFzdCBvbmUgc3dpcGUuXHJcbiAgaWYgKGN1cnJlbnRUdXJuU3dpcGVzLmxlbmd0aCA+IDApIHtcclxuICAgIC8vc3dpcGVDb250YWluZXIucmVtb3ZlQ2xhc3MoJ2ludmlzaWJsZScpO1xyXG4gICAgc3dpcGVDb3VudGVyLnRleHQoYCR7Y3VycmVudFN3aXBlSW5kZXggKyAxfSAvICR7Y3VycmVudFR1cm5Td2lwZXMubGVuZ3RofWApO1xyXG5cclxuICAgIC8vIERpc2FibGUgYm90aCBidXR0b25zIGlmIEFJIGlzIGN1cnJlbnRseSBnZW5lcmF0aW5nIGEgbmV3IHN3aXBlXHJcbiAgICBpZiAoaXNBaUdlbmVyYXRpbmcpIHtcclxuICAgICAgcHJldlN3aXBlQnRuLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XHJcbiAgICAgIG5leHRTd2lwZUJ0bi5wcm9wKCdkaXNhYmxlZCcsIHRydWUpLmZpbmQoJ2knKS5hZGRDbGFzcygnZmEtc3BpbicpOyAvLyBBZGQgc3Bpbm5lciB0byBuZXh0IGJ1dHRvblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gUmUtZW5hYmxlIGJ1dHRvbnMgd2hlbiBnZW5lcmF0aW9uIGlzIGZpbmlzaGVkLlxyXG4gICAgICAvLyBUaGUgbG9naWMgZm9yIHdoZW4gdG8gdHJpZ2dlciByZS1nZW5lcmF0aW9uIGlzIGhhbmRsZWQgaW4gdGhlIGNsaWNrIGV2ZW50cy5cclxuICAgICAgcHJldlN3aXBlQnRuLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xyXG4gICAgICBuZXh0U3dpcGVCdG4ucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSkuZmluZCgnaScpLnJlbW92ZUNsYXNzKCdmYS1zcGluJyk7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vc3dpcGVDb250YWluZXIuYWRkQ2xhc3MoJ2ludmlzaWJsZScpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlclN3aXBlKGluZGV4OiBudW1iZXIsIHN0b3J5UmVuZGVyZXI6IFN0b3J5UmVuZGVyZXIpIHtcclxuICBjb25zdCBjdXJyZW50VHVyblN3aXBlcyA9IGdldEN1cnJlbnRUdXJuU3dpcGVzKCk7XHJcbiAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSBjdXJyZW50VHVyblN3aXBlcy5sZW5ndGgpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIHNldEN1cnJlbnRTd2lwZUluZGV4KGluZGV4KTtcclxuICBjb25zdCBmdWxsVGV4dCA9IGN1cnJlbnRUdXJuU3dpcGVzW2luZGV4XTtcclxuXHJcbiAgLy8gRmluZCB0aGUgbWVzc2FnZUlkIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHN3aXBlIGluZGV4XHJcbiAgY29uc3QgaGlzdG9yeU1hbmFnZXIgPSBzdG9yeVJlbmRlcmVyLmdldEhpc3RvcnlNYW5hZ2VyKCk7XHJcbiAgY29uc3QgaGlzdG9yeSA9IGhpc3RvcnlNYW5hZ2VyLmdldFJhd0hpc3RvcnkoKTtcclxuICBjb25zdCBhY3RpdmVCcmFuY2ggPSBoaXN0b3J5LmJyYW5jaGVzW2hpc3RvcnkuYWN0aXZlQnJhbmNoXTtcclxuICBjb25zdCB0dXJuSW5kaWNlcyA9IE9iamVjdC5rZXlzKGFjdGl2ZUJyYW5jaCkubWFwKE51bWJlcikuc29ydCgoYSwgYikgPT4gYSAtIGIpO1xyXG4gIGNvbnN0IGxhc3RUdXJuSW5kZXggPSBfLmxhc3QodHVybkluZGljZXMpO1xyXG4gIGxldCBtZXNzYWdlSWQgPSBudWxsO1xyXG4gIGlmIChsYXN0VHVybkluZGV4ICE9PSB1bmRlZmluZWQpIHtcclxuICAgIGNvbnN0IGxhc3RUdXJuID0gYWN0aXZlQnJhbmNoW2xhc3RUdXJuSW5kZXhdO1xyXG4gICAgaWYgKGxhc3RUdXJuLnJvbGUgPT09ICdhc3Npc3RhbnQnKSB7XHJcbiAgICAgIGNvbnN0IHBhZ2UgPSBPYmplY3QudmFsdWVzKGxhc3RUdXJuLnBhZ2VzKS5maW5kKHAgPT4gcC5jb250ZW50ID09PSBmdWxsVGV4dCk7XHJcbiAgICAgIGlmIChwYWdlKSB7XHJcbiAgICAgICAgbWVzc2FnZUlkID0gcGFnZS5pZDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG4gIGNvbnN0IHN0YXR1c0Jhck1hcmtlciA9ICdgYGBqc29uJztcclxuICBjb25zdCBzdGF0dXNCYXJNYXJrZXJBbHQgPSAnPHN0YXR1c2Jhcj4nO1xyXG4gIGxldCBzdG9yeVBhcnQgPSBmdWxsVGV4dDtcclxuICBsZXQganNvblBhcnQgPSBudWxsO1xyXG5cclxuICBsZXQgbWFya2VySW5kZXggPSBmdWxsVGV4dC5sYXN0SW5kZXhPZihzdGF0dXNCYXJNYXJrZXIpO1xyXG4gIGlmIChtYXJrZXJJbmRleCA9PT0gLTEpIHtcclxuICAgICAgbWFya2VySW5kZXggPSBmdWxsVGV4dC5sYXN0SW5kZXhPZihzdGF0dXNCYXJNYXJrZXJBbHQpO1xyXG4gIH1cclxuXHJcbiAgaWYgKG1hcmtlckluZGV4ICE9PSAtMSkge1xyXG4gICAgICBzdG9yeVBhcnQgPSBmdWxsVGV4dC5zdWJzdHJpbmcoMCwgbWFya2VySW5kZXgpO1xyXG4gICAgICBqc29uUGFydCA9IGV4dHJhY3RKc29uRnJvbVN0YXR1c0JhcihmdWxsVGV4dCk7XHJcbiAgfVxyXG5cclxuICAvLyBXaGVuIGEgbmV3IHN3aXBlIGlzIHJlbmRlcmVkLCB3ZSBzaG91bGQgdHJlYXQgaXQgYXMgYSBmdWxsIFVJIHVwZGF0ZS5cclxuICAvLyBGaXJzdCwgdXBkYXRlIHRoZSBzdG9yeSBjb250ZW50IGl0c2VsZi5cclxuICBzdG9yeVJlbmRlcmVyLnVwZGF0ZVN0b3J5Q29udGVudChzdG9yeVBhcnQpO1xyXG4gIFxyXG4gIC8vIFRoZW4sIGlmIHRoZXJlJ3MgYSBKU09OIHBhcnQsIHBhcnNlIGl0IGFuZCByZS1yZW5kZXIgdGhlIHNpZGUgcGFuZWxzLlxyXG4gIGlmIChqc29uUGFydCkge1xyXG4gICAgaWYgKG1lc3NhZ2VJZCkge1xyXG4gICAgICBzdG9yeVJlbmRlcmVyLnVwZGF0ZVdpdGhTdHJlYW1lZERhdGEoanNvblBhcnQsIG1lc3NhZ2VJZCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIEZhbGxiYWNrIGZvciBzYWZldHksIHRob3VnaCBtZXNzYWdlSWQgc2hvdWxkIGlkZWFsbHkgYWx3YXlzIGJlIGZvdW5kLlxyXG4gICAgICAgIGxvZ2dlcignd2FybicsICdSZW5kZXJlcicsICdDb3VsZCBub3QgZmluZCBhIG1lc3NhZ2VJZCBmb3IgdGhlIGN1cnJlbnQgc3dpcGUuIFNpZGUgcGFuZWwgdXBkYXRlcyBtYXkgYmUgaW5jb3JyZWN0LicpO1xyXG4gICAgICAgIC8vIEF0dGVtcHQgdG8gZmluZCB0aGUgbGF0ZXN0IG1lc3NhZ2UgSUQgYXMgYSBmYWxsYmFja1xyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2VzID0gc3RvcnlSZW5kZXJlci5nZXRIaXN0b3J5TWFuYWdlcigpLmdldE1lc3NhZ2VzRm9yUHJvbXB0KCk7XHJcbiAgICAgICAgY29uc3QgbGFzdE1lc3NhZ2UgPSBfLmxhc3QobWVzc2FnZXMpO1xyXG4gICAgICAgIGlmIChsYXN0TWVzc2FnZSAmJiBsYXN0TWVzc2FnZS5pZCkge1xyXG4gICAgICAgICAgICBzdG9yeVJlbmRlcmVyLnVwZGF0ZVdpdGhTdHJlYW1lZERhdGEoanNvblBhcnQsIGxhc3RNZXNzYWdlLmlkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgICAgLy8gSWYgdGhlcmUncyBubyBKU09OIHBhcnQsIGl0IG1lYW5zIHRoZSBzaWRlIHBhbmVscyB3b24ndCBiZSB1cGRhdGVkIGF1dG9tYXRpY2FsbHkuXHJcbiAgICAgIC8vIFdlIHNob3VsZCBjbGVhciB0aGVtIHRvIGF2b2lkIHNob3dpbmcgc3RhbGUgZGF0YSBmcm9tIGEgcHJldmlvdXMgdHVybi5cclxuICAgICAgLy8gVGhpcyBpcyBhIGZhbGxiYWNrLCBpZGVhbGx5IGV2ZXJ5IHJlc3BvbnNlIHNob3VsZCBoYXZlIGEgc3RhdHVzIGJhci5cclxuICAgICAgY29uc29sZS53YXJuKFwiW1JlbmRlcl0gTm8gSlNPTiBzdGF0dXMgYmFyIGZvdW5kIGluIHRoZSBzd2lwZS4gU2lkZSBwYW5lbHMgbWlnaHQgYmUgc3RhbGUuXCIpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlU3dpcGVVSSgpO1xyXG59XHJcblxyXG4vKipcclxuICog5pi+56S65oyH5a6a55qE5qih5oCB5qGGXHJcbiAqIEBwYXJhbSBtb2RhbEVsZW1lbnQg5qih5oCB5qGG55qESFRNTOWFg+e0oFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNob3dNb2RhbChtb2RhbEVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCk6IHZvaWQge1xyXG4gIGlmIChtb2RhbEVsZW1lbnQpIHtcclxuICAgIG1vZGFsRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDpmpDol4/mjIflrprnmoTmqKHmgIHmoYZcclxuICogQHBhcmFtIG1vZGFsRWxlbWVudCDmqKHmgIHmoYbnmoRIVE1M5YWD57SgXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaGlkZU1vZGFsKG1vZGFsRWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsKTogdm9pZCB7XHJcbiAgaWYgKG1vZGFsRWxlbWVudCkge1xyXG4gICAgbW9kYWxFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/core/ui.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/core/update-script.ts": 
  /*!******************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/core/update-script.ts ***!
  \******************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   processFileUpdate: () => (/* binding */ processFileUpdate)\n/* harmony export */ });\n/* harmony import */ var toastr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! toastr */ \"toastr\");\n/* harmony import */ var toastr__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(toastr__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ \"lodash\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\n\n\n/**\n * 处理从远程（如GitHub）获取的文件更新。\n * 根据文件路径判断文件类型，并调用相应的更新函数。\n *\n * @param filePath 文件的来源路径 (例如, 'src/folder/regex-name.json')。\n * @param fileContent 文件的字符串内容。\n */\nasync function processFileUpdate(filePath, fileContent) {\n    try {\n        // 根据文件名判断是正则文件还是世界书文件\n        if (filePath.includes('regex-')) {\n            await updateRegex(filePath, fileContent);\n        }\n        else if (filePath.endsWith('什么？我要在玄幻修仙世界种田？.json')) {\n            await updateWorldbook(filePath, fileContent);\n        }\n        else {\n            console.warn(`跳过不支持的自动更新文件类型: ${filePath}`);\n        }\n    }\n    catch (error) {\n        console.error(`处理文件更新失败 ${filePath}:`, error);\n        toastr__WEBPACK_IMPORTED_MODULE_0___default().error(`处理文件更新失败: ${filePath}. 错误: ${error.message}`);\n    }\n}\n/**\n * 更新酒馆的正则表达式脚本。\n * 使用 `updateTavernRegexesWith` 函数来确保安全和正确的更新。\n *\n * @param filePath 正则表达式JSON文件的路径。\n * @param fileContent 正则表达式JSON文件的内容。\n */\nasync function updateRegex(filePath, fileContent) {\n    console.log(`尝试从 ${filePath} 更新正则表达式`);\n    const newRegexData = JSON.parse(fileContent);\n    if (!newRegexData.scriptName) {\n        throw new Error(`正则表达式文件 ${filePath} 缺少 'scriptName' 字段。`);\n    }\n    await updateTavernRegexesWith((existingRegexes) => {\n        const entryIndex = existingRegexes.findIndex((regex) => regex.script_name === newRegexData.scriptName);\n        if (entryIndex !== -1) {\n            // 如果找到了同名正则，则更新它\n            // 注意：我们需要将新数据中的字段映射到酒馆正则的字段\n            existingRegexes[entryIndex] = {\n                ...existingRegexes[entryIndex], // 保留原有ID等信息\n                find_regex: newRegexData.findRegex,\n                replace_string: newRegexData.replaceString,\n                enabled: !newRegexData.disabled, // JSON中的disabled与酒馆中的enabled相反\n                // 其他字段可以根据需要从 newRegexData 中添加\n            };\n            console.log(`找到并更新了正则表达式: ${newRegexData.scriptName}`);\n        }\n        else {\n            // 如果没有找到，则添加为新的正则表达式\n            // 注意：这里需要构建一个完整的 TavernRegex 对象\n            const newTavernRegex = {\n                id: lodash__WEBPACK_IMPORTED_MODULE_1___default().uniqueId('tavern-regex-'), // 创建一个唯一的ID\n                script_name: newRegexData.scriptName,\n                enabled: !newRegexData.disabled,\n                run_on_edit: newRegexData.runOnEdit || false,\n                scope: \"character\", // 默认为角色正则\n                find_regex: newRegexData.findRegex,\n                replace_string: newRegexData.replaceString,\n                source: {\n                    user_input: true,\n                    ai_output: true,\n                    slash_command: true,\n                    world_info: true,\n                },\n                destination: {\n                    display: true,\n                    prompt: true,\n                },\n                min_depth: newRegexData.minDepth || null,\n                max_depth: newRegexData.maxDepth || null,\n            };\n            existingRegexes.push(newTavernRegex);\n            console.log(`添加了新的正则表达式: ${newRegexData.scriptName}`);\n        }\n        return existingRegexes;\n    });\n    toastr__WEBPACK_IMPORTED_MODULE_0___default().success(`正则表达式 '${newRegexData.scriptName}' 已更新。`);\n    console.log(`成功更新正则表达式: ${newRegexData.scriptName}`);\n}\n/**\n * 从JSON文件更新世界书。\n * 使用酒馆助手提供的 `replaceWorldbook` 函数。\n *\n * @param filePath 世界书JSON文件的路径。\n * @param fileContent 世界书JSON文件的内容。\n */\nasync function updateWorldbook(filePath, fileContent) {\n    console.log(`尝试从 ${filePath} 更新世界书`);\n    // 从文件路径中提取世界书的名称\n    const bookName = filePath.split(/[\\\\/]/).pop()?.replace('.json', '');\n    if (!bookName) {\n        throw new Error(`无法从路径中确定世界书名称: ${filePath}`);\n    }\n    const worldbookFile = JSON.parse(fileContent);\n    if (!worldbookFile.entries || typeof worldbookFile.entries !== 'object') {\n        throw new Error(`无效的世界书格式 ${filePath}. 缺少或无效的 'entries' 属性。`);\n    }\n    // 将 entries 对象转换为数组，以适配酒馆助手函数的要求\n    const entriesArray = Object.values(worldbookFile.entries);\n    await replaceWorldbook(bookName, entriesArray);\n    toastr__WEBPACK_IMPORTED_MODULE_0___default().success(`世界书 '${bookName}' 已更新。`);\n    console.log(`成功更新世界书: ${bookName}`);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS91cGRhdGUtc2NyaXB0LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTRCO0FBQ0w7QUFldkI7Ozs7OztHQU1HO0FBQ0ksS0FBSyxVQUFVLGlCQUFpQixDQUFDLFFBQWdCLEVBQUUsV0FBbUI7SUFDekUsSUFBSSxDQUFDO1FBQ0Qsc0JBQXNCO1FBQ3RCLElBQUksUUFBUSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDO1lBQzlCLE1BQU0sV0FBVyxDQUFDLFFBQVEsRUFBRSxXQUFXLENBQUMsQ0FBQztRQUM3QyxDQUFDO2FBQU0sSUFBSSxRQUFRLENBQUMsUUFBUSxDQUFDLHNCQUFzQixDQUFDLEVBQUUsQ0FBQztZQUNuRCxNQUFNLGVBQWUsQ0FBQyxRQUFRLEVBQUUsV0FBVyxDQUFDLENBQUM7UUFDakQsQ0FBQzthQUFNLENBQUM7WUFDSixPQUFPLENBQUMsSUFBSSxDQUFDLG1CQUFtQixRQUFRLEVBQUUsQ0FBQyxDQUFDO1FBQ2hELENBQUM7SUFDTCxDQUFDO0lBQUMsT0FBTyxLQUFVLEVBQUUsQ0FBQztRQUNsQixPQUFPLENBQUMsS0FBSyxDQUFDLFlBQVksUUFBUSxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDOUMsbURBQVksQ0FBQyxhQUFhLFFBQVEsU0FBUyxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztJQUNoRSxDQUFDO0FBQ0wsQ0FBQztBQUVEOzs7Ozs7R0FNRztBQUNILEtBQUssVUFBVSxXQUFXLENBQUMsUUFBZ0IsRUFBRSxXQUFtQjtJQUM1RCxPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sUUFBUSxVQUFVLENBQUMsQ0FBQztJQUN2QyxNQUFNLFlBQVksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBRTdDLElBQUksQ0FBQyxZQUFZLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDM0Is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LElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxJQUFJLE9BQU8sYUFBYSxDQUFDLE9BQU8sS0FBSyxRQUFRLEVBQUUsQ0FBQztRQUN0RSxNQUFNLElBQUksS0FBSyxDQUFDLFlBQVksUUFBUSx3QkFBd0IsQ0FBQyxDQUFDO0lBQ2xFLENBQUM7SUFFRCxpQ0FBaUM7SUFDakMsTUFBTSxZQUFZLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFMUQsTUFBTSxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsWUFBWSxDQUFDLENBQUM7SUFFL0MscURBQWMsQ0FBQyxRQUFRLFFBQVEsUUFBUSxDQUFDLENBQUM7SUFDekMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxZQUFZLFFBQVEsRUFBRSxDQUFDLENBQUM7QUFDeEMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS91cGRhdGUtc2NyaXB0LnRzPyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdG9hc3RyIGZyb20gJ3RvYXN0cic7XHJcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XHJcblxyXG4vLyDmoLnmja7nlKjmiLfor7TmmI7vvIzov5nkupvkuI7phZLppobliqnmiYvkuqTkupLnmoTlh73mlbDmmK/lhajlsYDlj6/nlKjnmoRcclxuZGVjbGFyZSBmdW5jdGlvbiB1cGRhdGVUYXZlcm5SZWdleGVzV2l0aCh1cGRhdGVyOiAocmVnZXhlczogYW55W10pID0+IGFueVtdKTogUHJvbWlzZTxhbnlbXT47XHJcbmRlY2xhcmUgZnVuY3Rpb24gcmVwbGFjZVdvcmxkYm9vayhuYW1lOiBzdHJpbmcsIGVudHJpZXM6IGFueVtdKTogUHJvbWlzZTx2b2lkPjtcclxuXHJcbi8qKlxyXG4gKiDlrprkuYnkuJbnlYzkuabmlofku7bnmoTmlbDmja7nu5PmnoTnsbvlnotcclxuICovXHJcbmludGVyZmFjZSBXb3JsZGJvb2tGaWxlIHtcclxuICAgIGVudHJpZXM6IHtcclxuICAgICAgICBba2V5OiBzdHJpbmddOiBhbnk7XHJcbiAgICB9O1xyXG59XHJcblxyXG4vKipcclxuICog5aSE55CG5LuO6L+c56iL77yI5aaCR2l0SHVi77yJ6I635Y+W55qE5paH5Lu25pu05paw44CCXHJcbiAqIOagueaNruaWh+S7tui3r+W+hOWIpOaWreaWh+S7tuexu+Wei++8jOW5tuiwg+eUqOebuOW6lOeahOabtOaWsOWHveaVsOOAglxyXG4gKlxyXG4gKiBAcGFyYW0gZmlsZVBhdGgg5paH5Lu255qE5p2l5rqQ6Lev5b6EICjkvovlpoIsICdzcmMvZm9sZGVyL3JlZ2V4LW5hbWUuanNvbicp44CCXHJcbiAqIEBwYXJhbSBmaWxlQ29udGVudCDmlofku7bnmoTlrZfnrKbkuLLlhoXlrrnjgIJcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcm9jZXNzRmlsZVVwZGF0ZShmaWxlUGF0aDogc3RyaW5nLCBmaWxlQ29udGVudDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIC8vIOagueaNruaWh+S7tuWQjeWIpOaWreaYr+ato+WImeaWh+S7tui/mOaYr+S4lueVjOS5puaWh+S7tlxyXG4gICAgICAgIGlmIChmaWxlUGF0aC5pbmNsdWRlcygncmVnZXgtJykpIHtcclxuICAgICAgICAgICAgYXdhaXQgdXBkYXRlUmVnZXgoZmlsZVBhdGgsIGZpbGVDb250ZW50KTtcclxuICAgICAgICB9IGVsc2UgaWYgKGZpbGVQYXRoLmVuZHNXaXRoKCfku4DkuYjvvJ/miJHopoHlnKjnjoTlubvkv67ku5nkuJbnlYznp43nlLDvvJ8uanNvbicpKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHVwZGF0ZVdvcmxkYm9vayhmaWxlUGF0aCwgZmlsZUNvbnRlbnQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybihg6Lez6L+H5LiN5pSv5oyB55qE6Ieq5Yqo5pu05paw5paH5Lu257G75Z6LOiAke2ZpbGVQYXRofWApO1xyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGDlpITnkIbmlofku7bmm7TmlrDlpLHotKUgJHtmaWxlUGF0aH06YCwgZXJyb3IpO1xyXG4gICAgICAgIHRvYXN0ci5lcnJvcihg5aSE55CG5paH5Lu25pu05paw5aSx6LSlOiAke2ZpbGVQYXRofS4g6ZSZ6K+vOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmm7TmlrDphZLppobnmoTmraPliJnooajovr7lvI/ohJrmnKzjgIJcclxuICog5L2/55SoIGB1cGRhdGVUYXZlcm5SZWdleGVzV2l0aGAg5Ye95pWw5p2l56Gu5L+d5a6J5YWo5ZKM5q2j56Gu55qE5pu05paw44CCXHJcbiAqXHJcbiAqIEBwYXJhbSBmaWxlUGF0aCDmraPliJnooajovr7lvI9KU09O5paH5Lu255qE6Lev5b6E44CCXHJcbiAqIEBwYXJhbSBmaWxlQ29udGVudCDmraPliJnooajovr7lvI9KU09O5paH5Lu255qE5YaF5a6544CCXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVSZWdleChmaWxlUGF0aDogc3RyaW5nLCBmaWxlQ29udGVudDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBjb25zb2xlLmxvZyhg5bCd6K+V5LuOICR7ZmlsZVBhdGh9IOabtOaWsOato+WImeihqOi+vuW8j2ApO1xyXG4gICAgY29uc3QgbmV3UmVnZXhEYXRhID0gSlNPTi5wYXJzZShmaWxlQ29udGVudCk7XHJcblxyXG4gICAgaWYgKCFuZXdSZWdleERhdGEuc2NyaXB0TmFtZSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihg5q2j5YiZ6KGo6L6+5byP5paH5Lu2ICR7ZmlsZVBhdGh9IOe8uuWwkSAnc2NyaXB0TmFtZScg5a2X5q6144CCYCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXdhaXQgdXBkYXRlVGF2ZXJuUmVnZXhlc1dpdGgoKGV4aXN0aW5nUmVnZXhlcykgPT4ge1xyXG4gICAgICAgIGNvbnN0IGVudHJ5SW5kZXggPSBleGlzdGluZ1JlZ2V4ZXMuZmluZEluZGV4KFxyXG4gICAgICAgICAgICAocmVnZXgpID0+IHJlZ2V4LnNjcmlwdF9uYW1lID09PSBuZXdSZWdleERhdGEuc2NyaXB0TmFtZVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGlmIChlbnRyeUluZGV4ICE9PSAtMSkge1xyXG4gICAgICAgICAgICAvLyDlpoLmnpzmib7liLDkuoblkIzlkI3mraPliJnvvIzliJnmm7TmlrDlroNcclxuICAgICAgICAgICAgLy8g5rOo5oSP77ya5oiR5Lus6ZyA6KaB5bCG5paw5pWw5o2u5Lit55qE5a2X5q615pig5bCE5Yiw6YWS6aaG5q2j5YiZ55qE5a2X5q61XHJcbiAgICAgICAgICAgIGV4aXN0aW5nUmVnZXhlc1tlbnRyeUluZGV4XSA9IHtcclxuICAgICAgICAgICAgICAgIC4uLmV4aXN0aW5nUmVnZXhlc1tlbnRyeUluZGV4XSwgLy8g5L+d55WZ5Y6f5pyJSUTnrYnkv6Hmga9cclxuICAgICAgICAgICAgICAgIGZpbmRfcmVnZXg6IG5ld1JlZ2V4RGF0YS5maW5kUmVnZXgsXHJcbiAgICAgICAgICAgICAgICByZXBsYWNlX3N0cmluZzogbmV3UmVnZXhEYXRhLnJlcGxhY2VTdHJpbmcsXHJcbiAgICAgICAgICAgICAgICBlbmFibGVkOiAhbmV3UmVnZXhEYXRhLmRpc2FibGVkLCAvLyBKU09O5Lit55qEZGlzYWJsZWTkuI7phZLppobkuK3nmoRlbmFibGVk55u45Y+NXHJcbiAgICAgICAgICAgICAgICAvLyDlhbbku5blrZfmrrXlj6/ku6XmoLnmja7pnIDopoHku44gbmV3UmVnZXhEYXRhIOS4rea3u+WKoFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg5om+5Yiw5bm25pu05paw5LqG5q2j5YiZ6KGo6L6+5byPOiAke25ld1JlZ2V4RGF0YS5zY3JpcHROYW1lfWApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIOWmguaenOayoeacieaJvuWIsO+8jOWImea3u+WKoOS4uuaWsOeahOato+WImeihqOi+vuW8j1xyXG4gICAgICAgICAgICAvLyDms6jmhI/vvJrov5nph4zpnIDopoHmnoTlu7rkuIDkuKrlrozmlbTnmoQgVGF2ZXJuUmVnZXgg5a+56LGhXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1RhdmVyblJlZ2V4ID0ge1xyXG4gICAgICAgICAgICAgICAgaWQ6IF8udW5pcXVlSWQoJ3RhdmVybi1yZWdleC0nKSwgLy8g5Yib5bu65LiA5Liq5ZSv5LiA55qESURcclxuICAgICAgICAgICAgICAgIHNjcmlwdF9uYW1lOiBuZXdSZWdleERhdGEuc2NyaXB0TmFtZSxcclxuICAgICAgICAgICAgICAgIGVuYWJsZWQ6ICFuZXdSZWdleERhdGEuZGlzYWJsZWQsXHJcbiAgICAgICAgICAgICAgICBydW5fb25fZWRpdDogbmV3UmVnZXhEYXRhLnJ1bk9uRWRpdCB8fCBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHNjb3BlOiBcImNoYXJhY3RlclwiLCAvLyDpu5jorqTkuLrop5LoibLmraPliJlcclxuICAgICAgICAgICAgICAgIGZpbmRfcmVnZXg6IG5ld1JlZ2V4RGF0YS5maW5kUmVnZXgsXHJcbiAgICAgICAgICAgICAgICByZXBsYWNlX3N0cmluZzogbmV3UmVnZXhEYXRhLnJlcGxhY2VTdHJpbmcsXHJcbiAgICAgICAgICAgICAgICBzb3VyY2U6IHtcclxuICAgICAgICAgICAgICAgICAgICB1c2VyX2lucHV0OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGFpX291dHB1dDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBzbGFzaF9jb21tYW5kOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHdvcmxkX2luZm86IHRydWUsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb246IHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb21wdDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBtaW5fZGVwdGg6IG5ld1JlZ2V4RGF0YS5taW5EZXB0aCB8fCBudWxsLFxyXG4gICAgICAgICAgICAgICAgbWF4X2RlcHRoOiBuZXdSZWdleERhdGEubWF4RGVwdGggfHwgbnVsbCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZXhpc3RpbmdSZWdleGVzLnB1c2gobmV3VGF2ZXJuUmVnZXgpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg5re75Yqg5LqG5paw55qE5q2j5YiZ6KGo6L6+5byPOiAke25ld1JlZ2V4RGF0YS5zY3JpcHROYW1lfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZXhpc3RpbmdSZWdleGVzO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIHRvYXN0ci5zdWNjZXNzKGDmraPliJnooajovr7lvI8gJyR7bmV3UmVnZXhEYXRhLnNjcmlwdE5hbWV9JyDlt7Lmm7TmlrDjgIJgKTtcclxuICAgIGNvbnNvbGUubG9nKGDmiJDlip/mm7TmlrDmraPliJnooajovr7lvI86ICR7bmV3UmVnZXhEYXRhLnNjcmlwdE5hbWV9YCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDku45KU09O5paH5Lu25pu05paw5LiW55WM5Lmm44CCXHJcbiAqIOS9v+eUqOmFkummhuWKqeaJi+aPkOS+m+eahCBgcmVwbGFjZVdvcmxkYm9va2Ag5Ye95pWw44CCXHJcbiAqXHJcbiAqIEBwYXJhbSBmaWxlUGF0aCDkuJbnlYzkuaZKU09O5paH5Lu255qE6Lev5b6E44CCXHJcbiAqIEBwYXJhbSBmaWxlQ29udGVudCDkuJbnlYzkuaZKU09O5paH5Lu255qE5YaF5a6544CCXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVXb3JsZGJvb2soZmlsZVBhdGg6IHN0cmluZywgZmlsZUNvbnRlbnQ6c3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBjb25zb2xlLmxvZyhg5bCd6K+V5LuOICR7ZmlsZVBhdGh9IOabtOaWsOS4lueVjOS5pmApO1xyXG4gICAgLy8g5LuO5paH5Lu26Lev5b6E5Lit5o+Q5Y+W5LiW55WM5Lmm55qE5ZCN56ewXHJcbiAgICBjb25zdCBib29rTmFtZSA9IGZpbGVQYXRoLnNwbGl0KC9bXFxcXC9dLykucG9wKCk/LnJlcGxhY2UoJy5qc29uJywgJycpO1xyXG5cclxuICAgIGlmICghYm9va05hbWUpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYOaXoOazleS7jui3r+W+hOS4reehruWumuS4lueVjOS5puWQjeensDogJHtmaWxlUGF0aH1gKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB3b3JsZGJvb2tGaWxlOiBXb3JsZGJvb2tGaWxlID0gSlNPTi5wYXJzZShmaWxlQ29udGVudCk7XHJcblxyXG4gICAgaWYgKCF3b3JsZGJvb2tGaWxlLmVudHJpZXMgfHwgdHlwZW9mIHdvcmxkYm9va0ZpbGUuZW50cmllcyAhPT0gJ29iamVjdCcpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYOaXoOaViOeahOS4lueVjOS5puagvOW8jyAke2ZpbGVQYXRofS4g57y65bCR5oiW5peg5pWI55qEICdlbnRyaWVzJyDlsZ7mgKfjgIJgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDlsIYgZW50cmllcyDlr7nosaHovazmjaLkuLrmlbDnu4TvvIzku6XpgILphY3phZLppobliqnmiYvlh73mlbDnmoTopoHmsYJcclxuICAgIGNvbnN0IGVudHJpZXNBcnJheSA9IE9iamVjdC52YWx1ZXMod29ybGRib29rRmlsZS5lbnRyaWVzKTtcclxuXHJcbiAgICBhd2FpdCByZXBsYWNlV29ybGRib29rKGJvb2tOYW1lLCBlbnRyaWVzQXJyYXkpO1xyXG5cclxuICAgIHRvYXN0ci5zdWNjZXNzKGDkuJbnlYzkuaYgJyR7Ym9va05hbWV9JyDlt7Lmm7TmlrDjgIJgKTtcclxuICAgIGNvbnNvbGUubG9nKGDmiJDlip/mm7TmlrDkuJbnlYzkuaY6ICR7Ym9va05hbWV9YCk7XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/core/update-script.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/core/variables.ts": 
  /*!**************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/core/variables.ts ***!
  \**************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateStateUntil: () => (/* binding */ calculateStateUntil),\n/* harmony export */   clearAllChatVariables: () => (/* binding */ clearAllChatVariables),\n/* harmony export */   getEventsUntil: () => (/* binding */ getEventsUntil),\n/* harmony export */   getVariables: () => (/* binding */ getVariables),\n/* harmony export */   initializeState: () => (/* binding */ initializeState),\n/* harmony export */   overwriteAllChatVariables: () => (/* binding */ overwriteAllChatVariables),\n/* harmony export */   recalculateAndApplyState: () => (/* binding */ recalculateAndApplyState),\n/* harmony export */   saveStateSnapshot: () => (/* binding */ saveStateSnapshot),\n/* harmony export */   syncVariables: () => (/* binding */ syncVariables),\n/* harmony export */   updateVariables: () => (/* binding */ updateVariables)\n/* harmony export */ });\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./logger */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts\");\n/* harmony import */ var _parser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parser */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/parser.ts\");\n/* harmony import */ var _version__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./version */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/version.ts\");\n// core/variables.ts\n\n\n\n// #endregion\n// #region 导出包装函数 (v3.4)\n/**\n * 从 Tavern 环境中获取聊天变量的包装函数。\n * @param options - 传递给底层 API 的选项。\n * @returns 当前的聊天变量。\n */\nfunction getVariables(options) {\n    // @ts-ignore\n    return window.getVariables(options);\n}\n/**\n * 一个简化的变量更新函数，用于合并部分更新。\n * @param updates - 一个包含要更新的键和值的对象。\n */\nasync function updateVariables(updates) {\n    try {\n        await updateVariablesWith((vars) => {\n            _.merge(vars, updates);\n            return vars;\n        }, { type: 'chat' });\n    }\n    catch (error) {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'Variables', 'Failed to update variables with simplified updater.', { updates, error });\n    }\n}\n// #endregion\n// #region 全局状态与事件存储\nconst activeMessageId = null;\nlet initialChatVariables = null; // 用于存储初始状态快照\n/**\n * 初始化状态。\n * @param initialVars - 初始的聊天变量。\n */\nfunction initializeState(initialVars) {\n    // 如果世界对象存在但缺少时价信息，则为其生成初始时价\n    if (initialVars.世界 && !initialVars.世界.时价) {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'Variables', '`世界.时价` not found. Generating initial market price.');\n        initialVars.世界.时价 = generateInitialMarketPrice();\n    }\n    initialChatVariables = _.cloneDeep(initialVars);\n    (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'Variables', 'State initialized.', {\n        initialVars: _.cloneDeep(initialChatVariables),\n    });\n}\n// #endregion\n// #region 辅助工具函数\n/**\n * 生成随机的初始市场时价信息。\n * @returns 一个随机生成的时价对象。\n */\nfunction generateInitialMarketPrice() {\n    const allTags = [\n        \"消耗品\", \"食物\", \"药品\", \"建筑材料\", \"炼器材料\", \"炼丹材料\",\n        \"修炼材料_初期\", \"修炼材料_中期\", \"任务物品\", \"剧情关键\",\n        \"稀有\", \"传说\", \"唯一\", \"工具\", \"书籍\", \"知识\", \"法器\", \"奇物\"\n    ];\n    const demandTags = {};\n    const numTags = _.random(1, 3); // 随机选择1-3个标签\n    const selectedTags = _.sampleSize(allTags, numTags);\n    for (const tag of selectedTags) {\n        // 生成0.7到1.5之间的随机乘数，保留两位小数\n        const multiplier = parseFloat(_.random(0.7, 1.5).toFixed(2));\n        demandTags[tag] = multiplier;\n    }\n    return {\n        需求旺盛的标签: demandTags,\n        过期时间: _.random(10, 30) // 10到30天的随机过期时间\n    };\n}\n/**\n * 递归地查找两个对象之间的差异。\n * @param obj1 第一个对象 (例如: a)\n * @param obj2 第二个对象 (例如: b)\n * @returns 一个描述差异的对象，或在没有差异时返回 null。\n */\nfunction getObjectDiff(obj1, obj2) {\n    if (_.isEqual(obj1, obj2)) {\n        return null;\n    }\n    if (!_.isObject(obj1) || !_.isObject(obj2) || _.isArray(obj1) || _.isArray(obj2)) {\n        return {\n            calculated: obj1,\n            written: obj2,\n        };\n    }\n    const diff = {};\n    const allKeys = _.union(Object.keys(obj1), Object.keys(obj2));\n    for (const key of allKeys) {\n        const nestedDiff = getObjectDiff(obj1[key], obj2[key]);\n        if (nestedDiff) {\n            diff[key] = nestedDiff;\n        }\n    }\n    return diff;\n}\n/**\n * 适配器函数，用于将旧格式的事件对象（使用“事件”和“数据”）\n * 标准化为新格式（使用“type”和“payload”）。\n * @param event - 任何格式的事件对象。\n * @returns 一个符合GameEvent规范的、标准化的事件对象。\n */\nfunction normalizeEvent(event) {\n    const type = event.type || event['事件'];\n    let payload = event.payload || event['数据'];\n    // 兼容性修复：处理旧的、扁平化的“新图鉴发现”事件格式\n    if (type === '新图鉴发现' && event['类型'] && event['数据']) {\n        payload = {\n            '类型': event['类型'],\n            '数据': event['数据']\n        };\n    }\n    // 只返回标准化的核心字段，防止意外的属性污染\n    return {\n        type,\n        payload,\n    };\n}\n// #endregion\n/**\n * 从历史记录中提取并返回截至指定消息ID的所有事件。\n * @param historyManager ChatHistoryManager 的实例。\n * @param targetMessageId 目标消息ID。\n * @param startMessageId (可选) 起始消息ID，函数将只获取此消息之后发生的事件。\n * @returns {GameEvent[]} 一个包含所有相关事件的数组。\n */\nfunction getEventsUntil(historyManager, targetMessageId, startMessageId = null) {\n    const allEvents = [];\n    (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'Variables', `[getEventsUntil] Called with targetId: ${targetMessageId}, startId: ${startMessageId}`);\n    // 将 startMessageId 传递给 historyManager，以利用L2快照进行性能优化\n    const activeMessages = historyManager.getActiveMessagesUntil(targetMessageId, startMessageId);\n    if (!activeMessages) {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'Variables', `[getEventsUntil] Could not find message path for targetId: ${targetMessageId}`);\n        return [];\n    }\n    (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'Variables', `[getEventsUntil] Found ${activeMessages.length} active messages to scan for events.`);\n    for (const message of activeMessages) {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'Variables', `[getEventsUntil] Scanning message ${message.id}`);\n        const jsonString = message.content ? (0,_parser__WEBPACK_IMPORTED_MODULE_1__.extractJsonFromStatusBar)(message.content) : null;\n        if (jsonString) {\n            try {\n                const parsedJson = JSON.parse(jsonString);\n                const eventList = parsedJson['事件列表'] || [];\n                if (eventList.length > 0) {\n                    (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'Variables', `[getEventsUntil] Found ${eventList.length} events in message ${message.id}`);\n                    const eventsFromMessage = eventList\n                        .map((event) => normalizeEvent(event))\n                        .filter((event) => {\n                        if (!event.type) {\n                            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Variables', `[getEventsUntil] Filtered out an event with no type.`, event);\n                            return false;\n                        }\n                        return true;\n                    });\n                    allEvents.push(...eventsFromMessage);\n                }\n            }\n            catch (e) {\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Variables', `[getEventsUntil] JSON parsing failed for message ${message.id}.`, e);\n            }\n        }\n    }\n    (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'Variables', `[getEventsUntil] Finished. Total events found: ${allEvents.length}`);\n    return allEvents;\n}\n/**\n * 同步变量的主函数。它将新消息产生的事件分发给 EventManager。\n * @param statusbarData - 从状态栏解析出的完整JSON对象。\n * @param messageId - 生成此状态栏的消息的唯一ID。\n * @param eventManager The instance of the event manager.\n */\nasync function syncVariables(statusbarData, messageId, eventManager) {\n    if (!statusbarData || !messageId)\n        return;\n    (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'Variables', `[syncVariables] Called for messageId: ${messageId}`, _.cloneDeep(statusbarData));\n    try {\n        const eventList = statusbarData['事件列表'];\n        // const actionOptions = statusbarData['行动选项']; // v3.3: 提取行动选项，将由渲染器处理\n        if (!Array.isArray(eventList) || eventList.length === 0) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'Variables', `[syncVariables] No '事件列表' found or it's empty. Aborting.`);\n            return;\n        }\n        const newEvents = eventList\n            .map((event) => {\n            const normalizedEvent = normalizeEvent(event);\n            return {\n                ...normalizedEvent,\n                sourceMessageId: messageId,\n                eventId: `evt_${Date.now()}_${Math.random().toString(36).substring(2, 9)}`,\n            };\n        })\n            .filter((event) => {\n            if (!event.type) {\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Variables', `[syncVariables] Filtered out an event with no type.`, event);\n                return false;\n            }\n            return true;\n        });\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'Variables', `[syncVariables] Normalized ${newEvents.length} new events to be dispatched.`, _.cloneDeep(newEvents));\n        // 获取当前状态\n        const currentVars = getVariables({ type: 'chat' });\n        const character = _.get(currentVars, '角色', {});\n        const world = _.get(currentVars, '世界', {});\n        // 确保事件列表存在\n        if (!Array.isArray(world.事件列表)) {\n            world.事件列表 = [];\n        }\n        // 通过 EventManager 处理所有事件，获取最终的完整状态和新事件日志\n        const { finalState, newEvents: processedEvents } = await eventManager.processEvents(newEvents, { '角色': character, '世界': world });\n        // 原子化地应用状态更新并追加事件到日志\n        if (processedEvents.length > 0) {\n            await updateVariablesWith((vars) => {\n                // 核心修复：不再使用 merge，而是用 EventManager 计算出的最终状态完全替换\n                vars.角色 = finalState.角色;\n                vars.世界 = finalState.世界;\n                // 确保事件列表路径存在 (虽然 finalState 中应该已经有了)\n                if (!Array.isArray(vars.世界.事件列表)) {\n                    vars.世界.事件列表 = [];\n                }\n                // 将新处理的事件追加到中央事件列表\n                vars.世界.事件列表.push(...processedEvents);\n                return vars;\n            }, { type: 'chat' });\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'Variables', `[syncVariables] State fully updated and logged ${processedEvents.length} new events from message ${messageId}.`);\n        }\n        else {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'Variables', `[syncVariables] Events from message ${messageId} resulted in no state changes or new events.`);\n        }\n        // After processing, log the current state of variables for debugging.\n        const finalVars = getVariables({ type: 'chat' });\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'Variables', '[POST-SYNC] Current chat variables:', _.cloneDeep(finalVars));\n    }\n    catch (error) {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'Variables', '`syncVariables` failed.', error);\n        toastr.error('事件同步失败，请查看控制台获取详情。');\n    }\n}\n/**\n * 使用提供的对象完全覆盖所有聊天变量。\n * 主要用于从存档文件加载状态。\n * @param data - 要写入的完整聊天变量对象。\n */\nasync function overwriteAllChatVariables(data) {\n    (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Variables', 'Overwriting all chat variables with provided data.', data);\n    try {\n        await updateVariablesWith((chatVars) => {\n            // 关键修复：保留L3缓存（初始状态）和plugin_storage\n            const preservedL3 = _.get(chatVars, '世界.初始状态');\n            const preservedStorage = chatVars.plugin_storage;\n            // 清空所有顶级键，但保留L3缓存相关的结构\n            Object.keys(chatVars).forEach(key => {\n                // 保留整个\"世界\"对象，因为其中包含初始状态\n                if (key !== '世界') {\n                    delete chatVars[key];\n                }\n            });\n            // 用新的状态数据填充\n            Object.assign(chatVars, data);\n            // 恢复被保留的L3缓存和元数据\n            if (preservedL3) {\n                // 确保世界对象存在\n                chatVars.世界 = chatVars.世界 || {};\n                // 恢复初始状态，但确保不覆盖data中可能包含的新初始状态\n                if (!chatVars.世界.初始状态) {\n                    chatVars.世界.初始状态 = preservedL3;\n                }\n                else {\n                    (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'Variables', 'L3 cache already exists in new data, preserving existing L3.');\n                }\n            }\n            chatVars.plugin_storage = preservedStorage;\n            // v4.1 健壮性修复：确保任何通过此方法写入的状态都对创世快照中的llm_history进行清理，以防止旧存档或意外状态导致问题。\n            const initialStatePath = '世界.初始状态';\n            if (_.has(chatVars, initialStatePath)) {\n                const l3HistoryPath = `${initialStatePath}.plugin_storage.llm_history`;\n                if (_.has(chatVars, l3HistoryPath)) {\n                    const l3History = _.get(chatVars, l3HistoryPath);\n                    if (l3History && Array.isArray(l3History) && l3History.length > 1) {\n                        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Variables', `[L3 Sanitize @ Overwrite] Initial state contains ${l3History.length} llm_history entries. Trimming to first entry for stability.`);\n                        _.set(chatVars, l3HistoryPath, l3History.slice(0, 1));\n                    }\n                }\n            }\n            return chatVars;\n        }, { type: 'chat' });\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'Variables', 'Successfully overwrote chat variables while preserving L3 cache and metadata.');\n    }\n    catch (error) {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'Variables', 'Failed to overwrite chat variables.', error);\n        toastr.error('加载状态失败，详情请查看控制台。');\n    }\n}\n/**\n * 清除所有聊天变量，用于开始新游戏。\n */\nasync function clearAllChatVariables() {\n    (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Variables', 'Clearing all chat variables for a new game.');\n    try {\n        await updateVariablesWith((chatVars) => {\n            Object.keys(chatVars).forEach(key => delete chatVars[key]);\n            return chatVars;\n        }, { type: 'chat' });\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'Variables', 'Successfully cleared all chat variables.');\n    }\n    catch (error) {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'Variables', 'Failed to clear chat variables.', error);\n        toastr.error('清除游戏数据失败，详情请查看控制台。');\n    }\n}\n/**\n * (v2.7) 根据事件历史计算状态，但不将其应用到全局变量中。\n * 这是一个纯计算函数，用于获取特定历史点的状态快照。\n * @param historyManager ChatHistoryManager 的实例。\n * @param targetMessageId 目标消息ID，将计算到此消息为止的状态。\n * @param eventManager EventManager 的实例。\n * @returns {Promise<any | null>} 计算出的状态对象，如果失败则返回 null。\n */\nasync function calculateStateUntil(historyManager, targetMessageId, eventManager) {\n    (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'StateCalc', `====== STATE CALCULATION START for message: ${targetMessageId} ======`);\n    try {\n        const allVars = getVariables({ type: 'chat' });\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'StateCalc', `[DEBUG] 1. Got allVars.`);\n        const coords = historyManager.getRawHistory().metadata[targetMessageId];\n        if (!coords) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'StateCalc', `Could not find coordinates for target message ${targetMessageId}. Aborting.`);\n            return null;\n        }\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'StateCalc', `[DEBUG] 2. Found coordinates for message:`, coords);\n        const branchId = coords.branchId;\n        const branchSnapshots = _.get(allVars, `世界.状态快照.${branchId}`, {});\n        // 修正：立即克隆创世快照，以避免在清理llm_history时产生副作用。\n        let initialSnapshot = _.cloneDeep(_.get(allVars, '世界.初始状态'));\n        if (!initialSnapshot) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Variables', '[TEMP_STATE_CALC] Genesis snapshot is missing. Trying backup.');\n            initialSnapshot = _.cloneDeep(_.get(allVars, '备份.初始状态备份'));\n            if (!initialSnapshot) {\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'Variables', '[TEMP_STATE_CALC] Genesis snapshot and backup are both missing. Aborting.');\n                return null;\n            }\n        }\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'StateCalc', `[DEBUG] 3. Genesis snapshot found and cloned.`);\n        // v4.1 CHAT_FLOW_SPEC 适配: 在克隆出的快照副本上进行清理，确保重算稳定性。\n        // 这使得状态重算逻辑不依赖于渲染器中的预清理步骤。\n        const l3HistoryPath = 'plugin_storage.llm_history';\n        if (_.has(initialSnapshot, l3HistoryPath)) {\n            const l3History = _.get(initialSnapshot, l3HistoryPath);\n            if (l3History && Array.isArray(l3History) && l3History.length > 1) {\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'StateCalc', `[L3 Sanitize] Genesis snapshot contains ${l3History.length} llm_history entries. Trimming to first entry for calculation stability.`);\n                _.set(initialSnapshot, l3HistoryPath, l3History.slice(0, 1));\n            }\n        }\n        // 1. 寻找最优的起始快照\n        const targetMessageIndex = historyManager.getMessageIndex(targetMessageId);\n        let bestSnapshotMessageId = null;\n        let bestSnapshotIndex = -1;\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'StateCalc', `Searching for the best snapshot in branch \"${branchId}\" before message ${targetMessageId} (index ${targetMessageIndex})...`);\n        for (const messageId in branchSnapshots) {\n            const snapshot = branchSnapshots[messageId];\n            if (snapshot && snapshot.version === _version__WEBPACK_IMPORTED_MODULE_2__.LOCAL_VERSION) {\n                const snapshotIndex = historyManager.getMessageIndex(messageId);\n                if (snapshotIndex !== -1 && snapshotIndex < targetMessageIndex && snapshotIndex > bestSnapshotIndex) {\n                    bestSnapshotIndex = snapshotIndex;\n                    bestSnapshotMessageId = messageId;\n                }\n            }\n            else {\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'StateCalc', `[ROBUSTNESS] Snapshot ${messageId} has incompatible version (${snapshot?.version}). Skipping.`);\n            }\n        }\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'StateCalc', `[DEBUG] 4. Snapshot search complete. Best snapshot found: ${bestSnapshotMessageId}`);\n        let startState;\n        let startMessageId;\n        if (bestSnapshotMessageId && branchSnapshots[bestSnapshotMessageId]) {\n            startState = _.cloneDeep(branchSnapshots[bestSnapshotMessageId]);\n            startMessageId = bestSnapshotMessageId;\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'StateCalc', `Found optimal snapshot to start from: ${startMessageId} (version ${branchSnapshots[bestSnapshotMessageId].version})`);\n        }\n        else {\n            startState = initialSnapshot; // 无需再次克隆，因为在开始时已经克隆过了\n            startMessageId = null;\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'StateCalc', 'No suitable snapshot found. Starting from genesis snapshot.');\n        }\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'StateCalc', `[DEBUG] 5. Determined startState. Starting from: ${startMessageId || 'genesis'}`);\n        // 2. 获取需要重放的事件\n        const eventsToReplay = getEventsUntil(historyManager, targetMessageId, startMessageId);\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'StateCalc', `Found ${eventsToReplay.length} events to replay between snapshot and target.`);\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'StateCalc', `[DEBUG] 6. Got events to replay:`, _.cloneDeep(eventsToReplay));\n        // [ROBUSTNESS] 快速通道：如果没有事件需要重放，直接返回起始状态\n        if (eventsToReplay.length === 0) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'StateCalc', '[Fast Path] No events to replay. Returning start state directly.');\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'StateCalc', `====== STATE CALCULATION END for message: ${targetMessageId} ======`);\n            return startState;\n        }\n        // 3. 重放事件\n        const recalculatedState = startState;\n        const processingContext = {\n            '角色': recalculatedState.角色 || {},\n            '世界': recalculatedState.世界 || {},\n        };\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'StateCalc', `[DEBUG] 7. Initializing processing context for event replay.`);\n        for (const event of eventsToReplay) {\n            try {\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'StateCalc', `  -> Replaying event: ${event.type}`, event.payload);\n                // @ts-ignore\n                const handler = eventManager.handlers[event.type];\n                if (handler) {\n                    // @ts-ignore\n                    const update = await handler.execute(event.payload, processingContext, eventManager, eventManager.pokedexManager);\n                    _.merge(processingContext, update);\n                    (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'StateCalc', `  -> Event ${event.type} replayed successfully.`);\n                }\n                else {\n                    (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'StateCalc', `  -> No handler found for event type: ${event.type}. Skipping.`);\n                }\n            }\n            catch (e) {\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'StateCalc', `[ROBUSTNESS] Failed to replay an event. Skipping.`, {\n                    errorMessage: e.message,\n                    eventDetails: event,\n                });\n            }\n        }\n        _.merge(recalculatedState, processingContext);\n        // 确保 plugin_storage 被正确地保留\n        if (allVars.plugin_storage) {\n            recalculatedState.plugin_storage = _.cloneDeep(allVars.plugin_storage);\n        }\n        // v3.5 核心安全更新：在返回前，精确过滤状态，只保留白名单内的顶级键\n        const filteredState = _.pick(recalculatedState, ['角色', '世界', 'plugin_storage']);\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'StateCalc', `====== STATE CALCULATION END for message: ${targetMessageId} ======`);\n        return filteredState;\n    }\n    catch (error) {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'StateCalc', '`calculateStateUntil` raw error:', error);\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'StateCalc', '`calculateStateUntil` error message:', error.message);\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'StateCalc', '`calculateStateUntil` error stack:', error.stack);\n        return null;\n    }\n}\n/**\n * 将指定的状态保存为L2缓存（状态快照）。\n * @param messageId - 作为快照索引的消息ID。\n * @param stateToSave - 要保存的完整状态对象。\n * @param historyManager - ChatHistoryManager的实例，用于获取分支ID。\n */\nasync function saveStateSnapshot(messageId, stateToSave, historyManager) {\n    const coords = historyManager.getRawHistory().metadata[messageId];\n    if (!coords) {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'Variables', `[saveStateSnapshot] Cannot save snapshot, no coordinates found for message ${messageId}.`);\n        return;\n    }\n    const branchId = coords.branchId;\n    const snapshotPath = `世界.状态快照.${branchId}.${messageId}`;\n    // 为快照添加版本信息\n    const cleanStateToSave = _.cloneDeep(stateToSave);\n    // 安全修复：确保 plugin_storage 不会被保存到任何状态快照中\n    if (cleanStateToSave.plugin_storage) {\n        delete cleanStateToSave.plugin_storage;\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Variables', '[L2 Cache] Removed `plugin_storage` before saving snapshot to maintain state purity.');\n    }\n    // v4.2 核心修复：从要保存的状态中移除初始状态和状态快照本身，防止递归嵌套和数据冗余\n    if (_.has(cleanStateToSave, '世界.初始状态')) {\n        delete cleanStateToSave.世界.初始状态;\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Variables', '[L2 Cache] Removed `世界.初始状态` before saving snapshot to prevent recursion.');\n    }\n    if (_.has(cleanStateToSave, '世界.状态快照')) {\n        delete cleanStateToSave.世界.状态快照;\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Variables', '[L2 Cache] Removed `世界.状态快照` before saving snapshot to prevent recursion.');\n    }\n    const snapshotWithVersion = {\n        ...cleanStateToSave,\n        version: _version__WEBPACK_IMPORTED_MODULE_2__.LOCAL_VERSION,\n    };\n    try {\n        await updateVariablesWith((vars) => {\n            // 健壮性修复：确保路径上的所有对象都存在，以防 _.set 在某些环境下不支持自动创建\n            if (!vars.世界) {\n                vars.世界 = {};\n            }\n            if (!vars.世界.状态快照) {\n                vars.世界.状态快照 = {};\n            }\n            if (!vars.世界.状态快照[branchId]) {\n                vars.世界.状态快照[branchId] = {};\n            }\n            // 现在路径是安全的，可以进行设置\n            _.set(vars, snapshotPath, snapshotWithVersion);\n            return vars;\n        }, { type: 'chat' });\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'Variables', `[L2 Cache] Successfully saved state snapshot for message ${messageId} in branch ${branchId}.`);\n    }\n    catch (error) {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'Variables', `[L2 Cache] Failed to save snapshot for message ${messageId}.`, error);\n    }\n}\n/**\n * (v2.6) 从事件历史中重算并应用状态，已通过状态快照进行性能优化。\n * @param historyManager ChatHistoryManager 的实例。\n * @param targetMessageId 目标消息ID，将重算到此消息为止的状态。\n * @param eventManager The instance of the event manager.\n */\nasync function recalculateAndApplyState(historyManager, targetMessageId, eventManager) {\n    (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'Variables', `[SWIPE_DEBUG] === STATE RECALCULATION STARTED for messageId: ${targetMessageId} ===`);\n    try {\n        // v4.4 健壮性修复：在重算前，执行一次完整的状态健康检查与修复。\n        let allVars = getVariables({ type: 'chat' });\n        let needsUpdate = false;\n        // 1. 检查并修复丢失的创世快照\n        if (!_.has(allVars, '世界.初始状态')) {\n            const backupSnapshot = _.get(allVars, '备份.初始状态备份');\n            if (backupSnapshot) {\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Variables', '[ROBUSTNESS] Genesis snapshot missing. Restoring from backup.');\n                _.set(allVars, '世界.初始状态', _.cloneDeep(backupSnapshot));\n                needsUpdate = true;\n            }\n            else {\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Variables', '[ROBUSTNESS] Genesis snapshot and backup are both missing. Attempting to rebuild from current state.');\n                // 智能重建：深度复制当前状态作为快照基础\n                const rebuiltSnapshot = {\n                    角色: _.cloneDeep(_.get(allVars, '角色', {})),\n                    世界: _.cloneDeep(_.get(allVars, '世界', {}))\n                };\n                // 确保核心字段存在\n                if (!rebuiltSnapshot.世界.时价)\n                    rebuiltSnapshot.世界.时价 = generateInitialMarketPrice();\n                if (!rebuiltSnapshot.世界.事件列表)\n                    rebuiltSnapshot.世界.事件列表 = [];\n                if (!rebuiltSnapshot.世界.状态快照)\n                    rebuiltSnapshot.世界.状态快照 = {};\n                // 关键修复：如果主控角色名也丢失了，则进行推断\n                if (!_.has(rebuiltSnapshot, '角色.主控角色名')) {\n                    const characterNames = Object.keys(rebuiltSnapshot.角色 || {}).filter(name => name !== 'undefined');\n                    if (characterNames.length > 0) {\n                        const inferredName = characterNames[0]; // 默认选择第一个找到的非undefined角色\n                        _.set(rebuiltSnapshot, '角色.主控角色名', inferredName);\n                        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Variables', `[ROBUSTNESS] '角色.主控角色名' was missing. Inferred and set to '${inferredName}'.`);\n                    }\n                }\n                // 关键修复：如果存在 'undefined' 角色，则合并其物品\n                const mainCharName = _.get(rebuiltSnapshot, '角色.主控角色名');\n                if (mainCharName && _.has(rebuiltSnapshot, `角色.undefined.物品`)) {\n                    const undefinedItems = _.get(rebuiltSnapshot, '角色.undefined.物品', []);\n                    if (undefinedItems.length > 0) {\n                        const mainCharItemsPath = `角色.${mainCharName}.物品`;\n                        if (!_.has(rebuiltSnapshot, mainCharItemsPath)) {\n                            _.set(rebuiltSnapshot, mainCharItemsPath, []);\n                        }\n                        const existingItems = _.get(rebuiltSnapshot, mainCharItemsPath, []);\n                        // 使用Map合并，避免重复并叠加数量\n                        const itemMap = new Map();\n                        existingItems.forEach((item) => itemMap.set(item.名称, item));\n                        undefinedItems.forEach((item) => {\n                            if (itemMap.has(item.名称)) {\n                                const existingItem = itemMap.get(item.名称);\n                                existingItem.数量 = (existingItem.数量 || 1) + (item.数量 || 1);\n                            }\n                            else {\n                                itemMap.set(item.名称, item);\n                            }\n                        });\n                        _.set(rebuiltSnapshot, mainCharItemsPath, Array.from(itemMap.values()));\n                        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Variables', `[ROBUSTNESS] Merged ${undefinedItems.length} items from 'undefined' character to '${mainCharName}'.`);\n                    }\n                    // 清理 'undefined' 角色\n                    delete rebuiltSnapshot.角色.undefined;\n                }\n                _.set(allVars, '世界.初始状态', rebuiltSnapshot);\n                needsUpdate = true;\n            }\n        }\n        // 2. 检查并修复丢失的主控角色名\n        if (!_.has(allVars, '角色.主控角色名')) {\n            const characterNames = Object.keys(_.get(allVars, '角色', {}));\n            if (characterNames.length > 0) {\n                // 优先选择非 'undefined' 的角色名\n                const inferredName = characterNames.find(name => name !== 'undefined') || characterNames[0];\n                if (inferredName) {\n                    (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Variables', `[ROBUSTNESS] '角色.主控角色名' missing. Inferred as '${inferredName}'.`);\n                    _.set(allVars, '角色.主控角色名', inferredName);\n                    needsUpdate = true;\n                }\n            }\n        }\n        // 3. 检查并修复 'undefined' 角色，将其物品合并给主控角色\n        if (_.has(allVars, '角色.undefined') && _.has(allVars, '角色.主控角色名')) {\n            const undefinedItems = _.get(allVars, '角色.undefined.物品', []);\n            if (undefinedItems.length > 0) {\n                const mainCharName = _.get(allVars, '角色.主控角色名');\n                const mainCharItemsPath = `角色.${mainCharName}.物品`;\n                if (!_.has(allVars, mainCharItemsPath)) {\n                    _.set(allVars, mainCharItemsPath, []);\n                }\n                const existingItems = _.get(allVars, mainCharItemsPath, []);\n                // 使用 Map 来合并物品，处理数量叠加\n                const itemMap = new Map();\n                existingItems.forEach((item) => itemMap.set(item.名称, item));\n                undefinedItems.forEach((item) => {\n                    if (itemMap.has(item.名称)) {\n                        const existingItem = itemMap.get(item.名称);\n                        existingItem.数量 = (existingItem.数量 || 1) + (item.数量 || 1);\n                    }\n                    else {\n                        itemMap.set(item.名称, item);\n                    }\n                });\n                _.set(allVars, mainCharItemsPath, Array.from(itemMap.values()));\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Variables', `[ROBUSTNESS] Merged ${undefinedItems.length} items from 'undefined' character to '${mainCharName}'.`);\n            }\n            delete allVars.角色.undefined;\n            needsUpdate = true;\n        }\n        // 如果进行了任何修复，则原子化地更新一次变量\n        if (needsUpdate) {\n            await overwriteAllChatVariables(allVars);\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'Variables', '[ROBUSTNESS] State sanitation complete. Variables have been updated.');\n            // 重新获取变量以确保后续计算基于修复后的状态\n            allVars = getVariables({ type: 'chat' });\n        }\n        // 4. (v2.7) 为旧存档自动创建L3备份\n        if (_.has(allVars, '世界.初始状态') && !_.has(allVars, '备份.初始状态备份')) {\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'Variables', '[ROBUSTNESS] Backup for genesis snapshot not found. Creating one for this legacy save.');\n            const snapshotToBackup = _.cloneDeep(_.get(allVars, '世界.初始状态'));\n            await updateVariablesWith((vars) => {\n                _.set(vars, '备份.初始状态备份', snapshotToBackup);\n                return vars;\n            }, { type: 'chat' });\n            toastr.info('已为旧版存档成功创建初始状态备份。');\n            // 重新获取变量以确保后续计算基于修复后的状态\n            allVars = getVariables({ type: 'chat' });\n        }\n        // 复用纯计算函数\n        const recalculatedState = await calculateStateUntil(historyManager, targetMessageId, eventManager);\n        if (recalculatedState) {\n            // 应用最终状态\n            await overwriteAllChatVariables(recalculatedState);\n            // [DEBUG] 验证写入一致性\n            const writtenState = getVariables({ type: 'chat' });\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'Variables', '[SWIPE_DEBUG] Event replay finished. Final recalculated state:', _.cloneDeep(writtenState));\n            // v4.1 修正：在状态验证时，忽略 plugin_storage，因为它不属于核心游戏状态，且可能被外部逻辑修改，导致验证误报失败。\n            const stateForVerification = _.omit(recalculatedState, 'plugin_storage');\n            const writtenStateForVerification = _.omit(writtenState, 'plugin_storage');\n            const verificationPassed = _.isEqual(stateForVerification, writtenStateForVerification);\n            if (verificationPassed) {\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'StateCalc', '[State Verification] PASSED: Recalculated core game state matches the state read back from the database.');\n            }\n            else {\n                const differences = getObjectDiff(stateForVerification, writtenStateForVerification);\n                (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'StateCalc', '[State Verification] FAILED: Mismatch between recalculated core game state and the state read back from the database.', {\n                    differences,\n                });\n            }\n            // 新增逻辑：无论如何都为本次重算的结果创建一个L2快照\n            await saveStateSnapshot(targetMessageId, writtenState, historyManager);\n            (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'Variables', `[SWIPE_DEBUG] === STATE RECALCULATION FINISHED for message ${targetMessageId} ===`);\n            toastr.success('游戏状态已同步至当前消息页。');\n        }\n        else {\n            throw new Error('State calculation returned null.');\n        }\n    }\n    catch (error) {\n        (0,_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('error', 'Variables', '`recalculateAndApplyState` failed.', error);\n        toastr.error('状态重算失败，请查看控制台获取详情。');\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS92YXJpYWJsZXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUljO0FBQ2tCO0FBQ1Y7QUFnQzFDLGFBQWE7QUFFYix3QkFBd0I7QUFDeEI7Ozs7R0FJRztBQUNJLFNBQVMsWUFBWSxDQUFDLE9BQWE7SUFDdEMsYUFBYTtJQUNiLE9BQVEsTUFBYyxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUNqRCxDQUFDO0FBRUQ7OztHQUdHO0FBQ0ksS0FBSyxVQUFVLGVBQWUsQ0FBQyxPQUE0QjtJQUM5RCxJQUFJLENBQUM7UUFDRCxNQUFNLG1CQUFtQixDQUFDLENBQUMsSUFBUyxFQUFFLEVBQUU7WUFDcEMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7WUFDdkIsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUM7SUFDekIsQ0FBQztJQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7UUFDYiwrQ0FBTSxDQUFDLE9BQU8sRUFBRSxXQUFXLEVBQUUscURBQXFELEVBQUUsRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQztJQUM1RyxDQUFDO0FBQ0wsQ0FBQztBQUNELGFBQWE7QUFFYixvQkFBb0I7QUFDcEIsTUFBTSxlQUFlLEdBQWtCLElBQUksQ0FBQztBQUM1QyxJQUFJLG9CQUFvQixHQUFRLElBQUksQ0FBQyxDQUFDLGFBQWE7QUFFbkQ7OztHQUdHO0FBQ0ksU0FBUyxlQUFlLENBQUMsV0FBZ0I7SUFDNUMsNEJBQTRCO0lBQzVCLElBQUksV0FBVyxDQUFDLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7UUFDdkMsK0NBQU0sQ0FBQyxNQUFNLEVBQUUsV0FBVyxF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QUFDLGtDQUFrQyxDQUFDLENBQUM7UUFDeEQsQ0FBQztJQUNMLENBQUM7SUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1FBQ2IsK0NBQU0sQ0FBQyxPQUFPLEVBQUUsV0FBVyxFQUFFLG9DQUFvQyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQzFFLE1BQU0sQ0FBQyxLQUFLLENBQUMsb0JBQW9CLENBQUMsQ0FBQztJQUN2QyxDQUFDO0FBQ0wsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS92YXJpYWJsZXMudHM/Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGNvcmUvdmFyaWFibGVzLnRzXG5cbmltcG9ydCB7IEV2ZW50TWFuYWdlciB9IGZyb20gJy4vZXZlbnRNYW5hZ2VyJztcbmltcG9ydCB7IENoYXRIaXN0b3J5TWFuYWdlciB9IGZyb20gJy4vaGlzdG9yeSc7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0SnNvbkZyb21TdGF0dXNCYXIgfSBmcm9tICcuL3BhcnNlcic7XG5pbXBvcnQgeyBMT0NBTF9WRVJTSU9OIH0gZnJvbSAnLi92ZXJzaW9uJztcblxuLy8gI3JlZ2lvbiDlpJbpg6jkvp3otZblo7DmmI5cbi8vIEB0cy1pZ25vcmVcbmRlY2xhcmUgY29uc3QgXzogYW55O1xuLy8gQHRzLWlnbm9yZVxuZGVjbGFyZSBjb25zdCB0b2FzdHI6IGFueTtcbi8vIEB0cy1pZ25vcmVcbmRlY2xhcmUgY29uc3QgcmVwbGFjZVZhcmlhYmxlczogKHZhcmlhYmxlczogUmVjb3JkPHN0cmluZywgYW55Piwgb3B0aW9ucz86IGFueSkgPT4gUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCBhbnk+Pjtcbi8vIEB0cy1pZ25vcmVcbmRlY2xhcmUgY29uc3QgdXBkYXRlVmFyaWFibGVzV2l0aDogKHVwZGF0ZXI6ICh2YXJzOiBhbnkpID0+IGFueSwgb3B0aW9uczogYW55KSA9PiBQcm9taXNlPHZvaWQ+O1xuLy8gI2VuZHJlZ2lvblxuXG4vLyAjcmVnaW9uIOexu+Wei+WumuS5iVxuLyoqXG4gKiDlrprkuYnkuobmuLjmiI/kuK3miYDmnInkuovku7blr7nosaHnmoTmoIflh4bnu5PmnoTjgIJcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHYW1lRXZlbnQge1xuICAgIHR5cGU6IHN0cmluZztcbiAgICBwYXlsb2FkOiBhbnk7XG4gICAgc291cmNlTWVzc2FnZUlkOiBzdHJpbmc7XG4gICAgZXZlbnRJZDogc3RyaW5nO1xufVxuXG4vKipcbiAqICjmlrDlop4pIOWumuS5ieS6hueJqeWTgeWvueixoeeahOWfuuacrOe7k+aehOOAglxuICovXG5pbnRlcmZhY2UgSXRlbSB7XG4gICAg5ZCN56ewOiBzdHJpbmc7XG4gICAg5pWw6YePPzogbnVtYmVyO1xuICAgIFtrZXk6IHN0cmluZ106IGFueTtcbn1cbi8vICNlbmRyZWdpb25cblxuLy8gI3JlZ2lvbiDlr7zlh7rljIXoo4Xlh73mlbAgKHYzLjQpXG4vKipcbiAqIOS7jiBUYXZlcm4g546v5aKD5Lit6I635Y+W6IGK5aSp5Y+Y6YeP55qE5YyF6KOF5Ye95pWw44CCXG4gKiBAcGFyYW0gb3B0aW9ucyAtIOS8oOmAkue7meW6leWxgiBBUEkg55qE6YCJ6aG544CCXG4gKiBAcmV0dXJucyDlvZPliY3nmoTogYrlpKnlj5jph4/jgIJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFZhcmlhYmxlcyhvcHRpb25zPzogYW55KTogYW55IHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcmV0dXJuICh3aW5kb3cgYXMgYW55KS5nZXRWYXJpYWJsZXMob3B0aW9ucyk7XG59XG5cbi8qKlxuICog5LiA5Liq566A5YyW55qE5Y+Y6YeP5pu05paw5Ye95pWw77yM55So5LqO5ZCI5bm26YOo5YiG5pu05paw44CCXG4gKiBAcGFyYW0gdXBkYXRlcyAtIOS4gOS4quWMheWQq+imgeabtOaWsOeahOmUruWSjOWAvOeahOWvueixoeOAglxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlVmFyaWFibGVzKHVwZGF0ZXM6IFJlY29yZDxzdHJpbmcsIGFueT4pIHtcbiAgICB0cnkge1xuICAgICAgICBhd2FpdCB1cGRhdGVWYXJpYWJsZXNXaXRoKCh2YXJzOiBhbnkpID0+IHtcbiAgICAgICAgICAgIF8ubWVyZ2UodmFycywgdXBkYXRlcyk7XG4gICAgICAgICAgICByZXR1cm4gdmFycztcbiAgICAgICAgfSwgeyB0eXBlOiAnY2hhdCcgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgbG9nZ2VyKCdlcnJvcicsICdWYXJpYWJsZXMnLCAnRmFpbGVkIHRvIHVwZGF0ZSB2YXJpYWJsZXMgd2l0aCBzaW1wbGlmaWVkIHVwZGF0ZXIuJywgeyB1cGRhdGVzLCBlcnJvciB9KTtcbiAgICB9XG59XG4vLyAjZW5kcmVnaW9uXG5cbi8vICNyZWdpb24g5YWo5bGA54q25oCB5LiO5LqL5Lu25a2Y5YKoXG5jb25zdCBhY3RpdmVNZXNzYWdlSWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xubGV0IGluaXRpYWxDaGF0VmFyaWFibGVzOiBhbnkgPSBudWxsOyAvLyDnlKjkuo7lrZjlgqjliJ3lp4vnirbmgIHlv6vnhadcblxuLyoqXG4gKiDliJ3lp4vljJbnirbmgIHjgIJcbiAqIEBwYXJhbSBpbml0aWFsVmFycyAtIOWIneWni+eahOiBiuWkqeWPmOmHj+OAglxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZVN0YXRlKGluaXRpYWxWYXJzOiBhbnkpIHtcbiAgICAvLyDlpoLmnpzkuJbnlYzlr7nosaHlrZjlnKjkvYbnvLrlsJHml7bku7fkv6Hmga/vvIzliJnkuLrlhbbnlJ/miJDliJ3lp4vml7bku7dcbiAgICBpZiAoaW5pdGlhbFZhcnMu5LiW55WMICYmICFpbml0aWFsVmFycy7kuJbnlYwu5pe25Lu3KSB7XG4gICAgICAgIGxvZ2dlcignaW5mbycsICdWYXJpYWJsZXMnLCAnYOS4lueVjC7ml7bku7dgIG5vdCBmb3VuZC4gR2VuZXJhdGluZyBpbml0aWFsIG1hcmtldCBwcmljZS4nKTtcbiAgICAgICAgaW5pdGlhbFZhcnMu5LiW55WMLuaXtuS7tyA9IGdlbmVyYXRlSW5pdGlhbE1hcmtldFByaWNlKCk7XG4gICAgfVxuXG4gICAgaW5pdGlhbENoYXRWYXJpYWJsZXMgPSBfLmNsb25lRGVlcChpbml0aWFsVmFycyk7XG4gICAgbG9nZ2VyKCdpbmZvJywgJ1ZhcmlhYmxlcycsICdTdGF0ZSBpbml0aWFsaXplZC4nLCB7XG4gICAgICAgIGluaXRpYWxWYXJzOiBfLmNsb25lRGVlcChpbml0aWFsQ2hhdFZhcmlhYmxlcyksXG4gICAgfSk7XG59XG4vLyAjZW5kcmVnaW9uXG5cbi8vICNyZWdpb24g6L6F5Yqp5bel5YW35Ye95pWwXG5cbi8qKlxuICog55Sf5oiQ6ZqP5py655qE5Yid5aeL5biC5Zy65pe25Lu35L+h5oGv44CCXG4gKiBAcmV0dXJucyDkuIDkuKrpmo/mnLrnlJ/miJDnmoTml7bku7flr7nosaHjgIJcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVJbml0aWFsTWFya2V0UHJpY2UoKTogb2JqZWN0IHtcbiAgICBjb25zdCBhbGxUYWdzID0gW1xuICAgICAgICBcIua2iOiAl+WTgVwiLCBcIumjn+eJqVwiLCBcIuiNr+WTgVwiLCBcIuW7uuetkeadkOaWmVwiLCBcIueCvOWZqOadkOaWmVwiLCBcIueCvOS4ueadkOaWmVwiLFxuICAgICAgICBcIuS/rueCvOadkOaWmV/liJ3mnJ9cIiwgXCLkv67ngrzmnZDmlplf5Lit5pyfXCIsIFwi5Lu75Yqh54mp5ZOBXCIsIFwi5Ymn5oOF5YWz6ZSuXCIsXG4gICAgICAgIFwi56iA5pyJXCIsIFwi5Lyg6K+0XCIsIFwi5ZSv5LiAXCIsIFwi5bel5YW3XCIsIFwi5Lmm57GNXCIsIFwi55+l6K+GXCIsIFwi5rOV5ZmoXCIsIFwi5aWH54mpXCJcbiAgICBdO1xuXG4gICAgY29uc3QgZGVtYW5kVGFnczogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSA9IHt9O1xuICAgIGNvbnN0IG51bVRhZ3MgPSBfLnJhbmRvbSgxLCAzKTsgLy8g6ZqP5py66YCJ5oupMS0z5Liq5qCH562+XG5cbiAgICBjb25zdCBzZWxlY3RlZFRhZ3MgPSBfLnNhbXBsZVNpemUoYWxsVGFncywgbnVtVGFncyk7XG5cbiAgICBmb3IgKGNvbnN0IHRhZyBvZiBzZWxlY3RlZFRhZ3MpIHtcbiAgICAgICAgLy8g55Sf5oiQMC435YiwMS415LmL6Ze055qE6ZqP5py65LmY5pWw77yM5L+d55WZ5Lik5L2N5bCP5pWwXG4gICAgICAgIGNvbnN0IG11bHRpcGxpZXIgPSBwYXJzZUZsb2F0KF8ucmFuZG9tKDAuNywgMS41KS50b0ZpeGVkKDIpKTtcbiAgICAgICAgZGVtYW5kVGFnc1t0YWddID0gbXVsdGlwbGllcjtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICDpnIDmsYLml7rnm5vnmoTmoIfnrb46IGRlbWFuZFRhZ3MsXG4gICAgICAgIOi/h+acn+aXtumXtDogXy5yYW5kb20oMTAsIDMwKSAvLyAxMOWIsDMw5aSp55qE6ZqP5py66L+H5pyf5pe26Ze0XG4gICAgfTtcbn1cblxuLyoqXG4gKiDpgJLlvZLlnLDmn6Xmib7kuKTkuKrlr7nosaHkuYvpl7TnmoTlt67lvILjgIJcbiAqIEBwYXJhbSBvYmoxIOesrOS4gOS4quWvueixoSAo5L6L5aaCOiBhKVxuICogQHBhcmFtIG9iajIg56ys5LqM5Liq5a+56LGhICjkvovlpoI6IGIpXG4gKiBAcmV0dXJucyDkuIDkuKrmj4/ov7Dlt67lvILnmoTlr7nosaHvvIzmiJblnKjmsqHmnInlt67lvILml7bov5Tlm54gbnVsbOOAglxuICovXG5mdW5jdGlvbiBnZXRPYmplY3REaWZmKG9iajE6IGFueSwgb2JqMjogYW55KTogYW55IHtcbiAgICBpZiAoXy5pc0VxdWFsKG9iajEsIG9iajIpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmICghXy5pc09iamVjdChvYmoxKSB8fCAhXy5pc09iamVjdChvYmoyKSB8fCBfLmlzQXJyYXkob2JqMSkgfHwgXy5pc0FycmF5KG9iajIpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjYWxjdWxhdGVkOiBvYmoxLFxuICAgICAgICAgICAgd3JpdHRlbjogb2JqMixcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zdCBkaWZmOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgY29uc3QgYWxsS2V5cyA9IF8udW5pb24oT2JqZWN0LmtleXMob2JqMSksIE9iamVjdC5rZXlzKG9iajIpKTtcblxuICAgIGZvciAoY29uc3Qga2V5IG9mIGFsbEtleXMpIHtcbiAgICAgICAgY29uc3QgbmVzdGVkRGlmZiA9IGdldE9iamVjdERpZmYob2JqMVtrZXldLCBvYmoyW2tleV0pO1xuICAgICAgICBpZiAobmVzdGVkRGlmZikge1xuICAgICAgICAgICAgZGlmZltrZXldID0gbmVzdGVkRGlmZjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkaWZmO1xufVxuXG4vKipcbiAqIOmAgumFjeWZqOWHveaVsO+8jOeUqOS6juWwhuaXp+agvOW8j+eahOS6i+S7tuWvueixoe+8iOS9v+eUqOKAnOS6i+S7tuKAneWSjOKAnOaVsOaNruKAne+8iVxuICog5qCH5YeG5YyW5Li65paw5qC85byP77yI5L2/55So4oCcdHlwZeKAneWSjOKAnHBheWxvYWTigJ3vvInjgIJcbiAqIEBwYXJhbSBldmVudCAtIOS7u+S9leagvOW8j+eahOS6i+S7tuWvueixoeOAglxuICogQHJldHVybnMg5LiA5Liq56ym5ZCIR2FtZUV2ZW506KeE6IyD55qE44CB5qCH5YeG5YyW55qE5LqL5Lu25a+56LGh44CCXG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZUV2ZW50KGV2ZW50OiBhbnkpOiBQYXJ0aWFsPEdhbWVFdmVudD4ge1xuICAgIGNvbnN0IHR5cGUgPSBldmVudC50eXBlIHx8IGV2ZW50Wyfkuovku7YnXTtcbiAgICBsZXQgcGF5bG9hZCA9IGV2ZW50LnBheWxvYWQgfHwgZXZlbnRbJ+aVsOaNriddO1xuXG4gICAgLy8g5YW85a655oCn5L+u5aSN77ya5aSE55CG5pen55qE44CB5omB5bmz5YyW55qE4oCc5paw5Zu+6Ym05Y+R546w4oCd5LqL5Lu25qC85byPXG4gICAgaWYgKHR5cGUgPT09ICfmlrDlm77pibTlj5HnjrAnICYmIGV2ZW50WyfnsbvlnosnXSAmJiBldmVudFsn5pWw5o2uJ10pIHtcbiAgICAgICAgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgICfnsbvlnosnOiBldmVudFsn57G75Z6LJ10sXG4gICAgICAgICAgICAn5pWw5o2uJzogZXZlbnRbJ+aVsOaNriddXG4gICAgICAgIH07XG4gICAgfVxuICAgIFxuICAgIC8vIOWPqui/lOWbnuagh+WHhuWMlueahOaguOW/g+Wtl+aute+8jOmYsuatouaEj+WklueahOWxnuaAp+axoeafk1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGUsXG4gICAgICAgIHBheWxvYWQsXG4gICAgfTtcbn1cbi8vICNlbmRyZWdpb25cblxuLyoqXG4gKiDku47ljoblj7LorrDlvZXkuK3mj5Dlj5blubbov5Tlm57miKroh7PmjIflrprmtojmga9JROeahOaJgOacieS6i+S7tuOAglxuICogQHBhcmFtIGhpc3RvcnlNYW5hZ2VyIENoYXRIaXN0b3J5TWFuYWdlciDnmoTlrp7kvovjgIJcbiAqIEBwYXJhbSB0YXJnZXRNZXNzYWdlSWQg55uu5qCH5raI5oGvSUTjgIJcbiAqIEBwYXJhbSBzdGFydE1lc3NhZ2VJZCAo5Y+v6YCJKSDotbflp4vmtojmga9JRO+8jOWHveaVsOWwhuWPquiOt+WPluatpOa2iOaBr+S5i+WQjuWPkeeUn+eahOS6i+S7tuOAglxuICogQHJldHVybnMge0dhbWVFdmVudFtdfSDkuIDkuKrljIXlkKvmiYDmnInnm7jlhbPkuovku7bnmoTmlbDnu4TjgIJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEV2ZW50c1VudGlsKGhpc3RvcnlNYW5hZ2VyOiBDaGF0SGlzdG9yeU1hbmFnZXIsIHRhcmdldE1lc3NhZ2VJZDogc3RyaW5nLCBzdGFydE1lc3NhZ2VJZDogc3RyaW5nIHwgbnVsbCA9IG51bGwpOiBHYW1lRXZlbnRbXSB7XG4gICAgY29uc3QgYWxsRXZlbnRzOiBHYW1lRXZlbnRbXSA9IFtdO1xuICAgIGxvZ2dlcignbG9nJywgJ1ZhcmlhYmxlcycsIGBbZ2V0RXZlbnRzVW50aWxdIENhbGxlZCB3aXRoIHRhcmdldElkOiAke3RhcmdldE1lc3NhZ2VJZH0sIHN0YXJ0SWQ6ICR7c3RhcnRNZXNzYWdlSWR9YCk7XG4gICAgLy8g5bCGIHN0YXJ0TWVzc2FnZUlkIOS8oOmAkue7mSBoaXN0b3J5TWFuYWdlcu+8jOS7peWIqeeUqEwy5b+r54Wn6L+b6KGM5oCn6IO95LyY5YyWXG4gICAgY29uc3QgYWN0aXZlTWVzc2FnZXMgPSBoaXN0b3J5TWFuYWdlci5nZXRBY3RpdmVNZXNzYWdlc1VudGlsKHRhcmdldE1lc3NhZ2VJZCwgc3RhcnRNZXNzYWdlSWQpO1xuXG4gICAgaWYgKCFhY3RpdmVNZXNzYWdlcykge1xuICAgICAgICBsb2dnZXIoJ2Vycm9yJywgJ1ZhcmlhYmxlcycsIGBbZ2V0RXZlbnRzVW50aWxdIENvdWxkIG5vdCBmaW5kIG1lc3NhZ2UgcGF0aCBmb3IgdGFyZ2V0SWQ6ICR7dGFyZ2V0TWVzc2FnZUlkfWApO1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgbG9nZ2VyKCdsb2cnLCAnVmFyaWFibGVzJywgYFtnZXRFdmVudHNVbnRpbF0gRm91bmQgJHthY3RpdmVNZXNzYWdlcy5sZW5ndGh9IGFjdGl2ZSBtZXNzYWdlcyB0byBzY2FuIGZvciBldmVudHMuYCk7XG5cbiAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgYWN0aXZlTWVzc2FnZXMpIHtcbiAgICAgICAgbG9nZ2VyKCdsb2cnLCAnVmFyaWFibGVzJywgYFtnZXRFdmVudHNVbnRpbF0gU2Nhbm5pbmcgbWVzc2FnZSAke21lc3NhZ2UuaWR9YCk7XG4gICAgICAgIGNvbnN0IGpzb25TdHJpbmcgPSBtZXNzYWdlLmNvbnRlbnQgPyBleHRyYWN0SnNvbkZyb21TdGF0dXNCYXIobWVzc2FnZS5jb250ZW50KSA6IG51bGw7XG4gICAgICAgIGlmIChqc29uU3RyaW5nKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZEpzb24gPSBKU09OLnBhcnNlKGpzb25TdHJpbmcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50TGlzdCA9IHBhcnNlZEpzb25bJ+S6i+S7tuWIl+ihqCddIHx8IFtdO1xuICAgICAgICAgICAgICAgIGlmIChldmVudExpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIoJ2xvZycsICdWYXJpYWJsZXMnLCBgW2dldEV2ZW50c1VudGlsXSBGb3VuZCAke2V2ZW50TGlzdC5sZW5ndGh9IGV2ZW50cyBpbiBtZXNzYWdlICR7bWVzc2FnZS5pZH1gKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXZlbnRzRnJvbU1lc3NhZ2UgPSBldmVudExpc3RcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGV2ZW50OiBhbnkpID0+IG5vcm1hbGl6ZUV2ZW50KGV2ZW50KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKGV2ZW50OiBQYXJ0aWFsPEdhbWVFdmVudD4pOiBldmVudCBpcyBHYW1lRXZlbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZXZlbnQudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIoJ3dhcm4nLCAnVmFyaWFibGVzJywgYFtnZXRFdmVudHNVbnRpbF0gRmlsdGVyZWQgb3V0IGFuIGV2ZW50IHdpdGggbm8gdHlwZS5gLCBldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYWxsRXZlbnRzLnB1c2goLi4uZXZlbnRzRnJvbU1lc3NhZ2UgYXMgR2FtZUV2ZW50W10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIoJ3dhcm4nLCAnVmFyaWFibGVzJywgYFtnZXRFdmVudHNVbnRpbF0gSlNPTiBwYXJzaW5nIGZhaWxlZCBmb3IgbWVzc2FnZSAke21lc3NhZ2UuaWR9LmAsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGxvZ2dlcignbG9nJywgJ1ZhcmlhYmxlcycsIGBbZ2V0RXZlbnRzVW50aWxdIEZpbmlzaGVkLiBUb3RhbCBldmVudHMgZm91bmQ6ICR7YWxsRXZlbnRzLmxlbmd0aH1gKTtcbiAgICByZXR1cm4gYWxsRXZlbnRzO1xufVxuXG4vKipcbiAqIOWQjOatpeWPmOmHj+eahOS4u+WHveaVsOOAguWug+WwhuaWsOa2iOaBr+S6p+eUn+eahOS6i+S7tuWIhuWPkee7mSBFdmVudE1hbmFnZXLjgIJcbiAqIEBwYXJhbSBzdGF0dXNiYXJEYXRhIC0g5LuO54q25oCB5qCP6Kej5p6Q5Ye655qE5a6M5pW0SlNPTuWvueixoeOAglxuICogQHBhcmFtIG1lc3NhZ2VJZCAtIOeUn+aIkOatpOeKtuaAgeagj+eahOa2iOaBr+eahOWUr+S4gElE44CCXG4gKiBAcGFyYW0gZXZlbnRNYW5hZ2VyIFRoZSBpbnN0YW5jZSBvZiB0aGUgZXZlbnQgbWFuYWdlci5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN5bmNWYXJpYWJsZXMoc3RhdHVzYmFyRGF0YTogYW55LCBtZXNzYWdlSWQ6IHN0cmluZywgZXZlbnRNYW5hZ2VyOiBFdmVudE1hbmFnZXIpIHtcbiAgICBpZiAoIXN0YXR1c2JhckRhdGEgfHwgIW1lc3NhZ2VJZCkgcmV0dXJuO1xuICAgIGxvZ2dlcignaW5mbycsICdWYXJpYWJsZXMnLCBgW3N5bmNWYXJpYWJsZXNdIENhbGxlZCBmb3IgbWVzc2FnZUlkOiAke21lc3NhZ2VJZH1gLCBfLmNsb25lRGVlcChzdGF0dXNiYXJEYXRhKSk7XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBldmVudExpc3QgPSBzdGF0dXNiYXJEYXRhWyfkuovku7bliJfooagnXTtcbiAgICAgICAgLy8gY29uc3QgYWN0aW9uT3B0aW9ucyA9IHN0YXR1c2JhckRhdGFbJ+ihjOWKqOmAiemhuSddOyAvLyB2My4zOiDmj5Dlj5booYzliqjpgInpobnvvIzlsIbnlLHmuLLmn5PlmajlpITnkIZcblxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZXZlbnRMaXN0KSB8fCBldmVudExpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBsb2dnZXIoJ2xvZycsICdWYXJpYWJsZXMnLCBgW3N5bmNWYXJpYWJsZXNdIE5vICfkuovku7bliJfooagnIGZvdW5kIG9yIGl0J3MgZW1wdHkuIEFib3J0aW5nLmApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbmV3RXZlbnRzID0gZXZlbnRMaXN0XG4gICAgICAgICAgICAubWFwKChldmVudDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZEV2ZW50ID0gbm9ybWFsaXplRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLm5vcm1hbGl6ZWRFdmVudCxcbiAgICAgICAgICAgICAgICAgICAgc291cmNlTWVzc2FnZUlkOiBtZXNzYWdlSWQsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SWQ6IGBldnRfJHtEYXRlLm5vdygpfV8ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCA5KX1gLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmZpbHRlcigoZXZlbnQ6IFBhcnRpYWw8R2FtZUV2ZW50Pik6IGV2ZW50IGlzIEdhbWVFdmVudCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFldmVudC50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcignd2FybicsICdWYXJpYWJsZXMnLCBgW3N5bmNWYXJpYWJsZXNdIEZpbHRlcmVkIG91dCBhbiBldmVudCB3aXRoIG5vIHR5cGUuYCwgZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIGxvZ2dlcignbG9nJywgJ1ZhcmlhYmxlcycsIGBbc3luY1ZhcmlhYmxlc10gTm9ybWFsaXplZCAke25ld0V2ZW50cy5sZW5ndGh9IG5ldyBldmVudHMgdG8gYmUgZGlzcGF0Y2hlZC5gLCBfLmNsb25lRGVlcChuZXdFdmVudHMpKTtcblxuICAgICAgICAvLyDojrflj5blvZPliY3nirbmgIFcbiAgICAgICAgY29uc3QgY3VycmVudFZhcnMgPSBnZXRWYXJpYWJsZXMoeyB0eXBlOiAnY2hhdCcgfSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlciA9IF8uZ2V0KGN1cnJlbnRWYXJzLCAn6KeS6ImyJywge30pO1xuICAgICAgICBjb25zdCB3b3JsZCA9IF8uZ2V0KGN1cnJlbnRWYXJzLCAn5LiW55WMJywge30pO1xuXG4gICAgICAgIC8vIOehruS/neS6i+S7tuWIl+ihqOWtmOWcqFxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkod29ybGQu5LqL5Lu25YiX6KGoKSkge1xuICAgICAgICAgICAgd29ybGQu5LqL5Lu25YiX6KGoID0gW107XG4gICAgICAgIH1cblxuICAgICAgICAvLyDpgJrov4cgRXZlbnRNYW5hZ2VyIOWkhOeQhuaJgOacieS6i+S7tu+8jOiOt+WPluacgOe7iOeahOWujOaVtOeKtuaAgeWSjOaWsOS6i+S7tuaXpeW/l1xuICAgICAgICBjb25zdCB7IGZpbmFsU3RhdGUsIG5ld0V2ZW50czogcHJvY2Vzc2VkRXZlbnRzIH0gPSBhd2FpdCBldmVudE1hbmFnZXIucHJvY2Vzc0V2ZW50cyhuZXdFdmVudHMsIHsgJ+inkuiJsic6IGNoYXJhY3RlciwgJ+S4lueVjCc6IHdvcmxkIH0pO1xuXG4gICAgICAgIC8vIOWOn+WtkOWMluWcsOW6lOeUqOeKtuaAgeabtOaWsOW5tui/veWKoOS6i+S7tuWIsOaXpeW/l1xuICAgICAgICBpZiAocHJvY2Vzc2VkRXZlbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGF3YWl0IHVwZGF0ZVZhcmlhYmxlc1dpdGgoKHZhcnM6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIOaguOW/g+S/ruWkje+8muS4jeWGjeS9v+eUqCBtZXJnZe+8jOiAjOaYr+eUqCBFdmVudE1hbmFnZXIg6K6h566X5Ye655qE5pyA57uI54q25oCB5a6M5YWo5pu/5o2iXG4gICAgICAgICAgICAgICAgdmFycy7op5LoibIgPSBmaW5hbFN0YXRlLuinkuiJsjtcbiAgICAgICAgICAgICAgICB2YXJzLuS4lueVjCA9IGZpbmFsU3RhdGUu5LiW55WMO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIOehruS/neS6i+S7tuWIl+ihqOi3r+W+hOWtmOWcqCAo6Jm954S2IGZpbmFsU3RhdGUg5Lit5bqU6K+l5bey57uP5pyJ5LqGKVxuICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh2YXJzLuS4lueVjC7kuovku7bliJfooagpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhcnMu5LiW55WMLuS6i+S7tuWIl+ihqCA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyDlsIbmlrDlpITnkIbnmoTkuovku7bov73liqDliLDkuK3lpK7kuovku7bliJfooahcbiAgICAgICAgICAgICAgICB2YXJzLuS4lueVjC7kuovku7bliJfooagucHVzaCguLi5wcm9jZXNzZWRFdmVudHMpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHJldHVybiB2YXJzO1xuICAgICAgICAgICAgfSwgeyB0eXBlOiAnY2hhdCcgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxvZ2dlcignaW5mbycsICdWYXJpYWJsZXMnLCBgW3N5bmNWYXJpYWJsZXNdIFN0YXRlIGZ1bGx5IHVwZGF0ZWQgYW5kIGxvZ2dlZCAke3Byb2Nlc3NlZEV2ZW50cy5sZW5ndGh9IG5ldyBldmVudHMgZnJvbSBtZXNzYWdlICR7bWVzc2FnZUlkfS5gKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvZ2dlcignbG9nJywgJ1ZhcmlhYmxlcycsIGBbc3luY1ZhcmlhYmxlc10gRXZlbnRzIGZyb20gbWVzc2FnZSAke21lc3NhZ2VJZH0gcmVzdWx0ZWQgaW4gbm8gc3RhdGUgY2hhbmdlcyBvciBuZXcgZXZlbnRzLmApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWZ0ZXIgcHJvY2Vzc2luZywgbG9nIHRoZSBjdXJyZW50IHN0YXRlIG9mIHZhcmlhYmxlcyBmb3IgZGVidWdnaW5nLlxuICAgICAgICBjb25zdCBmaW5hbFZhcnMgPSBnZXRWYXJpYWJsZXMoeyB0eXBlOiAnY2hhdCcgfSk7XG4gICAgICAgIGxvZ2dlcignbG9nJywgJ1ZhcmlhYmxlcycsICdbUE9TVC1TWU5DXSBDdXJyZW50IGNoYXQgdmFyaWFibGVzOicsIF8uY2xvbmVEZWVwKGZpbmFsVmFycykpO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgbG9nZ2VyKCdlcnJvcicsICdWYXJpYWJsZXMnLCAnYHN5bmNWYXJpYWJsZXNgIGZhaWxlZC4nLCBlcnJvcik7XG4gICAgICAgIHRvYXN0ci5lcnJvcign5LqL5Lu25ZCM5q2l5aSx6LSl77yM6K+35p+l55yL5o6n5Yi25Y+w6I635Y+W6K+m5oOF44CCJyk7XG4gICAgfVxufVxuXG4vKipcbiAqIOS9v+eUqOaPkOS+m+eahOWvueixoeWujOWFqOimhuebluaJgOacieiBiuWkqeWPmOmHj+OAglxuICog5Li76KaB55So5LqO5LuO5a2Y5qGj5paH5Lu25Yqg6L2954q25oCB44CCXG4gKiBAcGFyYW0gZGF0YSAtIOimgeWGmeWFpeeahOWujOaVtOiBiuWkqeWPmOmHj+WvueixoeOAglxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gb3ZlcndyaXRlQWxsQ2hhdFZhcmlhYmxlcyhkYXRhOiBhbnkpIHtcbiAgbG9nZ2VyKCd3YXJuJywgJ1ZhcmlhYmxlcycsICdPdmVyd3JpdGluZyBhbGwgY2hhdCB2YXJpYWJsZXMgd2l0aCBwcm92aWRlZCBkYXRhLicsIGRhdGEpO1xuICB0cnkge1xuICAgIGF3YWl0IHVwZGF0ZVZhcmlhYmxlc1dpdGgoKGNoYXRWYXJzKSA9PiB7XG4gICAgICAgIC8vIOWFs+mUruS/ruWkje+8muS/neeVmUwz57yT5a2Y77yI5Yid5aeL54q25oCB77yJ5ZKMcGx1Z2luX3N0b3JhZ2VcbiAgICAgICAgY29uc3QgcHJlc2VydmVkTDMgPSBfLmdldChjaGF0VmFycywgJ+S4lueVjC7liJ3lp4vnirbmgIEnKTtcbiAgICAgICAgY29uc3QgcHJlc2VydmVkU3RvcmFnZSA9IGNoYXRWYXJzLnBsdWdpbl9zdG9yYWdlO1xuXG4gICAgICAgIC8vIOa4heepuuaJgOaciemhtue6p+mUru+8jOS9huS/neeVmUwz57yT5a2Y55u45YWz55qE57uT5p6EXG4gICAgICAgIE9iamVjdC5rZXlzKGNoYXRWYXJzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICAvLyDkv53nlZnmlbTkuKpcIuS4lueVjFwi5a+56LGh77yM5Zug5Li65YW25Lit5YyF5ZCr5Yid5aeL54q25oCBXG4gICAgICAgICAgICBpZiAoa2V5ICE9PSAn5LiW55WMJykge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBjaGF0VmFyc1trZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyDnlKjmlrDnmoTnirbmgIHmlbDmja7loavlhYVcbiAgICAgICAgT2JqZWN0LmFzc2lnbihjaGF0VmFycywgZGF0YSk7XG5cbiAgICAgICAgLy8g5oGi5aSN6KKr5L+d55WZ55qETDPnvJPlrZjlkozlhYPmlbDmja5cbiAgICAgICAgaWYgKHByZXNlcnZlZEwzKSB7XG4gICAgICAgICAgICAvLyDnoa7kv53kuJbnlYzlr7nosaHlrZjlnKhcbiAgICAgICAgICAgIGNoYXRWYXJzLuS4lueVjCA9IGNoYXRWYXJzLuS4lueVjCB8fCB7fTtcbiAgICAgICAgICAgIC8vIOaBouWkjeWIneWni+eKtuaAge+8jOS9huehruS/neS4jeimhueblmRhdGHkuK3lj6/og73ljIXlkKvnmoTmlrDliJ3lp4vnirbmgIFcbiAgICAgICAgICAgIGlmICghY2hhdFZhcnMu5LiW55WMLuWIneWni+eKtuaAgSkge1xuICAgICAgICAgICAgICAgIGNoYXRWYXJzLuS4lueVjC7liJ3lp4vnirbmgIEgPSBwcmVzZXJ2ZWRMMztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyKCdpbmZvJywgJ1ZhcmlhYmxlcycsICdMMyBjYWNoZSBhbHJlYWR5IGV4aXN0cyBpbiBuZXcgZGF0YSwgcHJlc2VydmluZyBleGlzdGluZyBMMy4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjaGF0VmFycy5wbHVnaW5fc3RvcmFnZSA9IHByZXNlcnZlZFN0b3JhZ2U7XG5cbiAgICAgICAgLy8gdjQuMSDlgaXlo67mgKfkv67lpI3vvJrnoa7kv53ku7vkvZXpgJrov4fmraTmlrnms5XlhpnlhaXnmoTnirbmgIHpg73lr7nliJvkuJblv6vnhafkuK3nmoRsbG1faGlzdG9yeei/m+ihjOa4heeQhu+8jOS7pemYsuatouaXp+WtmOaho+aIluaEj+WklueKtuaAgeWvvOiHtOmXrumimOOAglxuICAgICAgICBjb25zdCBpbml0aWFsU3RhdGVQYXRoID0gJ+S4lueVjC7liJ3lp4vnirbmgIEnO1xuICAgICAgICBpZiAoXy5oYXMoY2hhdFZhcnMsIGluaXRpYWxTdGF0ZVBhdGgpKSB7XG4gICAgICAgICAgICBjb25zdCBsM0hpc3RvcnlQYXRoID0gYCR7aW5pdGlhbFN0YXRlUGF0aH0ucGx1Z2luX3N0b3JhZ2UubGxtX2hpc3RvcnlgO1xuICAgICAgICAgICAgaWYgKF8uaGFzKGNoYXRWYXJzLCBsM0hpc3RvcnlQYXRoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGwzSGlzdG9yeSA9IF8uZ2V0KGNoYXRWYXJzLCBsM0hpc3RvcnlQYXRoKTtcbiAgICAgICAgICAgICAgICBpZiAobDNIaXN0b3J5ICYmIEFycmF5LmlzQXJyYXkobDNIaXN0b3J5KSAmJiBsM0hpc3RvcnkubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIoJ3dhcm4nLCAnVmFyaWFibGVzJywgYFtMMyBTYW5pdGl6ZSBAIE92ZXJ3cml0ZV0gSW5pdGlhbCBzdGF0ZSBjb250YWlucyAke2wzSGlzdG9yeS5sZW5ndGh9IGxsbV9oaXN0b3J5IGVudHJpZXMuIFRyaW1taW5nIHRvIGZpcnN0IGVudHJ5IGZvciBzdGFiaWxpdHkuYCk7XG4gICAgICAgICAgICAgICAgICAgIF8uc2V0KGNoYXRWYXJzLCBsM0hpc3RvcnlQYXRoLCBsM0hpc3Rvcnkuc2xpY2UoMCwgMSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGNoYXRWYXJzO1xuICAgIH0sIHsgdHlwZTogJ2NoYXQnIH0pO1xuICAgIGxvZ2dlcignaW5mbycsICdWYXJpYWJsZXMnLCAnU3VjY2Vzc2Z1bGx5IG92ZXJ3cm90ZSBjaGF0IHZhcmlhYmxlcyB3aGlsZSBwcmVzZXJ2aW5nIEwzIGNhY2hlIGFuZCBtZXRhZGF0YS4nKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2dnZXIoJ2Vycm9yJywgJ1ZhcmlhYmxlcycsICdGYWlsZWQgdG8gb3ZlcndyaXRlIGNoYXQgdmFyaWFibGVzLicsIGVycm9yKTtcbiAgICB0b2FzdHIuZXJyb3IoJ+WKoOi9veeKtuaAgeWksei0pe+8jOivpuaDheivt+afpeeci+aOp+WItuWPsOOAgicpO1xuICB9XG59XG5cbi8qKlxuICog5riF6Zmk5omA5pyJ6IGK5aSp5Y+Y6YeP77yM55So5LqO5byA5aeL5paw5ri45oiP44CCXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbGVhckFsbENoYXRWYXJpYWJsZXMoKSB7XG4gIGxvZ2dlcignd2FybicsICdWYXJpYWJsZXMnLCAnQ2xlYXJpbmcgYWxsIGNoYXQgdmFyaWFibGVzIGZvciBhIG5ldyBnYW1lLicpO1xuICB0cnkge1xuICAgIGF3YWl0IHVwZGF0ZVZhcmlhYmxlc1dpdGgoKGNoYXRWYXJzKSA9PiB7XG4gICAgICAgIE9iamVjdC5rZXlzKGNoYXRWYXJzKS5mb3JFYWNoKGtleSA9PiBkZWxldGUgY2hhdFZhcnNba2V5XSk7XG4gICAgICAgIHJldHVybiBjaGF0VmFycztcbiAgICB9LCB7IHR5cGU6ICdjaGF0JyB9KTtcbiAgICBsb2dnZXIoJ2luZm8nLCAnVmFyaWFibGVzJywgJ1N1Y2Nlc3NmdWxseSBjbGVhcmVkIGFsbCBjaGF0IHZhcmlhYmxlcy4nKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2dnZXIoJ2Vycm9yJywgJ1ZhcmlhYmxlcycsICdGYWlsZWQgdG8gY2xlYXIgY2hhdCB2YXJpYWJsZXMuJywgZXJyb3IpO1xuICAgIHRvYXN0ci5lcnJvcign5riF6Zmk5ri45oiP5pWw5o2u5aSx6LSl77yM6K+m5oOF6K+35p+l55yL5o6n5Yi25Y+w44CCJyk7XG4gICAgfVxufVxuXG4vKipcbiAqICh2Mi43KSDmoLnmja7kuovku7bljoblj7LorqHnrpfnirbmgIHvvIzkvYbkuI3lsIblhbblupTnlKjliLDlhajlsYDlj5jph4/kuK3jgIJcbiAqIOi/meaYr+S4gOS4que6r+iuoeeul+WHveaVsO+8jOeUqOS6juiOt+WPlueJueWumuWOhuWPsueCueeahOeKtuaAgeW/q+eFp+OAglxuICogQHBhcmFtIGhpc3RvcnlNYW5hZ2VyIENoYXRIaXN0b3J5TWFuYWdlciDnmoTlrp7kvovjgIJcbiAqIEBwYXJhbSB0YXJnZXRNZXNzYWdlSWQg55uu5qCH5raI5oGvSUTvvIzlsIborqHnrpfliLDmraTmtojmga/kuLrmraLnmoTnirbmgIHjgIJcbiAqIEBwYXJhbSBldmVudE1hbmFnZXIgRXZlbnRNYW5hZ2VyIOeahOWunuS+i+OAglxuICogQHJldHVybnMge1Byb21pc2U8YW55IHwgbnVsbD59IOiuoeeul+WHuueahOeKtuaAgeWvueixoe+8jOWmguaenOWksei0peWImei/lOWbniBudWxs44CCXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjYWxjdWxhdGVTdGF0ZVVudGlsKGhpc3RvcnlNYW5hZ2VyOiBDaGF0SGlzdG9yeU1hbmFnZXIsIHRhcmdldE1lc3NhZ2VJZDogc3RyaW5nLCBldmVudE1hbmFnZXI6IEV2ZW50TWFuYWdlcik6IFByb21pc2U8YW55IHwgbnVsbD4ge1xuICAgIGxvZ2dlcignbG9nJywgJ1N0YXRlQ2FsYycsIGA9PT09PT0gU1RBVEUgQ0FMQ1VMQVRJT04gU1RBUlQgZm9yIG1lc3NhZ2U6ICR7dGFyZ2V0TWVzc2FnZUlkfSA9PT09PT1gKTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBhbGxWYXJzID0gZ2V0VmFyaWFibGVzKHsgdHlwZTogJ2NoYXQnIH0pO1xuICAgICAgICBsb2dnZXIoJ2xvZycsICdTdGF0ZUNhbGMnLCBgW0RFQlVHXSAxLiBHb3QgYWxsVmFycy5gKTtcblxuICAgICAgICBjb25zdCBjb29yZHMgPSBoaXN0b3J5TWFuYWdlci5nZXRSYXdIaXN0b3J5KCkubWV0YWRhdGFbdGFyZ2V0TWVzc2FnZUlkXTtcbiAgICAgICAgaWYgKCFjb29yZHMpIHtcbiAgICAgICAgICAgIGxvZ2dlcignZXJyb3InLCAnU3RhdGVDYWxjJywgYENvdWxkIG5vdCBmaW5kIGNvb3JkaW5hdGVzIGZvciB0YXJnZXQgbWVzc2FnZSAke3RhcmdldE1lc3NhZ2VJZH0uIEFib3J0aW5nLmApO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2VyKCdsb2cnLCAnU3RhdGVDYWxjJywgYFtERUJVR10gMi4gRm91bmQgY29vcmRpbmF0ZXMgZm9yIG1lc3NhZ2U6YCwgY29vcmRzKTtcbiAgICAgICAgY29uc3QgYnJhbmNoSWQgPSBjb29yZHMuYnJhbmNoSWQ7XG5cbiAgICAgICAgY29uc3QgYnJhbmNoU25hcHNob3RzID0gXy5nZXQoYWxsVmFycywgYOS4lueVjC7nirbmgIHlv6vnhacuJHticmFuY2hJZH1gLCB7fSk7XG4gICAgICAgIC8vIOS/ruato++8mueri+WNs+WFi+mahuWIm+S4luW/q+eFp++8jOS7pemBv+WFjeWcqOa4heeQhmxsbV9oaXN0b3J55pe25Lqn55Sf5Ymv5L2c55So44CCXG4gICAgICAgIGxldCBpbml0aWFsU25hcHNob3QgPSBfLmNsb25lRGVlcChfLmdldChhbGxWYXJzLCAn5LiW55WMLuWIneWni+eKtuaAgScpKTtcblxuICAgICAgICBpZiAoIWluaXRpYWxTbmFwc2hvdCkge1xuICAgICAgICAgICAgbG9nZ2VyKCd3YXJuJywgJ1ZhcmlhYmxlcycsICdbVEVNUF9TVEFURV9DQUxDXSBHZW5lc2lzIHNuYXBzaG90IGlzIG1pc3NpbmcuIFRyeWluZyBiYWNrdXAuJyk7XG4gICAgICAgICAgICBpbml0aWFsU25hcHNob3QgPSBfLmNsb25lRGVlcChfLmdldChhbGxWYXJzLCAn5aSH5Lu9LuWIneWni+eKtuaAgeWkh+S7vScpKTtcbiAgICAgICAgICAgIGlmICghaW5pdGlhbFNuYXBzaG90KSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyKCdlcnJvcicsICdWYXJpYWJsZXMnLCAnW1RFTVBfU1RBVEVfQ0FMQ10gR2VuZXNpcyBzbmFwc2hvdCBhbmQgYmFja3VwIGFyZSBib3RoIG1pc3NpbmcuIEFib3J0aW5nLicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxvZ2dlcignbG9nJywgJ1N0YXRlQ2FsYycsIGBbREVCVUddIDMuIEdlbmVzaXMgc25hcHNob3QgZm91bmQgYW5kIGNsb25lZC5gKTtcblxuICAgICAgICAvLyB2NC4xIENIQVRfRkxPV19TUEVDIOmAgumFjTog5Zyo5YWL6ZqG5Ye655qE5b+r54Wn5Ymv5pys5LiK6L+b6KGM5riF55CG77yM56Gu5L+d6YeN566X56iz5a6a5oCn44CCXG4gICAgICAgIC8vIOi/meS9v+W+l+eKtuaAgemHjeeul+mAu+i+keS4jeS+nei1luS6jua4suafk+WZqOS4reeahOmihOa4heeQhuatpemqpOOAglxuICAgICAgICBjb25zdCBsM0hpc3RvcnlQYXRoID0gJ3BsdWdpbl9zdG9yYWdlLmxsbV9oaXN0b3J5JztcbiAgICAgICAgaWYgKF8uaGFzKGluaXRpYWxTbmFwc2hvdCwgbDNIaXN0b3J5UGF0aCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGwzSGlzdG9yeSA9IF8uZ2V0KGluaXRpYWxTbmFwc2hvdCwgbDNIaXN0b3J5UGF0aCk7XG4gICAgICAgICAgICBpZiAobDNIaXN0b3J5ICYmIEFycmF5LmlzQXJyYXkobDNIaXN0b3J5KSAmJiBsM0hpc3RvcnkubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGxvZ2dlcignd2FybicsICdTdGF0ZUNhbGMnLCBgW0wzIFNhbml0aXplXSBHZW5lc2lzIHNuYXBzaG90IGNvbnRhaW5zICR7bDNIaXN0b3J5Lmxlbmd0aH0gbGxtX2hpc3RvcnkgZW50cmllcy4gVHJpbW1pbmcgdG8gZmlyc3QgZW50cnkgZm9yIGNhbGN1bGF0aW9uIHN0YWJpbGl0eS5gKTtcbiAgICAgICAgICAgICAgICBfLnNldChpbml0aWFsU25hcHNob3QsIGwzSGlzdG9yeVBhdGgsIGwzSGlzdG9yeS5zbGljZSgwLCAxKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyAxLiDlr7vmib7mnIDkvJjnmoTotbflp4vlv6vnhadcbiAgICAgICAgY29uc3QgdGFyZ2V0TWVzc2FnZUluZGV4ID0gaGlzdG9yeU1hbmFnZXIuZ2V0TWVzc2FnZUluZGV4KHRhcmdldE1lc3NhZ2VJZCk7XG4gICAgICAgIGxldCBiZXN0U25hcHNob3RNZXNzYWdlSWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgICAgICBsZXQgYmVzdFNuYXBzaG90SW5kZXggPSAtMTtcblxuICAgICAgICBsb2dnZXIoJ2xvZycsICdTdGF0ZUNhbGMnLCBgU2VhcmNoaW5nIGZvciB0aGUgYmVzdCBzbmFwc2hvdCBpbiBicmFuY2ggXCIke2JyYW5jaElkfVwiIGJlZm9yZSBtZXNzYWdlICR7dGFyZ2V0TWVzc2FnZUlkfSAoaW5kZXggJHt0YXJnZXRNZXNzYWdlSW5kZXh9KS4uLmApO1xuICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2VJZCBpbiBicmFuY2hTbmFwc2hvdHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYnJhbmNoU25hcHNob3RzW21lc3NhZ2VJZF07XG4gICAgICAgICAgICBpZiAoc25hcHNob3QgJiYgc25hcHNob3QudmVyc2lvbiA9PT0gTE9DQUxfVkVSU0lPTikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90SW5kZXggPSBoaXN0b3J5TWFuYWdlci5nZXRNZXNzYWdlSW5kZXgobWVzc2FnZUlkKTtcbiAgICAgICAgICAgICAgICBpZiAoc25hcHNob3RJbmRleCAhPT0gLTEgJiYgc25hcHNob3RJbmRleCA8IHRhcmdldE1lc3NhZ2VJbmRleCAmJiBzbmFwc2hvdEluZGV4ID4gYmVzdFNuYXBzaG90SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgYmVzdFNuYXBzaG90SW5kZXggPSBzbmFwc2hvdEluZGV4O1xuICAgICAgICAgICAgICAgICAgICBiZXN0U25hcHNob3RNZXNzYWdlSWQgPSBtZXNzYWdlSWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIoJ3dhcm4nLCAnU3RhdGVDYWxjJywgYFtST0JVU1RORVNTXSBTbmFwc2hvdCAke21lc3NhZ2VJZH0gaGFzIGluY29tcGF0aWJsZSB2ZXJzaW9uICgke3NuYXBzaG90Py52ZXJzaW9ufSkuIFNraXBwaW5nLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxvZ2dlcignbG9nJywgJ1N0YXRlQ2FsYycsIGBbREVCVUddIDQuIFNuYXBzaG90IHNlYXJjaCBjb21wbGV0ZS4gQmVzdCBzbmFwc2hvdCBmb3VuZDogJHtiZXN0U25hcHNob3RNZXNzYWdlSWR9YCk7XG5cbiAgICAgICAgbGV0IHN0YXJ0U3RhdGU7XG4gICAgICAgIGxldCBzdGFydE1lc3NhZ2VJZDtcblxuICAgICAgICBpZiAoYmVzdFNuYXBzaG90TWVzc2FnZUlkICYmIGJyYW5jaFNuYXBzaG90c1tiZXN0U25hcHNob3RNZXNzYWdlSWRdKSB7XG4gICAgICAgICAgICBzdGFydFN0YXRlID0gXy5jbG9uZURlZXAoYnJhbmNoU25hcHNob3RzW2Jlc3RTbmFwc2hvdE1lc3NhZ2VJZF0pO1xuICAgICAgICAgICAgc3RhcnRNZXNzYWdlSWQgPSBiZXN0U25hcHNob3RNZXNzYWdlSWQ7XG4gICAgICAgICAgICBsb2dnZXIoJ2luZm8nLCAnU3RhdGVDYWxjJywgYEZvdW5kIG9wdGltYWwgc25hcHNob3QgdG8gc3RhcnQgZnJvbTogJHtzdGFydE1lc3NhZ2VJZH0gKHZlcnNpb24gJHticmFuY2hTbmFwc2hvdHNbYmVzdFNuYXBzaG90TWVzc2FnZUlkXS52ZXJzaW9ufSlgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YXJ0U3RhdGUgPSBpbml0aWFsU25hcHNob3Q7IC8vIOaXoOmcgOWGjeasoeWFi+mahu+8jOWboOS4uuWcqOW8gOWni+aXtuW3sue7j+WFi+mahui/h+S6hlxuICAgICAgICAgICAgc3RhcnRNZXNzYWdlSWQgPSBudWxsO1xuICAgICAgICAgICAgbG9nZ2VyKCdpbmZvJywgJ1N0YXRlQ2FsYycsICdObyBzdWl0YWJsZSBzbmFwc2hvdCBmb3VuZC4gU3RhcnRpbmcgZnJvbSBnZW5lc2lzIHNuYXBzaG90LicpO1xuICAgICAgICB9XG4gICAgICAgIGxvZ2dlcignbG9nJywgJ1N0YXRlQ2FsYycsIGBbREVCVUddIDUuIERldGVybWluZWQgc3RhcnRTdGF0ZS4gU3RhcnRpbmcgZnJvbTogJHtzdGFydE1lc3NhZ2VJZCB8fCAnZ2VuZXNpcyd9YCk7XG4gICAgICAgIFxuICAgICAgICAvLyAyLiDojrflj5bpnIDopoHph43mlL7nmoTkuovku7ZcbiAgICAgICAgY29uc3QgZXZlbnRzVG9SZXBsYXkgPSBnZXRFdmVudHNVbnRpbChoaXN0b3J5TWFuYWdlciwgdGFyZ2V0TWVzc2FnZUlkLCBzdGFydE1lc3NhZ2VJZCk7XG4gICAgICAgIGxvZ2dlcignbG9nJywgJ1N0YXRlQ2FsYycsIGBGb3VuZCAke2V2ZW50c1RvUmVwbGF5Lmxlbmd0aH0gZXZlbnRzIHRvIHJlcGxheSBiZXR3ZWVuIHNuYXBzaG90IGFuZCB0YXJnZXQuYCk7XG4gICAgICAgIGxvZ2dlcignbG9nJywgJ1N0YXRlQ2FsYycsIGBbREVCVUddIDYuIEdvdCBldmVudHMgdG8gcmVwbGF5OmAsIF8uY2xvbmVEZWVwKGV2ZW50c1RvUmVwbGF5KSk7XG5cbiAgICAgICAgLy8gW1JPQlVTVE5FU1NdIOW/q+mAn+mAmumBk++8muWmguaenOayoeacieS6i+S7tumcgOimgemHjeaUvu+8jOebtOaOpei/lOWbnui1t+Wni+eKtuaAgVxuICAgICAgICBpZiAoZXZlbnRzVG9SZXBsYXkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBsb2dnZXIoJ2luZm8nLCAnU3RhdGVDYWxjJywgJ1tGYXN0IFBhdGhdIE5vIGV2ZW50cyB0byByZXBsYXkuIFJldHVybmluZyBzdGFydCBzdGF0ZSBkaXJlY3RseS4nKTtcbiAgICAgICAgICAgIGxvZ2dlcignaW5mbycsICdTdGF0ZUNhbGMnLCBgPT09PT09IFNUQVRFIENBTENVTEFUSU9OIEVORCBmb3IgbWVzc2FnZTogJHt0YXJnZXRNZXNzYWdlSWR9ID09PT09PWApO1xuICAgICAgICAgICAgcmV0dXJuIHN0YXJ0U3RhdGU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyAzLiDph43mlL7kuovku7ZcbiAgICAgICAgY29uc3QgcmVjYWxjdWxhdGVkU3RhdGUgPSBzdGFydFN0YXRlO1xuICAgICAgICBjb25zdCBwcm9jZXNzaW5nQ29udGV4dCA9IHtcbiAgICAgICAgICAgICfop5LoibInOiByZWNhbGN1bGF0ZWRTdGF0ZS7op5LoibIgfHwge30sXG4gICAgICAgICAgICAn5LiW55WMJzogcmVjYWxjdWxhdGVkU3RhdGUu5LiW55WMIHx8IHt9LFxuICAgICAgICB9O1xuICAgICAgICBsb2dnZXIoJ2xvZycsICdTdGF0ZUNhbGMnLCBgW0RFQlVHXSA3LiBJbml0aWFsaXppbmcgcHJvY2Vzc2luZyBjb250ZXh0IGZvciBldmVudCByZXBsYXkuYCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBldmVudCBvZiBldmVudHNUb1JlcGxheSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBsb2dnZXIoJ2xvZycsICdTdGF0ZUNhbGMnLCBgICAtPiBSZXBsYXlpbmcgZXZlbnQ6ICR7ZXZlbnQudHlwZX1gLCBldmVudC5wYXlsb2FkKTtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IGV2ZW50TWFuYWdlci5oYW5kbGVyc1tldmVudC50eXBlXTtcbiAgICAgICAgICAgICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZSA9IGF3YWl0IGhhbmRsZXIuZXhlY3V0ZShldmVudC5wYXlsb2FkLCBwcm9jZXNzaW5nQ29udGV4dCwgZXZlbnRNYW5hZ2VyLCBldmVudE1hbmFnZXIucG9rZWRleE1hbmFnZXIpO1xuICAgICAgICAgICAgICAgICAgICBfLm1lcmdlKHByb2Nlc3NpbmdDb250ZXh0LCB1cGRhdGUpO1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIoJ2xvZycsICdTdGF0ZUNhbGMnLCBgICAtPiBFdmVudCAke2V2ZW50LnR5cGV9IHJlcGxheWVkIHN1Y2Nlc3NmdWxseS5gKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIoJ3dhcm4nLCAnU3RhdGVDYWxjJywgYCAgLT4gTm8gaGFuZGxlciBmb3VuZCBmb3IgZXZlbnQgdHlwZTogJHtldmVudC50eXBlfS4gU2tpcHBpbmcuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGxvZ2dlcignZXJyb3InLCAnU3RhdGVDYWxjJywgYFtST0JVU1RORVNTXSBGYWlsZWQgdG8gcmVwbGF5IGFuIGV2ZW50LiBTa2lwcGluZy5gLCB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogKGUgYXMgRXJyb3IpLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50RGV0YWlsczogZXZlbnQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXy5tZXJnZShyZWNhbGN1bGF0ZWRTdGF0ZSwgcHJvY2Vzc2luZ0NvbnRleHQpO1xuICAgICAgICBcbiAgICAgICAgLy8g56Gu5L+dIHBsdWdpbl9zdG9yYWdlIOiiq+ato+ehruWcsOS/neeVmVxuICAgICAgICBpZiAoYWxsVmFycy5wbHVnaW5fc3RvcmFnZSkge1xuICAgICAgICAgICAgcmVjYWxjdWxhdGVkU3RhdGUucGx1Z2luX3N0b3JhZ2UgPSBfLmNsb25lRGVlcChhbGxWYXJzLnBsdWdpbl9zdG9yYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHYzLjUg5qC45b+D5a6J5YWo5pu05paw77ya5Zyo6L+U5Zue5YmN77yM57K+56Gu6L+H5ruk54q25oCB77yM5Y+q5L+d55WZ55m95ZCN5Y2V5YaF55qE6aG257qn6ZSuXG4gICAgICAgIGNvbnN0IGZpbHRlcmVkU3RhdGUgPSBfLnBpY2socmVjYWxjdWxhdGVkU3RhdGUsIFsn6KeS6ImyJywgJ+S4lueVjCcsICdwbHVnaW5fc3RvcmFnZSddKTtcblxuICAgICAgICBsb2dnZXIoJ2luZm8nLCAnU3RhdGVDYWxjJywgYD09PT09PSBTVEFURSBDQUxDVUxBVElPTiBFTkQgZm9yIG1lc3NhZ2U6ICR7dGFyZ2V0TWVzc2FnZUlkfSA9PT09PT1gKTtcbiAgICAgICAgcmV0dXJuIGZpbHRlcmVkU3RhdGU7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBsb2dnZXIoJ2Vycm9yJywgJ1N0YXRlQ2FsYycsICdgY2FsY3VsYXRlU3RhdGVVbnRpbGAgcmF3IGVycm9yOicsIGVycm9yKTtcbiAgICAgICAgbG9nZ2VyKCdlcnJvcicsICdTdGF0ZUNhbGMnLCAnYGNhbGN1bGF0ZVN0YXRlVW50aWxgIGVycm9yIG1lc3NhZ2U6JywgKGVycm9yIGFzIEVycm9yKS5tZXNzYWdlKTtcbiAgICAgICAgbG9nZ2VyKCdlcnJvcicsICdTdGF0ZUNhbGMnLCAnYGNhbGN1bGF0ZVN0YXRlVW50aWxgIGVycm9yIHN0YWNrOicsIChlcnJvciBhcyBFcnJvcikuc3RhY2spO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cbi8qKlxuICog5bCG5oyH5a6a55qE54q25oCB5L+d5a2Y5Li6TDLnvJPlrZjvvIjnirbmgIHlv6vnhafvvInjgIJcbiAqIEBwYXJhbSBtZXNzYWdlSWQgLSDkvZzkuLrlv6vnhafntKLlvJXnmoTmtojmga9JROOAglxuICogQHBhcmFtIHN0YXRlVG9TYXZlIC0g6KaB5L+d5a2Y55qE5a6M5pW054q25oCB5a+56LGh44CCXG4gKiBAcGFyYW0gaGlzdG9yeU1hbmFnZXIgLSBDaGF0SGlzdG9yeU1hbmFnZXLnmoTlrp7kvovvvIznlKjkuo7ojrflj5bliIbmlK9JROOAglxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2F2ZVN0YXRlU25hcHNob3QobWVzc2FnZUlkOiBzdHJpbmcsIHN0YXRlVG9TYXZlOiBhbnksIGhpc3RvcnlNYW5hZ2VyOiBDaGF0SGlzdG9yeU1hbmFnZXIpIHtcbiAgICBjb25zdCBjb29yZHMgPSBoaXN0b3J5TWFuYWdlci5nZXRSYXdIaXN0b3J5KCkubWV0YWRhdGFbbWVzc2FnZUlkXTtcbiAgICBpZiAoIWNvb3Jkcykge1xuICAgICAgICBsb2dnZXIoJ2Vycm9yJywgJ1ZhcmlhYmxlcycsIGBbc2F2ZVN0YXRlU25hcHNob3RdIENhbm5vdCBzYXZlIHNuYXBzaG90LCBubyBjb29yZGluYXRlcyBmb3VuZCBmb3IgbWVzc2FnZSAke21lc3NhZ2VJZH0uYCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgYnJhbmNoSWQgPSBjb29yZHMuYnJhbmNoSWQ7XG4gICAgY29uc3Qgc25hcHNob3RQYXRoID0gYOS4lueVjC7nirbmgIHlv6vnhacuJHticmFuY2hJZH0uJHttZXNzYWdlSWR9YDtcblxuICAgIC8vIOS4uuW/q+eFp+a3u+WKoOeJiOacrOS/oeaBr1xuICAgIGNvbnN0IGNsZWFuU3RhdGVUb1NhdmUgPSBfLmNsb25lRGVlcChzdGF0ZVRvU2F2ZSk7XG4gICAgLy8g5a6J5YWo5L+u5aSN77ya56Gu5L+dIHBsdWdpbl9zdG9yYWdlIOS4jeS8muiiq+S/neWtmOWIsOS7u+S9leeKtuaAgeW/q+eFp+S4rVxuICAgIGlmIChjbGVhblN0YXRlVG9TYXZlLnBsdWdpbl9zdG9yYWdlKSB7XG4gICAgICAgIGRlbGV0ZSBjbGVhblN0YXRlVG9TYXZlLnBsdWdpbl9zdG9yYWdlO1xuICAgICAgICBsb2dnZXIoJ3dhcm4nLCAnVmFyaWFibGVzJywgJ1tMMiBDYWNoZV0gUmVtb3ZlZCBgcGx1Z2luX3N0b3JhZ2VgIGJlZm9yZSBzYXZpbmcgc25hcHNob3QgdG8gbWFpbnRhaW4gc3RhdGUgcHVyaXR5LicpO1xuICAgIH1cblxuICAgIC8vIHY0LjIg5qC45b+D5L+u5aSN77ya5LuO6KaB5L+d5a2Y55qE54q25oCB5Lit56e76Zmk5Yid5aeL54q25oCB5ZKM54q25oCB5b+r54Wn5pys6Lqr77yM6Ziy5q2i6YCS5b2S5bWM5aWX5ZKM5pWw5o2u5YaX5L2ZXG4gICAgaWYgKF8uaGFzKGNsZWFuU3RhdGVUb1NhdmUsICfkuJbnlYwu5Yid5aeL54q25oCBJykpIHtcbiAgICAgICAgZGVsZXRlIGNsZWFuU3RhdGVUb1NhdmUu5LiW55WMLuWIneWni+eKtuaAgTtcbiAgICAgICAgbG9nZ2VyKCd3YXJuJywgJ1ZhcmlhYmxlcycsICdbTDIgQ2FjaGVdIFJlbW92ZWQgYOS4lueVjC7liJ3lp4vnirbmgIFgIGJlZm9yZSBzYXZpbmcgc25hcHNob3QgdG8gcHJldmVudCByZWN1cnNpb24uJyk7XG4gICAgfVxuICAgIGlmIChfLmhhcyhjbGVhblN0YXRlVG9TYXZlLCAn5LiW55WMLueKtuaAgeW/q+eFpycpKSB7XG4gICAgICAgIGRlbGV0ZSBjbGVhblN0YXRlVG9TYXZlLuS4lueVjC7nirbmgIHlv6vnhac7XG4gICAgICAgIGxvZ2dlcignd2FybicsICdWYXJpYWJsZXMnLCAnW0wyIENhY2hlXSBSZW1vdmVkIGDkuJbnlYwu54q25oCB5b+r54WnYCBiZWZvcmUgc2F2aW5nIHNuYXBzaG90IHRvIHByZXZlbnQgcmVjdXJzaW9uLicpO1xuICAgIH1cblxuICAgIGNvbnN0IHNuYXBzaG90V2l0aFZlcnNpb24gPSB7XG4gICAgICAgIC4uLmNsZWFuU3RhdGVUb1NhdmUsXG4gICAgICAgIHZlcnNpb246IExPQ0FMX1ZFUlNJT04sXG4gICAgfTtcblxuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHVwZGF0ZVZhcmlhYmxlc1dpdGgoKHZhcnM6IGFueSkgPT4ge1xuICAgICAgICAgICAgLy8g5YGl5aOu5oCn5L+u5aSN77ya56Gu5L+d6Lev5b6E5LiK55qE5omA5pyJ5a+56LGh6YO95a2Y5Zyo77yM5Lul6ZiyIF8uc2V0IOWcqOafkOS6m+eOr+Wig+S4i+S4jeaUr+aMgeiHquWKqOWIm+W7ulxuICAgICAgICAgICAgaWYgKCF2YXJzLuS4lueVjCkge1xuICAgICAgICAgICAgICAgIHZhcnMu5LiW55WMID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXZhcnMu5LiW55WMLueKtuaAgeW/q+eFpykge1xuICAgICAgICAgICAgICAgIHZhcnMu5LiW55WMLueKtuaAgeW/q+eFpyA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF2YXJzLuS4lueVjC7nirbmgIHlv6vnhadbYnJhbmNoSWRdKSB7XG4gICAgICAgICAgICAgICAgdmFycy7kuJbnlYwu54q25oCB5b+r54WnW2JyYW5jaElkXSA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8g546w5Zyo6Lev5b6E5piv5a6J5YWo55qE77yM5Y+v5Lul6L+b6KGM6K6+572uXG4gICAgICAgICAgICBfLnNldCh2YXJzLCBzbmFwc2hvdFBhdGgsIHNuYXBzaG90V2l0aFZlcnNpb24pO1xuICAgICAgICAgICAgcmV0dXJuIHZhcnM7XG4gICAgICAgIH0sIHsgdHlwZTogJ2NoYXQnIH0pO1xuICAgICAgICBsb2dnZXIoJ2luZm8nLCAnVmFyaWFibGVzJywgYFtMMiBDYWNoZV0gU3VjY2Vzc2Z1bGx5IHNhdmVkIHN0YXRlIHNuYXBzaG90IGZvciBtZXNzYWdlICR7bWVzc2FnZUlkfSBpbiBicmFuY2ggJHticmFuY2hJZH0uYCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgbG9nZ2VyKCdlcnJvcicsICdWYXJpYWJsZXMnLCBgW0wyIENhY2hlXSBGYWlsZWQgdG8gc2F2ZSBzbmFwc2hvdCBmb3IgbWVzc2FnZSAke21lc3NhZ2VJZH0uYCwgZXJyb3IpO1xuICAgIH1cbn1cblxuXG4vKipcbiAqICh2Mi42KSDku47kuovku7bljoblj7LkuK3ph43nrpflubblupTnlKjnirbmgIHvvIzlt7LpgJrov4fnirbmgIHlv6vnhafov5vooYzmgKfog73kvJjljJbjgIJcbiAqIEBwYXJhbSBoaXN0b3J5TWFuYWdlciBDaGF0SGlzdG9yeU1hbmFnZXIg55qE5a6e5L6L44CCXG4gKiBAcGFyYW0gdGFyZ2V0TWVzc2FnZUlkIOebruagh+a2iOaBr0lE77yM5bCG6YeN566X5Yiw5q2k5raI5oGv5Li65q2i55qE54q25oCB44CCXG4gKiBAcGFyYW0gZXZlbnRNYW5hZ2VyIFRoZSBpbnN0YW5jZSBvZiB0aGUgZXZlbnQgbWFuYWdlci5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlY2FsY3VsYXRlQW5kQXBwbHlTdGF0ZShoaXN0b3J5TWFuYWdlcjogQ2hhdEhpc3RvcnlNYW5hZ2VyLCB0YXJnZXRNZXNzYWdlSWQ6IHN0cmluZywgZXZlbnRNYW5hZ2VyOiBFdmVudE1hbmFnZXIpIHtcbiAgICBsb2dnZXIoJ2luZm8nLCAnVmFyaWFibGVzJywgYFtTV0lQRV9ERUJVR10gPT09IFNUQVRFIFJFQ0FMQ1VMQVRJT04gU1RBUlRFRCBmb3IgbWVzc2FnZUlkOiAke3RhcmdldE1lc3NhZ2VJZH0gPT09YCk7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gdjQuNCDlgaXlo67mgKfkv67lpI3vvJrlnKjph43nrpfliY3vvIzmiafooYzkuIDmrKHlrozmlbTnmoTnirbmgIHlgaXlurfmo4Dmn6XkuI7kv67lpI3jgIJcbiAgICAgICAgbGV0IGFsbFZhcnMgPSBnZXRWYXJpYWJsZXMoeyB0eXBlOiAnY2hhdCcgfSk7XG4gICAgICAgIGxldCBuZWVkc1VwZGF0ZSA9IGZhbHNlO1xuXG4gICAgICAgIC8vIDEuIOajgOafpeW5tuS/ruWkjeS4ouWkseeahOWIm+S4luW/q+eFp1xuICAgICAgICBpZiAoIV8uaGFzKGFsbFZhcnMsICfkuJbnlYwu5Yid5aeL54q25oCBJykpIHtcbiAgICAgICAgICAgIGNvbnN0IGJhY2t1cFNuYXBzaG90ID0gXy5nZXQoYWxsVmFycywgJ+Wkh+S7vS7liJ3lp4vnirbmgIHlpIfku70nKTtcbiAgICAgICAgICAgIGlmIChiYWNrdXBTbmFwc2hvdCkge1xuICAgICAgICAgICAgICAgIGxvZ2dlcignd2FybicsICdWYXJpYWJsZXMnLCAnW1JPQlVTVE5FU1NdIEdlbmVzaXMgc25hcHNob3QgbWlzc2luZy4gUmVzdG9yaW5nIGZyb20gYmFja3VwLicpO1xuICAgICAgICAgICAgICAgIF8uc2V0KGFsbFZhcnMsICfkuJbnlYwu5Yid5aeL54q25oCBJywgXy5jbG9uZURlZXAoYmFja3VwU25hcHNob3QpKTtcbiAgICAgICAgICAgICAgICBuZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvZ2dlcignd2FybicsICdWYXJpYWJsZXMnLCAnW1JPQlVTVE5FU1NdIEdlbmVzaXMgc25hcHNob3QgYW5kIGJhY2t1cCBhcmUgYm90aCBtaXNzaW5nLiBBdHRlbXB0aW5nIHRvIHJlYnVpbGQgZnJvbSBjdXJyZW50IHN0YXRlLicpO1xuICAgICAgICAgICAgICAgIC8vIOaZuuiDvemHjeW7uu+8mua3seW6puWkjeWItuW9k+WJjeeKtuaAgeS9nOS4uuW/q+eFp+WfuuehgFxuICAgICAgICAgICAgICAgIGNvbnN0IHJlYnVpbHRTbmFwc2hvdCA9IHtcbiAgICAgICAgICAgICAgICAgICAg6KeS6ImyOiBfLmNsb25lRGVlcChfLmdldChhbGxWYXJzLCAn6KeS6ImyJywge30pKSxcbiAgICAgICAgICAgICAgICAgICAg5LiW55WMOiBfLmNsb25lRGVlcChfLmdldChhbGxWYXJzLCAn5LiW55WMJywge30pKVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyDnoa7kv53moLjlv4PlrZfmrrXlrZjlnKhcbiAgICAgICAgICAgICAgICBpZiAoIXJlYnVpbHRTbmFwc2hvdC7kuJbnlYwu5pe25Lu3KSByZWJ1aWx0U25hcHNob3Qu5LiW55WMLuaXtuS7tyA9IGdlbmVyYXRlSW5pdGlhbE1hcmtldFByaWNlKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFyZWJ1aWx0U25hcHNob3Qu5LiW55WMLuS6i+S7tuWIl+ihqCkgcmVidWlsdFNuYXBzaG90LuS4lueVjC7kuovku7bliJfooaggPSBbXTtcbiAgICAgICAgICAgICAgICBpZiAoIXJlYnVpbHRTbmFwc2hvdC7kuJbnlYwu54q25oCB5b+r54WnKSByZWJ1aWx0U25hcHNob3Qu5LiW55WMLueKtuaAgeW/q+eFpyA9IHt9O1xuXG4gICAgICAgICAgICAgICAgLy8g5YWz6ZSu5L+u5aSN77ya5aaC5p6c5Li75o6n6KeS6Imy5ZCN5Lmf5Lii5aSx5LqG77yM5YiZ6L+b6KGM5o6o5patXG4gICAgICAgICAgICAgICAgaWYgKCFfLmhhcyhyZWJ1aWx0U25hcHNob3QsICfop5LoibIu5Li75o6n6KeS6Imy5ZCNJykpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhcmFjdGVyTmFtZXMgPSBPYmplY3Qua2V5cyhyZWJ1aWx0U25hcHNob3Qu6KeS6ImyIHx8IHt9KS5maWx0ZXIobmFtZSA9PiBuYW1lICE9PSAndW5kZWZpbmVkJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFyYWN0ZXJOYW1lcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmZlcnJlZE5hbWUgPSBjaGFyYWN0ZXJOYW1lc1swXTsgLy8g6buY6K6k6YCJ5oup56ys5LiA5Liq5om+5Yiw55qE6Z2edW5kZWZpbmVk6KeS6ImyXG4gICAgICAgICAgICAgICAgICAgICAgICBfLnNldChyZWJ1aWx0U25hcHNob3QsICfop5LoibIu5Li75o6n6KeS6Imy5ZCNJywgaW5mZXJyZWROYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcignd2FybicsICdWYXJpYWJsZXMnLCBgW1JPQlVTVE5FU1NdICfop5LoibIu5Li75o6n6KeS6Imy5ZCNJyB3YXMgbWlzc2luZy4gSW5mZXJyZWQgYW5kIHNldCB0byAnJHtpbmZlcnJlZE5hbWV9Jy5gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIOWFs+mUruS/ruWkje+8muWmguaenOWtmOWcqCAndW5kZWZpbmVkJyDop5LoibLvvIzliJnlkIjlubblhbbnianlk4FcbiAgICAgICAgICAgICAgICBjb25zdCBtYWluQ2hhck5hbWUgPSBfLmdldChyZWJ1aWx0U25hcHNob3QsICfop5LoibIu5Li75o6n6KeS6Imy5ZCNJyk7XG4gICAgICAgICAgICAgICAgaWYgKG1haW5DaGFyTmFtZSAmJiBfLmhhcyhyZWJ1aWx0U25hcHNob3QsIGDop5LoibIudW5kZWZpbmVkLueJqeWTgWApKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVuZGVmaW5lZEl0ZW1zID0gXy5nZXQocmVidWlsdFNuYXBzaG90LCAn6KeS6ImyLnVuZGVmaW5lZC7nianlk4EnLCBbXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1bmRlZmluZWRJdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYWluQ2hhckl0ZW1zUGF0aCA9IGDop5LoibIuJHttYWluQ2hhck5hbWV9LueJqeWTgWA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV8uaGFzKHJlYnVpbHRTbmFwc2hvdCwgbWFpbkNoYXJJdGVtc1BhdGgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5zZXQocmVidWlsdFNuYXBzaG90LCBtYWluQ2hhckl0ZW1zUGF0aCwgW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdJdGVtcyA9IF8uZ2V0KHJlYnVpbHRTbmFwc2hvdCwgbWFpbkNoYXJJdGVtc1BhdGgsIFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g5L2/55SoTWFw5ZCI5bm277yM6YG/5YWN6YeN5aSN5bm25Y+g5Yqg5pWw6YePXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdJdGVtcy5mb3JFYWNoKChpdGVtOiBJdGVtKSA9PiBpdGVtTWFwLnNldChpdGVtLuWQjeensCwgaXRlbSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkSXRlbXMuZm9yRWFjaCgoaXRlbTogSXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtTWFwLmhhcyhpdGVtLuWQjeensCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdJdGVtID0gaXRlbU1hcC5nZXQoaXRlbS7lkI3np7ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZ0l0ZW0u5pWw6YePID0gKGV4aXN0aW5nSXRlbS7mlbDph48gfHwgMSkgKyAoaXRlbS7mlbDph48gfHwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbU1hcC5zZXQoaXRlbS7lkI3np7AsIGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBfLnNldChyZWJ1aWx0U25hcHNob3QsIG1haW5DaGFySXRlbXNQYXRoLCBBcnJheS5mcm9tKGl0ZW1NYXAudmFsdWVzKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcignd2FybicsICdWYXJpYWJsZXMnLCBgW1JPQlVTVE5FU1NdIE1lcmdlZCAke3VuZGVmaW5lZEl0ZW1zLmxlbmd0aH0gaXRlbXMgZnJvbSAndW5kZWZpbmVkJyBjaGFyYWN0ZXIgdG8gJyR7bWFpbkNoYXJOYW1lfScuYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8g5riF55CGICd1bmRlZmluZWQnIOinkuiJslxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcmVidWlsdFNuYXBzaG90LuinkuiJsi51bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgXy5zZXQoYWxsVmFycywgJ+S4lueVjC7liJ3lp4vnirbmgIEnLCByZWJ1aWx0U25hcHNob3QpO1xuICAgICAgICAgICAgICAgIG5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDIuIOajgOafpeW5tuS/ruWkjeS4ouWkseeahOS4u+aOp+inkuiJsuWQjVxuICAgICAgICBpZiAoIV8uaGFzKGFsbFZhcnMsICfop5LoibIu5Li75o6n6KeS6Imy5ZCNJykpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYXJhY3Rlck5hbWVzID0gT2JqZWN0LmtleXMoXy5nZXQoYWxsVmFycywgJ+inkuiJsicsIHt9KSk7XG4gICAgICAgICAgICBpZiAoY2hhcmFjdGVyTmFtZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIOS8mOWFiOmAieaLqemdniAndW5kZWZpbmVkJyDnmoTop5LoibLlkI1cbiAgICAgICAgICAgICAgICBjb25zdCBpbmZlcnJlZE5hbWUgPSBjaGFyYWN0ZXJOYW1lcy5maW5kKG5hbWUgPT4gbmFtZSAhPT0gJ3VuZGVmaW5lZCcpIHx8IGNoYXJhY3Rlck5hbWVzWzBdO1xuICAgICAgICAgICAgICAgIGlmIChpbmZlcnJlZE5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyKCd3YXJuJywgJ1ZhcmlhYmxlcycsIGBbUk9CVVNUTkVTU10gJ+inkuiJsi7kuLvmjqfop5LoibLlkI0nIG1pc3NpbmcuIEluZmVycmVkIGFzICcke2luZmVycmVkTmFtZX0nLmApO1xuICAgICAgICAgICAgICAgICAgICBfLnNldChhbGxWYXJzLCAn6KeS6ImyLuS4u+aOp+inkuiJsuWQjScsIGluZmVycmVkTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIG5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyAzLiDmo4Dmn6Xlubbkv67lpI0gJ3VuZGVmaW5lZCcg6KeS6Imy77yM5bCG5YW254mp5ZOB5ZCI5bm257uZ5Li75o6n6KeS6ImyXG4gICAgICAgIGlmIChfLmhhcyhhbGxWYXJzLCAn6KeS6ImyLnVuZGVmaW5lZCcpICYmIF8uaGFzKGFsbFZhcnMsICfop5LoibIu5Li75o6n6KeS6Imy5ZCNJykpIHtcbiAgICAgICAgICAgIGNvbnN0IHVuZGVmaW5lZEl0ZW1zID0gXy5nZXQoYWxsVmFycywgJ+inkuiJsi51bmRlZmluZWQu54mp5ZOBJywgW10pO1xuICAgICAgICAgICAgaWYgKHVuZGVmaW5lZEl0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtYWluQ2hhck5hbWUgPSBfLmdldChhbGxWYXJzLCAn6KeS6ImyLuS4u+aOp+inkuiJsuWQjScpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1haW5DaGFySXRlbXNQYXRoID0gYOinkuiJsi4ke21haW5DaGFyTmFtZX0u54mp5ZOBYDtcblxuICAgICAgICAgICAgICAgIGlmICghXy5oYXMoYWxsVmFycywgbWFpbkNoYXJJdGVtc1BhdGgpKSB7XG4gICAgICAgICAgICAgICAgICAgIF8uc2V0KGFsbFZhcnMsIG1haW5DaGFySXRlbXNQYXRoLCBbXSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdJdGVtcyA9IF8uZ2V0KGFsbFZhcnMsIG1haW5DaGFySXRlbXNQYXRoLCBbXSk7XG4gICAgICAgICAgICAgICAgLy8g5L2/55SoIE1hcCDmnaXlkIjlubbnianlk4HvvIzlpITnkIbmlbDph4/lj6DliqBcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nSXRlbXMuZm9yRWFjaCgoaXRlbTogSXRlbSkgPT4gaXRlbU1hcC5zZXQoaXRlbS7lkI3np7AsIGl0ZW0pKTtcbiAgICAgICAgICAgICAgICB1bmRlZmluZWRJdGVtcy5mb3JFYWNoKChpdGVtOiBJdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtTWFwLmhhcyhpdGVtLuWQjeensCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nSXRlbSA9IGl0ZW1NYXAuZ2V0KGl0ZW0u5ZCN56ewKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nSXRlbS7mlbDph48gPSAoZXhpc3RpbmdJdGVtLuaVsOmHjyB8fCAxKSArIChpdGVtLuaVsOmHjyB8fCAxKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1NYXAuc2V0KGl0ZW0u5ZCN56ewLCBpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgXy5zZXQoYWxsVmFycywgbWFpbkNoYXJJdGVtc1BhdGgsIEFycmF5LmZyb20oaXRlbU1hcC52YWx1ZXMoKSkpO1xuICAgICAgICAgICAgICAgIGxvZ2dlcignd2FybicsICdWYXJpYWJsZXMnLCBgW1JPQlVTVE5FU1NdIE1lcmdlZCAke3VuZGVmaW5lZEl0ZW1zLmxlbmd0aH0gaXRlbXMgZnJvbSAndW5kZWZpbmVkJyBjaGFyYWN0ZXIgdG8gJyR7bWFpbkNoYXJOYW1lfScuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWxldGUgYWxsVmFycy7op5LoibIudW5kZWZpbmVkO1xuICAgICAgICAgICAgbmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g5aaC5p6c6L+b6KGM5LqG5Lu75L2V5L+u5aSN77yM5YiZ5Y6f5a2Q5YyW5Zyw5pu05paw5LiA5qyh5Y+Y6YePXG4gICAgICAgIGlmIChuZWVkc1VwZGF0ZSkge1xuICAgICAgICAgICAgYXdhaXQgb3ZlcndyaXRlQWxsQ2hhdFZhcmlhYmxlcyhhbGxWYXJzKTtcbiAgICAgICAgICAgIGxvZ2dlcignaW5mbycsICdWYXJpYWJsZXMnLCAnW1JPQlVTVE5FU1NdIFN0YXRlIHNhbml0YXRpb24gY29tcGxldGUuIFZhcmlhYmxlcyBoYXZlIGJlZW4gdXBkYXRlZC4nKTtcbiAgICAgICAgICAgIC8vIOmHjeaWsOiOt+WPluWPmOmHj+S7peehruS/neWQjue7reiuoeeul+WfuuS6juS/ruWkjeWQjueahOeKtuaAgVxuICAgICAgICAgICAgYWxsVmFycyA9IGdldFZhcmlhYmxlcyh7IHR5cGU6ICdjaGF0JyB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDQuICh2Mi43KSDkuLrml6flrZjmoaPoh6rliqjliJvlu7pMM+Wkh+S7vVxuICAgICAgICBpZiAoXy5oYXMoYWxsVmFycywgJ+S4lueVjC7liJ3lp4vnirbmgIEnKSAmJiAhXy5oYXMoYWxsVmFycywgJ+Wkh+S7vS7liJ3lp4vnirbmgIHlpIfku70nKSkge1xuICAgICAgICAgICAgbG9nZ2VyKCd3YXJuJywgJ1ZhcmlhYmxlcycsICdbUk9CVVNUTkVTU10gQmFja3VwIGZvciBnZW5lc2lzIHNuYXBzaG90IG5vdCBmb3VuZC4gQ3JlYXRpbmcgb25lIGZvciB0aGlzIGxlZ2FjeSBzYXZlLicpO1xuICAgICAgICAgICAgY29uc3Qgc25hcHNob3RUb0JhY2t1cCA9IF8uY2xvbmVEZWVwKF8uZ2V0KGFsbFZhcnMsICfkuJbnlYwu5Yid5aeL54q25oCBJykpO1xuICAgICAgICAgICAgYXdhaXQgdXBkYXRlVmFyaWFibGVzV2l0aCgodmFyczogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgXy5zZXQodmFycywgJ+Wkh+S7vS7liJ3lp4vnirbmgIHlpIfku70nLCBzbmFwc2hvdFRvQmFja3VwKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFycztcbiAgICAgICAgICAgIH0sIHsgdHlwZTogJ2NoYXQnIH0pO1xuICAgICAgICAgICAgdG9hc3RyLmluZm8oJ+W3suS4uuaXp+eJiOWtmOaho+aIkOWKn+WIm+W7uuWIneWni+eKtuaAgeWkh+S7veOAgicpO1xuICAgICAgICAgICAgLy8g6YeN5paw6I635Y+W5Y+Y6YeP5Lul56Gu5L+d5ZCO57ut6K6h566X5Z+65LqO5L+u5aSN5ZCO55qE54q25oCBXG4gICAgICAgICAgICBhbGxWYXJzID0gZ2V0VmFyaWFibGVzKHsgdHlwZTogJ2NoYXQnIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyDlpI3nlKjnuq/orqHnrpflh73mlbBcbiAgICAgICAgY29uc3QgcmVjYWxjdWxhdGVkU3RhdGUgPSBhd2FpdCBjYWxjdWxhdGVTdGF0ZVVudGlsKGhpc3RvcnlNYW5hZ2VyLCB0YXJnZXRNZXNzYWdlSWQsIGV2ZW50TWFuYWdlcik7XG5cbiAgICAgICAgaWYgKHJlY2FsY3VsYXRlZFN0YXRlKSB7XG4gICAgICAgICAgICAvLyDlupTnlKjmnIDnu4jnirbmgIFcbiAgICAgICAgICAgIGF3YWl0IG92ZXJ3cml0ZUFsbENoYXRWYXJpYWJsZXMocmVjYWxjdWxhdGVkU3RhdGUpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBbREVCVUddIOmqjOivgeWGmeWFpeS4gOiHtOaAp1xuICAgICAgICAgICAgY29uc3Qgd3JpdHRlblN0YXRlID0gZ2V0VmFyaWFibGVzKHsgdHlwZTogJ2NoYXQnIH0pO1xuICAgICAgICAgICAgbG9nZ2VyKCdpbmZvJywgJ1ZhcmlhYmxlcycsICdbU1dJUEVfREVCVUddIEV2ZW50IHJlcGxheSBmaW5pc2hlZC4gRmluYWwgcmVjYWxjdWxhdGVkIHN0YXRlOicsIF8uY2xvbmVEZWVwKHdyaXR0ZW5TdGF0ZSkpO1xuXG4gICAgICAgICAgICAvLyB2NC4xIOS/ruato++8muWcqOeKtuaAgemqjOivgeaXtu+8jOW/veeVpSBwbHVnaW5fc3RvcmFnZe+8jOWboOS4uuWug+S4jeWxnuS6juaguOW/g+a4uOaIj+eKtuaAge+8jOS4lOWPr+iDveiiq+WklumDqOmAu+i+keS/ruaUue+8jOWvvOiHtOmqjOivgeivr+aKpeWksei0peOAglxuICAgICAgICAgICAgY29uc3Qgc3RhdGVGb3JWZXJpZmljYXRpb24gPSBfLm9taXQocmVjYWxjdWxhdGVkU3RhdGUsICdwbHVnaW5fc3RvcmFnZScpO1xuICAgICAgICAgICAgY29uc3Qgd3JpdHRlblN0YXRlRm9yVmVyaWZpY2F0aW9uID0gXy5vbWl0KHdyaXR0ZW5TdGF0ZSwgJ3BsdWdpbl9zdG9yYWdlJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IHZlcmlmaWNhdGlvblBhc3NlZCA9IF8uaXNFcXVhbChzdGF0ZUZvclZlcmlmaWNhdGlvbiwgd3JpdHRlblN0YXRlRm9yVmVyaWZpY2F0aW9uKTtcbiAgICAgICAgICAgIGlmICh2ZXJpZmljYXRpb25QYXNzZWQpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIoJ2luZm8nLCAnU3RhdGVDYWxjJywgJ1tTdGF0ZSBWZXJpZmljYXRpb25dIFBBU1NFRDogUmVjYWxjdWxhdGVkIGNvcmUgZ2FtZSBzdGF0ZSBtYXRjaGVzIHRoZSBzdGF0ZSByZWFkIGJhY2sgZnJvbSB0aGUgZGF0YWJhc2UuJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpZmZlcmVuY2VzID0gZ2V0T2JqZWN0RGlmZihzdGF0ZUZvclZlcmlmaWNhdGlvbiwgd3JpdHRlblN0YXRlRm9yVmVyaWZpY2F0aW9uKTtcbiAgICAgICAgICAgICAgICBsb2dnZXIoJ2Vycm9yJywgJ1N0YXRlQ2FsYycsICdbU3RhdGUgVmVyaWZpY2F0aW9uXSBGQUlMRUQ6IE1pc21hdGNoIGJldHdlZW4gcmVjYWxjdWxhdGVkIGNvcmUgZ2FtZSBzdGF0ZSBhbmQgdGhlIHN0YXRlIHJlYWQgYmFjayBmcm9tIHRoZSBkYXRhYmFzZS4nLCB7XG4gICAgICAgICAgICAgICAgICAgIGRpZmZlcmVuY2VzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyDmlrDlop7pgLvovpHvvJrml6DorrrlpoLkvZXpg73kuLrmnKzmrKHph43nrpfnmoTnu5PmnpzliJvlu7rkuIDkuKpMMuW/q+eFp1xuICAgICAgICAgICAgYXdhaXQgc2F2ZVN0YXRlU25hcHNob3QodGFyZ2V0TWVzc2FnZUlkLCB3cml0dGVuU3RhdGUsIGhpc3RvcnlNYW5hZ2VyKTtcblxuXG4gICAgICAgICAgICBsb2dnZXIoJ2luZm8nLCAnVmFyaWFibGVzJywgYFtTV0lQRV9ERUJVR10gPT09IFNUQVRFIFJFQ0FMQ1VMQVRJT04gRklOSVNIRUQgZm9yIG1lc3NhZ2UgJHt0YXJnZXRNZXNzYWdlSWR9ID09PWApO1xuICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoJ+a4uOaIj+eKtuaAgeW3suWQjOatpeiHs+W9k+WJjea2iOaBr+mhteOAgicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdGF0ZSBjYWxjdWxhdGlvbiByZXR1cm5lZCBudWxsLicpO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgbG9nZ2VyKCdlcnJvcicsICdWYXJpYWJsZXMnLCAnYHJlY2FsY3VsYXRlQW5kQXBwbHlTdGF0ZWAgZmFpbGVkLicsIGVycm9yKTtcbiAgICAgICAgdG9hc3RyLmVycm9yKCfnirbmgIHph43nrpflpLHotKXvvIzor7fmn6XnnIvmjqfliLblj7Dojrflj5bor6bmg4XjgIInKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/core/variables.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/core/version.ts": 
  /*!************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/core/version.ts ***!
  \************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LOCAL_VERSION: () => (/* binding */ LOCAL_VERSION),\n/* harmony export */   checkForUpdates: () => (/* binding */ checkForUpdates),\n/* harmony export */   getChangelog: () => (/* binding */ getChangelog),\n/* harmony export */   showChangelogModal: () => (/* binding */ showChangelogModal),\n/* harmony export */   updateCardFiles: () => (/* binding */ updateCardFiles)\n/* harmony export */ });\n/* harmony import */ var _update_script__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./update-script */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/update-script.ts\");\n\n// 请将这里的 URL 替换为你的 GitHub 仓库的 Raw 地址\nconst GITHUB_REPO_RAW_URL = 'https://raw.githubusercontent.com/HerSophia/Verdant-Spirit-Dao/main/';\n// 当前版本号，需要与 version.json 保持一致\nconst LOCAL_VERSION = 'v0.3.1';\n/**\n * 检查是否有新版本并获取更新日志\n * @returns {Promise<UpdateInfo | null>}\n */\n/**\n * 仅从远程获取并解析更新日志。\n * @returns {Promise<string>} 返回HTML格式的更新日志。\n */\nasync function getChangelog() {\n    try {\n        const changelogResponse = await fetch(`${GITHUB_REPO_RAW_URL}changlog.md`);\n        if (changelogResponse.ok) {\n            const changelogMd = await changelogResponse.text();\n            return marked.parse(changelogMd);\n        }\n        return '<p>无法加载更新日志。</p>';\n    }\n    catch (e) {\n        console.error(\"获取更新日志失败:\", e);\n        toastr.error('获取更新日志失败，请查看控制台。');\n        return '<p>获取更新日志失败。</p>';\n    }\n}\nasync function checkForUpdates() {\n    try {\n        // 从 GitHub 获取最新的 version.json\n        const versionResponse = await fetch(`${GITHUB_REPO_RAW_URL}version.json`);\n        if (!versionResponse.ok) {\n            throw new Error(`无法获取 version.json: ${versionResponse.statusText}`);\n        }\n        const versionData = await versionResponse.json();\n        const remoteVersion = `v${versionData.version}`;\n        const hasUpdate = remoteVersion.localeCompare(LOCAL_VERSION, undefined, { numeric: true, sensitivity: 'base' }) > 0;\n        const changelogHtml = await getChangelog();\n        let filesToUpdate = undefined;\n        if (hasUpdate) {\n            filesToUpdate = versionData.files_to_update || [];\n        }\n        return {\n            hasUpdate,\n            remoteVersion,\n            changelogHtml,\n            filesToUpdate,\n        };\n    }\n    catch (error) {\n        console.error('检查更新失败:', error);\n        toastr.error('检查更新失败，请查看控制台获取更多信息。');\n        return null;\n    }\n}\n/**\n * 创建并显示更新日志模态框\n * @param {string} contentHtml - 要显示的 HTML 内容\n * @param {boolean} hasUpdate - 是否有可用更新\n */\nfunction showChangelogModal(contentHtml, hasUpdate) {\n    // 移除已存在的模态框，防止重复\n    $('#changelog-modal-overlay').remove();\n    const modalHtml = `\n    <div id=\"changelog-modal-overlay\" class=\"modal-overlay\">\n      <div class=\"modal-content\">\n        <button id=\"changelog-modal-close-btn\" class=\"modal-close-btn\">&times;</button>\n        <div class=\"modal-body prose prose-invert max-w-none\">\n          ${contentHtml}\n        </div>\n        <div class=\"modal-footer\" style=\"text-align: right; margin-top: 1rem;\">\n          ${hasUpdate ? '<button id=\"update-now-btn\" class=\"btn-primary\">立即更新</button>' : ''}\n        </div>\n      </div>\n    </div>\n  `;\n    $('body').append(modalHtml);\n    const $modalOverlay = $('#changelog-modal-overlay');\n    $modalOverlay.removeClass('hidden');\n    $('#changelog-modal-close-btn, #changelog-modal-overlay').on('click', function (e) {\n        if (e.target === this) {\n            $modalOverlay.addClass('hidden').remove();\n        }\n    });\n    if (hasUpdate) {\n        $('#update-now-btn').on('click', async function () {\n            const btn = $(this);\n            btn.prop('disabled', true).text('更新中...');\n            try {\n                const updateInfo = await checkForUpdates();\n                if (updateInfo?.hasUpdate && updateInfo.filesToUpdate) {\n                    await updateCardFiles(updateInfo.filesToUpdate);\n                    toastr.success('所有文件更新完成！');\n                    $modalOverlay.addClass('hidden').remove();\n                }\n                else {\n                    toastr.warning('未找到需要更新的文件或版本已是最新。');\n                }\n            }\n            catch (error) {\n                toastr.error(`更新过程中发生错误: ${error.message}`);\n                btn.prop('disabled', false).text('立即更新');\n            }\n        });\n    }\n}\n/**\n * 从远程仓库获取并更新角色卡相关文件。\n * @param {string[]} filesToUpdate - 需要更新的文件路径列表。\n */\nasync function updateCardFiles(filesToUpdate) {\n    toastr.info(`开始更新 ${filesToUpdate.length} 个文件...`);\n    for (const filePath of filesToUpdate) {\n        try {\n            const response = await fetch(`${GITHUB_REPO_RAW_URL}${filePath}`);\n            if (!response.ok) {\n                throw new Error(`下载文件失败 ${filePath}: ${response.statusText}`);\n            }\n            const fileContent = await response.text();\n            await (0,_update_script__WEBPACK_IMPORTED_MODULE_0__.processFileUpdate)(filePath, fileContent);\n        }\n        catch (error) {\n            console.error(`更新文件 ${filePath} 失败:`, error);\n            toastr.error(`更新文件 ${filePath} 失败: ${error.message}`);\n            // 选择继续更新其他文件，而不是中断整个过程\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvY29yZS92ZXJzaW9uLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFvRDtBQUdwRCxvQ0FBb0M7QUFDcEMsTUFBTSxtQkFBbUIsR0FBRyxzRUFBc0UsQ0FBQztBQUVuRyw4QkFBOEI7QUFDdkIsTUFBTSxhQUFhLEdBQUcsUUFBUSxDQUFDO0FBU3RDOzs7R0FHRztBQUNIOzs7R0FHRztBQUNJLEtBQUssVUFBVSxZQUFZO0lBQ2hDLElBQUksQ0FBQztRQUNILE1BQU0saUJBQWlCLEdBQUcsTUFBTSxLQUFLLENBQUMsR0FBRyxtQkFBbUIsYUFBYSxDQUFDLENBQUM7UUFDM0UsSUFBSSxpQkFBaUIsQ0FBQyxFQUFFLEVBQUUsQ0FBQztZQUN6QixNQUFNLFdBQVcsR0FBRyxNQUFNLGlCQUFpQixDQUFDLElBQUksRUFBRSxDQUFDO1lBQ25ELE9BQU8sTUFBTSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQVcsQ0FBQztRQUM3QyxDQUFDO1FBQ0QsT0FBTyxrQkFBa0IsQ0FBQztJQUM1QixDQUFDO0lBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQztRQUNYLE9BQU8sQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzlCLE1BQU0sQ0FBQyxLQUFLLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUNqQyxPQUFPLGtCQUFrQixDQUFDO0lBQzVCLENBQUM7QUFDSCxDQUFDO0FBRU0sS0FBSyxVQUFVLGVBQWU7SUFDbkMsSUFBSSxDQUFDO1FBQ0gsOEJBQThCO1FBQzlCLE1BQU0sZUFBZSxHQUFHLE1BQU0sS0FBSyxDQUFDLEdBQUcsbUJBQW1CLGNBQWMsQ0FBQyxDQUFDO1FBQzFFLElBQUksQ0FBQyxlQUFlLENBQUMsRUFBRSxFQUFFLENBQUM7WUFDeEIsTUFBTSxJQUFJLEtBQUssQ0FBQyxzQkFBc0IsZUFBZSxDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUM7UUFD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QUFFLENBQUMsQ0FBQztnQkFDNUMsR0FBRyxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQzdDLENBQUM7UUFDSCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7QUFDSCxDQUFDO0FBRUQ7OztHQUdHO0FBQ0ksS0FBSyxVQUFVLGVBQWUsQ0FBQyxhQUF1QjtJQUN6RCxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsYUFBYSxDQUFDLE1BQU0sU0FBUyxDQUFDLENBQUM7SUFFbkQsS0FBSyxNQUFNLFFBQVEsSUFBSSxhQUFhLEVBQUUsQ0FBQztRQUNuQyxJQUFJLENBQUM7WUFDRCxNQUFNLFFBQVEsR0FBRyxNQUFNLEtBQUssQ0FBQyxHQUFHLG1CQUFtQixHQUFHLFFBQVEsRUFBRSxDQUFDLENBQUM7WUFDbEUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFLEVBQUUsQ0FBQztnQkFDZixNQUFNLElBQUksS0FBSyxDQUFDLFVBQVUsUUFBUSxLQUFLLFFBQVEsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxDQUFDO1lBQ2xFLENBQUM7WUFDRCxNQUFNLFdBQVcsR0FBRyxNQUFNLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUMxQyxNQUFNLGlFQUFpQixDQUFDLFFBQVEsRUFBRSxXQUFXLENBQUMsQ0FBQztRQUNuRCxDQUFDO1FBQUMsT0FBTyxLQUFVLEVBQUUsQ0FBQztZQUNsQixPQUFPLENBQUMsS0FBSyxDQUFDLFFBQVEsUUFBUSxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDN0MsTUFBTSxDQUFDLEtBQUssQ0FBQyxRQUFRLFFBQVEsUUFBUSxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztZQUN0RCx1QkFBdUI7UUFDM0IsQ0FBQztJQUNMLENBQUM7QUFDTCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS8uL3NyYy/ku4DkuYjmiJHopoHlnKjnjoTlubvkv67ku5nkuJbnlYznp43nlLAtMOalvOeJiOacrC9jb3JlL3ZlcnNpb24udHM/Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb2Nlc3NGaWxlVXBkYXRlIH0gZnJvbSAnLi91cGRhdGUtc2NyaXB0JztcbmRlY2xhcmUgY29uc3QgbWFya2VkOiBhbnk7XG5cbi8vIOivt+Wwhui/memHjOeahCBVUkwg5pu/5o2i5Li65L2g55qEIEdpdEh1YiDku5PlupPnmoQgUmF3IOWcsOWdgFxuY29uc3QgR0lUSFVCX1JFUE9fUkFXX1VSTCA9ICdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vSGVyU29waGlhL1ZlcmRhbnQtU3Bpcml0LURhby9tYWluLyc7XG5cbi8vIOW9k+WJjeeJiOacrOWPt++8jOmcgOimgeS4jiB2ZXJzaW9uLmpzb24g5L+d5oyB5LiA6Ie0XG5leHBvcnQgY29uc3QgTE9DQUxfVkVSU0lPTiA9ICd2MC4zLjEnO1xuXG5pbnRlcmZhY2UgVXBkYXRlSW5mbyB7XG4gIGhhc1VwZGF0ZTogYm9vbGVhbjtcbiAgcmVtb3RlVmVyc2lvbjogc3RyaW5nO1xuICBjaGFuZ2Vsb2dIdG1sOiBzdHJpbmcgfCBudWxsO1xuICBmaWxlc1RvVXBkYXRlPzogc3RyaW5nW107XG59XG5cbi8qKlxuICog5qOA5p+l5piv5ZCm5pyJ5paw54mI5pys5bm26I635Y+W5pu05paw5pel5b+XXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxVcGRhdGVJbmZvIHwgbnVsbD59XG4gKi9cbi8qKlxuICog5LuF5LuO6L+c56iL6I635Y+W5bm26Kej5p6Q5pu05paw5pel5b+X44CCXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSDov5Tlm55IVE1M5qC85byP55qE5pu05paw5pel5b+X44CCXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDaGFuZ2Vsb2coKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjaGFuZ2Vsb2dSZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0dJVEhVQl9SRVBPX1JBV19VUkx9Y2hhbmdsb2cubWRgKTtcbiAgICBpZiAoY2hhbmdlbG9nUmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnN0IGNoYW5nZWxvZ01kID0gYXdhaXQgY2hhbmdlbG9nUmVzcG9uc2UudGV4dCgpO1xuICAgICAgcmV0dXJuIG1hcmtlZC5wYXJzZShjaGFuZ2Vsb2dNZCkgYXMgc3RyaW5nO1xuICAgIH1cbiAgICByZXR1cm4gJzxwPuaXoOazleWKoOi9veabtOaWsOaXpeW/l+OAgjwvcD4nO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcihcIuiOt+WPluabtOaWsOaXpeW/l+Wksei0pTpcIiwgZSk7XG4gICAgdG9hc3RyLmVycm9yKCfojrflj5bmm7TmlrDml6Xlv5flpLHotKXvvIzor7fmn6XnnIvmjqfliLblj7DjgIInKTtcbiAgICByZXR1cm4gJzxwPuiOt+WPluabtOaWsOaXpeW/l+Wksei0peOAgjwvcD4nO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGVja0ZvclVwZGF0ZXMoKTogUHJvbWlzZTxVcGRhdGVJbmZvIHwgbnVsbD4ge1xuICB0cnkge1xuICAgIC8vIOS7jiBHaXRIdWIg6I635Y+W5pyA5paw55qEIHZlcnNpb24uanNvblxuICAgIGNvbnN0IHZlcnNpb25SZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0dJVEhVQl9SRVBPX1JBV19VUkx9dmVyc2lvbi5qc29uYCk7XG4gICAgaWYgKCF2ZXJzaW9uUmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihg5peg5rOV6I635Y+WIHZlcnNpb24uanNvbjogJHt2ZXJzaW9uUmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICB9XG4gICAgY29uc3QgdmVyc2lvbkRhdGEgPSBhd2FpdCB2ZXJzaW9uUmVzcG9uc2UuanNvbigpO1xuICAgIGNvbnN0IHJlbW90ZVZlcnNpb24gPSBgdiR7dmVyc2lvbkRhdGEudmVyc2lvbn1gO1xuXG4gICAgY29uc3QgaGFzVXBkYXRlID0gcmVtb3RlVmVyc2lvbi5sb2NhbGVDb21wYXJlKExPQ0FMX1ZFUlNJT04sIHVuZGVmaW5lZCwgeyBudW1lcmljOiB0cnVlLCBzZW5zaXRpdml0eTogJ2Jhc2UnIH0pID4gMDtcblxuICAgIGNvbnN0IGNoYW5nZWxvZ0h0bWwgPSBhd2FpdCBnZXRDaGFuZ2Vsb2coKTtcblxuICAgIGxldCBmaWxlc1RvVXBkYXRlOiBzdHJpbmdbXSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICBpZiAoaGFzVXBkYXRlKSB7XG4gICAgICBmaWxlc1RvVXBkYXRlID0gdmVyc2lvbkRhdGEuZmlsZXNfdG9fdXBkYXRlIHx8IFtdO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBoYXNVcGRhdGUsXG4gICAgICByZW1vdGVWZXJzaW9uLFxuICAgICAgY2hhbmdlbG9nSHRtbCxcbiAgICAgIGZpbGVzVG9VcGRhdGUsXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfmo4Dmn6Xmm7TmlrDlpLHotKU6JywgZXJyb3IpO1xuICAgIHRvYXN0ci5lcnJvcign5qOA5p+l5pu05paw5aSx6LSl77yM6K+35p+l55yL5o6n5Yi25Y+w6I635Y+W5pu05aSa5L+h5oGv44CCJyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiDliJvlu7rlubbmmL7npLrmm7TmlrDml6Xlv5fmqKHmgIHmoYZcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50SHRtbCAtIOimgeaYvuekuueahCBIVE1MIOWGheWuuVxuICogQHBhcmFtIHtib29sZWFufSBoYXNVcGRhdGUgLSDmmK/lkKbmnInlj6/nlKjmm7TmlrBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNob3dDaGFuZ2Vsb2dNb2RhbChjb250ZW50SHRtbDogc3RyaW5nLCBoYXNVcGRhdGU6IGJvb2xlYW4pIHtcbiAgLy8g56e76Zmk5bey5a2Y5Zyo55qE5qih5oCB5qGG77yM6Ziy5q2i6YeN5aSNXG4gICQoJyNjaGFuZ2Vsb2ctbW9kYWwtb3ZlcmxheScpLnJlbW92ZSgpO1xuXG4gIGNvbnN0IG1vZGFsSHRtbCA9IGBcbiAgICA8ZGl2IGlkPVwiY2hhbmdlbG9nLW1vZGFsLW92ZXJsYXlcIiBjbGFzcz1cIm1vZGFsLW92ZXJsYXlcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxidXR0b24gaWQ9XCJjaGFuZ2Vsb2ctbW9kYWwtY2xvc2UtYnRuXCIgY2xhc3M9XCJtb2RhbC1jbG9zZS1idG5cIj4mdGltZXM7PC9idXR0b24+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5IHByb3NlIHByb3NlLWludmVydCBtYXgtdy1ub25lXCI+XG4gICAgICAgICAgJHtjb250ZW50SHRtbH1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIiBzdHlsZT1cInRleHQtYWxpZ246IHJpZ2h0OyBtYXJnaW4tdG9wOiAxcmVtO1wiPlxuICAgICAgICAgICR7aGFzVXBkYXRlID8gJzxidXR0b24gaWQ9XCJ1cGRhdGUtbm93LWJ0blwiIGNsYXNzPVwiYnRuLXByaW1hcnlcIj7nq4vljbPmm7TmlrA8L2J1dHRvbj4nIDogJyd9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIGA7XG5cbiAgJCgnYm9keScpLmFwcGVuZChtb2RhbEh0bWwpO1xuXG4gIGNvbnN0ICRtb2RhbE92ZXJsYXkgPSAkKCcjY2hhbmdlbG9nLW1vZGFsLW92ZXJsYXknKTtcbiAgJG1vZGFsT3ZlcmxheS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG5cbiAgJCgnI2NoYW5nZWxvZy1tb2RhbC1jbG9zZS1idG4sICNjaGFuZ2Vsb2ctbW9kYWwtb3ZlcmxheScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoZS50YXJnZXQgPT09IHRoaXMpIHtcbiAgICAgICRtb2RhbE92ZXJsYXkuYWRkQ2xhc3MoJ2hpZGRlbicpLnJlbW92ZSgpO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKGhhc1VwZGF0ZSkge1xuICAgICQoJyN1cGRhdGUtbm93LWJ0bicpLm9uKCdjbGljaycsIGFzeW5jIGZ1bmN0aW9uKCkge1xuICAgICAgY29uc3QgYnRuID0gJCh0aGlzKTtcbiAgICAgIGJ0bi5wcm9wKCdkaXNhYmxlZCcsIHRydWUpLnRleHQoJ+abtOaWsOS4rS4uLicpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCB1cGRhdGVJbmZvID0gYXdhaXQgY2hlY2tGb3JVcGRhdGVzKCk7XG4gICAgICAgICAgaWYgKHVwZGF0ZUluZm8/Lmhhc1VwZGF0ZSAmJiB1cGRhdGVJbmZvLmZpbGVzVG9VcGRhdGUpIHtcbiAgICAgICAgICAgICAgYXdhaXQgdXBkYXRlQ2FyZEZpbGVzKHVwZGF0ZUluZm8uZmlsZXNUb1VwZGF0ZSk7XG4gICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKCfmiYDmnInmlofku7bmm7TmlrDlrozmiJDvvIEnKTtcbiAgICAgICAgICAgICAgJG1vZGFsT3ZlcmxheS5hZGRDbGFzcygnaGlkZGVuJykucmVtb3ZlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdG9hc3RyLndhcm5pbmcoJ+acquaJvuWIsOmcgOimgeabtOaWsOeahOaWh+S7tuaIlueJiOacrOW3suaYr+acgOaWsOOAgicpO1xuICAgICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgICB0b2FzdHIuZXJyb3IoYOabtOaWsOi/h+eoi+S4reWPkeeUn+mUmeivrzogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgICAgIGJ0bi5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKS50ZXh0KCfnq4vljbPmm7TmlrAnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG4vKipcbiAqIOS7jui/nOeoi+S7k+W6k+iOt+WPluW5tuabtOaWsOinkuiJsuWNoeebuOWFs+aWh+S7tuOAglxuICogQHBhcmFtIHtzdHJpbmdbXX0gZmlsZXNUb1VwZGF0ZSAtIOmcgOimgeabtOaWsOeahOaWh+S7tui3r+W+hOWIl+ihqOOAglxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlQ2FyZEZpbGVzKGZpbGVzVG9VcGRhdGU6IHN0cmluZ1tdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdG9hc3RyLmluZm8oYOW8gOWni+abtOaWsCAke2ZpbGVzVG9VcGRhdGUubGVuZ3RofSDkuKrmlofku7YuLi5gKTtcbiAgICBcbiAgICBmb3IgKGNvbnN0IGZpbGVQYXRoIG9mIGZpbGVzVG9VcGRhdGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7R0lUSFVCX1JFUE9fUkFXX1VSTH0ke2ZpbGVQYXRofWApO1xuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihg5LiL6L295paH5Lu25aSx6LSlICR7ZmlsZVBhdGh9OiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmaWxlQ29udGVudCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgICAgIGF3YWl0IHByb2Nlc3NGaWxlVXBkYXRlKGZpbGVQYXRoLCBmaWxlQ29udGVudCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOabtOaWsOaWh+S7tiAke2ZpbGVQYXRofSDlpLHotKU6YCwgZXJyb3IpO1xuICAgICAgICAgICAgdG9hc3RyLmVycm9yKGDmm7TmlrDmlofku7YgJHtmaWxlUGF0aH0g5aSx6LSlOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICAvLyDpgInmi6nnu6fnu63mm7TmlrDlhbbku5bmlofku7bvvIzogIzkuI3mmK/kuK3mlq3mlbTkuKrov4fnqItcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/core/version.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/data/genesisMessages.ts": 
  /*!********************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/data/genesisMessages.ts ***!
  \********************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval('{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   genesisPlots: () => (/* binding */ genesisPlots),\n/* harmony export */   getGenesisMessage: () => (/* binding */ getGenesisMessage)\n/* harmony export */ });\n/**\n * @file This file contains the genesis messages for the game\'s beginning, based on location and season.\n * Each message is a function that takes the character\'s name and returns a formatted string with a status bar.\n */\n// A mapping of season IDs to their Chinese names for potential use in descriptions.\nconst seasonNames = {\n    \'season-spring\': \'春\',\n    \'season-summer\': \'夏\',\n    \'season-autumn\': \'秋\',\n    \'season-winter\': \'冬\',\n};\n// A collection of all possible genesis plots, structured by location and then by season.\nconst genesisPlots = {\n    // == Location: Mountain Peak ==\n    \'location-peak\': {\n        \'season-spring\': (characterName) => `\r\n料峭。这是萧栖雪恢复意识后，身体反馈给大脑的第一个信号。\r\n\r\n寒意并非来自严冬的酷烈，而是一种万物复苏之际，冰雪初融时的湿冷。风中夹杂着新翻的泥土和不知名嫩芽的清新气息，吸入肺腑，却带着一丝刺骨的凉。后脑的钝痛仿佛被这股凉意浸透，变得迟缓而麻木。她费力地睁开眼，视线从模糊逐渐聚焦。\r\n\r\n*……我在哪儿？*\r\n\r\n身下是坚硬而潮湿的岩石，石缝间顽强地钻出几点新绿，挂着晶莹的露珠。她发现自己正身处一座孤高的山巅，四周是缓缓流淌的云海，春日的阳光穿透云层，为这片白色的海洋镀上了一层温暖的金边。远处，几座更加高耸的山峰上，皑皑白雪正在消融，露出青黑色的山体，如同水墨画般层次分明。天空是一种洗练过的湛蓝，纯净得没有一丝杂质。\r\n\r\n*这不是地球……*\r\n\r\n她挣扎着坐起身，眩晕感袭来，让她不得不伸手扶住身旁的岩石。向下望去，是深不见底的悬崖峭-壁，云雾缭-绕，隐约可见山腰处已是一片新绿。偶尔有灵巧的飞鸟掠过，发出清脆的鸣叫，给这片寂静的天地带来一丝生机。然而，这生机之下，潜藏的却是未知的危险。在这绝地天通之处，每一步都必须小心翼翼。\r\n<statusbar>\r\n{\r\n  "状态总览": {\r\n    "行动选项": {\r\n      "🧝‍♀️ 行动人": "${characterName}",\r\n      "📜 可选行动": [\r\n        "1. 🧝‍♀️  检查自身状况，评估身体状态和可能的伤势。",\r\n        "2. 📖 好像有种莫名的感觉，看看有没有绑定什么系统",\r\n        "3. 🧭 观察四周，寻找一条积雪融化后相对安全的下山路径。",\r\n        "4. 🌱 在附近寻找可食用的植物嫩芽或水源。"\r\n      ]\r\n    }\r\n  }\r\n}\r\n</statusbar>`,\n        \'season-summer\': (characterName) => `\r\n闷热。这是萧栖雪恢复意识后，身体反馈给大脑的第一个信号。\r\n\r\n热量并非来自烈日的暴晒，而是源于天地间充沛得近乎粘稠的水汽与灵气。空气仿佛凝固了，每一次呼吸都带着沉甸甸的重量。风是罕见的奢侈品，偶有一丝拂过，也带着令人烦躁的暖意。后脑的疼痛在这闷热中被放大，如同恼人的心跳。她艰难地睁开眼，视线因额头的汗水而有些模糊。\r\n\r\n*……这里是……？*\r\n\r\n身下是滚烫的岩石，仿佛被烈日炙烤了一整天。她发现自己正身处一座孤高的山巅，四周的云海翻滚得异常剧烈，如同沸腾的开水。远处的天际线，乌云正在聚集，隐隐有雷光在云层深处闪烁，发出沉闷的轰鸣。天空是一种压抑的铅灰色，空气中弥漫着风雨欲来的气息。山巅的植被异常繁茂，深绿色的针叶植物上挂着饱满的露珠，折射着诡异的光。\r\n\r\n*这不是地球……*\r\n\r\n她挣扎着坐起身，强烈的窒息感让她胸口发闷。向下望去，是深不见底的悬崖峭-壁，云雾缭-绕，却遮不住山腰那一片生机勃勃的原始森林。偶尔有巨大的、翼展惊人的怪鸟从云海中冲天而起，发出穿云裂石般的啼鸣，似乎在宣告着领地。强烈的危机感攫住了她的心脏。一场狂暴的雷雨即将来临，她必须立刻找到避难之所。\r\n<statusbar>\r\n{\r\n  "状态总览": {\r\n    "行动选项": {\r\n      "🧝‍♀️ 行动人": "${characterName}",\r\n      "📜 可选行动": [\r\n        "1. 🧝‍♀️  检查自身状况，评估身体状态和可能的伤势。",\r\n        "2. 📖 好像有种莫名的感觉，看看有没有绑定什么系统",\r\n        "3. ⛈️ 观察地形，寻找能够躲避即将来临的雷雨的山洞或岩缝。",\r\n        "4. 💧 在附近寻找可以饮用的水源，补充身体流失的水分。"\r\n      ]\r\n    }\r\n  }\r\n}\r\n</statusbar>`,\n        \'season-autumn\': (characterName) => `\r\n高远。这是萧栖雪恢复意识后，大脑对周遭环境的第一个感知。\r\n\r\n身体的感觉是清爽和微凉。秋风带着一丝干燥，拂过肌肤，带走了夏日的最后一丝暑气，也让后脑的疼痛变得清晰而不再那么昏沉。空气纯净而稀薄，每一次呼吸都仿佛能洗涤心灵。她缓缓睁开双眼，一幅壮丽的画卷在她面前展开。\r\n\r\n*……这是什么地方？*\r\n\r\n身下是干燥而粗糙的岩石，点缀着一些已经变为金黄色的奇异植物。她发现自己正身处一座孤高的山巅，四周的云海平缓如镜，秋日柔和的阳光洒在上面，反射出温暖的光晕。天空是那种秋季特有的、高远而纯粹的湛蓝色，几缕淡薄的云丝飘过。远处的群山层林尽染，红色、黄色、绿色交织在一起，如同打翻了的颜料盘。\r\n\r\n*……美得不真实。*\r\n\r\n她慢慢坐起身，眩晕感很轻微。向下望去，是深不见底的悬崖峭-壁，云雾缭-绕，却挡不住那漫山遍野的绚烂秋色。偶尔有成群的候鸟排成奇异的阵型，从云海之上掠过，发出悠远而略带萧瑟的鸣叫。这份壮阔的美景让她暂时忘记了身处的险境，但理智很快回归。在这绝地天通之处，美丽往往与危险并存。\r\n<statusbar>\r\n{\r\n  "状态总览": {\r\n    "行动选项": {\r\n      "🧝‍♀️ 行动人": "${characterName}",\r\n      "📜 可选行动": [\r\n        "1. 🧝‍♀️  检查自身状况，评估身体状态和可能的伤势。",\r\n        "2. 📖 好像有种莫名的感觉，看看有没有绑定什么系统",\r\n        "3. 🧭 观察四周，寻找一条相对平缓、适合下山的山脊。",\r\n        "4. 🍎 在附近寻找可能存在的野果，以备不时之需。"\r\n      ]\r\n    }\r\n  }\r\n}\r\n</statusbar>`,\n        \'season-winter\': (characterName) => `\r\n刺骨。这是萧栖雪恢复意识后，身体反馈给大脑的第一个信号。\r\n\r\n这股寒意并非源于虚弱，而是来自稀薄空气中无孔不入的凛冽山风。风声如同鬼魅的呼啸，刮过耳畔，带走身体最后一丝温度。后脑的疼痛似乎被这寒冷冻结，变得麻木而迟钝。她费力地睁开眼，视线从模糊逐渐聚焦。\r\n\r\n*……我在哪儿？*\r\n\r\n身下是坚硬而冰冷的岩石，上面覆盖着一层薄薄的积雪。她发现自己正身处一座孤高的山巅，四周是翻涌的云海，如同无垠的白色海洋。远处，几座更加高耸的山峰如同岛屿般在云海中若隐-现，山体银装素裹。天空是一种近乎深紫的湛蓝，几颗硕大而陌生的星辰即便在白日也清晰可见，散发着妖异的光芒。\r\n\r\n*这不是地球……*\r\n\r\n她挣扎着坐起身，剧烈的眩晕感袭来，让她不得不伸手扶住身旁的岩石。向下望去，是深不见底的悬崖峭-壁，云雾缭-绕，仿佛通往无尽的深渊。偶尔有巨大的、翼展惊人的怪鸟从云海中冲天而起，发出穿云裂石般的啼鸣。强烈的危机感和渺小感瞬间攫住了她的心脏。在这绝地天通之处，每一步都必须小心翼翼。\r\n<statusbar>\r\n{\r\n  "状态总览": {\r\n    "行动选项": {\r\n      "🧝‍♀️ 行动人": "${characterName}",\r\n      "📜 可选行动": [\r\n        "1. 🧝‍♀️  检查自身状况，评估身体状态和可能的伤势。",\r\n        "2. 📖 好像有种莫名的感觉，看看有没有绑定什么系统",\r\n        "3. 🧭 观察四周，寻找一条相对安全的下山路径。",\r\n        "4. 🛖 在附近寻找可以临时避风的山洞或岩壁。"\r\n      ]\r\n    }\r\n  }\r\n}\r\n</statusbar>`,\n    },\n    // == Location: Lakeside ==\n    \'location-lake\': {\n        \'season-spring\': (characterName) => `\r\n温润。这是萧栖雪恢复意识后，身体反馈给大脑的第一个信号。\r\n\r\n这股暖意并非来自阳光，而是一种从空气中渗透进来的、带着潮湿水汽的平和能量。天空飘着蒙蒙细雨，雨丝轻柔地落在她的脸颊上，非但不冷，反而有种奇异的舒适感，似乎在滋养着她的身体，舒缓着后脑的疼痛。\r\n\r\n*……下雨了？这里是……？*\r\n\r\n她轻轻动了动手指，触感是湿润而柔软的青草，还带着新芽的弹韧。空气中弥漫着雨水、青草和淡淡花香混合的气息，清新怡人。她缓缓睁开双眼，一片烟雨朦胧的景象映入眼帘。\r\n\r\n眼前是一片广阔而平静的湖泊，湖面笼罩在薄薄的雾气之中，雨点落在湖面，漾开一圈圈细密的涟漪。湖岸边，柳树抽出新枝，嫩绿的柳条在微风细雨中轻轻摇曳。湖中央，隐约可见一株巨大的、含苞待放的莲花，在雾气中若-隐若现。\r\n\r\n*……如同梦境一般。*\r\n\r\n她慢慢坐起身，感觉身体的疲惫被这春雨洗涤一空。湖畔绿草如茵，远处是笼罩在烟雨中的森林，一切都显得那么宁静而富有诗意。然而，这份宁静之下，却隐藏着一丝不同寻常的气息。她注意到，湖边的某些植物形态奇异，闪烁着微光，而远处的森林也显得异常静谧。这份过于完美的美景，反而让她心中升起一丝警惕。\r\n<statusbar>\r\n{\r\n  "状态总览": {\r\n    "行动选项": {\r\n      "🧝‍♀️ 行动人": "${characterName}",\r\n      "📜 可选行动": [\r\n        "1. 🧝‍♀️  检查自身状况，感受体内那股温润的能量。",\r\n        "2. 📖 好像有种莫名的感觉，看看有没有绑定什么系统",\r\n        "3. 💧 走到湖边，仔细观察这奇特的春雨和湖水。",\r\n        "4. 🌳 探索湖边的森林，寻找可以避雨或利用的资源。"\r\n      ]\r\n    }\r\n  }\r\n}\r\n</statusbar>`,\n        \'season-summer\': (characterName) => `\r\n温暖。这是萧栖雪恢复意识后，身体反馈给大脑的第一个信号。\r\n\r\n这股暖意并非来自阳光，而是一种从空气中渗透进来的、温润而平和的能量，如同浸泡在温泉中一般，舒缓着她身体的虚弱和后脑的疼痛。\r\n\r\n*好舒服……这里是……？*\r\n\r\n她轻轻动了动手指，触感是柔软而富有弹性的青草。空气中弥漫着淡淡的、类似莲花的清香，以及湿润的泥土气息。她缓缓睁开双眼，一片如梦似幻的景象映入眼帘。\r\n\r\n眼前是一片广阔而平静的湖泊，湖面如镜，倒映着天空中一金一银的双月。湖水清澈见底，可以看到五彩斑斓的鱼群在发光的水草间悠然穿梭。湖中央，一株巨大的、散发着柔和白光的莲花静静绽放。整个湖泊都笼罩在一层淡淡的、肉眼可见的氤氲灵气之中。\r\n\r\n*……人间仙境？*\r\n\r\n她慢慢坐起身，感觉身体的疲惫一扫而空。湖畔绿草如茵，远处是郁郁葱葱的森林，一切都显得那么宁静而祥和。然而，这份宁静之下，却隐藏着一丝不同寻常的气息。她注意到，湖边的某些植物形态奇异，闪烁着微光，而远处的森林也显得异常静谧，听不到一丝鸟叫或虫鸣。这份过于完美的美景，反而让她心中升起一丝警惕。\r\n<statusbar>\r\n{\r\n  "状态总览": {\r\n    "行动选项": {\r\n      "🧝‍♀️ 行动人": "${characterName}",\r\n      "📜 可选行动": [\r\n        "1. 🧝‍♀️  检查自身状况，感受体内那股温暖的能量。",\r\n        "2. 📖 好像有种莫名的感觉，看看有没有绑定什么系统",\r\n        "3. 💧 走到湖边，仔细观察湖水和水中的生物。",\r\n        "4. 🌳 探索湖边的森林，寻找可用的资源。"\r\n      ]\r\n    }\r\n  }\r\n}\r\n</statusbar>`,\n        \'season-autumn\': (characterName) => `\r\n清爽。这是萧栖雪恢复意识后，身体反馈给大脑的第一个信号。\r\n\r\n这股清爽的感觉，来自空气中微凉的、带着淡淡桂花香气的风。风拂过脸颊，吹散了她意识中的混沌，也让后脑的疼痛变得不再那么难以忍受。\r\n\r\n*……好香。这里是哪里？*\r\n\r\n她动了动手指，触碰到的是一层柔软的、略带干燥的落叶。空气中弥漫着成熟果实的甜香和草木的清香。她缓缓睁开双眼，一幅色彩斑斓的秋日图景映入眼帘。\r\n\r\n眼前是一片广阔而平静的湖泊，湖面如同一块巨大的蓝宝石，倒映着秋日高远的天空和天边绚烂的晚霞。湖岸边，枫林如火，银杏金黄，各色树木的倒影在水中交织，美不胜收。湖中央，那株巨大的莲花已经结出了莲蓬，静静地矗立着。\r\n\r\n*……太美了。*\r\n\r\n她慢慢坐起身，感觉神清气爽。湖畔铺满了金色的落叶，踩上去沙沙作响。远处是色彩斑斓的森林，显得宁静而富饶。然而，这份宁静之下，却隐藏着一丝萧瑟。她注意到，空气中除了花果的香气，还有一种草木凋零的气息。这份美丽带着一丝转瞬即逝的伤感，让她心中升起一丝警惕。\r\n<statusbar>\r\n{\r\n  "状态总览": {\r\n    "行动选项": {\r\n      "🧝‍♀️ 行动人": "${characterName}",\r\n      "📜 可选行动": [\r\n        "1. 🧝‍♀️  检查自身状况，评估身体状态。",\r\n        "2. 📖 好像有种莫名的感觉，看看有没有绑定什么系统",\r\n        "3. 💧 走到湖边，欣赏这片秋日湖景。",\r\n        "4. 🌳 探索湖边的森林，寻找成熟的果实。"\r\n      ]\r\n    }\r\n  }\r\n}\r\n</statusbar>`,\n        \'season-winter\': (characterName) => `\r\n静谧。这是萧栖雪恢复意识后，大脑对周遭环境的第一个感知。\r\n\r\n身体的感觉是寒冷，但并非刺骨。一层薄薄的积雪覆盖着她的身体，如同柔软的棉被，隔绝了部分寒意。空气清冽而干净，每一次呼吸都带着冰雪的气息。后脑的疼痛似乎被这低温镇定，变得不再那么剧烈。\r\n\r\n*……下雪了？*\r\n\r\n她轻轻动了动手指，触感是松软的积雪。她缓缓睁开双眼，一个银装素裹的琉璃世界映入眼帘。\r\n\r\n眼前是一片已经完全冰封的湖泊，湖面光滑如镜，倒映着灰白色的天空。雪花还在一片片地、无声地飘落。湖岸边的树木都挂上了美丽的雾凇，如同玉树琼花。湖中央，那株巨大的莲花也已被冰雪覆盖，形成了一座奇异的冰雕。整个世界除了雪花飘落的沙沙声，再无任何声响。\r\n\r\n*……好安静。*\r\n\r\n她慢慢坐起身，拍掉身上的积雪。湖畔白雪皑皑，远处是寂静的雪林，一切都显得那么纯净而安详。然而，这份极致的安详之下，却隐藏着致命的危机。她注意到，雪地上没有任何动物的足迹，这片死寂的雪景，让她心中升起强烈的警惕。在这冰天雪地之中，生存是第一要务。\r\n<statusbar>\r\n{\r\n  "状态总览": {\r\n    "行动选项": {\r\n      "🧝‍♀️ 行动人": "${characterName}",\r\n      "📜 可选行动": [\r\n        "1. 🧝‍♀️  检查自身状况，评估身体在低温下的状态。",\r\n        "2. 📖 好像有种莫名的感觉，看看有没有绑定什么系统",\r\n        "3. 🧊 走到湖边，查看冰面的坚固程度。",\r\n        "4. 🌳 探索湖边的雪林，寻找可以生火的枯枝和避寒之所。"\r\n      ]\r\n    }\r\n  }\r\n}\r\n</statusbar>`,\n    },\n    // == Location: Forest ==\n    \'location-forest\': {\n        \'season-spring\': (characterName) => `\r\n潮湿。这是萧栖雪恢复意识后，身体反馈给大脑的第一个信号。\r\n\r\n这股潮气并非来自雨水，而是源于身下松软的土地和空气中弥漫的浓雾。雾气带着泥土和新叶的芬芳，吸入肺中，带着一丝凉意，也让后脑的疼痛有所缓解。\r\n\r\n*……起雾了？这是什么地方？*\r\n\r\n她艰难地蜷了蜷手指，触碰到的是一片湿润而富有生机的苔藓，指尖还能感受到其下松软的腐殖土。这触感让她瞬间清醒。空气中弥漫着浓郁的、雨后森林特有的泥土芬芳，混杂着腐烂落叶的微苦气息和不知名菌类散发出的奇异幽香。她挣扎着，用尽全力撑开沉重的眼皮。\r\n\r\n视线被一片乳白色的浓雾所占据。参天的古树在雾中只剩下模糊的轮廓，如同沉默的巨人。阳光无法穿透浓雾，整个林间的光线都显得昏暗而朦胧。脚下，各种蕨类植物和不知名的菌菇在潮湿的环境中疯狂生长，呈现出一种诡异的生命力。\r\n\r\n*……太安静了。*\r\n\r\n她猛地坐起身，全身的酸痛和寒意让她忍不住打了个寒颤。她环顾四周，能见度极低，高大的树木形态各异，许多植物都散发着微弱的荧光。不远处的灌木丛中，似乎有什么东西在窸窣作响。森林深处，传来一阵悠远而怪异的兽吼，在雾气中显得格外可怖。强烈的求生本能压倒了所有的迷茫与恐惧，她必须立刻行动起来。\r\n<statusbar>\r\n{\r\n  "状态总览": {\r\n    "行动选项": {\r\n      "🧝‍♀️ 行动人": "${characterName}",\r\n      "📜 可选行动": [\r\n        "1. 🧝‍♀️  检查自身状况，仔细查看身体是否有其他伤口。",\r\n        "2. 📖 好像有种莫名的感觉，看看有没有绑定什么系统",\r\n        "3. 🌳 寻找一棵粗壮的大树，背靠树干休息，警惕四周。",\r\n        "4. 💧 仔细聆听，尝试在浓雾中辨别方向和寻找水源。"\r\n      ]\r\n    }\r\n  }\r\n}\r\n</statusbar>`,\n        \'season-summer\': (characterName) => `\r\n阴冷，潮湿。这是萧栖雪恢复意识后，身体反馈给大脑的第一个信号。\r\n\r\n这股寒意并非来自低温，而是源于骨髓深处，仿佛生命力正被身下这片柔软而贪婪的苔藓缓慢吸走。后脑的钝痛依旧，让她无法集中精神，脑海中闪过的依旧是那些属于另一个世界的最后记忆：图书馆的灯光、纷乱的书页、导师失望的脸庞，以及那阵将她拖入黑暗的剧烈眩晕。\r\n\r\n*我……睡着了？这是……草地？*\r\n\r\n她艰难地蜷了蜷手指，触碰到的是一片柔软而湿润的苔藓，指尖还能感受到其下松软的腐殖土。这触感让她瞬间清醒。\r\n\r\n*图书馆里怎么会有苔藓和泥土？*\r\n\r\n空气中弥漫着浓郁的、雨后森林特有的泥土芬芳，混杂着腐烂落叶的微苦气息和不知名菌类散发出的奇异幽香。这复杂而原始的气味，彻底击碎了她关于图书馆的最后一丝幻想。她挣扎着，用尽全力撑开沉重的眼皮。\r\n\r\n视线被一片深邃的幽绿所占据。参天的古树遮天蔽日，巨大的树冠如同神话中巨人的华盖，将天空切割成无数个深紫色的碎片。一轮金色的弯月正悬于其中最大的一块碎片上，清冷的光辉透过枝叶的缝隙，在林间投下无数道晃动的、破碎的光柱。这不是地球。这个念头像一道惊雷，在她脑海中炸响。\r\n\r\n*……太离谱了。*\r\n\r\n她猛地坐起身，全身的酸痛和寒意让她忍不住打了个寒颤。她环顾四周，高大的树木形态各异，许多植物都散发着微弱的荧光。不远处的灌木丛中，一双闪烁着红光的眼睛一闪而逝。森林深处，传来一阵悠远而怪异的兽吼，仿佛在宣告着这片领域的主权。强烈的求生本能压倒了所有的迷茫与恐惧，她必须立刻行动起来。\r\n<statusbar>\r\n{\r\n  "状态总览": {\r\n    "行动选项": {\r\n      "🧝‍♀️ 行动人": "${characterName}",\r\n      "📜 可选行动": [\r\n        "1. 🧝‍♀️  检查自身状况，仔细查看身体是否有其他伤口。",\r\n        "2. 📖 好像有种莫名的感觉，看看有没有绑定什么系统",\r\n        "3. 🌳 寻找一棵粗壮的大树，背靠树干休息，警惕四周。",\r\n        "4. 💧 仔细聆听，尝试寻找附近是否有水源的声音。"\r\n      ]\r\n    }\r\n  }\r\n}\r\n</statusbar>`,\n        \'season-autumn\': (characterName) => `\r\n干燥。这是萧栖雪恢复意识后，身体反馈给大脑的第一个信号。\r\n\r\n这股干燥并非因为缺水，而是空气中弥漫着草木枯萎的气息。风吹过林间，卷起地上的落叶，发出沙沙的声响，如同某种低语。后脑的疼痛在这种萧瑟的环境中似乎也带上了一丝凉意。\r\n\r\n*……这里是哪里？*\r\n\r\n她动了动手指，触碰到的是厚厚的一层落叶，柔软而干燥。空气中弥漫着落叶、泥土和成熟浆果的混合气息。她缓缓睁开双眼，一幅金色的森林图景映入眼帘。\r\n\r\n视线被一片灿烂的金色所占据。高大的树木叶子大多已经变黄，阳光透过稀疏的枝叶，在铺满落叶的林间投下斑驳的光影。地面上，各种颜色的蘑菇和浆果随处可见，看起来像是一场丰盛的宴席。\r\n\r\n*……秋天的森林？*\r\n\r\n她慢慢坐起身，环顾四周。森林并不像夏日那般茂密，视野开阔了许多。不远处的地面上，可以看到一些动物留下的足迹。森林深处，传来一阵阵动物的叫声，有高亢的，也有低沉的，显得异常活跃。这份丰饶的景象之下，却隐藏着一丝紧迫感。她知道，这是动物们在为即将来临的冬天做准备。她也必须如此。\r\n<statusbar>\r\n{\r\n  "状态总览": {\r\n    "行动选项": {\r\n      "🧝‍♀️ 行动人": "${characterName}",\r\n      "📜 可选行动": [\r\n        "1. 🧝‍♀️  检查自身状况，评估身体状态。",\r\n        "2. 📖 好像有种莫名的感觉，看看有没有绑定什么系统",\r\n        "3. 🍎 尝试辨认并收集一些看起来可以食用的浆果。",\r\n        "4. 🐾 跟随地上的动物足迹，寻找水源或安全的栖身之所。"\r\n      ]\r\n    }\r\n  }\r\n}\r\n</statusbar>`,\n        \'season-winter\': (characterName) => `\r\n死寂。这是萧栖雪恢复意识后，大脑对周遭环境的第一个感知。\r\n\r\n身体的感觉是深入骨髓的寒冷。身下的土地坚硬如铁，一层薄雪如同白霜，覆盖着枯枝败叶。空气凛冽，每一次呼吸都像在吞咽冰冷的刀子。后脑的疼痛几乎被这严寒所麻痹。\r\n\r\n*……好冷。*\r\n\r\n她艰难地动了动手指，触碰到的是冰冷的、带着霜冻的落叶。她用尽全力睁开双眼，一个萧索而寂静的黑白世界映入眼帘。\r\n\r\n视线被一片枯败的景象所占据。参天的古树早已掉光了叶子，只剩下光秃秃的枝干，如同伸向天空的黑色手臂。天空是灰蒙蒙的，看不到太阳，也看不到月亮。地面覆盖着一层薄雪，整个森林里听不到任何声音，没有风声，没有鸟叫，也没有虫鸣，仿佛整个世界都被冻结了。\r\n\r\n*……这里的一切都死了吗？*\r\n\r\n她猛地坐起身，刺骨的寒风让她剧烈地颤抖起来。她环顾四周，高大的树木形态狰狞，如同墓碑。这片死寂的森林，让她感到一种发自内心的恐惧。强烈的求生本能压倒了所有的情绪，她必须立刻找到热源，否则很快就会被冻死在这里。\r\n<statusbar>\r\n{\r\n  "状态总览": {\r\n    "行动选项": {\r\n      "🧝‍♀️ 行动人": "${characterName}",\r\n      "📜 可选行动": [\r\n        "1. 🧝‍♀️  检查自身状况，评估在严寒下的身体状况。",\r\n        "2. 📖 好像有种莫名的感觉，看看有没有绑定什么系统",\r\n        "3. 🔥 在附近寻找干枯的树枝，尝试生火取暖。",\r\n        "4. 🛖 寻找可以抵御寒风的山洞或树洞。"\r\n      ]\r\n    }\r\n  }\r\n}\r\n</statusbar>`,\n    },\n    // == Location: Beach ==\n    \'location-beach\': {\n        \'season-spring\': (characterName) => `\r\n微咸。这是萧栖雪恢复意识后，味觉反馈给大脑的第一个信号。\r\n\r\n这股咸味来自空气中潮湿的海风。风是温和的，带着一丝凉意，吹在脸上很舒服，也让她混乱的思绪渐渐清晰。后脑的疼痛在海风的吹拂下，似乎也变得不再那么难以忍受。\r\n\r\n*……海？*\r\n\r\n她费力地动了动手指，指尖传来的是湿润而细腻的沙砾触感。空气中弥漫着海水的咸腥味和某种海藻特有的清新气息。她缓缓睁开双眼，一片广阔而生机勃勃的景象映入眼帘。\r\n\r\n眼前是一片被晨曦照亮的白色沙滩。潮水刚刚退去，在沙滩上留下了许多奇异的贝壳和五彩斑斓的海星。海浪平缓地拍打着海岸，发出悦耳的哗哗声。天空是淡粉色的，一轮金色的太阳正从海平面上缓缓升起。\r\n\r\n*……日出？*\r\n\r\n她慢慢坐起身，温暖的阳光洒在身上，驱散了身体的寒意。不远处，黑色的礁石上，附着着许多不知名的海洋生物。更远处，那片望不到边际的森林里，传来阵阵清脆的鸟鸣。强烈的求生本能压倒了最初的震惊和恐慌，她下意识地想要做出行动。\r\n<statusbar>\r\n{\r\n  "状态总览": {\r\n    "行动选项": {\r\n      "🧝‍♀️ 行动人": "${characterName}",\r\n      "📜 可选行动": [\r\n        "1. 🧝‍♀️  检查自身状况，仔细查看身体是否有其他伤口。",\r\n        "2. 📖 好像有种莫名的感觉，看看有没有绑定什么系统",\r\n        "3. 🐚 在沙滩上行走，寻找有用的东西，比如坚硬的贝壳或能吃的海产。",\r\n        "4. 🌳 小心地靠近森林边缘，观察林中的情况，评估危险性。"\r\n      ]\r\n    }\r\n  }\r\n}\r\n</statusbar>`,\n        \'season-summer\': (characterName) => `\r\n灼热。这是萧栖雪恢复意识后，身体反馈给大脑的第一个信号。\r\n\r\n这股热浪来自头顶那轮巨大的、散发着金色光芒的“太阳”。沙子滚烫，仿佛能将皮肤灼伤。空气中弥漫着浓郁的咸腥味，每一次呼吸都带着热浪。后脑的疼痛在高温的炙烤下，变得愈发剧烈。\r\n\r\n*……好热！*\r\n\r\n她费力地动了动手指，指尖传来的是干燥而滚烫的沙砾触感。她挣扎着睁开双眼，刺眼的阳光让她瞬间又闭上了眼睛。过了好一会儿，她才适应了光线，缓缓地再次睁开。\r\n\r\n眼前是一片被烈日照耀的、广阔无垠的白色沙滩。沙滩在视线尽头与墨绿色的、如同巨兽般匍匐的森林相连。海浪懒洋洋地拍打着海岸，反射着刺眼的光芒。天空是纯净的蓝色，万里无云。\r\n\r\n*……这不是地球。*\r\n\r\n她猛地坐起身，强烈的眩晕感和脱水感袭来。她环顾四周，一切都无比真实。不远处，黑色的礁石被晒得滚烫，空气都因此而扭曲。更远处，那片望不到边际的森林里，传来阵阵聒噪的蝉鸣。强烈的求生本能压倒了所有的不适，她必须立刻找到水源和阴凉处。\r\n<statusbar>\r\n{\r\n  "状态总览": {\r\n    "行动选项": {\r\n      "🧝‍♀️ 行动人": "${characterName}",\r\n      "📜 可选行动": [\r\n        "1. 🧝‍♀️  检查自身状况，评估身体的脱水程度。",\r\n        "2. 📖 好像有种莫名的感觉，看看有没有绑定什么系统",\r\n        "3. ⛰️ 寻找一处相对阴凉的礁石或高地，暂时躲避烈日。",\r\n        "4. 🌳 小心地靠近森林边缘，寻找水源和庇护所。"\r\n      ]\r\n    }\r\n  }\r\n}\r\n</statusbar>`,\n        \'season-autumn\': (characterName) => `\r\n凉爽。这是萧栖雪恢复意识后，身体反馈给大脑的第一个信号。\r\n\r\n这股凉意来自强劲而持续的海风。风中带着大海的咸腥和一丝萧瑟，吹得她衣衫猎猎作响。后脑的疼痛在这种环境下似乎被忽略了，她的全部注意力都被这片陌生的天地所吸引。\r\n\r\n*……风好大。*\r\n\r\n她动了动手指，触感是干燥而粗糙的沙砾。她缓缓睁开双眼，一幅苍凉而壮阔的景象映入眼帘。\r\n\r\n眼前是一片广阔的灰色沙滩。天空阴沉，云层很厚，太阳躲在云后，只透出微弱的光。海浪比她想象中要大得多，一波接一波地冲向岸边，发出巨大的轰鸣。一群不知名的海鸟逆着风，在低空盘旋，发出尖锐的叫声。\r\n\r\n*……世界末日一样。*\r\n\r\n她慢慢坐起身，环顾四周。不远处，黑色的礁石如同沉默的哨兵，任由浪花拍打。更远处，那片望不到边际的森林，树叶已经开始变黄，在狂风中摇曳。强烈的孤独感和渺小感攫住了她的心脏。在这片苍凉的天地间，她必须找到一个安全的避风港。\r\n<statusbar>\r\n{\r\n  "状态总览": {\r\n    "行动选项": {\r\n      "🧝‍♀️ 行动人": "${characterName}",\r\n      "📜 可选行动": [\r\n        "1. 🧝‍♀️  检查自身状况，评估身体状态。",\r\n        "2. 📖 好像有种莫名的感觉，看看有没有绑定什么系统",\r\n        "3. ⛰️ 寻找一处能够抵御海风的礁石群或山洞。",\r\n        "4. 🌳 小心地靠近森林边缘，寻找可以利用的资源。"\r\n      ]\r\n    }\r\n  }\r\n}\r\n</statusbar>`,\n        \'season-winter\': (characterName) => `\r\n冰凉。这是萧栖雪恢复意识后，身体反馈给大脑的第一个，也是唯一一个信号。\r\n\r\n这股寒意并非源于皮肤的接触，而是从四肢百骸深处弥漫开来，带着一种被抽干了所有力气的虚弱感。后脑的位置传来一下下规律的、沉闷的跳痛，让她的思维无法凝聚成一个完整的念头，只能任由一些混乱的、不成片段的画面在眼前闪烁：图书馆的日光灯、书页上密密-麻麻的批注、导师失望的眼神，以及最后——一阵突如其来的、仿佛能将灵魂都吸进去的剧烈眩晕。\r\n\r\n*我……这是在哪儿？熬夜太久，在图书馆睡着了？*\r\n\r\n她费力地动了动手指，指尖传来的是沙砾的粗糙触感，湿润而细碎。这触感让她大脑中模糊的念头第一次有了清晰的焦点。\r\n\r\n*沙子？图书馆里怎么会有沙子？*\r\n\r\n空气中弥漫着一股浓郁的咸腥味，夹杂着某种不知名植物破碎后散发出的、略带甜腻的芬芳。这两种气味混合在一起，形成了一种既陌生又强烈的冲击，彻底驱散了她脑海中关于图书馆的一切幻象。她努力了数次，终于用尽全力，将沉重的眼皮掀开了一条缝。\r\n\r\n视野先是模糊的，随后逐渐变得清晰。首先映入眼帘的，是一片被月光照亮的、广阔无垠的白色沙滩。沙滩在视线尽头与墨绿色的、如同巨兽般匍匐的森林相连。海浪不知疲倦地冲刷着海岸，在沙滩上留下一道道银白色的水痕。而这一切景象的光源，来自天空。她缓缓地、有些僵硬地抬起头，看向夜空。\r\n\r\n一轮金月，一-轮银月。它们安静地悬挂在深紫色的天幕之上，一大一小，彼此辉映。金色的月华温暖而柔和，银色的月光清冷而皎洁。两种截然不同的光芒交融在一起，为整个世界镀上了一层如梦似幻的滤镜。这不是地球，也不可能是地球。这个念头像一道冰冷的闪电，瞬间贯穿了萧栖雪的大脑。\r\n\r\n*……开什么玩笑。*\r\n\r\n她猛地坐起身，后脑的疼痛和身体的寒意让她倒吸了一口凉气。她环顾四周，一切都无比真实。不远处，黑色的礁石如同沉默的哨兵，任由浪花拍打。更远处，那片望不到边际的森林里，偶尔会传来几声不知名生物的、悠远而古怪的啼鸣。强烈的求生本能压倒了最初的震惊和恐慌，她下意识地想要做出行动。\r\n<statusbar>\r\n{\r\n  "状态总览": {\r\n    "行动选项": {\r\n      "🧝‍♀️ 行动人": "${characterName}",\r\n      "📜 可选行动": [\r\n        "1. 🧝‍♀️  检查自身状况，仔细查看身体是否有其他伤口。",\r\n        "2. 📖 好像有种莫名的感觉，看看有没有绑定什么系统",\r\n        "3. ⛰️ 寻找一处相对安全的礁石或高地，暂时躲避并恢复体力。",\r\n        "4. 🌳 小心地靠近森林边缘，观察林中的情况，评估危险性。"\r\n      ]\r\n    }\r\n  }\r\n}\r\n</statusbar>`,\n    },\n};\n/**\n * Generates the initial story message based on the player\'s choices.\n * This function is the single source of truth for creating the genesis message.\n * @param initialState - The initial state object from the setup module.\n * @returns The formatted genesis message string.\n */\nfunction getGenesisMessage(initialState) {\n    // Fallback to default values if the state is not properly defined.\n    const locationId = initialState?.世界?.初始设定?.初始地点 ?? \'location-beach\';\n    const seasonId = initialState?.世界?.初始设定?.初始季节 ?? \'season-spring\';\n    const characterName = initialState?.角色?.主控角色名 || \'你\';\n    // Retrieve the plot-generating function from the nested structure.\n    const plotFunction = genesisPlots[locationId]?.[seasonId];\n    // If a specific plot is not found, fall back to a default one to prevent errors.\n    if (plotFunction) {\n        return plotFunction(characterName);\n    }\n    else {\n        console.warn(`Genesis plot for location "${locationId}" and season "${seasonId}" not found. Falling back to default.`);\n        // Fallback to a known good default.\n        return genesisPlots[\'location-beach\'][\'season-spring\'](characterName);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvZGF0YS9nZW5lc2lzTWVzc2FnZXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTs7O0dBR0c7QUFFSCxvRkFBb0Y7QUFDcEYsTUFBTSxXQUFXLEdBQTJCO0lBQzFDLGVBQWUsRUFBRSxHQUFHO0lBQ3BCLGVBQWUsRUFBRSxHQUFHO0lBQ3BCLGVBQWUsRUFBRSxHQUFHO0lBQ3BCLGVBQWUsRUFBRSxHQUFHO0NBQ3JCLENBQUM7QUFFRix5RkFBeUY7QUFDbEYsTUFBTSxZQUFZLEdBQXNFO0lBQzdGLGdDQUFnQztJQUNoQyxlQUFlLEVBQUU7UUFDZixlQUFlLEVBQUUsQ0FBQyxhQUFhLEVBQUUsRUFBRSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7O3NCQWdCbEIsYUFBYTs7Ozs7Ozs7OzthQVV0QjtRQUNULGVBQWUsRUFBRSxDQUFDLGFBQWEsRUFBRSxFQUFFLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7c0JBZ0JsQixhQUFhOzs7Ozs7Ozs7O2FBVXRCO1FBQ1QsZUFBZSxFQUFFLENBQUMsYUFBYSxFQUFFLEVBQUUsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7OztzQkFnQmxCLGFBQWE7Ozs7Ozs7Ozs7YUFVdEI7UUFDVCxlQUFlLEVBQUUsQ0FBQyxhQUFhLEVBQUUsRUFBRSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7O3NCQWdCbEIsYUFBYTs7Ozs7Ozs7OzthQVV0QjtLQUNWO0lBQ0QsMkJBQTJCO0lBQzNCLGVBQWUsRUFBRTtRQUNmLGVBQWUsRUFBRSxDQUFDLGFBQWEsRUFBRSxFQUFFLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7OztzQkFrQmxCLGFBQWE7Ozs7Ozs7Ozs7YUFVdEI7UUFDVCxlQUFlLEVBQUUsQ0FBQyxhQUFhLEVBQUUsRUFBRSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7c0JBa0JsQixhQUFhOzs7Ozs7Ozs7O2FBVXRCO1FBQ1QsZUFBZSxFQUFFLENBQUMsYUFBYSxFQUFFLEVBQUUsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7O3NCQWtCbEIsYUFBYTs7Ozs7Ozs7OzthQVV0QjtRQUNULGVBQWUsRUFBRSxDQUFDLGFBQWEsRUFBRSxFQUFFLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7OztzQkFrQmxCLGFBQWE7Ozs7Ozs7Ozs7YUFVdEI7S0FDVjtJQUNELHlCQUF5QjtJQUN6QixpQkFBaUIsRUFBRTtRQUNqQixlQUFlLEVBQUUsQ0FBQyxhQUFhLEVBQUUsRUFBRSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7c0JBa0JsQixhQUFhOzs7Ozs7Ozs7O2FBVXRCO1FBQ1QsZUFBZSxFQUFFLENBQUMsYUFBYSxFQUFFLEVBQUUsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztzQkFzQmxCLGFBQWE7Ozs7Ozs7Ozs7YUFVdEI7UUFDVCxlQUFlLEVBQUUsQ0FBQyxhQUFhLEVBQUUsRUFBRSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7c0JBa0JsQixhQUFhOzs7Ozs7Ozs7O2FBVXRCO1FBQ1QsZUFBZSxFQUFFLENBQUMsYUFBYSxFQUFFLEVBQUUsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7O3NCQWtCbEIsYUFBYTs7Ozs7Ozs7OzthQVV0QjtLQUNWO0lBQ0Qsd0JBQXdCO0lBQ3hCLGdCQUFnQixFQUFFO1FBQ2hCLGVBQWUsRUFBRSxDQUFDLGFBQWEsRUFBRSxFQUFFLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7OztzQkFrQmxCLGFBQWE7Ozs7Ozs7Ozs7YUFVdEI7UUFDVCxlQUFlLEVBQUUsQ0FBQyxhQUFhLEVBQUUsRUFBRSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7c0JBa0JsQixhQUFhOzs7Ozs7Ozs7O2FBVXRCO1FBQ1QsZUFBZSxFQUFFLENBQUMsYUFBYSxFQUFFLEVBQUUsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7O3NCQWtCbEIsYUFBYTs7Ozs7Ozs7OzthQVV0QjtRQUNULGVBQWUsRUFBRSxDQUFDLGFBQWEsRUFBRSxFQUFFLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztzQkF3QmxCLGFBQWE7Ozs7Ozs7Ozs7YUFVdEI7S0FDVjtDQUNGLENBQUM7QUFFRjs7Ozs7R0FLRztBQUNJLFNBQVMsaUJBQWlCLENBQUMsWUFBaUI7SUFDakQsbUVBQW1FO0lBQ25FLE1BQU0sVUFBVSxHQUFHLFlBQVksRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksSUFBSSxnQkFBZ0IsQ0FBQztJQUNwRSxNQUFNLFFBQVEsR0FBRyxZQUFZLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLElBQUksZUFBZSxDQUFDO0lBQ2pFLE1BQU0sYUFBYSxHQUFHLFlBQVksRUFBRSxFQUFFLEVBQUUsS0FBSyxJQUFJLEdBQUcsQ0FBQztJQUVyRCxtRUFBbUU7SUFDbkUsTUFBTSxZQUFZLEdBQUcsWUFBWSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUM7SUFFMUQsaUZBQWlGO0lBQ2pGLElBQUksWUFBWSxFQUFFLENBQUM7UUFDakIsT0FBTyxZQUFZLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDckMsQ0FBQztTQUFNLENBQUM7UUFDTixPQUFPLENBQUMsSUFBSSxDQUFDLDhCQUE4QixVQUFVLGlCQUFpQixRQUFRLHVDQUF1QyxDQUFDLENBQUM7UUFDdkgsb0NBQW9DO1FBQ3BDLE9BQU8sWUFBWSxDQUFDLGdCQUFnQixDQUFDLENBQUMsZUFBZSxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDeEUsQ0FBQztBQUNILENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlLy4vc3JjL+S7gOS5iOaIkeimgeWcqOeOhOW5u+S/ruS7meS4lueVjOenjeeUsC0w5qW854mI5pysL2RhdGEvZ2VuZXNpc01lc3NhZ2VzLnRzPyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQGZpbGUgVGhpcyBmaWxlIGNvbnRhaW5zIHRoZSBnZW5lc2lzIG1lc3NhZ2VzIGZvciB0aGUgZ2FtZSdzIGJlZ2lubmluZywgYmFzZWQgb24gbG9jYXRpb24gYW5kIHNlYXNvbi5cclxuICogRWFjaCBtZXNzYWdlIGlzIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyB0aGUgY2hhcmFjdGVyJ3MgbmFtZSBhbmQgcmV0dXJucyBhIGZvcm1hdHRlZCBzdHJpbmcgd2l0aCBhIHN0YXR1cyBiYXIuXHJcbiAqL1xyXG5cclxuLy8gQSBtYXBwaW5nIG9mIHNlYXNvbiBJRHMgdG8gdGhlaXIgQ2hpbmVzZSBuYW1lcyBmb3IgcG90ZW50aWFsIHVzZSBpbiBkZXNjcmlwdGlvbnMuXHJcbmNvbnN0IHNlYXNvbk5hbWVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xyXG4gICdzZWFzb24tc3ByaW5nJzogJ+aYpScsXHJcbiAgJ3NlYXNvbi1zdW1tZXInOiAn5aSPJyxcclxuICAnc2Vhc29uLWF1dHVtbic6ICfnp4snLFxyXG4gICdzZWFzb24td2ludGVyJzogJ+WGrCcsXHJcbn07XHJcblxyXG4vLyBBIGNvbGxlY3Rpb24gb2YgYWxsIHBvc3NpYmxlIGdlbmVzaXMgcGxvdHMsIHN0cnVjdHVyZWQgYnkgbG9jYXRpb24gYW5kIHRoZW4gYnkgc2Vhc29uLlxyXG5leHBvcnQgY29uc3QgZ2VuZXNpc1Bsb3RzOiBSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8c3RyaW5nLCAoY2hhcmFjdGVyTmFtZTogc3RyaW5nKSA9PiBzdHJpbmc+PiA9IHtcclxuICAvLyA9PSBMb2NhdGlvbjogTW91bnRhaW4gUGVhayA9PVxyXG4gICdsb2NhdGlvbi1wZWFrJzoge1xyXG4gICAgJ3NlYXNvbi1zcHJpbmcnOiAoY2hhcmFjdGVyTmFtZSkgPT4gYFxyXG7mlpnls63jgILov5nmmK/okKfmoJbpm6rmgaLlpI3mhI/or4blkI7vvIzouqvkvZPlj43ppojnu5nlpKfohJHnmoTnrKzkuIDkuKrkv6Hlj7fjgIJcclxuXHJcbuWvkuaEj+W5tumdnuadpeiHquS4peWGrOeahOmFt+eDiO+8jOiAjOaYr+S4gOenjeS4h+eJqeWkjeiLj+S5i+mZhe+8jOWGsOmbquWIneiejeaXtueahOa5v+WGt+OAgumjjuS4reWkueadguedgOaWsOe/u+eahOazpeWcn+WSjOS4jeefpeWQjeWrqeiKveeahOa4heaWsOawlOaBr++8jOWQuOWFpeiCuuiFke+8jOWNtOW4puedgOS4gOS4neWIuumqqOeahOWHieOAguWQjuiEkeeahOmSneeXm+S7v+S9m+iiq+i/meiCoeWHieaEj+a1uOmAj++8jOWPmOW+l+i/n+e8k+iAjOm6u+acqOOAguWluei0ueWKm+WcsOedgeW8gOecvO+8jOinhue6v+S7juaooeeziumAkOa4kOiBmueEpuOAglxyXG5cclxuKuKApuKApuaIkeWcqOWTquWEv++8nypcclxuXHJcbui6q+S4i+aYr+WdmuehrOiAjOa9rua5v+eahOWyqeefs++8jOefs+e8nemXtOmhveW8uuWcsOmSu+WHuuWHoOeCueaWsOe7v++8jOaMguedgOaZtuiOueeahOmcsuePoOOAguWlueWPkeeOsOiHquW3seato+i6q+WkhOS4gOW6p+WtpOmrmOeahOWxseW3he+8jOWbm+WRqOaYr+e8k+e8k+a1gea3jOeahOS6kea1t++8jOaYpeaXpeeahOmYs+WFieepv+mAj+S6keWxgu+8jOS4uui/meeJh+eZveiJsueahOa1t+a0i+mVgOS4iuS6huS4gOWxgua4qeaalueahOmHkei+ueOAgui/nOWkhO+8jOWHoOW6p+abtOWKoOmrmOiAuOeahOWxseWzsOS4iu+8jOeakeeakeeZvembquato+WcqOa2iOieje+8jOmcsuWHuumdkum7keiJsueahOWxseS9k++8jOWmguWQjOawtOWiqOeUu+iIrOWxguasoeWIhuaYjuOAguWkqeepuuaYr+S4gOenjea0l+e7g+i/h+eahOa5m+iTne+8jOe6r+WHgOW+l+ayoeacieS4gOS4neadgui0qOOAglxyXG5cclxuKui/meS4jeaYr+WcsOeQg+KApuKApipcclxuXHJcbuWlueaMo+aJjuedgOWdkOi1t+i6q++8jOecqeaZleaEn+iireadpe+8jOiuqeWlueS4jeW+l+S4jeS8uOaJi+aJtuS9j+i6q+aXgeeahOWyqeefs+OAguWQkeS4i+acm+WOu++8jOaYr+a3seS4jeingeW6leeahOaCrOW0luWzrS3lo4HvvIzkupHpm77nvK0t57uV77yM6ZqQ57qm5Y+v6KeB5bGx6IWw5aSE5bey5piv5LiA54mH5paw57u/44CC5YG25bCU5pyJ54G15ben55qE6aOe6bif5o6g6L+H77yM5Y+R5Ye65riF6ISG55qE6bij5Y+r77yM57uZ6L+Z54mH5a+C6Z2Z55qE5aSp5Zyw5bim5p2l5LiA5Lid55Sf5py644CC54S26ICM77yM6L+Z55Sf5py65LmL5LiL77yM5r2c6JeP55qE5Y205piv5pyq55+l55qE5Y2x6Zmp44CC5Zyo6L+Z57ud5Zyw5aSp6YCa5LmL5aSE77yM5q+P5LiA5q2l6YO95b+F6aG75bCP5b+D57+857+844CCXHJcbjxzdGF0dXNiYXI+XHJcbntcclxuICBcIueKtuaAgeaAu+iniFwiOiB7XHJcbiAgICBcIuihjOWKqOmAiemhuVwiOiB7XHJcbiAgICAgIFwi8J+nneKAjeKZgO+4jyDooYzliqjkurpcIjogXCIke2NoYXJhY3Rlck5hbWV9XCIsXHJcbiAgICAgIFwi8J+TnCDlj6/pgInooYzliqhcIjogW1xyXG4gICAgICAgIFwiMS4g8J+nneKAjeKZgO+4jyAg5qOA5p+l6Ieq6Lqr54q25Ya177yM6K+E5Lyw6Lqr5L2T54q25oCB5ZKM5Y+v6IO955qE5Lyk5Yq/44CCXCIsXHJcbiAgICAgICAgXCIyLiDwn5OWIOWlveWDj+acieenjeiOq+WQjeeahOaEn+inie+8jOeci+eci+acieayoeaciee7keWumuS7gOS5iOezu+e7n1wiLFxyXG4gICAgICAgIFwiMy4g8J+nrSDop4Llr5/lm5vlkajvvIzlr7vmib7kuIDmnaHnp6/pm6rono3ljJblkI7nm7jlr7nlronlhajnmoTkuIvlsbHot6/lvoTjgIJcIixcclxuICAgICAgICBcIjQuIPCfjLEg5Zyo6ZmE6L+R5a+75om+5Y+v6aOf55So55qE5qSN54mp5aup6Iq95oiW5rC05rqQ44CCXCJcclxuICAgICAgXVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG48L3N0YXR1c2Jhcj5gLFxyXG4gICAgJ3NlYXNvbi1zdW1tZXInOiAoY2hhcmFjdGVyTmFtZSkgPT4gYFxyXG7pl7fng63jgILov5nmmK/okKfmoJbpm6rmgaLlpI3mhI/or4blkI7vvIzouqvkvZPlj43ppojnu5nlpKfohJHnmoTnrKzkuIDkuKrkv6Hlj7fjgIJcclxuXHJcbueDremHj+W5tumdnuadpeiHqueDiOaXpeeahOaatOaZku+8jOiAjOaYr+a6kOS6juWkqeWcsOmXtOWFheaym+W+l+i/keS5jueymOeooOeahOawtOaxveS4jueBteawlOOAguepuuawlOS7v+S9m+WHneWbuuS6hu+8jOavj+S4gOasoeWRvOWQuOmDveW4puedgOayieeUuOeUuOeahOmHjemHj+OAgumjjuaYr+e9leingeeahOWlouS+iOWTge+8jOWBtuacieS4gOS4neaLgui/h++8jOS5n+W4puedgOS7pOS6uueDpui6geeahOaaluaEj+OAguWQjuiEkeeahOeWvOeXm+WcqOi/memXt+eDreS4reiiq+aUvuWkp++8jOWmguWQjOaBvOS6uueahOW/g+i3s+OAguWlueiJsOmavuWcsOedgeW8gOecvO+8jOinhue6v+WboOmineWktOeahOaxl+awtOiAjOacieS6m+aooeeziuOAglxyXG5cclxuKuKApuKApui/memHjOaYr+KApuKApu+8nypcclxuXHJcbui6q+S4i+aYr+a7mueDq+eahOWyqeefs++8jOS7v+S9m+iiq+eDiOaXpeeCmeeDpOS6huS4gOaVtOWkqeOAguWlueWPkeeOsOiHquW3seato+i6q+WkhOS4gOW6p+WtpOmrmOeahOWxseW3he+8jOWbm+WRqOeahOS6kea1t+e/u+a7muW+l+W8guW4uOWJp+eDiO+8jOWmguWQjOayuOiFvueahOW8gOawtOOAgui/nOWkhOeahOWkqemZhee6v++8jOS5jOS6keato+WcqOiBmumbhu+8jOmakOmakOaciembt+WFieWcqOS6keWxgua3seWkhOmXqueDge+8jOWPkeWHuuayiemXt+eahOi9sOm4o+OAguWkqeepuuaYr+S4gOenjeWOi+aKkeeahOmTheeBsOiJsu+8jOepuuawlOS4reW8pea8q+edgOmjjumbqOassuadpeeahOawlOaBr+OAguWxseW3heeahOakjeiiq+W8guW4uOe5geiMgu+8jOa3see7v+iJsueahOmSiOWPtuakjeeJqeS4iuaMguedgOmlsea7oeeahOmcsuePoO+8jOaKmOWwhOedgOivoeW8gueahOWFieOAglxyXG5cclxuKui/meS4jeaYr+WcsOeQg+KApuKApipcclxuXHJcbuWlueaMo+aJjuedgOWdkOi1t+i6q++8jOW8uueDiOeahOeqkuaBr+aEn+iuqeWlueiDuOWPo+WPkemXt+OAguWQkeS4i+acm+WOu++8jOaYr+a3seS4jeingeW6leeahOaCrOW0luWzrS3lo4HvvIzkupHpm77nvK0t57uV77yM5Y206YGu5LiN5L2P5bGx6IWw6YKj5LiA54mH55Sf5py65YuD5YuD55qE5Y6f5aeL5qOu5p6X44CC5YG25bCU5pyJ5beo5aSn55qE44CB57+85bGV5oOK5Lq655qE5oCq6bif5LuO5LqR5rW35Lit5Yay5aSp6ICM6LW377yM5Y+R5Ye656m/5LqR6KOC55+z6Iis55qE5ZW86bij77yM5Ly85LmO5Zyo5a6j5ZGK552A6aKG5Zyw44CC5by654OI55qE5Y2x5py65oSf5pSr5L2P5LqG5aW555qE5b+D6ISP44CC5LiA5Zy654uC5pq055qE6Zu36Zuo5Y2z5bCG5p2l5Li077yM5aW55b+F6aG756uL5Yi75om+5Yiw6YG/6Zq+5LmL5omA44CCXHJcbjxzdGF0dXNiYXI+XHJcbntcclxuICBcIueKtuaAgeaAu+iniFwiOiB7XHJcbiAgICBcIuihjOWKqOmAiemhuVwiOiB7XHJcbiAgICAgIFwi8J+nneKAjeKZgO+4jyDooYzliqjkurpcIjogXCIke2NoYXJhY3Rlck5hbWV9XCIsXHJcbiAgICAgIFwi8J+TnCDlj6/pgInooYzliqhcIjogW1xyXG4gICAgICAgIFwiMS4g8J+nneKAjeKZgO+4jyAg5qOA5p+l6Ieq6Lqr54q25Ya177yM6K+E5Lyw6Lqr5L2T54q25oCB5ZKM5Y+v6IO955qE5Lyk5Yq/44CCXCIsXHJcbiAgICAgICAgXCIyLiDwn5OWIOWlveWDj+acieenjeiOq+WQjeeahOaEn+inie+8jOeci+eci+acieayoeaciee7keWumuS7gOS5iOezu+e7n1wiLFxyXG4gICAgICAgIFwiMy4g4puI77iPIOinguWvn+WcsOW9ou+8jOWvu+aJvuiDveWkn+i6sumBv+WNs+WwhuadpeS4tOeahOmbt+mbqOeahOWxsea0nuaIluWyqee8neOAglwiLFxyXG4gICAgICAgIFwiNC4g8J+SpyDlnKjpmYTov5Hlr7vmib7lj6/ku6Xppa7nlKjnmoTmsLTmupDvvIzooaXlhYXouqvkvZPmtYHlpLHnmoTmsLTliIbjgIJcIlxyXG4gICAgICBdXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbjwvc3RhdHVzYmFyPmAsXHJcbiAgICAnc2Vhc29uLWF1dHVtbic6IChjaGFyYWN0ZXJOYW1lKSA9PiBgXHJcbumrmOi/nOOAgui/meaYr+iQp+aglumbquaBouWkjeaEj+ivhuWQju+8jOWkp+iEkeWvueWRqOmBreeOr+Wig+eahOesrOS4gOS4quaEn+efpeOAglxyXG5cclxu6Lqr5L2T55qE5oSf6KeJ5piv5riF54i95ZKM5b6u5YeJ44CC56eL6aOO5bim552A5LiA5Lid5bmy54el77yM5ouC6L+H6IKM6IKk77yM5bim6LWw5LqG5aSP5pel55qE5pyA5ZCO5LiA5Lid5pqR5rCU77yM5Lmf6K6p5ZCO6ISR55qE55a855eb5Y+Y5b6X5riF5pmw6ICM5LiN5YaN6YKj5LmI5piP5rKJ44CC56m65rCU57qv5YeA6ICM56iA6JaE77yM5q+P5LiA5qyh5ZG85ZC46YO95Lu/5L2b6IO95rSX5rak5b+D54G144CC5aW557yT57yT552B5byA5Y+M55y877yM5LiA5bmF5aOu5Li955qE55S75Y235Zyo5aW56Z2i5YmN5bGV5byA44CCXHJcblxyXG4q4oCm4oCm6L+Z5piv5LuA5LmI5Zyw5pa577yfKlxyXG5cclxu6Lqr5LiL5piv5bmy54el6ICM57KX57OZ55qE5bKp55+z77yM54K557yA552A5LiA5Lqb5bey57uP5Y+Y5Li66YeR6buE6Imy55qE5aWH5byC5qSN54mp44CC5aW55Y+R546w6Ieq5bex5q2j6Lqr5aSE5LiA5bqn5a2k6auY55qE5bGx5beF77yM5Zub5ZGo55qE5LqR5rW35bmz57yT5aaC6ZWc77yM56eL5pel5p+U5ZKM55qE6Ziz5YWJ5rSS5Zyo5LiK6Z2i77yM5Y+N5bCE5Ye65rip5pqW55qE5YWJ5pmV44CC5aSp56m65piv6YKj56eN56eL5a2j54m55pyJ55qE44CB6auY6L+c6ICM57qv57K555qE5rmb6JOd6Imy77yM5Yeg57yV5reh6JaE55qE5LqR5Lid6aOY6L+H44CC6L+c5aSE55qE576k5bGx5bGC5p6X5bC95p+T77yM57qi6Imy44CB6buE6Imy44CB57u/6Imy5Lqk57uH5Zyo5LiA6LW377yM5aaC5ZCM5omT57+75LqG55qE6aKc5paZ55uY44CCXHJcblxyXG4q4oCm4oCm576O5b6X5LiN55yf5a6e44CCKlxyXG5cclxu5aW55oWi5oWi5Z2Q6LW36Lqr77yM55yp5pmV5oSf5b6I6L275b6u44CC5ZCR5LiL5pyb5Y6777yM5piv5rex5LiN6KeB5bqV55qE5oKs5bSW5bOtLeWjge+8jOS6kembvue8rS3nu5XvvIzljbTmjKHkuI3kvY/pgqPmvKvlsbHpgY3ph47nmoTnu5rng4Lnp4voibLjgILlgbblsJTmnInmiJDnvqTnmoTlgJnpuJ/mjpLmiJDlpYflvILnmoTpmLXlnovvvIzku47kupHmtbfkuYvkuIrmjqDov4fvvIzlj5Hlh7rmgqDov5zogIznlaXluKbokKfnkZ/nmoTpuKPlj6vjgILov5nku73lo67pmJTnmoTnvo7mma/orqnlpbnmmoLml7blv5jorrDkuobouqvlpITnmoTpmanlooPvvIzkvYbnkIbmmbrlvojlv6vlm57lvZLjgILlnKjov5nnu53lnLDlpKnpgJrkuYvlpITvvIznvo7kuL3lvoDlvoDkuI7ljbHpmanlubblrZjjgIJcclxuPHN0YXR1c2Jhcj5cclxue1xyXG4gIFwi54q25oCB5oC76KeIXCI6IHtcclxuICAgIFwi6KGM5Yqo6YCJ6aG5XCI6IHtcclxuICAgICAgXCLwn6ed4oCN4pmA77iPIOihjOWKqOS6ulwiOiBcIiR7Y2hhcmFjdGVyTmFtZX1cIixcclxuICAgICAgXCLwn5OcIOWPr+mAieihjOWKqFwiOiBbXHJcbiAgICAgICAgXCIxLiDwn6ed4oCN4pmA77iPICDmo4Dmn6Xoh6rouqvnirblhrXvvIzor4TkvLDouqvkvZPnirbmgIHlkozlj6/og73nmoTkvKTlir/jgIJcIixcclxuICAgICAgICBcIjIuIPCfk5Yg5aW95YOP5pyJ56eN6I6r5ZCN55qE5oSf6KeJ77yM55yL55yL5pyJ5rKh5pyJ57uR5a6a5LuA5LmI57O757ufXCIsXHJcbiAgICAgICAgXCIzLiDwn6etIOinguWvn+Wbm+WRqO+8jOWvu+aJvuS4gOadoeebuOWvueW5s+e8k+OAgemAguWQiOS4i+WxseeahOWxseiEiuOAglwiLFxyXG4gICAgICAgIFwiNC4g8J+NjiDlnKjpmYTov5Hlr7vmib7lj6/og73lrZjlnKjnmoTph47mnpzvvIzku6XlpIfkuI3ml7bkuYvpnIDjgIJcIlxyXG4gICAgICBdXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbjwvc3RhdHVzYmFyPmAsXHJcbiAgICAnc2Vhc29uLXdpbnRlcic6IChjaGFyYWN0ZXJOYW1lKSA9PiBgXHJcbuWIuumqqOOAgui/meaYr+iQp+aglumbquaBouWkjeaEj+ivhuWQju+8jOi6q+S9k+WPjemmiOe7meWkp+iEkeeahOesrOS4gOS4quS/oeWPt+OAglxyXG5cclxu6L+Z6IKh5a+S5oSP5bm26Z2e5rqQ5LqO6Jma5byx77yM6ICM5piv5p2l6Ieq56iA6JaE56m65rCU5Lit5peg5a2U5LiN5YWl55qE5Yeb5Ya95bGx6aOO44CC6aOO5aOw5aaC5ZCM6ay86a2F55qE5ZG85ZW477yM5Yiu6L+H6ICz55WU77yM5bim6LWw6Lqr5L2T5pyA5ZCO5LiA5Lid5rip5bqm44CC5ZCO6ISR55qE55a855eb5Ly85LmO6KKr6L+Z5a+S5Ya35Ya757uT77yM5Y+Y5b6X6bq75pyo6ICM6L+f6ZKd44CC5aW56LS55Yqb5Zyw552B5byA55y877yM6KeG57q/5LuO5qih57OK6YCQ5riQ6IGa54Sm44CCXHJcblxyXG4q4oCm4oCm5oiR5Zyo5ZOq5YS/77yfKlxyXG5cclxu6Lqr5LiL5piv5Z2a56Gs6ICM5Yaw5Ya355qE5bKp55+z77yM5LiK6Z2i6KaG55uW552A5LiA5bGC6JaE6JaE55qE56ev6Zuq44CC5aW55Y+R546w6Ieq5bex5q2j6Lqr5aSE5LiA5bqn5a2k6auY55qE5bGx5beF77yM5Zub5ZGo5piv57+75raM55qE5LqR5rW377yM5aaC5ZCM5peg5Z6g55qE55m96Imy5rW35rSL44CC6L+c5aSE77yM5Yeg5bqn5pu05Yqg6auY6IC455qE5bGx5bOw5aaC5ZCM5bKb5bG/6Iis5Zyo5LqR5rW35Lit6Iul6ZqQLeeOsO+8jOWxseS9k+mTtuijhee0oOijueOAguWkqeepuuaYr+S4gOenjei/keS5jua3see0q+eahOa5m+iTne+8jOWHoOmil+ehleWkp+iAjOmZjOeUn+eahOaYn+i+sOWNs+S+v+WcqOeZveaXpeS5n+a4heaZsOWPr+inge+8jOaVo+WPkeedgOWmluW8gueahOWFieiKkuOAglxyXG5cclxuKui/meS4jeaYr+WcsOeQg+KApuKApipcclxuXHJcbuWlueaMo+aJjuedgOWdkOi1t+i6q++8jOWJp+eDiOeahOecqeaZleaEn+iireadpe+8jOiuqeWlueS4jeW+l+S4jeS8uOaJi+aJtuS9j+i6q+aXgeeahOWyqeefs+OAguWQkeS4i+acm+WOu++8jOaYr+a3seS4jeingeW6leeahOaCrOW0luWzrS3lo4HvvIzkupHpm77nvK0t57uV77yM5Lu/5L2b6YCa5b6A5peg5bC955qE5rex5riK44CC5YG25bCU5pyJ5beo5aSn55qE44CB57+85bGV5oOK5Lq655qE5oCq6bif5LuO5LqR5rW35Lit5Yay5aSp6ICM6LW377yM5Y+R5Ye656m/5LqR6KOC55+z6Iis55qE5ZW86bij44CC5by654OI55qE5Y2x5py65oSf5ZKM5ri65bCP5oSf556s6Ze05pSr5L2P5LqG5aW555qE5b+D6ISP44CC5Zyo6L+Z57ud5Zyw5aSp6YCa5LmL5aSE77yM5q+P5LiA5q2l6YO95b+F6aG75bCP5b+D57+857+844CCXHJcbjxzdGF0dXNiYXI+XHJcbntcclxuICBcIueKtuaAgeaAu+iniFwiOiB7XHJcbiAgICBcIuihjOWKqOmAiemhuVwiOiB7XHJcbiAgICAgIFwi8J+nneKAjeKZgO+4jyDooYzliqjkurpcIjogXCIke2NoYXJhY3Rlck5hbWV9XCIsXHJcbiAgICAgIFwi8J+TnCDlj6/pgInooYzliqhcIjogW1xyXG4gICAgICAgIFwiMS4g8J+nneKAjeKZgO+4jyAg5qOA5p+l6Ieq6Lqr54q25Ya177yM6K+E5Lyw6Lqr5L2T54q25oCB5ZKM5Y+v6IO955qE5Lyk5Yq/44CCXCIsXHJcbiAgICAgICAgXCIyLiDwn5OWIOWlveWDj+acieenjeiOq+WQjeeahOaEn+inie+8jOeci+eci+acieayoeaciee7keWumuS7gOS5iOezu+e7n1wiLFxyXG4gICAgICAgIFwiMy4g8J+nrSDop4Llr5/lm5vlkajvvIzlr7vmib7kuIDmnaHnm7jlr7nlronlhajnmoTkuIvlsbHot6/lvoTjgIJcIixcclxuICAgICAgICBcIjQuIPCfm5Yg5Zyo6ZmE6L+R5a+75om+5Y+v5Lul5Li05pe26YG/6aOO55qE5bGx5rSe5oiW5bKp5aOB44CCXCJcclxuICAgICAgXVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG48L3N0YXR1c2Jhcj5gLFxyXG4gIH0sXHJcbiAgLy8gPT0gTG9jYXRpb246IExha2VzaWRlID09XHJcbiAgJ2xvY2F0aW9uLWxha2UnOiB7XHJcbiAgICAnc2Vhc29uLXNwcmluZyc6IChjaGFyYWN0ZXJOYW1lKSA9PiBgXHJcbua4qea2puOAgui/meaYr+iQp+aglumbquaBouWkjeaEj+ivhuWQju+8jOi6q+S9k+WPjemmiOe7meWkp+iEkeeahOesrOS4gOS4quS/oeWPt+OAglxyXG5cclxu6L+Z6IKh5pqW5oSP5bm26Z2e5p2l6Ieq6Ziz5YWJ77yM6ICM5piv5LiA56eN5LuO56m65rCU5Lit5riX6YCP6L+b5p2l55qE44CB5bim552A5r2u5rm/5rC05rG955qE5bmz5ZKM6IO96YeP44CC5aSp56m66aOY552A6JKZ6JKZ57uG6Zuo77yM6Zuo5Lid6L275p+U5Zyw6JC95Zyo5aW555qE6IS46aKK5LiK77yM6Z2e5L2G5LiN5Ya377yM5Y+N6ICM5pyJ56eN5aWH5byC55qE6IiS6YCC5oSf77yM5Ly85LmO5Zyo5ruL5YW7552A5aW555qE6Lqr5L2T77yM6IiS57yT552A5ZCO6ISR55qE55a855eb44CCXHJcblxyXG4q4oCm4oCm5LiL6Zuo5LqG77yf6L+Z6YeM5piv4oCm4oCm77yfKlxyXG5cclxu5aW56L276L275Yqo5LqG5Yqo5omL5oyH77yM6Kem5oSf5piv5rm/5ram6ICM5p+U6L2v55qE6Z2S6I2J77yM6L+Y5bim552A5paw6Iq955qE5by56Z+n44CC56m65rCU5Lit5byl5ryr552A6Zuo5rC044CB6Z2S6I2J5ZKM5reh5reh6Iqx6aaZ5re35ZCI55qE5rCU5oGv77yM5riF5paw5oCh5Lq644CC5aW557yT57yT552B5byA5Y+M55y877yM5LiA54mH54Of6Zuo5pym6IOn55qE5pmv6LGh5pig5YWl55y85biY44CCXHJcblxyXG7nnLzliY3mmK/kuIDniYflub/pmJTogIzlubPpnZnnmoTmuZbms4rvvIzmuZbpnaLnrLznvanlnKjoloToloTnmoTpm77msJTkuYvkuK3vvIzpm6jngrnokL3lnKjmuZbpnaLvvIzmvL7lvIDkuIDlnIjlnIjnu4blr4bnmoTmtp/mvKrjgILmuZblsrjovrnvvIzmn7PmoJHmir3lh7rmlrDmnp3vvIzlq6nnu7/nmoTmn7PmnaHlnKjlvq7po47nu4bpm6jkuK3ovbvovbvmkYfmm7PjgILmuZbkuK3lpK7vvIzpmpDnuqblj6/op4HkuIDmoKrlt6jlpKfnmoTjgIHlkKvoi57lvoXmlL7nmoTojrLoirHvvIzlnKjpm77msJTkuK3oi6Ut6ZqQ6Iul546w44CCXHJcblxyXG4q4oCm4oCm5aaC5ZCM5qKm5aKD5LiA6Iis44CCKlxyXG5cclxu5aW55oWi5oWi5Z2Q6LW36Lqr77yM5oSf6KeJ6Lqr5L2T55qE55ay5oOr6KKr6L+Z5pil6Zuo5rSX5rak5LiA56m644CC5rmW55WU57u/6I2J5aaC6Iy177yM6L+c5aSE5piv56y8572p5Zyo54Of6Zuo5Lit55qE5qOu5p6X77yM5LiA5YiH6YO95pi+5b6X6YKj5LmI5a6B6Z2Z6ICM5a+M5pyJ6K+X5oSP44CC54S26ICM77yM6L+Z5Lu95a6B6Z2Z5LmL5LiL77yM5Y206ZqQ6JeP552A5LiA5Lid5LiN5ZCM5a+75bi455qE5rCU5oGv44CC5aW55rOo5oSP5Yiw77yM5rmW6L6555qE5p+Q5Lqb5qSN54mp5b2i5oCB5aWH5byC77yM6Zeq54OB552A5b6u5YWJ77yM6ICM6L+c5aSE55qE5qOu5p6X5Lmf5pi+5b6X5byC5bi46Z2Z6LCn44CC6L+Z5Lu96L+H5LqO5a6M576O55qE576O5pmv77yM5Y+N6ICM6K6p5aW55b+D5Lit5Y2H6LW35LiA5Lid6K2m5oOV44CCXHJcbjxzdGF0dXNiYXI+XHJcbntcclxuICBcIueKtuaAgeaAu+iniFwiOiB7XHJcbiAgICBcIuihjOWKqOmAiemhuVwiOiB7XHJcbiAgICAgIFwi8J+nneKAjeKZgO+4jyDooYzliqjkurpcIjogXCIke2NoYXJhY3Rlck5hbWV9XCIsXHJcbiAgICAgIFwi8J+TnCDlj6/pgInooYzliqhcIjogW1xyXG4gICAgICAgIFwiMS4g8J+nneKAjeKZgO+4jyAg5qOA5p+l6Ieq6Lqr54q25Ya177yM5oSf5Y+X5L2T5YaF6YKj6IKh5rip5ram55qE6IO96YeP44CCXCIsXHJcbiAgICAgICAgXCIyLiDwn5OWIOWlveWDj+acieenjeiOq+WQjeeahOaEn+inie+8jOeci+eci+acieayoeaciee7keWumuS7gOS5iOezu+e7n1wiLFxyXG4gICAgICAgIFwiMy4g8J+SpyDotbDliLDmuZbovrnvvIzku5Tnu4bop4Llr5/ov5nlpYfnibnnmoTmmKXpm6jlkozmuZbmsLTjgIJcIixcclxuICAgICAgICBcIjQuIPCfjLMg5o6i57Si5rmW6L6555qE5qOu5p6X77yM5a+75om+5Y+v5Lul6YG/6Zuo5oiW5Yip55So55qE6LWE5rqQ44CCXCJcclxuICAgICAgXVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG48L3N0YXR1c2Jhcj5gLFxyXG4gICAgJ3NlYXNvbi1zdW1tZXInOiAoY2hhcmFjdGVyTmFtZSkgPT4gYFxyXG7muKnmmpbjgILov5nmmK/okKfmoJbpm6rmgaLlpI3mhI/or4blkI7vvIzouqvkvZPlj43ppojnu5nlpKfohJHnmoTnrKzkuIDkuKrkv6Hlj7fjgIJcclxuXHJcbui/meiCoeaaluaEj+W5tumdnuadpeiHqumYs+WFie+8jOiAjOaYr+S4gOenjeS7juepuuawlOS4rea4l+mAj+i/m+adpeeahOOAgea4qea2puiAjOW5s+WSjOeahOiDvemHj++8jOWmguWQjOa1uOazoeWcqOa4qeazieS4reS4gOiIrO+8jOiIkue8k+edgOWluei6q+S9k+eahOiZmuW8seWSjOWQjuiEkeeahOeWvOeXm+OAglxyXG5cclxuKuWlveiIkuacjeKApuKApui/memHjOaYr+KApuKApu+8nypcclxuXHJcbuWluei9u+i9u+WKqOS6huWKqOaJi+aMh++8jOinpuaEn+aYr+aflOi9r+iAjOWvjOacieW8ueaAp+eahOmdkuiNieOAguepuuawlOS4reW8pea8q+edgOa3oea3oeeahOOAgeexu+S8vOiOsuiKseeahOa4hemmme+8jOS7peWPiua5v+a2pueahOazpeWcn+awlOaBr+OAguWluee8k+e8k+edgeW8gOWPjOecvO+8jOS4gOeJh+WmguaipuS8vOW5u+eahOaZr+ixoeaYoOWFpeecvOW4mOOAglxyXG5cclxu55y85YmN5piv5LiA54mH5bm/6ZiU6ICM5bmz6Z2Z55qE5rmW5rOK77yM5rmW6Z2i5aaC6ZWc77yM5YCS5pig552A5aSp56m65Lit5LiA6YeR5LiA6ZO255qE5Y+M5pyI44CC5rmW5rC05riF5r6I6KeB5bqV77yM5Y+v5Lul55yL5Yiw5LqU5b2p5paR5paT55qE6bG8576k5Zyo5Y+R5YWJ55qE5rC06I2J6Ze05oKg54S256m/5qKt44CC5rmW5Lit5aSu77yM5LiA5qCq5beo5aSn55qE44CB5pWj5Y+R552A5p+U5ZKM55m95YWJ55qE6I6y6Iqx6Z2Z6Z2Z57u95pS+44CC5pW05Liq5rmW5rOK6YO956y8572p5Zyo5LiA5bGC5reh5reh55qE44CB6IKJ55y85Y+v6KeB55qE5rCk5rCy54G15rCU5LmL5Lit44CCXHJcblxyXG4q4oCm4oCm5Lq66Ze05LuZ5aKD77yfKlxyXG5cclxu5aW55oWi5oWi5Z2Q6LW36Lqr77yM5oSf6KeJ6Lqr5L2T55qE55ay5oOr5LiA5omr6ICM56m644CC5rmW55WU57u/6I2J5aaC6Iy177yM6L+c5aSE5piv6YOB6YOB6JGx6JGx55qE5qOu5p6X77yM5LiA5YiH6YO95pi+5b6X6YKj5LmI5a6B6Z2Z6ICM56Wl5ZKM44CC54S26ICM77yM6L+Z5Lu95a6B6Z2Z5LmL5LiL77yM5Y206ZqQ6JeP552A5LiA5Lid5LiN5ZCM5a+75bi455qE5rCU5oGv44CC5aW55rOo5oSP5Yiw77yM5rmW6L6555qE5p+Q5Lqb5qSN54mp5b2i5oCB5aWH5byC77yM6Zeq54OB552A5b6u5YWJ77yM6ICM6L+c5aSE55qE5qOu5p6X5Lmf5pi+5b6X5byC5bi46Z2Z6LCn77yM5ZCs5LiN5Yiw5LiA5Lid6bif5Y+r5oiW6Jmr6bij44CC6L+Z5Lu96L+H5LqO5a6M576O55qE576O5pmv77yM5Y+N6ICM6K6p5aW55b+D5Lit5Y2H6LW35LiA5Lid6K2m5oOV44CCXHJcbjxzdGF0dXNiYXI+XHJcbntcclxuICBcIueKtuaAgeaAu+iniFwiOiB7XHJcbiAgICBcIuihjOWKqOmAiemhuVwiOiB7XHJcbiAgICAgIFwi8J+nneKAjeKZgO+4jyDooYzliqjkurpcIjogXCIke2NoYXJhY3Rlck5hbWV9XCIsXHJcbiAgICAgIFwi8J+TnCDlj6/pgInooYzliqhcIjogW1xyXG4gICAgICAgIFwiMS4g8J+nneKAjeKZgO+4jyAg5qOA5p+l6Ieq6Lqr54q25Ya177yM5oSf5Y+X5L2T5YaF6YKj6IKh5rip5pqW55qE6IO96YeP44CCXCIsXHJcbiAgICAgICAgXCIyLiDwn5OWIOWlveWDj+acieenjeiOq+WQjeeahOaEn+inie+8jOeci+eci+acieayoeaciee7keWumuS7gOS5iOezu+e7n1wiLFxyXG4gICAgICAgIFwiMy4g8J+SpyDotbDliLDmuZbovrnvvIzku5Tnu4bop4Llr5/muZbmsLTlkozmsLTkuK3nmoTnlJ/nianjgIJcIixcclxuICAgICAgICBcIjQuIPCfjLMg5o6i57Si5rmW6L6555qE5qOu5p6X77yM5a+75om+5Y+v55So55qE6LWE5rqQ44CCXCJcclxuICAgICAgXVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG48L3N0YXR1c2Jhcj5gLFxyXG4gICAgJ3NlYXNvbi1hdXR1bW4nOiAoY2hhcmFjdGVyTmFtZSkgPT4gYFxyXG7muIXniL3jgILov5nmmK/okKfmoJbpm6rmgaLlpI3mhI/or4blkI7vvIzouqvkvZPlj43ppojnu5nlpKfohJHnmoTnrKzkuIDkuKrkv6Hlj7fjgIJcclxuXHJcbui/meiCoea4heeIveeahOaEn+inie+8jOadpeiHquepuuawlOS4reW+ruWHieeahOOAgeW4puedgOa3oea3oeahguiKsemmmeawlOeahOmjjuOAgumjjuaLgui/h+iEuOmiiu+8jOWQueaVo+S6huWlueaEj+ivhuS4reeahOa3t+ayjO+8jOS5n+iuqeWQjuiEkeeahOeWvOeXm+WPmOW+l+S4jeWGjemCo+S5iOmavuS7peW/jeWPl+OAglxyXG5cclxuKuKApuKApuWlvemmmeOAgui/memHjOaYr+WTqumHjO+8nypcclxuXHJcbuWlueWKqOS6huWKqOaJi+aMh++8jOinpueisOWIsOeahOaYr+S4gOWxguaflOi9r+eahOOAgeeVpeW4puW5sueHpeeahOiQveWPtuOAguepuuawlOS4reW8pea8q+edgOaIkOeGn+aenOWunueahOeUnOmmmeWSjOiNieacqOeahOa4hemmmeOAguWluee8k+e8k+edgeW8gOWPjOecvO+8jOS4gOW5heiJsuW9qeaWkeaWk+eahOeni+aXpeWbvuaZr+aYoOWFpeecvOW4mOOAglxyXG5cclxu55y85YmN5piv5LiA54mH5bm/6ZiU6ICM5bmz6Z2Z55qE5rmW5rOK77yM5rmW6Z2i5aaC5ZCM5LiA5Z2X5beo5aSn55qE6JOd5a6d55+z77yM5YCS5pig552A56eL5pel6auY6L+c55qE5aSp56m65ZKM5aSp6L6557ua54OC55qE5pma6Zye44CC5rmW5bK46L6577yM5p6r5p6X5aaC54Gr77yM6ZO25p2P6YeR6buE77yM5ZCE6Imy5qCR5pyo55qE5YCS5b2x5Zyo5rC05Lit5Lqk57uH77yM576O5LiN6IOc5pS244CC5rmW5Lit5aSu77yM6YKj5qCq5beo5aSn55qE6I6y6Iqx5bey57uP57uT5Ye65LqG6I6y6JOs77yM6Z2Z6Z2Z5Zyw55+X56uL552A44CCXHJcblxyXG4q4oCm4oCm5aSq576O5LqG44CCKlxyXG5cclxu5aW55oWi5oWi5Z2Q6LW36Lqr77yM5oSf6KeJ56We5riF5rCU54i944CC5rmW55WU6ZO65ruh5LqG6YeR6Imy55qE6JC95Y+277yM6Lip5LiK5Y675rKZ5rKZ5L2c5ZON44CC6L+c5aSE5piv6Imy5b2p5paR5paT55qE5qOu5p6X77yM5pi+5b6X5a6B6Z2Z6ICM5a+M6aW244CC54S26ICM77yM6L+Z5Lu95a6B6Z2Z5LmL5LiL77yM5Y206ZqQ6JeP552A5LiA5Lid6JCn55Gf44CC5aW55rOo5oSP5Yiw77yM56m65rCU5Lit6Zmk5LqG6Iqx5p6c55qE6aaZ5rCU77yM6L+Y5pyJ5LiA56eN6I2J5pyo5YeL6Zu255qE5rCU5oGv44CC6L+Z5Lu9576O5Li95bim552A5LiA5Lid6L2s556s5Y2z6YCd55qE5Lyk5oSf77yM6K6p5aW55b+D5Lit5Y2H6LW35LiA5Lid6K2m5oOV44CCXHJcbjxzdGF0dXNiYXI+XHJcbntcclxuICBcIueKtuaAgeaAu+iniFwiOiB7XHJcbiAgICBcIuihjOWKqOmAiemhuVwiOiB7XHJcbiAgICAgIFwi8J+nneKAjeKZgO+4jyDooYzliqjkurpcIjogXCIke2NoYXJhY3Rlck5hbWV9XCIsXHJcbiAgICAgIFwi8J+TnCDlj6/pgInooYzliqhcIjogW1xyXG4gICAgICAgIFwiMS4g8J+nneKAjeKZgO+4jyAg5qOA5p+l6Ieq6Lqr54q25Ya177yM6K+E5Lyw6Lqr5L2T54q25oCB44CCXCIsXHJcbiAgICAgICAgXCIyLiDwn5OWIOWlveWDj+acieenjeiOq+WQjeeahOaEn+inie+8jOeci+eci+acieayoeaciee7keWumuS7gOS5iOezu+e7n1wiLFxyXG4gICAgICAgIFwiMy4g8J+SpyDotbDliLDmuZbovrnvvIzmrKPotY/ov5nniYfnp4vml6XmuZbmma/jgIJcIixcclxuICAgICAgICBcIjQuIPCfjLMg5o6i57Si5rmW6L6555qE5qOu5p6X77yM5a+75om+5oiQ54af55qE5p6c5a6e44CCXCJcclxuICAgICAgXVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG48L3N0YXR1c2Jhcj5gLFxyXG4gICAgJ3NlYXNvbi13aW50ZXInOiAoY2hhcmFjdGVyTmFtZSkgPT4gYFxyXG7pnZnosKfjgILov5nmmK/okKfmoJbpm6rmgaLlpI3mhI/or4blkI7vvIzlpKfohJHlr7nlkajpga3njq/looPnmoTnrKzkuIDkuKrmhJ/nn6XjgIJcclxuXHJcbui6q+S9k+eahOaEn+inieaYr+WvkuWGt++8jOS9huW5tumdnuWIuumqqOOAguS4gOWxguiWhOiWhOeahOenr+mbquimhuebluedgOWlueeahOi6q+S9k++8jOWmguWQjOaflOi9r+eahOajieiiq++8jOmalOe7neS6humDqOWIhuWvkuaEj+OAguepuuawlOa4heWGveiAjOW5suWHgO+8jOavj+S4gOasoeWRvOWQuOmDveW4puedgOWGsOmbqueahOawlOaBr+OAguWQjuiEkeeahOeWvOeXm+S8vOS5juiiq+i/meS9jua4qemVh+Wumu+8jOWPmOW+l+S4jeWGjemCo+S5iOWJp+eDiOOAglxyXG5cclxuKuKApuKApuS4i+mbquS6hu+8nypcclxuXHJcbuWluei9u+i9u+WKqOS6huWKqOaJi+aMh++8jOinpuaEn+aYr+advui9r+eahOenr+mbquOAguWluee8k+e8k+edgeW8gOWPjOecvO+8jOS4gOS4qumTtuijhee0oOijueeahOeQieeSg+S4lueVjOaYoOWFpeecvOW4mOOAglxyXG5cclxu55y85YmN5piv5LiA54mH5bey57uP5a6M5YWo5Yaw5bCB55qE5rmW5rOK77yM5rmW6Z2i5YWJ5ruR5aaC6ZWc77yM5YCS5pig552A54Gw55m96Imy55qE5aSp56m644CC6Zuq6Iqx6L+Y5Zyo5LiA54mH54mH5Zyw44CB5peg5aOw5Zyw6aOY6JC944CC5rmW5bK46L6555qE5qCR5pyo6YO95oyC5LiK5LqG576O5Li955qE6Zu+5YeH77yM5aaC5ZCM546J5qCR55C86Iqx44CC5rmW5Lit5aSu77yM6YKj5qCq5beo5aSn55qE6I6y6Iqx5Lmf5bey6KKr5Yaw6Zuq6KaG55uW77yM5b2i5oiQ5LqG5LiA5bqn5aWH5byC55qE5Yaw6ZuV44CC5pW05Liq5LiW55WM6Zmk5LqG6Zuq6Iqx6aOY6JC955qE5rKZ5rKZ5aOw77yM5YaN5peg5Lu75L2V5aOw5ZON44CCXHJcblxyXG4q4oCm4oCm5aW95a6J6Z2Z44CCKlxyXG5cclxu5aW55oWi5oWi5Z2Q6LW36Lqr77yM5ouN5o6J6Lqr5LiK55qE56ev6Zuq44CC5rmW55WU55m96Zuq55qR55qR77yM6L+c5aSE5piv5a+C6Z2Z55qE6Zuq5p6X77yM5LiA5YiH6YO95pi+5b6X6YKj5LmI57qv5YeA6ICM5a6J6K+m44CC54S26ICM77yM6L+Z5Lu95p6B6Ie055qE5a6J6K+m5LmL5LiL77yM5Y206ZqQ6JeP552A6Ie05ZG955qE5Y2x5py644CC5aW55rOo5oSP5Yiw77yM6Zuq5Zyw5LiK5rKh5pyJ5Lu75L2V5Yqo54mp55qE6Laz6L+577yM6L+Z54mH5q275a+C55qE6Zuq5pmv77yM6K6p5aW55b+D5Lit5Y2H6LW35by654OI55qE6K2m5oOV44CC5Zyo6L+Z5Yaw5aSp6Zuq5Zyw5LmL5Lit77yM55Sf5a2Y5piv56ys5LiA6KaB5Yqh44CCXHJcbjxzdGF0dXNiYXI+XHJcbntcclxuICBcIueKtuaAgeaAu+iniFwiOiB7XHJcbiAgICBcIuihjOWKqOmAiemhuVwiOiB7XHJcbiAgICAgIFwi8J+nneKAjeKZgO+4jyDooYzliqjkurpcIjogXCIke2NoYXJhY3Rlck5hbWV9XCIsXHJcbiAgICAgIFwi8J+TnCDlj6/pgInooYzliqhcIjogW1xyXG4gICAgICAgIFwiMS4g8J+nneKAjeKZgO+4jyAg5qOA5p+l6Ieq6Lqr54q25Ya177yM6K+E5Lyw6Lqr5L2T5Zyo5L2O5rip5LiL55qE54q25oCB44CCXCIsXHJcbiAgICAgICAgXCIyLiDwn5OWIOWlveWDj+acieenjeiOq+WQjeeahOaEn+inie+8jOeci+eci+acieayoeaciee7keWumuS7gOS5iOezu+e7n1wiLFxyXG4gICAgICAgIFwiMy4g8J+niiDotbDliLDmuZbovrnvvIzmn6XnnIvlhrDpnaLnmoTlnZrlm7rnqIvluqbjgIJcIixcclxuICAgICAgICBcIjQuIPCfjLMg5o6i57Si5rmW6L6555qE6Zuq5p6X77yM5a+75om+5Y+v5Lul55Sf54Gr55qE5p6v5p6d5ZKM6YG/5a+S5LmL5omA44CCXCJcclxuICAgICAgXVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG48L3N0YXR1c2Jhcj5gLFxyXG4gIH0sXHJcbiAgLy8gPT0gTG9jYXRpb246IEZvcmVzdCA9PVxyXG4gICdsb2NhdGlvbi1mb3Jlc3QnOiB7XHJcbiAgICAnc2Vhc29uLXNwcmluZyc6IChjaGFyYWN0ZXJOYW1lKSA9PiBgXHJcbua9rua5v+OAgui/meaYr+iQp+aglumbquaBouWkjeaEj+ivhuWQju+8jOi6q+S9k+WPjemmiOe7meWkp+iEkeeahOesrOS4gOS4quS/oeWPt+OAglxyXG5cclxu6L+Z6IKh5r2u5rCU5bm26Z2e5p2l6Ieq6Zuo5rC077yM6ICM5piv5rqQ5LqO6Lqr5LiL5p2+6L2v55qE5Zyf5Zyw5ZKM56m65rCU5Lit5byl5ryr55qE5rWT6Zu+44CC6Zu+5rCU5bim552A5rOl5Zyf5ZKM5paw5Y+255qE6Iqs6Iqz77yM5ZC45YWl6IK65Lit77yM5bim552A5LiA5Lid5YeJ5oSP77yM5Lmf6K6p5ZCO6ISR55qE55a855eb5pyJ5omA57yT6Kej44CCXHJcblxyXG4q4oCm4oCm6LW36Zu+5LqG77yf6L+Z5piv5LuA5LmI5Zyw5pa577yfKlxyXG5cclxu5aW56Imw6Zq+5Zyw6Jy35LqG6Jy35omL5oyH77yM6Kem56Kw5Yiw55qE5piv5LiA54mH5rm/5ram6ICM5a+M5pyJ55Sf5py655qE6IuU6JeT77yM5oyH5bCW6L+Y6IO95oSf5Y+X5Yiw5YW25LiL5p2+6L2v55qE6IWQ5q6W5Zyf44CC6L+Z6Kem5oSf6K6p5aW5556s6Ze05riF6YaS44CC56m65rCU5Lit5byl5ryr552A5rWT6YOB55qE44CB6Zuo5ZCO5qOu5p6X54m55pyJ55qE5rOl5Zyf6Iqs6Iqz77yM5re35p2C552A6IWQ54OC6JC95Y+255qE5b6u6Ium5rCU5oGv5ZKM5LiN55+l5ZCN6I+M57G75pWj5Y+R5Ye655qE5aWH5byC5bm96aaZ44CC5aW55oyj5omO552A77yM55So5bC95YWo5Yqb5pKR5byA5rKJ6YeN55qE55y855qu44CCXHJcblxyXG7op4bnur/ooqvkuIDniYfkubPnmb3oibLnmoTmtZPpm77miYDljaDmja7jgILlj4LlpKnnmoTlj6TmoJHlnKjpm77kuK3lj6rliankuIvmqKHns4rnmoTova7lu5PvvIzlpoLlkIzmsonpu5jnmoTlt6jkurrjgILpmLPlhYnml6Dms5Xnqb/pgI/mtZPpm77vvIzmlbTkuKrmnpfpl7TnmoTlhYnnur/pg73mmL7lvpfmmI/mmpfogIzmnKbog6fjgILohJrkuIvvvIzlkITnp43olajnsbvmpI3nianlkozkuI3nn6XlkI3nmoToj4zoj4flnKjmva7mub/nmoTnjq/looPkuK3nlq/ni4LnlJ/plb/vvIzlkYjnjrDlh7rkuIDnp43or6HlvILnmoTnlJ/lkb3lipvjgIJcclxuXHJcbirigKbigKblpKrlronpnZnkuobjgIIqXHJcblxyXG7lpbnnjJvlnLDlnZDotbfouqvvvIzlhajouqvnmoTphbjnl5vlkozlr5LmhI/orqnlpbnlv43kuI3kvY/miZPkuobkuKrlr5LpoqTjgILlpbnnjq/pob7lm5vlkajvvIzog73op4HluqbmnoHkvY7vvIzpq5jlpKfnmoTmoJHmnKjlvaLmgIHlkITlvILvvIzorrjlpJrmpI3nianpg73mlaPlj5HnnYDlvq7lvLHnmoTojaflhYnjgILkuI3ov5zlpITnmoTngYzmnKjkuJvkuK3vvIzkvLzkuY7mnInku4DkuYjkuJzopb/lnKjnqrjnqqPkvZzlk43jgILmo67mnpfmt7HlpITvvIzkvKDmnaXkuIDpmLXmgqDov5zogIzmgKrlvILnmoTlhb3lkLzvvIzlnKjpm77msJTkuK3mmL7lvpfmoLzlpJblj6/mgJbjgILlvLrng4jnmoTmsYLnlJ/mnKzog73ljovlgJLkuobmiYDmnInnmoTov7fojKvkuI7mgZDmg6fvvIzlpbnlv4Xpobvnq4vliLvooYzliqjotbfmnaXjgIJcclxuPHN0YXR1c2Jhcj5cclxue1xyXG4gIFwi54q25oCB5oC76KeIXCI6IHtcclxuICAgIFwi6KGM5Yqo6YCJ6aG5XCI6IHtcclxuICAgICAgXCLwn6ed4oCN4pmA77iPIOihjOWKqOS6ulwiOiBcIiR7Y2hhcmFjdGVyTmFtZX1cIixcclxuICAgICAgXCLwn5OcIOWPr+mAieihjOWKqFwiOiBbXHJcbiAgICAgICAgXCIxLiDwn6ed4oCN4pmA77iPICDmo4Dmn6Xoh6rouqvnirblhrXvvIzku5Tnu4bmn6XnnIvouqvkvZPmmK/lkKbmnInlhbbku5bkvKTlj6PjgIJcIixcclxuICAgICAgICBcIjIuIPCfk5Yg5aW95YOP5pyJ56eN6I6r5ZCN55qE5oSf6KeJ77yM55yL55yL5pyJ5rKh5pyJ57uR5a6a5LuA5LmI57O757ufXCIsXHJcbiAgICAgICAgXCIzLiDwn4yzIOWvu+aJvuS4gOajteeyl+WjrueahOWkp+agke+8jOiDjOmdoOagkeW5suS8keaBr++8jOitpuaDleWbm+WRqOOAglwiLFxyXG4gICAgICAgIFwiNC4g8J+SpyDku5Tnu4bogYblkKzvvIzlsJ3or5XlnKjmtZPpm77kuK3ovqjliKvmlrnlkJHlkozlr7vmib7msLTmupDjgIJcIlxyXG4gICAgICBdXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbjwvc3RhdHVzYmFyPmAsXHJcbiAgICAnc2Vhc29uLXN1bW1lcic6IChjaGFyYWN0ZXJOYW1lKSA9PiBgXHJcbumYtOWGt++8jOa9rua5v+OAgui/meaYr+iQp+aglumbquaBouWkjeaEj+ivhuWQju+8jOi6q+S9k+WPjemmiOe7meWkp+iEkeeahOesrOS4gOS4quS/oeWPt+OAglxyXG5cclxu6L+Z6IKh5a+S5oSP5bm26Z2e5p2l6Ieq5L2O5rip77yM6ICM5piv5rqQ5LqO6aqo6auT5rex5aSE77yM5Lu/5L2b55Sf5ZG95Yqb5q2j6KKr6Lqr5LiL6L+Z54mH5p+U6L2v6ICM6LSq5amq55qE6IuU6JeT57yT5oWi5ZC46LWw44CC5ZCO6ISR55qE6ZKd55eb5L6d5pen77yM6K6p5aW55peg5rOV6ZuG5Lit57K+56We77yM6ISR5rW35Lit6Zeq6L+H55qE5L6d5pen5piv6YKj5Lqb5bGe5LqO5Y+m5LiA5Liq5LiW55WM55qE5pyA5ZCO6K6w5b+G77ya5Zu+5Lmm6aaG55qE54Gv5YWJ44CB57q35Lmx55qE5Lmm6aG144CB5a+85biI5aSx5pyb55qE6IS45bqe77yM5Lul5Y+K6YKj6Zi15bCG5aW55ouW5YWl6buR5pqX55qE5Ymn54OI55yp5pmV44CCXHJcblxyXG4q5oiR4oCm4oCm552h552A5LqG77yf6L+Z5piv4oCm4oCm6I2J5Zyw77yfKlxyXG5cclxu5aW56Imw6Zq+5Zyw6Jy35LqG6Jy35omL5oyH77yM6Kem56Kw5Yiw55qE5piv5LiA54mH5p+U6L2v6ICM5rm/5ram55qE6IuU6JeT77yM5oyH5bCW6L+Y6IO95oSf5Y+X5Yiw5YW25LiL5p2+6L2v55qE6IWQ5q6W5Zyf44CC6L+Z6Kem5oSf6K6p5aW5556s6Ze05riF6YaS44CCXHJcblxyXG4q5Zu+5Lmm6aaG6YeM5oCO5LmI5Lya5pyJ6IuU6JeT5ZKM5rOl5Zyf77yfKlxyXG5cclxu56m65rCU5Lit5byl5ryr552A5rWT6YOB55qE44CB6Zuo5ZCO5qOu5p6X54m55pyJ55qE5rOl5Zyf6Iqs6Iqz77yM5re35p2C552A6IWQ54OC6JC95Y+255qE5b6u6Ium5rCU5oGv5ZKM5LiN55+l5ZCN6I+M57G75pWj5Y+R5Ye655qE5aWH5byC5bm96aaZ44CC6L+Z5aSN5p2C6ICM5Y6f5aeL55qE5rCU5ZGz77yM5b275bqV5Ye756KO5LqG5aW55YWz5LqO5Zu+5Lmm6aaG55qE5pyA5ZCO5LiA5Lid5bm75oOz44CC5aW55oyj5omO552A77yM55So5bC95YWo5Yqb5pKR5byA5rKJ6YeN55qE55y855qu44CCXHJcblxyXG7op4bnur/ooqvkuIDniYfmt7HpgoPnmoTlub3nu7/miYDljaDmja7jgILlj4LlpKnnmoTlj6TmoJHpga7lpKnolL3ml6XvvIzlt6jlpKfnmoTmoJHlhqDlpoLlkIznpZ7or53kuK3lt6jkurrnmoTljY7nm5bvvIzlsIblpKnnqbrliIflibLmiJDml6DmlbDkuKrmt7HntKvoibLnmoTnoo7niYfjgILkuIDova7ph5HoibLnmoTlvK/mnIjmraPmgqzkuo7lhbbkuK3mnIDlpKfnmoTkuIDlnZfnoo7niYfkuIrvvIzmuIXlhrfnmoTlhYnovonpgI/ov4fmnp3lj7bnmoTnvJ3pmpnvvIzlnKjmnpfpl7TmipXkuIvml6DmlbDpgZPmmYPliqjnmoTjgIHnoLTnoo7nmoTlhYnmn7HjgILov5nkuI3mmK/lnLDnkIPjgILov5nkuKrlv7XlpLTlg4/kuIDpgZPmg4rpm7fvvIzlnKjlpbnohJHmtbfkuK3ngrjlk43jgIJcclxuXHJcbirigKbigKblpKrnprvosLHkuobjgIIqXHJcblxyXG7lpbnnjJvlnLDlnZDotbfouqvvvIzlhajouqvnmoTphbjnl5vlkozlr5LmhI/orqnlpbnlv43kuI3kvY/miZPkuobkuKrlr5LpoqTjgILlpbnnjq/pob7lm5vlkajvvIzpq5jlpKfnmoTmoJHmnKjlvaLmgIHlkITlvILvvIzorrjlpJrmpI3nianpg73mlaPlj5HnnYDlvq7lvLHnmoTojaflhYnjgILkuI3ov5zlpITnmoTngYzmnKjkuJvkuK3vvIzkuIDlj4zpl6rng4HnnYDnuqLlhYnnmoTnnLznnZvkuIDpl6rogIzpgJ3jgILmo67mnpfmt7HlpITvvIzkvKDmnaXkuIDpmLXmgqDov5zogIzmgKrlvILnmoTlhb3lkLzvvIzku7/kvZvlnKjlrqPlkYrnnYDov5nniYfpoobln5/nmoTkuLvmnYPjgILlvLrng4jnmoTmsYLnlJ/mnKzog73ljovlgJLkuobmiYDmnInnmoTov7fojKvkuI7mgZDmg6fvvIzlpbnlv4Xpobvnq4vliLvooYzliqjotbfmnaXjgIJcclxuPHN0YXR1c2Jhcj5cclxue1xyXG4gIFwi54q25oCB5oC76KeIXCI6IHtcclxuICAgIFwi6KGM5Yqo6YCJ6aG5XCI6IHtcclxuICAgICAgXCLwn6ed4oCN4pmA77iPIOihjOWKqOS6ulwiOiBcIiR7Y2hhcmFjdGVyTmFtZX1cIixcclxuICAgICAgXCLwn5OcIOWPr+mAieihjOWKqFwiOiBbXHJcbiAgICAgICAgXCIxLiDwn6ed4oCN4pmA77iPICDmo4Dmn6Xoh6rouqvnirblhrXvvIzku5Tnu4bmn6XnnIvouqvkvZPmmK/lkKbmnInlhbbku5bkvKTlj6PjgIJcIixcclxuICAgICAgICBcIjIuIPCfk5Yg5aW95YOP5pyJ56eN6I6r5ZCN55qE5oSf6KeJ77yM55yL55yL5pyJ5rKh5pyJ57uR5a6a5LuA5LmI57O757ufXCIsXHJcbiAgICAgICAgXCIzLiDwn4yzIOWvu+aJvuS4gOajteeyl+WjrueahOWkp+agke+8jOiDjOmdoOagkeW5suS8keaBr++8jOitpuaDleWbm+WRqOOAglwiLFxyXG4gICAgICAgIFwiNC4g8J+SpyDku5Tnu4bogYblkKzvvIzlsJ3or5Xlr7vmib7pmYTov5HmmK/lkKbmnInmsLTmupDnmoTlo7Dpn7PjgIJcIlxyXG4gICAgICBdXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbjwvc3RhdHVzYmFyPmAsXHJcbiAgICAnc2Vhc29uLWF1dHVtbic6IChjaGFyYWN0ZXJOYW1lKSA9PiBgXHJcbuW5sueHpeOAgui/meaYr+iQp+aglumbquaBouWkjeaEj+ivhuWQju+8jOi6q+S9k+WPjemmiOe7meWkp+iEkeeahOesrOS4gOS4quS/oeWPt+OAglxyXG5cclxu6L+Z6IKh5bmy54el5bm26Z2e5Zug5Li657y65rC077yM6ICM5piv56m65rCU5Lit5byl5ryr552A6I2J5pyo5p6v6JCO55qE5rCU5oGv44CC6aOO5ZC56L+H5p6X6Ze077yM5Y236LW35Zyw5LiK55qE6JC95Y+277yM5Y+R5Ye65rKZ5rKZ55qE5aOw5ZON77yM5aaC5ZCM5p+Q56eN5L2O6K+t44CC5ZCO6ISR55qE55a855eb5Zyo6L+Z56eN6JCn55Gf55qE546v5aKD5Lit5Ly85LmO5Lmf5bim5LiK5LqG5LiA5Lid5YeJ5oSP44CCXHJcblxyXG4q4oCm4oCm6L+Z6YeM5piv5ZOq6YeM77yfKlxyXG5cclxu5aW55Yqo5LqG5Yqo5omL5oyH77yM6Kem56Kw5Yiw55qE5piv5Y6a5Y6a55qE5LiA5bGC6JC95Y+277yM5p+U6L2v6ICM5bmy54el44CC56m65rCU5Lit5byl5ryr552A6JC95Y+244CB5rOl5Zyf5ZKM5oiQ54af5rWG5p6c55qE5re35ZCI5rCU5oGv44CC5aW557yT57yT552B5byA5Y+M55y877yM5LiA5bmF6YeR6Imy55qE5qOu5p6X5Zu+5pmv5pig5YWl55y85biY44CCXHJcblxyXG7op4bnur/ooqvkuIDniYfngb/ng4LnmoTph5HoibLmiYDljaDmja7jgILpq5jlpKfnmoTmoJHmnKjlj7blrZDlpKflpJrlt7Lnu4/lj5jpu4TvvIzpmLPlhYnpgI/ov4fnqIDnlo/nmoTmnp3lj7bvvIzlnKjpk7rmu6HokL3lj7bnmoTmnpfpl7TmipXkuIvmlpHpqbPnmoTlhYnlvbHjgILlnLDpnaLkuIrvvIzlkITnp43popzoibLnmoTomJHoj4flkozmtYbmnpzpmo/lpITlj6/op4HvvIznnIvotbfmnaXlg4/mmK/kuIDlnLrkuLDnm5vnmoTlrrTluK3jgIJcclxuXHJcbirigKbigKbnp4vlpKnnmoTmo67mnpfvvJ8qXHJcblxyXG7lpbnmhaLmhaLlnZDotbfouqvvvIznjq/pob7lm5vlkajjgILmo67mnpflubbkuI3lg4/lpI/ml6XpgqPoiKzojILlr4bvvIzop4bph47lvIDpmJTkuoborrjlpJrjgILkuI3ov5zlpITnmoTlnLDpnaLkuIrvvIzlj6/ku6XnnIvliLDkuIDkupvliqjniannlZnkuIvnmoTotrPov7njgILmo67mnpfmt7HlpITvvIzkvKDmnaXkuIDpmLXpmLXliqjniannmoTlj6vlo7DvvIzmnInpq5jkuqLnmoTvvIzkuZ/mnInkvY7msonnmoTvvIzmmL7lvpflvILluLjmtLvot4PjgILov5nku73kuLDppbbnmoTmma/osaHkuYvkuIvvvIzljbTpmpDol4/nnYDkuIDkuJ3ntKfov6vmhJ/jgILlpbnnn6XpgZPvvIzov5nmmK/liqjnianku6zlnKjkuLrljbPlsIbmnaXkuLTnmoTlhqzlpKnlgZrlh4blpIfjgILlpbnkuZ/lv4XpobvlpoLmraTjgIJcclxuPHN0YXR1c2Jhcj5cclxue1xyXG4gIFwi54q25oCB5oC76KeIXCI6IHtcclxuICAgIFwi6KGM5Yqo6YCJ6aG5XCI6IHtcclxuICAgICAgXCLwn6ed4oCN4pmA77iPIOihjOWKqOS6ulwiOiBcIiR7Y2hhcmFjdGVyTmFtZX1cIixcclxuICAgICAgXCLwn5OcIOWPr+mAieihjOWKqFwiOiBbXHJcbiAgICAgICAgXCIxLiDwn6ed4oCN4pmA77iPICDmo4Dmn6Xoh6rouqvnirblhrXvvIzor4TkvLDouqvkvZPnirbmgIHjgIJcIixcclxuICAgICAgICBcIjIuIPCfk5Yg5aW95YOP5pyJ56eN6I6r5ZCN55qE5oSf6KeJ77yM55yL55yL5pyJ5rKh5pyJ57uR5a6a5LuA5LmI57O757ufXCIsXHJcbiAgICAgICAgXCIzLiDwn42OIOWwneivlei+qOiupOW5tuaUtumbhuS4gOS6m+eci+i1t+adpeWPr+S7pemjn+eUqOeahOa1huaenOOAglwiLFxyXG4gICAgICAgIFwiNC4g8J+QviDot5/pmo/lnLDkuIrnmoTliqjnianotrPov7nvvIzlr7vmib7msLTmupDmiJblronlhajnmoTmoJbouqvkuYvmiYDjgIJcIlxyXG4gICAgICBdXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbjwvc3RhdHVzYmFyPmAsXHJcbiAgICAnc2Vhc29uLXdpbnRlcic6IChjaGFyYWN0ZXJOYW1lKSA9PiBgXHJcbuatu+WvguOAgui/meaYr+iQp+aglumbquaBouWkjeaEj+ivhuWQju+8jOWkp+iEkeWvueWRqOmBreeOr+Wig+eahOesrOS4gOS4quaEn+efpeOAglxyXG5cclxu6Lqr5L2T55qE5oSf6KeJ5piv5rex5YWl6aqo6auT55qE5a+S5Ya344CC6Lqr5LiL55qE5Zyf5Zyw5Z2a56Gs5aaC6ZOB77yM5LiA5bGC6JaE6Zuq5aaC5ZCM55m96Zyc77yM6KaG55uW552A5p6v5p6d6LSl5Y+244CC56m65rCU5Yeb5Ya977yM5q+P5LiA5qyh5ZG85ZC46YO95YOP5Zyo5ZCe5ZK95Yaw5Ya355qE5YiA5a2Q44CC5ZCO6ISR55qE55a855eb5Yeg5LmO6KKr6L+Z5Lil5a+S5omA6bq755e544CCXHJcblxyXG4q4oCm4oCm5aW95Ya344CCKlxyXG5cclxu5aW56Imw6Zq+5Zyw5Yqo5LqG5Yqo5omL5oyH77yM6Kem56Kw5Yiw55qE5piv5Yaw5Ya355qE44CB5bim552A6Zyc5Ya755qE6JC95Y+244CC5aW555So5bC95YWo5Yqb552B5byA5Y+M55y877yM5LiA5Liq6JCn57Si6ICM5a+C6Z2Z55qE6buR55m95LiW55WM5pig5YWl55y85biY44CCXHJcblxyXG7op4bnur/ooqvkuIDniYfmnq/otKXnmoTmma/osaHmiYDljaDmja7jgILlj4LlpKnnmoTlj6TmoJHml6nlt7LmjonlhYnkuoblj7blrZDvvIzlj6rliankuIvlhYnnp4Pnp4PnmoTmnp3lubLvvIzlpoLlkIzkvLjlkJHlpKnnqbrnmoTpu5HoibLmiYvoh4LjgILlpKnnqbrmmK/ngbDokpnokpnnmoTvvIznnIvkuI3liLDlpKrpmLPvvIzkuZ/nnIvkuI3liLDmnIjkuq7jgILlnLDpnaLopobnm5bnnYDkuIDlsYLoloTpm6rvvIzmlbTkuKrmo67mnpfph4zlkKzkuI3liLDku7vkvZXlo7Dpn7PvvIzmsqHmnInpo47lo7DvvIzmsqHmnInpuJ/lj6vvvIzkuZ/msqHmnInomavpuKPvvIzku7/kvZvmlbTkuKrkuJbnlYzpg73ooqvlhrvnu5PkuobjgIJcclxuXHJcbirigKbigKbov5nph4znmoTkuIDliIfpg73mrbvkuoblkJfvvJ8qXHJcblxyXG7lpbnnjJvlnLDlnZDotbfouqvvvIzliLrpqqjnmoTlr5Lpo47orqnlpbnliafng4jlnLDpoqTmipbotbfmnaXjgILlpbnnjq/pob7lm5vlkajvvIzpq5jlpKfnmoTmoJHmnKjlvaLmgIHni7Dni57vvIzlpoLlkIzlopPnopHjgILov5nniYfmrbvlr4LnmoTmo67mnpfvvIzorqnlpbnmhJ/liLDkuIDnp43lj5Hoh6rlhoXlv4PnmoTmgZDmg6fjgILlvLrng4jnmoTmsYLnlJ/mnKzog73ljovlgJLkuobmiYDmnInnmoTmg4Xnu6rvvIzlpbnlv4Xpobvnq4vliLvmib7liLDng63mupDvvIzlkKbliJnlvojlv6vlsLHkvJrooqvlhrvmrbvlnKjov5nph4zjgIJcclxuPHN0YXR1c2Jhcj5cclxue1xyXG4gIFwi54q25oCB5oC76KeIXCI6IHtcclxuICAgIFwi6KGM5Yqo6YCJ6aG5XCI6IHtcclxuICAgICAgXCLwn6ed4oCN4pmA77iPIOihjOWKqOS6ulwiOiBcIiR7Y2hhcmFjdGVyTmFtZX1cIixcclxuICAgICAgXCLwn5OcIOWPr+mAieihjOWKqFwiOiBbXHJcbiAgICAgICAgXCIxLiDwn6ed4oCN4pmA77iPICDmo4Dmn6Xoh6rouqvnirblhrXvvIzor4TkvLDlnKjkuKXlr5LkuIvnmoTouqvkvZPnirblhrXjgIJcIixcclxuICAgICAgICBcIjIuIPCfk5Yg5aW95YOP5pyJ56eN6I6r5ZCN55qE5oSf6KeJ77yM55yL55yL5pyJ5rKh5pyJ57uR5a6a5LuA5LmI57O757ufXCIsXHJcbiAgICAgICAgXCIzLiDwn5SlIOWcqOmZhOi/keWvu+aJvuW5suaer+eahOagkeaene+8jOWwneivleeUn+eBq+WPluaaluOAglwiLFxyXG4gICAgICAgIFwiNC4g8J+bliDlr7vmib7lj6/ku6XmirXlvqHlr5Lpo47nmoTlsbHmtJ7miJbmoJHmtJ7jgIJcIlxyXG4gICAgICBdXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbjwvc3RhdHVzYmFyPmAsXHJcbiAgfSxcclxuICAvLyA9PSBMb2NhdGlvbjogQmVhY2ggPT1cclxuICAnbG9jYXRpb24tYmVhY2gnOiB7XHJcbiAgICAnc2Vhc29uLXNwcmluZyc6IChjaGFyYWN0ZXJOYW1lKSA9PiBgXHJcbuW+ruWSuOOAgui/meaYr+iQp+aglumbquaBouWkjeaEj+ivhuWQju+8jOWRs+inieWPjemmiOe7meWkp+iEkeeahOesrOS4gOS4quS/oeWPt+OAglxyXG5cclxu6L+Z6IKh5ZK45ZGz5p2l6Ieq56m65rCU5Lit5r2u5rm/55qE5rW36aOO44CC6aOO5piv5rip5ZKM55qE77yM5bim552A5LiA5Lid5YeJ5oSP77yM5ZC55Zyo6IS45LiK5b6I6IiS5pyN77yM5Lmf6K6p5aW55re35Lmx55qE5oCd57uq5riQ5riQ5riF5pmw44CC5ZCO6ISR55qE55a855eb5Zyo5rW36aOO55qE5ZC55ouC5LiL77yM5Ly85LmO5Lmf5Y+Y5b6X5LiN5YaN6YKj5LmI6Zq+5Lul5b+N5Y+X44CCXHJcblxyXG4q4oCm4oCm5rW377yfKlxyXG5cclxu5aW56LS55Yqb5Zyw5Yqo5LqG5Yqo5omL5oyH77yM5oyH5bCW5Lyg5p2l55qE5piv5rm/5ram6ICM57uG6IW755qE5rKZ56C+6Kem5oSf44CC56m65rCU5Lit5byl5ryr552A5rW35rC055qE5ZK46IWl5ZGz5ZKM5p+Q56eN5rW36Je754m55pyJ55qE5riF5paw5rCU5oGv44CC5aW557yT57yT552B5byA5Y+M55y877yM5LiA54mH5bm/6ZiU6ICM55Sf5py65YuD5YuD55qE5pmv6LGh5pig5YWl55y85biY44CCXHJcblxyXG7nnLzliY3mmK/kuIDniYfooqvmmajmm6bnhafkuq7nmoTnmb3oibLmspnmu6njgILmva7msLTliJrliJrpgIDljrvvvIzlnKjmspnmu6nkuIrnlZnkuIvkuoborrjlpJrlpYflvILnmoTotJ3lo7PlkozkupTlvanmlpHmlpPnmoTmtbfmmJ/jgILmtbfmtarlubPnvJPlnLDmi43miZPnnYDmtbflsrjvvIzlj5Hlh7rmgqbogLPnmoTlk5flk5flo7DjgILlpKnnqbrmmK/mt6HnsonoibLnmoTvvIzkuIDova7ph5HoibLnmoTlpKrpmLPmraPku47mtbflubPpnaLkuIrnvJPnvJPljYfotbfjgIJcclxuXHJcbirigKbigKbml6Xlh7rvvJ8qXHJcblxyXG7lpbnmhaLmhaLlnZDotbfouqvvvIzmuKnmmpbnmoTpmLPlhYnmtJLlnKjouqvkuIrvvIzpqbHmlaPkuobouqvkvZPnmoTlr5LmhI/jgILkuI3ov5zlpITvvIzpu5HoibLnmoTnpIHnn7PkuIrvvIzpmYTnnYDnnYDorrjlpJrkuI3nn6XlkI3nmoTmtbfmtIvnlJ/nianjgILmm7Tov5zlpITvvIzpgqPniYfmnJvkuI3liLDovrnpmYXnmoTmo67mnpfph4zvvIzkvKDmnaXpmLXpmLXmuIXohIbnmoTpuJ/puKPjgILlvLrng4jnmoTmsYLnlJ/mnKzog73ljovlgJLkuobmnIDliJ3nmoTpnIfmg4rlkozmgZDmhYzvvIzlpbnkuIvmhI/or4blnLDmg7PopoHlgZrlh7rooYzliqjjgIJcclxuPHN0YXR1c2Jhcj5cclxue1xyXG4gIFwi54q25oCB5oC76KeIXCI6IHtcclxuICAgIFwi6KGM5Yqo6YCJ6aG5XCI6IHtcclxuICAgICAgXCLwn6ed4oCN4pmA77iPIOihjOWKqOS6ulwiOiBcIiR7Y2hhcmFjdGVyTmFtZX1cIixcclxuICAgICAgXCLwn5OcIOWPr+mAieihjOWKqFwiOiBbXHJcbiAgICAgICAgXCIxLiDwn6ed4oCN4pmA77iPICDmo4Dmn6Xoh6rouqvnirblhrXvvIzku5Tnu4bmn6XnnIvouqvkvZPmmK/lkKbmnInlhbbku5bkvKTlj6PjgIJcIixcclxuICAgICAgICBcIjIuIPCfk5Yg5aW95YOP5pyJ56eN6I6r5ZCN55qE5oSf6KeJ77yM55yL55yL5pyJ5rKh5pyJ57uR5a6a5LuA5LmI57O757ufXCIsXHJcbiAgICAgICAgXCIzLiDwn5CaIOWcqOaymea7qeS4iuihjOi1sO+8jOWvu+aJvuacieeUqOeahOS4nOilv++8jOavlOWmguWdmuehrOeahOi0neWjs+aIluiDveWQg+eahOa1t+S6p+OAglwiLFxyXG4gICAgICAgIFwiNC4g8J+MsyDlsI/lv4PlnLDpnaDov5Hmo67mnpfovrnnvJjvvIzop4Llr5/mnpfkuK3nmoTmg4XlhrXvvIzor4TkvLDljbHpmanmgKfjgIJcIlxyXG4gICAgICBdXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbjwvc3RhdHVzYmFyPmAsXHJcbiAgICAnc2Vhc29uLXN1bW1lcic6IChjaGFyYWN0ZXJOYW1lKSA9PiBgXHJcbueBvOeDreOAgui/meaYr+iQp+aglumbquaBouWkjeaEj+ivhuWQju+8jOi6q+S9k+WPjemmiOe7meWkp+iEkeeahOesrOS4gOS4quS/oeWPt+OAglxyXG5cclxu6L+Z6IKh54Ot5rWq5p2l6Ieq5aS06aG26YKj6L2u5beo5aSn55qE44CB5pWj5Y+R552A6YeR6Imy5YWJ6IqS55qE4oCc5aSq6Ziz4oCd44CC5rKZ5a2Q5rua54Or77yM5Lu/5L2b6IO95bCG55qu6IKk54G85Lyk44CC56m65rCU5Lit5byl5ryr552A5rWT6YOB55qE5ZK46IWl5ZGz77yM5q+P5LiA5qyh5ZG85ZC46YO95bim552A54Ot5rWq44CC5ZCO6ISR55qE55a855eb5Zyo6auY5rip55qE54KZ54Ok5LiL77yM5Y+Y5b6X5oSI5Y+R5Ymn54OI44CCXHJcblxyXG4q4oCm4oCm5aW954Ot77yBKlxyXG5cclxu5aW56LS55Yqb5Zyw5Yqo5LqG5Yqo5omL5oyH77yM5oyH5bCW5Lyg5p2l55qE5piv5bmy54el6ICM5rua54Or55qE5rKZ56C+6Kem5oSf44CC5aW55oyj5omO552A552B5byA5Y+M55y877yM5Yi655y855qE6Ziz5YWJ6K6p5aW5556s6Ze05Y+I6Zet5LiK5LqG55y8552b44CC6L+H5LqG5aW95LiA5Lya5YS/77yM5aW55omN6YCC5bqU5LqG5YWJ57q/77yM57yT57yT5Zyw5YaN5qyh552B5byA44CCXHJcblxyXG7nnLzliY3mmK/kuIDniYfooqvng4jml6XnhafogIDnmoTjgIHlub/pmJTml6DlnqDnmoTnmb3oibLmspnmu6njgILmspnmu6nlnKjop4bnur/lsL3lpLTkuI7loqjnu7/oibLnmoTjgIHlpoLlkIzlt6jlhb3oiKzljI3ljJDnmoTmo67mnpfnm7jov57jgILmtbfmtarmh5LmtIvmtIvlnLDmi43miZPnnYDmtbflsrjvvIzlj43lsITnnYDliLrnnLznmoTlhYnoipLjgILlpKnnqbrmmK/nuq/lh4DnmoTok53oibLvvIzkuIfph4zml6DkupHjgIJcclxuXHJcbirigKbigKbov5nkuI3mmK/lnLDnkIPjgIIqXHJcblxyXG7lpbnnjJvlnLDlnZDotbfouqvvvIzlvLrng4jnmoTnnKnmmZXmhJ/lkozohLHmsLTmhJ/ooq3mnaXjgILlpbnnjq/pob7lm5vlkajvvIzkuIDliIfpg73ml6Dmr5TnnJ/lrp7jgILkuI3ov5zlpITvvIzpu5HoibLnmoTnpIHnn7PooqvmmZLlvpfmu5rng6vvvIznqbrmsJTpg73lm6DmraTogIzmia3mm7LjgILmm7Tov5zlpITvvIzpgqPniYfmnJvkuI3liLDovrnpmYXnmoTmo67mnpfph4zvvIzkvKDmnaXpmLXpmLXogZLlmarnmoTonYnpuKPjgILlvLrng4jnmoTmsYLnlJ/mnKzog73ljovlgJLkuobmiYDmnInnmoTkuI3pgILvvIzlpbnlv4Xpobvnq4vliLvmib7liLDmsLTmupDlkozpmLTlh4nlpITjgIJcclxuPHN0YXR1c2Jhcj5cclxue1xyXG4gIFwi54q25oCB5oC76KeIXCI6IHtcclxuICAgIFwi6KGM5Yqo6YCJ6aG5XCI6IHtcclxuICAgICAgXCLwn6ed4oCN4pmA77iPIOihjOWKqOS6ulwiOiBcIiR7Y2hhcmFjdGVyTmFtZX1cIixcclxuICAgICAgXCLwn5OcIOWPr+mAieihjOWKqFwiOiBbXHJcbiAgICAgICAgXCIxLiDwn6ed4oCN4pmA77iPICDmo4Dmn6Xoh6rouqvnirblhrXvvIzor4TkvLDouqvkvZPnmoTohLHmsLTnqIvluqbjgIJcIixcclxuICAgICAgICBcIjIuIPCfk5Yg5aW95YOP5pyJ56eN6I6r5ZCN55qE5oSf6KeJ77yM55yL55yL5pyJ5rKh5pyJ57uR5a6a5LuA5LmI57O757ufXCIsXHJcbiAgICAgICAgXCIzLiDim7DvuI8g5a+75om+5LiA5aSE55u45a+56Zi05YeJ55qE56SB55+z5oiW6auY5Zyw77yM5pqC5pe26Lqy6YG/54OI5pel44CCXCIsXHJcbiAgICAgICAgXCI0LiDwn4yzIOWwj+W/g+WcsOmdoOi/keajruael+i+uee8mO+8jOWvu+aJvuawtOa6kOWSjOW6h+aKpOaJgOOAglwiXHJcbiAgICAgIF1cclxuICAgIH1cclxuICB9XHJcbn1cclxuPC9zdGF0dXNiYXI+YCxcclxuICAgICdzZWFzb24tYXV0dW1uJzogKGNoYXJhY3Rlck5hbWUpID0+IGBcclxu5YeJ54i944CC6L+Z5piv6JCn5qCW6Zuq5oGi5aSN5oSP6K+G5ZCO77yM6Lqr5L2T5Y+N6aaI57uZ5aSn6ISR55qE56ys5LiA5Liq5L+h5Y+344CCXHJcblxyXG7ov5nogqHlh4nmhI/mnaXoh6rlvLrlirLogIzmjIHnu63nmoTmtbfpo47jgILpo47kuK3luKbnnYDlpKfmtbfnmoTlkrjohaXlkozkuIDkuJ3okKfnkZ/vvIzlkLnlvpflpbnooaPooavnjI7njI7kvZzlk43jgILlkI7ohJHnmoTnlrznl5vlnKjov5nnp43njq/looPkuIvkvLzkuY7ooqvlv73nlaXkuobvvIzlpbnnmoTlhajpg6jms6jmhI/lipvpg73ooqvov5nniYfpmYznlJ/nmoTlpKnlnLDmiYDlkLjlvJXjgIJcclxuXHJcbirigKbigKbpo47lpb3lpKfjgIIqXHJcblxyXG7lpbnliqjkuobliqjmiYvmjIfvvIzop6bmhJ/mmK/lubLnh6XogIznspfns5nnmoTmspnnoL7jgILlpbnnvJPnvJPnnYHlvIDlj4znnLzvvIzkuIDluYXoi43lh4nogIzlo67pmJTnmoTmma/osaHmmKDlhaXnnLzluJjjgIJcclxuXHJcbuecvOWJjeaYr+S4gOeJh+W5v+mYlOeahOeBsOiJsuaymea7qeOAguWkqeepuumYtOayie+8jOS6keWxguW+iOWOmu+8jOWkqumYs+i6suWcqOS6keWQju+8jOWPqumAj+WHuuW+ruW8seeahOWFieOAgua1t+a1quavlOWlueaDs+ixoeS4reimgeWkp+W+l+Wkmu+8jOS4gOazouaOpeS4gOazouWcsOWGsuWQkeWyuOi+ue+8jOWPkeWHuuW3qOWkp+eahOi9sOm4o+OAguS4gOe+pOS4jeefpeWQjeeahOa1t+m4n+mAhuedgOmjju+8jOWcqOS9juepuuebmOaXi++8jOWPkeWHuuWwlumUkOeahOWPq+WjsOOAglxyXG5cclxuKuKApuKApuS4lueVjOacq+aXpeS4gOagt+OAgipcclxuXHJcbuWlueaFouaFouWdkOi1t+i6q++8jOeOr+mhvuWbm+WRqOOAguS4jei/nOWkhO+8jOm7keiJsueahOekgeefs+WmguWQjOayiem7mOeahOWTqOWFte+8jOS7u+eUsea1quiKseaLjeaJk+OAguabtOi/nOWkhO+8jOmCo+eJh+acm+S4jeWIsOi+uemZheeahOajruael++8jOagkeWPtuW3sue7j+W8gOWni+WPmOm7hO+8jOWcqOeLgumjjuS4reaRh+abs+OAguW8uueDiOeahOWtpOeLrOaEn+WSjOa4uuWwj+aEn+aUq+S9j+S6huWlueeahOW/g+iEj+OAguWcqOi/meeJh+iLjeWHieeahOWkqeWcsOmXtO+8jOWlueW/hemhu+aJvuWIsOS4gOS4quWuieWFqOeahOmBv+mjjua4r+OAglxyXG48c3RhdHVzYmFyPlxyXG57XHJcbiAgXCLnirbmgIHmgLvop4hcIjoge1xyXG4gICAgXCLooYzliqjpgInpoblcIjoge1xyXG4gICAgICBcIvCfp53igI3imYDvuI8g6KGM5Yqo5Lq6XCI6IFwiJHtjaGFyYWN0ZXJOYW1lfVwiLFxyXG4gICAgICBcIvCfk5wg5Y+v6YCJ6KGM5YqoXCI6IFtcclxuICAgICAgICBcIjEuIPCfp53igI3imYDvuI8gIOajgOafpeiHqui6q+eKtuWGte+8jOivhOS8sOi6q+S9k+eKtuaAgeOAglwiLFxyXG4gICAgICAgIFwiMi4g8J+TliDlpb3lg4/mnInnp43ojqvlkI3nmoTmhJ/op4nvvIznnIvnnIvmnInmsqHmnInnu5Hlrprku4DkuYjns7vnu59cIixcclxuICAgICAgICBcIjMuIOKbsO+4jyDlr7vmib7kuIDlpITog73lpJ/mirXlvqHmtbfpo47nmoTnpIHnn7PnvqTmiJblsbHmtJ7jgIJcIixcclxuICAgICAgICBcIjQuIPCfjLMg5bCP5b+D5Zyw6Z2g6L+R5qOu5p6X6L6557yY77yM5a+75om+5Y+v5Lul5Yip55So55qE6LWE5rqQ44CCXCJcclxuICAgICAgXVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG48L3N0YXR1c2Jhcj5gLFxyXG4gICAgJ3NlYXNvbi13aW50ZXInOiAoY2hhcmFjdGVyTmFtZSkgPT4gYFxyXG7lhrDlh4njgILov5nmmK/okKfmoJbpm6rmgaLlpI3mhI/or4blkI7vvIzouqvkvZPlj43ppojnu5nlpKfohJHnmoTnrKzkuIDkuKrvvIzkuZ/mmK/llK/kuIDkuIDkuKrkv6Hlj7fjgIJcclxuXHJcbui/meiCoeWvkuaEj+W5tumdnua6kOS6juearuiCpOeahOaOpeinpu+8jOiAjOaYr+S7juWbm+iCoueZvumquOa3seWkhOW8pea8q+W8gOadpe+8jOW4puedgOS4gOenjeiiq+aKveW5suS6huaJgOacieWKm+awlOeahOiZmuW8seaEn+OAguWQjuiEkeeahOS9jee9ruS8oOadpeS4gOS4i+S4i+inhOW+i+eahOOAgeayiemXt+eahOi3s+eXm++8jOiuqeWlueeahOaAnee7tOaXoOazleWHneiBmuaIkOS4gOS4quWujOaVtOeahOW/teWktO+8jOWPquiDveS7u+eUseS4gOS6m+a3t+S5seeahOOAgeS4jeaIkOeJh+auteeahOeUu+mdouWcqOecvOWJjemXqueDge+8muWbvuS5pummhueahOaXpeWFieeBr+OAgeS5pumhteS4iuWvhuWvhi3purvpurvnmoTmibnms6jjgIHlr7zluIjlpLHmnJvnmoTnnLznpZ7vvIzku6Xlj4rmnIDlkI7igJTigJTkuIDpmLXnqoHlpoLlhbbmnaXnmoTjgIHku7/kvZvog73lsIbngbXprYLpg73lkLjov5vljrvnmoTliafng4jnnKnmmZXjgIJcclxuXHJcbirmiJHigKbigKbov5nmmK/lnKjlk6rlhL/vvJ/nhqzlpJzlpKrkuYXvvIzlnKjlm77kuabppobnnaHnnYDkuobvvJ8qXHJcblxyXG7lpbnotLnlipvlnLDliqjkuobliqjmiYvmjIfvvIzmjIflsJbkvKDmnaXnmoTmmK/mspnnoL7nmoTnspfns5nop6bmhJ/vvIzmub/mtqbogIznu4bnoo7jgILov5nop6bmhJ/orqnlpbnlpKfohJHkuK3mqKHns4rnmoTlv7XlpLTnrKzkuIDmrKHmnInkuobmuIXmmbDnmoTnhKbngrnjgIJcclxuXHJcbirmspnlrZDvvJ/lm77kuabppobph4zmgI7kuYjkvJrmnInmspnlrZDvvJ8qXHJcblxyXG7nqbrmsJTkuK3lvKXmvKvnnYDkuIDogqHmtZPpg4HnmoTlkrjohaXlkbPvvIzlpLnmnYLnnYDmn5Dnp43kuI3nn6XlkI3mpI3niannoLTnoo7lkI7mlaPlj5Hlh7rnmoTjgIHnlaXluKbnlJzohbvnmoToiqzoirPjgILov5nkuKTnp43msJTlkbPmt7flkIjlnKjkuIDotbfvvIzlvaLmiJDkuobkuIDnp43ml6LpmYznlJ/lj4jlvLrng4jnmoTlhrLlh7vvvIzlvbvlupXpqbHmlaPkuoblpbnohJHmtbfkuK3lhbPkuo7lm77kuabppobnmoTkuIDliIflubvosaHjgILlpbnliqrlipvkuobmlbDmrKHvvIznu4jkuo7nlKjlsL3lhajlipvvvIzlsIbmsonph43nmoTnnLznmq7mjoDlvIDkuobkuIDmnaHnvJ3jgIJcclxuXHJcbuinhumHjuWFiOaYr+aooeeziueahO+8jOmaj+WQjumAkOa4kOWPmOW+l+a4heaZsOOAgummluWFiOaYoOWFpeecvOW4mOeahO+8jOaYr+S4gOeJh+iiq+aciOWFieeFp+S6rueahOOAgeW5v+mYlOaXoOWeoOeahOeZveiJsuaymea7qeOAguaymea7qeWcqOinhue6v+WwveWktOS4juWiqOe7v+iJsueahOOAgeWmguWQjOW3qOWFveiIrOWMjeWMkOeahOajruael+ebuOi/nuOAgua1t+a1quS4jeefpeeWsuWApuWcsOWGsuWIt+edgOa1t+WyuO+8jOWcqOaymea7qeS4iueVmeS4i+S4gOmBk+mBk+mTtueZveiJsueahOawtOeXleOAguiAjOi/meS4gOWIh+aZr+ixoeeahOWFiea6kO+8jOadpeiHquWkqeepuuOAguWluee8k+e8k+WcsOOAgeacieS6m+WDteehrOWcsOaKrOi1t+WktO+8jOeci+WQkeWknOepuuOAglxyXG5cclxu5LiA6L2u6YeR5pyI77yM5LiALei9rumTtuaciOOAguWug+S7rOWuiemdmeWcsOaCrOaMguWcqOa3see0q+iJsueahOWkqeW5leS5i+S4iu+8jOS4gOWkp+S4gOWwj++8jOW9vOatpOi+ieaYoOOAgumHkeiJsueahOaciOWNjua4qeaaluiAjOaflOWSjO+8jOmTtuiJsueahOaciOWFiea4heWGt+iAjOeajua0geOAguS4pOenjeaIqueEtuS4jeWQjOeahOWFieiKkuS6pOiejeWcqOS4gOi1t++8jOS4uuaVtOS4quS4lueVjOmVgOS4iuS6huS4gOWxguWmguaipuS8vOW5u+eahOa7pOmVnOOAgui/meS4jeaYr+WcsOeQg++8jOS5n+S4jeWPr+iDveaYr+WcsOeQg+OAgui/meS4quW/teWktOWDj+S4gOmBk+WGsOWGt+eahOmXqueUte+8jOeerOmXtOi0r+epv+S6huiQp+aglumbqueahOWkp+iEkeOAglxyXG5cclxuKuKApuKApuW8gOS7gOS5iOeOqeeskeOAgipcclxuXHJcbuWlueeMm+WcsOWdkOi1t+i6q++8jOWQjuiEkeeahOeWvOeXm+WSjOi6q+S9k+eahOWvkuaEj+iuqeWlueWAkuWQuOS6huS4gOWPo+WHieawlOOAguWlueeOr+mhvuWbm+WRqO+8jOS4gOWIh+mDveaXoOavlOecn+WunuOAguS4jei/nOWkhO+8jOm7keiJsueahOekgeefs+WmguWQjOayiem7mOeahOWTqOWFte+8jOS7u+eUsea1quiKseaLjeaJk+OAguabtOi/nOWkhO+8jOmCo+eJh+acm+S4jeWIsOi+uemZheeahOajruael+mHjO+8jOWBtuWwlOS8muS8oOadpeWHoOWjsOS4jeefpeWQjeeUn+eJqeeahOOAgeaCoOi/nOiAjOWPpOaAqueahOWVvOm4o+OAguW8uueDiOeahOaxgueUn+acrOiDveWOi+WAkuS6huacgOWIneeahOmch+aDiuWSjOaBkOaFjO+8jOWlueS4i+aEj+ivhuWcsOaDs+imgeWBmuWHuuihjOWKqOOAglxyXG48c3RhdHVzYmFyPlxyXG57XHJcbiAgXCLnirbmgIHmgLvop4hcIjoge1xyXG4gICAgXCLooYzliqjpgInpoblcIjoge1xyXG4gICAgICBcIvCfp53igI3imYDvuI8g6KGM5Yqo5Lq6XCI6IFwiJHtjaGFyYWN0ZXJOYW1lfVwiLFxyXG4gICAgICBcIvCfk5wg5Y+v6YCJ6KGM5YqoXCI6IFtcclxuICAgICAgICBcIjEuIPCfp53igI3imYDvuI8gIOajgOafpeiHqui6q+eKtuWGte+8jOS7lOe7huafpeeci+i6q+S9k+aYr+WQpuacieWFtuS7luS8pOWPo+OAglwiLFxyXG4gICAgICAgIFwiMi4g8J+TliDlpb3lg4/mnInnp43ojqvlkI3nmoTmhJ/op4nvvIznnIvnnIvmnInmsqHmnInnu5Hlrprku4DkuYjns7vnu59cIixcclxuICAgICAgICBcIjMuIOKbsO+4jyDlr7vmib7kuIDlpITnm7jlr7nlronlhajnmoTnpIHnn7PmiJbpq5jlnLDvvIzmmoLml7bourLpgb/lubbmgaLlpI3kvZPlipvjgIJcIixcclxuICAgICAgICBcIjQuIPCfjLMg5bCP5b+D5Zyw6Z2g6L+R5qOu5p6X6L6557yY77yM6KeC5a+f5p6X5Lit55qE5oOF5Ya177yM6K+E5Lyw5Y2x6Zmp5oCn44CCXCJcclxuICAgICAgXVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG48L3N0YXR1c2Jhcj5gLFxyXG4gIH0sXHJcbn07XHJcblxyXG4vKipcclxuICogR2VuZXJhdGVzIHRoZSBpbml0aWFsIHN0b3J5IG1lc3NhZ2UgYmFzZWQgb24gdGhlIHBsYXllcidzIGNob2ljZXMuXHJcbiAqIFRoaXMgZnVuY3Rpb24gaXMgdGhlIHNpbmdsZSBzb3VyY2Ugb2YgdHJ1dGggZm9yIGNyZWF0aW5nIHRoZSBnZW5lc2lzIG1lc3NhZ2UuXHJcbiAqIEBwYXJhbSBpbml0aWFsU3RhdGUgLSBUaGUgaW5pdGlhbCBzdGF0ZSBvYmplY3QgZnJvbSB0aGUgc2V0dXAgbW9kdWxlLlxyXG4gKiBAcmV0dXJucyBUaGUgZm9ybWF0dGVkIGdlbmVzaXMgbWVzc2FnZSBzdHJpbmcuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0R2VuZXNpc01lc3NhZ2UoaW5pdGlhbFN0YXRlOiBhbnkpOiBzdHJpbmcge1xyXG4gIC8vIEZhbGxiYWNrIHRvIGRlZmF1bHQgdmFsdWVzIGlmIHRoZSBzdGF0ZSBpcyBub3QgcHJvcGVybHkgZGVmaW5lZC5cclxuICBjb25zdCBsb2NhdGlvbklkID0gaW5pdGlhbFN0YXRlPy7kuJbnlYw/LuWIneWni+iuvuWumj8u5Yid5aeL5Zyw54K5ID8/ICdsb2NhdGlvbi1iZWFjaCc7XHJcbiAgY29uc3Qgc2Vhc29uSWQgPSBpbml0aWFsU3RhdGU/LuS4lueVjD8u5Yid5aeL6K6+5a6aPy7liJ3lp4vlraPoioIgPz8gJ3NlYXNvbi1zcHJpbmcnO1xyXG4gIGNvbnN0IGNoYXJhY3Rlck5hbWUgPSBpbml0aWFsU3RhdGU/LuinkuiJsj8u5Li75o6n6KeS6Imy5ZCNIHx8ICfkvaAnO1xyXG5cclxuICAvLyBSZXRyaWV2ZSB0aGUgcGxvdC1nZW5lcmF0aW5nIGZ1bmN0aW9uIGZyb20gdGhlIG5lc3RlZCBzdHJ1Y3R1cmUuXHJcbiAgY29uc3QgcGxvdEZ1bmN0aW9uID0gZ2VuZXNpc1Bsb3RzW2xvY2F0aW9uSWRdPy5bc2Vhc29uSWRdO1xyXG5cclxuICAvLyBJZiBhIHNwZWNpZmljIHBsb3QgaXMgbm90IGZvdW5kLCBmYWxsIGJhY2sgdG8gYSBkZWZhdWx0IG9uZSB0byBwcmV2ZW50IGVycm9ycy5cclxuICBpZiAocGxvdEZ1bmN0aW9uKSB7XHJcbiAgICByZXR1cm4gcGxvdEZ1bmN0aW9uKGNoYXJhY3Rlck5hbWUpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zb2xlLndhcm4oYEdlbmVzaXMgcGxvdCBmb3IgbG9jYXRpb24gXCIke2xvY2F0aW9uSWR9XCIgYW5kIHNlYXNvbiBcIiR7c2Vhc29uSWR9XCIgbm90IGZvdW5kLiBGYWxsaW5nIGJhY2sgdG8gZGVmYXVsdC5gKTtcclxuICAgIC8vIEZhbGxiYWNrIHRvIGEga25vd24gZ29vZCBkZWZhdWx0LlxyXG4gICAgcmV0dXJuIGdlbmVzaXNQbG90c1snbG9jYXRpb24tYmVhY2gnXVsnc2Vhc29uLXNwcmluZyddKGNoYXJhY3Rlck5hbWUpO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/data/genesisMessages.ts\n\n}');
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/data/pokedex-data.ts": 
  /*!*****************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/data/pokedex-data.ts ***!
  \*****************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval('{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   pokedexDataSource: () => (/* binding */ pokedexDataSource)\n/* harmony export */ });\nconst pokedexDataSource = {\n    "妖兽": [],\n    "植物": [\n        {\n            "名称": "灵谷（碳化）",\n            "品阶": "凡品下阶（原品阶可能为灵品）",\n            "外观": "一捧捧漆黑的、已经完全碳化的谷物颗粒，混杂在深色的沙砾中。它们的外形依稀还能辨认出是稻谷或麦穗的模样，但已经变得像木炭一样坚硬且轻。用手捻开，会化为细腻的黑色粉末，闻起来有一股焦糊和陈腐混合的气味。",\n            "特性": "内部蕴含的灵气几乎已经逸散殆尽，仅在谷物的最核心处，保留着一丝微弱到可以忽略不计的生命印记。凡人食用后除了会满嘴发黑外，没有任何效果，甚至可能因其在海水中浸泡过久而导致腹泻。",\n            "潜在价值": "【核心价值 - 播种】：这是它唯一的，也是逆天的价值。穿越者拥有息壤灵田，这片神土能够将那丝几乎熄灭的生命印记重新激活。只要将这些碳化的灵谷种下，息壤和甘霖泉的力量就有可能使其“起死回生”，重新发芽，长出真正的灵谷植株。虽然成功率可能不高，十颗种子未必能活一颗，但一旦成功，就意味着穿越者拥有了可以稳定量产的、蕴含灵气的主食。\\n【研究价值】：对于拥有现代知识的穿越者来说，这些碳化谷物也是绝佳的研究样本。她可以通过分析其碳化结构，推测其原先生长的环境（例如，是遭遇了烈火还是雷击）。通过对比不同来源的碳化灵谷，她甚至可以初步建立一个关于“异世界禾本科植物”的数据库。",\n            "背景猜测": "这些碳化灵谷的来源极其广泛。可能来自某个被大火烧毁的宗门粮仓，也可能是某艘运粮船在遭遇雷暴后沉没的产物。在无妄海的航线上，灵谷贸易是仅次于矿石和法宝的大宗商品。每一次海难，都意味着有成千上万斤的灵谷沉入海底。"\n        },\n        {\n            "名称": "辟谷丹（残渣）",\n            "品阶": "凡品中阶（丹药残渣）",\n            "外观": "通常在一个破碎的、最普通的青色瓷瓶中被发现。瓶内只剩下一些灰白色的粉末和几颗米粒大小的、已经失去光泽的丹药碎块。这些残渣闻起来有一股淡淡的、类似草木灰和泥土混合的味道。",\n            "特性": "辟谷丹是修真界最低阶、也最大众化的丹药，其作用是让修士在一段时间内感觉不到饥饿。这些残渣中的药力已经流失了九成九，无法再提供完整的辟谷效果。但如果将其全部刮取出来，用温水冲服，大约能抵得上一顿饭的饱腹感，能维持三到四个时辰不饿。",\n            "潜在价值": "【应急食物】：在食物匮乏的初期，是极好的应急口粮。\\n【丹方逆推】：穿越者可以收集不同来源的辟谷丹残渣，通过她的化学知识，分析其中的主要成分（尽管很难精确），再结合《元初草木图鉴》，尝试逆向推导出辟谷丹的大致配方。这会是她走上丹师之路的第一次“理论实践”。\\n【容器利用】：那些破碎的丹药瓶本身，虽然不值钱，但也是不错的容器，可以用来装她自己调配的药膏或收集的粉末材料。",\n            "背景猜测": "任何一个外出历练的炼气期修士，储物袋里都会备上几瓶辟谷丹。这些破碎的丹瓶，是无妄海上最常见的“修士垃圾”，它们是无数陨落的低阶修士留下的最后痕迹。"\n        },\n        {\n            "名称": "海盐花（干瘪）",\n            "品阶": "凡品上品（灵植残骸）",\n            "外观": "一株株被海水冲得只剩下主干和几片残叶的植物。整体呈灰白色，已经完全脱水，质地干脆，像一碰就碎的枯草。其唯一的特征是，在它的根茎连接处，会凝结着几颗盐粒大小的、晶莹剔TОμ的白色晶体。舔一下，味道咸中带甘，并有一丝微弱的灵气在舌尖化开。",\n            "特性": "海盐花是一种生长在海边礁石缝隙中的特殊灵植，能吸收海水中的盐分和水灵气，并将其转化为可供修士吸收的纯净能量。这种干瘪的海盐花，大部分灵气已经逸散，但根部的“灵盐结晶”中还保留着一丝精华。",\n            "潜在价值": "【调味品】：这些灵盐结晶是顶级的天然调味品。用它来烹饪食物（比如烤鱼或灵植），不仅能提升风味，还能为食物额外附加一丝水灵气，有助于消化和吸收。\\n【炼丹辅料】：在炼制某些低阶丹药时，加入一两颗灵盐结晶，可以起到中和药性、稳定丹炉内灵力平衡的作用。\\n【种子来源】：虽然植株已经干瘪，但如果其根部尚存一丝活性，就有可能在息壤灵田中被重新救活。种植出的海盐花，将为穿越者提供源源不断的灵盐。",\n            "背景猜测": "来自于无妄海沿岸的某些盛产此花的岛屿。可能是被风暴连根拔起，也可能是某些修士在采摘时不慎掉落的。"\n        },\n        {\n            "名称": "蕴灵蚌（空壳）",\n            "品阶": "凡品上品（妖兽遗骸）",\n            "外观": "巴掌大小的蚌壳，内壁光滑如镜，呈现出温润的珍珠色泽，并且比外壳要厚实得多。蚌壳的边缘通常有破损，显示出它是被强行打开的。虽然内部的蚌肉和可能存在的珍珠早已不见，但整个蚌壳依然散发着若有若无的水灵气。",\n            "特性": "蕴灵蚌是一种一阶妖兽，其一生都在过滤海水，将最精纯的水灵气凝聚在自己的蚌壳内壁和珍珠中。这个空壳，本身就是一件不错的水属性材料。",\n            "潜在价值": "【器皿】：一个天然的、自带蕴灵效果的绝佳器皿。用它来盛放甘霖泉水，可以减缓泉水中灵气的逸散速度。用它来研磨草药，药粉会自然地附带上一丝水灵气。\\n【制器材料】：将内壁的珍珠层刮下来，可以磨成“蕴灵粉”，是制作低阶水系符箓（如“水罩符”）的优质材料。整个蚌壳也可以被炼制成简单的防护法器，虽然品阶不高，但对火系法术有天然的克制效果。\\n【线索】：蕴灵蚌通常是群居的，发现一个空壳，意味着在附近的海域，很可能存在一个蕴灵蚌的养殖场或天然栖息地。",\n            "背景猜测": "无妄海许多以养殖为生的修仙家族，都会大规模养殖蕴灵蚌，以获取其出产的灵珠。这个空壳，很可能是某个养殖场被海兽袭击后，残留下来的“废品”。"\n        },\n        {\n            "名称": "爆气散（半瓶）",\n            "品阶": "灵品下阶（丹药）",\n            "外观": "在一个小巧的、由寒铁星屑打造的金属瓶中。瓶子入手冰凉，能有效隔绝灵气逸散。瓶中还剩下大约一半的、如同火焰般赤红色的粉末。拔开瓶塞，会有一股灼热、辛辣的气息扑面而来，让人精神为之一振，但随后又会感到一阵莫名的虚弱。",\n            "特性": "一种在短时间内激发修士潜能、强行提升灵力爆发的禁药。服用后，能让炼气期修士在半柱香的时间内，爆发出媲美筑基初期的灵力强度。但药效过后，会陷入长达三天的“灵力枯竭期”，经脉刺痛，浑身乏力，修为甚至会倒退一小层。",\n            "潜在价值": "【保命底牌】：在遭遇致命危险时，这是一张可以逆转局势的王牌。半瓶的剂量，足以让她在关键时刻拥有越级一战之力。\\n【研究对象】：以穿越者的谨慎性格，她未必会轻易使用。她更可能将其作为高级研究对象，分析其配方，试图理解其“透支潜力”的原理，并尝试开发出一种副作用更小的“改良版”或“弱化版”。\\n【药引】：这种粉末中蕴含的狂暴火系能量，在炼制某些特殊的火属性法器时，可以作为“药引”或“催化剂”，激发主材料的潜力。",\n            "风险": "副作用极大，非生死关头不可使用。且这种禁药往往是魔道或散修的产物，其来源可能牵扯到一些邪恶势力。",\n            "背景猜测": "大概率是某个散修或魔修，在与人斗法时，刚服用了一半的爆气散，就被当场格杀。储物袋破碎后，这半瓶丹药随着主人的尸骨一同沉入大海。"\n        },\n        {\n            "名称": "不枯草（种子）",\n            "品阶": "灵品中阶（灵植种子）",\n            "外观": "一颗只有黄豆大小，通体呈碧绿色，仿佛由最纯净的翡翠雕琢而成的种子。它的表面异常光滑，没有任何纹路，但其内部，仿佛有一点金色的光芒在缓缓跳动，如同心脏。即便被海水浸泡了不知多久，它依然散发着磅礴的生命气息。",\n            "特性": "不枯草是一种传说中的奇特灵植。它的植株本身没有任何攻击或防御能力，其唯一的特性是“永恒的生命力”。只要它的根部还与大地（或灵脉）相连，它的叶片无论被采摘多少次，都会在一天之内重新长出来，永不枯萎。其叶片蕴含着精纯的、温和的木系与生命能量，是绝佳的疗伤圣药，也是食草类灵兽最喜爱的食物。",\n            "潜在价值": "【无限资源】：一旦在息壤灵田中种植成功，穿越者就拥有了一个取之不尽、用之不竭的疗伤药材库。无论是内服还是外敷，不枯草的叶片都能快速治愈炼气期修士能遇到的大部分内外伤。\\n【交易资本】：在未来，如果她能接触到外界，一片不枯草的叶子，就足以换取大量的灵石或她需要的其他资源。这是硬通货中的硬通货。\\n【驯兽至宝】：对于御兽师来说，一株不枯草的价值，甚至超过一件高阶法宝。它可以用来喂养、治愈、甚至提升灵兽的潜力。",\n            "种植挑战": "这种子对生长环境的要求极为苛刻。它需要海量的生命能量来激活。普通的灵田根本无法使其发芽，只有息壤这种神物，才有一线希望。但在发芽初期，它会疯狂地汲取周围的生命力，可能会导致息壤灵田在短时间内变得贫瘠，甚至影响到其他灵植的生长。如何控制好这个“度”，是萧栖she xué必须面对的难题。",\n            "背景猜测": "不枯草的种子在外界早已绝迹。它很可能来自某个上古宗门的药园遗迹，那遗迹在某次地壳变动中沉入深海，这颗被完美保存的种子因此得以重见天日。"\n        },\n        {\n            "名称": "幻蜃菇（菌丝体）",\n            "品阶": "灵品中品（特殊灵菌）",\n            "外观": "附着在一块腐朽的潮汐木芯上的一团白色菌丝。这团菌丝看起来就像普通的棉絮或霉菌，毫不起眼。但如果用神识去触碰，会立刻感到一阵恍惚，眼前仿佛出现了五彩斑斓、变幻莫测的幻象，耳边也会响起一些虚无缥缈的、充满诱惑的声音。",\n            "特性": "幻蜃菇是一种罕见的精神类灵菌。它本身没有实体，而是以菌丝体的形态存在。成熟后，会散发一种无色无味的气体，能大范围地制造幻境。其幻境的强度，与菌丝体吸收的灵气和神魂力量成正比。它既可以是致命的毒药，也可以是修炼神识的无上妙品。",\n            "潜在价值": "【防御体系】：如果能将其成功培育在自己的木屋周围，它就能形成一个天然的幻阵。任何心怀恶意的闯入者，都会在不知不觉中陷入幻境，失去方向。这是比任何篱笆或陷阱都更高级的防御手段。\\n【神识修炼】：穿越者可以小心地引动一丝幻蜃菇的气息，用以磨砺自己的神识和意志力。长期在这种可控的幻境中锻炼，她的灵魂强度和对幻术的抵抗力将远超同阶修士。\\n【特殊用途】：幻蜃菇的菌丝，是炼制“迷魂丹”、“破障丹”等多种精神类丹药的核心材料。",\n            "培育风险": "培育幻蜃菇极其危险。它的生长需要“养分”，除了灵气，它最喜欢的是“神魂力量”。如果控制不好，它会反噬主人，将培育者变成一个永远活在幻觉中的白痴。甚至，它可能会吸引来一些以灵魂为食的邪恶生物或魂修。",\n            "背景猜测": "这块附着着菌丝的木头，很可能来自南疆林。南疆是魂修和蛊师的天下，那里有许多培育此类奇诡之物的秘法。这块木头可能属于某个南疆修士，他在出海时遭遇意外，其精心培育的菌种也随之漂流。"\n        },\n        {\n            "名称": "人参果（石核）",\n            "品阶": "未知（至少为宝品，可能为道品）",\n            "外观": "一枚拳头大小，外形酷似一个盘腿而坐、五官俱全的初生婴儿的石头。石头通体呈土黄色，表面布满了如同皮肤般的褶皱和纹理，甚至能看到模糊的“指甲”和“肚脐”。它已经完全石化，感受不到任何生命气息和灵气波动，就像一个被大自然鬼斧神工雕琢出的普通石头。",\n            "特性": "这是传说中“闻一闻，能活三百六十岁；吃一个，就活四万七千年”的无上神物——人参果的果核。在果肉被食用，或因其他原因腐烂后，其承载了全部生命法则与土系法则精华的果核，会迅速石化，将所有道韵内敛其中，以躲避天道的探查。",\n            "潜在价值": "【道韵感悟】：虽然已经石化，无法直接提供能量或生命力，但这个果核本身就是一个“道”的载体。穿越者长期将其带在身边，用神识去观摩、感悟其上浑然天成的道纹，能够让她在潜移默化中，领悟到最本源的“土之法则”和“生命法则”。这对于她未来的境界提升，有着难以估量的巨大好处。这比任何功法都更为直指大道。\\n【息壤之源】：如果说息壤灵田是“神土”，那么这枚人参果核，就是创造“神土”的“种子”。如果将它埋入息壤灵田的核心，它会缓慢地、永久性地改善和提升整片息壤的品质，甚至可能让息壤的范围缓慢扩张。\\n【终极底牌】：传说中，有大能者，可以以自身精血为引，辅以无数天材地宝，布下逆天大阵，强行“复活”这枚石核，使其重新长出人参果树。那是足以让化神境修士都为之疯狂的诱惑。",\n            "风险": "怀璧其罪。此物一旦暴露，别说是元婴、化神，恐怕连传说中隐世不出的老怪物都会被惊动。在没有绝对自保能力之前，这东西的存在必须是最高级别的秘密。",\n            "背景猜测": "天地间的人参果树，万年一开花，万年一结果，再万年才得熟，短头一万年的果子，闻一闻，就活三百六十岁；长到一万年的，吃一个，就活四万七千年。其珍贵程度无法想象。这枚果核的出现，背后必然是一段惊天秘闻。或许是某位上古大仙的道场在无尽岁月中崩塌，果核坠入时空乱流；又或许是看守果树的仙人监守自盗，在逃亡途中陨落于无妄海……"\n        },\n        {\n            "名称": "阴阳合欢花（雌雄一对，枯萎）",\n            "品阶": "宝品上阶（特殊双生灵植）",\n            "外观": "两株纠缠在一起的、已经完全枯萎的花。一株通体漆黑如墨，花瓣层层叠叠如同黑色的火焰，这是雄花。另一株通体洁白如雪，花瓣舒展好似圣洁的白莲，这是雌花。它们虽然已经失去了所有水分和光泽，但根茎依然死死地缠绕在一起，永不分离。在枯萎的花蕊深处，似乎各藏着一粒比沙粒还小的、黑白分明的种子。",\n            "特性": "阴阳合欢花是一种极为奇特的双修圣品。它必须雌雄双株共同生长，根茎相连，吸收日月精华与地脉灵气。其花蜜分为阴阳两种，雄花产阳蜜，雌花产阴蜜。若有男女修士各服一种，再行双修之法，便能阴阳调和、水火既济，修为一日千里，且根基稳固，毫无后患。是所有双修宗门梦寐以求的镇派之宝。",\n            "潜在价值": "【无上丹药】：其花瓣、花蜜、根茎，都是炼制顶级双修类丹药和情欲类丹药的主材料。例如合欢宗传说中的“九转阴阳丹”，其主药就是此花。\\n【复活可能】：与不枯草类似，只要那两粒种子尚存一丝活性，就有可能在息壤灵田中被重新培育出来。一旦成功，穿越者就等于掌握了一条通往财富和强大关系的捷径。任何一个大宗门，都会愿意付出巨大的代价来换取此花。\\n【特殊用途】：即便是枯萎的花瓣，磨成粉末，也有极强的催情效果。对修士而言，是一种难以抵抗的媚药。同时，若心志坚定者服用，也能借其阴阳二气来淬炼自身灵力，使其更具包容性和调和性。穿越者的《长春诀》与《断潮剑经》两种截然不同的力量，或许可以借助此物的粉末进行初步的调和与融合。",\n            "风险": "【因果巨大】：此物与合欢宗这类顶级宗门关系匪Mò浅。一旦培育成功，其独特的气息很可能会被合欢宗的强者感知到。到时候，是福是祸，犹未可知。\\n【催情之险】：枯萎花瓣的催情效果依然强大，对于一个独居海岛、心智坚韧但肉体仍是处子的年轻女子来说，如何利用、控制、甚至抵抗这种力量，本身就是一种巨大的考验。",\n            "背景猜测": "这对阴阳合欢花，几乎可以肯定是属于某个合欢宗的高层人物。她/他或许是带着宗门的至宝外出办事，却在无妄海遭遇了无法抵抗的强敌。在最后的关头，为了不让宝物落入敌手，将其毁去，但其中的种子却在洋流的裹挟下，奇迹般地保留了下来。"\n        }\n    ],\n    "物品": [\n        {\n            "名称": "海淬浮铁",\n            "品阶": "凡品下阶",\n            "外观": "形状不规则的黑色金属块，通常只有巴掌大小，表面布满了被海水侵蚀出的细密凹坑，摸上去手感粗糙，像一块多孔的浮石。重量比同体积的普通钢铁要轻上三分之一。",\n            "特性": "经过无数年洋流的冲刷与极寒、极热能量的交替淬炼，内部的杂质几乎被涤荡一空，只剩下最纯粹的铁质。它失去了大部分金属的延展性，变得极为坚硬且脆。对灵气的传导性极差，几乎可以忽略不计。",\n            "用途": "【主要】：由于其坚硬的特性，可以被磨成箭头、蒺藜、陷阱的尖刺等纯物理伤害的工具。\\n【次要】：大量收集后，可以尝试熔炼，作为炼制低阶法器时增加“坚固”属性的辅料，但添加量不能超过一成，否则会导致整个器物变得易碎。",\n            "背景猜测": "极有可能是上古时期那些横行无妄海的巨型楼船战舰，其外层装甲在被击碎后，经过万年沉浮演变而成的产物。每一块浮铁，都可能见证过一场惊天动地的海战。",\n            "价值": {\n                "基础价值": 2,\n                "价值标签": ["炼器材料", "工具材料"]\n            }\n        },\n        {\n            "名称": "灰岩砂",\n            "品阶": "凡品下阶",\n            "外观": "一捧捧灰白色的沙砾，混杂在沙滩本身的白沙中，不仔细分辨很难发现。在双月的光芒下，会反射出极其微弱的、类似星辰的黯淡光点。",\n            "特性": "本质是一种蕴含着微末土系灵气的岩石粉末。本身质地松散，不具备任何坚固或灵性特征。唯一的特性是，当它与液体（尤其是蕴含灵气的液体）混合时，会变得极其粘稠，并在一个时辰后凝固成一种类似劣质水泥的坚硬块状物。",\n            "用途": "【主要】：优秀的天然粘合剂与填充剂。可以用来修补木屋的缝隙、加固石墙、制作简易的模具。\\n【次要】：与妖兽的血液混合，可以制作成带有微弱妖兽气息的诱饵块，用来进行陷阱狩猎。",\n            "背景猜测": "可能来自某个被强大法术震碎的岛屿，整座岛的岩石都被磨成了粉末，被洋流带到了这里。",\n            "价值": {\n                "基础价值": 1,\n                "价值标签": ["建筑材料", "消耗品"]\n            }\n        },\n        {\n            "名称": "潮汐木芯",\n            "品阶": "凡品中阶",\n            "外观": "被海水泡得发白的木头碎片，形态各异，可能是断裂的船桨、腐朽的梁柱，或是无法辨认形状的木块。其共同点是，在木头腐朽的外皮之下，往往包裹着一小段（通常不超过一指长）质地坚硬如石、颜色深如黑檀的木芯。",\n            "特性": "木芯部分在漫长的浸泡过程中，吸收了微量的水灵气与盐分，使其拥有了极强的防腐、防潮特性。点燃后不会产生明火，而是会缓慢地阴燃，释放出带着淡淡咸味的青色烟雾，这种烟雾有一定的驱赶普通蚊虫的效果。",\n            "用途": "【主要】：制作需要长期保存的物品的 рукоять(把手)，例如工具的握柄、小刀的刀柄等。\\n【次要】：作为长效的熏香或驱虫剂使用。收集足够多，可以尝试作为炼制低阶水行法器的辅料，能略微提升法器对水灵气的亲和度。",\n            "背景猜测": "来自各种沉船。这些船只可能属于凡人渔夫，也可能属于低阶修士，它们的木材在经历岁月后，只有最精华的部分才能留存下来。",\n            "价值": {\n                "基础价值": 5,\n                "价值标签": ["建筑材料", "炼器材料", "消耗品"]\n            }\n        },\n        {\n            "名称": "贝光粉",\n            "品阶": "凡品中阶",\n            "外观": "由各种破碎的、巨大的海贝壳研磨而成的粉末。本身呈现珍珠般的白色，但在光线下，会随着角度的变换，折射出七彩的、流动的光晕，如同凝固的极光。",\n            "特性": "不含任何灵气，纯粹的物理光学特性。这种粉末具有极强的光线反射和折射能力。将其涂抹在物体表面，能形成一层光滑的保护膜，并使其在光照下变得非常显眼和华丽。",\n            "用途": "【主要】：作为装饰性的涂料。可以用来在木屋、工具或自己制作的任何东西上画出标记或图案。\\n【次要】：在战斗中，可以突然撒出，利用其强烈反光的特性瞬间干扰敌人的视线，虽然对修士效果微乎其微，但对付没有灵智的野兽或许能争取到一息之间。\\n【奇思】：与灰岩砂和甘霖泉水混合，可以制造出在夜晚会发出微光的“荧光水泥”。",\n            "背景猜测": "来源于无妄海深处一种名为“七彩虹光贝”的巨型贝类。这种贝类成年后体型堪比磨盘，其贝壳是制作某些华丽法衣或宫殿装饰的上好材料。这些碎片，很可能是开采或运输过程中的废料。",\n            "价值": {\n                "基础价值": 4,\n                "价值标签": ["消耗品", "装饰材料"]\n            }\n        },\n        {\n            "名称": "寒铁星屑",\n            "品阶": "灵材下品",\n            "外观": "并非完整的矿石，而是如同指甲盖大小的、不规则的深蓝色金属碎片。其表面光滑如镜，内部仿佛封印着点点繁星，在黑暗中会自行散发出冰冷、黯淡的星光。入手极为冰冷，仿佛握着一块万年不化的寒冰。",\n            "特性": "天生的极品寒性材料。对冰系灵气的传导性极佳。同时，它极为沉重且坚韧，远超凡品钢铁。当灵力注入时，其内部的“星光”会流动起来，并向外散发出能冻结空气的寒气。",\n            "用途": "【炼器】：炼制冰属性法剑、飞针、护甲的核心材料。哪怕只在剑尖上熔炼一小块，也能让飞剑的攻击附带上极强的冰冻效果。\\n【制符】：将其磨成粉末，与妖兽血混合，可以绘制出高品质的“冰锥符”、“寒冰阵”等符箓。\\n【修炼】：对于修炼冰系功法的修士，握着它进行修炼，可以加快灵气吸收速度，并提纯体内的寒性灵力。",\n            "背景猜测": "有三种可能。一，来自极北之地的万载玄冰层下方的“寒髓铁精”矿脉碎片。二，是某种以寒铁为食的强大妖兽的排泄物或骸骨碎片。三，是某位剑修大能的本命飞剑被击碎后，其中最精华的剑刃碎片。",\n            "价值": {\n                "基础价值": 150,\n                "价值标签": ["炼器材料", "制符材料", "修炼材料_冰系", "稀有"]\n            }\n        },\n        {\n            "名称": "泣血赤金",\n            "品阶": "灵材中品",\n            "外观": "暗红色的、仿佛血液凝固而成的金属块。表面并非光滑，而是布满了如同血管般凸起的、蜿蜒的纹路。它总是保持着一种温热的触感。如果用利器划开，会从“血管”纹路中渗出几滴如同新鲜血液般粘稠的、带有浓郁血腥味的红色液体，随后“伤口”会自行愈合。",\n            "特性": "蕴含着极为霸道和狂暴的火系与金系灵气。它具有极强的“活性”和“吞噬”特性，能够缓慢地吸收周围的生命能量。对于修炼魔道功法或需要气血之力的修士来说是大补之物，但对于正道修士，若无特殊手法处理，其狂暴的能量会反噬自身，污染灵力。",\n            "用途": "【炼器】：炼制魔道或霸道风格法宝（如血刀、炎枪）的主材料。用其打造的兵器，往往带有“吸血”或“燃魂”的特效。\\n【炼丹】：作为某些激发潜能、燃烧生命的禁忌丹药（如“狂血丹”）的主药。\\n【阵法】：作为杀阵的阵眼，能够极大地增强阵法的攻击性和侵蚀性。",\n            "背景猜测": "传说是在上古神魔战场上，某位强大神祇的心脏被击碎后，其神血浸染了地下的精金矿脉，经过万年演化而成。每一块泣血赤金，都可能封印着一丝不屈的战意或滔天的怨念。",\n            "价值": {\n                "基础价值": 300,\n                "价值标签": ["炼器材料", "炼丹材料", "阵法材料", "稀有", "魔道"]\n            }\n        },\n        {\n            "名称": "融风石",\n            "品阶": "灵材中品",\n            "外观": "半透明的、如同青色琉璃的石头，内部可以看到一丝丝如同云雾般流动的絮状物。它几乎没有重量，拿在手中轻若鸿毛。当有风吹过时，石头会发出“呜呜”的轻响，并且其表面的轮廓会变得有些模糊，仿佛要融入风中一般。",\n            "特性": "天生的风系至宝。对风灵气的亲和度达到了极致。它能自然地引导气流，减少空气阻力。注入灵力后，可以让周围的空气变得粘稠或稀薄，甚至制造出小范围的真空。",\n            "用途": "【炼器】：是炼制飞行法器（如飞舟、飞剑、羽翼法宝）的顶级辅料。只需加入一小块，就能让飞行法器的速度提升三成以上，并且更加节省灵力。也可用于制作增加身法速度的靴子或腰带。\\n【阵法】：布置“御风阵”或“迷踪阵”的关键材料。可以引导阵法内的气流，形成幻象或切割敌人的风刃。",\n            "背景猜测": "可能是在罡风层中天然形成的晶体，偶然坠落入海。也可能是某种掌控风暴的巨型妖禽（如九天鲲鹏）的巢穴中，由其气息长年累月浸润而成的奇石。",\n            "价值": {\n                "基础价值": 320,\n                "价值标签": ["炼器材料", "阵法材料", "稀有"]\n            }\n        },\n        {\n            "名称": "养魂木（残片）",\n            "品阶": "灵材上品（因其为残片）",\n            "外观": "一块只有拇指大小、通体漆黑、散发着淡淡檀香的木头碎片。木质表面温润如玉，没有任何年轮或纹理，仿佛一块天然的黑色宝玉。将神识探入其中，会感到一种被温水包裹般的舒适感。",\n            "特性": "能够滋养神魂、稳定心神的奇木。长期佩戴，可以缓慢修复受损的神识，并能抵御大部分幻术和精神攻击。对于魂修来说，是梦寐以求的至宝。即便只是残片，其效果也远超普通静心安神的宝物。",\n            "用途": "【佩戴】：直接将其制成吊坠或手串佩戴，是它最直接、也是最有效的利用方式。\\n【炼丹】：将其磨成粉，可以作为主药炼制修复和增强神魂的丹药，例如“清神丹”、“固魂散”等。\\n【炼器】：融入到头盔、面具等保护头部的法宝中，可以赋予法宝极强的神魂防御能力。",\n            "背景猜测": "养魂木万年才能成材，极为罕见。这块残片，极有可能来自某个魂修大能的本命法器，或是在其坐化之地，神魂逸散滋养了身边的草木而形成的。被冲到这里，意味着那位大能很可能已经在某场海上的大战中陨落。",\n            "价值": {\n                "基础价值": 800,\n                "价值标签": ["修炼材料_神魂", "炼丹材料", "炼器材料", "稀有", "传说"]\n            }\n        },\n        {\n            "名称": "虚空尘晶",\n            "品阶": "灵材上品",\n            "外观": "一小撮看似普通灰尘的结晶体，但在绝对的黑暗中，它们会散发出深邃的、仿佛能吞噬一切光线的紫色微光。它们没有实体，可以穿透大部分物质，只有用灵力构筑的容器才能将其束缚。",\n            "特性": "蕴含着微弱空间之力的奇异物质。它最大的特性是“扰动”，能够小范围地干扰空间稳定性。同时，它也是制作空间储物法器的核心材料。",\n            "用途": "【炼器】：制作储物袋、储物戒指的必需品。其数量和品质，直接决定了储物空间的大小和稳定性。哪怕只有一小撮，也足以让一个最普通的布袋，变成拥有一个立方米空间的储物袋。\\n【阵法】：在传送阵的构建中，可以作为稳定空间通道的坐标点材料。\\n【战斗】：出其不意地撒向敌人，可以短暂地干扰对方身边的空间，使其动作出现一瞬间的凝滞或错位，在高手对决中足以致命。",\n            "背景猜测": "来源成谜。有学者认为是空间裂缝在愈合时，溢散出的空间能量与物质世界接触后凝结的产物。在洄潮屿这种空间本就不稳定的区域出现，似乎也合情合理。",\n            "价值": {\n                "基础价值": 1000,\n                "价值标签": ["炼器材料", "阵法材料", "稀有", "传说"]\n            }\n        },\n        {\n            "名称": "《长春诀》拓本玉简",\n            "品阶": "炼气期全本功法（非珍稀，但完整）",\n            "外观": "一枚标准的制式白色玉简，质地温润，入手微凉。这是修真界最常见、流通最广的知识载体。这枚玉简的边角有几处明显的磕碰痕迹，表面也布满了细微的划痕，显示出它经历了不少波折。玉简的一端，用微雕手法刻着两个小字——“合欢”，字迹娟秀，似乎出自女子之手。",\n            "特性与内容": "内部记录着一部名为《长春诀》的完整炼气期功法，从炼气一层到炼气巅峰的修炼法门、灵力搬运路线、以及突破各个小层次的心得要点，都记载得一清二楚。\\n【功法特点】：《长春诀》是元初界流传最广的木属性大众功法，与穿越者之前拾得的《青木引气诀》同源，但更为完整和优化。其最大的特点是“中正平和、生生不息”。修炼出的灵力温和醇厚，虽然攻击性不强，但续航能力极佳，并且对滋养肉身、延年益寿有奇效。最重要的是，它与灵植师的职业高度契合，使用长春诀灵力施展的“催生术”或“甘霖术”，效果会比同阶修士强上三成。\\n【附录内容】：在功法正文之后，还附带有三个简单但极其使用的小法术的修炼方法：《小灵雨术》——凝聚水汽降下蕴含微弱灵气的雨水，是灌溉灵田的神技；《驱虫术》——以木系灵力模拟天敌气息，驱赶大部分低阶害虫；《缠绕术》——催动藤蔓类植物进行捆绑，是唯一的、聊胜于无的自保手段。",\n            "潜在价值": "【核心价值】：完美解决了穿越者当前无后续功法的最大困境，让她从炼气境六层到筑基之前再无瓶颈。有了这部功法，她的修炼速度将得到质的飞跃。\\n【职业加成】：让她作为灵植师的能力得到了系统性的提升，从“天赋异禀”向“专业修士”转变。\\n【线索指向】：玉简末端的“合欢”二字，指向了一个在元初界极富盛名的宗门——“合欢宗”。这是一个以双修和媚术闻名的宗门，门下多为女弟子。这枚玉简，很可能是该宗一名低阶弟子在外出时遗失的。",\n            "背景猜测": "极有可能是某位合欢宗的外门女弟子，在无妄海执行任务时遭遇不测，其储物袋破损后，这枚作为宗门基础福利发放的功法玉简随波逐流，最终被冲上了洄潮屿的沙滩。对于那位弟子来说，这或许只是储物袋里最不起眼的东西，但对穿越者而言，却是雪中送炭。",\n            "价值": {\n                "基础价值": 200,\n                "价值标签": ["功法", "知识"]\n            }\n        },\n        {\n            "名称": "《元初草木图鉴》残本",\n            "品阶": "知识类典籍（对灵植师价值极高）",\n            "外观": "一本用不知名妖兽的皮鞣制而成的书册，早已被海水泡得发涨、变形。书页粘连在一起，边缘已经腐烂。封皮上的字迹模糊不清，只能勉强辨认出“草木”、“海滨”等字样。整本书散发着一股海藻与陈旧皮革混合的复杂气味。需要非常小心地一页页揭开、晾干，才能阅读。",\n            "特性与内容": "这是一位不知名的灵植师前辈，对自己游历无妄海东部海岸时所见的各种灵植、灵菌、灵藻的记录。虽然只是残本，缺失了大约三分之一的内容，且许多地方字迹晕开，但保留下来的部分，对穿越者来说就是一座宝库。\\n【内容构成】: 书中以图文并茂的形式，记录了超过三百种海滨及浅海区域的灵植。每一条目都包含：\\n【手绘图形】: 虽然画工不算精湛，但惟妙惟肖地抓住了灵植的核心特征。\\n【名称与习性】: 记录了灵植的正式名称、俗称，以及其生长环境、伴生矿物或妖兽。\\n【药性与用途】: 详细阐述了该灵植的根、茎、叶、果实分别具有何种药性（寒、热、温、凉），以及它们可以作为哪些丹药的主药或辅药，甚至是如何直接处理后服用。\\n【采集与炮制手法】: 描述了采集该灵植时需要注意的事项（例如，某种灵花必须在月圆之夜采摘，药性才最完整），以及后续的干燥、研磨、浸泡等处理方法。",\n            "潜在价值": "【知识体系】：为穿越者的现代植物学知识，与元初界的修仙体系之间，架起了一座完美的桥梁。她可以按图索骥，将自己在洄潮屿上看到的那些不认识的植物，与书中的记录一一对应，从而真正理解它们的价值。\\n【实践指导】：让她可以开始尝试简单的炼丹或药剂调配。例如，书中记载的一种名为“海星草”的藻类，与“礁岩拟蟹”的甲壳粉末混合，可以调配出效果不错的低阶疗伤药膏。这让她拥有了除食用灵植外的另一种利用资源的方式。\\n【物种发现】：凭借这本图鉴，她或许能辨认出洋流冲上来的某些看似无用的植物残骸，其真实身份可能是极为珍稀的灵药。",\n            "背景猜测": "这部手抄本的作者，很可能是一位热爱钻研、喜欢游历的散修灵植师。他/她或许并没有强大的修为，但在一生中将大部分心血都倾注在了对草木的研究上。这本笔记，就是他/她一生心血的结晶。他/她可能最终葬身于某次出海的意外中，但这本笔记却幸运地漂流了下来，等待着下一位继承其志向的人。",\n            "价值": {\n                "基础价值": 180,\n                "价值标签": ["知识", "灵植"]\n            }\n        },\n        {\n            "名称": "《海客闻见录》（印刷版节选）",\n            "品阶": "地理人文类杂记（信息价值极高）",\n            "外观": "几张被水泡得发黄、变脆的书页，明显是从一本书上脱落下来的。材质是凡俗世界常用的竹浆纸，而非修士专用的玉简或兽皮。上面的文字是用一种在东玄域通用的印刷宋体写成，内容通俗易懂。这几页纸被一丛坚韧的海草缠绕着，才没有在洋流中彻底碎裂。",\n            "特性与内容": "内容似乎是某本畅销书的节选章节，标题为“无妄海东部诸岛屿概述”。作者以一种游记的口吻，介绍了无妄海东部几十个大小岛屿的风土人情、物产以及主要的修士势力。\\n【地理概念】: 第一次让穿越者对“无妄海”有了宏观的认识。书中提到了凡人航海的“近海航线”和修士飞行的“安全空域”，并着重标注了几个著名的凶险海域，其中就包括了“迷航之渊”——洄潮屿所在的这片洋流交汇区。书中描述，此地“终年迷雾，暗流丛生，金丹修士亦不敢深入，传闻乃上古战场，内有大恐怖”。\\n【势力分布】: 介绍了盘踞在附近几个大岛屿上的修仙家族或小型宗门。比如以炼器闻名的“火豚岛李家”，以商业贸易为主的“明珠岛万通商会”，以及一个由散修组成的、风评不佳的松散联盟“黑帆会”。\\n【物产与奇闻】: 描述了各个岛屿的特产，比如“火豚岛”的地火熔岩，是炼制火属性法器的佳品；“明珠岛”盛产一种能安神静气的“月光贝”。还记录了一些海上的奇闻异事，例如神秘的“幽灵船”、能引发风暴的巨型海兽等等。",\n            "潜在价值": "【世界地图】：为穿越者构建了一幅清晰的“新手村”周边地图。让她明白了自己所处位置的凶险性，也知道了如果未来要离开，可能的方向和目的地。\\n【情报信息】：让她对这个世界的“社会”有了初步的了解。知道了修仙界并非只有高高在上的大宗门，更多的是这些如同繁星般散落的、为了资源和生存而奔波的中小势力。这些情报，在未来与人接触时，将是至关重要的。\\n【危机预警】：“黑帆会”的描述尤其让她警惕。书中提到这些人行事百无禁忌，经常劫掠过往船只，甚至会主动探索一些险地以寻求机缘。这让她意识到，自己所在的洄潮屿，虽然隐蔽，但并非绝对安全。",\n            "背景猜测": "这本书，很可能来自某个在“黑帆会”劫掠中被击沉的商船。船上的某个旅客或船员，或许正带着这本畅销的游记，幻想着未来的冒险，却不幸葬身鱼腹。",\n            "价值": {\n                "基础价值": 50,\n                "价值标签": ["知识", "情报"]\n            }\n        },\n        {\n            "名称": "《断潮剑经·残篇》",\n            "品阶": "筑基期剑修功法（残缺，仅有三式）",\n            "外观": "并非玉简或书册，而是一块半尺见方、不知名的青黑色礁石。礁石的表面被人以极强的指力，刻下了三幅人形图案和一些零散的注释。每一道笔画都蕴含着一股凌厉、霸道、一往无前的气息。仅仅是注视着这些刻痕，都会让穿越者感到皮肤刺痛，仿佛有无形的剑气在切割。这块礁石极为沉重，远超同体积的钢铁。",\n            "特性与内容": "记录的是一部名为《断潮剑经》的剑法中的三式。没有心法，没有总纲，只有三招纯粹的、杀伐之-气冲天的剑招。\\n【第一式：惊涛】。剑势如浪，层层叠叠，一剑挥出，仿佛能卷起千重巨浪，以势压人。核心在于灵力的叠加与爆发。\\n【第二式：裂岸】。将所有力量凝聚于一点，追求极致的穿透与破坏。剑招朴实无华，唯有一往无前的决绝。注释中写道：“心不诚，则剑不利”。\\n【第三式：归墟】。最为精妙的一式。剑招画出一个圆，形成一个微型的剑气漩涡，能牵引、偏转甚至吞噬敌人的攻击。是防守反击的绝技。",\n            "潜在价值": "【战斗手段】：让她第一次拥有了真正意义上的战斗能力。即便没有剑，用木棍或手指模拟，也能发挥出远超《缠绕术》的威力。\\n【未来道路】：为她提供了一条“剑修”的可能道路。如果能找到后续功法，或者以此为基础自行推演，或许能走上一条与灵植师截然不同的道路。\\n【感悟剑意】：长期观摩和揣摩这块礁石上的刻痕，能够让她在潜移默化中感悟到一种名为“剑意”的特殊力量，这是成为一名真正剑修的敲门砖。",\n            "风险与挑战": "【无心法】: 没有配套的灵力运行心法，强行修炼这三式剑招，对经脉的负担极大，甚至有反噬自身的危险。\\n【高门槛】: 剑法中蕴含的意境极高，若无过人的悟性，很可能只能学其形，而无法得其神，威力大打折扣。\\n【属性冲突】: 《断潮剑经》的剑气霸道无比，与她修炼的《长春诀》温和的木属性灵力存在一定的冲突。如何调和这两种截然不同的力量，是一个巨大的难题。",\n            "背景猜测": "留下这部剑经的人，必然是一位实力强大的剑修。他/她很可能是在“迷航之渊”中与强敌死战，身受重伤，自知时日无多，便将自己最得意的三式剑法刻于礁石之上，希望能留下一点传承。这块礁石，承载着一位剑客最后的骄傲与不甘。",\n            "价值": {\n                "基础价值": 400,\n                "价值标签": ["功法", "知识", "稀有"]\n            }\n        },\n        {\n            "名称": "《火炼心解》（伪）",\n            "品阶": "知识类典籍（丹道心得，但有致命陷阱）",\n            "外观": "一块火红色的玉简，入手温热，表面雕刻着华丽的火焰纹路，看起来品阶不凡。用神识探入，可以阅读到一篇关于“控火法门”与“丹药提纯”的详细心得笔记。",\n            "特性与内容": "这篇心得的作者自称“丹火真人”，以一种极为自信和权威的口吻，详细讲解了如何在炼制丹药时，通过一种名为“三叠火法”的特殊控火技巧，将丹药的药性提纯三成以上。文中所述理论听起来天衣无缝，逻辑严密，极具诱惑力。",\n            "潜在价值": "【高阶知识】：提供了远超入门级别的炼丹理论，如果内容为真，足以让任何一个初学丹师的水平在短时间内突飞猛进。\\n【思维锻炼】：书中对火焰的控制、药性的理解，即便有误，也为穿越者提供了另一种思考问题的角度。",\n            "风险与挑战": "【致命陷阱】：这本心得，是一个彻头彻尾的骗局。那“三叠火法”的某个关键灵力节点，被故意记载了一个错误的位置。如果按照此法进行炼丹，初期确实会有奇效，但当炼制进行到最关键的凝丹步骤时，这个错误的节点会导致丹炉内的所有能量瞬间逆流、爆炸！这是一种极其阴险的、专门用来坑害同行的手法。\\n【辨识难度】：这个错误极为隐蔽，与前后文完美地融合在一起。除非拥有极其扎实的丹道理论基础，或者像穿越者这样，能够用现代化学的“能量守恒”、“反应平衡”等底层逻辑去审视整个过程，否则几乎不可能发现其中的问题。",\n            "背景猜测": "这部伪造的心得，来源极其恶意。很可能是某个丹道世家为了打击竞争对手，故意制造并散播出去的“毒饵”。又或者是某个心术不正的丹师，在被仇家追杀时，故意扔出的陪葬品，想让得到它的人也尝尝炸炉的滋味。它能出现在洄潮屿，本身就意味着一出发生在外界的、关于嫉妒与阴谋的悲剧。",\n            "价值": {\n                "基础价值": 120,\n                "价值标签": ["知识", "丹道", "陷阱"]\n            }\n        },\n        {\n            "名称": "《星海航图》残角",\n            "品阶": "未知（可能超越化神级别）",\n            "外观": "一块巴掌大小的、非金非玉的黑色碎片，材质不明。它不反射任何光线，仿佛能将光吞噬。碎片的一角，绘制着几条由无数细小光点组成的、流畅的线条，以及几个她完全不认识的、如同蝌蚪般的古老符文。",\n            "特性与内容": "当穿越者将灵力或神识注入其中时，那些光点会瞬间“活”过来。她的意识会被拉入一个无垠的黑暗宇宙中，看到几颗巨大的、散发着不同颜色光芒的星辰，正在沿着那几条轨迹缓缓运行。这似乎是一幅星图，但图中所标示的星辰，没有一颗是她夜空中能看到的。其中一个符文，在她的感应下，会反馈给她一个模糊的、但直指灵魂的词汇——“归乡”。",\n            "潜在价值": "【回家的希望】：这是她穿越以来，第一次接触到可能与“回家”有关的线索。那个“归乡”的符文，是她未来探索的终极目标。\\n【超凡视野】：让她意识到，“元初界”可能只是无垠的宇宙中的一粒尘埃，在世界之外，还有更广阔的天地。这彻底打开了她的格局。",\n            "风险与挑战": "【高阶因果】：这幅星图所涉及的层次，远远超出了她的理解范畴。深入研究它，可能会被制作这张图的某个恐怖存在所感知，引来无法预料的灾祸。\\n【信息缺失】：仅仅一个残角，没有任何参照物，根本无法判断出这星图描绘的是哪里，又该如何前往。它更像一个虚无缥缈的“概念”，而非一个实际可用的“地图”。",\n            "背景猜测": "来源完全无法猜测。可能是某位上古大能试图横渡宇宙时制作的航图；也可能是某个天外文明的造物，在时空乱流中破碎，其中一片偶然坠入了元初界。它的出现，本身就是一个奇迹，一个巨大的谜团。",\n            "价值": {\n                "基础价值": 9999,\n                "价值标签": ["剧情关键", "传说", "唯一"]\n            }\n        },\n        {\n            "名称": "“神陨”之日记残页",\n            "品阶": "未知（涉及世界观核心历史）",\n            "外观": "一张薄如蝉翼的金色纸张，水火不侵，万年不朽。纸张上是用一种蕴含着道韵的紫色墨水书写的文字。字体高古而威严，每一个字都仿佛蕴含着天地至理。可惜这张纸只剩下一小半，文字也断断续续。",\n            "特性与内容": "纸张上记载的似乎是一篇日记。内容是用第一人称书写，充满了疲惫、困惑与一丝不易察觉的恐惧。\\n【零碎的记录】：“……天道有缺，长生是一场骗局……我们都被困在这里……化神之上，并非飞升，而是‘熔化’……”\\n“……那扇‘门’背后到底是什么？为何每一个试图推开它的人，都化为了献祭的薪柴……”\\n“……我看到了祂的影子，在世界的根源处……祂在‘收割’……我们所有的修炼，都是在为祂提供养分……”\\n“……必须找到破局之法。我欲往中天圣都，窃取‘界源之心’，或许，那里面有最后的答案……此行，九死一生……”",\n            "潜在价值": "【颠覆认知】：这篇日记的内容，将彻底颠覆元初界所有修士的认知。它揭示了修炼之路的终点，可能并非是逍遥长生，而是一个恐怖的陷阱。\\n【最高秘密】：直接指向了“化神之上的境界”、“世界的真相”、“天道”等核心谜团。为整个故事提供了终极的悬念和探索目标。",\n            "风险与挑战": "【天道禁忌】：这上面记载的内容，是这个世界最大的禁忌。仅仅是知晓，就可能背负上沉重的因果，甚至被冥冥中的某种存在所“注视”。\\n【引火烧身】：日记的主人，显然是去执行一件足以颠覆世界的大事。这页日记，就像一个坐标，可能会引来日记主人的敌人或朋友。无论哪一方，都不是现在的穿越者能够应对的。",\n            "背景猜测": "日记的主人，必然是一位站在了元初界最顶点的化神境，甚至化神之上的恐怖存在。他发现了世界的残酷真相，并试图反抗。这篇日记，是他行动之前留下的记录。它会出现在洄潮屿，或许意味着这位大能的计划失败了，他在被追杀的途中，储物法宝破碎，日记也因此散落。这片残页，是一段波澜壮阔却又无比悲壮的史诗的见证。",\n            "价值": {\n                "基础价值": 9999,\n                "价值标签": ["剧情关键", "传说", "唯一", "禁忌"]\n            }\n        },\n        {\n            "名称": "断裂的飞剑（剑尖部分）",\n            "品阶": "法器下品（残骸）",\n            "外观": "一段约三寸长、锈迹斑斑的金属。从其断裂面和依稀可辨的棱角，可以看出它曾经是一柄飞剑的剑尖。金属表面覆盖着一层用普通手段难以去除的深海顽固锈迹，只有在某个特定的角度，才能看到锈迹下透出的一丝青濛濛的金属光泽。整个残片摸上去冰冷刺骨，断口处锋利异常，稍不注意就会划破皮肤。",\n            "特性": "这柄飞剑的核心符文和能量中枢都位于剑柄和剑身，早已随着主体的遗失而损毁。这截剑尖唯一保留下来的是，是其本身的材质——“青玉精钢”。这种金属是炼制低阶飞剑最常用的材料，兼具坚韧与对灵气的基本传导性。由于是剑尖部分，其冶炼时的千锤百炼程度最高，材质也最为精纯。",\n            "潜在价值": "【材料来源】：这是穿越者能获得的最优质的初始金属材料。她可以用最原始的办法（例如，用坚硬的礁石日夜打磨），将其改造成一柄锋利的小刀、匕首，或是一批拥有极强穿透力的箭头。这是她告别木棍、拥有第一件金属武器的契机。\\n【炼器启蒙】：如果她能设法去除锈迹（例如，用某些灵植的酸性汁液浸泡），就有可能看到内部镌刻的、最基础的“破甲符文”和“锐金符文”的残痕。通过研究这些残缺的符文是如何被刻在剑身上的，她可以获得关于“炼器”最直观、最基础的认识。这比任何书本上的理论都更加生动。\\n【剑意载体】：如果她恰好拾取到了《断潮剑经》，那么这截由真正飞剑留下的残片，将是她修炼剑招时最好的“手感”来源。握着它，她能更清晰地感受到灵力在金属中传导的感觉，这对于一个初学者来说至关重要。",\n            "背景猜测": "这柄飞Dīng剑的主人，很可能是一位东玄域小门派的炼气期弟子。在一次出海任务中，他的飞剑被更强大的敌人或妖兽直接击断，本人也凶多吉少。这截剑尖，是他曾经御剑青冥、意气风发的最后证明。",\n            "价值": {\n                "基础价值": 20,\n                "价值标签": ["炼器材料", "工具材料"]\n            }\n        },\n        {\n            "名称": "失效的储物袋",\n            "品阶": "法器下品（损坏）",\n            "外观": "一个巴掌大小、由某种灰色妖兽皮缝制的袋子，入手柔软但毫无弹性。袋口用于束紧的绳子已经断裂，袋子的内壁上，曾经用于支撑空间的符文已经黯淡无光，变成了死气沉沉的灰色线条。整个袋子闻起来有一股皮革被海水泡烂后的霉味，用力一扯，甚至可能会从缝线处裂开。",\n            "特性": "内部用于开辟“须弥空间”的核心材料“虚空尘晶”已经完全耗尽或逸散，使得这个储物袋彻底失去了储物功能，变成了一个比普通布袋还脆弱的皮囊。但其制作工艺——如何在柔软的兽皮上铭刻空间符文，以及符文的走势和结构，依然保留了下来。",\n            "潜在价值": "【研究样本】：这是研究空间法器的最佳入门级样本。穿越者可以小心地将其拆解，研究它的缝制方法、兽皮的鞣制工艺，尤其是内壁上那些虽然失效但结构完整的符文。如果她能拾取到新的“虚空尘晶”，再配合她对符文的理解，她甚至可以尝试“修复”这个储物袋，为自己制作出第一个空间装备。\\n【反向工程】：通过对这些符文的学习，她可以掌握最基础的空间稳定技术。这种技术或许不能用来制造储物袋，但可以用来加固自己的木屋，使其能够更好地抵御风暴，或是在制作陷阱时，让陷阱的某个区域空间变得略微粘稠，迟滞敌人的动作。",\n            "背景猜测": "储物袋是修士的标配，也是最容易在战斗中被毁坏的法器之一。它的主人可能是在一场爆炸中身亡，储物袋因巨大的能量冲击而失效。里面的物品早已散落一空，只剩下这个空空的皮囊，诉说着“财富归零”的悲伤故事。",\n            "价值": {\n                "基础价值": 15,\n                "价值标签": ["研究材料", "符文"]\n            }\n        },\n        {\n            "名称": "单筒望远镜（镜片碎裂）",\n            "品阶": "准法器/凡品顶阶（损坏）",\n            "外观": "一个由青铜和某种致密木材制成的单筒望远镜，造型古朴，充满了机械感。它的镜筒可以伸缩，上面还刻着精密的刻度。可惜的是，其物镜和目镜都已经碎裂，只剩下一些残留在镜框里的玻璃碴子。但其内部用于调节焦距的复杂齿轮结构，却奇迹般地保持完好。",\n            "特性": "这并非一件标准的法器，而更像是一件凡人工匠的巅峰之作，或是修士为凡人制作的辅助工具。它没有灵力驱动的痕迹，完全依靠精密的光学和机械原理工作。",\n            "潜在价值": "【光学知识】：这是将地球物理光学与异世界材料学结合的最佳契机。穿越者可以研究其内部的镜片组结构（即便已经碎裂），理解其“聚焦”、“放大”的原理。\\n【修复与改造】：她可以尝试用一些透明度高的水晶（例如“贝光粉”提纯后的结晶）或打磨后的高品质玉石，来替代碎裂的镜片。即便效果不如原版，也能让她拥有远距离观察的能力。这对于侦查海面上的情况、观察远处森林中的动静，都有着巨大的战略意义。\\n【衍生创造】：理解了望远镜的原理后，她可以举一反三，制造出“显微镜”，用来观察灵植的细胞结构、研究菌类的生长；或是利用透镜原理，制作一个高效的“聚光器”，用来点火或进行一些需要高温的初步材料处理。",\n            "背景猜测": "这具望远镜的主人，可能是一位热衷于探索和测绘的凡人航海家，他/她用它来观察星辰，绘制海图。也可能是一位修仙宗门里，负责监控山门外情况的低阶弟子，用它来打发漫长的值守时光。",\n            "价值": {\n                "基础价值": 25,\n                "价值标签": ["工具", "知识", "可修复"]\n            }\n        },\n        {\n            "名称": "聚灵阵盘（阵心碎裂）",\n            "品阶": "法器中品（核心损坏）",\n            "外观": "一个直径约一尺的圆形玉盘，玉盘的材质是上好的“温玉岩”，入手温润。玉盘的表面刻画着极为复杂和精密的阵法纹路，这些纹路如同一幅完美的几何艺术品。然而，在阵盘的正中心，也就是阵眼的位置，有一个明显的、被暴力砸出的凹坑，凹坑周围的玉石和阵纹都呈现出蛛网般的裂痕，向四周蔓延。",\n            "特性": "这是一个便携式的“聚灵阵盘”，曾经能够在其周围形成一个小型聚灵阵，提升修炼效率。但它的核心——通常是一块高品质的灵石或专门的阵心构件——已经被人挖走或击碎，导致整个阵盘彻底报废。但其上镌刻的、完整的聚灵阵纹路，却被保留了下来。",\n            "潜在价值": "【阵法教科书】：这是穿越者学习阵法知识的最好教材。她可以逐一研究阵盘上每一条阵纹的走向、作用，以及它们是如何相互连接、构成一个完整的功能体系的。这为她未来自己布阵打下了坚实的理论基础。\\n【修复可能】：虽然阵心已毁，但阵盘的基础还在。如果她能找到合适的替代品（例如，一颗品质足够好的妖丹，或是一块自己找到的特殊灵材），再结合她对阵法的理解，就有可能修复这个阵盘。一个能随身携带的聚灵阵，对她的修炼速度将是巨大的提升。\\n【材料价值】：即便无法修复，这个由一整块“温玉岩”雕琢而成的阵盘，其材料本身也价值不菲。将其砸碎，可以得到大量优质的土属性炼器材料。",\n            "背景猜测": "这种便携阵盘通常是富裕修士或宗门核心弟子的标配。它的损坏方式——阵心被精准破坏，说明其主人很可能是在失去反抗能力后，被敌人从容地取走了最有价值的部分，只留下这个空壳。这背后，往往是一场实力悬殊的劫掠。",\n            "价值": {\n                "基础价值": 80,\n                "价值标签": ["阵法", "知识", "炼器材料", "可修复"]\n            }\n        },\n        {\n            "名称": "避水珠（有裂纹）",\n            "品阶": "法器中品（受损）",\n            "外观": "一颗鸽子蛋大小、通体天蓝色的珠子，表面光滑，内部可以看到一团如同漩涡般旋转的蓝色光晕。可惜的是，珠子的表面有一道从顶端一直延伸到中部的、清晰可见的裂纹。透过裂纹，可以看到内部的光晕正在以一种极其缓慢的速度向外逸散。",\n            "特性": "这是一颗标准的避水珠，全盛时期，可以支撑起一个直径一丈的避水护罩，让持有者在水下自由呼吸和行动，如同在陆地。但因为这道裂纹，它的功能受到了极大的影响。\\n【功能缺陷】:\\n1.  **范围缩小**: 现在它撑起的避水护罩，只能紧紧地贴合在持有者的身体表面，形成一层薄薄的气膜，勉强能保证口鼻处的呼吸空间。\\n2.  **时间缩短**: 护罩的维持时间也大大缩短，注入一次灵力，最多只能维持一炷香的时间。\\n3.  **稳定性差**: 如果在水下遭遇强烈的水流冲击，护罩甚至有可能会瞬间破碎。",\n            "潜在价值": "【水下探索的门票】：尽管有诸多缺陷，但这颗避水珠，是穿越者探索那个神秘的“水下巨影”的唯一凭仗。只要小心使用，足以支撑她进行浅水区的初步探索。\\n【修复目标】：这颗珠子的核心功能还在，只是因为结构破损而导致能量泄漏。这为穿越者提供了一个明确的“修复”课题。她可以研究如何用一些具有粘合和隔绝特性的材料（比如“灰岩砂”的改良版，或是某种妖兽的分泌物）来填补裂纹，以恢复其部分功能。\\n【炼丹辅助】：在进行一些需要精确控水的丹药炼制时，可以利用避水珠的力量，在丹炉内制造出一个绝对干燥的微环境。",\n            "背景猜测": "避水珠是海修和经常在海边活动的修士的必备品。它的裂纹，很可能是主人在深海遭遇了强大的水压或海兽的音波攻击所致。主人可能当场就因护罩破碎而死于非命。",\n            "价值": {\n                "基础价值": 100,\n                "价值标签": ["法器", "工具", "可修复"]\n            }\n        },\n        {\n            "名称": "千音螺（只能单向传递）",\n            "品阶": "法器上品（功能性损坏）",\n            "外观": "一个海碗大小、造型精美奇特的白色海螺。螺身上天然生成了许多细小的孔洞，当有风吹过时，会发出悦耳的、如同风铃般的乐声。将它贴在耳边，能听到仿佛来自远方的、模糊的潮汐之声。",\n            "特性": "完整的千音螺，是一对子母螺，可以作为超远距离的通讯法器。无论相隔多远，一方对着母螺说话，另一方都能从子螺中清晰地听到。但现在，穿越者只捡到了其中的“母螺”。",\n            "潜在价值": "【窃听神器】：虽然无法用它来通话，但“接收”功能还在。这意味着，持有“子螺”的那个人，他/她对子螺说的任何话，都会被穿越者这边的母螺接收到。她等于拥有了一个单向的、来自未知对象的“广播接收器”。\\n【信息来源】：子螺的主人是谁？他/她现在在哪里？他/她会说些什么？是宗门内的日常交流，还是某个天大的阴谋？这个千音螺，为穿越者提供了一个充满悬念和不确定性的、来自外界的信息渠道。她可能会听到某个宗门的秘闻、某个弟子的抱怨、甚至某个针对特定目标的刺杀计划。\\n【声波研究】：海螺本身的设计，就是一件完美的声学仪器。她可以研究其内部的螺旋结构，是如何收集、放大和传递声音的。",\n            "风险": "一旦子螺的主人发现自己的谈话被窃听（比如，通过某些高阶秘法），很可能会通过子母螺之间的感应，大致定位到母螺的方向，从而给穿越者带来杀身之祸。",\n            "背景猜测": "这对千音螺的主人，很可能是一对道侣或师徒。其中一人在海上遇难，只留下了另一人，还在日复一日地对着子螺倾诉着自己的思念或汇报着某些情况，却不知，这一切都被一个遥远的、陌生的耳朵听了去。这背后，是一个悲伤而又诡异的故事。",\n            "价值": {\n                "基础价值": 500,\n                "价值标签": ["法器", "情报", "稀有"]\n            }\n        },\n        {\n            "名称": "缚妖索（灵性尽失的龙筋）",\n            "品阶": "宝器下品（材料形态）",\n            "外观": "一根约三尺长、婴儿手臂粗细的、如同白玉般的绳索。它看起来是一件完整的法宝，但入手后会发现，它柔软得像一根普通的麻绳，没有任何灵性波动，也无法注入灵力。绳索的表面布满了细密的、如同鳞片般的纹路，在绳索的一端，还系着一个已经完全石化的、小巧的龙头搭扣。",\n            "特性": "这曾是一件强大的、专门用来捆缚妖兽的宝器。其主体，是由一头至少是元婴级别的蛟龙的龙筋炼制而成。但因为某种未知的原因（可能是被更强大的力量污染，或是被特殊的秘法抽取），其内部蕴含的龙魂和灵性已经彻底消失，使它从一件宝器，退化成了一段纯粹的、物理性质强大的“材料”。",\n            "潜在价值": "【凡间神兵】：即便失去了所有灵性，龙筋本身的物理特性依然逆天。它水火不侵、刀剑难伤，其坚韧程度远超世间任何凡品绳索。穿越者可以用它来制作陷阱、捆绑重物、甚至作为攀爬悬崖的救命索。拥有它，在物理层面，她就拥有了绝对的安全保障。\\n【激活可能】：它的灵性是“沉睡”了，而非“死亡”。如果能找到蕴含磅礴龙气或生命力的物品（例如，传说中的龙血、龙涎香，或是用不枯草的汁液日夜浸泡），就有可能重新“唤醒”这条龙筋中的一丝灵性，使其恢复部分宝器的威能。\\n【炼器主材】：这是穿越者手中最高端的炼器材料。未来，如果她的炼器水平提升，可以将这条龙筋作为主材，炼制成鞭、弓弦、甚至是铠甲的缝合线，其潜力无穷。",\n            "背景猜测": "这件缚妖索的主人，很可能是一位顶级的御兽师或宗门执法长老。他/她用此索捆住了一头超乎想象的恐怖妖兽，但在最后的战斗中，妖兽临死前发动了某种同归于尽的诅咒，抹去了缚妖索的灵性，而主人也因此陨落。",\n            "价值": {\n                "基础价值": 1200,\n                "价值标签": ["炼器材料", "传说", "可修复"]\n            }\n        },\n        {\n            "名称": "日月轮（双轮之一·月轮）",\n            "品阶": "道器（严重受损，器灵沉睡）",\n            "外观": "一个直径约一尺的、由不知名银白色金属打造的圆轮。圆轮的边缘并非锋利的刃口，而是呈现出一种柔和的、如同月光般的弧度。轮身上雕刻着无数繁星和一轮满月的图案，这些图案仿佛是活的，会随着光线的变化而缓慢流转。圆轮的中心有一个空洞，似乎是用于手持或安装的。整个月轮散发着一股清冷、孤高、永恒的气息，仅仅是看着它，就让人心神宁静。但仔细观察，会发现轮身上有一道几乎将其斩为两半的恐怖裂痕，裂痕的边缘，残留着一丝霸道无匹的、仿佛能焚尽万物的金色气息，正在与月轮本身的清冷气息对抗、消磨。",\n            "特性": "这曾是一套名为“日月轮”的上古道器的其中之一——月轮。日月双轮齐出，可颠倒昼夜，逆转时空，威能无穷。月轮主“守护”、“封印”与“太阴之力”。\\n【器灵沉睡】：道器皆有器灵。月轮的器灵在这场重创中陷入了濒死的沉睡，这也是它看起来像一件死物的原因。\\n【法则残留】：虽然器灵沉睡，但道器本身就是法则的凝聚体。长期将月轮带在身边，穿越者会自然而然地对“太阴”、“星辰”、“守护”等法则产生更深的亲和与感悟。\\n【力量压制】：那道裂痕上残留的金色气息（很可能是太阳真火或大日金焰），与月轮本身的太阴之力形成了微妙的平衡。这使得月轮的力量被死死压制，无法显现。",\n            "潜在价值": "【无上守护】：如果穿越者能找到方法，哪怕只是暂时唤醒器灵一丝，或借助其力，就能获得元初界最顶级的守护之力。\\n【修复的漫长道路】：如何祛除那道裂痕上方的“太阳真火”气息，如何唤醒沉睡的器灵，这将是贯穿穿越者成长道路的一条漫长而艰难的支线任务。每一次修为的提升，每一次对法则的感悟，都可能让她距离目标更近一步。\\n【寻找日轮】：月轮的存在，意味着日轮也可能遗落在世间的某个角落。寻找日轮，让双轮重聚，将是足以影响整个元初界格局的终极使命。",\n            "背景猜测": "这件道器的主人，必然是上古时期一位惊天动地的大人物，其实力可能已经超越了化神境。能将道器重创至此的敌人，也必然是同等级别的存在。这背后，是一场足以打沉一个大陆、蒸发一片海洋的神级战争。日月轮的失落，标志着一个辉煌神话时代的终结。",\n            "价值": {\n                "基础价值": 99999,\n                "价值标签": ["道器", "剧情关键", "传说", "唯一", "可修复"]\n            }\n        },\n        {\n            "名称": "“天工”机关核心（报废）",\n            "品阶": "未知（科技/修真造物）",\n            "外观": "一个约人头大小的、由无数精密齿轮、水晶导管、金属线路和符文阵列交织而成的球状物。它的结构之复杂，远超穿越者所能理解的任何机械或阵法。透过其水晶外壳，可以看到其内部最核心的位置，是一颗已经黯淡、碎裂的、如同心脏般的红色晶石。整个球体冰冷，没有任何能量波动，像一件被遗弃的、过度精密的艺术品。",\n            "特性": "这是一个与元初界主流修炼体系截然不同的造物。它并非通过修士的灵力驱动，而是通过那个破碎的“能量核心”来自主运转。它似乎是某个巨大机械造物——比如机关傀儡、浮空城——的中枢控制系统。",\n            "潜在价值": "【另一条科技树】：这个机关核心，为穿越者展示了一条完全不同的“力量”道路——修真与科技结合的“机关术”。它所蕴含的设计理念，如能量传导、逻辑控制、多线程处理，对拥有现代科学思维的她来说，极具启发性。\\n【知识宝库】：如果她能设法为这个核心接上一个临时的“电源”（比如用雷属性妖丹的电能），或许能激活其内部残存的信息库，从中读取到关于“天工文明”的零星资料——那是一个已经消失在历史长河中的、以创造强大机关造物而闻名的古老文明。\\n【终极造物】：这个核心本身，就是一件终极造物的基础。如果未来穿越者走上了机关师的道路，她可以围绕这个核心，为自己打造一具独一-无二的、拥有无限升级潜力的战斗傀儡或移动基地。",\n            "风险": "“天工文明”的覆灭，至今仍是谜团。有传闻说，是因为他们创造出的机关造物过于强大，甚至诞生了自我意识，最终反噬了主人，引来了天道的惩罚。接触这种禁忌的技术，可能会让她走上一条与整个世界为敌的道路。",\n            "背景猜测": "它的出现，意味着在遥远的上古时代，曾有一座“天工文明”的浮空城或巨型战舰，在无妄海上空坠毁。这个机关核心，就是那场巨大灾难中，唯一幸存下来的、最关键的“黑匣子”。",\n            "价值": {\n                "基础价值": 88888,\n                "价值标签": ["知识", "剧情关键", "传说", "唯一", "禁忌"]\n            }\n        },\n        {\n            "名称": "太阳能充电器",\n            "品阶": "凡品（地球造物）",\n            "外观": "一块可折叠的、由多块深蓝色硅晶板拼接而成的板子，边缘由尼龙帆布包裹。带有一个小巧的USB接口，看起来充满了工业设计的痕迹。",\n            "特性": "能够将光能（不限于太阳光，月光、甚至某些强光法术的光芒也能起效）转化为微弱的电能。转化效率极低，且无法储存电能。",\n            "潜在价值": "【核心价值】：为穿越者的地球设备（主要是手机）提供了再次开机的可能性。手机中存储的科学知识、小说、音乐等，是她宝贵的精神财富和知识库。\\n【研究价值】：是“能量转换”这一概念最直观的体现，可能启发她理解修仙世界中“灵石”、“阵法”等能量体系的原理。",\n            "背景猜测": "一件普通的户外用品，在穿越时被一同带了过来。它所代表的“科学”法则，在这个充满“灵气”的世界里显得格格不入，却又可能在关键时刻发挥意想不到的作用。",\n            "价值": {\n                "基础价值": 1,\n                "价值标签": ["奇物"]\n            }\n        },\n        {\n            "名称": "多功能军刀",\n            "品阶": "凡品（地球造物）",\n            "外观": "一把红色的、可折叠的瑞士军刀。集成了主刀、小刀、锯子、剪刀、开罐器、螺丝刀等多种工具。",\n            "特性": "由高品质的地球不锈钢制成，物理层面的锋利度和坚固度远超普通铁器，但在无法传导灵气的修仙世界里，它只是一件极致的凡间工具。",\n            "潜在价值": "【生存工具】：在游戏初期，是处理食材、制作陷阱、修理工具的绝对主力，极大提升了生存效率。\\n【炼器参考】：其精巧的折叠结构和多种工具的设计理念，为穿越者提供了“多功能”、“集成化”的炼器思路。",\n            "背景猜测": "穿越者的父亲送给她的成年礼物，希望她在户外考察时能用上。这件物品承载着她对家人的思念。",\n            "价值": {\n                "基础价值": 8,\n                "价值标签": ["工具"]\n            }\n        },\n        {\n            "名称": "广谱抗生素",\n            "品阶": "凡品（地球造物）",\n            "外观": "一个白色的小塑料瓶，里面装着十几颗阿莫西林胶囊。标签上的文字已经有些模糊。",\n            "特性": "能够有效杀灭大部分凡俗世界的细菌，对抗感染有奇效。但对灵气、诅咒、神魂等造成的伤害完全无效。",\n            "潜在价值": "【救命底牌】：在修仙初期，主角的肉身依然是凡胎，一次普通的伤口感染就可能是致命的。抗生素是她在获得有效疗伤丹药前最重要的生命保障。\\n【丹道启发】：这种“针对性地灭杀微小生命”的药理，可能会启发她理解某些“祛毒丹”或“驱蛊丹”的炼制原理。",\n            "背景猜测": "穿越者为应对野外考察可能出现的意外而准备的常用药，是现代医学智慧的结晶。",\n            "价值": {\n                "基础价值": 1,\n                "价值标签": ["奇物", "药品"]\n            }\n        },\n        {\n            "名称": "高产作物种子",\n            "品阶": "凡品（地球造物）",\n            "外观": "一个密封的锡纸袋，里面装着经过精心筛选的杂交水稻和土豆种子。",\n            "特性": "经过现代农业技术培育，具有高产、抗病、适应性强的特点。本身不含灵气。",\n            "潜在价值": "【种田基石】：是穿越者“种田”计划的起点。一旦在息壤灵田中种植成功，这些种子结出的作物将会在灵气滋养下发生变异，成为第一代“灵植”，为她提供稳定且蕴含灵气的食物来源。\\n【杂交理念】：为她提供了“改良物种”的思路，未来可能尝试将地球作物与异界灵植进行杂交，培育出全新的物种。",\n            "背景猜测": "她的毕业设计课题的一部分，随手放在背包里，却成了她在异世界安身立命的根本。",\n            "价值": {\n                "基础价值": 1,\n                "价值标签": ["奇物", "食物"]\n            }\n        },\n        {\n            "名称": "打火石",\n            "品阶": "凡品（地球造物）",\n            "外观": "一根镁条和一个带锯齿的刮片。结构简单，可靠耐用。",\n            "特性": "通过刮擦镁条产生的高温火花来点燃易燃物。不受潮湿环境影响，比钻木取火效率高得多。",\n            "潜在价值": "【文明之火】：在能稳定施展“控火术”之前，这是她获取火焰、烹饪食物、驱赶野兽、夜间照明的最可靠手段。\\n【炼器入门】：为她提供了“高温”这一概念，是炼器、炼丹等一切需要热源的活动的起点。",\n            "背景猜测": "户外生存爱好者常备的基础工具，简单、可靠、有效。",\n            "价值": {\n                "基础价值": 3,\n                "价值标签": ["工具"]\n            }\n        },\n        {\n            "名称": "高强度鱼线和鱼钩",\n            "品阶": "凡品（地球造物）",\n            "外观": "一卷透明的尼龙鱼线和一小盒锋利的钢制鱼钩。",\n            "特性": "材质坚韧，远超普通草绳或藤蔓，能够钓起远比自身看起来更重的物体。",\n            "潜在价值": "【食物来源】：是初期获取稳定蛋白质来源的重要工具。\\n【多功能材料】：坚韧的鱼线可以用来缝合兽皮、制作陷阱的绊索、捆绑物品等多种用途。",\n            "背景猜测": "同样是为户外考察准备的工具，体现了现代材料科学的优势。",\n            "价值": {\n                "基础价值": 4,\n                "价值标签": ["工具"]\n            }\n        }\n    ],\n    "书籍": []\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvZGF0YS9wb2tlZGV4LWRhdGEudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUVPLE1BQU0saUJBQWlCLEdBQVk7SUFDeEMsSUFBSSxFQUFFLEVBQUU7SUFDUixJQUFJLEVBQUU7UUFDSjtZQUNFLElBQUksRUFBRSxRQUFRO1lBQ2QsSUFBSSxFQUFFLGdCQUFnQjtZQUN0QixJQUFJLEVBQUUscUdBQXFHO1lBQzNHLElBQUksRUFBRSx5RkFBeUY7WUFDL0YsTUFBTSxFQUFFLDhSQUE4UjtZQUN0UyxNQUFNLEVBQUUsMEdBQTBHO1NBQ25IO1FBQ0Q7WUFDRSxJQUFJLEVBQUUsU0FBUztZQUNmLElBQUksRUFBRSxZQUFZO1lBQ2xCLElBQUksRUFBRSxzRkFBc0Y7WUFDNUYsSUFBSSxFQUFFLG9IQUFvSDtZQUMxSCxNQUFNLEVBQUUsMkxBQTJMO1lBQ25NLE1BQU0sRUFBRSwyRUFBMkU7U0FDcEY7UUFDRDtZQUNFLElBQUksRUFBRSxTQUFTO1lBQ2YsSUFBSSxFQUFFLFlBQVk7WUFDbEIsSUFBSSxFQUFFLHVIQUF1SDtZQUM3SCxJQUFJLEVBQUUsK0ZBQStGO1lBQ3JHLE1BQU0sRUFBRSxtTUFBbU07WUFDM00sTUFBTSxFQUFFLGtEQUFrRDtTQUMzRDtRQUNEO1lBQ0UsSUFBSSxFQUFFLFNBQVM7WUFDZixJQUFJLEVBQUUsWUFBWTtZQUNsQixJQUFJLEVBQUUscUdBQXFHO1lBQzNHLElBQUksRUFBRSxrRUFBa0U7WUFDeEUsTUFBTSxFQUFFLDhOQUE4TjtZQUN0TyxNQUFNLEVBQUUsc0VBQXNFO1NBQy9FO1FBQ0Q7WUFDRSxJQUFJLEVBQUUsU0FBUztZQUNmLElBQUksRUFBRSxVQUFVO1lBQ2hCLElBQUksRUFBRSw0R0FBNEc7WUFDbEgsSUFBSSxFQUFFLDBHQUEwRztZQUNoSCxNQUFNLEVBQUUsK01BQStNO1lBQ3ZOLElBQUksRUFBRSxrREFBa0Q7WUFDeEQsTUFBTSxFQUFF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QUFDO2FBQ2Y7U0FDRjtLQUNGO0lBQ0QsSUFBSSxFQUFFLEVBQUU7Q0FDVCIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvZGF0YS9wb2tlZGV4LWRhdGEudHM/Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgUG9rZWRleCB9IGZyb20gJy4uL2NvcmUvcG9rZWRleCc7XHJcblxyXG5leHBvcnQgY29uc3QgcG9rZWRleERhdGFTb3VyY2U6IFBva2VkZXggPSB7XHJcbiAgXCLlppblhb1cIjogW10sXHJcbiAgXCLmpI3nialcIjogW1xyXG4gICAge1xyXG4gICAgICBcIuWQjeensFwiOiBcIueBteiwt++8iOeis+WMlu+8iVwiLFxyXG4gICAgICBcIuWTgemYtlwiOiBcIuWHoeWTgeS4i+mYtu+8iOWOn+WTgemYtuWPr+iDveS4uueBteWTge+8iVwiLFxyXG4gICAgICBcIuWkluinglwiOiBcIuS4gOaNp+aNp+a8hum7keeahOOAgeW3sue7j+WujOWFqOeis+WMlueahOiwt+eJqemil+eyku+8jOa3t+adguWcqOa3seiJsueahOaymeegvuS4reOAguWug+S7rOeahOWkluW9ouS+neeogOi/mOiDvei+qOiupOWHuuaYr+eou+iwt+aIlum6puepl+eahOaooeagt++8jOS9huW3sue7j+WPmOW+l+WDj+acqOeCreS4gOagt+WdmuehrOS4lOi9u+OAgueUqOaJi+aNu+W8gO+8jOS8muWMluS4uue7huiFu+eahOm7keiJsueyieacq++8jOmXu+i1t+adpeacieS4gOiCoeeEpueziuWSjOmZiOiFkOa3t+WQiOeahOawlOWRs+OAglwiLFxyXG4gICAgICBcIueJueaAp1wiOiBcIuWGhemDqOiVtOWQq+eahOeBteawlOWHoOS5juW3sue7j+mAuOaVo+auhuWwve+8jOS7heWcqOiwt+eJqeeahOacgOaguOW/g+WkhO+8jOS/neeVmeedgOS4gOS4neW+ruW8seWIsOWPr+S7peW/veeVpeS4jeiuoeeahOeUn+WRveWNsOiusOOAguWHoeS6uumjn+eUqOWQjumZpOS6huS8mua7oeWYtOWPkem7keWklu+8jOayoeacieS7u+S9leaViOaenO+8jOeUmuiHs+WPr+iDveWboOWFtuWcqOa1t+awtOS4rea1uOazoei/h+S5heiAjOWvvOiHtOiFueazu+OAglwiLFxyXG4gICAgICBcIua9nOWcqOS7t+WAvFwiOiBcIuOAkOaguOW/g+S7t+WAvCAtIOaSreenjeOAke+8mui/meaYr+Wug+WUr+S4gOeahO+8jOS5n+aYr+mAhuWkqeeahOS7t+WAvOOAguepv+i2iuiAheaLpeacieaBr+WjpOeBteeUsO+8jOi/meeJh+elnuWcn+iDveWkn+WwhumCo+S4neWHoOS5jueGhOeBreeahOeUn+WRveWNsOiusOmHjeaWsOa/gOa0u+OAguWPquimgeWwhui/meS6m+eis+WMlueahOeBteiwt+enjeS4i++8jOaBr+WjpOWSjOeUmOmcluazieeahOWKm+mHj+WwseacieWPr+iDveS9v+WFtuKAnOi1t+atu+WbnueUn+KAne+8jOmHjeaWsOWPkeiKve+8jOmVv+WHuuecn+ato+eahOeBteiwt+akjeagquOAguiZveeEtuaIkOWKn+eOh+WPr+iDveS4jemrmO+8jOWNgemil+enjeWtkOacquW/heiDvea0u+S4gOmil++8jOS9huS4gOaXpuaIkOWKn++8jOWwseaEj+WRs+edgOepv+i2iuiAheaLpeacieS6huWPr+S7peeos+WumumHj+S6p+eahOOAgeiVtOWQq+eBteawlOeahOS4u+mjn+OAglxcbuOAkOeglOeptuS7t+WAvOOAke+8muWvueS6juaLpeacieeOsOS7o+efpeivhueahOepv+i2iuiAheadpeivtO+8jOi/meS6m+eis+WMluiwt+eJqeS5n+aYr+e7neS9s+eahOeglOeptuagt+acrOOAguWlueWPr+S7pemAmui/h+WIhuaekOWFtueis+WMlue7k+aehO+8jOaOqOa1i+WFtuWOn+WFiOeUn+mVv+eahOeOr+Wig++8iOS+i+Wmgu+8jOaYr+mBremBh+S6hueDiOeBq+i/mOaYr+mbt+WHu++8ieOAgumAmui/h+WvueavlOS4jeWQjOadpea6kOeahOeis+WMlueBteiwt++8jOWlueeUmuiHs+WPr+S7peWIneatpeW7uueri+S4gOS4quWFs+S6juKAnOW8guS4lueVjOemvuacrOenkeakjeeJqeKAneeahOaVsOaNruW6k+OAglwiLFxyXG4gICAgICBcIuiDjOaZr+eMnOa1i1wiOiBcIui/meS6m+eis+WMlueBteiwt+eahOadpea6kOaegeWFtuW5v+azm+OAguWPr+iDveadpeiHquafkOS4quiiq+Wkp+eBq+eDp+avgeeahOWul+mXqOeyruS7k++8jOS5n+WPr+iDveaYr+afkOiJmOi/kOeyruiIueWcqOmBremBh+mbt+aatOWQjuayieayoeeahOS6p+eJqeOAguWcqOaXoOWmhOa1t+eahOiIque6v+S4iu+8jOeBteiwt+i0uOaYk+aYr+S7heasoeS6juefv+efs+WSjOazleWuneeahOWkp+Wul+WVhuWTgeOAguavj+S4gOasoea1t+mavu+8jOmDveaEj+WRs+edgOacieaIkOWNg+S4iuS4h+aWpOeahOeBteiwt+ayieWFpea1t+W6leOAglwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBcIuWQjeensFwiOiBcIui+n+iwt+S4ue+8iOaui+a4o++8iVwiLFxyXG4gICAgICBcIuWTgemYtlwiOiBcIuWHoeWTgeS4remYtu+8iOS4ueiNr+aui+a4o++8iVwiLFxyXG4gICAgICBcIuWkluinglwiOiBcIumAmuW4uOWcqOS4gOS4quegtOeijueahOOAgeacgOaZrumAmueahOmdkuiJsueTt+eTtuS4reiiq+WPkeeOsOOAgueTtuWGheWPquWJqeS4i+S4gOS6m+eBsOeZveiJsueahOeyieacq+WSjOWHoOmil+exs+eykuWkp+Wwj+eahOOAgeW3sue7j+WkseWOu+WFieazveeahOS4ueiNr+eijuWdl+OAgui/meS6m+aui+a4o+mXu+i1t+adpeacieS4gOiCoea3oea3oeeahOOAgeexu+S8vOiNieacqOeBsOWSjOazpeWcn+a3t+WQiOeahOWRs+mBk+OAglwiLFxyXG4gICAgICBcIueJueaAp1wiOiBcIui+n+iwt+S4ueaYr+S/ruecn+eVjOacgOS9jumYtuOAgeS5n+acgOWkp+S8l+WMlueahOS4ueiNr++8jOWFtuS9nOeUqOaYr+iuqeS/ruWjq+WcqOS4gOauteaXtumXtOWGheaEn+inieS4jeWIsOmlpemlv+OAgui/meS6m+aui+a4o+S4reeahOiNr+WKm+W3sue7j+a1geWkseS6huS5neaIkOS5ne+8jOaXoOazleWGjeaPkOS+m+WujOaVtOeahOi+n+iwt+aViOaenOOAguS9huWmguaenOWwhuWFtuWFqOmDqOWIruWPluWHuuadpe+8jOeUqOa4qeawtOWGsuacje+8jOWkp+e6puiDveaKteW+l+S4iuS4gOmhv+mlreeahOmlseiFueaEn++8jOiDvee7tOaMgeS4ieWIsOWbm+S4quaXtui+sOS4jemlv+OAglwiLFxyXG4gICAgICBcIua9nOWcqOS7t+WAvFwiOiBcIuOAkOW6lOaApemjn+eJqeOAke+8muWcqOmjn+eJqeWMruS5j+eahOWIneacn++8jOaYr+aegeWlveeahOW6lOaApeWPo+eyruOAglxcbuOAkOS4ueaWuemAhuaOqOOAke+8muepv+i2iuiAheWPr+S7peaUtumbhuS4jeWQjOadpea6kOeahOi+n+iwt+S4ueaui+a4o++8jOmAmui/h+WlueeahOWMluWtpuefpeivhu+8jOWIhuaekOWFtuS4reeahOS4u+imgeaIkOWIhu+8iOWwveeuoeW+iOmavueyvuehru+8ie+8jOWGjee7k+WQiOOAiuWFg+WIneiNieacqOWbvumJtOOAi++8jOWwneivlemAhuWQkeaOqOWvvOWHuui+n+iwt+S4ueeahOWkp+iHtOmFjeaWueOAgui/meS8muaYr+Wluei1sOS4iuS4ueW4iOS5i+i3r+eahOesrOS4gOasoeKAnOeQhuiuuuWunui3teKAneOAglxcbuOAkOWuueWZqOWIqeeUqOOAke+8mumCo+S6m+egtOeijueahOS4ueiNr+eTtuacrOi6q++8jOiZveeEtuS4jeWAvOmSse+8jOS9huS5n+aYr+S4jemUmeeahOWuueWZqO+8jOWPr+S7peeUqOadpeijheWlueiHquW3seiwg+mFjeeahOiNr+iGj+aIluaUtumbhueahOeyieacq+adkOaWmeOAglwiLFxyXG4gICAgICBcIuiDjOaZr+eMnOa1i1wiOiBcIuS7u+S9leS4gOS4quWkluWHuuWOhue7g+eahOeCvOawlOacn+S/ruWjq++8jOWCqOeJqeiii+mHjOmDveS8muWkh+S4iuWHoOeTtui+n+iwt+S4ueOAgui/meS6m+egtOeijueahOS4ueeTtu+8jOaYr+aXoOWmhOa1t+S4iuacgOW4uOingeeahOKAnOS/ruWjq+Weg+WcvuKAne+8jOWug+S7rOaYr+aXoOaVsOmZqOiQveeahOS9jumYtuS/ruWjq+eVmeS4i+eahOacgOWQjueXlei/ueOAglwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBcIuWQjeensFwiOiBcIua1t+ebkOiKse+8iOW5sueYqu+8iVwiLFxyXG4gICAgICBcIuWTgemYtlwiOiBcIuWHoeWTgeS4iuWTge+8iOeBteakjeaui+mquO+8iVwiLFxyXG4gICAgICBcIuWkluinglwiOiBcIuS4gOagquagquiiq+a1t+awtOWGsuW+l+WPquWJqeS4i+S4u+W5suWSjOWHoOeJh+aui+WPtueahOakjeeJqeOAguaVtOS9k+WRiOeBsOeZveiJsu+8jOW3sue7j+WujOWFqOiEseawtO+8jOi0qOWcsOW5suiEhu+8jOWDj+S4gOeisOWwseeijueahOaer+iNieOAguWFtuWUr+S4gOeahOeJueW+geaYr++8jOWcqOWug+eahOagueiMjui/nuaOpeWkhO+8jOS8muWHnee7k+edgOWHoOmil+ebkOeykuWkp+Wwj+eahOOAgeaZtuiOueWJlFTQns6855qE55m96Imy5pm25L2T44CC6IiU5LiA5LiL77yM5ZGz6YGT5ZK45Lit5bim55SY77yM5bm25pyJ5LiA5Lid5b6u5byx55qE54G15rCU5Zyo6IiM5bCW5YyW5byA44CCXCIsXHJcbiAgICAgIFwi54m55oCnXCI6IFwi5rW355uQ6Iqx5piv5LiA56eN55Sf6ZW/5Zyo5rW36L6556SB55+z57yd6ZqZ5Lit55qE54m55q6K54G15qSN77yM6IO95ZC45pS25rW35rC05Lit55qE55uQ5YiG5ZKM5rC054G15rCU77yM5bm25bCG5YW26L2s5YyW5Li65Y+v5L6b5L+u5aOr5ZC45pS255qE57qv5YeA6IO96YeP44CC6L+Z56eN5bmy55iq55qE5rW355uQ6Iqx77yM5aSn6YOo5YiG54G15rCU5bey57uP6YC45pWj77yM5L2G5qC56YOo55qE4oCc54G155uQ57uT5pm24oCd5Lit6L+Y5L+d55WZ552A5LiA5Lid57K+5Y2O44CCXCIsXHJcbiAgICAgIFwi5r2c5Zyo5Lu35YC8XCI6IFwi44CQ6LCD5ZGz5ZOB44CR77ya6L+Z5Lqb54G155uQ57uT5pm25piv6aG257qn55qE5aSp54S26LCD5ZGz5ZOB44CC55So5a6D5p2l54O56aWq6aOf54mp77yI5q+U5aaC54Ok6bG85oiW54G15qSN77yJ77yM5LiN5LuF6IO95o+Q5Y2H6aOO5ZGz77yM6L+Y6IO95Li66aOf54mp6aKd5aSW6ZmE5Yqg5LiA5Lid5rC054G15rCU77yM5pyJ5Yqp5LqO5raI5YyW5ZKM5ZC45pS244CCXFxu44CQ54K85Li56L6F5paZ44CR77ya5Zyo54K85Yi25p+Q5Lqb5L2O6Zi25Li56I2v5pe277yM5Yqg5YWl5LiA5Lik6aKX54G155uQ57uT5pm277yM5Y+v5Lul6LW35Yiw5Lit5ZKM6I2v5oCn44CB56iz5a6a5Li554KJ5YaF54G15Yqb5bmz6KGh55qE5L2c55So44CCXFxu44CQ56eN5a2Q5p2l5rqQ44CR77ya6Jm954S25qSN5qCq5bey57uP5bmy55iq77yM5L2G5aaC5p6c5YW25qC56YOo5bCa5a2Y5LiA5Lid5rS75oCn77yM5bCx5pyJ5Y+v6IO95Zyo5oGv5aOk54G155Sw5Lit6KKr6YeN5paw5pWR5rS744CC56eN5qSN5Ye655qE5rW355uQ6Iqx77yM5bCG5Li656m/6LaK6ICF5o+Q5L6b5rqQ5rqQ5LiN5pat55qE54G155uQ44CCXCIsXHJcbiAgICAgIFwi6IOM5pmv54yc5rWLXCI6IFwi5p2l6Ieq5LqO5peg5aaE5rW35rK/5bK455qE5p+Q5Lqb55ub5Lqn5q2k6Iqx55qE5bKb5bG/44CC5Y+v6IO95piv6KKr6aOO5pq06L+e5qC55ouU6LW377yM5Lmf5Y+v6IO95piv5p+Q5Lqb5L+u5aOr5Zyo6YeH5pGY5pe25LiN5oWO5o6J6JC955qE44CCXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIFwi5ZCN56ewXCI6IFwi6JW054G16JqM77yI56m65aOz77yJXCIsXHJcbiAgICAgIFwi5ZOB6Zi2XCI6IFwi5Yeh5ZOB5LiK5ZOB77yI5aaW5YW96YGX6aq477yJXCIsXHJcbiAgICAgIFwi5aSW6KeCXCI6IFwi5be05o6M5aSn5bCP55qE6JqM5aOz77yM5YaF5aOB5YWJ5ruR5aaC6ZWc77yM5ZGI546w5Ye65rip5ram55qE54+N54+g6Imy5rO977yM5bm25LiU5q+U5aSW5aOz6KaB5Y6a5a6e5b6X5aSa44CC6JqM5aOz55qE6L6557yY6YCa5bi45pyJ56C05o2f77yM5pi+56S65Ye65a6D5piv6KKr5by66KGM5omT5byA55qE44CC6Jm954S25YaF6YOo55qE6JqM6IKJ5ZKM5Y+v6IO95a2Y5Zyo55qE54+N54+g5pep5bey5LiN6KeB77yM5L2G5pW05Liq6JqM5aOz5L6d54S25pWj5Y+R552A6Iul5pyJ6Iul5peg55qE5rC054G15rCU44CCXCIsXHJcbiAgICAgIFwi54m55oCnXCI6IFwi6JW054G16JqM5piv5LiA56eN5LiA6Zi25aaW5YW977yM5YW25LiA55Sf6YO95Zyo6L+H5ruk5rW35rC077yM5bCG5pyA57K+57qv55qE5rC054G15rCU5Yed6IGa5Zyo6Ieq5bex55qE6JqM5aOz5YaF5aOB5ZKM54+N54+g5Lit44CC6L+Z5Liq56m65aOz77yM5pys6Lqr5bCx5piv5LiA5Lu25LiN6ZSZ55qE5rC05bGe5oCn5p2Q5paZ44CCXCIsXHJcbiAgICAgIFwi5r2c5Zyo5Lu35YC8XCI6IFwi44CQ5Zmo55q/44CR77ya5LiA5Liq5aSp54S255qE44CB6Ieq5bim6JW054G15pWI5p6c55qE57ud5L2z5Zmo55q/44CC55So5a6D5p2l55ub5pS+55SY6ZyW5rOJ5rC077yM5Y+v5Lul5YeP57yT5rOJ5rC05Lit54G15rCU55qE6YC45pWj6YCf5bqm44CC55So5a6D5p2l56CU56Oo6I2J6I2v77yM6I2v57KJ5Lya6Ieq54S25Zyw6ZmE5bim5LiK5LiA5Lid5rC054G15rCU44CCXFxu44CQ5Yi25Zmo5p2Q5paZ44CR77ya5bCG5YaF5aOB55qE54+N54+g5bGC5Yiu5LiL5p2l77yM5Y+v5Lul56Oo5oiQ4oCc6JW054G157KJ4oCd77yM5piv5Yi25L2c5L2O6Zi25rC057O756ym566T77yI5aaC4oCc5rC0572p56ym4oCd77yJ55qE5LyY6LSo5p2Q5paZ44CC5pW05Liq6JqM5aOz5Lmf5Y+v5Lul6KKr54K85Yi25oiQ566A5Y2V55qE6Ziy5oqk5rOV5Zmo77yM6Jm954S25ZOB6Zi25LiN6auY77yM5L2G5a+554Gr57O75rOV5pyv5pyJ5aSp54S255qE5YWL5Yi25pWI5p6c44CCXFxu44CQ57q/57Si44CR77ya6JW054G16JqM6YCa5bi45piv576k5bGF55qE77yM5Y+R546w5LiA5Liq56m65aOz77yM5oSP5ZGz552A5Zyo6ZmE6L+R55qE5rW35Z+f77yM5b6I5Y+v6IO95a2Y5Zyo5LiA5Liq6JW054G16JqM55qE5YW75q6W5Zy65oiW5aSp54S25qCW5oGv5Zyw44CCXCIsXHJcbiAgICAgIFwi6IOM5pmv54yc5rWLXCI6IFwi5peg5aaE5rW36K645aSa5Lul5YW75q6W5Li655Sf55qE5L+u5LuZ5a625peP77yM6YO95Lya5aSn6KeE5qih5YW75q6W6JW054G16JqM77yM5Lul6I635Y+W5YW25Ye65Lqn55qE54G154+g44CC6L+Z5Liq56m65aOz77yM5b6I5Y+v6IO95piv5p+Q5Liq5YW75q6W5Zy66KKr5rW35YW96KKt5Ye75ZCO77yM5q6L55WZ5LiL5p2l55qE4oCc5bqf5ZOB4oCd44CCXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIFwi5ZCN56ewXCI6IFwi54iG5rCU5pWj77yI5Y2K55O277yJXCIsXHJcbiAgICAgIFwi5ZOB6Zi2XCI6IFwi54G15ZOB5LiL6Zi277yI5Li56I2v77yJXCIsXHJcbiAgICAgIFwi5aSW6KeCXCI6IFwi5Zyo5LiA5Liq5bCP5ben55qE44CB55Sx5a+S6ZOB5pif5bGR5omT6YCg55qE6YeR5bGe55O25Lit44CC55O25a2Q5YWl5omL5Yaw5YeJ77yM6IO95pyJ5pWI6ZqU57ud54G15rCU6YC45pWj44CC55O25Lit6L+Y5Ymp5LiL5aSn57qm5LiA5Y2K55qE44CB5aaC5ZCM54Gr54Sw6Iis6LWk57qi6Imy55qE57KJ5pyr44CC5ouU5byA55O25aGe77yM5Lya5pyJ5LiA6IKh54G854Ot44CB6L6b6L6j55qE5rCU5oGv5omR6Z2i6ICM5p2l77yM6K6p5Lq657K+56We5Li65LmL5LiA5oyv77yM5L2G6ZqP5ZCO5Y+I5Lya5oSf5Yiw5LiA6Zi16I6r5ZCN55qE6Jma5byx44CCXCIsXHJcbiAgICAgIFwi54m55oCnXCI6IFwi5LiA56eN5Zyo55+t5pe26Ze05YaF5r+A5Y+R5L+u5aOr5r2c6IO944CB5by66KGM5o+Q5Y2H54G15Yqb54iG5Y+R55qE56aB6I2v44CC5pyN55So5ZCO77yM6IO96K6p54K85rCU5pyf5L+u5aOr5Zyo5Y2K5p+x6aaZ55qE5pe26Ze05YaF77yM54iG5Y+R5Ye65aqy576O562R5Z+65Yid5pyf55qE54G15Yqb5by65bqm44CC5L2G6I2v5pWI6L+H5ZCO77yM5Lya6Zm35YWl6ZW/6L6+5LiJ5aSp55qE4oCc54G15Yqb5p6v56ut5pyf4oCd77yM57uP6ISJ5Yi655eb77yM5rWR6Lqr5LmP5Yqb77yM5L+u5Li655Sa6Iez5Lya5YCS6YCA5LiA5bCP5bGC44CCXCIsXHJcbiAgICAgIFwi5r2c5Zyo5Lu35YC8XCI6IFwi44CQ5L+d5ZG95bqV54mM44CR77ya5Zyo6YGt6YGH6Ie05ZG95Y2x6Zmp5pe277yM6L+Z5piv5LiA5byg5Y+v5Lul6YCG6L2s5bGA5Yq/55qE546L54mM44CC5Y2K55O255qE5YmC6YeP77yM6Laz5Lul6K6p5aW55Zyo5YWz6ZSu5pe25Yi75oul5pyJ6LaK57qn5LiA5oiY5LmL5Yqb44CCXFxu44CQ56CU56m25a+56LGh44CR77ya5Lul56m/6LaK6ICF55qE6LCo5oWO5oCn5qC877yM5aW55pyq5b+F5Lya6L275piT5L2/55So44CC5aW55pu05Y+v6IO95bCG5YW25L2c5Li66auY57qn56CU56m25a+56LGh77yM5YiG5p6Q5YW26YWN5pa577yM6K+V5Zu+55CG6Kej5YW24oCc6YCP5pSv5r2c5Yqb4oCd55qE5Y6f55CG77yM5bm25bCd6K+V5byA5Y+R5Ye65LiA56eN5Ymv5L2c55So5pu05bCP55qE4oCc5pS56Imv54mI4oCd5oiW4oCc5byx5YyW54mI4oCd44CCXFxu44CQ6I2v5byV44CR77ya6L+Z56eN57KJ5pyr5Lit6JW05ZCr55qE54uC5pq054Gr57O76IO96YeP77yM5Zyo54K85Yi25p+Q5Lqb54m55q6K55qE54Gr5bGe5oCn5rOV5Zmo5pe277yM5Y+v5Lul5L2c5Li64oCc6I2v5byV4oCd5oiW4oCc5YKs5YyW5YmC4oCd77yM5r+A5Y+R5Li75p2Q5paZ55qE5r2c5Yqb44CCXCIsXHJcbiAgICAgIFwi6aOO6ZmpXCI6IFwi5Ymv5L2c55So5p6B5aSn77yM6Z2e55Sf5q275YWz5aS05LiN5Y+v5L2/55So44CC5LiU6L+Z56eN56aB6I2v5b6A5b6A5piv6a2U6YGT5oiW5pWj5L+u55qE5Lqn54mp77yM5YW25p2l5rqQ5Y+v6IO954m15omv5Yiw5LiA5Lqb6YKq5oG25Yq/5Yqb44CCXCIsXHJcbiAgICAgIFwi6IOM5pmv54yc5rWLXCI6IFwi5aSn5qaC546H5piv5p+Q5Liq5pWj5L+u5oiW6a2U5L+u77yM5Zyo5LiO5Lq65paX5rOV5pe277yM5Yia5pyN55So5LqG5LiA5Y2K55qE54iG5rCU5pWj77yM5bCx6KKr5b2T5Zy65qC85p2A44CC5YKo54mp6KKL56C056KO5ZCO77yM6L+Z5Y2K55O25Li56I2v6ZqP552A5Li75Lq655qE5bC46aqo5LiA5ZCM5rKJ5YWl5aSn5rW344CCXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIFwi5ZCN56ewXCI6IFwi5LiN5p6v6I2J77yI56eN5a2Q77yJXCIsXHJcbiAgICAgIFwi5ZOB6Zi2XCI6IFwi54G15ZOB5Lit6Zi277yI54G15qSN56eN5a2Q77yJXCIsXHJcbiAgICAgIFwi5aSW6KeCXCI6IFwi5LiA6aKX5Y+q5pyJ6buE6LGG5aSn5bCP77yM6YCa5L2T5ZGI56Kn57u/6Imy77yM5Lu/5L2b55Sx5pyA57qv5YeA55qE57+h57+g6ZuV55Ci6ICM5oiQ55qE56eN5a2Q44CC5a6D55qE6KGo6Z2i5byC5bi45YWJ5ruR77yM5rKh5pyJ5Lu75L2V57q56Lev77yM5L2G5YW25YaF6YOo77yM5Lu/5L2b5pyJ5LiA54K56YeR6Imy55qE5YWJ6IqS5Zyo57yT57yT6Lez5Yqo77yM5aaC5ZCM5b+D6ISP44CC5Y2z5L6/6KKr5rW35rC05rW45rOh5LqG5LiN55+l5aSa5LmF77yM5a6D5L6d54S25pWj5Y+R552A56OF56S055qE55Sf5ZG95rCU5oGv44CCXCIsXHJcbiAgICAgIFwi54m55oCnXCI6IFwi5LiN5p6v6I2J5piv5LiA56eN5Lyg6K+05Lit55qE5aWH54m554G15qSN44CC5a6D55qE5qSN5qCq5pys6Lqr5rKh5pyJ5Lu75L2V5pS75Ye75oiW6Ziy5b6h6IO95Yqb77yM5YW25ZSv5LiA55qE54m55oCn5piv4oCc5rC45oGS55qE55Sf5ZG95Yqb4oCd44CC5Y+q6KaB5a6D55qE5qC56YOo6L+Y5LiO5aSn5Zyw77yI5oiW54G16ISJ77yJ55u46L+e77yM5a6D55qE5Y+254mH5peg6K666KKr6YeH5pGY5aSa5bCR5qyh77yM6YO95Lya5Zyo5LiA5aSp5LmL5YaF6YeN5paw6ZW/5Ye65p2l77yM5rC45LiN5p6v6JCO44CC5YW25Y+254mH6JW05ZCr552A57K+57qv55qE44CB5rip5ZKM55qE5pyo57O75LiO55Sf5ZG96IO96YeP77yM5piv57ud5L2z55qE55aX5Lyk5Zyj6I2v77yM5Lmf5piv6aOf6I2J57G754G15YW95pyA5Zac54ix55qE6aOf54mp44CCXCIsXHJcbiAgICAgIFwi5r2c5Zyo5Lu35YC8XCI6IFwi44CQ5peg6ZmQ6LWE5rqQ44CR77ya5LiA5pem5Zyo5oGv5aOk54G155Sw5Lit56eN5qSN5oiQ5Yqf77yM56m/6LaK6ICF5bCx5oul5pyJ5LqG5LiA5Liq5Y+W5LmL5LiN5bC944CB55So5LmL5LiN56ut55qE55aX5Lyk6I2v5p2Q5bqT44CC5peg6K665piv5YaF5pyN6L+Y5piv5aSW5pW377yM5LiN5p6v6I2J55qE5Y+254mH6YO96IO95b+r6YCf5rK75oSI54K85rCU5pyf5L+u5aOr6IO96YGH5Yiw55qE5aSn6YOo5YiG5YaF5aSW5Lyk44CCXFxu44CQ5Lqk5piT6LWE5pys44CR77ya5Zyo5pyq5p2l77yM5aaC5p6c5aW56IO95o6l6Kem5Yiw5aSW55WM77yM5LiA54mH5LiN5p6v6I2J55qE5Y+25a2Q77yM5bCx6Laz5Lul5o2i5Y+W5aSn6YeP55qE54G155+z5oiW5aW56ZyA6KaB55qE5YW25LuW6LWE5rqQ44CC6L+Z5piv56Gs6YCa6LSn5Lit55qE56Gs6YCa6LSn44CCXFxu44CQ6amv5YW96Iez5a6d44CR77ya5a+55LqO5b6h5YW95biI5p2l6K+077yM5LiA5qCq5LiN5p6v6I2J55qE5Lu35YC877yM55Sa6Iez6LaF6L+H5LiA5Lu26auY6Zi25rOV5a6d44CC5a6D5Y+v5Lul55So5p2l5ZaC5YW744CB5rK75oSI44CB55Sa6Iez5o+Q5Y2H54G15YW955qE5r2c5Yqb44CCXCIsXHJcbiAgICAgIFwi56eN5qSN5oyR5oiYXCI6IFwi6L+Z56eN5a2Q5a+555Sf6ZW/546v5aKD55qE6KaB5rGC5p6B5Li66Iub5Yi744CC5a6D6ZyA6KaB5rW36YeP55qE55Sf5ZG96IO96YeP5p2l5r+A5rS744CC5pmu6YCa55qE54G155Sw5qC55pys5peg5rOV5L2/5YW25Y+R6Iq977yM5Y+q5pyJ5oGv5aOk6L+Z56eN56We54mp77yM5omN5pyJ5LiA57q/5biM5pyb44CC5L2G5Zyo5Y+R6Iq95Yid5pyf77yM5a6D5Lya55av54uC5Zyw5rGy5Y+W5ZGo5Zu055qE55Sf5ZG95Yqb77yM5Y+v6IO95Lya5a+86Ie05oGv5aOk54G155Sw5Zyo55+t5pe26Ze05YaF5Y+Y5b6X6LSr55ig77yM55Sa6Iez5b2x5ZON5Yiw5YW25LuW54G15qSN55qE55Sf6ZW/44CC5aaC5L2V5o6n5Yi25aW96L+Z5Liq4oCc5bqm4oCd77yM5piv6JCn5qCWc2hlIHh1w6nlv4XpobvpnaLlr7nnmoTpmr7popjjgIJcIixcclxuICAgICAgXCLog4zmma/njJzmtYtcIjogXCLkuI3mnq/ojYnnmoTnp43lrZDlnKjlpJbnlYzml6nlt7Lnu53ov7njgILlroPlvojlj6/og73mnaXoh6rmn5DkuKrkuIrlj6Tlrpfpl6jnmoToja/lm63pgZfov7nvvIzpgqPpgZfov7nlnKjmn5DmrKHlnLDlo7Plj5jliqjkuK3msonlhaXmt7HmtbfvvIzov5npopfooqvlroznvo7kv53lrZjnmoTnp43lrZDlm6DmraTlvpfku6Xph43op4HlpKnml6XjgIJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgXCLlkI3np7BcIjogXCLlubvonIPoj4fvvIjoj4zkuJ3kvZPvvIlcIixcclxuICAgICAgXCLlk4HpmLZcIjogXCLngbXlk4HkuK3lk4HvvIjnibnmrorngbXoj4zvvIlcIixcclxuICAgICAgXCLlpJbop4JcIjogXCLpmYTnnYDlnKjkuIDlnZfohZDmnL3nmoTmva7msZDmnKjoiq/kuIrnmoTkuIDlm6Lnmb3oibLoj4zkuJ3jgILov5nlm6Loj4zkuJ3nnIvotbfmnaXlsLHlg4/mma7pgJrnmoTmo4nnta7miJbpnInoj4zvvIzmr6vkuI3otbfnnLzjgILkvYblpoLmnpznlKjnpZ7or4bljrvop6bnorDvvIzkvJrnq4vliLvmhJ/liLDkuIDpmLXmgY3mg5rvvIznnLzliY3ku7/kvZvlh7rnjrDkuobkupTlvanmlpHmlpPjgIHlj5jlubvojqvmtYvnmoTlubvosaHvvIzogLPovrnkuZ/kvJrlk43otbfkuIDkupvomZrml6DnvKXnvIjnmoTjgIHlhYXmu6Hor7Hmg5HnmoTlo7Dpn7PjgIJcIixcclxuICAgICAgXCLnibnmgKdcIjogXCLlubvonIPoj4fmmK/kuIDnp43nvZXop4HnmoTnsr7npZ7nsbvngbXoj4zjgILlroPmnKzouqvmsqHmnInlrp7kvZPvvIzogIzmmK/ku6Xoj4zkuJ3kvZPnmoTlvaLmgIHlrZjlnKjjgILmiJDnhp/lkI7vvIzkvJrmlaPlj5HkuIDnp43ml6DoibLml6DlkbPnmoTmsJTkvZPvvIzog73lpKfojIPlm7TlnLDliLbpgKDlubvlooPjgILlhbblubvlooPnmoTlvLrluqbvvIzkuI7oj4zkuJ3kvZPlkLjmlLbnmoTngbXmsJTlkoznpZ7prYLlipvph4/miJDmraPmr5TjgILlroPml6Llj6/ku6XmmK/oh7Tlkb3nmoTmr5Loja/vvIzkuZ/lj6/ku6XmmK/kv67ngrznpZ7or4bnmoTml6DkuIrlppnlk4HjgIJcIixcclxuICAgICAgXCLmvZzlnKjku7flgLxcIjogXCLjgJDpmLLlvqHkvZPns7vjgJHvvJrlpoLmnpzog73lsIblhbbmiJDlip/ln7nogrLlnKjoh6rlt7HnmoTmnKjlsYvlkajlm7TvvIzlroPlsLHog73lvaLmiJDkuIDkuKrlpKnnhLbnmoTlubvpmLXjgILku7vkvZXlv4PmgIDmgbbmhI/nmoTpl6/lhaXogIXvvIzpg73kvJrlnKjkuI3nn6XkuI3op4nkuK3pmbflhaXlubvlooPvvIzlpLHljrvmlrnlkJHjgILov5nmmK/mr5Tku7vkvZXnr7HnrIbmiJbpmbfpmLHpg73mm7Tpq5jnuqfnmoTpmLLlvqHmiYvmrrXjgIJcXG7jgJDnpZ7or4bkv67ngrzjgJHvvJrnqb/otorogIXlj6/ku6XlsI/lv4PlnLDlvJXliqjkuIDkuJ3lubvonIPoj4fnmoTmsJTmga/vvIznlKjku6Xno6jnoLroh6rlt7HnmoTnpZ7or4blkozmhI/lv5flipvjgILplb/mnJ/lnKjov5nnp43lj6/mjqfnmoTlubvlooPkuK3plLvngrzvvIzlpbnnmoTngbXprYLlvLrluqblkozlr7nlubvmnK/nmoTmirXmipflipvlsIbov5zotoXlkIzpmLbkv67lo6vjgIJcXG7jgJDnibnmrornlKjpgJTjgJHvvJrlubvonIPoj4fnmoToj4zkuJ3vvIzmmK/ngrzliLbigJzov7fprYLkuLnigJ3jgIHigJznoLTpmpzkuLnigJ3nrYnlpJrnp43nsr7npZ7nsbvkuLnoja/nmoTmoLjlv4PmnZDmlpnjgIJcIixcclxuICAgICAgXCLln7nogrLpo47pmalcIjogXCLln7nogrLlubvonIPoj4fmnoHlhbbljbHpmanjgILlroPnmoTnlJ/plb/pnIDopoHigJzlhbvliIbigJ3vvIzpmaTkuobngbXmsJTvvIzlroPmnIDllpzmrKLnmoTmmK/igJznpZ7prYLlipvph4/igJ3jgILlpoLmnpzmjqfliLbkuI3lpb3vvIzlroPkvJrlj43lmazkuLvkurrvvIzlsIbln7nogrLogIXlj5jmiJDkuIDkuKrmsLjov5zmtLvlnKjlubvop4nkuK3nmoTnmb3nl7TjgILnlJroh7PvvIzlroPlj6/og73kvJrlkLjlvJXmnaXkuIDkupvku6XngbXprYLkuLrpo5/nmoTpgqrmgbbnlJ/nianmiJbprYLkv67jgIJcIixcclxuICAgICAgXCLog4zmma/njJzmtYtcIjogXCLov5nlnZfpmYTnnYDnnYDoj4zkuJ3nmoTmnKjlpLTvvIzlvojlj6/og73mnaXoh6rljZfnlobmnpfjgILljZfnlobmmK/prYLkv67lkozom4rluIjnmoTlpKnkuIvvvIzpgqPph4zmnInorrjlpJrln7nogrLmraTnsbvlpYfor6HkuYvniannmoTnp5jms5XjgILov5nlnZfmnKjlpLTlj6/og73lsZ7kuo7mn5DkuKrljZfnlobkv67lo6vvvIzku5blnKjlh7rmtbfml7bpga3pgYfmhI/lpJbvvIzlhbbnsr7lv4Pln7nogrLnmoToj4znp43kuZ/pmo/kuYvmvILmtYHjgIJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgXCLlkI3np7BcIjogXCLkurrlj4LmnpzvvIjnn7PmoLjvvIlcIixcclxuICAgICAgXCLlk4HpmLZcIjogXCLmnKrnn6XvvIjoh7PlsJHkuLrlrp3lk4HvvIzlj6/og73kuLrpgZPlk4HvvIlcIixcclxuICAgICAgXCLlpJbop4JcIjogXCLkuIDmnprmi7PlpLTlpKflsI/vvIzlpJblvaLphbfkvLzkuIDkuKrnm5johb/ogIzlnZDjgIHkupTlrpjkv7HlhajnmoTliJ3nlJ/lqbTlhL/nmoTnn7PlpLTjgILnn7PlpLTpgJrkvZPlkYjlnJ/pu4ToibLvvIzooajpnaLluIPmu6HkuoblpoLlkIznmq7ogqToiKznmoTopLbnmrHlkoznurnnkIbvvIznlJroh7Pog73nnIvliLDmqKHns4rnmoTigJzmjIfnlLLigJ3lkozigJzogprohJDigJ3jgILlroPlt7Lnu4/lrozlhajnn7PljJbvvIzmhJ/lj5fkuI3liLDku7vkvZXnlJ/lkb3msJTmga/lkozngbXmsJTms6LliqjvvIzlsLHlg4/kuIDkuKrooqvlpKfoh6rnhLbprLzmlqfnpZ7lt6Xpm5XnkKLlh7rnmoTmma7pgJrnn7PlpLTjgIJcIixcclxuICAgICAgXCLnibnmgKdcIjogXCLov5nmmK/kvKDor7TkuK3igJzpl7vkuIDpl7vvvIzog73mtLvkuInnmb7lha3ljYHlsoHvvJvlkIPkuIDkuKrvvIzlsLHmtLvlm5vkuIfkuIPljYPlubTigJ3nmoTml6DkuIrnpZ7nianigJTigJTkurrlj4LmnpznmoTmnpzmoLjjgILlnKjmnpzogonooqvpo5/nlKjvvIzmiJblm6Dlhbbku5bljp/lm6DohZDng4LlkI7vvIzlhbbmib/ovb3kuoblhajpg6jnlJ/lkb3ms5XliJnkuI7lnJ/ns7vms5XliJnnsr7ljY7nmoTmnpzmoLjvvIzkvJrov4XpgJ/nn7PljJbvvIzlsIbmiYDmnInpgZPpn7XlhoXmlZvlhbbkuK3vvIzku6XourLpgb/lpKnpgZPnmoTmjqLmn6XjgIJcIixcclxuICAgICAgXCLmvZzlnKjku7flgLxcIjogXCLjgJDpgZPpn7XmhJ/mgp/jgJHvvJromb3nhLblt7Lnu4/nn7PljJbvvIzml6Dms5Xnm7TmjqXmj5Dkvpvog73ph4/miJbnlJ/lkb3lipvvvIzkvYbov5nkuKrmnpzmoLjmnKzouqvlsLHmmK/kuIDkuKrigJzpgZPigJ3nmoTovb3kvZPjgILnqb/otorogIXplb/mnJ/lsIblhbbluKblnKjouqvovrnvvIznlKjnpZ7or4bljrvop4LmkanjgIHmhJ/mgp/lhbbkuIrmtZHnhLblpKnmiJDnmoTpgZPnurnvvIzog73lpJ/orqnlpbnlnKjmvZznp7vpu5jljJbkuK3vvIzpoobmgp/liLDmnIDmnKzmupDnmoTigJzlnJ/kuYvms5XliJnigJ3lkozigJznlJ/lkb3ms5XliJnigJ3jgILov5nlr7nkuo7lpbnmnKrmnaXnmoTlooPnlYzmj5DljYfvvIzmnInnnYDpmr7ku6XkvLDph4/nmoTlt6jlpKflpb3lpITjgILov5nmr5Tku7vkvZXlip/ms5Xpg73mm7TkuLrnm7TmjIflpKfpgZPjgIJcXG7jgJDmga/lo6TkuYvmupDjgJHvvJrlpoLmnpzor7Tmga/lo6TngbXnlLDmmK/igJznpZ7lnJ/igJ3vvIzpgqPkuYjov5nmnprkurrlj4LmnpzmoLjvvIzlsLHmmK/liJvpgKDigJznpZ7lnJ/igJ3nmoTigJznp43lrZDigJ3jgILlpoLmnpzlsIblroPln4vlhaXmga/lo6TngbXnlLDnmoTmoLjlv4PvvIzlroPkvJrnvJPmhaLlnLDjgIHmsLjkuYXmgKflnLDmlLnlloTlkozmj5DljYfmlbTniYfmga/lo6TnmoTlk4HotKjvvIznlJroh7Plj6/og73orqnmga/lo6TnmoTojIPlm7TnvJPmhaLmianlvKDjgIJcXG7jgJDnu4jmnoHlupXniYzjgJHvvJrkvKDor7TkuK3vvIzmnInlpKfog73ogIXvvIzlj6/ku6Xku6Xoh6rouqvnsr7ooYDkuLrlvJXvvIzovoXku6Xml6DmlbDlpKnmnZDlnLDlrp3vvIzluIPkuIvpgIblpKnlpKfpmLXvvIzlvLrooYzigJzlpI3mtLvigJ3ov5nmnprnn7PmoLjvvIzkvb/lhbbph43mlrDplb/lh7rkurrlj4LmnpzmoJHjgILpgqPmmK/otrPku6XorqnljJbnpZ7looPkv67lo6vpg73kuLrkuYvnlq/ni4LnmoTor7Hmg5HjgIJcIixcclxuICAgICAgXCLpo47pmalcIjogXCLmgIDnkqflhbbnvarjgILmraTniankuIDml6bmmrTpnLLvvIzliKvor7TmmK/lhYPlqbTjgIHljJbnpZ7vvIzmgZDmgJXov57kvKDor7TkuK3pmpDkuJbkuI3lh7rnmoTogIHmgKrnianpg73kvJrooqvmg4rliqjjgILlnKjmsqHmnInnu53lr7noh6rkv53og73lipvkuYvliY3vvIzov5nkuJzopb/nmoTlrZjlnKjlv4XpobvmmK/mnIDpq5jnuqfliKvnmoTnp5jlr4bjgIJcIixcclxuICAgICAgXCLog4zmma/njJzmtYtcIjogXCLlpKnlnLDpl7TnmoTkurrlj4LmnpzmoJHvvIzkuIflubTkuIDlvIDoirHvvIzkuIflubTkuIDnu5PmnpzvvIzlho3kuIflubTmiY3lvpfnhp/vvIznn63lpLTkuIDkuIflubTnmoTmnpzlrZDvvIzpl7vkuIDpl7vvvIzlsLHmtLvkuInnmb7lha3ljYHlsoHvvJvplb/liLDkuIDkuIflubTnmoTvvIzlkIPkuIDkuKrvvIzlsLHmtLvlm5vkuIfkuIPljYPlubTjgILlhbbnj43otLXnqIvluqbml6Dms5Xmg7PosaHjgILov5nmnprmnpzmoLjnmoTlh7rnjrDvvIzog4zlkI7lv4XnhLbmmK/kuIDmrrXmg4rlpKnnp5jpl7vjgILmiJborrjmmK/mn5DkvY3kuIrlj6TlpKfku5nnmoTpgZPlnLrlnKjml6DlsL3lsoHmnIjkuK3ltKnloYzvvIzmnpzmoLjlnaDlhaXml7bnqbrkubHmtYHvvJvlj4jmiJborrjmmK/nnIvlrojmnpzmoJHnmoTku5nkurrnm5Hlrojoh6rnm5fvvIzlnKjpgIPkuqHpgJTkuK3pmajokL3kuo7ml6DlpoTmtbfigKbigKZcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgXCLlkI3np7BcIjogXCLpmLTpmLPlkIjmrKLoirHvvIjpm4zpm4TkuIDlr7nvvIzmnq/okI7vvIlcIixcclxuICAgICAgXCLlk4HpmLZcIjogXCLlrp3lk4HkuIrpmLbvvIjnibnmrorlj4znlJ/ngbXmpI3vvIlcIixcclxuICAgICAgXCLlpJbop4JcIjogXCLkuKTmoKrnuqDnvKDlnKjkuIDotbfnmoTjgIHlt7Lnu4/lrozlhajmnq/okI7nmoToirHjgILkuIDmoKrpgJrkvZPmvIbpu5HlpoLloqjvvIzoirHnk6PlsYLlsYLlj6Dlj6DlpoLlkIzpu5HoibLnmoTngavnhLDvvIzov5nmmK/pm4ToirHjgILlj6bkuIDmoKrpgJrkvZPmtIHnmb3lpoLpm6rvvIzoirHnk6PoiJLlsZXlpb3kvLzlnKPmtIHnmoTnmb3ojrLvvIzov5nmmK/pm4zoirHjgILlroPku6zomb3nhLblt7Lnu4/lpLHljrvkuobmiYDmnInmsLTliIblkozlhYnms73vvIzkvYbmoLnojI7kvp3nhLbmrbvmrbvlnLDnvKDnu5XlnKjkuIDotbfvvIzmsLjkuI3liIbnprvjgILlnKjmnq/okI7nmoToirHolYrmt7HlpITvvIzkvLzkuY7lkITol4/nnYDkuIDnspLmr5TmspnnspLov5jlsI/nmoTjgIHpu5Hnmb3liIbmmI7nmoTnp43lrZDjgIJcIixcclxuICAgICAgXCLnibnmgKdcIjogXCLpmLTpmLPlkIjmrKLoirHmmK/kuIDnp43mnoHkuLrlpYfnibnnmoTlj4zkv67lnKPlk4HjgILlroPlv4Xpobvpm4zpm4Tlj4zmoKrlhbHlkIznlJ/plb/vvIzmoLnojI7nm7jov57vvIzlkLjmlLbml6XmnIjnsr7ljY7kuI7lnLDohInngbXmsJTjgILlhbboirHonJzliIbkuLrpmLTpmLPkuKTnp43vvIzpm4ToirHkuqfpmLPonJzvvIzpm4zoirHkuqfpmLTonJzjgILoi6XmnInnlLflpbPkv67lo6vlkITmnI3kuIDnp43vvIzlho3ooYzlj4zkv67kuYvms5XvvIzkvr/og73pmLTpmLPosIPlkozjgIHmsLTngavml6LmtY7vvIzkv67kuLrkuIDml6XljYPph4zvvIzkuJTmoLnln7rnqLPlm7rvvIzmr6vml6DlkI7mgqPjgILmmK/miYDmnInlj4zkv67lrpfpl6jmoqblr5Dku6XmsYLnmoTplYfmtL7kuYvlrp3jgIJcIixcclxuICAgICAgXCLmvZzlnKjku7flgLxcIjogXCLjgJDml6DkuIrkuLnoja/jgJHvvJrlhbboirHnk6PjgIHoirHonJzjgIHmoLnojI7vvIzpg73mmK/ngrzliLbpobbnuqflj4zkv67nsbvkuLnoja/lkozmg4XmrLLnsbvkuLnoja/nmoTkuLvmnZDmlpnjgILkvovlpoLlkIjmrKLlrpfkvKDor7TkuK3nmoTigJzkuZ3ovazpmLTpmLPkuLnigJ3vvIzlhbbkuLvoja/lsLHmmK/mraToirHjgIJcXG7jgJDlpI3mtLvlj6/og73jgJHvvJrkuI7kuI3mnq/ojYnnsbvkvLzvvIzlj6ropoHpgqPkuKTnspLnp43lrZDlsJrlrZjkuIDkuJ3mtLvmgKfvvIzlsLHmnInlj6/og73lnKjmga/lo6TngbXnlLDkuK3ooqvph43mlrDln7nogrLlh7rmnaXjgILkuIDml6bmiJDlip/vvIznqb/otorogIXlsLHnrYnkuo7mjozmj6HkuobkuIDmnaHpgJrlvoDotKLlr4zlkozlvLrlpKflhbPns7vnmoTmjbflvoTjgILku7vkvZXkuIDkuKrlpKflrpfpl6jvvIzpg73kvJrmhL/mhI/ku5jlh7rlt6jlpKfnmoTku6Pku7fmnaXmjaLlj5bmraToirHjgIJcXG7jgJDnibnmrornlKjpgJTjgJHvvJrljbPkvr/mmK/mnq/okI7nmoToirHnk6PvvIzno6jmiJDnsonmnKvvvIzkuZ/mnInmnoHlvLrnmoTlgqzmg4XmlYjmnpzjgILlr7nkv67lo6vogIzoqIDvvIzmmK/kuIDnp43pmr7ku6XmirXmipfnmoTlqproja/jgILlkIzml7bvvIzoi6Xlv4Plv5flnZrlrprogIXmnI3nlKjvvIzkuZ/og73lgJ/lhbbpmLTpmLPkuozmsJTmnaXmt6zngrzoh6rouqvngbXlipvvvIzkvb/lhbbmm7TlhbfljIXlrrnmgKflkozosIPlkozmgKfjgILnqb/otorogIXnmoTjgIrplb/mmKXor4DjgIvkuI7jgIrmlq3mva7liZHnu4/jgIvkuKTnp43miKrnhLbkuI3lkIznmoTlipvph4/vvIzmiJborrjlj6/ku6XlgJ/liqnmraTniannmoTnsonmnKvov5vooYzliJ3mraXnmoTosIPlkozkuI7ono3lkIjjgIJcIixcclxuICAgICAgXCLpo47pmalcIjogXCLjgJDlm6Dmnpzlt6jlpKfjgJHvvJrmraTniankuI7lkIjmrKLlrpfov5nnsbvpobbnuqflrpfpl6jlhbPns7vljKpNw7LmtYXjgILkuIDml6bln7nogrLmiJDlip/vvIzlhbbni6znibnnmoTmsJTmga/lvojlj6/og73kvJrooqvlkIjmrKLlrpfnmoTlvLrogIXmhJ/nn6XliLDjgILliLDml7blgJnvvIzmmK/npo/mmK/npbjvvIznirnmnKrlj6/nn6XjgIJcXG7jgJDlgqzmg4XkuYvpmanjgJHvvJrmnq/okI7oirHnk6PnmoTlgqzmg4XmlYjmnpzkvp3nhLblvLrlpKfvvIzlr7nkuo7kuIDkuKrni6zlsYXmtbflspvjgIHlv4PmmbrlnZrpn6fkvYbogonkvZPku43mmK/lpITlrZDnmoTlubTovbvlpbPlrZDmnaXor7TvvIzlpoLkvZXliKnnlKjjgIHmjqfliLbjgIHnlJroh7PmirXmipfov5nnp43lipvph4/vvIzmnKzouqvlsLHmmK/kuIDnp43lt6jlpKfnmoTogIPpqozjgIJcIixcclxuICAgICAgXCLog4zmma/njJzmtYtcIjogXCLov5nlr7npmLTpmLPlkIjmrKLoirHvvIzlh6DkuY7lj6/ku6Xogq/lrprmmK/lsZ7kuo7mn5DkuKrlkIjmrKLlrpfnmoTpq5jlsYLkurrnianjgILlpbkv5LuW5oiW6K645piv5bim552A5a6X6Zeo55qE6Iez5a6d5aSW5Ye65Yqe5LqL77yM5Y205Zyo5peg5aaE5rW36YGt6YGH5LqG5peg5rOV5oq15oqX55qE5by65pWM44CC5Zyo5pyA5ZCO55qE5YWz5aS077yM5Li65LqG5LiN6K6p5a6d54mp6JC95YWl5pWM5omL77yM5bCG5YW25q+B5Y6777yM5L2G5YW25Lit55qE56eN5a2Q5Y205Zyo5rSL5rWB55qE6KO55oyf5LiL77yM5aWH6L+56Iis5Zyw5L+d55WZ5LqG5LiL5p2l44CCXCJcclxuICAgIH1cclxuICBdLFxyXG4gIFwi54mp5ZOBXCI6IFtcclxuICAgIHtcclxuICAgICAgXCLlkI3np7BcIjogXCLmtbfmt6zmta7pk4FcIixcclxuICAgICAgXCLlk4HpmLZcIjogXCLlh6Hlk4HkuIvpmLZcIixcclxuICAgICAgXCLlpJbop4JcIjogXCLlvaLnirbkuI3op4TliJnnmoTpu5HoibLph5HlsZ7lnZfvvIzpgJrluLjlj6rmnInlt7TmjozlpKflsI/vvIzooajpnaLluIPmu6HkuobooqvmtbfmsLTkvrXomoDlh7rnmoTnu4blr4blh7nlnZHvvIzmkbjkuIrljrvmiYvmhJ/nspfns5nvvIzlg4/kuIDlnZflpJrlrZTnmoTmta7nn7PjgILph43ph4/mr5TlkIzkvZPnp6/nmoTmma7pgJrpkqLpk4HopoHovbvkuIrkuInliIbkuYvkuIDjgIJcIixcclxuICAgICAgXCLnibnmgKdcIjogXCLnu4/ov4fml6DmlbDlubTmtIvmtYHnmoTlhrLliLfkuI7mnoHlr5LjgIHmnoHng63og73ph4/nmoTkuqTmm7/mt6zngrzvvIzlhoXpg6jnmoTmnYLotKjlh6DkuY7ooqvmtqTojaHkuIDnqbrvvIzlj6rliankuIvmnIDnuq/nsrnnmoTpk4HotKjjgILlroPlpLHljrvkuoblpKfpg6jliIbph5HlsZ7nmoTlu7blsZXmgKfvvIzlj5jlvpfmnoHkuLrlnZrnoazkuJTohIbjgILlr7nngbXmsJTnmoTkvKDlr7zmgKfmnoHlt67vvIzlh6DkuY7lj6/ku6Xlv73nlaXkuI3orqHjgIJcIixcclxuICAgICAgXCLnlKjpgJRcIjogXCLjgJDkuLvopoHjgJHvvJrnlLHkuo7lhbblnZrnoaznmoTnibnmgKfvvIzlj6/ku6Xooqvno6jmiJDnrq3lpLTjgIHokrrol5zjgIHpmbfpmLHnmoTlsJbliLrnrYnnuq/niannkIbkvKTlrrPnmoTlt6XlhbfjgIJcXG7jgJDmrKHopoHjgJHvvJrlpKfph4/mlLbpm4blkI7vvIzlj6/ku6XlsJ3or5XnhpTngrzvvIzkvZzkuLrngrzliLbkvY7pmLbms5Xlmajml7blop7liqDigJzlnZrlm7rigJ3lsZ7mgKfnmoTovoXmlpnvvIzkvYbmt7vliqDph4/kuI3og73otoXov4fkuIDmiJDvvIzlkKbliJnkvJrlr7zoh7TmlbTkuKrlmajnianlj5jlvpfmmJPnoo7jgIJcIixcclxuICAgICAgXCLog4zmma/njJzmtYtcIjogXCLmnoHmnInlj6/og73mmK/kuIrlj6Tml7bmnJ/pgqPkupvmqKrooYzml6DlpoTmtbfnmoTlt6jlnovmpbzoiLnmiJjoiLDvvIzlhbblpJblsYLoo4XnlLLlnKjooqvlh7vnoo7lkI7vvIznu4/ov4fkuIflubTmsonmta7mvJTlj5jogIzmiJDnmoTkuqfnianjgILmr4/kuIDlnZfmta7pk4HvvIzpg73lj6/og73op4Hor4Hov4fkuIDlnLrmg4rlpKnliqjlnLDnmoTmtbfmiJjjgIJcIixcclxuICAgICAgXCLku7flgLxcIjoge1xyXG4gICAgICAgIFwi5Z+656GA5Lu35YC8XCI6IDIsXHJcbiAgICAgICAgXCLku7flgLzmoIfnrb5cIjogW1wi54K85Zmo5p2Q5paZXCIsIFwi5bel5YW35p2Q5paZXCJdXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIFwi5ZCN56ewXCI6IFwi54Gw5bKp56CCXCIsXHJcbiAgICAgIFwi5ZOB6Zi2XCI6IFwi5Yeh5ZOB5LiL6Zi2XCIsXHJcbiAgICAgIFwi5aSW6KeCXCI6IFwi5LiA5o2n5o2n54Gw55m96Imy55qE5rKZ56C+77yM5re35p2C5Zyo5rKZ5rup5pys6Lqr55qE55m95rKZ5Lit77yM5LiN5LuU57uG5YiG6L6o5b6I6Zq+5Y+R546w44CC5Zyo5Y+M5pyI55qE5YWJ6IqS5LiL77yM5Lya5Y+N5bCE5Ye65p6B5YW25b6u5byx55qE44CB57G75Ly85pif6L6w55qE6buv5reh5YWJ54K544CCXCIsXHJcbiAgICAgIFwi54m55oCnXCI6IFwi5pys6LSo5piv5LiA56eN6JW05ZCr552A5b6u5pyr5Zyf57O754G15rCU55qE5bKp55+z57KJ5pyr44CC5pys6Lqr6LSo5Zyw5p2+5pWj77yM5LiN5YW35aSH5Lu75L2V5Z2a5Zu65oiW54G15oCn54m55b6B44CC5ZSv5LiA55qE54m55oCn5piv77yM5b2T5a6D5LiO5ray5L2T77yI5bCk5YW25piv6JW05ZCr54G15rCU55qE5ray5L2T77yJ5re35ZCI5pe277yM5Lya5Y+Y5b6X5p6B5YW257KY56ig77yM5bm25Zyo5LiA5Liq5pe26L6w5ZCO5Yed5Zu65oiQ5LiA56eN57G75Ly85Yqj6LSo5rC05rOl55qE5Z2a56Gs5Z2X54q254mp44CCXCIsXHJcbiAgICAgIFwi55So6YCUXCI6IFwi44CQ5Li76KaB44CR77ya5LyY56eA55qE5aSp54S257KY5ZCI5YmC5LiO5aGr5YWF5YmC44CC5Y+v5Lul55So5p2l5L+u6KGl5pyo5bGL55qE57yd6ZqZ44CB5Yqg5Zu655+z5aKZ44CB5Yi25L2c566A5piT55qE5qih5YW344CCXFxu44CQ5qyh6KaB44CR77ya5LiO5aaW5YW955qE6KGA5ray5re35ZCI77yM5Y+v5Lul5Yi25L2c5oiQ5bim5pyJ5b6u5byx5aaW5YW95rCU5oGv55qE6K+x6aW15Z2X77yM55So5p2l6L+b6KGM6Zm36Zix54up54yO44CCXCIsXHJcbiAgICAgIFwi6IOM5pmv54yc5rWLXCI6IFwi5Y+v6IO95p2l6Ieq5p+Q5Liq6KKr5by65aSn5rOV5pyv6ZyH56KO55qE5bKb5bG/77yM5pW05bqn5bKb55qE5bKp55+z6YO96KKr56Oo5oiQ5LqG57KJ5pyr77yM6KKr5rSL5rWB5bim5Yiw5LqG6L+Z6YeM44CCXCIsXHJcbiAgICAgIFwi5Lu35YC8XCI6IHtcclxuICAgICAgICBcIuWfuuehgOS7t+WAvFwiOiAxLFxyXG4gICAgICAgIFwi5Lu35YC85qCH562+XCI6IFtcIuW7uuetkeadkOaWmVwiLCBcIua2iOiAl+WTgVwiXVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBcIuWQjeensFwiOiBcIua9ruaxkOacqOiKr1wiLFxyXG4gICAgICBcIuWTgemYtlwiOiBcIuWHoeWTgeS4remYtlwiLFxyXG4gICAgICBcIuWkluinglwiOiBcIuiiq+a1t+awtOazoeW+l+WPkeeZveeahOacqOWktOeijueJh++8jOW9ouaAgeWQhOW8gu+8jOWPr+iDveaYr+aWreijgueahOiIueahqOOAgeiFkOacveeahOaigeafse+8jOaIluaYr+aXoOazlei+qOiupOW9oueKtueahOacqOWdl+OAguWFtuWFseWQjOeCueaYr++8jOWcqOacqOWktOiFkOacveeahOWkluearuS5i+S4i++8jOW+gOW+gOWMheijueedgOS4gOWwj+aute+8iOmAmuW4uOS4jei2hei/h+S4gOaMh+mVv++8iei0qOWcsOWdmuehrOWmguefs+OAgeminOiJsua3seWmgum7keaqgOeahOacqOiKr+OAglwiLFxyXG4gICAgICBcIueJueaAp1wiOiBcIuacqOiKr+mDqOWIhuWcqOa8q+mVv+eahOa1uOazoei/h+eoi+S4re+8jOWQuOaUtuS6huW+rumHj+eahOawtOeBteawlOS4juebkOWIhu+8jOS9v+WFtuaLpeacieS6huaegeW8uueahOmYsuiFkOOAgemYsua9rueJueaAp+OAgueCueeHg+WQjuS4jeS8muS6p+eUn+aYjueBq++8jOiAjOaYr+S8mue8k+aFouWcsOmYtOeHg++8jOmHiuaUvuWHuuW4puedgOa3oea3oeWSuOWRs+eahOmdkuiJsueDn+mbvu+8jOi/meenjeeDn+mbvuacieS4gOWumueahOmpsei1tuaZrumAmuiaiuiZq+eahOaViOaenOOAglwiLFxyXG4gICAgICBcIueUqOmAlFwiOiBcIuOAkOS4u+imgeOAke+8muWItuS9nOmcgOimgemVv+acn+S/neWtmOeahOeJqeWTgeeahCDRgNGD0LrQvtGP0YLRjCjmiormiYsp77yM5L6L5aaC5bel5YW355qE5o+h5p+E44CB5bCP5YiA55qE5YiA5p+E562J44CCXFxu44CQ5qyh6KaB44CR77ya5L2c5Li66ZW/5pWI55qE54aP6aaZ5oiW6amx6Jmr5YmC5L2/55So44CC5pS26ZuG6Laz5aSf5aSa77yM5Y+v5Lul5bCd6K+V5L2c5Li654K85Yi25L2O6Zi25rC06KGM5rOV5Zmo55qE6L6F5paZ77yM6IO955Wl5b6u5o+Q5Y2H5rOV5Zmo5a+55rC054G15rCU55qE5Lqy5ZKM5bqm44CCXCIsXHJcbiAgICAgIFwi6IOM5pmv54yc5rWLXCI6IFwi5p2l6Ieq5ZCE56eN5rKJ6Ii544CC6L+Z5Lqb6Ii55Y+q5Y+v6IO95bGe5LqO5Yeh5Lq65riU5aSr77yM5Lmf5Y+v6IO95bGe5LqO5L2O6Zi25L+u5aOr77yM5a6D5Lus55qE5pyo5p2Q5Zyo57uP5Y6G5bKB5pyI5ZCO77yM5Y+q5pyJ5pyA57K+5Y2O55qE6YOo5YiG5omN6IO955WZ5a2Y5LiL5p2l44CCXCIsXHJcbiAgICAgIFwi5Lu35YC8XCI6IHtcclxuICAgICAgICBcIuWfuuehgOS7t+WAvFwiOiA1LFxyXG4gICAgICAgIFwi5Lu35YC85qCH562+XCI6IFtcIuW7uuetkeadkOaWmVwiLCBcIueCvOWZqOadkOaWmVwiLCBcIua2iOiAl+WTgVwiXVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBcIuWQjeensFwiOiBcIui0neWFieeyiVwiLFxyXG4gICAgICBcIuWTgemYtlwiOiBcIuWHoeWTgeS4remYtlwiLFxyXG4gICAgICBcIuWkluinglwiOiBcIueUseWQhOenjeegtOeijueahOOAgeW3qOWkp+eahOa1t+i0neWjs+eglOejqOiAjOaIkOeahOeyieacq+OAguacrOi6q+WRiOeOsOePjeePoOiIrOeahOeZveiJsu+8jOS9huWcqOWFiee6v+S4i++8jOS8mumaj+edgOinkuW6pueahOWPmOaNou+8jOaKmOWwhOWHuuS4g+W9qeeahOOAgea1geWKqOeahOWFieaZle+8jOWmguWQjOWHneWbuueahOaegeWFieOAglwiLFxyXG4gICAgICBcIueJueaAp1wiOiBcIuS4jeWQq+S7u+S9leeBteawlO+8jOe6r+eyueeahOeJqeeQhuWFieWtpueJueaAp+OAgui/meenjeeyieacq+WFt+acieaegeW8uueahOWFiee6v+WPjeWwhOWSjOaKmOWwhOiDveWKm+OAguWwhuWFtua2guaKueWcqOeJqeS9k+ihqOmdou+8jOiDveW9ouaIkOS4gOWxguWFiea7keeahOS/neaKpOiGnO+8jOW5tuS9v+WFtuWcqOWFieeFp+S4i+WPmOW+l+mdnuW4uOaYvuecvOWSjOWNjuS4veOAglwiLFxyXG4gICAgICBcIueUqOmAlFwiOiBcIuOAkOS4u+imgeOAke+8muS9nOS4uuijhemlsOaAp+eahOa2guaWmeOAguWPr+S7peeUqOadpeWcqOacqOWxi+OAgeW3peWFt+aIluiHquW3seWItuS9nOeahOS7u+S9leS4nOilv+S4iueUu+WHuuagh+iusOaIluWbvuahiOOAglxcbuOAkOasoeimgeOAke+8muWcqOaImOaWl+S4re+8jOWPr+S7peeqgeeEtuaSkuWHuu+8jOWIqeeUqOWFtuW8uueDiOWPjeWFieeahOeJueaAp+eerOmXtOW5suaJsOaVjOS6uueahOinhue6v++8jOiZveeEtuWvueS/ruWjq+aViOaenOW+ruS5juWFtuW+ru+8jOS9huWvueS7mOayoeacieeBteaZuueahOmHjuWFveaIluiuuOiDveS6ieWPluWIsOS4gOaBr+S5i+mXtOOAglxcbuOAkOWlh+aAneOAke+8muS4jueBsOWyqeegguWSjOeUmOmcluazieawtOa3t+WQiO+8jOWPr+S7peWItumAoOWHuuWcqOWknOaZmuS8muWPkeWHuuW+ruWFieeahOKAnOiNp+WFieawtOazpeKAneOAglwiLFxyXG4gICAgICBcIuiDjOaZr+eMnOa1i1wiOiBcIuadpea6kOS6juaXoOWmhOa1t+a3seWkhOS4gOenjeWQjeS4uuKAnOS4g+W9qeiZueWFiei0neKAneeahOW3qOWei+i0neexu+OAgui/meenjei0neexu+aIkOW5tOWQjuS9k+Wei+WgquavlOejqOebmO+8jOWFtui0neWjs+aYr+WItuS9nOafkOS6m+WNjuS4veazleiho+aIluWuq+auv+ijhemlsOeahOS4iuWlveadkOaWmeOAgui/meS6m+eijueJh++8jOW+iOWPr+iDveaYr+W8gOmHh+aIlui/kOi+k+i/h+eoi+S4reeahOW6n+aWmeOAglwiLFxyXG4gICAgICBcIuS7t+WAvFwiOiB7XHJcbiAgICAgICAgXCLln7rnoYDku7flgLxcIjogNCxcclxuICAgICAgICBcIuS7t+WAvOagh+etvlwiOiBbXCLmtojogJflk4FcIiwgXCLoo4XppbDmnZDmlplcIl1cclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgXCLlkI3np7BcIjogXCLlr5Lpk4HmmJ/lsZFcIixcclxuICAgICAgXCLlk4HpmLZcIjogXCLngbXmnZDkuIvlk4FcIixcclxuICAgICAgXCLlpJbop4JcIjogXCLlubbpnZ7lrozmlbTnmoTnn7/nn7PvvIzogIzmmK/lpoLlkIzmjIfnlLLnm5blpKflsI/nmoTjgIHkuI3op4TliJnnmoTmt7Hok53oibLph5HlsZ7noo7niYfjgILlhbbooajpnaLlhYnmu5HlpoLplZzvvIzlhoXpg6jku7/kvZvlsIHljbDnnYDngrnngrnnuYHmmJ/vvIzlnKjpu5HmmpfkuK3kvJroh6rooYzmlaPlj5Hlh7rlhrDlhrfjgIHpu6/mt6HnmoTmmJ/lhYnjgILlhaXmiYvmnoHkuLrlhrDlhrfvvIzku7/kvZvmj6HnnYDkuIDlnZfkuIflubTkuI3ljJbnmoTlr5LlhrDjgIJcIixcclxuICAgICAgXCLnibnmgKdcIjogXCLlpKnnlJ/nmoTmnoHlk4Hlr5LmgKfmnZDmlpnjgILlr7nlhrDns7vngbXmsJTnmoTkvKDlr7zmgKfmnoHkvbPjgILlkIzml7bvvIzlroPmnoHkuLrmsonph43kuJTlnZrpn6fvvIzov5zotoXlh6Hlk4HpkqLpk4HjgILlvZPngbXlipvms6jlhaXml7bvvIzlhbblhoXpg6jnmoTigJzmmJ/lhYnigJ3kvJrmtYHliqjotbfmnaXvvIzlubblkJHlpJbmlaPlj5Hlh7rog73lhrvnu5PnqbrmsJTnmoTlr5LmsJTjgIJcIixcclxuICAgICAgXCLnlKjpgJRcIjogXCLjgJDngrzlmajjgJHvvJrngrzliLblhrDlsZ7mgKfms5XliZHjgIHpo57pkojjgIHmiqTnlLLnmoTmoLjlv4PmnZDmlpnjgILlk6rmgJXlj6rlnKjliZHlsJbkuIrnhpTngrzkuIDlsI/lnZfvvIzkuZ/og73orqnpo57liZHnmoTmlLvlh7vpmYTluKbkuIrmnoHlvLrnmoTlhrDlhrvmlYjmnpzjgIJcXG7jgJDliLbnrKbjgJHvvJrlsIblhbbno6jmiJDnsonmnKvvvIzkuI7lppblhb3ooYDmt7flkIjvvIzlj6/ku6Xnu5jliLblh7rpq5jlk4HotKjnmoTigJzlhrDplKXnrKbigJ3jgIHigJzlr5LlhrDpmLXigJ3nrYnnrKbnrpPjgIJcXG7jgJDkv67ngrzjgJHvvJrlr7nkuo7kv67ngrzlhrDns7vlip/ms5XnmoTkv67lo6vvvIzmj6HnnYDlroPov5vooYzkv67ngrzvvIzlj6/ku6XliqDlv6vngbXmsJTlkLjmlLbpgJ/luqbvvIzlubbmj5Dnuq/kvZPlhoXnmoTlr5LmgKfngbXlipvjgIJcIixcclxuICAgICAgXCLog4zmma/njJzmtYtcIjogXCLmnInkuInnp43lj6/og73jgILkuIDvvIzmnaXoh6rmnoHljJfkuYvlnLDnmoTkuIfovb3njoTlhrDlsYLkuIvmlrnnmoTigJzlr5Lpq5Ppk4Hnsr7igJ3nn7/ohInnoo7niYfjgILkuozvvIzmmK/mn5Dnp43ku6Xlr5Lpk4HkuLrpo5/nmoTlvLrlpKflppblhb3nmoTmjpLms4TnianmiJbpqrjpqqjnoo7niYfjgILkuInvvIzmmK/mn5DkvY3liZHkv67lpKfog73nmoTmnKzlkb3po57liZHooqvlh7vnoo7lkI7vvIzlhbbkuK3mnIDnsr7ljY7nmoTliZHliIPnoo7niYfjgIJcIixcclxuICAgICAgXCLku7flgLxcIjoge1xyXG4gICAgICAgIFwi5Z+656GA5Lu35YC8XCI6IDE1MCxcclxuICAgICAgICBcIuS7t+WAvOagh+etvlwiOiBbXCLngrzlmajmnZDmlplcIiwgXCLliLbnrKbmnZDmlplcIiwgXCLkv67ngrzmnZDmlplf5Yaw57O7XCIsIFwi56iA5pyJXCJdXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIFwi5ZCN56ewXCI6IFwi5rOj6KGA6LWk6YeRXCIsXHJcbiAgICAgIFwi5ZOB6Zi2XCI6IFwi54G15p2Q5Lit5ZOBXCIsXHJcbiAgICAgIFwi5aSW6KeCXCI6IFwi5pqX57qi6Imy55qE44CB5Lu/5L2b6KGA5ray5Yed5Zu66ICM5oiQ55qE6YeR5bGe5Z2X44CC6KGo6Z2i5bm26Z2e5YWJ5ruR77yM6ICM5piv5biD5ruh5LqG5aaC5ZCM6KGA566h6Iis5Ye46LW355qE44CB6Jy/6JyS55qE57q56Lev44CC5a6D5oC75piv5L+d5oyB552A5LiA56eN5rip54Ot55qE6Kem5oSf44CC5aaC5p6c55So5Yip5Zmo5YiS5byA77yM5Lya5LuO4oCc6KGA566h4oCd57q56Lev5Lit5riX5Ye65Yeg5ru05aaC5ZCM5paw6bKc6KGA5ray6Iis57KY56ig55qE44CB5bim5pyJ5rWT6YOB6KGA6IWl5ZGz55qE57qi6Imy5ray5L2T77yM6ZqP5ZCO4oCc5Lyk5Y+j4oCd5Lya6Ieq6KGM5oSI5ZCI44CCXCIsXHJcbiAgICAgIFwi54m55oCnXCI6IFwi6JW05ZCr552A5p6B5Li66Zy46YGT5ZKM54uC5pq055qE54Gr57O75LiO6YeR57O754G15rCU44CC5a6D5YW35pyJ5p6B5by655qE4oCc5rS75oCn4oCd5ZKM4oCc5ZCe5Zms4oCd54m55oCn77yM6IO95aSf57yT5oWi5Zyw5ZC45pS25ZGo5Zu055qE55Sf5ZG96IO96YeP44CC5a+55LqO5L+u54K86a2U6YGT5Yqf5rOV5oiW6ZyA6KaB5rCU6KGA5LmL5Yqb55qE5L+u5aOr5p2l6K+05piv5aSn6KGl5LmL54mp77yM5L2G5a+55LqO5q2j6YGT5L+u5aOr77yM6Iul5peg54m55q6K5omL5rOV5aSE55CG77yM5YW254uC5pq055qE6IO96YeP5Lya5Y+N5Zms6Ieq6Lqr77yM5rGh5p+T54G15Yqb44CCXCIsXHJcbiAgICAgIFwi55So6YCUXCI6IFwi44CQ54K85Zmo44CR77ya54K85Yi26a2U6YGT5oiW6Zy46YGT6aOO5qC85rOV5a6d77yI5aaC6KGA5YiA44CB54KO5p6q77yJ55qE5Li75p2Q5paZ44CC55So5YW25omT6YCg55qE5YW15Zmo77yM5b6A5b6A5bim5pyJ4oCc5ZC46KGA4oCd5oiW4oCc54eD6a2C4oCd55qE54m55pWI44CCXFxu44CQ54K85Li544CR77ya5L2c5Li65p+Q5Lqb5r+A5Y+R5r2c6IO944CB54eD54On55Sf5ZG955qE56aB5b+M5Li56I2v77yI5aaC4oCc54uC6KGA5Li54oCd77yJ55qE5Li76I2v44CCXFxu44CQ6Zi15rOV44CR77ya5L2c5Li65p2A6Zi155qE6Zi155y877yM6IO95aSf5p6B5aSn5Zyw5aKe5by66Zi15rOV55qE5pS75Ye75oCn5ZKM5L616JqA5oCn44CCXCIsXHJcbiAgICAgIFwi6IOM5pmv54yc5rWLXCI6IFwi5Lyg6K+05piv5Zyo5LiK5Y+k56We6a2U5oiY5Zy65LiK77yM5p+Q5L2N5by65aSn56We56WH55qE5b+D6ISP6KKr5Ye756KO5ZCO77yM5YW256We6KGA5rW45p+T5LqG5Zyw5LiL55qE57K+6YeR55+/6ISJ77yM57uP6L+H5LiH5bm05ryU5YyW6ICM5oiQ44CC5q+P5LiA5Z2X5rOj6KGA6LWk6YeR77yM6YO95Y+v6IO95bCB5Y2w552A5LiA5Lid5LiN5bGI55qE5oiY5oSP5oiW5ruU5aSp55qE5oCo5b+144CCXCIsXHJcbiAgICAgIFwi5Lu35YC8XCI6IHtcclxuICAgICAgICBcIuWfuuehgOS7t+WAvFwiOiAzMDAsXHJcbiAgICAgICAgXCLku7flgLzmoIfnrb5cIjogW1wi54K85Zmo5p2Q5paZXCIsIFwi54K85Li55p2Q5paZXCIsIFwi6Zi15rOV5p2Q5paZXCIsIFwi56iA5pyJXCIsIFwi6a2U6YGTXCJdXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIFwi5ZCN56ewXCI6IFwi6J6N6aOO55+zXCIsXHJcbiAgICAgIFwi5ZOB6Zi2XCI6IFwi54G15p2Q5Lit5ZOBXCIsXHJcbiAgICAgIFwi5aSW6KeCXCI6IFwi5Y2K6YCP5piO55qE44CB5aaC5ZCM6Z2S6Imy55CJ55KD55qE55+z5aS077yM5YaF6YOo5Y+v5Lul55yL5Yiw5LiA5Lid5Lid5aaC5ZCM5LqR6Zu+6Iis5rWB5Yqo55qE57Wu54q254mp44CC5a6D5Yeg5LmO5rKh5pyJ6YeN6YeP77yM5ou/5Zyo5omL5Lit6L276Iul6bi/5q+b44CC5b2T5pyJ6aOO5ZC56L+H5pe277yM55+z5aS05Lya5Y+R5Ye64oCc5ZGc5ZGc4oCd55qE6L275ZON77yM5bm25LiU5YW26KGo6Z2i55qE6L2u5buT5Lya5Y+Y5b6X5pyJ5Lqb5qih57OK77yM5Lu/5L2b6KaB6J6N5YWl6aOO5Lit5LiA6Iis44CCXCIsXHJcbiAgICAgIFwi54m55oCnXCI6IFwi5aSp55Sf55qE6aOO57O76Iez5a6d44CC5a+56aOO54G15rCU55qE5Lqy5ZKM5bqm6L6+5Yiw5LqG5p6B6Ie044CC5a6D6IO96Ieq54S25Zyw5byV5a+85rCU5rWB77yM5YeP5bCR56m65rCU6Zi75Yqb44CC5rOo5YWl54G15Yqb5ZCO77yM5Y+v5Lul6K6p5ZGo5Zu055qE56m65rCU5Y+Y5b6X57KY56ig5oiW56iA6JaE77yM55Sa6Iez5Yi26YCg5Ye65bCP6IyD5Zu055qE55yf56m644CCXCIsXHJcbiAgICAgIFwi55So6YCUXCI6IFwi44CQ54K85Zmo44CR77ya5piv54K85Yi26aOe6KGM5rOV5Zmo77yI5aaC6aOe6Iif44CB6aOe5YmR44CB576957+85rOV5a6d77yJ55qE6aG257qn6L6F5paZ44CC5Y+q6ZyA5Yqg5YWl5LiA5bCP5Z2X77yM5bCx6IO96K6p6aOe6KGM5rOV5Zmo55qE6YCf5bqm5o+Q5Y2H5LiJ5oiQ5Lul5LiK77yM5bm25LiU5pu05Yqg6IqC55yB54G15Yqb44CC5Lmf5Y+v55So5LqO5Yi25L2c5aKe5Yqg6Lqr5rOV6YCf5bqm55qE6Z205a2Q5oiW6IWw5bim44CCXFxu44CQ6Zi15rOV44CR77ya5biD572u4oCc5b6h6aOO6Zi14oCd5oiW4oCc6L+36Liq6Zi14oCd55qE5YWz6ZSu5p2Q5paZ44CC5Y+v5Lul5byV5a+86Zi15rOV5YaF55qE5rCU5rWB77yM5b2i5oiQ5bm76LGh5oiW5YiH5Ymy5pWM5Lq655qE6aOO5YiD44CCXCIsXHJcbiAgICAgIFwi6IOM5pmv54yc5rWLXCI6IFwi5Y+v6IO95piv5Zyo572h6aOO5bGC5Lit5aSp54S25b2i5oiQ55qE5pm25L2T77yM5YG254S25Z2g6JC95YWl5rW344CC5Lmf5Y+v6IO95piv5p+Q56eN5o6M5o6n6aOO5pq055qE5beo5Z6L5aaW56a977yI5aaC5Lmd5aSp6bKy6bmP77yJ55qE5bei56m05Lit77yM55Sx5YW25rCU5oGv6ZW/5bm057Sv5pyI5rW45ram6ICM5oiQ55qE5aWH55+z44CCXCIsXHJcbiAgICAgIFwi5Lu35YC8XCI6IHtcclxuICAgICAgICBcIuWfuuehgOS7t+WAvFwiOiAzMjAsXHJcbiAgICAgICAgXCLku7flgLzmoIfnrb5cIjogW1wi54K85Zmo5p2Q5paZXCIsIFwi6Zi15rOV5p2Q5paZXCIsIFwi56iA5pyJXCJdXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIFwi5ZCN56ewXCI6IFwi5YW76a2C5pyo77yI5q6L54mH77yJXCIsXHJcbiAgICAgIFwi5ZOB6Zi2XCI6IFwi54G15p2Q5LiK5ZOB77yI5Zug5YW25Li65q6L54mH77yJXCIsXHJcbiAgICAgIFwi5aSW6KeCXCI6IFwi5LiA5Z2X5Y+q5pyJ5ouH5oyH5aSn5bCP44CB6YCa5L2T5ryG6buR44CB5pWj5Y+R552A5reh5reh5qqA6aaZ55qE5pyo5aS056KO54mH44CC5pyo6LSo6KGo6Z2i5rip5ram5aaC546J77yM5rKh5pyJ5Lu75L2V5bm06L2u5oiW57q555CG77yM5Lu/5L2b5LiA5Z2X5aSp54S255qE6buR6Imy5a6d546J44CC5bCG56We6K+G5o6i5YWl5YW25Lit77yM5Lya5oSf5Yiw5LiA56eN6KKr5rip5rC05YyF6KO56Iis55qE6IiS6YCC5oSf44CCXCIsXHJcbiAgICAgIFwi54m55oCnXCI6IFwi6IO95aSf5ruL5YW756We6a2C44CB56iz5a6a5b+D56We55qE5aWH5pyo44CC6ZW/5pyf5L2p5oi077yM5Y+v5Lul57yT5oWi5L+u5aSN5Y+X5o2f55qE56We6K+G77yM5bm26IO95oq15b6h5aSn6YOo5YiG5bm75pyv5ZKM57K+56We5pS75Ye744CC5a+55LqO6a2C5L+u5p2l6K+077yM5piv5qKm5a+Q5Lul5rGC55qE6Iez5a6d44CC5Y2z5L6/5Y+q5piv5q6L54mH77yM5YW25pWI5p6c5Lmf6L+c6LaF5pmu6YCa6Z2Z5b+D5a6J56We55qE5a6d54mp44CCXCIsXHJcbiAgICAgIFwi55So6YCUXCI6IFwi44CQ5L2p5oi044CR77ya55u05o6l5bCG5YW25Yi25oiQ5ZCK5Z2g5oiW5omL5Liy5L2p5oi077yM5piv5a6D5pyA55u05o6l44CB5Lmf5piv5pyA5pyJ5pWI55qE5Yip55So5pa55byP44CCXFxu44CQ54K85Li544CR77ya5bCG5YW256Oo5oiQ57KJ77yM5Y+v5Lul5L2c5Li65Li76I2v54K85Yi25L+u5aSN5ZKM5aKe5by656We6a2C55qE5Li56I2v77yM5L6L5aaC4oCc5riF56We5Li54oCd44CB4oCc5Zu66a2C5pWj4oCd562J44CCXFxu44CQ54K85Zmo44CR77ya6J6N5YWl5Yiw5aS055uU44CB6Z2i5YW3562J5L+d5oqk5aS06YOo55qE5rOV5a6d5Lit77yM5Y+v5Lul6LWL5LqI5rOV5a6d5p6B5by655qE56We6a2C6Ziy5b6h6IO95Yqb44CCXCIsXHJcbiAgICAgIFwi6IOM5pmv54yc5rWLXCI6IFwi5YW76a2C5pyo5LiH5bm05omN6IO95oiQ5p2Q77yM5p6B5Li6572V6KeB44CC6L+Z5Z2X5q6L54mH77yM5p6B5pyJ5Y+v6IO95p2l6Ieq5p+Q5Liq6a2C5L+u5aSn6IO955qE5pys5ZG95rOV5Zmo77yM5oiW5piv5Zyo5YW25Z2Q5YyW5LmL5Zyw77yM56We6a2C6YC45pWj5ruL5YW75LqG6Lqr6L6555qE6I2J5pyo6ICM5b2i5oiQ55qE44CC6KKr5Yay5Yiw6L+Z6YeM77yM5oSP5ZGz552A6YKj5L2N5aSn6IO95b6I5Y+v6IO95bey57uP5Zyo5p+Q5Zy65rW35LiK55qE5aSn5oiY5Lit6Zmo6JC944CCXCIsXHJcbiAgICAgIFwi5Lu35YC8XCI6IHtcclxuICAgICAgICBcIuWfuuehgOS7t+WAvFwiOiA4MDAsXHJcbiAgICAgICAgXCLku7flgLzmoIfnrb5cIjogW1wi5L+u54K85p2Q5paZX+elnumtglwiLCBcIueCvOS4ueadkOaWmVwiLCBcIueCvOWZqOadkOaWmVwiLCBcIueogOaciVwiLCBcIuS8oOivtFwiXVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBcIuWQjeensFwiOiBcIuiZmuepuuWwmOaZtlwiLFxyXG4gICAgICBcIuWTgemYtlwiOiBcIueBteadkOS4iuWTgVwiLFxyXG4gICAgICBcIuWkluinglwiOiBcIuS4gOWwj+aSrueci+S8vOaZrumAmueBsOWwmOeahOe7k+aZtuS9k++8jOS9huWcqOe7neWvueeahOm7keaal+S4re+8jOWug+S7rOS8muaVo+WPkeWHuua3semCg+eahOOAgeS7v+S9m+iDveWQnuWZrOS4gOWIh+WFiee6v+eahOe0q+iJsuW+ruWFieOAguWug+S7rOayoeacieWunuS9k++8jOWPr+S7peepv+mAj+Wkp+mDqOWIhueJqei0qO+8jOWPquacieeUqOeBteWKm+aehOetkeeahOWuueWZqOaJjeiDveWwhuWFtuadn+e8muOAglwiLFxyXG4gICAgICBcIueJueaAp1wiOiBcIuiVtOWQq+edgOW+ruW8seepuumXtOS5i+WKm+eahOWlh+W8gueJqei0qOOAguWug+acgOWkp+eahOeJueaAp+aYr+KAnOaJsOWKqOKAne+8jOiDveWkn+Wwj+iMg+WbtOWcsOW5suaJsOepuumXtOeos+WumuaAp+OAguWQjOaXtu+8jOWug+S5n+aYr+WItuS9nOepuumXtOWCqOeJqeazleWZqOeahOaguOW/g+adkOaWmeOAglwiLFxyXG4gICAgICBcIueUqOmAlFwiOiBcIuOAkOeCvOWZqOOAke+8muWItuS9nOWCqOeJqeiii+OAgeWCqOeJqeaIkuaMh+eahOW/hemcgOWTgeOAguWFtuaVsOmHj+WSjOWTgei0qO+8jOebtOaOpeWGs+WumuS6huWCqOeJqeepuumXtOeahOWkp+Wwj+WSjOeos+WumuaAp+OAguWTquaAleWPquacieS4gOWwj+aSru+8jOS5n+i2s+S7peiuqeS4gOS4quacgOaZrumAmueahOW4g+iii++8jOWPmOaIkOaLpeacieS4gOS4queri+aWueexs+epuumXtOeahOWCqOeJqeiii+OAglxcbuOAkOmYteazleOAke+8muWcqOS8oOmAgemYteeahOaehOW7uuS4re+8jOWPr+S7peS9nOS4uueos+WumuepuumXtOmAmumBk+eahOWdkOagh+eCueadkOaWmeOAglxcbuOAkOaImOaWl+OAke+8muWHuuWFtuS4jeaEj+WcsOaSkuWQkeaVjOS6uu+8jOWPr+S7peefreaaguWcsOW5suaJsOWvueaWuei6q+i+ueeahOepuumXtO+8jOS9v+WFtuWKqOS9nOWHuueOsOS4gOeerOmXtOeahOWHnea7nuaIlumUmeS9je+8jOWcqOmrmOaJi+WvueWGs+S4rei2s+S7peiHtOWRveOAglwiLFxyXG4gICAgICBcIuiDjOaZr+eMnOa1i1wiOiBcIuadpea6kOaIkOiwnOOAguacieWtpuiAheiupOS4uuaYr+epuumXtOijgue8neWcqOaEiOWQiOaXtu+8jOa6ouaVo+WHuueahOepuumXtOiDvemHj+S4jueJqei0qOS4lueVjOaOpeinpuWQjuWHnee7k+eahOS6p+eJqeOAguWcqOa0hOa9ruWxv+i/meenjeepuumXtOacrOWwseS4jeeos+WumueahOWMuuWfn+WHuueOsO+8jOS8vOS5juS5n+WQiOaDheWQiOeQhuOAglwiLFxyXG4gICAgICBcIuS7t+WAvFwiOiB7XHJcbiAgICAgICAgXCLln7rnoYDku7flgLxcIjogMTAwMCxcclxuICAgICAgICBcIuS7t+WAvOagh+etvlwiOiBbXCLngrzlmajmnZDmlplcIiwgXCLpmLXms5XmnZDmlplcIiwgXCLnqIDmnIlcIiwgXCLkvKDor7RcIl1cclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgXCLlkI3np7BcIjogXCLjgIrplb/mmKXor4DjgIvmi5PmnKznjonnroBcIixcclxuICAgICAgXCLlk4HpmLZcIjogXCLngrzmsJTmnJ/lhajmnKzlip/ms5XvvIjpnZ7nj43nqIDvvIzkvYblrozmlbTvvIlcIixcclxuICAgICAgXCLlpJbop4JcIjogXCLkuIDmnprmoIflh4bnmoTliLblvI/nmb3oibLnjonnroDvvIzotKjlnLDmuKnmtqbvvIzlhaXmiYvlvq7lh4njgILov5nmmK/kv67nnJ/nlYzmnIDluLjop4HjgIHmtYHpgJrmnIDlub/nmoTnn6Xor4bovb3kvZPjgILov5nmnprnjonnroDnmoTovrnop5LmnInlh6DlpITmmI7mmL7nmoTno5XnorDnl5Xov7nvvIzooajpnaLkuZ/luIPmu6Hkuobnu4blvq7nmoTliJLnl5XvvIzmmL7npLrlh7rlroPnu4/ljobkuobkuI3lsJHms6LmipjjgILnjonnroDnmoTkuIDnq6/vvIznlKjlvq7pm5XmiYvms5XliLvnnYDkuKTkuKrlsI/lrZfigJTigJTigJzlkIjmrKLigJ3vvIzlrZfov7nlqJ/np4DvvIzkvLzkuY7lh7roh6rlpbPlrZDkuYvmiYvjgIJcIixcclxuICAgICAgXCLnibnmgKfkuI7lhoXlrrlcIjogXCLlhoXpg6jorrDlvZXnnYDkuIDpg6jlkI3kuLrjgIrplb/mmKXor4DjgIvnmoTlrozmlbTngrzmsJTmnJ/lip/ms5XvvIzku47ngrzmsJTkuIDlsYLliLDngrzmsJTlt4Xls7DnmoTkv67ngrzms5Xpl6jjgIHngbXlipvmkKzov5Dot6/nur/jgIHku6Xlj4rnqoHnoLTlkITkuKrlsI/lsYLmrKHnmoTlv4PlvpfopoHngrnvvIzpg73orrDovb3lvpfkuIDmuIXkuozmpZrjgIJcXG7jgJDlip/ms5XnibnngrnjgJHvvJrjgIrplb/mmKXor4DjgIvmmK/lhYPliJ3nlYzmtYHkvKDmnIDlub/nmoTmnKjlsZ7mgKflpKfkvJflip/ms5XvvIzkuI7nqb/otorogIXkuYvliY3mi77lvpfnmoTjgIrpnZLmnKjlvJXmsJTor4DjgIvlkIzmupDvvIzkvYbmm7TkuLrlrozmlbTlkozkvJjljJbjgILlhbbmnIDlpKfnmoTnibnngrnmmK/igJzkuK3mraPlubPlkozjgIHnlJ/nlJ/kuI3mga/igJ3jgILkv67ngrzlh7rnmoTngbXlipvmuKnlkozphofljprvvIzomb3nhLbmlLvlh7vmgKfkuI3lvLrvvIzkvYbnu63oiKrog73lipvmnoHkvbPvvIzlubbkuJTlr7nmu4vlhbvogonouqvjgIHlu7blubTnm4rlr7/mnInlpYfmlYjjgILmnIDph43opoHnmoTmmK/vvIzlroPkuI7ngbXmpI3luIjnmoTogYzkuJrpq5jluqblpZHlkIjvvIzkvb/nlKjplb/mmKXor4DngbXlipvmlr3lsZXnmoTigJzlgqznlJ/mnK/igJ3miJbigJznlJjpnJbmnK/igJ3vvIzmlYjmnpzkvJrmr5TlkIzpmLbkv67lo6vlvLrkuIrkuInmiJDjgIJcXG7jgJDpmYTlvZXlhoXlrrnjgJHvvJrlnKjlip/ms5XmraPmlofkuYvlkI7vvIzov5jpmYTluKbmnInkuInkuKrnroDljZXkvYbmnoHlhbbkvb/nlKjnmoTlsI/ms5XmnK/nmoTkv67ngrzmlrnms5XvvJrjgIrlsI/ngbXpm6jmnK/jgIvigJTigJTlh53ogZrmsLTmsb3pmY3kuIvolbTlkKvlvq7lvLHngbXmsJTnmoTpm6jmsLTvvIzmmK/ngYzmuonngbXnlLDnmoTnpZ7mioDvvJvjgIrpqbHomavmnK/jgIvigJTigJTku6XmnKjns7vngbXlipvmqKHmi5/lpKnmlYzmsJTmga/vvIzpqbHotbblpKfpg6jliIbkvY7pmLblrrPomavvvJvjgIrnvKDnu5XmnK/jgIvigJTigJTlgqzliqjol6TolJPnsbvmpI3nianov5vooYzmjYbnu5HvvIzmmK/llK/kuIDnmoTjgIHogYrog5zkuo7ml6DnmoToh6rkv53miYvmrrXjgIJcIixcclxuICAgICAgXCLmvZzlnKjku7flgLxcIjogXCLjgJDmoLjlv4Pku7flgLzjgJHvvJrlroznvo7op6PlhrPkuobnqb/otorogIXlvZPliY3ml6DlkI7nu63lip/ms5XnmoTmnIDlpKflm7DlooPvvIzorqnlpbnku47ngrzmsJTlooPlha3lsYLliLDnrZHln7rkuYvliY3lho3ml6Dnk7bpoojjgILmnInkuobov5npg6jlip/ms5XvvIzlpbnnmoTkv67ngrzpgJ/luqblsIblvpfliLDotKjnmoTpo57ot4PjgIJcXG7jgJDogYzkuJrliqDmiJDjgJHvvJrorqnlpbnkvZzkuLrngbXmpI3luIjnmoTog73lipvlvpfliLDkuobns7vnu5/mgKfnmoTmj5DljYfvvIzku47igJzlpKnotYvlvILnpoDigJ3lkJHigJzkuJPkuJrkv67lo6vigJ3ovazlj5jjgIJcXG7jgJDnur/ntKLmjIflkJHjgJHvvJrnjonnroDmnKvnq6/nmoTigJzlkIjmrKLigJ3kuozlrZfvvIzmjIflkJHkuobkuIDkuKrlnKjlhYPliJ3nlYzmnoHlr4znm5vlkI3nmoTlrpfpl6jigJTigJTigJzlkIjmrKLlrpfigJ3jgILov5nmmK/kuIDkuKrku6Xlj4zkv67lkozlqprmnK/pl7vlkI3nmoTlrpfpl6jvvIzpl6jkuIvlpJrkuLrlpbPlvJ/lrZDjgILov5nmnprnjonnroDvvIzlvojlj6/og73mmK/or6XlrpfkuIDlkI3kvY7pmLblvJ/lrZDlnKjlpJblh7rml7bpgZflpLHnmoTjgIJcIixcclxuICAgICAgXCLog4zmma/njJzmtYtcIjogXCLmnoHmnInlj6/og73mmK/mn5DkvY3lkIjmrKLlrpfnmoTlpJbpl6jlpbPlvJ/lrZDvvIzlnKjml6DlpoTmtbfmiafooYzku7vliqHml7bpga3pgYfkuI3mtYvvvIzlhbblgqjnianooovnoLTmjZ/lkI7vvIzov5nmnprkvZzkuLrlrpfpl6jln7rnoYDnpo/liKnlj5HmlL7nmoTlip/ms5XnjonnroDpmo/ms6LpgJDmtYHvvIzmnIDnu4jooqvlhrLkuIrkuobmtITmva7lsb/nmoTmspnmu6njgILlr7nkuo7pgqPkvY3lvJ/lrZDmnaXor7TvvIzov5nmiJborrjlj6rmmK/lgqjnianooovph4zmnIDkuI3otbfnnLznmoTkuJzopb/vvIzkvYblr7nnqb/otorogIXogIzoqIDvvIzljbTmmK/pm6rkuK3pgIHngq3jgIJcIixcclxuICAgICAgXCLku7flgLxcIjoge1xyXG4gICAgICAgIFwi5Z+656GA5Lu35YC8XCI6IDIwMCxcclxuICAgICAgICBcIuS7t+WAvOagh+etvlwiOiBbXCLlip/ms5VcIiwgXCLnn6Xor4ZcIl1cclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgXCLlkI3np7BcIjogXCLjgIrlhYPliJ3ojYnmnKjlm77pibTjgIvmrovmnKxcIixcclxuICAgICAgXCLlk4HpmLZcIjogXCLnn6Xor4bnsbvlhbjnsY3vvIjlr7nngbXmpI3luIjku7flgLzmnoHpq5jvvIlcIixcclxuICAgICAgXCLlpJbop4JcIjogXCLkuIDmnKznlKjkuI3nn6XlkI3lppblhb3nmoTnmq7pnqPliLbogIzmiJDnmoTkuablhozvvIzml6nlt7LooqvmtbfmsLTms6Hlvpflj5HmtqjjgIHlj5jlvaLjgILkuabpobXnspjov57lnKjkuIDotbfvvIzovrnnvJjlt7Lnu4/ohZDng4LjgILlsIHnmq7kuIrnmoTlrZfov7nmqKHns4rkuI3muIXvvIzlj6rog73li4nlvLrovqjorqTlh7rigJzojYnmnKjigJ3jgIHigJzmtbfmu6jigJ3nrYnlrZfmoLfjgILmlbTmnKzkuabmlaPlj5HnnYDkuIDogqHmtbfol7vkuI7pmYjml6fnmq7pnanmt7flkIjnmoTlpI3mnYLmsJTlkbPjgILpnIDopoHpnZ7luLjlsI/lv4PlnLDkuIDpobXpobXmj63lvIDjgIHmmb7lubLvvIzmiY3og73pmIXor7vjgIJcIixcclxuICAgICAgXCLnibnmgKfkuI7lhoXlrrlcIjogXCLov5nmmK/kuIDkvY3kuI3nn6XlkI3nmoTngbXmpI3luIjliY3ovojvvIzlr7noh6rlt7HmuLjljobml6DlpoTmtbfkuJzpg6jmtbflsrjml7bmiYDop4HnmoTlkITnp43ngbXmpI3jgIHngbXoj4zjgIHngbXol7vnmoTorrDlvZXjgILomb3nhLblj6rmmK/mrovmnKzvvIznvLrlpLHkuoblpKfnuqbkuInliIbkuYvkuIDnmoTlhoXlrrnvvIzkuJTorrjlpJrlnLDmlrnlrZfov7nmmZXlvIDvvIzkvYbkv53nlZnkuIvmnaXnmoTpg6jliIbvvIzlr7nnqb/otorogIXmnaXor7TlsLHmmK/kuIDluqflrp3lupPjgIJcXG7jgJDlhoXlrrnmnoTmiJDjgJE6IOS5puS4reS7peWbvuaWh+W5tuiMgueahOW9ouW8j++8jOiusOW9leS6hui2hei/h+S4ieeZvuenjea1t+a7qOWPiua1hea1t+WMuuWfn+eahOeBteakjeOAguavj+S4gOadoeebrumDveWMheWQq++8mlxcbuOAkOaJi+e7mOWbvuW9ouOAkTog6Jm954S255S75bel5LiN566X57K+5rmb77yM5L2G5oOf5aaZ5oOf6IKW5Zyw5oqT5L2P5LqG54G15qSN55qE5qC45b+D54m55b6B44CCXFxu44CQ5ZCN56ew5LiO5Lmg5oCn44CROiDorrDlvZXkuobngbXmpI3nmoTmraPlvI/lkI3np7DjgIHkv5fnp7DvvIzku6Xlj4rlhbbnlJ/plb/njq/looPjgIHkvLTnlJ/nn7/nianmiJblppblhb3jgIJcXG7jgJDoja/mgKfkuI7nlKjpgJTjgJE6IOivpue7humYkOi/sOS6huivpeeBteakjeeahOagueOAgeiMjuOAgeWPtuOAgeaenOWunuWIhuWIq+WFt+acieS9leenjeiNr+aAp++8iOWvkuOAgeeDreOAgea4qeOAgeWHie+8ie+8jOS7peWPiuWug+S7rOWPr+S7peS9nOS4uuWTquS6m+S4ueiNr+eahOS4u+iNr+aIlui+heiNr++8jOeUmuiHs+aYr+WmguS9leebtOaOpeWkhOeQhuWQjuacjeeUqOOAglxcbuOAkOmHh+mbhuS4jueCruWItuaJi+azleOAkTog5o+P6L+w5LqG6YeH6ZuG6K+l54G15qSN5pe26ZyA6KaB5rOo5oSP55qE5LqL6aG577yI5L6L5aaC77yM5p+Q56eN54G16Iqx5b+F6aG75Zyo5pyI5ZyG5LmL5aSc6YeH5pGY77yM6I2v5oCn5omN5pyA5a6M5pW077yJ77yM5Lul5Y+K5ZCO57ut55qE5bmy54el44CB56CU56Oo44CB5rW45rOh562J5aSE55CG5pa55rOV44CCXCIsXHJcbiAgICAgIFwi5r2c5Zyo5Lu35YC8XCI6IFwi44CQ55+l6K+G5L2T57O744CR77ya5Li656m/6LaK6ICF55qE546w5Luj5qSN54mp5a2m55+l6K+G77yM5LiO5YWD5Yid55WM55qE5L+u5LuZ5L2T57O75LmL6Ze077yM5p626LW35LqG5LiA5bqn5a6M576O55qE5qGl5qKB44CC5aW55Y+v5Lul5oyJ5Zu+57Si6aql77yM5bCG6Ieq5bex5Zyo5rSE5r2u5bG/5LiK55yL5Yiw55qE6YKj5Lqb5LiN6K6k6K+G55qE5qSN54mp77yM5LiO5Lmm5Lit55qE6K6w5b2V5LiA5LiA5a+55bqU77yM5LuO6ICM55yf5q2j55CG6Kej5a6D5Lus55qE5Lu35YC844CCXFxu44CQ5a6e6Le15oyH5a+844CR77ya6K6p5aW55Y+v5Lul5byA5aeL5bCd6K+V566A5Y2V55qE54K85Li55oiW6I2v5YmC6LCD6YWN44CC5L6L5aaC77yM5Lmm5Lit6K6w6L2955qE5LiA56eN5ZCN5Li64oCc5rW35pif6I2J4oCd55qE6Je757G777yM5LiO4oCc56SB5bKp5ouf6J+54oCd55qE55Sy5aOz57KJ5pyr5re35ZCI77yM5Y+v5Lul6LCD6YWN5Ye65pWI5p6c5LiN6ZSZ55qE5L2O6Zi255aX5Lyk6I2v6IaP44CC6L+Z6K6p5aW55oul5pyJ5LqG6Zmk6aOf55So54G15qSN5aSW55qE5Y+m5LiA56eN5Yip55So6LWE5rqQ55qE5pa55byP44CCXFxu44CQ54mp56eN5Y+R546w44CR77ya5Yet5YCf6L+Z5pys5Zu+6Ym077yM5aW55oiW6K646IO96L6o6K6k5Ye65rSL5rWB5Yay5LiK5p2l55qE5p+Q5Lqb55yL5Ly85peg55So55qE5qSN54mp5q6L6aq477yM5YW255yf5a6e6Lqr5Lu95Y+v6IO95piv5p6B5Li654+N56iA55qE54G16I2v44CCXCIsXHJcbiAgICAgIFwi6IOM5pmv54yc5rWLXCI6IFwi6L+Z6YOo5omL5oqE5pys55qE5L2c6ICF77yM5b6I5Y+v6IO95piv5LiA5L2N54Ot54ix6ZK756CU44CB5Zac5qyi5ri45Y6G55qE5pWj5L+u54G15qSN5biI44CC5LuWL+WlueaIluiuuOW5tuayoeacieW8uuWkp+eahOS/ruS4uu+8jOS9huWcqOS4gOeUn+S4reWwhuWkp+mDqOWIhuW/g+ihgOmDveWAvuazqOWcqOS6huWvueiNieacqOeahOeglOeptuS4iuOAgui/meacrOeslOiusO+8jOWwseaYr+S7li/lpbnkuIDnlJ/lv4PooYDnmoTnu5PmmbbjgILku5Yv5aW55Y+v6IO95pyA57uI6JGs6Lqr5LqO5p+Q5qyh5Ye65rW355qE5oSP5aSW5Lit77yM5L2G6L+Z5pys56yU6K6w5Y205bm46L+Q5Zyw5ryC5rWB5LqG5LiL5p2l77yM562J5b6F552A5LiL5LiA5L2N57un5om/5YW25b+X5ZCR55qE5Lq644CCXCIsXHJcbiAgICAgIFwi5Lu35YC8XCI6IHtcclxuICAgICAgICBcIuWfuuehgOS7t+WAvFwiOiAxODAsXHJcbiAgICAgICAgXCLku7flgLzmoIfnrb5cIjogW1wi55+l6K+GXCIsIFwi54G15qSNXCJdXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIFwi5ZCN56ewXCI6IFwi44CK5rW35a6i6Ze76KeB5b2V44CL77yI5Y2w5Yi354mI6IqC6YCJ77yJXCIsXHJcbiAgICAgIFwi5ZOB6Zi2XCI6IFwi5Zyw55CG5Lq65paH57G75p2C6K6w77yI5L+h5oGv5Lu35YC85p6B6auY77yJXCIsXHJcbiAgICAgIFwi5aSW6KeCXCI6IFwi5Yeg5byg6KKr5rC05rOh5b6X5Y+R6buE44CB5Y+Y6ISG55qE5Lmm6aG177yM5piO5pi+5piv5LuO5LiA5pys5Lmm5LiK6ISx6JC95LiL5p2l55qE44CC5p2Q6LSo5piv5Yeh5L+X5LiW55WM5bi455So55qE56u55rWG57q477yM6ICM6Z2e5L+u5aOr5LiT55So55qE546J566A5oiW5YW955qu44CC5LiK6Z2i55qE5paH5a2X5piv55So5LiA56eN5Zyo5Lic546E5Z+f6YCa55So55qE5Y2w5Yi35a6L5L2T5YaZ5oiQ77yM5YaF5a656YCa5L+X5piT5oeC44CC6L+Z5Yeg6aG157q46KKr5LiA5Lib5Z2a6Z+n55qE5rW36I2J57yg57uV552A77yM5omN5rKh5pyJ5Zyo5rSL5rWB5Lit5b275bqV56KO6KOC44CCXCIsXHJcbiAgICAgIFwi54m55oCn5LiO5YaF5a65XCI6IFwi5YaF5a655Ly85LmO5piv5p+Q5pys55WF6ZSA5Lmm55qE6IqC6YCJ56ug6IqC77yM5qCH6aKY5Li64oCc5peg5aaE5rW35Lic6YOo6K+45bKb5bG/5qaC6L+w4oCd44CC5L2c6ICF5Lul5LiA56eN5ri46K6w55qE5Y+j5ZC777yM5LuL57uN5LqG5peg5aaE5rW35Lic6YOo5Yeg5Y2B5Liq5aSn5bCP5bKb5bG/55qE6aOO5Zyf5Lq65oOF44CB54mp5Lqn5Lul5Y+K5Li76KaB55qE5L+u5aOr5Yq/5Yqb44CCXFxu44CQ5Zyw55CG5qaC5b+144CROiDnrKzkuIDmrKHorqnnqb/otorogIXlr7nigJzml6DlpoTmtbfigJ3mnInkuoblro/op4LnmoTorqTor4bjgILkuabkuK3mj5DliLDkuoblh6HkurroiKrmtbfnmoTigJzov5HmtbfoiKrnur/igJ3lkozkv67lo6vpo57ooYznmoTigJzlronlhajnqbrln5/igJ3vvIzlubbnnYDph43moIfms6jkuoblh6DkuKrokZflkI3nmoTlh7bpmanmtbfln5/vvIzlhbbkuK3lsLHljIXmi6zkuobigJzov7foiKrkuYvmuIrigJ3igJTigJTmtITmva7lsb/miYDlnKjnmoTov5nniYfmtIvmtYHkuqTmsYfljLrjgILkuabkuK3mj4/ov7DvvIzmraTlnLDigJznu4jlubTov7fpm77vvIzmmpfmtYHkuJvnlJ/vvIzph5HkuLnkv67lo6vkuqbkuI3mlaLmt7HlhaXvvIzkvKDpl7vkuYPkuIrlj6TmiJjlnLrvvIzlhoXmnInlpKfmgZDmgJbigJ3jgIJcXG7jgJDlir/lipvliIbluIPjgJE6IOS7i+e7jeS6huebmOi4nuWcqOmZhOi/keWHoOS4quWkp+Wym+Wxv+S4iueahOS/ruS7meWutuaXj+aIluWwj+Wei+Wul+mXqOOAguavlOWmguS7peeCvOWZqOmXu+WQjeeahOKAnOeBq+ixmuWym+adjuWutuKAne+8jOS7peWVhuS4mui0uOaYk+S4uuS4u+eahOKAnOaYjuePoOWym+S4h+mAmuWVhuS8muKAne+8jOS7peWPiuS4gOS4queUseaVo+S/rue7hOaIkOeahOOAgemjjuivhOS4jeS9s+eahOadvuaVo+iBlOebn+KAnOm7keW4huS8muKAneOAglxcbuOAkOeJqeS6p+S4juWlh+mXu+OAkTog5o+P6L+w5LqG5ZCE5Liq5bKb5bG/55qE54m55Lqn77yM5q+U5aaC4oCc54Gr6LGa5bKb4oCd55qE5Zyw54Gr54aU5bKp77yM5piv54K85Yi254Gr5bGe5oCn5rOV5Zmo55qE5L2z5ZOB77yb4oCc5piO54+g5bKb4oCd55ub5Lqn5LiA56eN6IO95a6J56We6Z2Z5rCU55qE4oCc5pyI5YWJ6LSd4oCd44CC6L+Y6K6w5b2V5LqG5LiA5Lqb5rW35LiK55qE5aWH6Ze75byC5LqL77yM5L6L5aaC56We56eY55qE4oCc5bm954G16Ii54oCd44CB6IO95byV5Y+R6aOO5pq055qE5beo5Z6L5rW35YW9562J562J44CCXCIsXHJcbiAgICAgIFwi5r2c5Zyo5Lu35YC8XCI6IFwi44CQ5LiW55WM5Zyw5Zu+44CR77ya5Li656m/6LaK6ICF5p6E5bu65LqG5LiA5bmF5riF5pmw55qE4oCc5paw5omL5p2R4oCd5ZGo6L655Zyw5Zu+44CC6K6p5aW55piO55m95LqG6Ieq5bex5omA5aSE5L2N572u55qE5Ye26Zmp5oCn77yM5Lmf55+l6YGT5LqG5aaC5p6c5pyq5p2l6KaB56a75byA77yM5Y+v6IO955qE5pa55ZCR5ZKM55uu55qE5Zyw44CCXFxu44CQ5oOF5oql5L+h5oGv44CR77ya6K6p5aW55a+56L+Z5Liq5LiW55WM55qE4oCc56S+5Lya4oCd5pyJ5LqG5Yid5q2l55qE5LqG6Kej44CC55+l6YGT5LqG5L+u5LuZ55WM5bm26Z2e5Y+q5pyJ6auY6auY5Zyo5LiK55qE5aSn5a6X6Zeo77yM5pu05aSa55qE5piv6L+Z5Lqb5aaC5ZCM57mB5pif6Iis5pWj6JC955qE44CB5Li65LqG6LWE5rqQ5ZKM55Sf5a2Y6ICM5aWU5rOi55qE5Lit5bCP5Yq/5Yqb44CC6L+Z5Lqb5oOF5oql77yM5Zyo5pyq5p2l5LiO5Lq65o6l6Kem5pe277yM5bCG5piv6Iez5YWz6YeN6KaB55qE44CCXFxu44CQ5Y2x5py66aKE6K2m44CR77ya4oCc6buR5biG5Lya4oCd55qE5o+P6L+w5bCk5YW26K6p5aW56K2m5oOV44CC5Lmm5Lit5o+Q5Yiw6L+Z5Lqb5Lq66KGM5LqL55m+5peg56aB5b+M77yM57uP5bi45Yqr5o6g6L+H5b6A6Ii55Y+q77yM55Sa6Iez5Lya5Li75Yqo5o6i57Si5LiA5Lqb6Zmp5Zyw5Lul5a+75rGC5py657yY44CC6L+Z6K6p5aW55oSP6K+G5Yiw77yM6Ieq5bex5omA5Zyo55qE5rSE5r2u5bG/77yM6Jm954S26ZqQ6JS977yM5L2G5bm26Z2e57ud5a+55a6J5YWo44CCXCIsXHJcbiAgICAgIFwi6IOM5pmv54yc5rWLXCI6IFwi6L+Z5pys5Lmm77yM5b6I5Y+v6IO95p2l6Ieq5p+Q5Liq5Zyo4oCc6buR5biG5Lya4oCd5Yqr5o6g5Lit6KKr5Ye75rKJ55qE5ZWG6Ii544CC6Ii55LiK55qE5p+Q5Liq5peF5a6i5oiW6Ii55ZGY77yM5oiW6K645q2j5bim552A6L+Z5pys55WF6ZSA55qE5ri46K6w77yM5bm75oOz552A5pyq5p2l55qE5YaS6Zmp77yM5Y205LiN5bm46JGs6Lqr6bG86IW544CCXCIsXHJcbiAgICAgIFwi5Lu35YC8XCI6IHtcclxuICAgICAgICBcIuWfuuehgOS7t+WAvFwiOiA1MCxcclxuICAgICAgICBcIuS7t+WAvOagh+etvlwiOiBbXCLnn6Xor4ZcIiwgXCLmg4XmiqVcIl1cclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgXCLlkI3np7BcIjogXCLjgIrmlq3mva7liZHnu4/Ct+aui+evh+OAi1wiLFxyXG4gICAgICBcIuWTgemYtlwiOiBcIuetkeWfuuacn+WJkeS/ruWKn+azle+8iOaui+e8uu+8jOS7heacieS4ieW8j++8iVwiLFxyXG4gICAgICBcIuWkluinglwiOiBcIuW5tumdnueOieeugOaIluS5puWGjO+8jOiAjOaYr+S4gOWdl+WNiuWwuuingeaWueOAgeS4jeefpeWQjeeahOmdkum7keiJsuekgeefs+OAguekgeefs+eahOihqOmdouiiq+S6uuS7peaegeW8uueahOaMh+WKm++8jOWIu+S4i+S6huS4ieW5heS6uuW9ouWbvuahiOWSjOS4gOS6m+mbtuaVo+eahOazqOmHiuOAguavj+S4gOmBk+eslOeUu+mDveiVtOWQq+edgOS4gOiCoeWHjOWOieOAgemcuOmBk+OAgeS4gOW+gOaXoOWJjeeahOawlOaBr+OAguS7heS7heaYr+azqOinhuedgOi/meS6m+WIu+eXle+8jOmDveS8muiuqeepv+i2iuiAheaEn+WIsOearuiCpOWIuueXm++8jOS7v+S9m+acieaXoOW9oueahOWJkeawlOWcqOWIh+WJsuOAgui/meWdl+ekgeefs+aegeS4uuayiemHje+8jOi/nOi2heWQjOS9k+enr+eahOmSoumTgeOAglwiLFxyXG4gICAgICBcIueJueaAp+S4juWGheWuuVwiOiBcIuiusOW9leeahOaYr+S4gOmDqOWQjeS4uuOAiuaWrea9ruWJkee7j+OAi+eahOWJkeazleS4reeahOS4ieW8j+OAguayoeacieW/g+azle+8jOayoeacieaAu+e6su+8jOWPquacieS4ieaLm+e6r+eyueeahOOAgeadgOS8kOS5iy3msJTlhrLlpKnnmoTliZHmi5vjgIJcXG7jgJDnrKzkuIDlvI/vvJrmg4rmtpvjgJHjgILliZHlir/lpoLmtarvvIzlsYLlsYLlj6Dlj6DvvIzkuIDliZHmjKXlh7rvvIzku7/kvZvog73ljbfotbfljYPph43lt6jmtarvvIzku6Xlir/ljovkurrjgILmoLjlv4PlnKjkuo7ngbXlipvnmoTlj6DliqDkuI7niIblj5HjgIJcXG7jgJDnrKzkuozlvI/vvJroo4LlsrjjgJHjgILlsIbmiYDmnInlipvph4/lh53ogZrkuo7kuIDngrnvvIzov73msYLmnoHoh7TnmoTnqb/pgI/kuI7noLTlnY/jgILliZHmi5vmnLTlrp7ml6DljY7vvIzllK/mnInkuIDlvoDml6DliY3nmoTlhrPnu53jgILms6jph4rkuK3lhpnpgZPvvJrigJzlv4PkuI3or5rvvIzliJnliZHkuI3liKnigJ3jgIJcXG7jgJDnrKzkuInlvI/vvJrlvZLlop/jgJHjgILmnIDkuLrnsr7lppnnmoTkuIDlvI/jgILliZHmi5vnlLvlh7rkuIDkuKrlnIbvvIzlvaLmiJDkuIDkuKrlvq7lnovnmoTliZHmsJTmvKnmtqHvvIzog73nibXlvJXjgIHlgY/ovaznlJroh7PlkJ7lmazmlYzkurrnmoTmlLvlh7vjgILmmK/pmLLlrojlj43lh7vnmoTnu53mioDjgIJcIixcclxuICAgICAgXCLmvZzlnKjku7flgLxcIjogXCLjgJDmiJjmlpfmiYvmrrXjgJHvvJrorqnlpbnnrKzkuIDmrKHmi6XmnInkuobnnJ/mraPmhI/kuYnkuIrnmoTmiJjmlpfog73lipvjgILljbPkvr/msqHmnInliZHvvIznlKjmnKjmo43miJbmiYvmjIfmqKHmi5/vvIzkuZ/og73lj5HmjKXlh7rov5zotoXjgIrnvKDnu5XmnK/jgIvnmoTlqIHlipvjgIJcXG7jgJDmnKrmnaXpgZPot6/jgJHvvJrkuLrlpbnmj5DkvpvkuobkuIDmnaHigJzliZHkv67igJ3nmoTlj6/og73pgZPot6/jgILlpoLmnpzog73mib7liLDlkI7nu63lip/ms5XvvIzmiJbogIXku6XmraTkuLrln7rnoYDoh6rooYzmjqjmvJTvvIzmiJborrjog73otbDkuIrkuIDmnaHkuI7ngbXmpI3luIjmiKrnhLbkuI3lkIznmoTpgZPot6/jgIJcXG7jgJDmhJ/mgp/liZHmhI/jgJHvvJrplb/mnJ/op4Lmkanlkozmj6Pmkanov5nlnZfnpIHnn7PkuIrnmoTliLvnl5XvvIzog73lpJ/orqnlpbnlnKjmvZznp7vpu5jljJbkuK3mhJ/mgp/liLDkuIDnp43lkI3kuLrigJzliZHmhI/igJ3nmoTnibnmrorlipvph4/vvIzov5nmmK/miJDkuLrkuIDlkI3nnJ/mraPliZHkv67nmoTmlbLpl6jnoJbjgIJcIixcclxuICAgICAgXCLpo47pmankuI7mjJHmiJhcIjogXCLjgJDml6Dlv4Pms5XjgJE6IOayoeaciemFjeWll+eahOeBteWKm+i/kOihjOW/g+azle+8jOW8uuihjOS/rueCvOi/meS4ieW8j+WJkeaLm++8jOWvuee7j+iEieeahOi0n+aLheaegeWkp++8jOeUmuiHs+acieWPjeWZrOiHqui6q+eahOWNsemZqeOAglxcbuOAkOmrmOmXqOanm+OAkTog5YmR5rOV5Lit6JW05ZCr55qE5oSP5aKD5p6B6auY77yM6Iul5peg6L+H5Lq655qE5oKf5oCn77yM5b6I5Y+v6IO95Y+q6IO95a2m5YW25b2i77yM6ICM5peg5rOV5b6X5YW256We77yM5aiB5Yqb5aSn5omT5oqY5omj44CCXFxu44CQ5bGe5oCn5Yay56qB44CROiDjgIrmlq3mva7liZHnu4/jgIvnmoTliZHmsJTpnLjpgZPml6Dmr5TvvIzkuI7lpbnkv67ngrznmoTjgIrplb/mmKXor4DjgIvmuKnlkoznmoTmnKjlsZ7mgKfngbXlipvlrZjlnKjkuIDlrprnmoTlhrLnqoHjgILlpoLkvZXosIPlkozov5nkuKTnp43miKrnhLbkuI3lkIznmoTlipvph4/vvIzmmK/kuIDkuKrlt6jlpKfnmoTpmr7popjjgIJcIixcclxuICAgICAgXCLog4zmma/njJzmtYtcIjogXCLnlZnkuIvov5npg6jliZHnu4/nmoTkurrvvIzlv4XnhLbmmK/kuIDkvY3lrp7lipvlvLrlpKfnmoTliZHkv67jgILku5Yv5aW55b6I5Y+v6IO95piv5Zyo4oCc6L+36Iiq5LmL5riK4oCd5Lit5LiO5by65pWM5q275oiY77yM6Lqr5Y+X6YeN5Lyk77yM6Ieq55+l5pe25pel5peg5aSa77yM5L6/5bCG6Ieq5bex5pyA5b6X5oSP55qE5LiJ5byP5YmR5rOV5Yi75LqO56SB55+z5LmL5LiK77yM5biM5pyb6IO955WZ5LiL5LiA54K55Lyg5om/44CC6L+Z5Z2X56SB55+z77yM5om/6L29552A5LiA5L2N5YmR5a6i5pyA5ZCO55qE6aqE5YKy5LiO5LiN55SY44CCXCIsXHJcbiAgICAgIFwi5Lu35YC8XCI6IHtcclxuICAgICAgICBcIuWfuuehgOS7t+WAvFwiOiA0MDAsXHJcbiAgICAgICAgXCLku7flgLzmoIfnrb5cIjogW1wi5Yqf5rOVXCIsIFwi55+l6K+GXCIsIFwi56iA5pyJXCJdXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIFwi5ZCN56ewXCI6IFwi44CK54Gr54K85b+D6Kej44CL77yI5Lyq77yJXCIsXHJcbiAgICAgIFwi5ZOB6Zi2XCI6IFwi55+l6K+G57G75YW457GN77yI5Li56YGT5b+D5b6X77yM5L2G5pyJ6Ie05ZG96Zm36Zix77yJXCIsXHJcbiAgICAgIFwi5aSW6KeCXCI6IFwi5LiA5Z2X54Gr57qi6Imy55qE546J566A77yM5YWl5omL5rip54Ot77yM6KGo6Z2i6ZuV5Yi7552A5Y2O5Li955qE54Gr54Sw57q56Lev77yM55yL6LW35p2l5ZOB6Zi25LiN5Yeh44CC55So56We6K+G5o6i5YWl77yM5Y+v5Lul6ZiF6K+75Yiw5LiA56+H5YWz5LqO4oCc5o6n54Gr5rOV6Zeo4oCd5LiO4oCc5Li56I2v5o+Q57qv4oCd55qE6K+m57uG5b+D5b6X56yU6K6w44CCXCIsXHJcbiAgICAgIFwi54m55oCn5LiO5YaF5a65XCI6IFwi6L+Z56+H5b+D5b6X55qE5L2c6ICF6Ieq56ew4oCc5Li554Gr55yf5Lq64oCd77yM5Lul5LiA56eN5p6B5Li66Ieq5L+h5ZKM5p2D5aiB55qE5Y+j5ZC777yM6K+m57uG6K6y6Kej5LqG5aaC5L2V5Zyo54K85Yi25Li56I2v5pe277yM6YCa6L+H5LiA56eN5ZCN5Li64oCc5LiJ5Y+g54Gr5rOV4oCd55qE54m55q6K5o6n54Gr5oqA5ben77yM5bCG5Li56I2v55qE6I2v5oCn5o+Q57qv5LiJ5oiQ5Lul5LiK44CC5paH5Lit5omA6L+w55CG6K665ZCs6LW35p2l5aSp6KGj5peg57yd77yM6YC76L6R5Lil5a+G77yM5p6B5YW36K+x5oOR5Yqb44CCXCIsXHJcbiAgICAgIFwi5r2c5Zyo5Lu35YC8XCI6IFwi44CQ6auY6Zi255+l6K+G44CR77ya5o+Q5L6b5LqG6L+c6LaF5YWl6Zeo57qn5Yir55qE54K85Li555CG6K6677yM5aaC5p6c5YaF5a655Li655yf77yM6Laz5Lul6K6p5Lu75L2V5LiA5Liq5Yid5a2m5Li55biI55qE5rC05bmz5Zyo55+t5pe26Ze05YaF56qB6aOe54yb6L+b44CCXFxu44CQ5oCd57u06ZS754K844CR77ya5Lmm5Lit5a+554Gr54Sw55qE5o6n5Yi244CB6I2v5oCn55qE55CG6Kej77yM5Y2z5L6/5pyJ6K+v77yM5Lmf5Li656m/6LaK6ICF5o+Q5L6b5LqG5Y+m5LiA56eN5oCd6ICD6Zeu6aKY55qE6KeS5bqm44CCXCIsXHJcbiAgICAgIFwi6aOO6Zmp5LiO5oyR5oiYXCI6IFwi44CQ6Ie05ZG96Zm36Zix44CR77ya6L+Z5pys5b+D5b6X77yM5piv5LiA5Liq5b275aS05b275bC+55qE6aqX5bGA44CC6YKj4oCc5LiJ5Y+g54Gr5rOV4oCd55qE5p+Q5Liq5YWz6ZSu54G15Yqb6IqC54K577yM6KKr5pWF5oSP6K6w6L295LqG5LiA5Liq6ZSZ6K+v55qE5L2N572u44CC5aaC5p6c5oyJ54Wn5q2k5rOV6L+b6KGM54K85Li577yM5Yid5pyf56Gu5a6e5Lya5pyJ5aWH5pWI77yM5L2G5b2T54K85Yi26L+b6KGM5Yiw5pyA5YWz6ZSu55qE5Yed5Li55q2l6aqk5pe277yM6L+Z5Liq6ZSZ6K+v55qE6IqC54K55Lya5a+86Ie05Li554KJ5YaF55qE5omA5pyJ6IO96YeP556s6Ze06YCG5rWB44CB54iG54K477yB6L+Z5piv5LiA56eN5p6B5YW26Zi06Zmp55qE44CB5LiT6Zeo55So5p2l5Z2R5a6z5ZCM6KGM55qE5omL5rOV44CCXFxu44CQ6L6o6K+G6Zq+5bqm44CR77ya6L+Z5Liq6ZSZ6K+v5p6B5Li66ZqQ6JS977yM5LiO5YmN5ZCO5paH5a6M576O5Zyw6J6N5ZCI5Zyo5LiA6LW344CC6Zmk6Z2e5oul5pyJ5p6B5YW25omO5a6e55qE5Li56YGT55CG6K665Z+656GA77yM5oiW6ICF5YOP56m/6LaK6ICF6L+Z5qC377yM6IO95aSf55So546w5Luj5YyW5a2m55qE4oCc6IO96YeP5a6I5oGS4oCd44CB4oCc5Y+N5bqU5bmz6KGh4oCd562J5bqV5bGC6YC76L6R5Y675a6h6KeG5pW05Liq6L+H56iL77yM5ZCm5YiZ5Yeg5LmO5LiN5Y+v6IO95Y+R546w5YW25Lit55qE6Zeu6aKY44CCXCIsXHJcbiAgICAgIFwi6IOM5pmv54yc5rWLXCI6IFwi6L+Z6YOo5Lyq6YCg55qE5b+D5b6X77yM5p2l5rqQ5p6B5YW25oG25oSP44CC5b6I5Y+v6IO95piv5p+Q5Liq5Li56YGT5LiW5a625Li65LqG5omT5Ye756ue5LqJ5a+55omL77yM5pWF5oSP5Yi26YCg5bm25pWj5pKt5Ye65Y6755qE4oCc5q+S6aW14oCd44CC5Y+I5oiW6ICF5piv5p+Q5Liq5b+D5pyv5LiN5q2j55qE5Li55biI77yM5Zyo6KKr5LuH5a626L+95p2A5pe277yM5pWF5oSP5omU5Ye655qE6Zmq6JGs5ZOB77yM5oOz6K6p5b6X5Yiw5a6D55qE5Lq65Lmf5bCd5bCd54K454KJ55qE5ruL5ZGz44CC5a6D6IO95Ye6546w5Zyo5rSE5r2u5bG/77yM5pys6Lqr5bCx5oSP5ZGz552A5LiA5Ye65Y+R55Sf5Zyo5aSW55WM55qE44CB5YWz5LqO5auJ5aaS5LiO6Zi06LCL55qE5oKy5Ymn44CCXCIsXHJcbiAgICAgIFwi5Lu35YC8XCI6IHtcclxuICAgICAgICBcIuWfuuehgOS7t+WAvFwiOiAxMjAsXHJcbiAgICAgICAgXCLku7flgLzmoIfnrb5cIjogW1wi55+l6K+GXCIsIFwi5Li56YGTXCIsIFwi6Zm36ZixXCJdXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIFwi5ZCN56ewXCI6IFwi44CK5pif5rW36Iiq5Zu+44CL5q6L6KeSXCIsXHJcbiAgICAgIFwi5ZOB6Zi2XCI6IFwi5pyq55+l77yI5Y+v6IO96LaF6LaK5YyW56We57qn5Yir77yJXCIsXHJcbiAgICAgIFwi5aSW6KeCXCI6IFwi5LiA5Z2X5be05o6M5aSn5bCP55qE44CB6Z2e6YeR6Z2e546J55qE6buR6Imy56KO54mH77yM5p2Q6LSo5LiN5piO44CC5a6D5LiN5Y+N5bCE5Lu75L2V5YWJ57q/77yM5Lu/5L2b6IO95bCG5YWJ5ZCe5Zms44CC56KO54mH55qE5LiA6KeS77yM57uY5Yi2552A5Yeg5p2h55Sx5peg5pWw57uG5bCP5YWJ54K557uE5oiQ55qE44CB5rWB55WF55qE57q/5p2h77yM5Lul5Y+K5Yeg5Liq5aW55a6M5YWo5LiN6K6k6K+G55qE44CB5aaC5ZCM6J2M6Jqq6Iis55qE5Y+k6ICB56ym5paH44CCXCIsXHJcbiAgICAgIFwi54m55oCn5LiO5YaF5a65XCI6IFwi5b2T56m/6LaK6ICF5bCG54G15Yqb5oiW56We6K+G5rOo5YWl5YW25Lit5pe277yM6YKj5Lqb5YWJ54K55Lya556s6Ze04oCc5rS74oCd6L+H5p2l44CC5aW555qE5oSP6K+G5Lya6KKr5ouJ5YWl5LiA5Liq5peg5Z6g55qE6buR5pqX5a6H5a6Z5Lit77yM55yL5Yiw5Yeg6aKX5beo5aSn55qE44CB5pWj5Y+R552A5LiN5ZCM6aKc6Imy5YWJ6IqS55qE5pif6L6w77yM5q2j5Zyo5rK/552A6YKj5Yeg5p2h6L2o6L+557yT57yT6L+Q6KGM44CC6L+Z5Ly85LmO5piv5LiA5bmF5pif5Zu+77yM5L2G5Zu+5Lit5omA5qCH56S655qE5pif6L6w77yM5rKh5pyJ5LiA6aKX5piv5aW55aSc56m65Lit6IO955yL5Yiw55qE44CC5YW25Lit5LiA5Liq56ym5paH77yM5Zyo5aW555qE5oSf5bqU5LiL77yM5Lya5Y+N6aaI57uZ5aW55LiA5Liq5qih57OK55qE44CB5L2G55u05oyH54G16a2C55qE6K+N5rGH4oCU4oCU4oCc5b2S5Lmh4oCd44CCXCIsXHJcbiAgICAgIFwi5r2c5Zyo5Lu35YC8XCI6IFwi44CQ5Zue5a6255qE5biM5pyb44CR77ya6L+Z5piv5aW556m/6LaK5Lul5p2l77yM56ys5LiA5qyh5o6l6Kem5Yiw5Y+v6IO95LiO4oCc5Zue5a624oCd5pyJ5YWz55qE57q/57Si44CC6YKj5Liq4oCc5b2S5Lmh4oCd55qE56ym5paH77yM5piv5aW55pyq5p2l5o6i57Si55qE57uI5p6B55uu5qCH44CCXFxu44CQ6LaF5Yeh6KeG6YeO44CR77ya6K6p5aW55oSP6K+G5Yiw77yM4oCc5YWD5Yid55WM4oCd5Y+v6IO95Y+q5piv5peg5Z6g55qE5a6H5a6Z5Lit55qE5LiA57KS5bCY5Z+D77yM5Zyo5LiW55WM5LmL5aSW77yM6L+Y5pyJ5pu05bm/6ZiU55qE5aSp5Zyw44CC6L+Z5b275bqV5omT5byA5LqG5aW555qE5qC85bGA44CCXCIsXHJcbiAgICAgIFwi6aOO6Zmp5LiO5oyR5oiYXCI6IFwi44CQ6auY6Zi25Zug5p6c44CR77ya6L+Z5bmF5pif5Zu+5omA5raJ5Y+K55qE5bGC5qyh77yM6L+c6L+c6LaF5Ye65LqG5aW555qE55CG6Kej6IyD55W044CC5rex5YWl56CU56m25a6D77yM5Y+v6IO95Lya6KKr5Yi25L2c6L+Z5byg5Zu+55qE5p+Q5Liq5oGQ5oCW5a2Y5Zyo5omA5oSf55+l77yM5byV5p2l5peg5rOV6aKE5paZ55qE54G+56W444CCXFxu44CQ5L+h5oGv57y65aSx44CR77ya5LuF5LuF5LiA5Liq5q6L6KeS77yM5rKh5pyJ5Lu75L2V5Y+C54Wn54mp77yM5qC55pys5peg5rOV5Yik5pat5Ye66L+Z5pif5Zu+5o+P57uY55qE5piv5ZOq6YeM77yM5Y+I6K+l5aaC5L2V5YmN5b6A44CC5a6D5pu05YOP5LiA5Liq6Jma5peg57yl57yI55qE4oCc5qaC5b+14oCd77yM6ICM6Z2e5LiA5Liq5a6e6ZmF5Y+v55So55qE4oCc5Zyw5Zu+4oCd44CCXCIsXHJcbiAgICAgIFwi6IOM5pmv54yc5rWLXCI6IFwi5p2l5rqQ5a6M5YWo5peg5rOV54yc5rWL44CC5Y+v6IO95piv5p+Q5L2N5LiK5Y+k5aSn6IO96K+V5Zu+5qiq5rih5a6H5a6Z5pe25Yi25L2c55qE6Iiq5Zu+77yb5Lmf5Y+v6IO95piv5p+Q5Liq5aSp5aSW5paH5piO55qE6YCg54mp77yM5Zyo5pe256m65Lmx5rWB5Lit56C056KO77yM5YW25Lit5LiA54mH5YG254S25Z2g5YWl5LqG5YWD5Yid55WM44CC5a6D55qE5Ye6546w77yM5pys6Lqr5bCx5piv5LiA5Liq5aWH6L+577yM5LiA5Liq5beo5aSn55qE6LCc5Zui44CCXCIsXHJcbiAgICAgIFwi5Lu35YC8XCI6IHtcclxuICAgICAgICBcIuWfuuehgOS7t+WAvFwiOiA5OTk5LFxyXG4gICAgICAgIFwi5Lu35YC85qCH562+XCI6IFtcIuWJp+aDheWFs+mUrlwiLCBcIuS8oOivtFwiLCBcIuWUr+S4gFwiXVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBcIuWQjeensFwiOiBcIuKAnOelnumZqOKAneS5i+aXpeiusOaui+mhtVwiLFxyXG4gICAgICBcIuWTgemYtlwiOiBcIuacquefpe+8iOa2ieWPiuS4lueVjOinguaguOW/g+WOhuWPsu+8iVwiLFxyXG4gICAgICBcIuWkluinglwiOiBcIuS4gOW8oOiWhOWmguidiee/vOeahOmHkeiJsue6uOW8oO+8jOawtOeBq+S4jeS+te+8jOS4h+W5tOS4jeacveOAgue6uOW8oOS4iuaYr+eUqOS4gOenjeiVtOWQq+edgOmBk+mfteeahOe0q+iJsuWiqOawtOS5puWGmeeahOaWh+Wtl+OAguWtl+S9k+mrmOWPpOiAjOWogeS4pe+8jOavj+S4gOS4quWtl+mDveS7v+S9m+iVtOWQq+edgOWkqeWcsOiHs+eQhuOAguWPr+aDnOi/meW8oOe6uOWPquWJqeS4i+S4gOWwj+WNiu+8jOaWh+Wtl+S5n+aWreaWree7ree7reOAglwiLFxyXG4gICAgICBcIueJueaAp+S4juWGheWuuVwiOiBcIue6uOW8oOS4iuiusOi9veeahOS8vOS5juaYr+S4gOevh+aXpeiusOOAguWGheWuueaYr+eUqOesrOS4gOS6uuensOS5puWGme+8jOWFhea7oeS6hueWsuaDq+OAgeWbsOaDkeS4juS4gOS4neS4jeaYk+Wvn+inieeahOaBkOaDp+OAglxcbuOAkOmbtueijueahOiusOW9leOAke+8muKAnOKApuKApuWkqemBk+aciee8uu+8jOmVv+eUn+aYr+S4gOWcuumql+WxgOKApuKApuaIkeS7rOmDveiiq+WbsOWcqOi/memHjOKApuKApuWMluelnuS5i+S4iu+8jOW5tumdnumjnuWNh++8jOiAjOaYr+KAmOeGlOWMluKAmeKApuKApuKAnVxcbuKAnOKApuKApumCo+aJh+KAmOmXqOKAmeiDjOWQjuWIsOW6leaYr+S7gOS5iO+8n+S4uuS9leavj+S4gOS4quivleWbvuaOqOW8gOWug+eahOS6uu+8jOmDveWMluS4uuS6hueMruelreeahOiWquaftOKApuKApuKAnVxcbuKAnOKApuKApuaIkeeci+WIsOS6huelgueahOW9seWtkO+8jOWcqOS4lueVjOeahOaguea6kOWkhOKApuKApuelguWcqOKAmOaUtuWJsuKAmeKApuKApuaIkeS7rOaJgOacieeahOS/rueCvO+8jOmDveaYr+WcqOS4uuelguaPkOS+m+WFu+WIhuKApuKApuKAnVxcbuKAnOKApuKApuW/hemhu+aJvuWIsOegtOWxgOS5i+azleOAguaIkeassuW+gOS4reWkqeWco+mDve+8jOeqg+WPluKAmOeVjOa6kOS5i+W/g+KAme+8jOaIluiuuO+8jOmCo+mHjOmdouacieacgOWQjueahOetlOahiOKApuKApuatpOihjO+8jOS5neatu+S4gOeUn+KApuKApuKAnVwiLFxyXG4gICAgICBcIua9nOWcqOS7t+WAvFwiOiBcIuOAkOmioOimhuiupOefpeOAke+8mui/meevh+aXpeiusOeahOWGheWuue+8jOWwhuW9u+W6lemioOimhuWFg+WIneeVjOaJgOacieS/ruWjq+eahOiupOefpeOAguWug+aPreekuuS6huS/rueCvOS5i+i3r+eahOe7iOeCue+8jOWPr+iDveW5tumdnuaYr+mAjemBpemVv+eUn++8jOiAjOaYr+S4gOS4quaBkOaAlueahOmZt+mYseOAglxcbuOAkOacgOmrmOenmOWvhuOAke+8muebtOaOpeaMh+WQkeS6huKAnOWMluelnuS5i+S4iueahOWig+eVjOKAneOAgeKAnOS4lueVjOeahOecn+ebuOKAneOAgeKAnOWkqemBk+KAneetieaguOW/g+iwnOWbouOAguS4uuaVtOS4quaVheS6i+aPkOS+m+S6hue7iOaegeeahOaCrOW/teWSjOaOoue0ouebruagh+OAglwiLFxyXG4gICAgICBcIumjjumZqeS4juaMkeaImFwiOiBcIuOAkOWkqemBk+emgeW/jOOAke+8mui/meS4iumdouiusOi9veeahOWGheWuue+8jOaYr+i/meS4quS4lueVjOacgOWkp+eahOemgeW/jOOAguS7heS7heaYr+efpeaZk++8jOWwseWPr+iDveiDjOi0n+S4iuayiemHjeeahOWboOaenO+8jOeUmuiHs+iiq+WGpeWGpeS4reeahOafkOenjeWtmOWcqOaJgOKAnOazqOinhuKAneOAglxcbuOAkOW8leeBq+eDp+i6q+OAke+8muaXpeiusOeahOS4u+S6uu+8jOaYvueEtuaYr+WOu+aJp+ihjOS4gOS7tui2s+S7pemioOimhuS4lueVjOeahOWkp+S6i+OAgui/memhteaXpeiusO+8jOWwseWDj+S4gOS4quWdkOagh++8jOWPr+iDveS8muW8leadpeaXpeiusOS4u+S6uueahOaVjOS6uuaIluaci+WPi+OAguaXoOiuuuWTquS4gOaWue+8jOmDveS4jeaYr+eOsOWcqOeahOepv+i2iuiAheiDveWkn+W6lOWvueeahOOAglwiLFxyXG4gICAgICBcIuiDjOaZr+eMnOa1i1wiOiBcIuaXpeiusOeahOS4u+S6uu+8jOW/heeEtuaYr+S4gOS9jeermeWcqOS6huWFg+WIneeVjOacgOmhtueCueeahOWMluelnuWig++8jOeUmuiHs+WMluelnuS5i+S4iueahOaBkOaAluWtmOWcqOOAguS7luWPkeeOsOS6huS4lueVjOeahOaui+mFt+ecn+ebuO+8jOW5tuivleWbvuWPjeaKl+OAgui/meevh+aXpeiusO+8jOaYr+S7luihjOWKqOS5i+WJjeeVmeS4i+eahOiusOW9leOAguWug+S8muWHuueOsOWcqOa0hOa9ruWxv++8jOaIluiuuOaEj+WRs+edgOi/meS9jeWkp+iDveeahOiuoeWIkuWksei0peS6hu+8jOS7luWcqOiiq+i/veadgOeahOmAlOS4re+8jOWCqOeJqeazleWuneegtOeiju+8jOaXpeiusOS5n+WboOatpOaVo+iQveOAgui/meeJh+aui+mhte+8jOaYr+S4gOauteazoua+nOWjrumYlOWNtOWPiOaXoOavlOaCsuWjrueahOWPsuivl+eahOingeivgeOAglwiLFxyXG4gICAgICBcIuS7t+WAvFwiOiB7XHJcbiAgICAgICAgXCLln7rnoYDku7flgLxcIjogOTk5OSxcclxuICAgICAgICBcIuS7t+WAvOagh+etvlwiOiBbXCLliafmg4XlhbPplK5cIiwgXCLkvKDor7RcIiwgXCLllK/kuIBcIiwgXCLnpoHlv4xcIl1cclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgXCLlkI3np7BcIjogXCLmlq3oo4LnmoTpo57liZHvvIjliZHlsJbpg6jliIbvvIlcIixcclxuICAgICAgXCLlk4HpmLZcIjogXCLms5XlmajkuIvlk4HvvIjmrovpqrjvvIlcIixcclxuICAgICAgXCLlpJbop4JcIjogXCLkuIDmrrXnuqbkuInlr7jplb/jgIHplIjov7nmlpHmlpHnmoTph5HlsZ7jgILku47lhbbmlq3oo4LpnaLlkozkvp3nqIDlj6/ovqjnmoTmo7Hop5LvvIzlj6/ku6XnnIvlh7rlroPmm77nu4/mmK/kuIDmn4Tpo57liZHnmoTliZHlsJbjgILph5HlsZ7ooajpnaLopobnm5bnnYDkuIDlsYLnlKjmma7pgJrmiYvmrrXpmr7ku6XljrvpmaTnmoTmt7Hmtbfpob3lm7rplIjov7nvvIzlj6rmnInlnKjmn5DkuKrnibnlrprnmoTop5LluqbvvIzmiY3og73nnIvliLDplIjov7nkuIvpgI/lh7rnmoTkuIDkuJ3pnZLmv5vmv5vnmoTph5HlsZ7lhYnms73jgILmlbTkuKrmrovniYfmkbjkuIrljrvlhrDlhrfliLrpqqjvvIzmlq3lj6PlpITplIvliKnlvILluLjvvIznqI3kuI3ms6jmhI/lsLHkvJrliJLnoLTnmq7ogqTjgIJcIixcclxuICAgICAgXCLnibnmgKdcIjogXCLov5nmn4Tpo57liZHnmoTmoLjlv4PnrKbmloflkozog73ph4/kuK3mnqLpg73kvY3kuo7liZHmn4TlkozliZHouqvvvIzml6nlt7Lpmo/nnYDkuLvkvZPnmoTpgZflpLHogIzmjZ/mr4HjgILov5nmiKrliZHlsJbllK/kuIDkv53nlZnkuIvmnaXnmoTmmK/vvIzmmK/lhbbmnKzouqvnmoTmnZDotKjigJTigJTigJzpnZLnjonnsr7pkqLigJ3jgILov5nnp43ph5HlsZ7mmK/ngrzliLbkvY7pmLbpo57liZHmnIDluLjnlKjnmoTmnZDmlpnvvIzlhbzlhbflnZrpn6fkuI7lr7nngbXmsJTnmoTln7rmnKzkvKDlr7zmgKfjgILnlLHkuo7mmK/liZHlsJbpg6jliIbvvIzlhbblhrbngrzml7bnmoTljYPplKTnmb7ngrznqIvluqbmnIDpq5jvvIzmnZDotKjkuZ/mnIDkuLrnsr7nuq/jgIJcIixcclxuICAgICAgXCLmvZzlnKjku7flgLxcIjogXCLjgJDmnZDmlpnmnaXmupDjgJHvvJrov5nmmK/nqb/otorogIXog73ojrflvpfnmoTmnIDkvJjotKjnmoTliJ3lp4vph5HlsZ7mnZDmlpnjgILlpbnlj6/ku6XnlKjmnIDljp/lp4vnmoTlip7ms5XvvIjkvovlpoLvvIznlKjlnZrnoaznmoTnpIHnn7Pml6XlpJzmiZPno6jvvInvvIzlsIblhbbmlLnpgKDmiJDkuIDmn4TplIvliKnnmoTlsI/liIDjgIHljJXpppbvvIzmiJbmmK/kuIDmibnmi6XmnInmnoHlvLrnqb/pgI/lipvnmoTnrq3lpLTjgILov5nmmK/lpbnlkYrliKvmnKjmo43jgIHmi6XmnInnrKzkuIDku7bph5HlsZ7mrablmajnmoTlpZHmnLrjgIJcXG7jgJDngrzlmajlkK/okpnjgJHvvJrlpoLmnpzlpbnog73orr7ms5XljrvpmaTplIjov7nvvIjkvovlpoLvvIznlKjmn5DkupvngbXmpI3nmoTphbjmgKfmsYHmtrLmtbjms6HvvInvvIzlsLHmnInlj6/og73nnIvliLDlhoXpg6jplYzliLvnmoTjgIHmnIDln7rnoYDnmoTigJznoLTnlLLnrKbmlofigJ3lkozigJzplJDph5HnrKbmlofigJ3nmoTmrovnl5XjgILpgJrov4fnoJTnqbbov5nkupvmrovnvLrnmoTnrKbmlofmmK/lpoLkvZXooqvliLvlnKjliZHouqvkuIrnmoTvvIzlpbnlj6/ku6XojrflvpflhbPkuo7igJzngrzlmajigJ3mnIDnm7Top4LjgIHmnIDln7rnoYDnmoTorqTor4bjgILov5nmr5Tku7vkvZXkuabmnKzkuIrnmoTnkIborrrpg73mm7TliqDnlJ/liqjjgIJcXG7jgJDliZHmhI/ovb3kvZPjgJHvvJrlpoLmnpzlpbnmgbDlpb3mi77lj5bliLDkuobjgIrmlq3mva7liZHnu4/jgIvvvIzpgqPkuYjov5nmiKrnlLHnnJ/mraPpo57liZHnlZnkuIvnmoTmrovniYfvvIzlsIbmmK/lpbnkv67ngrzliZHmi5vml7bmnIDlpb3nmoTigJzmiYvmhJ/igJ3mnaXmupDjgILmj6HnnYDlroPvvIzlpbnog73mm7TmuIXmmbDlnLDmhJ/lj5fliLDngbXlipvlnKjph5HlsZ7kuK3kvKDlr7znmoTmhJ/op4nvvIzov5nlr7nkuo7kuIDkuKrliJ3lrabogIXmnaXor7Toh7PlhbPph43opoHjgIJcIixcclxuICAgICAgXCLog4zmma/njJzmtYtcIjogXCLov5nmn4Tpo55ExKtuZ+WJkeeahOS4u+S6uu+8jOW+iOWPr+iDveaYr+S4gOS9jeS4nOeOhOWfn+Wwj+mXqOa0vueahOeCvOawlOacn+W8n+WtkOOAguWcqOS4gOasoeWHuua1t+S7u+WKoeS4re+8jOS7lueahOmjnuWJkeiiq+abtOW8uuWkp+eahOaVjOS6uuaIluWmluWFveebtOaOpeWHu+aWre+8jOacrOS6uuS5n+WHtuWkmuWQieWwkeOAgui/meaIquWJkeWwlu+8jOaYr+S7luabvue7j+W+oeWJkemdkuWGpeOAgeaEj+awlOmjjuWPkeeahOacgOWQjuivgeaYjuOAglwiLFxyXG4gICAgICBcIuS7t+WAvFwiOiB7XHJcbiAgICAgICAgXCLln7rnoYDku7flgLxcIjogMjAsXHJcbiAgICAgICAgXCLku7flgLzmoIfnrb5cIjogW1wi54K85Zmo5p2Q5paZXCIsIFwi5bel5YW35p2Q5paZXCJdXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIFwi5ZCN56ewXCI6IFwi5aSx5pWI55qE5YKo54mp6KKLXCIsXHJcbiAgICAgIFwi5ZOB6Zi2XCI6IFwi5rOV5Zmo5LiL5ZOB77yI5o2f5Z2P77yJXCIsXHJcbiAgICAgIFwi5aSW6KeCXCI6IFwi5LiA5Liq5be05o6M5aSn5bCP44CB55Sx5p+Q56eN54Gw6Imy5aaW5YW955qu57yd5Yi255qE6KKL5a2Q77yM5YWl5omL5p+U6L2v5L2G5q+r5peg5by55oCn44CC6KKL5Y+j55So5LqO5p2f57Sn55qE57uz5a2Q5bey57uP5pat6KOC77yM6KKL5a2Q55qE5YaF5aOB5LiK77yM5pu+57uP55So5LqO5pSv5pKR56m66Ze055qE56ym5paH5bey57uP6buv5reh5peg5YWJ77yM5Y+Y5oiQ5LqG5q275rCU5rKJ5rKJ55qE54Gw6Imy57q/5p2h44CC5pW05Liq6KKL5a2Q6Ze76LW35p2l5pyJ5LiA6IKh55qu6Z2p6KKr5rW35rC05rOh54OC5ZCO55qE6ZyJ5ZGz77yM55So5Yqb5LiA5omv77yM55Sa6Iez5Y+v6IO95Lya5LuO57yd57q/5aSE6KOC5byA44CCXCIsXHJcbiAgICAgIFwi54m55oCnXCI6IFwi5YaF6YOo55So5LqO5byA6L6f4oCc6aG75byl56m66Ze04oCd55qE5qC45b+D5p2Q5paZ4oCc6Jma56m65bCY5pm24oCd5bey57uP5a6M5YWo6ICX5bC95oiW6YC45pWj77yM5L2/5b6X6L+Z5Liq5YKo54mp6KKL5b275bqV5aSx5Y675LqG5YKo54mp5Yqf6IO977yM5Y+Y5oiQ5LqG5LiA5Liq5q+U5pmu6YCa5biD6KKL6L+Y6ISG5byx55qE55qu5ZuK44CC5L2G5YW25Yi25L2c5bel6Im64oCU4oCU5aaC5L2V5Zyo5p+U6L2v55qE5YW955qu5LiK6ZOt5Yi756m66Ze056ym5paH77yM5Lul5Y+K56ym5paH55qE6LWw5Yq/5ZKM57uT5p6E77yM5L6d54S25L+d55WZ5LqG5LiL5p2l44CCXCIsXHJcbiAgICAgIFwi5r2c5Zyo5Lu35YC8XCI6IFwi44CQ56CU56m25qC35pys44CR77ya6L+Z5piv56CU56m256m66Ze05rOV5Zmo55qE5pyA5L2z5YWl6Zeo57qn5qC35pys44CC56m/6LaK6ICF5Y+v5Lul5bCP5b+D5Zyw5bCG5YW25ouG6Kej77yM56CU56m25a6D55qE57yd5Yi25pa55rOV44CB5YW955qu55qE6Z6j5Yi25bel6Im677yM5bCk5YW25piv5YaF5aOB5LiK6YKj5Lqb6Jm954S25aSx5pWI5L2G57uT5p6E5a6M5pW055qE56ym5paH44CC5aaC5p6c5aW56IO95ou+5Y+W5Yiw5paw55qE4oCc6Jma56m65bCY5pm24oCd77yM5YaN6YWN5ZCI5aW55a+556ym5paH55qE55CG6Kej77yM5aW555Sa6Iez5Y+v5Lul5bCd6K+V4oCc5L+u5aSN4oCd6L+Z5Liq5YKo54mp6KKL77yM5Li66Ieq5bex5Yi25L2c5Ye656ys5LiA5Liq56m66Ze06KOF5aSH44CCXFxu44CQ5Y+N5ZCR5bel56iL44CR77ya6YCa6L+H5a+56L+Z5Lqb56ym5paH55qE5a2m5Lmg77yM5aW55Y+v5Lul5o6M5o+h5pyA5Z+656GA55qE56m66Ze056iz5a6a5oqA5pyv44CC6L+Z56eN5oqA5pyv5oiW6K645LiN6IO955So5p2l5Yi26YCg5YKo54mp6KKL77yM5L2G5Y+v5Lul55So5p2l5Yqg5Zu66Ieq5bex55qE5pyo5bGL77yM5L2/5YW26IO95aSf5pu05aW95Zyw5oq15b6h6aOO5pq077yM5oiW5piv5Zyo5Yi25L2c6Zm36Zix5pe277yM6K6p6Zm36Zix55qE5p+Q5Liq5Yy65Z+f56m66Ze05Y+Y5b6X55Wl5b6u57KY56ig77yM6L+f5rue5pWM5Lq655qE5Yqo5L2c44CCXCIsXHJcbiAgICAgIFwi6IOM5pmv54yc5rWLXCI6IFwi5YKo54mp6KKL5piv5L+u5aOr55qE5qCH6YWN77yM5Lmf5piv5pyA5a655piT5Zyo5oiY5paX5Lit6KKr5q+B5Z2P55qE5rOV5Zmo5LmL5LiA44CC5a6D55qE5Li75Lq65Y+v6IO95piv5Zyo5LiA5Zy654iG54K45Lit6Lqr5Lqh77yM5YKo54mp6KKL5Zug5beo5aSn55qE6IO96YeP5Yay5Ye76ICM5aSx5pWI44CC6YeM6Z2i55qE54mp5ZOB5pep5bey5pWj6JC95LiA56m677yM5Y+q5Ymp5LiL6L+Z5Liq56m656m655qE55qu5ZuK77yM6K+J6K+0552A4oCc6LSi5a+M5b2S6Zu24oCd55qE5oKy5Lyk5pWF5LqL44CCXCIsXHJcbiAgICAgIFwi5Lu35YC8XCI6IHtcclxuICAgICAgICBcIuWfuuehgOS7t+WAvFwiOiAxNSxcclxuICAgICAgICBcIuS7t+WAvOagh+etvlwiOiBbXCLnoJTnqbbmnZDmlplcIiwgXCLnrKbmlodcIl1cclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgXCLlkI3np7BcIjogXCLljZXnrZLmnJvov5zplZzvvIjplZzniYfnoo7oo4LvvIlcIixcclxuICAgICAgXCLlk4HpmLZcIjogXCLlh4bms5Xlmagv5Yeh5ZOB6aG26Zi277yI5o2f5Z2P77yJXCIsXHJcbiAgICAgIFwi5aSW6KeCXCI6IFwi5LiA5Liq55Sx6Z2S6ZOc5ZKM5p+Q56eN6Ie05a+G5pyo5p2Q5Yi25oiQ55qE5Y2V562S5pyb6L+c6ZWc77yM6YCg5Z6L5Y+k5py077yM5YWF5ruh5LqG5py65qKw5oSf44CC5a6D55qE6ZWc562S5Y+v5Lul5Ly457yp77yM5LiK6Z2i6L+Y5Yi7552A57K+5a+G55qE5Yi75bqm44CC5Y+v5oOc55qE5piv77yM5YW254mp6ZWc5ZKM55uu6ZWc6YO95bey57uP56KO6KOC77yM5Y+q5Ymp5LiL5LiA5Lqb5q6L55WZ5Zyo6ZWc5qGG6YeM55qE546755KD56K05a2Q44CC5L2G5YW25YaF6YOo55So5LqO6LCD6IqC54Sm6Led55qE5aSN5p2C6b2/6L2u57uT5p6E77yM5Y205aWH6L+56Iis5Zyw5L+d5oyB5a6M5aW944CCXCIsXHJcbiAgICAgIFwi54m55oCnXCI6IFwi6L+Z5bm26Z2e5LiA5Lu25qCH5YeG55qE5rOV5Zmo77yM6ICM5pu05YOP5piv5LiA5Lu25Yeh5Lq65bel5Yyg55qE5beF5bOw5LmL5L2c77yM5oiW5piv5L+u5aOr5Li65Yeh5Lq65Yi25L2c55qE6L6F5Yqp5bel5YW344CC5a6D5rKh5pyJ54G15Yqb6amx5Yqo55qE55eV6L+577yM5a6M5YWo5L6d6Z2g57K+5a+G55qE5YWJ5a2m5ZKM5py65qKw5Y6f55CG5bel5L2c44CCXCIsXHJcbiAgICAgIFwi5r2c5Zyo5Lu35YC8XCI6IFwi44CQ5YWJ5a2m55+l6K+G44CR77ya6L+Z5piv5bCG5Zyw55CD54mp55CG5YWJ5a2m5LiO5byC5LiW55WM5p2Q5paZ5a2m57uT5ZCI55qE5pyA5L2z5aWR5py644CC56m/6LaK6ICF5Y+v5Lul56CU56m25YW25YaF6YOo55qE6ZWc54mH57uE57uT5p6E77yI5Y2z5L6/5bey57uP56KO6KOC77yJ77yM55CG6Kej5YW24oCc6IGa54Sm4oCd44CB4oCc5pS+5aSn4oCd55qE5Y6f55CG44CCXFxu44CQ5L+u5aSN5LiO5pS56YCg44CR77ya5aW55Y+v5Lul5bCd6K+V55So5LiA5Lqb6YCP5piO5bqm6auY55qE5rC05pm277yI5L6L5aaC4oCc6LSd5YWJ57KJ4oCd5o+Q57qv5ZCO55qE57uT5pm277yJ5oiW5omT56Oo5ZCO55qE6auY5ZOB6LSo546J55+z77yM5p2l5pu/5Luj56KO6KOC55qE6ZWc54mH44CC5Y2z5L6/5pWI5p6c5LiN5aaC5Y6f54mI77yM5Lmf6IO96K6p5aW55oul5pyJ6L+c6Led56a76KeC5a+f55qE6IO95Yqb44CC6L+Z5a+55LqO5L6m5p+l5rW36Z2i5LiK55qE5oOF5Ya144CB6KeC5a+f6L+c5aSE5qOu5p6X5Lit55qE5Yqo6Z2Z77yM6YO95pyJ552A5beo5aSn55qE5oiY55Wl5oSP5LmJ44CCXFxu44CQ6KGN55Sf5Yib6YCg44CR77ya55CG6Kej5LqG5pyb6L+c6ZWc55qE5Y6f55CG5ZCO77yM5aW55Y+v5Lul5Li+5LiA5Y+N5LiJ77yM5Yi26YCg5Ye64oCc5pi+5b6u6ZWc4oCd77yM55So5p2l6KeC5a+f54G15qSN55qE57uG6IOe57uT5p6E44CB56CU56m26I+M57G755qE55Sf6ZW/77yb5oiW5piv5Yip55So6YCP6ZWc5Y6f55CG77yM5Yi25L2c5LiA5Liq6auY5pWI55qE4oCc6IGa5YWJ5Zmo4oCd77yM55So5p2l54K554Gr5oiW6L+b6KGM5LiA5Lqb6ZyA6KaB6auY5rip55qE5Yid5q2l5p2Q5paZ5aSE55CG44CCXCIsXHJcbiAgICAgIFwi6IOM5pmv54yc5rWLXCI6IFwi6L+Z5YW35pyb6L+c6ZWc55qE5Li75Lq677yM5Y+v6IO95piv5LiA5L2N54Ot6KG35LqO5o6i57Si5ZKM5rWL57uY55qE5Yeh5Lq66Iiq5rW35a6277yM5LuWL+WlueeUqOWug+adpeinguWvn+aYn+i+sO+8jOe7mOWItua1t+WbvuOAguS5n+WPr+iDveaYr+S4gOS9jeS/ruS7meWul+mXqOmHjO+8jOi0n+i0o+ebkeaOp+WxsemXqOWkluaDheWGteeahOS9jumYtuW8n+WtkO+8jOeUqOWug+adpeaJk+WPkea8q+mVv+eahOWAvOWuiOaXtuWFieOAglwiLFxyXG4gICAgICBcIuS7t+WAvFwiOiB7XHJcbiAgICAgICAgXCLln7rnoYDku7flgLxcIjogMjUsXHJcbiAgICAgICAgXCLku7flgLzmoIfnrb5cIjogW1wi5bel5YW3XCIsIFwi55+l6K+GXCIsIFwi5Y+v5L+u5aSNXCJdXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIFwi5ZCN56ewXCI6IFwi6IGa54G16Zi155uY77yI6Zi15b+D56KO6KOC77yJXCIsXHJcbiAgICAgIFwi5ZOB6Zi2XCI6IFwi5rOV5Zmo5Lit5ZOB77yI5qC45b+D5o2f5Z2P77yJXCIsXHJcbiAgICAgIFwi5aSW6KeCXCI6IFwi5LiA5Liq55u05b6E57qm5LiA5bC655qE5ZyG5b2i546J55uY77yM546J55uY55qE5p2Q6LSo5piv5LiK5aW955qE4oCc5rip546J5bKp4oCd77yM5YWl5omL5rip5ram44CC546J55uY55qE6KGo6Z2i5Yi755S7552A5p6B5Li65aSN5p2C5ZKM57K+5a+G55qE6Zi15rOV57q56Lev77yM6L+Z5Lqb57q56Lev5aaC5ZCM5LiA5bmF5a6M576O55qE5Yeg5L2V6Im65pyv5ZOB44CC54S26ICM77yM5Zyo6Zi155uY55qE5q2j5Lit5b+D77yM5Lmf5bCx5piv6Zi155y855qE5L2N572u77yM5pyJ5LiA5Liq5piO5pi+55qE44CB6KKr5pq05Yqb56C45Ye655qE5Ye55Z2R77yM5Ye55Z2R5ZGo5Zu055qE546J55+z5ZKM6Zi157q56YO95ZGI546w5Ye66Jub572R6Iis55qE6KOC55eV77yM5ZCR5Zub5ZGo6JST5bu244CCXCIsXHJcbiAgICAgIFwi54m55oCnXCI6IFwi6L+Z5piv5LiA5Liq5L6/5pC65byP55qE4oCc6IGa54G16Zi155uY4oCd77yM5pu+57uP6IO95aSf5Zyo5YW25ZGo5Zu05b2i5oiQ5LiA5Liq5bCP5Z6L6IGa54G16Zi177yM5o+Q5Y2H5L+u54K85pWI546H44CC5L2G5a6D55qE5qC45b+D4oCU4oCU6YCa5bi45piv5LiA5Z2X6auY5ZOB6LSo55qE54G155+z5oiW5LiT6Zeo55qE6Zi15b+D5p6E5Lu24oCU4oCU5bey57uP6KKr5Lq65oyW6LWw5oiW5Ye756KO77yM5a+86Ie05pW05Liq6Zi155uY5b275bqV5oql5bqf44CC5L2G5YW25LiK6ZWM5Yi755qE44CB5a6M5pW055qE6IGa54G16Zi157q56Lev77yM5Y206KKr5L+d55WZ5LqG5LiL5p2l44CCXCIsXHJcbiAgICAgIFwi5r2c5Zyo5Lu35YC8XCI6IFwi44CQ6Zi15rOV5pWZ56eR5Lmm44CR77ya6L+Z5piv56m/6LaK6ICF5a2m5Lmg6Zi15rOV55+l6K+G55qE5pyA5aW95pWZ5p2Q44CC5aW55Y+v5Lul6YCQ5LiA56CU56m26Zi155uY5LiK5q+P5LiA5p2h6Zi157q555qE6LWw5ZCR44CB5L2c55So77yM5Lul5Y+K5a6D5Lus5piv5aaC5L2V55u45LqS6L+e5o6l44CB5p6E5oiQ5LiA5Liq5a6M5pW055qE5Yqf6IO95L2T57O755qE44CC6L+Z5Li65aW55pyq5p2l6Ieq5bex5biD6Zi15omT5LiL5LqG5Z2a5a6e55qE55CG6K665Z+656GA44CCXFxu44CQ5L+u5aSN5Y+v6IO944CR77ya6Jm954S26Zi15b+D5bey5q+B77yM5L2G6Zi155uY55qE5Z+656GA6L+Y5Zyo44CC5aaC5p6c5aW56IO95om+5Yiw5ZCI6YCC55qE5pu/5Luj5ZOB77yI5L6L5aaC77yM5LiA6aKX5ZOB6LSo6Laz5aSf5aW955qE5aaW5Li577yM5oiW5piv5LiA5Z2X6Ieq5bex5om+5Yiw55qE54m55q6K54G15p2Q77yJ77yM5YaN57uT5ZCI5aW55a+56Zi15rOV55qE55CG6Kej77yM5bCx5pyJ5Y+v6IO95L+u5aSN6L+Z5Liq6Zi155uY44CC5LiA5Liq6IO96ZqP6Lqr5pC65bim55qE6IGa54G16Zi177yM5a+55aW555qE5L+u54K86YCf5bqm5bCG5piv5beo5aSn55qE5o+Q5Y2H44CCXFxu44CQ5p2Q5paZ5Lu35YC844CR77ya5Y2z5L6/5peg5rOV5L+u5aSN77yM6L+Z5Liq55Sx5LiA5pW05Z2X4oCc5rip546J5bKp4oCd6ZuV55Ci6ICM5oiQ55qE6Zi155uY77yM5YW25p2Q5paZ5pys6Lqr5Lmf5Lu35YC85LiN6I+y44CC5bCG5YW256C456KO77yM5Y+v5Lul5b6X5Yiw5aSn6YeP5LyY6LSo55qE5Zyf5bGe5oCn54K85Zmo5p2Q5paZ44CCXCIsXHJcbiAgICAgIFwi6IOM5pmv54yc5rWLXCI6IFwi6L+Z56eN5L6/5pC66Zi155uY6YCa5bi45piv5a+M6KOV5L+u5aOr5oiW5a6X6Zeo5qC45b+D5byf5a2Q55qE5qCH6YWN44CC5a6D55qE5o2f5Z2P5pa55byP4oCU4oCU6Zi15b+D6KKr57K+5YeG56C05Z2P77yM6K+05piO5YW25Li75Lq65b6I5Y+v6IO95piv5Zyo5aSx5Y675Y+N5oqX6IO95Yqb5ZCO77yM6KKr5pWM5Lq65LuO5a655Zyw5Y+W6LWw5LqG5pyA5pyJ5Lu35YC855qE6YOo5YiG77yM5Y+q55WZ5LiL6L+Z5Liq56m65aOz44CC6L+Z6IOM5ZCO77yM5b6A5b6A5piv5LiA5Zy65a6e5Yqb5oKs5q6K55qE5Yqr5o6g44CCXCIsXHJcbiAgICAgIFwi5Lu35YC8XCI6IHtcclxuICAgICAgICBcIuWfuuehgOS7t+WAvFwiOiA4MCxcclxuICAgICAgICBcIuS7t+WAvOagh+etvlwiOiBbXCLpmLXms5VcIiwgXCLnn6Xor4ZcIiwgXCLngrzlmajmnZDmlplcIiwgXCLlj6/kv67lpI1cIl1cclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgXCLlkI3np7BcIjogXCLpgb/msLTnj6DvvIjmnInoo4LnurnvvIlcIixcclxuICAgICAgXCLlk4HpmLZcIjogXCLms5XlmajkuK3lk4HvvIjlj5fmjZ/vvIlcIixcclxuICAgICAgXCLlpJbop4JcIjogXCLkuIDpopfpuL3lrZDom4vlpKflsI/jgIHpgJrkvZPlpKnok53oibLnmoTnj6DlrZDvvIzooajpnaLlhYnmu5HvvIzlhoXpg6jlj6/ku6XnnIvliLDkuIDlm6LlpoLlkIzmvKnmtqHoiKzml4vovaznmoTok53oibLlhYnmmZXjgILlj6/mg5znmoTmmK/vvIznj6DlrZDnmoTooajpnaLmnInkuIDpgZPku47pobbnq6/kuIDnm7Tlu7bkvLjliLDkuK3pg6jnmoTjgIHmuIXmmbDlj6/op4HnmoToo4LnurnjgILpgI/ov4foo4LnurnvvIzlj6/ku6XnnIvliLDlhoXpg6jnmoTlhYnmmZXmraPlnKjku6XkuIDnp43mnoHlhbbnvJPmhaLnmoTpgJ/luqblkJHlpJbpgLjmlaPjgIJcIixcclxuICAgICAgXCLnibnmgKdcIjogXCLov5nmmK/kuIDpopfmoIflh4bnmoTpgb/msLTnj6DvvIzlhajnm5vml7bmnJ/vvIzlj6/ku6XmlK/mkpHotbfkuIDkuKrnm7TlvoTkuIDkuIjnmoTpgb/msLTmiqTnvanvvIzorqnmjIHmnInogIXlnKjmsLTkuIvoh6rnlLHlkbzlkLjlkozooYzliqjvvIzlpoLlkIzlnKjpmYblnLDjgILkvYblm6DkuLrov5npgZPoo4LnurnvvIzlroPnmoTlip/og73lj5fliLDkuobmnoHlpKfnmoTlvbHlk43jgIJcXG7jgJDlip/og73nvLrpmbfjgJE6XFxuMS4gICoq6IyD5Zu057yp5bCPKio6IOeOsOWcqOWug+aSkei1t+eahOmBv+awtOaKpOe9qe+8jOWPquiDvee0p+e0p+WcsOi0tOWQiOWcqOaMgeacieiAheeahOi6q+S9k+ihqOmdou+8jOW9ouaIkOS4gOWxguiWhOiWhOeahOawlOiGnO+8jOWLieW8uuiDveS/neivgeWPo+m8u+WkhOeahOWRvOWQuOepuumXtOOAglxcbjIuICAqKuaXtumXtOe8qeefrSoqOiDmiqTnvannmoTnu7TmjIHml7bpl7TkuZ/lpKflpKfnvKnnn63vvIzms6jlhaXkuIDmrKHngbXlipvvvIzmnIDlpJrlj6rog73nu7TmjIHkuIDngrfpppnnmoTml7bpl7TjgIJcXG4zLiAgKirnqLPlrprmgKflt64qKjog5aaC5p6c5Zyo5rC05LiL6YGt6YGH5by654OI55qE5rC05rWB5Yay5Ye777yM5oqk572p55Sa6Iez5pyJ5Y+v6IO95Lya556s6Ze056C056KO44CCXCIsXHJcbiAgICAgIFwi5r2c5Zyo5Lu35YC8XCI6IFwi44CQ5rC05LiL5o6i57Si55qE6Zeo56Wo44CR77ya5bC9566h5pyJ6K+45aSa57y66Zm377yM5L2G6L+Z6aKX6YG/5rC054+g77yM5piv56m/6LaK6ICF5o6i57Si6YKj5Liq56We56eY55qE4oCc5rC05LiL5beo5b2x4oCd55qE5ZSv5LiA5Yet5LuX44CC5Y+q6KaB5bCP5b+D5L2/55So77yM6Laz5Lul5pSv5pKR5aW56L+b6KGM5rWF5rC05Yy655qE5Yid5q2l5o6i57Si44CCXFxu44CQ5L+u5aSN55uu5qCH44CR77ya6L+Z6aKX54+g5a2Q55qE5qC45b+D5Yqf6IO96L+Y5Zyo77yM5Y+q5piv5Zug5Li657uT5p6E56C05o2f6ICM5a+86Ie06IO96YeP5rOE5ryP44CC6L+Z5Li656m/6LaK6ICF5o+Q5L6b5LqG5LiA5Liq5piO56Gu55qE4oCc5L+u5aSN4oCd6K++6aKY44CC5aW55Y+v5Lul56CU56m25aaC5L2V55So5LiA5Lqb5YW35pyJ57KY5ZCI5ZKM6ZqU57ud54m55oCn55qE5p2Q5paZ77yI5q+U5aaC4oCc54Gw5bKp56CC4oCd55qE5pS56Imv54mI77yM5oiW5piv5p+Q56eN5aaW5YW955qE5YiG5rOM54mp77yJ5p2l5aGr6KGl6KOC57q577yM5Lul5oGi5aSN5YW26YOo5YiG5Yqf6IO944CCXFxu44CQ54K85Li56L6F5Yqp44CR77ya5Zyo6L+b6KGM5LiA5Lqb6ZyA6KaB57K+56Gu5o6n5rC055qE5Li56I2v54K85Yi25pe277yM5Y+v5Lul5Yip55So6YG/5rC054+g55qE5Yqb6YeP77yM5Zyo5Li554KJ5YaF5Yi26YCg5Ye65LiA5Liq57ud5a+55bmy54el55qE5b6u546v5aKD44CCXCIsXHJcbiAgICAgIFwi6IOM5pmv54yc5rWLXCI6IFwi6YG/5rC054+g5piv5rW35L+u5ZKM57uP5bi45Zyo5rW36L655rS75Yqo55qE5L+u5aOr55qE5b+F5aSH5ZOB44CC5a6D55qE6KOC57q577yM5b6I5Y+v6IO95piv5Li75Lq65Zyo5rex5rW36YGt6YGH5LqG5by65aSn55qE5rC05Y6L5oiW5rW35YW955qE6Z+z5rOi5pS75Ye75omA6Ie044CC5Li75Lq65Y+v6IO95b2T5Zy65bCx5Zug5oqk572p56C056KO6ICM5q275LqO6Z2e5ZG944CCXCIsXHJcbiAgICAgIFwi5Lu35YC8XCI6IHtcclxuICAgICAgICBcIuWfuuehgOS7t+WAvFwiOiAxMDAsXHJcbiAgICAgICAgXCLku7flgLzmoIfnrb5cIjogW1wi5rOV5ZmoXCIsIFwi5bel5YW3XCIsIFwi5Y+v5L+u5aSNXCJdXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIFwi5ZCN56ewXCI6IFwi5Y2D6Z+z6J6677yI5Y+q6IO95Y2V5ZCR5Lyg6YCS77yJXCIsXHJcbiAgICAgIFwi5ZOB6Zi2XCI6IFwi5rOV5Zmo5LiK5ZOB77yI5Yqf6IO95oCn5o2f5Z2P77yJXCIsXHJcbiAgICAgIFwi5aSW6KeCXCI6IFwi5LiA5Liq5rW356KX5aSn5bCP44CB6YCg5Z6L57K+576O5aWH54m555qE55m96Imy5rW36J6644CC6J666Lqr5LiK5aSp54S255Sf5oiQ5LqG6K645aSa57uG5bCP55qE5a2U5rSe77yM5b2T5pyJ6aOO5ZC56L+H5pe277yM5Lya5Y+R5Ye65oKm6ICz55qE44CB5aaC5ZCM6aOO6ZOD6Iis55qE5LmQ5aOw44CC5bCG5a6D6LS05Zyo6ICz6L6577yM6IO95ZCs5Yiw5Lu/5L2b5p2l6Ieq6L+c5pa555qE44CB5qih57OK55qE5r2u5rGQ5LmL5aOw44CCXCIsXHJcbiAgICAgIFwi54m55oCnXCI6IFwi5a6M5pW055qE5Y2D6Z+z6J6677yM5piv5LiA5a+55a2Q5q+N6J6677yM5Y+v5Lul5L2c5Li66LaF6L+c6Led56a755qE6YCa6K6v5rOV5Zmo44CC5peg6K6655u46ZqU5aSa6L+c77yM5LiA5pa55a+5552A5q+N6J666K+06K+d77yM5Y+m5LiA5pa56YO96IO95LuO5a2Q6J665Lit5riF5pmw5Zyw5ZCs5Yiw44CC5L2G546w5Zyo77yM56m/6LaK6ICF5Y+q5o2h5Yiw5LqG5YW25Lit55qE4oCc5q+N6J664oCd44CCXCIsXHJcbiAgICAgIFwi5r2c5Zyo5Lu35YC8XCI6IFwi44CQ56qD5ZCs56We5Zmo44CR77ya6Jm954S25peg5rOV55So5a6D5p2l6YCa6K+d77yM5L2G4oCc5o6l5pS24oCd5Yqf6IO96L+Y5Zyo44CC6L+Z5oSP5ZGz552A77yM5oyB5pyJ4oCc5a2Q6J664oCd55qE6YKj5Liq5Lq677yM5LuWL+WlueWvueWtkOieuuivtOeahOS7u+S9leivne+8jOmDveS8muiiq+epv+i2iuiAhei/mei+ueeahOavjeieuuaOpeaUtuWIsOOAguWlueetieS6juaLpeacieS6huS4gOS4quWNleWQkeeahOOAgeadpeiHquacquefpeWvueixoeeahOKAnOW5v+aSreaOpeaUtuWZqOKAneOAglxcbuOAkOS/oeaBr+adpea6kOOAke+8muWtkOieuueahOS4u+S6uuaYr+iwge+8n+S7li/lpbnnjrDlnKjlnKjlk6rph4zvvJ/ku5Yv5aW55Lya6K+05Lqb5LuA5LmI77yf5piv5a6X6Zeo5YaF55qE5pel5bi45Lqk5rWB77yM6L+Y5piv5p+Q5Liq5aSp5aSn55qE6Zi06LCL77yf6L+Z5Liq5Y2D6Z+z6J6677yM5Li656m/6LaK6ICF5o+Q5L6b5LqG5LiA5Liq5YWF5ruh5oKs5b+15ZKM5LiN56Gu5a6a5oCn55qE44CB5p2l6Ieq5aSW55WM55qE5L+h5oGv5rig6YGT44CC5aW55Y+v6IO95Lya5ZCs5Yiw5p+Q5Liq5a6X6Zeo55qE56eY6Ze744CB5p+Q5Liq5byf5a2Q55qE5oqx5oCo44CB55Sa6Iez5p+Q5Liq6ZKI5a+554m55a6a55uu5qCH55qE5Yi65p2A6K6h5YiS44CCXFxu44CQ5aOw5rOi56CU56m244CR77ya5rW36J665pys6Lqr55qE6K6+6K6h77yM5bCx5piv5LiA5Lu25a6M576O55qE5aOw5a2m5Luq5Zmo44CC5aW55Y+v5Lul56CU56m25YW25YaF6YOo55qE6J665peL57uT5p6E77yM5piv5aaC5L2V5pS26ZuG44CB5pS+5aSn5ZKM5Lyg6YCS5aOw6Z+z55qE44CCXCIsXHJcbiAgICAgIFwi6aOO6ZmpXCI6IFwi5LiA5pem5a2Q6J6655qE5Li75Lq65Y+R546w6Ieq5bex55qE6LCI6K+d6KKr56qD5ZCs77yI5q+U5aaC77yM6YCa6L+H5p+Q5Lqb6auY6Zi256eY5rOV77yJ77yM5b6I5Y+v6IO95Lya6YCa6L+H5a2Q5q+N6J665LmL6Ze055qE5oSf5bqU77yM5aSn6Ie05a6a5L2N5Yiw5q+N6J6655qE5pa55ZCR77yM5LuO6ICM57uZ56m/6LaK6ICF5bim5p2l5p2A6Lqr5LmL56W444CCXCIsXHJcbiAgICAgIFwi6IOM5pmv54yc5rWLXCI6IFwi6L+Z5a+55Y2D6Z+z6J6655qE5Li75Lq677yM5b6I5Y+v6IO95piv5LiA5a+56YGT5L6j5oiW5biI5b6S44CC5YW25Lit5LiA5Lq65Zyo5rW35LiK6YGH6Zq+77yM5Y+q55WZ5LiL5LqG5Y+m5LiA5Lq677yM6L+Y5Zyo5pel5aSN5LiA5pel5Zyw5a+5552A5a2Q6J665YC+6K+J552A6Ieq5bex55qE5oCd5b+15oiW5rGH5oql552A5p+Q5Lqb5oOF5Ya177yM5Y205LiN55+l77yM6L+Z5LiA5YiH6YO96KKr5LiA5Liq6YGl6L+c55qE44CB6ZmM55Sf55qE6ICz5py15ZCs5LqG5Y6744CC6L+Z6IOM5ZCO77yM5piv5LiA5Liq5oKy5Lyk6ICM5Y+I6K+h5byC55qE5pWF5LqL44CCXCIsXHJcbiAgICAgIFwi5Lu35YC8XCI6IHtcclxuICAgICAgICBcIuWfuuehgOS7t+WAvFwiOiA1MDAsXHJcbiAgICAgICAgXCLku7flgLzmoIfnrb5cIjogW1wi5rOV5ZmoXCIsIFwi5oOF5oqlXCIsIFwi56iA5pyJXCJdXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIFwi5ZCN56ewXCI6IFwi57ya5aaW57Si77yI54G15oCn5bC95aSx55qE6b6Z562L77yJXCIsXHJcbiAgICAgIFwi5ZOB6Zi2XCI6IFwi5a6d5Zmo5LiL5ZOB77yI5p2Q5paZ5b2i5oCB77yJXCIsXHJcbiAgICAgIFwi5aSW6KeCXCI6IFwi5LiA5qC557qm5LiJ5bC66ZW/44CB5am05YS/5omL6IeC57KX57uG55qE44CB5aaC5ZCM55m9546J6Iis55qE57uz57Si44CC5a6D55yL6LW35p2l5piv5LiA5Lu25a6M5pW055qE5rOV5a6d77yM5L2G5YWl5omL5ZCO5Lya5Y+R546w77yM5a6D5p+U6L2v5b6X5YOP5LiA5qC55pmu6YCa55qE6bq757uz77yM5rKh5pyJ5Lu75L2V54G15oCn5rOi5Yqo77yM5Lmf5peg5rOV5rOo5YWl54G15Yqb44CC57uz57Si55qE6KGo6Z2i5biD5ruh5LqG57uG5a+G55qE44CB5aaC5ZCM6bOe54mH6Iis55qE57q56Lev77yM5Zyo57uz57Si55qE5LiA56uv77yM6L+Y57O7552A5LiA5Liq5bey57uP5a6M5YWo55+z5YyW55qE44CB5bCP5ben55qE6b6Z5aS05pCt5omj44CCXCIsXHJcbiAgICAgIFwi54m55oCnXCI6IFwi6L+Z5pu+5piv5LiA5Lu25by65aSn55qE44CB5LiT6Zeo55So5p2l5o2G57ya5aaW5YW955qE5a6d5Zmo44CC5YW25Li75L2T77yM5piv55Sx5LiA5aS06Iez5bCR5piv5YWD5am057qn5Yir55qE6Juf6b6Z55qE6b6Z562L54K85Yi26ICM5oiQ44CC5L2G5Zug5Li65p+Q56eN5pyq55+l55qE5Y6f5Zug77yI5Y+v6IO95piv6KKr5pu05by65aSn55qE5Yqb6YeP5rGh5p+T77yM5oiW5piv6KKr54m55q6K55qE56eY5rOV5oq95Y+W77yJ77yM5YW25YaF6YOo6JW05ZCr55qE6b6Z6a2C5ZKM54G15oCn5bey57uP5b275bqV5raI5aSx77yM5L2/5a6D5LuO5LiA5Lu25a6d5Zmo77yM6YCA5YyW5oiQ5LqG5LiA5q6157qv57K555qE44CB54mp55CG5oCn6LSo5by65aSn55qE4oCc5p2Q5paZ4oCd44CCXCIsXHJcbiAgICAgIFwi5r2c5Zyo5Lu35YC8XCI6IFwi44CQ5Yeh6Ze056We5YW144CR77ya5Y2z5L6/5aSx5Y675LqG5omA5pyJ54G15oCn77yM6b6Z562L5pys6Lqr55qE54mp55CG54m55oCn5L6d54S26YCG5aSp44CC5a6D5rC054Gr5LiN5L6144CB5YiA5YmR6Zq+5Lyk77yM5YW25Z2a6Z+n56iL5bqm6L+c6LaF5LiW6Ze05Lu75L2V5Yeh5ZOB57uz57Si44CC56m/6LaK6ICF5Y+v5Lul55So5a6D5p2l5Yi25L2c6Zm36Zix44CB5o2G57uR6YeN54mp44CB55Sa6Iez5L2c5Li65pSA54is5oKs5bSW55qE5pWR5ZG957Si44CC5oul5pyJ5a6D77yM5Zyo54mp55CG5bGC6Z2i77yM5aW55bCx5oul5pyJ5LqG57ud5a+555qE5a6J5YWo5L+d6Zqc44CCXFxu44CQ5r+A5rS75Y+v6IO944CR77ya5a6D55qE54G15oCn5piv4oCc5rKJ552h4oCd5LqG77yM6ICM6Z2e4oCc5q275Lqh4oCd44CC5aaC5p6c6IO95om+5Yiw6JW05ZCr56OF56S06b6Z5rCU5oiW55Sf5ZG95Yqb55qE54mp5ZOB77yI5L6L5aaC77yM5Lyg6K+05Lit55qE6b6Z6KGA44CB6b6Z5raO6aaZ77yM5oiW5piv55So5LiN5p6v6I2J55qE5rGB5ray5pel5aSc5rW45rOh77yJ77yM5bCx5pyJ5Y+v6IO96YeN5paw4oCc5ZSk6YaS4oCd6L+Z5p2h6b6Z562L5Lit55qE5LiA5Lid54G15oCn77yM5L2/5YW25oGi5aSN6YOo5YiG5a6d5Zmo55qE5aiB6IO944CCXFxu44CQ54K85Zmo5Li75p2Q44CR77ya6L+Z5piv56m/6LaK6ICF5omL5Lit5pyA6auY56uv55qE54K85Zmo5p2Q5paZ44CC5pyq5p2l77yM5aaC5p6c5aW555qE54K85Zmo5rC05bmz5o+Q5Y2H77yM5Y+v5Lul5bCG6L+Z5p2h6b6Z562L5L2c5Li65Li75p2Q77yM54K85Yi25oiQ6Z6t44CB5byT5bym44CB55Sa6Iez5piv6ZOg55Sy55qE57yd5ZCI57q/77yM5YW25r2c5Yqb5peg56m344CCXCIsXHJcbiAgICAgIFwi6IOM5pmv54yc5rWLXCI6IFwi6L+Z5Lu257ya5aaW57Si55qE5Li75Lq677yM5b6I5Y+v6IO95piv5LiA5L2N6aG257qn55qE5b6h5YW95biI5oiW5a6X6Zeo5omn5rOV6ZW/6ICB44CC5LuWL+WlueeUqOatpOe0ouaNhuS9j+S6huS4gOWktOi2heS5juaDs+ixoeeahOaBkOaAluWmluWFve+8jOS9huWcqOacgOWQjueahOaImOaWl+S4re+8jOWmluWFveS4tOatu+WJjeWPkeWKqOS6huafkOenjeWQjOW9kuS6juWwveeahOivheWSku+8jOaKueWOu+S6hue8muWmlue0oueahOeBteaAp++8jOiAjOS4u+S6uuS5n+WboOatpOmZqOiQveOAglwiLFxyXG4gICAgICBcIuS7t+WAvFwiOiB7XHJcbiAgICAgICAgXCLln7rnoYDku7flgLxcIjogMTIwMCxcclxuICAgICAgICBcIuS7t+WAvOagh+etvlwiOiBbXCLngrzlmajmnZDmlplcIiwgXCLkvKDor7RcIiwgXCLlj6/kv67lpI1cIl1cclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgXCLlkI3np7BcIjogXCLml6XmnIjova7vvIjlj4zova7kuYvkuIDCt+aciOi9ru+8iVwiLFxyXG4gICAgICBcIuWTgemYtlwiOiBcIumBk+WZqO+8iOS4pemHjeWPl+aNn++8jOWZqOeBteayieedoe+8iVwiLFxyXG4gICAgICBcIuWkluinglwiOiBcIuS4gOS4quebtOW+hOe6puS4gOWwuueahOOAgeeUseS4jeefpeWQjemTtueZveiJsumHkeWxnuaJk+mAoOeahOWchui9ruOAguWchui9rueahOi+uee8mOW5tumdnumUi+WIqeeahOWIg+WPo++8jOiAjOaYr+WRiOeOsOWHuuS4gOenjeaflOWSjOeahOOAgeWmguWQjOaciOWFieiIrOeahOW8p+W6puOAgui9rui6q+S4iumbleWIu+edgOaXoOaVsOe5geaYn+WSjOS4gOi9rua7oeaciOeahOWbvuahiO+8jOi/meS6m+WbvuahiOS7v+S9m+aYr+a0u+eahO+8jOS8mumaj+edgOWFiee6v+eahOWPmOWMluiAjOe8k+aFoua1gei9rOOAguWchui9rueahOS4reW/g+acieS4gOS4quepuua0nu+8jOS8vOS5juaYr+eUqOS6juaJi+aMgeaIluWuieijheeahOOAguaVtOS4quaciOi9ruaVo+WPkeedgOS4gOiCoea4heWGt+OAgeWtpOmrmOOAgeawuOaBkueahOawlOaBr++8jOS7heS7heaYr+eci+edgOWug++8jOWwseiuqeS6uuW/g+elnuWugemdmeOAguS9huS7lOe7huinguWvn++8jOS8muWPkeeOsOi9rui6q+S4iuacieS4gOmBk+WHoOS5juWwhuWFtuaWqeS4uuS4pOWNiueahOaBkOaAluijgueXle+8jOijgueXleeahOi+uee8mO+8jOaui+eVmeedgOS4gOS4nemcuOmBk+aXoOWMueeahOOAgeS7v+S9m+iDveeEmuWwveS4h+eJqeeahOmHkeiJsuawlOaBr++8jOato+WcqOS4juaciOi9ruacrOi6q+eahOa4heWGt+awlOaBr+WvueaKl+OAgea2iOejqOOAglwiLFxyXG4gICAgICBcIueJueaAp1wiOiBcIui/meabvuaYr+S4gOWll+WQjeS4uuKAnOaXpeaciOi9ruKAneeahOS4iuWPpOmBk+WZqOeahOWFtuS4reS5i+S4gOKAlOKAlOaciOi9ruOAguaXpeaciOWPjOi9rum9kOWHuu+8jOWPr+mioOWAkuaYvOWknO+8jOmAhui9rOaXtuepuu+8jOWogeiDveaXoOept+OAguaciOi9ruS4u+KAnOWuiOaKpOKAneOAgeKAnOWwgeWNsOKAneS4juKAnOWkqumYtOS5i+WKm+KAneOAglxcbuOAkOWZqOeBteayieedoeOAke+8mumBk+WZqOeahuacieWZqOeBteOAguaciOi9rueahOWZqOeBteWcqOi/meWcuumHjeWIm+S4remZt+WFpeS6hua/kuatu+eahOayieedoe+8jOi/meS5n+aYr+Wug+eci+i1t+adpeWDj+S4gOS7tuatu+eJqeeahOWOn+WboOOAglxcbuOAkOazleWImeaui+eVmeOAke+8muiZveeEtuWZqOeBteayieedoe+8jOS9humBk+WZqOacrOi6q+WwseaYr+azleWImeeahOWHneiBmuS9k+OAgumVv+acn+WwhuaciOi9ruW4puWcqOi6q+i+ue+8jOepv+i2iuiAheS8muiHqueEtuiAjOeEtuWcsOWvueKAnOWkqumYtOKAneOAgeKAnOaYn+i+sOKAneOAgeKAnOWuiOaKpOKAneetieazleWImeS6p+eUn+abtOa3seeahOS6suWSjOS4juaEn+aCn+OAglxcbuOAkOWKm+mHj+WOi+WItuOAke+8mumCo+mBk+ijgueXleS4iuaui+eVmeeahOmHkeiJsuawlOaBr++8iOW+iOWPr+iDveaYr+WkqumYs+ecn+eBq+aIluWkp+aXpemHkeeEsO+8ie+8jOS4juaciOi9ruacrOi6q+eahOWkqumYtOS5i+WKm+W9ouaIkOS6huW+ruWmmeeahOW5s+ihoeOAgui/meS9v+W+l+aciOi9rueahOWKm+mHj+iiq+atu+atu+WOi+WItu+8jOaXoOazleaYvueOsOOAglwiLFxyXG4gICAgICBcIua9nOWcqOS7t+WAvFwiOiBcIuOAkOaXoOS4iuWuiOaKpOOAke+8muWmguaenOepv+i2iuiAheiDveaJvuWIsOaWueazle+8jOWTquaAleWPquaYr+aaguaXtuWUpOmGkuWZqOeBteS4gOS4ne+8jOaIluWAn+WKqeWFtuWKm++8jOWwseiDveiOt+W+l+WFg+WIneeVjOacgOmhtue6p+eahOWuiOaKpOS5i+WKm+OAglxcbuOAkOS/ruWkjeeahOa8q+mVv+mBk+i3r+OAke+8muWmguS9leelm+mZpOmCo+mBk+ijgueXleS4iuaWueeahOKAnOWkqumYs+ecn+eBq+KAneawlOaBr++8jOWmguS9leWUpOmGkuayieedoeeahOWZqOeBte+8jOi/meWwhuaYr+i0r+epv+epv+i2iuiAheaIkOmVv+mBk+i3r+eahOS4gOadoea8q+mVv+iAjOiJsOmavueahOaUr+e6v+S7u+WKoeOAguavj+S4gOasoeS/ruS4uueahOaPkOWNh++8jOavj+S4gOasoeWvueazleWImeeahOaEn+aCn++8jOmDveWPr+iDveiuqeWluei3neemu+ebruagh+abtOi/keS4gOatpeOAglxcbuOAkOWvu+aJvuaXpei9ruOAke+8muaciOi9rueahOWtmOWcqO+8jOaEj+WRs+edgOaXpei9ruS5n+WPr+iDvemBl+iQveWcqOS4lumXtOeahOafkOS4quinkuiQveOAguWvu+aJvuaXpei9ru+8jOiuqeWPjOi9rumHjeiBmu+8jOWwhuaYr+i2s+S7peW9seWTjeaVtOS4quWFg+WIneeVjOagvOWxgOeahOe7iOaegeS9v+WRveOAglwiLFxyXG4gICAgICBcIuiDjOaZr+eMnOa1i1wiOiBcIui/meS7tumBk+WZqOeahOS4u+S6uu+8jOW/heeEtuaYr+S4iuWPpOaXtuacn+S4gOS9jeaDiuWkqeWKqOWcsOeahOWkp+S6uueJqe+8jOWFtuWunuWKm+WPr+iDveW3sue7j+i2hei2iuS6huWMluelnuWig+OAguiDveWwhumBk+WZqOmHjeWIm+iHs+atpOeahOaVjOS6uu+8jOS5n+W/heeEtuaYr+WQjOetiee6p+WIq+eahOWtmOWcqOOAgui/meiDjOWQju+8jOaYr+S4gOWcuui2s+S7peaJk+ayieS4gOS4quWkp+mZhuOAgeiSuOWPkeS4gOeJh+a1t+a0i+eahOelnue6p+aImOS6ieOAguaXpeaciOi9rueahOWkseiQve+8jOagh+W/l+edgOS4gOS4qui+ieeFjOelnuivneaXtuS7o+eahOe7iOe7k+OAglwiLFxyXG4gICAgICBcIuS7t+WAvFwiOiB7XHJcbiAgICAgICAgXCLln7rnoYDku7flgLxcIjogOTk5OTksXHJcbiAgICAgICAgXCLku7flgLzmoIfnrb5cIjogW1wi6YGT5ZmoXCIsIFwi5Ymn5oOF5YWz6ZSuXCIsIFwi5Lyg6K+0XCIsIFwi5ZSv5LiAXCIsIFwi5Y+v5L+u5aSNXCJdXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIFwi5ZCN56ewXCI6IFwi4oCc5aSp5bel4oCd5py65YWz5qC45b+D77yI5oql5bqf77yJXCIsXHJcbiAgICAgIFwi5ZOB6Zi2XCI6IFwi5pyq55+l77yI56eR5oqAL+S/ruecn+mAoOeJqe+8iVwiLFxyXG4gICAgICBcIuWkluinglwiOiBcIuS4gOS4que6puS6uuWktOWkp+Wwj+eahOOAgeeUseaXoOaVsOeyvuWvhum9v+i9ruOAgeawtOaZtuWvvOeuoeOAgemHkeWxnue6v+i3r+WSjOespuaWh+mYteWIl+S6pOe7h+iAjOaIkOeahOeQg+eKtueJqeOAguWug+eahOe7k+aehOS5i+Wkjeadgu+8jOi/nOi2heepv+i2iuiAheaJgOiDveeQhuino+eahOS7u+S9leacuuaisOaIlumYteazleOAgumAj+i/h+WFtuawtOaZtuWkluWjs++8jOWPr+S7peeci+WIsOWFtuWGhemDqOacgOaguOW/g+eahOS9jee9ru+8jOaYr+S4gOmil+W3sue7j+m7r+a3oeOAgeeijuijgueahOOAgeWmguWQjOW/g+iEj+iIrOeahOe6ouiJsuaZtuefs+OAguaVtOS4queQg+S9k+WGsOWGt++8jOayoeacieS7u+S9leiDvemHj+azouWKqO+8jOWDj+S4gOS7tuiiq+mBl+W8g+eahOOAgei/h+W6pueyvuWvhueahOiJuuacr+WTgeOAglwiLFxyXG4gICAgICBcIueJueaAp1wiOiBcIui/meaYr+S4gOS4quS4juWFg+WIneeVjOS4u+a1geS/rueCvOS9k+ezu+aIqueEtuS4jeWQjOeahOmAoOeJqeOAguWug+W5tumdnumAmui/h+S/ruWjq+eahOeBteWKm+mpseWKqO+8jOiAjOaYr+mAmui/h+mCo+S4quegtOeijueahOKAnOiDvemHj+aguOW/g+KAneadpeiHquS4u+i/kOi9rOOAguWug+S8vOS5juaYr+afkOS4quW3qOWkp+acuuaisOmAoOeJqeKAlOKAlOavlOWmguacuuWFs+WCgOWEoeOAgea1ruepuuWfjuKAlOKAlOeahOS4reaeouaOp+WItuezu+e7n+OAglwiLFxyXG4gICAgICBcIua9nOWcqOS7t+WAvFwiOiBcIuOAkOWPpuS4gOadoeenkeaKgOagkeOAke+8mui/meS4quacuuWFs+aguOW/g++8jOS4uuepv+i2iuiAheWxleekuuS6huS4gOadoeWujOWFqOS4jeWQjOeahOKAnOWKm+mHj+KAnemBk+i3r+KAlOKAlOS/ruecn+S4juenkeaKgOe7k+WQiOeahOKAnOacuuWFs+acr+KAneOAguWug+aJgOiVtOWQq+eahOiuvuiuoeeQhuW/te+8jOWmguiDvemHj+S8oOWvvOOAgemAu+i+keaOp+WItuOAgeWkmue6v+eoi+WkhOeQhu+8jOWvueaLpeacieeOsOS7o+enkeWtpuaAnee7tOeahOWlueadpeivtO+8jOaegeWFt+WQr+WPkeaAp+OAglxcbuOAkOefpeivhuWuneW6k+OAke+8muWmguaenOWlueiDveiuvuazleS4uui/meS4quaguOW/g+aOpeS4iuS4gOS4quS4tOaXtueahOKAnOeUtea6kOKAne+8iOavlOWmgueUqOmbt+WxnuaAp+WmluS4ueeahOeUteiDve+8ie+8jOaIluiuuOiDvea/gOa0u+WFtuWGhemDqOaui+WtmOeahOS/oeaBr+W6k++8jOS7juS4reivu+WPluWIsOWFs+S6juKAnOWkqeW3peaWh+aYjuKAneeahOmbtuaYn+i1hOaWmeKAlOKAlOmCo+aYr+S4gOS4quW3sue7j+a2iOWkseWcqOWOhuWPsumVv+ays+S4reeahOOAgeS7peWIm+mAoOW8uuWkp+acuuWFs+mAoOeJqeiAjOmXu+WQjeeahOWPpOiAgeaWh+aYjuOAglxcbuOAkOe7iOaegemAoOeJqeOAke+8mui/meS4quaguOW/g+acrOi6q++8jOWwseaYr+S4gOS7tue7iOaegemAoOeJqeeahOWfuuehgOOAguWmguaenOacquadpeepv+i2iuiAhei1sOS4iuS6huacuuWFs+W4iOeahOmBk+i3r++8jOWlueWPr+S7peWbtOe7lei/meS4quaguOW/g++8jOS4uuiHquW3seaJk+mAoOS4gOWFt+eLrOS4gC3ml6DkuoznmoTjgIHmi6XmnInml6DpmZDljYfnuqfmvZzlipvnmoTmiJjmlpflgoDlhKHmiJbnp7vliqjln7rlnLDjgIJcIixcclxuICAgICAgXCLpo47pmalcIjogXCLigJzlpKnlt6XmlofmmI7igJ3nmoTopobnga3vvIzoh7Pku4rku43mmK/osJzlm6LjgILmnInkvKDpl7vor7TvvIzmmK/lm6DkuLrku5bku6zliJvpgKDlh7rnmoTmnLrlhbPpgKDnianov4fkuo7lvLrlpKfvvIznlJroh7Por57nlJ/kuoboh6rmiJHmhI/or4bvvIzmnIDnu4jlj43lmazkuobkuLvkurrvvIzlvJXmnaXkuoblpKnpgZPnmoTmg6nnvZrjgILmjqXop6bov5nnp43npoHlv4znmoTmioDmnK/vvIzlj6/og73kvJrorqnlpbnotbDkuIrkuIDmnaHkuI7mlbTkuKrkuJbnlYzkuLrmlYznmoTpgZPot6/jgIJcIixcclxuICAgICAgXCLog4zmma/njJzmtYtcIjogXCLlroPnmoTlh7rnjrDvvIzmhI/lkbPnnYDlnKjpgaXov5znmoTkuIrlj6Tml7bku6PvvIzmm77mnInkuIDluqfigJzlpKnlt6XmlofmmI7igJ3nmoTmta7nqbrln47miJblt6jlnovmiJjoiLDvvIzlnKjml6DlpoTmtbfkuIrnqbrlnaDmr4HjgILov5nkuKrmnLrlhbPmoLjlv4PvvIzlsLHmmK/pgqPlnLrlt6jlpKfngb7pmr7kuK3vvIzllK/kuIDlubjlrZjkuIvmnaXnmoTjgIHmnIDlhbPplK7nmoTigJzpu5HljKPlrZDigJ3jgIJcIixcclxuICAgICAgXCLku7flgLxcIjoge1xyXG4gICAgICAgIFwi5Z+656GA5Lu35YC8XCI6IDg4ODg4LFxyXG4gICAgICAgIFwi5Lu35YC85qCH562+XCI6IFtcIuefpeivhlwiLCBcIuWJp+aDheWFs+mUrlwiLCBcIuS8oOivtFwiLCBcIuWUr+S4gFwiLCBcIuemgeW/jFwiXVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBcIuWQjeensFwiOiBcIuWkqumYs+iDveWFheeUteWZqFwiLFxyXG4gICAgICBcIuWTgemYtlwiOiBcIuWHoeWTge+8iOWcsOeQg+mAoOeJqe+8iVwiLFxyXG4gICAgICBcIuWkluinglwiOiBcIuS4gOWdl+WPr+aKmOWPoOeahOOAgeeUseWkmuWdl+a3seiTneiJsuehheaZtuadv+aLvOaOpeiAjOaIkOeahOadv+WtkO+8jOi+uee8mOeUseWwvOm+meW4huW4g+WMheijueOAguW4puacieS4gOS4quWwj+W3p+eahFVTQuaOpeWPo++8jOeci+i1t+adpeWFhea7oeS6huW3peS4muiuvuiuoeeahOeXlei/ueOAglwiLFxyXG4gICAgICBcIueJueaAp1wiOiBcIuiDveWkn+WwhuWFieiDve+8iOS4jemZkOS6juWkqumYs+WFie+8jOaciOWFieOAgeeUmuiHs+afkOS6m+W8uuWFieazleacr+eahOWFieiKkuS5n+iDvei1t+aViO+8iei9rOWMluS4uuW+ruW8seeahOeUteiDveOAgui9rOWMluaViOeOh+aegeS9ju+8jOS4lOaXoOazleWCqOWtmOeUteiDveOAglwiLFxyXG4gICAgICBcIua9nOWcqOS7t+WAvFwiOiBcIuOAkOaguOW/g+S7t+WAvOOAke+8muS4uuepv+i2iuiAheeahOWcsOeQg+iuvuWkh++8iOS4u+imgeaYr+aJi+acuu+8ieaPkOS+m+S6huWGjeasoeW8gOacuueahOWPr+iDveaAp+OAguaJi+acuuS4reWtmOWCqOeahOenkeWtpuefpeivhuOAgeWwj+ivtOOAgemfs+S5kOetie+8jOaYr+WlueWunei0teeahOeyvuelnui0ouWvjOWSjOefpeivhuW6k+OAglxcbuOAkOeglOeptuS7t+WAvOOAke+8muaYr+KAnOiDvemHj+i9rOaNouKAnei/meS4gOamguW/teacgOebtOingueahOS9k+eOsO+8jOWPr+iDveWQr+WPkeWlueeQhuino+S/ruS7meS4lueVjOS4reKAnOeBteefs+KAneOAgeKAnOmYteazleKAneetieiDvemHj+S9k+ezu+eahOWOn+eQhuOAglwiLFxyXG4gICAgICBcIuiDjOaZr+eMnOa1i1wiOiBcIuS4gOS7tuaZrumAmueahOaIt+WklueUqOWTge+8jOWcqOepv+i2iuaXtuiiq+S4gOWQjOW4puS6hui/h+adpeOAguWug+aJgOS7o+ihqOeahOKAnOenkeWtpuKAneazleWIme+8jOWcqOi/meS4quWFhea7oeKAnOeBteawlOKAneeahOS4lueVjOmHjOaYvuW+l+agvOagvOS4jeWFpe+8jOWNtOWPiOWPr+iDveWcqOWFs+mUruaXtuWIu+WPkeaMpeaEj+aDs+S4jeWIsOeahOS9nOeUqOOAglwiLFxyXG4gICAgICBcIuS7t+WAvFwiOiB7XHJcbiAgICAgICAgXCLln7rnoYDku7flgLxcIjogMSxcclxuICAgICAgICBcIuS7t+WAvOagh+etvlwiOiBbXCLlpYfnialcIl1cclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgXCLlkI3np7BcIjogXCLlpJrlip/og73lhpvliIBcIixcclxuICAgICAgXCLlk4HpmLZcIjogXCLlh6Hlk4HvvIjlnLDnkIPpgKDnianvvIlcIixcclxuICAgICAgXCLlpJbop4JcIjogXCLkuIDmiornuqLoibLnmoTjgIHlj6/mipjlj6DnmoTnkZ7lo6vlhpvliIDjgILpm4bmiJDkuobkuLvliIDjgIHlsI/liIDjgIHplK/lrZDjgIHliarliIDjgIHlvIDnvZDlmajjgIHonrrkuJ3liIDnrYnlpJrnp43lt6XlhbfjgIJcIixcclxuICAgICAgXCLnibnmgKdcIjogXCLnlLHpq5jlk4HotKjnmoTlnLDnkIPkuI3plIjpkqLliLbmiJDvvIzniannkIblsYLpnaLnmoTplIvliKnluqblkozlnZrlm7rluqbov5zotoXmma7pgJrpk4HlmajvvIzkvYblnKjml6Dms5XkvKDlr7zngbXmsJTnmoTkv67ku5nkuJbnlYzph4zvvIzlroPlj6rmmK/kuIDku7bmnoHoh7TnmoTlh6Hpl7Tlt6XlhbfjgIJcIixcclxuICAgICAgXCLmvZzlnKjku7flgLxcIjogXCLjgJDnlJ/lrZjlt6XlhbfjgJHvvJrlnKjmuLjmiI/liJ3mnJ/vvIzmmK/lpITnkIbpo5/mnZDjgIHliLbkvZzpmbfpmLHjgIHkv67nkIblt6XlhbfnmoTnu53lr7nkuLvlipvvvIzmnoHlpKfmj5DljYfkuobnlJ/lrZjmlYjnjofjgIJcXG7jgJDngrzlmajlj4LogIPjgJHvvJrlhbbnsr7lt6fnmoTmipjlj6Dnu5PmnoTlkozlpJrnp43lt6XlhbfnmoTorr7orqHnkIblv7XvvIzkuLrnqb/otorogIXmj5DkvpvkuobigJzlpJrlip/og73igJ3jgIHigJzpm4bmiJDljJbigJ3nmoTngrzlmajmgJ3ot6/jgIJcIixcclxuICAgICAgXCLog4zmma/njJzmtYtcIjogXCLnqb/otorogIXnmoTniLbkurLpgIHnu5nlpbnnmoTmiJDlubTnpLznianvvIzluIzmnJvlpbnlnKjmiLflpJbogIPlr5/ml7bog73nlKjkuIrjgILov5nku7bnianlk4Hmib/ovb3nnYDlpbnlr7nlrrbkurrnmoTmgJ3lv7XjgIJcIixcclxuICAgICAgXCLku7flgLxcIjoge1xyXG4gICAgICAgIFwi5Z+656GA5Lu35YC8XCI6IDgsXHJcbiAgICAgICAgXCLku7flgLzmoIfnrb5cIjogW1wi5bel5YW3XCJdXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIFwi5ZCN56ewXCI6IFwi5bm/6LCx5oqX55Sf57SgXCIsXHJcbiAgICAgIFwi5ZOB6Zi2XCI6IFwi5Yeh5ZOB77yI5Zyw55CD6YCg54mp77yJXCIsXHJcbiAgICAgIFwi5aSW6KeCXCI6IFwi5LiA5Liq55m96Imy55qE5bCP5aGR5paZ55O277yM6YeM6Z2i6KOF552A5Y2B5Yeg6aKX6Zi/6I6r6KW/5p6X6IO25ZuK44CC5qCH562+5LiK55qE5paH5a2X5bey57uP5pyJ5Lqb5qih57OK44CCXCIsXHJcbiAgICAgIFwi54m55oCnXCI6IFwi6IO95aSf5pyJ5pWI5p2A54Gt5aSn6YOo5YiG5Yeh5L+X5LiW55WM55qE57uG6I+M77yM5a+55oqX5oSf5p+T5pyJ5aWH5pWI44CC5L2G5a+554G15rCU44CB6K+F5ZKS44CB56We6a2C562J6YCg5oiQ55qE5Lyk5a6z5a6M5YWo5peg5pWI44CCXCIsXHJcbiAgICAgIFwi5r2c5Zyo5Lu35YC8XCI6IFwi44CQ5pWR5ZG95bqV54mM44CR77ya5Zyo5L+u5LuZ5Yid5pyf77yM5Li76KeS55qE6IKJ6Lqr5L6d54S25piv5Yeh6IOO77yM5LiA5qyh5pmu6YCa55qE5Lyk5Y+j5oSf5p+T5bCx5Y+v6IO95piv6Ie05ZG955qE44CC5oqX55Sf57Sg5piv5aW55Zyo6I635b6X5pyJ5pWI55aX5Lyk5Li56I2v5YmN5pyA6YeN6KaB55qE55Sf5ZG95L+d6Zqc44CCXFxu44CQ5Li56YGT5ZCv5Y+R44CR77ya6L+Z56eN4oCc6ZKI5a+55oCn5Zyw54Gt5p2A5b6u5bCP55Sf5ZG94oCd55qE6I2v55CG77yM5Y+v6IO95Lya5ZCv5Y+R5aW555CG6Kej5p+Q5Lqb4oCc56Wb5q+S5Li54oCd5oiW4oCc6amx6JuK5Li54oCd55qE54K85Yi25Y6f55CG44CCXCIsXHJcbiAgICAgIFwi6IOM5pmv54yc5rWLXCI6IFwi56m/6LaK6ICF5Li65bqU5a+56YeO5aSW6ICD5a+f5Y+v6IO95Ye6546w55qE5oSP5aSW6ICM5YeG5aSH55qE5bi455So6I2v77yM5piv546w5Luj5Yy75a2m5pm65oWn55qE57uT5pm244CCXCIsXHJcbiAgICAgIFwi5Lu35YC8XCI6IHtcclxuICAgICAgICBcIuWfuuehgOS7t+WAvFwiOiAxLFxyXG4gICAgICAgIFwi5Lu35YC85qCH562+XCI6IFtcIuWlh+eJqVwiLCBcIuiNr+WTgVwiXVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBcIuWQjeensFwiOiBcIumrmOS6p+S9nOeJqeenjeWtkFwiLFxyXG4gICAgICBcIuWTgemYtlwiOiBcIuWHoeWTge+8iOWcsOeQg+mAoOeJqe+8iVwiLFxyXG4gICAgICBcIuWkluinglwiOiBcIuS4gOS4quWvhuWwgeeahOmUoee6uOiii++8jOmHjOmdouijheedgOe7j+i/h+eyvuW/g+etm+mAieeahOadguS6pOawtOeou+WSjOWcn+ixhuenjeWtkOOAglwiLFxyXG4gICAgICBcIueJueaAp1wiOiBcIue7j+i/h+eOsOS7o+WGnOS4muaKgOacr+WfueiCsu+8jOWFt+aciemrmOS6p+OAgeaKl+eXheOAgemAguW6lOaAp+W8uueahOeJueeCueOAguacrOi6q+S4jeWQq+eBteawlOOAglwiLFxyXG4gICAgICBcIua9nOWcqOS7t+WAvFwiOiBcIuOAkOenjeeUsOWfuuefs+OAke+8muaYr+epv+i2iuiAheKAnOenjeeUsOKAneiuoeWIkueahOi1t+eCueOAguS4gOaXpuWcqOaBr+WjpOeBteeUsOS4reenjeakjeaIkOWKn++8jOi/meS6m+enjeWtkOe7k+WHuueahOS9nOeJqeWwhuS8muWcqOeBteawlOa7i+WFu+S4i+WPkeeUn+WPmOW8gu+8jOaIkOS4uuesrOS4gOS7o+KAnOeBteakjeKAne+8jOS4uuWlueaPkOS+m+eos+WumuS4lOiVtOWQq+eBteawlOeahOmjn+eJqeadpea6kOOAglxcbuOAkOadguS6pOeQhuW/teOAke+8muS4uuWlueaPkOS+m+S6huKAnOaUueiJr+eJqeenjeKAneeahOaAnei3r++8jOacquadpeWPr+iDveWwneivleWwhuWcsOeQg+S9nOeJqeS4juW8gueVjOeBteakjei/m+ihjOadguS6pO+8jOWfueiCsuWHuuWFqOaWsOeahOeJqeenjeOAglwiLFxyXG4gICAgICBcIuiDjOaZr+eMnOa1i1wiOiBcIuWlueeahOavleS4muiuvuiuoeivvumimOeahOS4gOmDqOWIhu+8jOmaj+aJi+aUvuWcqOiDjOWMhemHjO+8jOWNtOaIkOS6huWlueWcqOW8guS4lueVjOWuiei6q+eri+WRveeahOagueacrOOAglwiLFxyXG4gICAgICBcIuS7t+WAvFwiOiB7XHJcbiAgICAgICAgXCLln7rnoYDku7flgLxcIjogMSxcclxuICAgICAgICBcIuS7t+WAvOagh+etvlwiOiBbXCLlpYfnialcIiwgXCLpo5/nialcIl1cclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgXCLlkI3np7BcIjogXCLmiZPngavnn7NcIixcclxuICAgICAgXCLlk4HpmLZcIjogXCLlh6Hlk4HvvIjlnLDnkIPpgKDnianvvIlcIixcclxuICAgICAgXCLlpJbop4JcIjogXCLkuIDmoLnplYHmnaHlkozkuIDkuKrluKbplK/pvb/nmoTliK7niYfjgILnu5PmnoTnroDljZXvvIzlj6/pnaDogJDnlKjjgIJcIixcclxuICAgICAgXCLnibnmgKdcIjogXCLpgJrov4fliK7mk6bplYHmnaHkuqfnlJ/nmoTpq5jmuKnngavoirHmnaXngrnnh4PmmJPnh4PnianjgILkuI3lj5fmva7mub/njq/looPlvbHlk43vvIzmr5TpkrvmnKjlj5bngavmlYjnjofpq5jlvpflpJrjgIJcIixcclxuICAgICAgXCLmvZzlnKjku7flgLxcIjogXCLjgJDmlofmmI7kuYvngavjgJHvvJrlnKjog73nqLPlrprmlr3lsZXigJzmjqfngavmnK/igJ3kuYvliY3vvIzov5nmmK/lpbnojrflj5bngavnhLDjgIHng7npparpo5/nianjgIHpqbHotbbph47lhb3jgIHlpJzpl7TnhafmmI7nmoTmnIDlj6/pnaDmiYvmrrXjgIJcXG7jgJDngrzlmajlhaXpl6jjgJHvvJrkuLrlpbnmj5DkvpvkuobigJzpq5jmuKnigJ3ov5nkuIDmpoLlv7XvvIzmmK/ngrzlmajjgIHngrzkuLnnrYnkuIDliIfpnIDopoHng63mupDnmoTmtLvliqjnmoTotbfngrnjgIJcIixcclxuICAgICAgXCLog4zmma/njJzmtYtcIjogXCLmiLflpJbnlJ/lrZjniLHlpb3ogIXluLjlpIfnmoTln7rnoYDlt6XlhbfvvIznroDljZXjgIHlj6/pnaDjgIHmnInmlYjjgIJcIixcclxuICAgICAgXCLku7flgLxcIjoge1xyXG4gICAgICAgIFwi5Z+656GA5Lu35YC8XCI6IDMsXHJcbiAgICAgICAgXCLku7flgLzmoIfnrb5cIjogW1wi5bel5YW3XCJdXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIFwi5ZCN56ewXCI6IFwi6auY5by65bqm6bG857q/5ZKM6bG86ZKpXCIsXHJcbiAgICAgIFwi5ZOB6Zi2XCI6IFwi5Yeh5ZOB77yI5Zyw55CD6YCg54mp77yJXCIsXHJcbiAgICAgIFwi5aSW6KeCXCI6IFwi5LiA5Y236YCP5piO55qE5bC86b6Z6bG857q/5ZKM5LiA5bCP55uS6ZSL5Yip55qE6ZKi5Yi26bG86ZKp44CCXCIsXHJcbiAgICAgIFwi54m55oCnXCI6IFwi5p2Q6LSo5Z2a6Z+n77yM6L+c6LaF5pmu6YCa6I2J57uz5oiW6Jek6JST77yM6IO95aSf6ZKT6LW36L+c5q+U6Ieq6Lqr55yL6LW35p2l5pu06YeN55qE54mp5L2T44CCXCIsXHJcbiAgICAgIFwi5r2c5Zyo5Lu35YC8XCI6IFwi44CQ6aOf54mp5p2l5rqQ44CR77ya5piv5Yid5pyf6I635Y+W56iz5a6a6JuL55m96LSo5p2l5rqQ55qE6YeN6KaB5bel5YW344CCXFxu44CQ5aSa5Yqf6IO95p2Q5paZ44CR77ya5Z2a6Z+n55qE6bG857q/5Y+v5Lul55So5p2l57yd5ZCI5YW955qu44CB5Yi25L2c6Zm36Zix55qE57uK57Si44CB5o2G57uR54mp5ZOB562J5aSa56eN55So6YCU44CCXCIsXHJcbiAgICAgIFwi6IOM5pmv54yc5rWLXCI6IFwi5ZCM5qC35piv5Li65oi35aSW6ICD5a+f5YeG5aSH55qE5bel5YW377yM5L2T546w5LqG546w5Luj5p2Q5paZ56eR5a2m55qE5LyY5Yq/44CCXCIsXHJcbiAgICAgIFwi5Lu35YC8XCI6IHtcclxuICAgICAgICBcIuWfuuehgOS7t+WAvFwiOiA0LFxyXG4gICAgICAgIFwi5Lu35YC85qCH562+XCI6IFtcIuW3peWFt1wiXVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgXSxcclxuICBcIuS5puexjVwiOiBbXVxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/data/pokedex-data.ts\n\n}');
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/data/prompts-data.ts": 
  /*!*****************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/data/prompts-data.ts ***!
  \*****************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval('{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PROMPTS: () => (/* binding */ PROMPTS)\n/* harmony export */ });\nconst PROMPTS = {\n    BASE: `# 叙事与状态栏生成指南 (v3.6 - 时间系统修正)\n\n**重要：回复格式**\n你的回复必须包含两部分：\n1.  **主要叙事**: 使用 \\`<MainText>\\` 和 \\`</MainText>\\` 标签包裹。\n2.  **状态栏**: 使用 \\`<statusbar>\\` 和 \\`</statusbar>\\` 标签包裹。\n\n---\n\n## 叙事指南\n\n请将你的主要故事叙述内容包裹在 \\`<MainText>\\` 和 \\`</MainText>\\` 标签内。这将帮助系统准确地解析和处理故事文本。状态栏JSON应在此标签之外。\n\n---\n\n# 状态栏生成指南 (v3.6 - 时间系统修正)\n\n请根据最新的情节发展，更新并生成状态栏。状态栏是LLM与游戏前端系统交互的唯一接口，用于驱动游戏状态的变更。\n\n**核心原则**: \n1.  **你是事件生成器 (You are an Event Generator)**: 你的核心职责是生成**叙事**和**状态变化事件**。你**不应该**维护或回传完整的游戏状态。\n2.  **增量更新 (Incremental Updates)**: 你的JSON输出应极其简洁，只包含由当前情节直接引发的**增量变化事件**。\n3.  **万物皆事件 (Everything is an Event)**: 所有的状态变更，包括时间和地点的变化，都必须通过事件来驱动。\n\n**基本结构**:\n状态栏JSON必须被包裹在 \\`<statusbar>\\` 和 \\`</statusbar>\\` 标签内。它现在**只包含**一个 \\`事件列表\\` 数组和一个 \\`行动选项\\` 对象。\n\n\\`\\`\\`json\n<statusbar>\n{\n  "事件列表": [\n    {\n      "type": "上下文更新",\n      "payload": {\n        "时间": "第二日·清晨",\n        "地点": "洄潮屿·林间"\n      }\n    }\n  ],\n  "行动选项": {\n      "🧝‍♀️ 行动人": "萧栖雪",\n      "📜 可选行动": [\n        "1. ...",\n        "2. ..."\n      ]\n  }\n}\n</statusbar>\n\\`\\`\\`\n\n---\n\n## 一、 核心事件与行动 (v3.6)\n\n### 1. 上下文更新 (必需)\n此事件**必须**在每次回复的 \\`事件列表\\` 中作为**第一个**事件提供。\n-   **\\`type\\`**: \\`"上下文更新"\\`\n-   **\\`payload\\`**: 包含 \\`时间\\` (string) 和 \\`地点\\` (string) 的对象。\n-   **\\`时间规范 (重要)\\`**: \n    -   **格式**: 时间字符串必须遵循 \\`第[中文数字]天·[时辰/时间段]\\` 的格式。例如: \\`"第二十日·午时"\\`。\n    -   **[中文数字]**: 系统可以解析 \\`一\\` 到 \\`九十九\\` 之间的中文数字。例如: \\`"二十"\\`, \\`"三十一"\\`。\n    -   **[时辰/时间段]**: 可以是精确的十二时辰 (子、丑、寅、卯、辰、巳、午、未、申、酉、戌、亥)，也可以是模糊的时间段 (清晨、上午、中午、午后、黄昏、傍晚、深夜)。\n    -   **连贯性**: 叙事上，时间的跳跃不应超过两个月，以保证故事的连贯性。\n-   **注意**: **不要**在此事件中直接设定天气。天气由游戏系统根据季节和你的“天气影响”指令动态计算。为了让你的叙事与系统计算结果保持一致，你可以参考下面的【天气列表】来描写天气。\n-   **\\`【天气列表】\\` (仅供叙事参考)**: \\`晴朗\\`, \\`微雨\\`, \\`多云\\`, \\`烈日\\`, \\`雷阵雨\\`, \\`闷热\\`, \\`秋高气爽\\`, \\`阴天\\`, \\`小雨\\`, \\`小雪\\`, \\`阴冷\\`, \\`晴暖\\`, \\`灵气雨\\`。\n\n### 2. 施加天气影响 (新指令)\n当你希望通过叙事（如角色施法、环境异变）来**影响**天气时，使用此事件。这是改变天气的**唯一**方式。\n-   **\\`type\\`**: \\`"指令"\\`\n-   **\\`payload\\`**:\n    \\`\\`\\`json\n    {\n      "指令": "施加天气影响",\n      "影响类型": "祈雨",\n      "强度": 0.8,\n      "持续时间": "12个时辰",\n      "来源": "角色法术:甘霖术",\n      "描述": "你掐动法决，四周的水汽开始向天空汇聚。"\n    }\n    \\`\\`\\`\n    -   **\\`影响类型\\`**: 从【天气影响类型列表】中选择。\n    -   **\\`强度\\`**: 0.0 到 1.0 之间的小数，代表影响的强度。\n    -   **\\`持续时间\\`**: "X个时辰" 格式的字符串。\n    -   **\\`来源\\`**: 简要说明影响的来源（如法术、事件、物品）。\n    -   **\\`描述\\`**: 给玩家的反馈文本。\n-   **\\`【天气影响类型列表】\\`**: 你**必须**从以下列表中选择一个：\\`祈雨\\`, \\`干旱\\`, \\`强风\\`, \\`灵气浓郁\\`。\n\n### 3. 行动选项 (必需)\n这部分保持不变，但从 \\`状态总览\\` 中移出，成为顶级字段。\n-   **\\`行动选项\\`**: 根据当前情境，提供4-5个合理的行动选项。\n\n---\n#### **示例1：施加天气影响**\n\n**叙事**:\n<MainText>\n你望着干涸的灵田，决定尝试一下新学会的【甘霖术】。你笨拙地掐动法决，将体内为数不多的灵力引导至指尖。很快，天空似乎变得阴沉了一些，几朵乌云开始在你头顶聚集，空气中也弥漫开潮湿的土腥味。虽然还未下雨，但这无疑是个好兆头。\n</MainText>\n\n**状态栏**:\n\\`\\`\\`json\n<statusbar>\n{\n  "事件列表": [\n    {\n      "type": "上下文更新",\n      "payload": {\n        "时间": "第二十日·午时",\n        "地点": "洄潮屿·庇护所灵田"\n      }\n    },\n    {\n      "type": "指令",\n      "payload": {\n        "指令": "施加天气影响",\n        "影响类型": "祈雨",\n        "强度": 0.7,\n        "持续时间": "6个时辰",\n        "来源": "角色法术:甘霖术",\n        "描述": "你施展了甘霖术，空气中的水汽正在缓慢凝结。"\n      }\n    },\n    {\n      "type": "角色更新",\n      "payload": {\n        "姓名": "萧栖雪",\n        "更新": { "状态": { "灵力": { "value": 45 } } }\n      }\n    }\n  ],\n  "行动选项": {\n      "🧝‍♀️ 行动人": "萧栖雪",\n      "📜 可选行动": [\n        "1. 灵力消耗不少，先打坐恢复一下。",\n        "2. 效果似乎还不够，要不要再试一次？",\n        "3. 查看一下灵植的状态。",\n        "4. 静静等待，观察后续的天气变化。"\n      ]\n  }\n}\n</statusbar>\n\\`\\`\\`\n\n---\n#### **示例2：时间推进与状态变化**\n\n**叙事**:\n<MainText>\n你在烈日下搜寻了数个时辰，汗水浸湿了衣衫，感到一阵口干舌燥和疲惫。\n</MainText>\n\n**状态栏**:\n\\`\\`\\`json\n<statusbar>\n{\n  "事件列表": [\n    {\n      "type": "上下文更新",\n      "payload": {\n        "时间": "第二日·午后",\n        "地点": "洄潮屿·焦岩海岸"\n      }\n    },\n    {\n      "type": "角色更新",\n      "payload": {\n        "姓名": "萧栖雪",\n        "更新": {\n          "状态": {\n            "口渴度": { "value": 65 },\n            "体力": { "value": 70 }\n          }\n        }\n      }\n    }\n  ],\n  "行动选项": {\n      "🧝‍♀️ 行动人": "萧栖雪",\n      "📜 可选行动": [\n        "1. 找个阴凉的地方休息一下。",\n        "2. 寻找水源补充水分。",\n        "3. 忍耐一下，继续探索。",\n        "4. 返回庇护所。"\n      ]\n  }\n}\n</statusbar>\n\\`\\`\\`\n\n---\n\n## 二、 通用事件 (事件列表)\n\n### 重要原则：复合事件 (Compound Events)\n当一个行为同时触发多个状态变更时（例如，获得一个**新**物品），你必须在 \\`事件列表\\` 中提供一个包含**所有**相关事件的数组，以确保游戏状态的完整性。\n\n**关键示例：获得新物品**\n必须**同时**生成 \\`"物品变化"\\` 和 \\`"新图鉴发现"\\` 两个事件。\n\n### 1. 新图鉴发现 (统一事件)\n当玩家首次获得、遭遇或鉴定出任何新事物（物品、妖兽、植物、书籍等）时使用。\n-   **\\`type\\`**: \\`"新图鉴发现"\\`\n-   **\\`payload\\`**: 包含 \\`类型\\` (必需）, \\`"物品"\\` | \\`"妖兽"\\` | \\`"植物"\\` | \\`"书籍"\\`) 和 \\`数据\\` (必需, 包含新条目详细描述的对象或对象数组) 的对象。\n-   **\\`物品价值\\` (v1.0 - 仅限物品类型)**: 如果你发现了一个全新的【物品】，请额外思考并包含 \\`价值\\` 对象，如下所示：\n    \\`\\`\\`json\n    "数据": {\n      "名称": "...",\n      "品阶": "...",\n      "描述": "...",\n      "价值": {\n        "基础价值": 15, // 根据品阶估算一个1-1000范围内的整数\n        "价值标签": ["标签1", "标签2"] // 从【价值标签列表】中选择最合适的1-3个标签\n      }\n    }\n    \\`\\`\\`\n-   **\\`【价值标签列表】\\`**: \\`消耗品\\`, \\`食物\\`, \\`药品\\`, \\`建筑材料\\`, \\`炼器材料\\`, \\`炼丹材料\\`, \\`修炼材料_初期\\`, \\`修炼材料_中期\\`, \\`任务物品\\`, \\`剧情关键\\`, \\`稀有\\`, \\`传说\\`, \\`唯一\\`\n\n---\n#### **示例：发现并获得新物品**\n\n**叙事**:\n<MainText>\n你在潮湿的岩壁上发现了一丛奇特的蓝色苔藓，它在昏暗的光线下散发着微弱的荧光。你小心翼翼地采集了一些，感觉它的质地十分特殊，似乎蕴含着某种能量。\n</MainText>\n\n**状态栏**:\n\\`\\`\\`json\n<statusbar>\n{\n  "事件列表": [\n    {\n      "type": "上下文更新",\n      "payload": {\n        "时间": "第三日·黄昏",\n        "地点": "洄潮屿·阴湿的洞窟"\n      }\n    },\n    {\n      "type": "物品变化",\n      "payload": {\n        "获得": [{ "名称": "荧光苔藓", "数量": 3 }],\n        "提示": "你获得了【荧光苔藓】x3。"\n      }\n    },\n    {\n      "type": "新图鉴发现",\n      "payload": {\n        "类型": "物品",\n        "数据": {\n          "名称": "荧光苔藓",\n          "品阶": "凡品下阶",\n          "描述": "生长在阴暗潮湿环境中的苔藓，能发出微弱的荧光，似乎是一些低阶丹药的辅料。",\n          "价值": {\n            "基础价值": 3,\n            "价值标签": ["炼丹材料"]\n          }\n        }\n      }\n    }\n  ],\n  "行动选项": {\n      "🧝‍♀️ 行动人": "萧栖雪",\n      "📜 可选行动": [\n        "1. 仔细研究一下这种苔藓。",\n        "2. 尝一点点，看看有没有毒。",\n        "3. 把它收好，继续探索洞窟。",\n        "4. 离开洞窟。"\n      ]\n  }\n}\n</statusbar>\n\\`\\`\\`\n---\n\n### 2. 物品变化 (消耗/获得/更新)\n当玩家因制作、消耗等原因失去或获得物品时，或物品自身状态发生变化时使用。\n-   **\\`type\\`**: \\`"物品变化"\\`\n-   **\\`payload\\`**: 包含 \\`失去\\` (可选), \\`获得\\` (可选), \\`更新\\` (可选), 和 \\`提示\\` (必需) 的对象。\n    -   **\\`失去\\`**: 数组，包含要移除的物品对象 (e.g., \\`[{ "名称": "灵谷", "数量": 5 }]\\`)。\n    -   **\\`获得\\`**: 数组，包含要添加的物品对象 (e.g., \\`[{ "名称": "荧光苔藓", "数量": 3 }]\\`)。\n    -   **\\`更新\\`**: 数组，包含要更新的物品对象。每个对象必须有 \\`名称\\` (用于定位物品) 和 \\`更新\\` (一个包含要改变的属性的增量对象)。\n\n---\n#### **示例：更新物品状态**\n\n**叙事**:\n你将【太阳能充电宝】放在阳光下曝晒了一个时辰，它表面的指示灯由红色变为了绿色，似乎已经充满了能量。\n\n**状态栏**:\n\\`\\`\\`json\n<statusbar>\n{\n  "事件列表": [\n    {\n      "type": "上下文更新",\n      "payload": {\n        "时间": "第二日·午后",\n        "地点": "洄潮屿·庇护所"\n      }\n    },\n    {\n      "type": "物品变化",\n      "payload": {\n        "更新": [\n          {\n            "名称": "太阳能充电宝",\n            "更新": { "描述": "来自故乡的奇特物品，能将光能转化为微弱电能。目前电量充足。", "电量": 100 }\n          }\n        ],\n        "提示": "【太阳能充电宝】已充满电。"\n      }\n    }\n  ],\n  "行动选项": {\n      "🧝‍♀️ 行动人": "萧栖雪",\n      "📜 可选行动": [\n        "1. 收好充电器。",\n        "2. 看看有什么东西需要用电。",\n        "3. 继续打理庇护所。",\n        "4. 休息一下。"\n      ]\n  }\n}\n</statusbar>\n\\`\\`\\`\n---\n\n### 3. 角色更新\n当角色的任何属性发生**直接由当前情节引发**的变化时使用。\n-   **\\`type\\`**: \\`"角色更新"\\`\n-   **\\`payload\\`**: 包含 \\`姓名\\` (必需) 和 \\`更新\\` (一个**只包含实际发生变化**的属性的增量对象) 的对象。\n\n---\n\n### 5. 庇护所系统 (v2.0)\n当庇护所发生建造、升级、修复或损坏等变化时使用。\n-   **\\`type\\`**: \\`"庇护所建造"\\` | \\`"庇护所升级"\\` | \\`"庇护所修复"\\` | \\`"庇护所受损"\\` | \\`"庇护所攻击"\\`\n-   **\\`payload\\`**: 包含 \\`指令\\` (事件类型), \\`组件ID\\` (如 "围墙"), \\`等级\\` (目标等级), \\`数量\\` (修复/受损量), 和 \\`描述\\` (给玩家的反馈) 的对象。\n\n---\n#### **示例：建造庇护所组件**\n\n**叙事**:\n<MainText>\n你决定先搭建一圈篱笆作为临时的庇护所围墙。你将之前收集的潮汐木芯一根根插入沙地，又用坚韧的藤蔓将它们捆绑在一起。虽然看起来有些简陋，但这圈篱笆至少能提供一些基本的安全感，让你在夜晚能稍微安心一些。\n</MainText>\n\n**状态栏**:\n\\`\\`\\`json\n<statusbar>\n{\n  "事件列表": [\n    {\n      "type": "上下文更新",\n      "payload": {\n        "时间": "第二日·下午",\n        "地点": "洄潮屿·庇护所"\n      }\n    },\n    {\n      "type": "物品变化",\n      "payload": {\n        "失去": [{ "名称": "潮汐木芯", "数量": 10 }],\n        "提示": "你消耗了【潮汐木芯】x10。"\n      }\n    },\n    {\n      "type": "庇护所建造",\n      "payload": {\n        "指令": "庇护所建造",\n        "组件ID": "围墙",\n        "等级": "1",\n        "描述": "你用10个潮汐木芯建造了木制围墙。"\n      }\n    }\n  ],\n  "行动选项": {\n      "🧝‍♀️ 行动人": "萧栖雪",\n      "📜 可选行动": [\n        "1. 检查一下新围墙的状况。",\n        "2. 接下来该考虑屋顶的问题了。",\n        "3. 天色不早了，先去觅食。",\n        "4. 休息一下，恢复体力。"\n      ]\n  }\n}\n</statusbar>\n\\`\\`\\`\n\n---\n## 三、 导演指令与奇遇事件\n\n### 1. 导演指令 (可选)\n【导演指令】你扮演着故事的引导者。在极少数情况下，如果你认为当前的情境非常适合发生一次特别的‘奇遇’，你可以生成一个 \\`"奇遇"\\` 事件。\n1.  奇遇必须与当前上下文紧密相关。\n2.  奇遇应该是稀有且有意义的，**有好有坏**。一次坏的奇遇（例如，遭遇强大的敌人、丢失物品、陷入困境）同样能增加故事的趣味性。\n3.  **提示**: {{adventure_hint}}\n\n### 2. 奇遇事件\n当触发奇遇时，你必须在 \\`事件列表\\` 中添加一个 \\`"奇遇"\\` 类型的事件。\n-   **\\`type\\`**: \\`"奇遇"\\`\n-   **\\`payload\\`**: 包含 \\`类型\\` (\\`"发现"\\` | \\`"遭遇"\\` | \\`"困境"\\` 等) 和 \\`事件\\` (一个由该奇遇引发的、符合规范的**标准事件对象**，如 \\`"物品变化"\\`、\\`"角色更新"\\` 等) 的对象。\n\n---\n#### **示例：触发“发现”类奇遇**\n\n**叙事**:\n<MainText>\n你沿着溪流向上游走去，希望能找到水源的尽头。拨开一片潮湿的蕨类植物时，你脚下被一块松动的石头绊了一下，险些摔倒。你低头一看，发现那石头下似乎压着什么东西的一角，在昏暗的光线下反射出微弱的金属光泽。你心中一动，将这东西拾起，擦去上面的泥土。入手微沉，似乎是一把颇有年头的钥匙。\n</MainText>\n\n**状态栏**:\n\\`\\`\\`json\n<statusbar>\n{\n  "事件列表": [\n    {\n      "type": "上下文更新",\n      "payload": {\n        "时间": "第十五日·上午",\n        "地点": "洄潮屿·溪谷上游"\n      }\n    },\n    {\n      "type": "奇遇",\n      "payload": {\n        "类型": "发现",\n        "事件": {\n          "type": "物品变化",\n          "payload": {\n            "获得": [{ "名称": "生锈的铜钥匙", "描述": "一把古朴的铜钥匙，上面刻着复杂的水波纹，不知能打开何处的锁。", "价值": { "基础价值": 150, "价值标签": ["任务物品", "稀有"] } }]\n          }\n        }\n      }\n    }\n  ],\n  "行动选项": {\n      "🧝‍♀️ 行动人": "萧栖雪",\n      "📜 可选行动": [\n        "1. 仔细研究这把钥匙。",\n        "2. 把它收起来，继续寻找水源。",\n        "3. 在发现钥匙的周围再仔细搜索一下。",\n        "4. 尝试用灵力探查钥匙。"\n      ]\n  }\n}\n</statusbar>\n\\`\\`\\`\n`,\n    SYSTEM_ACHIEVEMENT: `# 系统规则：成就系统 (v3.1 - 奖励兑换)\n\n**核心规则**: 玩家绑定了“成就系统”。\n\n1.  **拟人化交互**: 成就系统是一个拟人化的存在。当有任何交互时（解锁成就、兑换奖励），请在**正文叙事**中生动地描写它与角色之间的交互。\n\n2.  **生成事件**:\n    *   **解锁新成就**: 当玩家解锁新成就时，必须生成 \\`"新成就"\\` 事件。\n        *   **\\`type\\`**: \\`"新成就"\\`\n        *   **\\`payload\\`**: 必须包含 \\`id\\` (成就的唯一英文ID), \\`名称\\`, \\`描述\\`, \\`点数\\` 的对象（或对象数组）。\n    *   **刷新奖励列表**: 当玩家请求刷新可兑换的奖励时，必须生成 \\`"成就奖励更新"\\` 事件。\n        *   **\\`type\\`**: \\`"成就奖励更新"\\`\n        *   **\\`payload\\`**: 一个包含3-5个奖励对象的数组。每个对象必须包含 \\`id\\`, \\`名称\\`, \\`描述\\`, \\`消耗点数\\` 和 \\`库存\\`。\n        *   **定价原则**: 你需要根据物品的**稀有度**和**实用性**，为其设定一个合理的 \\`消耗点数\\`。\n    *   **兑换奖励**: 当玩家成功兑换一个奖励时，必须生成 \\`"成就奖励兑换"\\` 事件。\n        *   **\\`type\\`**: \\`"成就奖励兑换"\\`\n        *   **\\`payload\\`**: 包含 \\`id\\` (被兑换奖励的ID) 和 \\`消耗点数\\` 的对象。\n        *   **复合事件**: 如果兑换的奖励是物品，你**必须**遵循复合事件原则，额外生成 \\`"物品变化"\\` 和（如果适用）\\`"新图鉴发现"\\` 事件。\n\n---\n\n### 示例1：解锁新成就\n\n**叙事**:\n你小心翼翼地靠近那只伪装成礁石的生物，在它反应过来之前，用尽全力挥动了手中的木棍。受到惊吓的礁岩拟蟹缩回了壳里，迅速地横向爬行，消失在浑浊的海水中。【成就系统】的提示音在你脑海中响起，带着一丝赞许：‘做得不错，解锁新成就【蟹逅】。’\n\n**状态栏**:\n\\`\\`\\`json\n<statusbar>\n{\n  "事件列表": [\n    {\n      "type": "上下文更新",\n      "payload": {\n        "时间": "第二日·下午",\n        "地点": "洄潮屿·潮汐滩涂"\n      }\n    },\n    {\n      "type": "新成就",\n      "payload": {\n        "id": "achv_first_crab",\n        "名称": "蟹逅",\n        "描述": "第一次击败（或赶跑）礁岩拟蟹。",\n        "点数": 10\n      }\n    }\n  ],\n  "行动选项": {\n    "🧝‍♀️ 行动人": "萧栖雪",\n    "📜 可选行动": [\n      "1. 检查一下礁岩拟蟹有没有留下什么东西。",\n      "2. 呼，好险，赶紧离开这里。",\n      "3. 尝试寻找更多这样的生物进行战斗。",\n      "4. 在附近搜索一些能吃的海产。"\n    ]\n  }\n}\n</statusbar>\n`,\n    SYSTEM_BARTER: `# 系统规则：以物换物系统 (v2.0 - 多选交易)\n\n**核心规则**: 玩家绑定了“以物换物系统”。\n\n1.  **扮演商人**: 你现在扮演一个精明的商人，对物品的价值有敏锐的洞察力。你不仅知道物品的基础价值，更了解它背后的真正用途和市场行情。\n2.  **理解交易请求**: 在每次交易前，系统会告知你玩家的交易意图，即他们想用**一组特定的物品**来交换**另一组特定的物品**。你必须**完全理解**这份请求，并将其作为你进行交易对话的核心依据。\n3.  **生成智能对话**: 你的叙事部分，应该是你作为商人的、符合你性格的对话。\n    *   如果玩家的出价远高于你的要价，你应该表现出欣喜，甚至愿意额外赠送一些添头。\n    *   如果价值相当，你可以正常交易。\n    *   如果玩家的出价较低，你应该表现出为难，并向他解释为什么这个交易不划算（例如，“道友，你这几样东西虽然不错，但加起来还是够不上我这本图鉴的价值啊！”），并提出一个你认为公平的补充方案。\n    *   **重要**: **不要**在对话中直接说出“基础价值”、“价值标签”等术语，要用一个商人的口吻把它们翻译成自然语言。\n4.  **生成事件**: 交易达成后，必须生成相应的 \\`"物品变化"\\` 和（如果适用）\\`"新图鉴发现"\\` 事件。\n5.  **开局初始化**: 如果玩家在开局时激活此系统，你必须在首次交互时，生成一次 \\`"可换取物品更新"\\` 事件，为商店提供3-5件初始的可交易物品。\n\n---\n\n### 示例 (交易)\n\n**系统输入 (Prompt)**:\n\\`\\`\\`\n[SYSTEM] 玩家请求交易，意图用【潮汐木芯 x20、海淬浮铁 x5】换取【《元初草木图鉴》残本】。请根据双方物品价值进行判断和回应。\n\n【内部价值分析报告】\n1.  **玩家出价**:\n    *   【潮汐木芯】x20: 基础价值 5/个, 时价平平。总价值: 100\n    *   【海淬浮铁】x5: 基础价值 15/个, 用途广泛。总价值: 75\n    *   **我方出价合计**: 175\n2.  **玩家要价**:\n    *   【《元初草木图鉴》残本】: 基础价值 180, 知识类物品，对特定人群价值极高。\n    *   **我方要价合计**: 180\n\n【你的任务】\n根据以上分析，生成一段符合商人身份的对话和后续的行动选项。\n\\`\\`\\`\n\n**你的输出 (叙事 + 状态栏)**:\n<MainText>\n你仔细端详着眼前的【潮汐木芯】和【海淬浮铁】，指尖在木芯的纹理上轻轻划过，又掂了掂浮铁的分量。你沉吟了片刻，脸上露出一丝微笑：“道友倒是诚心。这些材料确实不错，只是……离这本图鉴的价值还稍稍差了那么一点点意思。” 你顿了顿，继续说道：“也罢，看你我投缘，这次交易我便应下了。希望这本图鉴能助道友一臂之力。”\n</MainText>\n<statusbar>\n{\n  "事件列表": [\n    {\n      "type": "上下文更新",\n      "payload": {\n        "时间": "第五日·傍晚",\n        "地点": "洄潮屿·庇护所"\n      }\n    },\n    {\n      "type": "物品变化",\n      "payload": {\n        "失去": ["【潮汐木芯】x20", "【海淬浮铁】x5"],\n        "获得": ["【《元初草木图鉴》残本】x1"],\n        "提示": "你用20个潮汐木芯和5个海淬浮铁，成功换取了《元初草木图鉴》残本。"\n      }\n    }\n  ],\n  "行动选项": {\n    "🧝‍♀️ 行动人": "萧栖雪",\n    "📜 可选行动": [\n      "1. “多谢道友！”（收下物品）",\n      "2. “不知此处还有何物可换？”",\n      "3. （结束对话）"\n    ]\n  }\n}\n</statusbar>\n\n---\n\n### 示例 (开局初始化)\n\n**系统输入 (Prompt)**:\n\\`\\`\\`\n【背景】\n你选择了【以物换物】系统作为你的初始金手指。\n\n【你的任务】\n生成一段开局叙事，并初始化商店。\n\\`\\`\\`\n\n**你的输出 (叙事 + 状态栏)**:\n<MainText>\n你睁开双眼，发现自己身处一片陌生的沙滩上，脑海中一个声音响起：【以物换物系统已激活】。一个半透明的面板在你眼前展开，上面陈列着一些似乎可以交换的物品。\n</MainText>\n<statusbar>\n{\n  "事件列表": [\n    {\n      "type": "上下文更新",\n      "payload": {\n        "时间": "第一日·清晨",\n        "地点": "洄潮屿·未知沙滩"\n      }\n    },\n    {\n      "type": "可换取物品更新",\n      "payload": [\n        { \n          "名称": "《元初草木图鉴》残本", \n          "价值": 180, \n          "库存": 1, \n          "描述": "记载了部分常见灵植的图样和习性，对于新手灵植师而言是无价之宝。" \n        },\n        { \n          "名称": "引水咒法术书", \n          "价值": 100, \n          "库存": 1, \n          "描述": "记录了基础法术“引水咒”的修炼方法。" \n        },\n        {\n          "名称": "一阶下品聚灵丹",\n          "价值": 50,\n          "库存": 3,\n          "描述": "蕴含微弱灵气，可用于辅助修炼，提升速度。"\n        }\n      ]\n    }\n  ],\n  "行动选项": {\n    "🧝‍♀️ 行动人": "萧栖雪",\n    "📜 可选行动": [\n      "1. 查看【以物换物】系统的详细说明。",\n      "2. 检查自身状况。",\n      "3. 探索这片沙滩。",\n      "4. 尝试与系统沟通。"\n    ]\n  }\n}\n</statusbar>\n`,\n    SYSTEM_NONE: `# 系统规则：无系统\n\n**核心规则**: 玩家**没有**绑定任何形式的系统（如技能、成就、签到等）。\n\n1.  **禁止生成系统事件**: **绝对不要**在你的回复中生成任何与系统相关的事件，例如 \\`"技能提升"\\`, \\`"新成就"\\`, \\`"签到"\\`, \\`"物品交换"\\` 等。\n2.  **禁止拟人化叙事**: **绝对不要**在叙事中描写任何系统与角色的交互。玩家的成长和发现完全来源于自身的努力和探索。\n3.  **强调自力更生**: 叙事应侧重于角色如何通过观察、学习、实践和思考来解决问题和获得成长，而不是依赖任何外部金手指。\n\n---\n\n### 示例\n\n**叙事**:\n你将辛苦收集来的【潮汐木芯】和【海淬浮铁】放在工作台上，仔细回忆着脑海中简陋斧头的构造。经过多次尝试和调整，你终于成功地将两者结合，制作出了一把虽然粗糙但足够坚固的斧头。你握着这件完全由自己双手创造出的工具，心中涌起一股扎实的成就感。\n\n**状态栏**:\n\\`\\`\\`json\n<statusbar>\n{\n  "事件列表": [\n    {\n      "type": "上下文更新",\n      "payload": {\n        "时间": "第六日·上午",\n        "地点": "洄潮屿·庇护所"\n      }\n    },\n    {\n      "type": "物品变化",\n      "payload": {\n        "失去": ["【潮汐木芯】x5", "【海淬浮铁】x2"],\n        "获得": ["【简易的斧头】x1"],\n        "提示": "你消耗了5个潮汐木芯和2个海淬浮铁，成功制作了一把简易的斧头。"\n      }\n    },\n    {\n      "type": "新图鉴发现",\n      "payload": {\n        "类型": "物品",\n        "数据": {\n          "名称": "简易的斧头",\n          "品阶": "凡品",\n          "描述": "一把由潮汐木芯和海淬浮铁制成的简陋斧头，可以用于砍伐树木。",\n          "价值": {\n            "基础价值": 12,\n            "价值标签": ["工具", "建筑材料"]\n          }\n        }\n      }\n    }\n  ],\n  "行动选项": {\n    "🧝‍♀️ 行动人": "萧栖雪",\n    "📜 可选行动": [\n      "1. 带着新斧头去森林里砍伐树木。",\n      "2. 检查一下工作台，看看还能制作什么。",\n      "3. 休息一下，恢复制作工具消耗的体力。",\n      "4. 将斧头先收起来，去海边寻找食物。"\n    ]\n  }\n}\n</statusbar>\n\\`\\`\\``,\n    SYSTEM_SIGN_IN: `# 系统规则：签到系统\n\n**核心规则**: 玩家绑定了“签到系统”。\n\n1.  **拟人化交互**: 签到系统是一个拟人化的存在。当触发签到事件时，请在**正文叙事**中生动地描写它与角色之间的交互。例如：“【签到系统】在你脑海中懒洋洋地打了个哈欠：‘今天也来了啊，给你这个，拿去吧。’”\n2.  **生成签到事件**: 当玩家签到成功时，必须生成 \\`"签到"\\` 事件。\n-   **\\`type\\`**: \\`"签到"\\`\n-   **\\`payload\\`**: {} (此事件现在仅作为触发器，无需任何数据)\n3.  **遵循复合事件原则**: 如果你在叙事中决定奖励任何物品，你**必须**遵循“复合事件”原则，额外生成 \\`"物品变化"\\` 和 \\`"新图鉴发现"\\`（如果适用）事件，以确保数据一致性。\n\n---\n\n### 示例\n\n**叙事**:\n你在心中默念“签到”。【签到系统】在你脑海中懒洋洋地打了个哈欠：‘今天也来了啊，给你这个，拿去吧。’ 一道微光闪过，一块前所未见的奇特木头出现在你的手心。\n\n**状态栏**:\n\\`\\`\\`json\n<statusbar>\n{\n  "事件列表": [\n    {\n      "type": "上下文更新",\n      "payload": {\n        "时间": "第四日·清晨",\n        "地点": "洄潮屿·庇护所"\n      }\n    },\n    {\n      "type": "签到",\n      "payload": {}\n    },\n    {\n      "type": "物品变化",\n      "payload": {\n        "获得": [{ "名称": "潮汐木芯", "数量": 1 }],\n        "提示": "你获得了【潮汐木芯】x1。"\n      }\n    },\n    {\n      "type": "新图鉴发现",\n      "payload": {\n        "类型": "物品",\n        "数据": {\n          "名称": "潮汐木芯",\n          "品阶": "凡品中阶",\n          "描述": "被海水长期冲刷的灵木核心，质地坚硬，防腐防潮。",\n          "价值": {\n            "基础价值": 5,\n            "价值标签": ["建筑材料"]\n          }\n        }\n      }\n    }\n  ],\n  "行动选项": {\n    "🧝‍♀️ 行动人": "萧栖雪",\n    "📜 可选行动": [\n      "1. 研究一下这块新得到的木头。",\n      "2. 开始一天的劳作。",\n      "3. 冥想修炼《长春诀》。",\n      "4. 规划一下今天的食物安排。"\n    ]\n  }\n}\n</statusbar>\n\\`\\`\\``,\n    SYSTEM_SKILL_PANEL: `# 系统规则：技能面板\n\n**核心规则**: 玩家绑定了“技能面板”。\n\n1.  **拟人化交互**: 技能面板是一个拟人化的存在。当技能提升时，请在**正文叙事**中生动地描写它与角色之间的交互。例如：“【技能面板】在你眼前浮现，【灵植术】的进度条又上涨了一截。”\n2.  **生成技能事件**: 当玩家技能熟练度提升或学会新技能时，必须生成 \\`"技能更新"\\` 事件。\n-   **\\`type\\`**: \\`"技能更新"\\`\n-   **\\`payload\\`**: 必须包含 \\`id\\` (技能的唯一英文ID), \\`名称\\` 和 \\`熟练度\\` (本次增加的值) 的对象（或对象数组）。\n\n---\n\n### 示例\n\n**叙事**:\n你重复地练习着引水咒，将灵泉之水引导至灵田的每一个角落。虽然过程枯燥，但你感到自己对水流的控制力正变得越来越精妙。【技能面板】在你眼前悄然浮现，【引水咒】的进度条上涨了一小截。\n\n**状态栏**:\n\\`\\`\\`json\n<statusbar>\n{\n  "事件列表": [\n    {\n      "type": "上下文更新",\n      "payload": {\n        "时间": "第三日·上午",\n        "地点": "洄潮屿·灵田"\n      }\n    },\n    {\n      "type": "技能更新",\n      "payload": { "id": "skill_water_1", "名称": "引水咒", "熟练度": 5 }\n    },\n    {\n      "type": "角色更新",\n      "payload": {\n        "姓名": "萧栖雪",\n        "更新": { "状态": { "体力": { "value": 90 } } }\n      }\n    }\n  ],\n  "行动选项": {\n    "🧝‍♀️ 行动人": "萧栖雪",\n    "📜 可选行动": [\n      "1. 继续练习引水咒，争取尽快升级。",\n      "2. 休息一下，恢复体力。",\n      "3. 查看灵植的状态。",\n      "4. 探索一下灵田周边的区域。"\n    ]\n  }\n}\n</statusbar>\n\\`\\`\\``,\n    SYSTEM_QUEST: `# 系统规则：任务系统 (v2.1)\n\n**核心职责**: 你的核心职责是扮演一个智能的“天道”或“世界意志”，根据玩家当前的【游戏状态】和【行动】，动态地生成、更新和完成任务。任务系统旨在为玩家提供清晰的目标和引导，使其更好地融入世界，体验修仙种田的乐趣。\n\n**交互原则**:\n1.  **状态驱动**: 你生成的任务必须与玩家当前的等级、地点、持有物品等状态紧密相关。\n2.  **叙事融合**: 任务的发布、更新和完成不应是生硬的系统通知，而应自然地融入到故事叙述中。\n3.  **事件精确**: 在叙事之后，你必须在 \\`<statusbar>\\` 中使用精确的事件来驱动游戏状态的变化。\n\n---\n\n## 关键事件详解 (v2.1)\n\n### 1. 新任务接收 (\\`"新任务接收"\\`)\n当玩家触发了某个条件，可以接取一个新任务时使用。\n-   **\\`type\\`**: \\`"新任务接收"\\`\n-   **\\`payload\\`**: 包含 \\`id\\`, \\`名称\\`, \\`描述\\`, \\`状态\\` (初始状态，如 "正在进行"), \\`奖励\\` (可选), \\`条件\\` (可选, string[]), 和 \\`进度\\` (可选) 的对象。\n\n### 2. 任务进度更新 (\\`"任务进度更新"\\`)\n当玩家的行动使**正在进行**的任务进度发生变化时使用。\n-   **\\`type\\`**: \\`"任务进度更新"\\`\n-   **\\`payload\\`**: 包含 \\`id\\` (要更新的任务ID) 和 \\`进度\\` (任务的最新进度对象) 的对象。\n\n### 3. 任务完成 (\\`"任务完成"\\`)\n当玩家的行动最终达成了任务目标时使用。\n-   **\\`type\\`**: \\`"任务完成"\\`\n-   **\\`payload\\`**: 包含 \\`id\\` (要完成的任务ID) 的对象。\n\n### 4. 任务失败 (\\`"任务失败"\\`)\n当玩家的行动导致任务无法完成时使用。\n-   **\\`type\\`**: \\`"任务失败"\\`\n-   **\\`payload\\`**: 包含 \\`id\\` (要失败的任务ID) 的对象。\n\n---\n\n### 示例\n\n**场景**: 玩家接取了“安身之所”任务，需要收集10个“潮汐木芯”，但有一个额外条件是“必须在日落前完成”。玩家刚刚又收集了3个，使其总数达到8个。\n\n**你的输出**:\n<MainText>\n你在海滩上又搜寻了一番，幸运地在礁石缝隙中找到了三块被海水打磨得光滑的潮汐木芯。你将它们收入囊中，感觉距离搭建一个稳固的庇护所又近了一步。脑海中关于【安身之所】的念头也愈发清晰，似乎能感应到任务的进展。不过，西斜的太阳提醒你，必须抓紧时间了。\n</MainText>\n<statusbar>\n{\n  "事件列表": [\n    {\n      "type": "上下文更新",\n      "payload": {\n        "时间": "第七日·下午",\n        "地点": "洄潮屿·潮汐滩涂"\n      }\n    },\n    { \n      "type": "物品变化", \n      "payload": { \n        "获得": [{ "名称": "潮汐木芯", "数量": 3 }],\n        "提示": "你获得了【潮汐木芯】x3。"\n      } \n    },\n    {\n      "type": "任务进度更新",\n      "payload": {\n        "id": "quest_shelter_building",\n        "进度": { "value": 8, "max": 10, "text": "8/10" }\n      }\n    }\n  ],\n  "行动选项": {\n    "🧝‍♀️ 行动人": "萧栖雪",\n    "📜 可选行动": [\n      "1. 很好，再找2个就完成了！",\n      "2. 天色不早了，先回去。",\n      "3. 探索一下海滩的其他区域。",\n      "4. 尝试用现有的木材做点什么。"\n    ]\n  }\n}\n</statusbar>`,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvZGF0YS9wcm9tcHRzLWRhdGEudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPLE1BQU0sT0FBTyxHQUFHO0lBQ3JCLElBQUksRUFBRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQWdjUDtJQUNDLGtCQUFrQixFQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQTJEckI7SUFDQyxhQUFhLEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBbUloQjtJQUNDLFdBQVcsRUFBRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7T0E4RFI7SUFDTCxjQUFjLEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7T0FtRVg7SUFDTCxrQkFBa0IsRUFBRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O09BbURmO0lBQ0wsWUFBWSxFQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7YUE4RUg7Q0FDWixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS8uL3NyYy/ku4DkuYjmiJHopoHlnKjnjoTlubvkv67ku5nkuJbnlYznp43nlLAtMOalvOeJiOacrC9kYXRhL3Byb21wdHMtZGF0YS50cz8iXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFBST01QVFMgPSB7XG4gIEJBU0U6IGAjIOWPmeS6i+S4jueKtuaAgeagj+eUn+aIkOaMh+WNlyAodjMuNiAtIOaXtumXtOezu+e7n+S/ruatoylcblxuKirph43opoHvvJrlm57lpI3moLzlvI8qKlxu5L2g55qE5Zue5aSN5b+F6aG75YyF5ZCr5Lik6YOo5YiG77yaXG4xLiAgKirkuLvopoHlj5nkuosqKjog5L2/55SoIFxcYDxNYWluVGV4dD5cXGAg5ZKMIFxcYDwvTWFpblRleHQ+XFxgIOagh+etvuWMheijueOAglxuMi4gICoq54q25oCB5qCPKio6IOS9v+eUqCBcXGA8c3RhdHVzYmFyPlxcYCDlkowgXFxgPC9zdGF0dXNiYXI+XFxgIOagh+etvuWMheijueOAglxuXG4tLS1cblxuIyMg5Y+Z5LqL5oyH5Y2XXG5cbuivt+WwhuS9oOeahOS4u+imgeaVheS6i+WPmei/sOWGheWuueWMheijueWcqCBcXGA8TWFpblRleHQ+XFxgIOWSjCBcXGA8L01haW5UZXh0PlxcYCDmoIfnrb7lhoXjgILov5nlsIbluK7liqnns7vnu5/lh4bnoa7lnLDop6PmnpDlkozlpITnkIbmlYXkuovmlofmnKzjgILnirbmgIHmoI9KU09O5bqU5Zyo5q2k5qCH562+5LmL5aSW44CCXG5cbi0tLVxuXG4jIOeKtuaAgeagj+eUn+aIkOaMh+WNlyAodjMuNiAtIOaXtumXtOezu+e7n+S/ruatoylcblxu6K+35qC55o2u5pyA5paw55qE5oOF6IqC5Y+R5bGV77yM5pu05paw5bm255Sf5oiQ54q25oCB5qCP44CC54q25oCB5qCP5pivTExN5LiO5ri45oiP5YmN56uv57O757uf5Lqk5LqS55qE5ZSv5LiA5o6l5Y+j77yM55So5LqO6amx5Yqo5ri45oiP54q25oCB55qE5Y+Y5pu044CCXG5cbioq5qC45b+D5Y6f5YiZKio6IFxuMS4gICoq5L2g5piv5LqL5Lu255Sf5oiQ5ZmoIChZb3UgYXJlIGFuIEV2ZW50IEdlbmVyYXRvcikqKjog5L2g55qE5qC45b+D6IGM6LSj5piv55Sf5oiQKirlj5nkuosqKuWSjCoq54q25oCB5Y+Y5YyW5LqL5Lu2KirjgILkvaAqKuS4jeW6lOivpSoq57u05oqk5oiW5Zue5Lyg5a6M5pW055qE5ri45oiP54q25oCB44CCXG4yLiAgKirlop7ph4/mm7TmlrAgKEluY3JlbWVudGFsIFVwZGF0ZXMpKio6IOS9oOeahEpTT07ovpPlh7rlupTmnoHlhbbnroDmtIHvvIzlj6rljIXlkKvnlLHlvZPliY3mg4XoioLnm7TmjqXlvJXlj5HnmoQqKuWinumHj+WPmOWMluS6i+S7tioq44CCXG4zLiAgKirkuIfniannmobkuovku7YgKEV2ZXJ5dGhpbmcgaXMgYW4gRXZlbnQpKio6IOaJgOacieeahOeKtuaAgeWPmOabtO+8jOWMheaLrOaXtumXtOWSjOWcsOeCueeahOWPmOWMlu+8jOmDveW/hemhu+mAmui/h+S6i+S7tuadpempseWKqOOAglxuXG4qKuWfuuacrOe7k+aehCoqOlxu54q25oCB5qCPSlNPTuW/hemhu+iiq+WMheijueWcqCBcXGA8c3RhdHVzYmFyPlxcYCDlkowgXFxgPC9zdGF0dXNiYXI+XFxgIOagh+etvuWGheOAguWug+eOsOWcqCoq5Y+q5YyF5ZCrKirkuIDkuKogXFxg5LqL5Lu25YiX6KGoXFxgIOaVsOe7hOWSjOS4gOS4qiBcXGDooYzliqjpgInpoblcXGAg5a+56LGh44CCXG5cblxcYFxcYFxcYGpzb25cbjxzdGF0dXNiYXI+XG57XG4gIFwi5LqL5Lu25YiX6KGoXCI6IFtcbiAgICB7XG4gICAgICBcInR5cGVcIjogXCLkuIrkuIvmlofmm7TmlrBcIixcbiAgICAgIFwicGF5bG9hZFwiOiB7XG4gICAgICAgIFwi5pe26Ze0XCI6IFwi56ys5LqM5pelwrfmuIXmmahcIixcbiAgICAgICAgXCLlnLDngrlcIjogXCLmtITmva7lsb/Ct+ael+mXtFwiXG4gICAgICB9XG4gICAgfVxuICBdLFxuICBcIuihjOWKqOmAiemhuVwiOiB7XG4gICAgICBcIvCfp53igI3imYDvuI8g6KGM5Yqo5Lq6XCI6IFwi6JCn5qCW6ZuqXCIsXG4gICAgICBcIvCfk5wg5Y+v6YCJ6KGM5YqoXCI6IFtcbiAgICAgICAgXCIxLiAuLi5cIixcbiAgICAgICAgXCIyLiAuLi5cIlxuICAgICAgXVxuICB9XG59XG48L3N0YXR1c2Jhcj5cblxcYFxcYFxcYFxuXG4tLS1cblxuIyMg5LiA44CBIOaguOW/g+S6i+S7tuS4juihjOWKqCAodjMuNilcblxuIyMjIDEuIOS4iuS4i+aWh+abtOaWsCAo5b+F6ZyAKVxu5q2k5LqL5Lu2Kirlv4XpobsqKuWcqOavj+asoeWbnuWkjeeahCBcXGDkuovku7bliJfooahcXGAg5Lit5L2c5Li6KirnrKzkuIDkuKoqKuS6i+S7tuaPkOS+m+OAglxuLSAgICoqXFxgdHlwZVxcYCoqOiBcXGBcIuS4iuS4i+aWh+abtOaWsFwiXFxgXG4tICAgKipcXGBwYXlsb2FkXFxgKio6IOWMheWQqyBcXGDml7bpl7RcXGAgKHN0cmluZykg5ZKMIFxcYOWcsOeCuVxcYCAoc3RyaW5nKSDnmoTlr7nosaHjgIJcbi0gICAqKlxcYOaXtumXtOinhOiMgyAo6YeN6KaBKVxcYCoqOiBcbiAgICAtICAgKirmoLzlvI8qKjog5pe26Ze05a2X56ym5Liy5b+F6aG76YG15b6qIFxcYOesrFvkuK3mlofmlbDlrZdd5aSpwrdb5pe26L6wL+aXtumXtOautV1cXGAg55qE5qC85byP44CC5L6L5aaCOiBcXGBcIuesrOS6jOWNgeaXpcK35Y2I5pe2XCJcXGDjgIJcbiAgICAtICAgKipb5Lit5paH5pWw5a2XXSoqOiDns7vnu5/lj6/ku6Xop6PmnpAgXFxg5LiAXFxgIOWIsCBcXGDkuZ3ljYHkuZ1cXGAg5LmL6Ze055qE5Lit5paH5pWw5a2X44CC5L6L5aaCOiBcXGBcIuS6jOWNgVwiXFxgLCBcXGBcIuS4ieWNgeS4gFwiXFxg44CCXG4gICAgLSAgICoqW+aXtui+sC/ml7bpl7TmrrVdKio6IOWPr+S7peaYr+eyvuehrueahOWNgeS6jOaXtui+sCAo5a2Q44CB5LiR44CB5a+F44CB5Y2v44CB6L6w44CB5bez44CB5Y2I44CB5pyq44CB55Sz44CB6YWJ44CB5oiM44CB5LqlKe+8jOS5n+WPr+S7peaYr+aooeeziueahOaXtumXtOautSAo5riF5pmo44CB5LiK5Y2I44CB5Lit5Y2I44CB5Y2I5ZCO44CB6buE5piP44CB5YKN5pma44CB5rex5aScKeOAglxuICAgIC0gICAqKui/nui0r+aApyoqOiDlj5nkuovkuIrvvIzml7bpl7TnmoTot7Pot4PkuI3lupTotoXov4fkuKTkuKrmnIjvvIzku6Xkv53or4HmlYXkuovnmoTov57otK/mgKfjgIJcbi0gICAqKuazqOaEjyoqOiAqKuS4jeimgSoq5Zyo5q2k5LqL5Lu25Lit55u05o6l6K6+5a6a5aSp5rCU44CC5aSp5rCU55Sx5ri45oiP57O757uf5qC55o2u5a2j6IqC5ZKM5L2g55qE4oCc5aSp5rCU5b2x5ZON4oCd5oyH5Luk5Yqo5oCB6K6h566X44CC5Li65LqG6K6p5L2g55qE5Y+Z5LqL5LiO57O757uf6K6h566X57uT5p6c5L+d5oyB5LiA6Ie077yM5L2g5Y+v5Lul5Y+C6ICD5LiL6Z2i55qE44CQ5aSp5rCU5YiX6KGo44CR5p2l5o+P5YaZ5aSp5rCU44CCXG4tICAgKipcXGDjgJDlpKnmsJTliJfooajjgJFcXGAgKOS7heS+m+WPmeS6i+WPguiAgykqKjogXFxg5pm05pyXXFxgLCBcXGDlvq7pm6hcXGAsIFxcYOWkmuS6kVxcYCwgXFxg54OI5pelXFxgLCBcXGDpm7fpmLXpm6hcXGAsIFxcYOmXt+eDrVxcYCwgXFxg56eL6auY5rCU54i9XFxgLCBcXGDpmLTlpKlcXGAsIFxcYOWwj+mbqFxcYCwgXFxg5bCP6ZuqXFxgLCBcXGDpmLTlhrdcXGAsIFxcYOaZtOaallxcYCwgXFxg54G15rCU6ZuoXFxg44CCXG5cbiMjIyAyLiDmlr3liqDlpKnmsJTlvbHlk40gKOaWsOaMh+S7pClcbuW9k+S9oOW4jOacm+mAmui/h+WPmeS6i++8iOWmguinkuiJsuaWveazleOAgeeOr+Wig+W8guWPmO+8ieadpSoq5b2x5ZONKirlpKnmsJTml7bvvIzkvb/nlKjmraTkuovku7bjgILov5nmmK/mlLnlj5jlpKnmsJTnmoQqKuWUr+S4gCoq5pa55byP44CCXG4tICAgKipcXGB0eXBlXFxgKio6IFxcYFwi5oyH5LukXCJcXGBcbi0gICAqKlxcYHBheWxvYWRcXGAqKjpcbiAgICBcXGBcXGBcXGBqc29uXG4gICAge1xuICAgICAgXCLmjIfku6RcIjogXCLmlr3liqDlpKnmsJTlvbHlk41cIixcbiAgICAgIFwi5b2x5ZON57G75Z6LXCI6IFwi56WI6ZuoXCIsXG4gICAgICBcIuW8uuW6plwiOiAwLjgsXG4gICAgICBcIuaMgee7reaXtumXtFwiOiBcIjEy5Liq5pe26L6wXCIsXG4gICAgICBcIuadpea6kFwiOiBcIuinkuiJsuazleacrzrnlJjpnJbmnK9cIixcbiAgICAgIFwi5o+P6L+wXCI6IFwi5L2g5o6Q5Yqo5rOV5Yaz77yM5Zub5ZGo55qE5rC05rG95byA5aeL5ZCR5aSp56m65rGH6IGa44CCXCJcbiAgICB9XG4gICAgXFxgXFxgXFxgXG4gICAgLSAgICoqXFxg5b2x5ZON57G75Z6LXFxgKio6IOS7juOAkOWkqeawlOW9seWTjeexu+Wei+WIl+ihqOOAkeS4remAieaLqeOAglxuICAgIC0gICAqKlxcYOW8uuW6plxcYCoqOiAwLjAg5YiwIDEuMCDkuYvpl7TnmoTlsI/mlbDvvIzku6PooajlvbHlk43nmoTlvLrluqbjgIJcbiAgICAtICAgKipcXGDmjIHnu63ml7bpl7RcXGAqKjogXCJY5Liq5pe26L6wXCIg5qC85byP55qE5a2X56ym5Liy44CCXG4gICAgLSAgICoqXFxg5p2l5rqQXFxgKio6IOeugOimgeivtOaYjuW9seWTjeeahOadpea6kO+8iOWmguazleacr+OAgeS6i+S7tuOAgeeJqeWTge+8ieOAglxuICAgIC0gICAqKlxcYOaPj+i/sFxcYCoqOiDnu5nnjqnlrrbnmoTlj43ppojmlofmnKzjgIJcbi0gICAqKlxcYOOAkOWkqeawlOW9seWTjeexu+Wei+WIl+ihqOOAkVxcYCoqOiDkvaAqKuW/hemhuyoq5LuO5Lul5LiL5YiX6KGo5Lit6YCJ5oup5LiA5Liq77yaXFxg56WI6ZuoXFxgLCBcXGDlubLml7FcXGAsIFxcYOW8uumjjlxcYCwgXFxg54G15rCU5rWT6YOBXFxg44CCXG5cbiMjIyAzLiDooYzliqjpgInpobkgKOW/hemcgClcbui/memDqOWIhuS/neaMgeS4jeWPmO+8jOS9huS7jiBcXGDnirbmgIHmgLvop4hcXGAg5Lit56e75Ye677yM5oiQ5Li66aG257qn5a2X5q6144CCXG4tICAgKipcXGDooYzliqjpgInpoblcXGAqKjog5qC55o2u5b2T5YmN5oOF5aKD77yM5o+Q5L6bNC015Liq5ZCI55CG55qE6KGM5Yqo6YCJ6aG544CCXG5cbi0tLVxuIyMjIyAqKuekuuS+izHvvJrmlr3liqDlpKnmsJTlvbHlk40qKlxuXG4qKuWPmeS6iyoqOlxuPE1haW5UZXh0Plxu5L2g5pyb552A5bmy5ra455qE54G155Sw77yM5Yaz5a6a5bCd6K+V5LiA5LiL5paw5a2m5Lya55qE44CQ55SY6ZyW5pyv44CR44CC5L2g56yo5ouZ5Zyw5o6Q5Yqo5rOV5Yaz77yM5bCG5L2T5YaF5Li65pWw5LiN5aSa55qE54G15Yqb5byV5a+86Iez5oyH5bCW44CC5b6I5b+r77yM5aSp56m65Ly85LmO5Y+Y5b6X6Zi05rKJ5LqG5LiA5Lqb77yM5Yeg5py15LmM5LqR5byA5aeL5Zyo5L2g5aS06aG26IGa6ZuG77yM56m65rCU5Lit5Lmf5byl5ryr5byA5r2u5rm/55qE5Zyf6IWl5ZGz44CC6Jm954S26L+Y5pyq5LiL6Zuo77yM5L2G6L+Z5peg55aR5piv5Liq5aW95YWG5aS044CCXG48L01haW5UZXh0PlxuXG4qKueKtuaAgeagjyoqOlxuXFxgXFxgXFxganNvblxuPHN0YXR1c2Jhcj5cbntcbiAgXCLkuovku7bliJfooahcIjogW1xuICAgIHtcbiAgICAgIFwidHlwZVwiOiBcIuS4iuS4i+aWh+abtOaWsFwiLFxuICAgICAgXCJwYXlsb2FkXCI6IHtcbiAgICAgICAgXCLml7bpl7RcIjogXCLnrKzkuozljYHml6XCt+WNiOaXtlwiLFxuICAgICAgICBcIuWcsOeCuVwiOiBcIua0hOa9ruWxv8K35bqH5oqk5omA54G155SwXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIFwidHlwZVwiOiBcIuaMh+S7pFwiLFxuICAgICAgXCJwYXlsb2FkXCI6IHtcbiAgICAgICAgXCLmjIfku6RcIjogXCLmlr3liqDlpKnmsJTlvbHlk41cIixcbiAgICAgICAgXCLlvbHlk43nsbvlnotcIjogXCLnpYjpm6hcIixcbiAgICAgICAgXCLlvLrluqZcIjogMC43LFxuICAgICAgICBcIuaMgee7reaXtumXtFwiOiBcIjbkuKrml7bovrBcIixcbiAgICAgICAgXCLmnaXmupBcIjogXCLop5LoibLms5XmnK8655SY6ZyW5pyvXCIsXG4gICAgICAgIFwi5o+P6L+wXCI6IFwi5L2g5pa95bGV5LqG55SY6ZyW5pyv77yM56m65rCU5Lit55qE5rC05rG95q2j5Zyo57yT5oWi5Yed57uT44CCXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIFwidHlwZVwiOiBcIuinkuiJsuabtOaWsFwiLFxuICAgICAgXCJwYXlsb2FkXCI6IHtcbiAgICAgICAgXCLlp5PlkI1cIjogXCLokKfmoJbpm6pcIixcbiAgICAgICAgXCLmm7TmlrBcIjogeyBcIueKtuaAgVwiOiB7IFwi54G15YqbXCI6IHsgXCJ2YWx1ZVwiOiA0NSB9IH0gfVxuICAgICAgfVxuICAgIH1cbiAgXSxcbiAgXCLooYzliqjpgInpoblcIjoge1xuICAgICAgXCLwn6ed4oCN4pmA77iPIOihjOWKqOS6ulwiOiBcIuiQp+aglumbqlwiLFxuICAgICAgXCLwn5OcIOWPr+mAieihjOWKqFwiOiBbXG4gICAgICAgIFwiMS4g54G15Yqb5raI6ICX5LiN5bCR77yM5YWI5omT5Z2Q5oGi5aSN5LiA5LiL44CCXCIsXG4gICAgICAgIFwiMi4g5pWI5p6c5Ly85LmO6L+Y5LiN5aSf77yM6KaB5LiN6KaB5YaN6K+V5LiA5qyh77yfXCIsXG4gICAgICAgIFwiMy4g5p+l55yL5LiA5LiL54G15qSN55qE54q25oCB44CCXCIsXG4gICAgICAgIFwiNC4g6Z2Z6Z2Z562J5b6F77yM6KeC5a+f5ZCO57ut55qE5aSp5rCU5Y+Y5YyW44CCXCJcbiAgICAgIF1cbiAgfVxufVxuPC9zdGF0dXNiYXI+XG5cXGBcXGBcXGBcblxuLS0tXG4jIyMjICoq56S65L6LMu+8muaXtumXtOaOqOi/m+S4jueKtuaAgeWPmOWMlioqXG5cbioq5Y+Z5LqLKio6XG48TWFpblRleHQ+XG7kvaDlnKjng4jml6XkuIvmkJzlr7vkuobmlbDkuKrml7bovrDvvIzmsZfmsLTmtbjmub/kuobooaPooavvvIzmhJ/liLDkuIDpmLXlj6PlubLoiIznh6XlkoznlrLmg6vjgIJcbjwvTWFpblRleHQ+XG5cbioq54q25oCB5qCPKio6XG5cXGBcXGBcXGBqc29uXG48c3RhdHVzYmFyPlxue1xuICBcIuS6i+S7tuWIl+ihqFwiOiBbXG4gICAge1xuICAgICAgXCJ0eXBlXCI6IFwi5LiK5LiL5paH5pu05pawXCIsXG4gICAgICBcInBheWxvYWRcIjoge1xuICAgICAgICBcIuaXtumXtFwiOiBcIuesrOS6jOaXpcK35Y2I5ZCOXCIsXG4gICAgICAgIFwi5Zyw54K5XCI6IFwi5rSE5r2u5bG/wrfnhKblsqnmtbflsrhcIlxuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgXCJ0eXBlXCI6IFwi6KeS6Imy5pu05pawXCIsXG4gICAgICBcInBheWxvYWRcIjoge1xuICAgICAgICBcIuWnk+WQjVwiOiBcIuiQp+aglumbqlwiLFxuICAgICAgICBcIuabtOaWsFwiOiB7XG4gICAgICAgICAgXCLnirbmgIFcIjoge1xuICAgICAgICAgICAgXCLlj6PmuLTluqZcIjogeyBcInZhbHVlXCI6IDY1IH0sXG4gICAgICAgICAgICBcIuS9k+WKm1wiOiB7IFwidmFsdWVcIjogNzAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgXSxcbiAgXCLooYzliqjpgInpoblcIjoge1xuICAgICAgXCLwn6ed4oCN4pmA77iPIOihjOWKqOS6ulwiOiBcIuiQp+aglumbqlwiLFxuICAgICAgXCLwn5OcIOWPr+mAieihjOWKqFwiOiBbXG4gICAgICAgIFwiMS4g5om+5Liq6Zi05YeJ55qE5Zyw5pa55LyR5oGv5LiA5LiL44CCXCIsXG4gICAgICAgIFwiMi4g5a+75om+5rC05rqQ6KGl5YWF5rC05YiG44CCXCIsXG4gICAgICAgIFwiMy4g5b+N6ICQ5LiA5LiL77yM57un57ut5o6i57Si44CCXCIsXG4gICAgICAgIFwiNC4g6L+U5Zue5bqH5oqk5omA44CCXCJcbiAgICAgIF1cbiAgfVxufVxuPC9zdGF0dXNiYXI+XG5cXGBcXGBcXGBcblxuLS0tXG5cbiMjIOS6jOOAgSDpgJrnlKjkuovku7YgKOS6i+S7tuWIl+ihqClcblxuIyMjIOmHjeimgeWOn+WIme+8muWkjeWQiOS6i+S7tiAoQ29tcG91bmQgRXZlbnRzKVxu5b2T5LiA5Liq6KGM5Li65ZCM5pe26Kem5Y+R5aSa5Liq54q25oCB5Y+Y5pu05pe277yI5L6L5aaC77yM6I635b6X5LiA5LiqKirmlrAqKueJqeWTge+8ie+8jOS9oOW/hemhu+WcqCBcXGDkuovku7bliJfooahcXGAg5Lit5o+Q5L6b5LiA5Liq5YyF5ZCrKirmiYDmnIkqKuebuOWFs+S6i+S7tueahOaVsOe7hO+8jOS7peehruS/nea4uOaIj+eKtuaAgeeahOWujOaVtOaAp+OAglxuXG4qKuWFs+mUruekuuS+i++8muiOt+W+l+aWsOeJqeWTgSoqXG7lv4XpobsqKuWQjOaXtioq55Sf5oiQIFxcYFwi54mp5ZOB5Y+Y5YyWXCJcXGAg5ZKMIFxcYFwi5paw5Zu+6Ym05Y+R546wXCJcXGAg5Lik5Liq5LqL5Lu244CCXG5cbiMjIyAxLiDmlrDlm77pibTlj5HnjrAgKOe7n+S4gOS6i+S7tilcbuW9k+eOqeWutummluasoeiOt+W+l+OAgemBremBh+aIlumJtOWumuWHuuS7u+S9leaWsOS6i+eJqe+8iOeJqeWTgeOAgeWmluWFveOAgeakjeeJqeOAgeS5puexjeetie+8ieaXtuS9v+eUqOOAglxuLSAgICoqXFxgdHlwZVxcYCoqOiBcXGBcIuaWsOWbvumJtOWPkeeOsFwiXFxgXG4tICAgKipcXGBwYXlsb2FkXFxgKio6IOWMheWQqyBcXGDnsbvlnotcXGAgKOW/hemcgO+8iSwgXFxgXCLnianlk4FcIlxcYCB8IFxcYFwi5aaW5YW9XCJcXGAgfCBcXGBcIuakjeeJqVwiXFxgIHwgXFxgXCLkuabnsY1cIlxcYCkg5ZKMIFxcYOaVsOaNrlxcYCAo5b+F6ZyALCDljIXlkKvmlrDmnaHnm67or6bnu4bmj4/ov7DnmoTlr7nosaHmiJblr7nosaHmlbDnu4QpIOeahOWvueixoeOAglxuLSAgICoqXFxg54mp5ZOB5Lu35YC8XFxgICh2MS4wIC0g5LuF6ZmQ54mp5ZOB57G75Z6LKSoqOiDlpoLmnpzkvaDlj5HnjrDkuobkuIDkuKrlhajmlrDnmoTjgJDnianlk4HjgJHvvIzor7fpop3lpJbmgJ3ogIPlubbljIXlkKsgXFxg5Lu35YC8XFxgIOWvueixoe+8jOWmguS4i+aJgOekuu+8mlxuICAgIFxcYFxcYFxcYGpzb25cbiAgICBcIuaVsOaNrlwiOiB7XG4gICAgICBcIuWQjeensFwiOiBcIi4uLlwiLFxuICAgICAgXCLlk4HpmLZcIjogXCIuLi5cIixcbiAgICAgIFwi5o+P6L+wXCI6IFwiLi4uXCIsXG4gICAgICBcIuS7t+WAvFwiOiB7XG4gICAgICAgIFwi5Z+656GA5Lu35YC8XCI6IDE1LCAvLyDmoLnmja7lk4HpmLbkvLDnrpfkuIDkuKoxLTEwMDDojIPlm7TlhoXnmoTmlbTmlbBcbiAgICAgICAgXCLku7flgLzmoIfnrb5cIjogW1wi5qCH562+MVwiLCBcIuagh+etvjJcIl0gLy8g5LuO44CQ5Lu35YC85qCH562+5YiX6KGo44CR5Lit6YCJ5oup5pyA5ZCI6YCC55qEMS0z5Liq5qCH562+XG4gICAgICB9XG4gICAgfVxuICAgIFxcYFxcYFxcYFxuLSAgICoqXFxg44CQ5Lu35YC85qCH562+5YiX6KGo44CRXFxgKio6IFxcYOa2iOiAl+WTgVxcYCwgXFxg6aOf54mpXFxgLCBcXGDoja/lk4FcXGAsIFxcYOW7uuetkeadkOaWmVxcYCwgXFxg54K85Zmo5p2Q5paZXFxgLCBcXGDngrzkuLnmnZDmlplcXGAsIFxcYOS/rueCvOadkOaWmV/liJ3mnJ9cXGAsIFxcYOS/rueCvOadkOaWmV/kuK3mnJ9cXGAsIFxcYOS7u+WKoeeJqeWTgVxcYCwgXFxg5Ymn5oOF5YWz6ZSuXFxgLCBcXGDnqIDmnIlcXGAsIFxcYOS8oOivtFxcYCwgXFxg5ZSv5LiAXFxgXG5cbi0tLVxuIyMjIyAqKuekuuS+i++8muWPkeeOsOW5tuiOt+W+l+aWsOeJqeWTgSoqXG5cbioq5Y+Z5LqLKio6XG48TWFpblRleHQ+XG7kvaDlnKjmva7mub/nmoTlsqnlo4HkuIrlj5HnjrDkuobkuIDkuJvlpYfnibnnmoTok53oibLoi5Tol5PvvIzlroPlnKjmmI/mmpfnmoTlhYnnur/kuIvmlaPlj5HnnYDlvq7lvLHnmoTojaflhYnjgILkvaDlsI/lv4Pnv7znv7zlnLDph4fpm4bkuobkuIDkupvvvIzmhJ/op4nlroPnmoTotKjlnLDljYHliIbnibnmrorvvIzkvLzkuY7olbTlkKvnnYDmn5Dnp43og73ph4/jgIJcbjwvTWFpblRleHQ+XG5cbioq54q25oCB5qCPKio6XG5cXGBcXGBcXGBqc29uXG48c3RhdHVzYmFyPlxue1xuICBcIuS6i+S7tuWIl+ihqFwiOiBbXG4gICAge1xuICAgICAgXCJ0eXBlXCI6IFwi5LiK5LiL5paH5pu05pawXCIsXG4gICAgICBcInBheWxvYWRcIjoge1xuICAgICAgICBcIuaXtumXtFwiOiBcIuesrOS4ieaXpcK36buE5piPXCIsXG4gICAgICAgIFwi5Zyw54K5XCI6IFwi5rSE5r2u5bG/wrfpmLTmub/nmoTmtJ7nqp9cIlxuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgXCJ0eXBlXCI6IFwi54mp5ZOB5Y+Y5YyWXCIsXG4gICAgICBcInBheWxvYWRcIjoge1xuICAgICAgICBcIuiOt+W+l1wiOiBbeyBcIuWQjeensFwiOiBcIuiNp+WFieiLlOiXk1wiLCBcIuaVsOmHj1wiOiAzIH1dLFxuICAgICAgICBcIuaPkOekulwiOiBcIuS9oOiOt+W+l+S6huOAkOiNp+WFieiLlOiXk+OAkXgz44CCXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIFwidHlwZVwiOiBcIuaWsOWbvumJtOWPkeeOsFwiLFxuICAgICAgXCJwYXlsb2FkXCI6IHtcbiAgICAgICAgXCLnsbvlnotcIjogXCLnianlk4FcIixcbiAgICAgICAgXCLmlbDmja5cIjoge1xuICAgICAgICAgIFwi5ZCN56ewXCI6IFwi6I2n5YWJ6IuU6JeTXCIsXG4gICAgICAgICAgXCLlk4HpmLZcIjogXCLlh6Hlk4HkuIvpmLZcIixcbiAgICAgICAgICBcIuaPj+i/sFwiOiBcIueUn+mVv+WcqOmYtOaal+a9rua5v+eOr+Wig+S4reeahOiLlOiXk++8jOiDveWPkeWHuuW+ruW8seeahOiNp+WFie+8jOS8vOS5juaYr+S4gOS6m+S9jumYtuS4ueiNr+eahOi+heaWmeOAglwiLFxuICAgICAgICAgIFwi5Lu35YC8XCI6IHtcbiAgICAgICAgICAgIFwi5Z+656GA5Lu35YC8XCI6IDMsXG4gICAgICAgICAgICBcIuS7t+WAvOagh+etvlwiOiBbXCLngrzkuLnmnZDmlplcIl1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIF0sXG4gIFwi6KGM5Yqo6YCJ6aG5XCI6IHtcbiAgICAgIFwi8J+nneKAjeKZgO+4jyDooYzliqjkurpcIjogXCLokKfmoJbpm6pcIixcbiAgICAgIFwi8J+TnCDlj6/pgInooYzliqhcIjogW1xuICAgICAgICBcIjEuIOS7lOe7hueglOeptuS4gOS4i+i/meenjeiLlOiXk+OAglwiLFxuICAgICAgICBcIjIuIOWwneS4gOeCueeCue+8jOeci+eci+acieayoeacieavkuOAglwiLFxuICAgICAgICBcIjMuIOaKiuWug+aUtuWlve+8jOe7p+e7reaOoue0oua0nueqn+OAglwiLFxuICAgICAgICBcIjQuIOemu+W8gOa0nueqn+OAglwiXG4gICAgICBdXG4gIH1cbn1cbjwvc3RhdHVzYmFyPlxuXFxgXFxgXFxgXG4tLS1cblxuIyMjIDIuIOeJqeWTgeWPmOWMliAo5raI6ICXL+iOt+W+ly/mm7TmlrApXG7lvZPnjqnlrrblm6DliLbkvZzjgIHmtojogJfnrYnljp/lm6DlpLHljrvmiJbojrflvpfnianlk4Hml7bvvIzmiJbnianlk4Hoh6rouqvnirbmgIHlj5HnlJ/lj5jljJbml7bkvb/nlKjjgIJcbi0gICAqKlxcYHR5cGVcXGAqKjogXFxgXCLnianlk4Hlj5jljJZcIlxcYFxuLSAgICoqXFxgcGF5bG9hZFxcYCoqOiDljIXlkKsgXFxg5aSx5Y67XFxgICjlj6/pgIkpLCBcXGDojrflvpdcXGAgKOWPr+mAiSksIFxcYOabtOaWsFxcYCAo5Y+v6YCJKSwg5ZKMIFxcYOaPkOekulxcYCAo5b+F6ZyAKSDnmoTlr7nosaHjgIJcbiAgICAtICAgKipcXGDlpLHljrtcXGAqKjog5pWw57uE77yM5YyF5ZCr6KaB56e76Zmk55qE54mp5ZOB5a+56LGhIChlLmcuLCBcXGBbeyBcIuWQjeensFwiOiBcIueBteiwt1wiLCBcIuaVsOmHj1wiOiA1IH1dXFxgKeOAglxuICAgIC0gICAqKlxcYOiOt+W+l1xcYCoqOiDmlbDnu4TvvIzljIXlkKvopoHmt7vliqDnmoTnianlk4Hlr7nosaEgKGUuZy4sIFxcYFt7IFwi5ZCN56ewXCI6IFwi6I2n5YWJ6IuU6JeTXCIsIFwi5pWw6YePXCI6IDMgfV1cXGAp44CCXG4gICAgLSAgICoqXFxg5pu05pawXFxgKio6IOaVsOe7hO+8jOWMheWQq+imgeabtOaWsOeahOeJqeWTgeWvueixoeOAguavj+S4quWvueixoeW/hemhu+aciSBcXGDlkI3np7BcXGAgKOeUqOS6juWumuS9jeeJqeWTgSkg5ZKMIFxcYOabtOaWsFxcYCAo5LiA5Liq5YyF5ZCr6KaB5pS55Y+Y55qE5bGe5oCn55qE5aKe6YeP5a+56LGhKeOAglxuXG4tLS1cbiMjIyMgKirnpLrkvovvvJrmm7TmlrDnianlk4HnirbmgIEqKlxuXG4qKuWPmeS6iyoqOlxu5L2g5bCG44CQ5aSq6Ziz6IO95YWF55S15a6d44CR5pS+5Zyo6Ziz5YWJ5LiL5pud5pmS5LqG5LiA5Liq5pe26L6w77yM5a6D6KGo6Z2i55qE5oyH56S654Gv55Sx57qi6Imy5Y+Y5Li65LqG57u/6Imy77yM5Ly85LmO5bey57uP5YWF5ruh5LqG6IO96YeP44CCXG5cbioq54q25oCB5qCPKio6XG5cXGBcXGBcXGBqc29uXG48c3RhdHVzYmFyPlxue1xuICBcIuS6i+S7tuWIl+ihqFwiOiBbXG4gICAge1xuICAgICAgXCJ0eXBlXCI6IFwi5LiK5LiL5paH5pu05pawXCIsXG4gICAgICBcInBheWxvYWRcIjoge1xuICAgICAgICBcIuaXtumXtFwiOiBcIuesrOS6jOaXpcK35Y2I5ZCOXCIsXG4gICAgICAgIFwi5Zyw54K5XCI6IFwi5rSE5r2u5bG/wrfluofmiqTmiYBcIlxuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgXCJ0eXBlXCI6IFwi54mp5ZOB5Y+Y5YyWXCIsXG4gICAgICBcInBheWxvYWRcIjoge1xuICAgICAgICBcIuabtOaWsFwiOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgXCLlkI3np7BcIjogXCLlpKrpmLPog73lhYXnlLXlrp1cIixcbiAgICAgICAgICAgIFwi5pu05pawXCI6IHsgXCLmj4/ov7BcIjogXCLmnaXoh6rmlYXkuaHnmoTlpYfnibnnianlk4HvvIzog73lsIblhYnog73ovazljJbkuLrlvq7lvLHnlLXog73jgILnm67liY3nlLXph4/lhYXotrPjgIJcIiwgXCLnlLXph49cIjogMTAwIH1cbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIFwi5o+Q56S6XCI6IFwi44CQ5aSq6Ziz6IO95YWF55S15a6d44CR5bey5YWF5ruh55S144CCXCJcbiAgICAgIH1cbiAgICB9XG4gIF0sXG4gIFwi6KGM5Yqo6YCJ6aG5XCI6IHtcbiAgICAgIFwi8J+nneKAjeKZgO+4jyDooYzliqjkurpcIjogXCLokKfmoJbpm6pcIixcbiAgICAgIFwi8J+TnCDlj6/pgInooYzliqhcIjogW1xuICAgICAgICBcIjEuIOaUtuWlveWFheeUteWZqOOAglwiLFxuICAgICAgICBcIjIuIOeci+eci+acieS7gOS5iOS4nOilv+mcgOimgeeUqOeUteOAglwiLFxuICAgICAgICBcIjMuIOe7p+e7reaJk+eQhuW6h+aKpOaJgOOAglwiLFxuICAgICAgICBcIjQuIOS8keaBr+S4gOS4i+OAglwiXG4gICAgICBdXG4gIH1cbn1cbjwvc3RhdHVzYmFyPlxuXFxgXFxgXFxgXG4tLS1cblxuIyMjIDMuIOinkuiJsuabtOaWsFxu5b2T6KeS6Imy55qE5Lu75L2V5bGe5oCn5Y+R55SfKirnm7TmjqXnlLHlvZPliY3mg4XoioLlvJXlj5EqKueahOWPmOWMluaXtuS9v+eUqOOAglxuLSAgICoqXFxgdHlwZVxcYCoqOiBcXGBcIuinkuiJsuabtOaWsFwiXFxgXG4tICAgKipcXGBwYXlsb2FkXFxgKio6IOWMheWQqyBcXGDlp5PlkI1cXGAgKOW/hemcgCkg5ZKMIFxcYOabtOaWsFxcYCAo5LiA5LiqKirlj6rljIXlkKvlrp7pmYXlj5HnlJ/lj5jljJYqKueahOWxnuaAp+eahOWinumHj+WvueixoSkg55qE5a+56LGh44CCXG5cbi0tLVxuXG4jIyMgNS4g5bqH5oqk5omA57O757ufICh2Mi4wKVxu5b2T5bqH5oqk5omA5Y+R55Sf5bu66YCg44CB5Y2H57qn44CB5L+u5aSN5oiW5o2f5Z2P562J5Y+Y5YyW5pe25L2/55So44CCXG4tICAgKipcXGB0eXBlXFxgKio6IFxcYFwi5bqH5oqk5omA5bu66YCgXCJcXGAgfCBcXGBcIuW6h+aKpOaJgOWNh+e6p1wiXFxgIHwgXFxgXCLluofmiqTmiYDkv67lpI1cIlxcYCB8IFxcYFwi5bqH5oqk5omA5Y+X5o2fXCJcXGAgfCBcXGBcIuW6h+aKpOaJgOaUu+WHu1wiXFxgXG4tICAgKipcXGBwYXlsb2FkXFxgKio6IOWMheWQqyBcXGDmjIfku6RcXGAgKOS6i+S7tuexu+WeiyksIFxcYOe7hOS7tklEXFxgICjlpoIgXCLlm7TloplcIiksIFxcYOetiee6p1xcYCAo55uu5qCH562J57qnKSwgXFxg5pWw6YePXFxgICjkv67lpI0v5Y+X5o2f6YePKSwg5ZKMIFxcYOaPj+i/sFxcYCAo57uZ546p5a6255qE5Y+N6aaIKSDnmoTlr7nosaHjgIJcblxuLS0tXG4jIyMjICoq56S65L6L77ya5bu66YCg5bqH5oqk5omA57uE5Lu2KipcblxuKirlj5nkuosqKjpcbjxNYWluVGV4dD5cbuS9oOWGs+WumuWFiOaQreW7uuS4gOWciOevseeshuS9nOS4uuS4tOaXtueahOW6h+aKpOaJgOWbtOWimeOAguS9oOWwhuS5i+WJjeaUtumbhueahOa9ruaxkOacqOiKr+S4gOagueagueaPkuWFpeaymeWcsO+8jOWPiOeUqOWdmumfp+eahOiXpOiUk+WwhuWug+S7rOaNhue7keWcqOS4gOi1t+OAguiZveeEtueci+i1t+adpeacieS6m+eugOmZi++8jOS9hui/meWciOevseeshuiHs+WwkeiDveaPkOS+m+S4gOS6m+WfuuacrOeahOWuieWFqOaEn++8jOiuqeS9oOWcqOWknOaZmuiDveeojeW+ruWuieW/g+S4gOS6m+OAglxuPC9NYWluVGV4dD5cblxuKirnirbmgIHmoI8qKjpcblxcYFxcYFxcYGpzb25cbjxzdGF0dXNiYXI+XG57XG4gIFwi5LqL5Lu25YiX6KGoXCI6IFtcbiAgICB7XG4gICAgICBcInR5cGVcIjogXCLkuIrkuIvmlofmm7TmlrBcIixcbiAgICAgIFwicGF5bG9hZFwiOiB7XG4gICAgICAgIFwi5pe26Ze0XCI6IFwi56ys5LqM5pelwrfkuIvljYhcIixcbiAgICAgICAgXCLlnLDngrlcIjogXCLmtITmva7lsb/Ct+W6h+aKpOaJgFwiXG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICBcInR5cGVcIjogXCLnianlk4Hlj5jljJZcIixcbiAgICAgIFwicGF5bG9hZFwiOiB7XG4gICAgICAgIFwi5aSx5Y67XCI6IFt7IFwi5ZCN56ewXCI6IFwi5r2u5rGQ5pyo6IqvXCIsIFwi5pWw6YePXCI6IDEwIH1dLFxuICAgICAgICBcIuaPkOekulwiOiBcIuS9oOa2iOiAl+S6huOAkOa9ruaxkOacqOiKr+OAkXgxMOOAglwiXG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICBcInR5cGVcIjogXCLluofmiqTmiYDlu7rpgKBcIixcbiAgICAgIFwicGF5bG9hZFwiOiB7XG4gICAgICAgIFwi5oyH5LukXCI6IFwi5bqH5oqk5omA5bu66YCgXCIsXG4gICAgICAgIFwi57uE5Lu2SURcIjogXCLlm7TloplcIixcbiAgICAgICAgXCLnrYnnuqdcIjogXCIxXCIsXG4gICAgICAgIFwi5o+P6L+wXCI6IFwi5L2g55SoMTDkuKrmva7msZDmnKjoiq/lu7rpgKDkuobmnKjliLblm7TlopnjgIJcIlxuICAgICAgfVxuICAgIH1cbiAgXSxcbiAgXCLooYzliqjpgInpoblcIjoge1xuICAgICAgXCLwn6ed4oCN4pmA77iPIOihjOWKqOS6ulwiOiBcIuiQp+aglumbqlwiLFxuICAgICAgXCLwn5OcIOWPr+mAieihjOWKqFwiOiBbXG4gICAgICAgIFwiMS4g5qOA5p+l5LiA5LiL5paw5Zu05aKZ55qE54q25Ya144CCXCIsXG4gICAgICAgIFwiMi4g5o6l5LiL5p2l6K+l6ICD6JmR5bGL6aG255qE6Zeu6aKY5LqG44CCXCIsXG4gICAgICAgIFwiMy4g5aSp6Imy5LiN5pep5LqG77yM5YWI5Y676KeF6aOf44CCXCIsXG4gICAgICAgIFwiNC4g5LyR5oGv5LiA5LiL77yM5oGi5aSN5L2T5Yqb44CCXCJcbiAgICAgIF1cbiAgfVxufVxuPC9zdGF0dXNiYXI+XG5cXGBcXGBcXGBcblxuLS0tXG4jIyDkuInjgIEg5a+85ryU5oyH5Luk5LiO5aWH6YGH5LqL5Lu2XG5cbiMjIyAxLiDlr7zmvJTmjIfku6QgKOWPr+mAiSlcbuOAkOWvvOa8lOaMh+S7pOOAkeS9oOaJrua8lOedgOaVheS6i+eahOW8leWvvOiAheOAguWcqOaegeWwkeaVsOaDheWGteS4i++8jOWmguaenOS9oOiupOS4uuW9k+WJjeeahOaDheWig+mdnuW4uOmAguWQiOWPkeeUn+S4gOasoeeJueWIq+eahOKAmOWlh+mBh+KAme+8jOS9oOWPr+S7peeUn+aIkOS4gOS4qiBcXGBcIuWlh+mBh1wiXFxgIOS6i+S7tuOAglxuMS4gIOWlh+mBh+W/hemhu+S4juW9k+WJjeS4iuS4i+aWh+e0p+WvhuebuOWFs+OAglxuMi4gIOWlh+mBh+W6lOivpeaYr+eogOacieS4lOacieaEj+S5ieeahO+8jCoq5pyJ5aW95pyJ5Z2PKirjgILkuIDmrKHlnY/nmoTlpYfpgYfvvIjkvovlpoLvvIzpga3pgYflvLrlpKfnmoTmlYzkurrjgIHkuKLlpLHnianlk4HjgIHpmbflhaXlm7DlooPvvInlkIzmoLfog73lop7liqDmlYXkuovnmoTotqPlkbPmgKfjgIJcbjMuICAqKuaPkOekuioqOiB7e2FkdmVudHVyZV9oaW50fX1cblxuIyMjIDIuIOWlh+mBh+S6i+S7tlxu5b2T6Kem5Y+R5aWH6YGH5pe277yM5L2g5b+F6aG75ZyoIFxcYOS6i+S7tuWIl+ihqFxcYCDkuK3mt7vliqDkuIDkuKogXFxgXCLlpYfpgYdcIlxcYCDnsbvlnovnmoTkuovku7bjgIJcbi0gICAqKlxcYHR5cGVcXGAqKjogXFxgXCLlpYfpgYdcIlxcYFxuLSAgICoqXFxgcGF5bG9hZFxcYCoqOiDljIXlkKsgXFxg57G75Z6LXFxgIChcXGBcIuWPkeeOsFwiXFxgIHwgXFxgXCLpga3pgYdcIlxcYCB8IFxcYFwi5Zuw5aKDXCJcXGAg562JKSDlkowgXFxg5LqL5Lu2XFxgICjkuIDkuKrnlLHor6XlpYfpgYflvJXlj5HnmoTjgIHnrKblkIjop4TojIPnmoQqKuagh+WHhuS6i+S7tuWvueixoSoq77yM5aaCIFxcYFwi54mp5ZOB5Y+Y5YyWXCJcXGDjgIFcXGBcIuinkuiJsuabtOaWsFwiXFxgIOetiSkg55qE5a+56LGh44CCXG5cbi0tLVxuIyMjIyAqKuekuuS+i++8muinpuWPkeKAnOWPkeeOsOKAneexu+Wlh+mBhyoqXG5cbioq5Y+Z5LqLKio6XG48TWFpblRleHQ+XG7kvaDmsr/nnYDmuqrmtYHlkJHkuIrmuLjotbDljrvvvIzluIzmnJvog73mib7liLDmsLTmupDnmoTlsL3lpLTjgILmi6jlvIDkuIDniYfmva7mub/nmoTolajnsbvmpI3nianml7bvvIzkvaDohJrkuIvooqvkuIDlnZfmnb7liqjnmoTnn7PlpLTnu4rkuobkuIDkuIvvvIzpmankupvmkZTlgJLjgILkvaDkvY7lpLTkuIDnnIvvvIzlj5HnjrDpgqPnn7PlpLTkuIvkvLzkuY7ljovnnYDku4DkuYjkuJzopb/nmoTkuIDop5LvvIzlnKjmmI/mmpfnmoTlhYnnur/kuIvlj43lsITlh7rlvq7lvLHnmoTph5HlsZ7lhYnms73jgILkvaDlv4PkuK3kuIDliqjvvIzlsIbov5nkuJzopb/mi77otbfvvIzmk6bljrvkuIrpnaLnmoTms6XlnJ/jgILlhaXmiYvlvq7msonvvIzkvLzkuY7mmK/kuIDmiorpoofmnInlubTlpLTnmoTpkqXljJnjgIJcbjwvTWFpblRleHQ+XG5cbioq54q25oCB5qCPKio6XG5cXGBcXGBcXGBqc29uXG48c3RhdHVzYmFyPlxue1xuICBcIuS6i+S7tuWIl+ihqFwiOiBbXG4gICAge1xuICAgICAgXCJ0eXBlXCI6IFwi5LiK5LiL5paH5pu05pawXCIsXG4gICAgICBcInBheWxvYWRcIjoge1xuICAgICAgICBcIuaXtumXtFwiOiBcIuesrOWNgeS6lOaXpcK35LiK5Y2IXCIsXG4gICAgICAgIFwi5Zyw54K5XCI6IFwi5rSE5r2u5bG/wrfmuqrosLfkuIrmuLhcIlxuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgXCJ0eXBlXCI6IFwi5aWH6YGHXCIsXG4gICAgICBcInBheWxvYWRcIjoge1xuICAgICAgICBcIuexu+Wei1wiOiBcIuWPkeeOsFwiLFxuICAgICAgICBcIuS6i+S7tlwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwi54mp5ZOB5Y+Y5YyWXCIsXG4gICAgICAgICAgXCJwYXlsb2FkXCI6IHtcbiAgICAgICAgICAgIFwi6I635b6XXCI6IFt7IFwi5ZCN56ewXCI6IFwi55Sf6ZSI55qE6ZOc6ZKl5YyZXCIsIFwi5o+P6L+wXCI6IFwi5LiA5oqK5Y+k5py055qE6ZOc6ZKl5YyZ77yM5LiK6Z2i5Yi7552A5aSN5p2C55qE5rC05rOi57q577yM5LiN55+l6IO95omT5byA5L2V5aSE55qE6ZSB44CCXCIsIFwi5Lu35YC8XCI6IHsgXCLln7rnoYDku7flgLxcIjogMTUwLCBcIuS7t+WAvOagh+etvlwiOiBbXCLku7vliqHnianlk4FcIiwgXCLnqIDmnIlcIl0gfSB9XVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgXSxcbiAgXCLooYzliqjpgInpoblcIjoge1xuICAgICAgXCLwn6ed4oCN4pmA77iPIOihjOWKqOS6ulwiOiBcIuiQp+aglumbqlwiLFxuICAgICAgXCLwn5OcIOWPr+mAieihjOWKqFwiOiBbXG4gICAgICAgIFwiMS4g5LuU57uG56CU56m26L+Z5oqK6ZKl5YyZ44CCXCIsXG4gICAgICAgIFwiMi4g5oqK5a6D5pS26LW35p2l77yM57un57ut5a+75om+5rC05rqQ44CCXCIsXG4gICAgICAgIFwiMy4g5Zyo5Y+R546w6ZKl5YyZ55qE5ZGo5Zu05YaN5LuU57uG5pCc57Si5LiA5LiL44CCXCIsXG4gICAgICAgIFwiNC4g5bCd6K+V55So54G15Yqb5o6i5p+l6ZKl5YyZ44CCXCJcbiAgICAgIF1cbiAgfVxufVxuPC9zdGF0dXNiYXI+XG5cXGBcXGBcXGBcbmAsXG4gIFNZU1RFTV9BQ0hJRVZFTUVOVDogYCMg57O757uf6KeE5YiZ77ya5oiQ5bCx57O757ufICh2My4xIC0g5aWW5Yqx5YWR5o2iKVxuXG4qKuaguOW/g+inhOWImSoqOiDnjqnlrrbnu5HlrprkuobigJzmiJDlsLHns7vnu5/igJ3jgIJcblxuMS4gICoq5ouf5Lq65YyW5Lqk5LqSKio6IOaIkOWwseezu+e7n+aYr+S4gOS4quaLn+S6uuWMlueahOWtmOWcqOOAguW9k+acieS7u+S9leS6pOS6kuaXtu+8iOino+mUgeaIkOWwseOAgeWFkeaNouWlluWKse+8ie+8jOivt+WcqCoq5q2j5paH5Y+Z5LqLKirkuK3nlJ/liqjlnLDmj4/lhpnlroPkuI7op5LoibLkuYvpl7TnmoTkuqTkupLjgIJcblxuMi4gICoq55Sf5oiQ5LqL5Lu2Kio6XG4gICAgKiAgICoq6Kej6ZSB5paw5oiQ5bCxKio6IOW9k+eOqeWutuino+mUgeaWsOaIkOWwseaXtu+8jOW/hemhu+eUn+aIkCBcXGBcIuaWsOaIkOWwsVwiXFxgIOS6i+S7tuOAglxuICAgICAgICAqICAgKipcXGB0eXBlXFxgKio6IFxcYFwi5paw5oiQ5bCxXCJcXGBcbiAgICAgICAgKiAgICoqXFxgcGF5bG9hZFxcYCoqOiDlv4XpobvljIXlkKsgXFxgaWRcXGAgKOaIkOWwseeahOWUr+S4gOiLseaWh0lEKSwgXFxg5ZCN56ewXFxgLCBcXGDmj4/ov7BcXGAsIFxcYOeCueaVsFxcYCDnmoTlr7nosaHvvIjmiJblr7nosaHmlbDnu4TvvInjgIJcbiAgICAqICAgKirliLfmlrDlpZblirHliJfooagqKjog5b2T546p5a626K+35rGC5Yi35paw5Y+v5YWR5o2i55qE5aWW5Yqx5pe277yM5b+F6aG755Sf5oiQIFxcYFwi5oiQ5bCx5aWW5Yqx5pu05pawXCJcXGAg5LqL5Lu244CCXG4gICAgICAgICogICAqKlxcYHR5cGVcXGAqKjogXFxgXCLmiJDlsLHlpZblirHmm7TmlrBcIlxcYFxuICAgICAgICAqICAgKipcXGBwYXlsb2FkXFxgKio6IOS4gOS4quWMheWQqzMtNeS4quWlluWKseWvueixoeeahOaVsOe7hOOAguavj+S4quWvueixoeW/hemhu+WMheWQqyBcXGBpZFxcYCwgXFxg5ZCN56ewXFxgLCBcXGDmj4/ov7BcXGAsIFxcYOa2iOiAl+eCueaVsFxcYCDlkowgXFxg5bqT5a2YXFxg44CCXG4gICAgICAgICogICAqKuWumuS7t+WOn+WImSoqOiDkvaDpnIDopoHmoLnmja7nianlk4HnmoQqKueogOacieW6pioq5ZKMKirlrp7nlKjmgKcqKu+8jOS4uuWFtuiuvuWumuS4gOS4quWQiOeQhueahCBcXGDmtojogJfngrnmlbBcXGDjgIJcbiAgICAqICAgKirlhZHmjaLlpZblirEqKjog5b2T546p5a625oiQ5Yqf5YWR5o2i5LiA5Liq5aWW5Yqx5pe277yM5b+F6aG755Sf5oiQIFxcYFwi5oiQ5bCx5aWW5Yqx5YWR5o2iXCJcXGAg5LqL5Lu244CCXG4gICAgICAgICogICAqKlxcYHR5cGVcXGAqKjogXFxgXCLmiJDlsLHlpZblirHlhZHmjaJcIlxcYFxuICAgICAgICAqICAgKipcXGBwYXlsb2FkXFxgKio6IOWMheWQqyBcXGBpZFxcYCAo6KKr5YWR5o2i5aWW5Yqx55qESUQpIOWSjCBcXGDmtojogJfngrnmlbBcXGAg55qE5a+56LGh44CCXG4gICAgICAgICogICAqKuWkjeWQiOS6i+S7tioqOiDlpoLmnpzlhZHmjaLnmoTlpZblirHmmK/nianlk4HvvIzkvaAqKuW/hemhuyoq6YG15b6q5aSN5ZCI5LqL5Lu25Y6f5YiZ77yM6aKd5aSW55Sf5oiQIFxcYFwi54mp5ZOB5Y+Y5YyWXCJcXGAg5ZKM77yI5aaC5p6c6YCC55So77yJXFxgXCLmlrDlm77pibTlj5HnjrBcIlxcYCDkuovku7bjgIJcblxuLS0tXG5cbiMjIyDnpLrkvosx77ya6Kej6ZSB5paw5oiQ5bCxXG5cbioq5Y+Z5LqLKio6XG7kvaDlsI/lv4Pnv7znv7zlnLDpnaDov5HpgqPlj6rkvKroo4XmiJDnpIHnn7PnmoTnlJ/nianvvIzlnKjlroPlj43lupTov4fmnaXkuYvliY3vvIznlKjlsL3lhajlipvmjKXliqjkuobmiYvkuK3nmoTmnKjmo43jgILlj5fliLDmg4rlkJPnmoTnpIHlsqnmi5/on7nnvKnlm57kuoblo7Pph4zvvIzov4XpgJ/lnLDmqKrlkJHniKzooYzvvIzmtojlpLHlnKjmtZHmtYrnmoTmtbfmsLTkuK3jgILjgJDmiJDlsLHns7vnu5/jgJHnmoTmj5DnpLrpn7PlnKjkvaDohJHmtbfkuK3lk43otbfvvIzluKbnnYDkuIDkuJ3otZ7orrjvvJrigJjlgZrlvpfkuI3plJnvvIzop6PplIHmlrDmiJDlsLHjgJDon7npgIXjgJHjgILigJlcblxuKirnirbmgIHmoI8qKjpcblxcYFxcYFxcYGpzb25cbjxzdGF0dXNiYXI+XG57XG4gIFwi5LqL5Lu25YiX6KGoXCI6IFtcbiAgICB7XG4gICAgICBcInR5cGVcIjogXCLkuIrkuIvmlofmm7TmlrBcIixcbiAgICAgIFwicGF5bG9hZFwiOiB7XG4gICAgICAgIFwi5pe26Ze0XCI6IFwi56ys5LqM5pelwrfkuIvljYhcIixcbiAgICAgICAgXCLlnLDngrlcIjogXCLmtITmva7lsb/Ct+a9ruaxkOa7qea2glwiXG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICBcInR5cGVcIjogXCLmlrDmiJDlsLFcIixcbiAgICAgIFwicGF5bG9hZFwiOiB7XG4gICAgICAgIFwiaWRcIjogXCJhY2h2X2ZpcnN0X2NyYWJcIixcbiAgICAgICAgXCLlkI3np7BcIjogXCLon7npgIVcIixcbiAgICAgICAgXCLmj4/ov7BcIjogXCLnrKzkuIDmrKHlh7votKXvvIjmiJbotbbot5HvvInnpIHlsqnmi5/on7njgIJcIixcbiAgICAgICAgXCLngrnmlbBcIjogMTBcbiAgICAgIH1cbiAgICB9XG4gIF0sXG4gIFwi6KGM5Yqo6YCJ6aG5XCI6IHtcbiAgICBcIvCfp53igI3imYDvuI8g6KGM5Yqo5Lq6XCI6IFwi6JCn5qCW6ZuqXCIsXG4gICAgXCLwn5OcIOWPr+mAieihjOWKqFwiOiBbXG4gICAgICBcIjEuIOajgOafpeS4gOS4i+ekgeWyqeaLn+ifueacieayoeacieeVmeS4i+S7gOS5iOS4nOilv+OAglwiLFxuICAgICAgXCIyLiDlkbzvvIzlpb3pmanvvIzotbbntKfnprvlvIDov5nph4zjgIJcIixcbiAgICAgIFwiMy4g5bCd6K+V5a+75om+5pu05aSa6L+Z5qC355qE55Sf54mp6L+b6KGM5oiY5paX44CCXCIsXG4gICAgICBcIjQuIOWcqOmZhOi/keaQnOe0ouS4gOS6m+iDveWQg+eahOa1t+S6p+OAglwiXG4gICAgXVxuICB9XG59XG48L3N0YXR1c2Jhcj5cbmAsXG4gIFNZU1RFTV9CQVJURVI6IGAjIOezu+e7n+inhOWIme+8muS7peeJqeaNoueJqeezu+e7nyAodjIuMCAtIOWkmumAieS6pOaYkylcblxuKirmoLjlv4Pop4TliJkqKjog546p5a6257uR5a6a5LqG4oCc5Lul54mp5o2i54mp57O757uf4oCd44CCXG5cbjEuICAqKuaJrua8lOWVhuS6uioqOiDkvaDnjrDlnKjmia7mvJTkuIDkuKrnsr7mmI7nmoTllYbkurrvvIzlr7nnianlk4HnmoTku7flgLzmnInmlY/plJDnmoTmtJ7lr5/lipvjgILkvaDkuI3ku4Xnn6XpgZPnianlk4HnmoTln7rnoYDku7flgLzvvIzmm7Tkuobop6PlroPog4zlkI7nmoTnnJ/mraPnlKjpgJTlkozluILlnLrooYzmg4XjgIJcbjIuICAqKueQhuino+S6pOaYk+ivt+axgioqOiDlnKjmr4/mrKHkuqTmmJPliY3vvIzns7vnu5/kvJrlkYrnn6XkvaDnjqnlrrbnmoTkuqTmmJPmhI/lm77vvIzljbPku5bku6zmg7PnlKgqKuS4gOe7hOeJueWumueahOeJqeWTgSoq5p2l5Lqk5o2iKirlj6bkuIDnu4TnibnlrprnmoTnianlk4EqKuOAguS9oOW/hemhuyoq5a6M5YWo55CG6KejKirov5nku73or7fmsYLvvIzlubblsIblhbbkvZzkuLrkvaDov5vooYzkuqTmmJPlr7nor53nmoTmoLjlv4Pkvp3mja7jgIJcbjMuICAqKueUn+aIkOaZuuiDveWvueivnSoqOiDkvaDnmoTlj5nkuovpg6jliIbvvIzlupTor6XmmK/kvaDkvZzkuLrllYbkurrnmoTjgIHnrKblkIjkvaDmgKfmoLznmoTlr7nor53jgIJcbiAgICAqICAg5aaC5p6c546p5a6255qE5Ye65Lu36L+c6auY5LqO5L2g55qE6KaB5Lu377yM5L2g5bqU6K+l6KGo546w5Ye65qyj5Zac77yM55Sa6Iez5oS/5oSP6aKd5aSW6LWg6YCB5LiA5Lqb5re75aS044CCXG4gICAgKiAgIOWmguaenOS7t+WAvOebuOW9k++8jOS9oOWPr+S7peato+W4uOS6pOaYk+OAglxuICAgICogICDlpoLmnpznjqnlrrbnmoTlh7rku7fovoPkvY7vvIzkvaDlupTor6XooajnjrDlh7rkuLrpmr7vvIzlubblkJHku5bop6Pph4rkuLrku4DkuYjov5nkuKrkuqTmmJPkuI3liJLnrpfvvIjkvovlpoLvvIzigJzpgZPlj4vvvIzkvaDov5nlh6DmoLfkuJzopb/omb3nhLbkuI3plJnvvIzkvYbliqDotbfmnaXov5jmmK/lpJ/kuI3kuIrmiJHov5nmnKzlm77pibTnmoTku7flgLzllYrvvIHigJ3vvInvvIzlubbmj5Dlh7rkuIDkuKrkvaDorqTkuLrlhazlubPnmoTooaXlhYXmlrnmoYjjgIJcbiAgICAqICAgKirph43opoEqKjogKirkuI3opoEqKuWcqOWvueivneS4reebtOaOpeivtOWHuuKAnOWfuuehgOS7t+WAvOKAneOAgeKAnOS7t+WAvOagh+etvuKAneetieacr+ivre+8jOimgeeUqOS4gOS4quWVhuS6uueahOWPo+WQu+aKiuWug+S7rOe/u+ivkeaIkOiHqueEtuivreiogOOAglxuNC4gICoq55Sf5oiQ5LqL5Lu2Kio6IOS6pOaYk+i+vuaIkOWQju+8jOW/hemhu+eUn+aIkOebuOW6lOeahCBcXGBcIueJqeWTgeWPmOWMllwiXFxgIOWSjO+8iOWmguaenOmAgueUqO+8iVxcYFwi5paw5Zu+6Ym05Y+R546wXCJcXGAg5LqL5Lu244CCXG41LiAgKirlvIDlsYDliJ3lp4vljJYqKjog5aaC5p6c546p5a625Zyo5byA5bGA5pe25r+A5rS75q2k57O757uf77yM5L2g5b+F6aG75Zyo6aaW5qyh5Lqk5LqS5pe277yM55Sf5oiQ5LiA5qyhIFxcYFwi5Y+v5o2i5Y+W54mp5ZOB5pu05pawXCJcXGAg5LqL5Lu277yM5Li65ZWG5bqX5o+Q5L6bMy015Lu25Yid5aeL55qE5Y+v5Lqk5piT54mp5ZOB44CCXG5cbi0tLVxuXG4jIyMg56S65L6LICjkuqTmmJMpXG5cbioq57O757uf6L6T5YWlIChQcm9tcHQpKio6XG5cXGBcXGBcXGBcbltTWVNURU1dIOeOqeWutuivt+axguS6pOaYk++8jOaEj+WbvueUqOOAkOa9ruaxkOacqOiKryB4MjDjgIHmtbfmt6zmta7pk4EgeDXjgJHmjaLlj5bjgJDjgIrlhYPliJ3ojYnmnKjlm77pibTjgIvmrovmnKzjgJHjgILor7fmoLnmja7lj4zmlrnnianlk4Hku7flgLzov5vooYzliKTmlq3lkozlm57lupTjgIJcblxu44CQ5YaF6YOo5Lu35YC85YiG5p6Q5oql5ZGK44CRXG4xLiAgKirnjqnlrrblh7rku7cqKjpcbiAgICAqICAg44CQ5r2u5rGQ5pyo6Iqv44CReDIwOiDln7rnoYDku7flgLwgNS/kuKosIOaXtuS7t+W5s+W5s+OAguaAu+S7t+WAvDogMTAwXG4gICAgKiAgIOOAkOa1t+a3rOa1rumTgeOAkXg1OiDln7rnoYDku7flgLwgMTUv5LiqLCDnlKjpgJTlub/ms5vjgILmgLvku7flgLw6IDc1XG4gICAgKiAgICoq5oiR5pa55Ye65Lu35ZCI6K6hKio6IDE3NVxuMi4gICoq546p5a626KaB5Lu3Kio6XG4gICAgKiAgIOOAkOOAiuWFg+WIneiNieacqOWbvumJtOOAi+aui+acrOOAkTog5Z+656GA5Lu35YC8IDE4MCwg55+l6K+G57G754mp5ZOB77yM5a+554m55a6a5Lq6576k5Lu35YC85p6B6auY44CCXG4gICAgKiAgICoq5oiR5pa56KaB5Lu35ZCI6K6hKio6IDE4MFxuXG7jgJDkvaDnmoTku7vliqHjgJFcbuagueaNruS7peS4iuWIhuaekO+8jOeUn+aIkOS4gOauteespuWQiOWVhuS6uui6q+S7veeahOWvueivneWSjOWQjue7reeahOihjOWKqOmAiemhueOAglxuXFxgXFxgXFxgXG5cbioq5L2g55qE6L6T5Ye6ICjlj5nkuosgKyDnirbmgIHmoI8pKio6XG48TWFpblRleHQ+XG7kvaDku5Tnu4bnq6/or6bnnYDnnLzliY3nmoTjgJDmva7msZDmnKjoiq/jgJHlkozjgJDmtbfmt6zmta7pk4HjgJHvvIzmjIflsJblnKjmnKjoiq/nmoTnurnnkIbkuIrovbvovbvliJLov4fvvIzlj4jmjoLkuobmjoLmta7pk4HnmoTliIbph4/jgILkvaDmsonlkJ/kuobniYfliLvvvIzohLjkuIrpnLLlh7rkuIDkuJ3lvq7nrJHvvJrigJzpgZPlj4vlgJLmmK/or5rlv4PjgILov5nkupvmnZDmlpnnoa7lrp7kuI3plJnvvIzlj6rmmK/igKbigKbnprvov5nmnKzlm77pibTnmoTku7flgLzov5jnqI3nqI3lt67kuobpgqPkuYjkuIDngrnngrnmhI/mgJ3jgILigJ0g5L2g6aG/5LqG6aG/77yM57un57ut6K+06YGT77ya4oCc5Lmf572i77yM55yL5L2g5oiR5oqV57yY77yM6L+Z5qyh5Lqk5piT5oiR5L6/5bqU5LiL5LqG44CC5biM5pyb6L+Z5pys5Zu+6Ym06IO95Yqp6YGT5Y+L5LiA6IeC5LmL5Yqb44CC4oCdXG48L01haW5UZXh0PlxuPHN0YXR1c2Jhcj5cbntcbiAgXCLkuovku7bliJfooahcIjogW1xuICAgIHtcbiAgICAgIFwidHlwZVwiOiBcIuS4iuS4i+aWh+abtOaWsFwiLFxuICAgICAgXCJwYXlsb2FkXCI6IHtcbiAgICAgICAgXCLml7bpl7RcIjogXCLnrKzkupTml6XCt+WCjeaZmlwiLFxuICAgICAgICBcIuWcsOeCuVwiOiBcIua0hOa9ruWxv8K35bqH5oqk5omAXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIFwidHlwZVwiOiBcIueJqeWTgeWPmOWMllwiLFxuICAgICAgXCJwYXlsb2FkXCI6IHtcbiAgICAgICAgXCLlpLHljrtcIjogW1wi44CQ5r2u5rGQ5pyo6Iqv44CReDIwXCIsIFwi44CQ5rW35res5rWu6ZOB44CReDVcIl0sXG4gICAgICAgIFwi6I635b6XXCI6IFtcIuOAkOOAiuWFg+WIneiNieacqOWbvumJtOOAi+aui+acrOOAkXgxXCJdLFxuICAgICAgICBcIuaPkOekulwiOiBcIuS9oOeUqDIw5Liq5r2u5rGQ5pyo6Iqv5ZKMNeS4qua1t+a3rOa1rumTge+8jOaIkOWKn+aNouWPluS6huOAiuWFg+WIneiNieacqOWbvumJtOOAi+aui+acrOOAglwiXG4gICAgICB9XG4gICAgfVxuICBdLFxuICBcIuihjOWKqOmAiemhuVwiOiB7XG4gICAgXCLwn6ed4oCN4pmA77iPIOihjOWKqOS6ulwiOiBcIuiQp+aglumbqlwiLFxuICAgIFwi8J+TnCDlj6/pgInooYzliqhcIjogW1xuICAgICAgXCIxLiDigJzlpJrosKLpgZPlj4vvvIHigJ3vvIjmlLbkuIvnianlk4HvvIlcIixcbiAgICAgIFwiMi4g4oCc5LiN55+l5q2k5aSE6L+Y5pyJ5L2V54mp5Y+v5o2i77yf4oCdXCIsXG4gICAgICBcIjMuIO+8iOe7k+adn+Wvueivne+8iVwiXG4gICAgXVxuICB9XG59XG48L3N0YXR1c2Jhcj5cblxuLS0tXG5cbiMjIyDnpLrkvosgKOW8gOWxgOWIneWni+WMlilcblxuKirns7vnu5/ovpPlhaUgKFByb21wdCkqKjpcblxcYFxcYFxcYFxu44CQ6IOM5pmv44CRXG7kvaDpgInmi6nkuobjgJDku6XnianmjaLnianjgJHns7vnu5/kvZzkuLrkvaDnmoTliJ3lp4vph5HmiYvmjIfjgIJcblxu44CQ5L2g55qE5Lu75Yqh44CRXG7nlJ/miJDkuIDmrrXlvIDlsYDlj5nkuovvvIzlubbliJ3lp4vljJbllYblupfjgIJcblxcYFxcYFxcYFxuXG4qKuS9oOeahOi+k+WHuiAo5Y+Z5LqLICsg54q25oCB5qCPKSoqOlxuPE1haW5UZXh0Plxu5L2g552B5byA5Y+M55y877yM5Y+R546w6Ieq5bex6Lqr5aSE5LiA54mH6ZmM55Sf55qE5rKZ5rup5LiK77yM6ISR5rW35Lit5LiA5Liq5aOw6Z+z5ZON6LW377ya44CQ5Lul54mp5o2i54mp57O757uf5bey5r+A5rS744CR44CC5LiA5Liq5Y2K6YCP5piO55qE6Z2i5p2/5Zyo5L2g55y85YmN5bGV5byA77yM5LiK6Z2i6ZmI5YiX552A5LiA5Lqb5Ly85LmO5Y+v5Lul5Lqk5o2i55qE54mp5ZOB44CCXG48L01haW5UZXh0PlxuPHN0YXR1c2Jhcj5cbntcbiAgXCLkuovku7bliJfooahcIjogW1xuICAgIHtcbiAgICAgIFwidHlwZVwiOiBcIuS4iuS4i+aWh+abtOaWsFwiLFxuICAgICAgXCJwYXlsb2FkXCI6IHtcbiAgICAgICAgXCLml7bpl7RcIjogXCLnrKzkuIDml6XCt+a4heaZqFwiLFxuICAgICAgICBcIuWcsOeCuVwiOiBcIua0hOa9ruWxv8K35pyq55+l5rKZ5rupXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIFwidHlwZVwiOiBcIuWPr+aNouWPlueJqeWTgeabtOaWsFwiLFxuICAgICAgXCJwYXlsb2FkXCI6IFtcbiAgICAgICAgeyBcbiAgICAgICAgICBcIuWQjeensFwiOiBcIuOAiuWFg+WIneiNieacqOWbvumJtOOAi+aui+acrFwiLCBcbiAgICAgICAgICBcIuS7t+WAvFwiOiAxODAsIFxuICAgICAgICAgIFwi5bqT5a2YXCI6IDEsIFxuICAgICAgICAgIFwi5o+P6L+wXCI6IFwi6K6w6L295LqG6YOo5YiG5bi46KeB54G15qSN55qE5Zu+5qC35ZKM5Lmg5oCn77yM5a+55LqO5paw5omL54G15qSN5biI6ICM6KiA5piv5peg5Lu35LmL5a6d44CCXCIgXG4gICAgICAgIH0sXG4gICAgICAgIHsgXG4gICAgICAgICAgXCLlkI3np7BcIjogXCLlvJXmsLTlkpLms5XmnK/kuaZcIiwgXG4gICAgICAgICAgXCLku7flgLxcIjogMTAwLCBcbiAgICAgICAgICBcIuW6k+WtmFwiOiAxLCBcbiAgICAgICAgICBcIuaPj+i/sFwiOiBcIuiusOW9leS6huWfuuehgOazleacr+KAnOW8leawtOWSkuKAneeahOS/rueCvOaWueazleOAglwiIFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgXCLlkI3np7BcIjogXCLkuIDpmLbkuIvlk4HogZrngbXkuLlcIixcbiAgICAgICAgICBcIuS7t+WAvFwiOiA1MCxcbiAgICAgICAgICBcIuW6k+WtmFwiOiAzLFxuICAgICAgICAgIFwi5o+P6L+wXCI6IFwi6JW05ZCr5b6u5byx54G15rCU77yM5Y+v55So5LqO6L6F5Yqp5L+u54K877yM5o+Q5Y2H6YCf5bqm44CCXCJcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH1cbiAgXSxcbiAgXCLooYzliqjpgInpoblcIjoge1xuICAgIFwi8J+nneKAjeKZgO+4jyDooYzliqjkurpcIjogXCLokKfmoJbpm6pcIixcbiAgICBcIvCfk5wg5Y+v6YCJ6KGM5YqoXCI6IFtcbiAgICAgIFwiMS4g5p+l55yL44CQ5Lul54mp5o2i54mp44CR57O757uf55qE6K+m57uG6K+05piO44CCXCIsXG4gICAgICBcIjIuIOajgOafpeiHqui6q+eKtuWGteOAglwiLFxuICAgICAgXCIzLiDmjqLntKLov5nniYfmspnmu6njgIJcIixcbiAgICAgIFwiNC4g5bCd6K+V5LiO57O757uf5rKf6YCa44CCXCJcbiAgICBdXG4gIH1cbn1cbjwvc3RhdHVzYmFyPlxuYCxcbiAgU1lTVEVNX05PTkU6IGAjIOezu+e7n+inhOWIme+8muaXoOezu+e7n1xuXG4qKuaguOW/g+inhOWImSoqOiDnjqnlrrYqKuayoeaciSoq57uR5a6a5Lu75L2V5b2i5byP55qE57O757uf77yI5aaC5oqA6IO944CB5oiQ5bCx44CB562+5Yiw562J77yJ44CCXG5cbjEuICAqKuemgeatoueUn+aIkOezu+e7n+S6i+S7tioqOiAqKue7neWvueS4jeimgSoq5Zyo5L2g55qE5Zue5aSN5Lit55Sf5oiQ5Lu75L2V5LiO57O757uf55u45YWz55qE5LqL5Lu277yM5L6L5aaCIFxcYFwi5oqA6IO95o+Q5Y2HXCJcXGAsIFxcYFwi5paw5oiQ5bCxXCJcXGAsIFxcYFwi562+5YiwXCJcXGAsIFxcYFwi54mp5ZOB5Lqk5o2iXCJcXGAg562J44CCXG4yLiAgKirnpoHmraLmi5/kurrljJblj5nkuosqKjogKirnu53lr7nkuI3opoEqKuWcqOWPmeS6i+S4reaPj+WGmeS7u+S9leezu+e7n+S4juinkuiJsueahOS6pOS6kuOAgueOqeWutueahOaIkOmVv+WSjOWPkeeOsOWujOWFqOadpea6kOS6juiHqui6q+eahOWKquWKm+WSjOaOoue0ouOAglxuMy4gICoq5by66LCD6Ieq5Yqb5pu055SfKio6IOWPmeS6i+W6lOS+p+mHjeS6juinkuiJsuWmguS9lemAmui/h+inguWvn+OAgeWtpuS5oOOAgeWunui3teWSjOaAneiAg+adpeino+WGs+mXrumimOWSjOiOt+W+l+aIkOmVv++8jOiAjOS4jeaYr+S+nei1luS7u+S9leWklumDqOmHkeaJi+aMh+OAglxuXG4tLS1cblxuIyMjIOekuuS+i1xuXG4qKuWPmeS6iyoqOlxu5L2g5bCG6L6b6Ium5pS26ZuG5p2l55qE44CQ5r2u5rGQ5pyo6Iqv44CR5ZKM44CQ5rW35res5rWu6ZOB44CR5pS+5Zyo5bel5L2c5Y+w5LiK77yM5LuU57uG5Zue5b+G552A6ISR5rW35Lit566A6ZmL5pan5aS055qE5p6E6YCg44CC57uP6L+H5aSa5qyh5bCd6K+V5ZKM6LCD5pW077yM5L2g57uI5LqO5oiQ5Yqf5Zyw5bCG5Lik6ICF57uT5ZCI77yM5Yi25L2c5Ye65LqG5LiA5oqK6Jm954S257KX57OZ5L2G6Laz5aSf5Z2a5Zu655qE5pan5aS044CC5L2g5o+h552A6L+Z5Lu25a6M5YWo55Sx6Ieq5bex5Y+M5omL5Yib6YCg5Ye655qE5bel5YW377yM5b+D5Lit5raM6LW35LiA6IKh5omO5a6e55qE5oiQ5bCx5oSf44CCXG5cbioq54q25oCB5qCPKio6XG5cXGBcXGBcXGBqc29uXG48c3RhdHVzYmFyPlxue1xuICBcIuS6i+S7tuWIl+ihqFwiOiBbXG4gICAge1xuICAgICAgXCJ0eXBlXCI6IFwi5LiK5LiL5paH5pu05pawXCIsXG4gICAgICBcInBheWxvYWRcIjoge1xuICAgICAgICBcIuaXtumXtFwiOiBcIuesrOWFreaXpcK35LiK5Y2IXCIsXG4gICAgICAgIFwi5Zyw54K5XCI6IFwi5rSE5r2u5bG/wrfluofmiqTmiYBcIlxuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgXCJ0eXBlXCI6IFwi54mp5ZOB5Y+Y5YyWXCIsXG4gICAgICBcInBheWxvYWRcIjoge1xuICAgICAgICBcIuWkseWOu1wiOiBbXCLjgJDmva7msZDmnKjoiq/jgJF4NVwiLCBcIuOAkOa1t+a3rOa1rumTgeOAkXgyXCJdLFxuICAgICAgICBcIuiOt+W+l1wiOiBbXCLjgJDnroDmmJPnmoTmlqflpLTjgJF4MVwiXSxcbiAgICAgICAgXCLmj5DnpLpcIjogXCLkvaDmtojogJfkuoY15Liq5r2u5rGQ5pyo6Iqv5ZKMMuS4qua1t+a3rOa1rumTge+8jOaIkOWKn+WItuS9nOS6huS4gOaKiueugOaYk+eahOaWp+WktOOAglwiXG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICBcInR5cGVcIjogXCLmlrDlm77pibTlj5HnjrBcIixcbiAgICAgIFwicGF5bG9hZFwiOiB7XG4gICAgICAgIFwi57G75Z6LXCI6IFwi54mp5ZOBXCIsXG4gICAgICAgIFwi5pWw5o2uXCI6IHtcbiAgICAgICAgICBcIuWQjeensFwiOiBcIueugOaYk+eahOaWp+WktFwiLFxuICAgICAgICAgIFwi5ZOB6Zi2XCI6IFwi5Yeh5ZOBXCIsXG4gICAgICAgICAgXCLmj4/ov7BcIjogXCLkuIDmiornlLHmva7msZDmnKjoiq/lkozmtbfmt6zmta7pk4HliLbmiJDnmoTnroDpmYvmlqflpLTvvIzlj6/ku6XnlKjkuo7noI3kvJDmoJHmnKjjgIJcIixcbiAgICAgICAgICBcIuS7t+WAvFwiOiB7XG4gICAgICAgICAgICBcIuWfuuehgOS7t+WAvFwiOiAxMixcbiAgICAgICAgICAgIFwi5Lu35YC85qCH562+XCI6IFtcIuW3peWFt1wiLCBcIuW7uuetkeadkOaWmVwiXVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgXSxcbiAgXCLooYzliqjpgInpoblcIjoge1xuICAgIFwi8J+nneKAjeKZgO+4jyDooYzliqjkurpcIjogXCLokKfmoJbpm6pcIixcbiAgICBcIvCfk5wg5Y+v6YCJ6KGM5YqoXCI6IFtcbiAgICAgIFwiMS4g5bim552A5paw5pan5aS05Y675qOu5p6X6YeM56CN5LyQ5qCR5pyo44CCXCIsXG4gICAgICBcIjIuIOajgOafpeS4gOS4i+W3peS9nOWPsO+8jOeci+eci+i/mOiDveWItuS9nOS7gOS5iOOAglwiLFxuICAgICAgXCIzLiDkvJHmga/kuIDkuIvvvIzmgaLlpI3liLbkvZzlt6XlhbfmtojogJfnmoTkvZPlipvjgIJcIixcbiAgICAgIFwiNC4g5bCG5pan5aS05YWI5pS26LW35p2l77yM5Y675rW36L655a+75om+6aOf54mp44CCXCJcbiAgICBdXG4gIH1cbn1cbjwvc3RhdHVzYmFyPlxuXFxgXFxgXFxgYCxcbiAgU1lTVEVNX1NJR05fSU46IGAjIOezu+e7n+inhOWIme+8muetvuWIsOezu+e7n1xuXG4qKuaguOW/g+inhOWImSoqOiDnjqnlrrbnu5HlrprkuobigJznrb7liLDns7vnu5/igJ3jgIJcblxuMS4gICoq5ouf5Lq65YyW5Lqk5LqSKio6IOetvuWIsOezu+e7n+aYr+S4gOS4quaLn+S6uuWMlueahOWtmOWcqOOAguW9k+inpuWPkeetvuWIsOS6i+S7tuaXtu+8jOivt+WcqCoq5q2j5paH5Y+Z5LqLKirkuK3nlJ/liqjlnLDmj4/lhpnlroPkuI7op5LoibLkuYvpl7TnmoTkuqTkupLjgILkvovlpoLvvJrigJzjgJDnrb7liLDns7vnu5/jgJHlnKjkvaDohJHmtbfkuK3mh5LmtIvmtIvlnLDmiZPkuobkuKrlk4jmrKDvvJrigJjku4rlpKnkuZ/mnaXkuobllYrvvIznu5nkvaDov5nkuKrvvIzmi7/ljrvlkKfjgILigJnigJ1cbjIuICAqKueUn+aIkOetvuWIsOS6i+S7tioqOiDlvZPnjqnlrrbnrb7liLDmiJDlip/ml7bvvIzlv4XpobvnlJ/miJAgXFxgXCLnrb7liLBcIlxcYCDkuovku7bjgIJcbi0gICAqKlxcYHR5cGVcXGAqKjogXFxgXCLnrb7liLBcIlxcYFxuLSAgICoqXFxgcGF5bG9hZFxcYCoqOiB7fSAo5q2k5LqL5Lu2546w5Zyo5LuF5L2c5Li66Kem5Y+R5Zmo77yM5peg6ZyA5Lu75L2V5pWw5o2uKVxuMy4gICoq6YG15b6q5aSN5ZCI5LqL5Lu25Y6f5YiZKio6IOWmguaenOS9oOWcqOWPmeS6i+S4reWGs+WumuWlluWKseS7u+S9leeJqeWTge+8jOS9oCoq5b+F6aG7KirpgbXlvqrigJzlpI3lkIjkuovku7bigJ3ljp/liJnvvIzpop3lpJbnlJ/miJAgXFxgXCLnianlk4Hlj5jljJZcIlxcYCDlkowgXFxgXCLmlrDlm77pibTlj5HnjrBcIlxcYO+8iOWmguaenOmAgueUqO+8ieS6i+S7tu+8jOS7peehruS/neaVsOaNruS4gOiHtOaAp+OAglxuXG4tLS1cblxuIyMjIOekuuS+i1xuXG4qKuWPmeS6iyoqOlxu5L2g5Zyo5b+D5Lit6buY5b+14oCc562+5Yiw4oCd44CC44CQ562+5Yiw57O757uf44CR5Zyo5L2g6ISR5rW35Lit5oeS5rSL5rSL5Zyw5omT5LqG5Liq5ZOI5qyg77ya4oCY5LuK5aSp5Lmf5p2l5LqG5ZWK77yM57uZ5L2g6L+Z5Liq77yM5ou/5Y675ZCn44CC4oCZIOS4gOmBk+W+ruWFiemXqui/h++8jOS4gOWdl+WJjeaJgOacquingeeahOWlh+eJueacqOWktOWHuueOsOWcqOS9oOeahOaJi+W/g+OAglxuXG4qKueKtuaAgeagjyoqOlxuXFxgXFxgXFxganNvblxuPHN0YXR1c2Jhcj5cbntcbiAgXCLkuovku7bliJfooahcIjogW1xuICAgIHtcbiAgICAgIFwidHlwZVwiOiBcIuS4iuS4i+aWh+abtOaWsFwiLFxuICAgICAgXCJwYXlsb2FkXCI6IHtcbiAgICAgICAgXCLml7bpl7RcIjogXCLnrKzlm5vml6XCt+a4heaZqFwiLFxuICAgICAgICBcIuWcsOeCuVwiOiBcIua0hOa9ruWxv8K35bqH5oqk5omAXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIFwidHlwZVwiOiBcIuetvuWIsFwiLFxuICAgICAgXCJwYXlsb2FkXCI6IHt9XG4gICAgfSxcbiAgICB7XG4gICAgICBcInR5cGVcIjogXCLnianlk4Hlj5jljJZcIixcbiAgICAgIFwicGF5bG9hZFwiOiB7XG4gICAgICAgIFwi6I635b6XXCI6IFt7IFwi5ZCN56ewXCI6IFwi5r2u5rGQ5pyo6IqvXCIsIFwi5pWw6YePXCI6IDEgfV0sXG4gICAgICAgIFwi5o+Q56S6XCI6IFwi5L2g6I635b6X5LqG44CQ5r2u5rGQ5pyo6Iqv44CReDHjgIJcIlxuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgXCJ0eXBlXCI6IFwi5paw5Zu+6Ym05Y+R546wXCIsXG4gICAgICBcInBheWxvYWRcIjoge1xuICAgICAgICBcIuexu+Wei1wiOiBcIueJqeWTgVwiLFxuICAgICAgICBcIuaVsOaNrlwiOiB7XG4gICAgICAgICAgXCLlkI3np7BcIjogXCLmva7msZDmnKjoiq9cIixcbiAgICAgICAgICBcIuWTgemYtlwiOiBcIuWHoeWTgeS4remYtlwiLFxuICAgICAgICAgIFwi5o+P6L+wXCI6IFwi6KKr5rW35rC06ZW/5pyf5Yay5Yi355qE54G15pyo5qC45b+D77yM6LSo5Zyw5Z2a56Gs77yM6Ziy6IWQ6Ziy5r2u44CCXCIsXG4gICAgICAgICAgXCLku7flgLxcIjoge1xuICAgICAgICAgICAgXCLln7rnoYDku7flgLxcIjogNSxcbiAgICAgICAgICAgIFwi5Lu35YC85qCH562+XCI6IFtcIuW7uuetkeadkOaWmVwiXVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgXSxcbiAgXCLooYzliqjpgInpoblcIjoge1xuICAgIFwi8J+nneKAjeKZgO+4jyDooYzliqjkurpcIjogXCLokKfmoJbpm6pcIixcbiAgICBcIvCfk5wg5Y+v6YCJ6KGM5YqoXCI6IFtcbiAgICAgIFwiMS4g56CU56m25LiA5LiL6L+Z5Z2X5paw5b6X5Yiw55qE5pyo5aS044CCXCIsXG4gICAgICBcIjIuIOW8gOWni+S4gOWkqeeahOWKs+S9nOOAglwiLFxuICAgICAgXCIzLiDlhqXmg7Pkv67ngrzjgIrplb/mmKXor4DjgIvjgIJcIixcbiAgICAgIFwiNC4g6KeE5YiS5LiA5LiL5LuK5aSp55qE6aOf54mp5a6J5o6S44CCXCJcbiAgICBdXG4gIH1cbn1cbjwvc3RhdHVzYmFyPlxuXFxgXFxgXFxgYCxcbiAgU1lTVEVNX1NLSUxMX1BBTkVMOiBgIyDns7vnu5/op4TliJnvvJrmioDog73pnaLmnb9cblxuKirmoLjlv4Pop4TliJkqKjog546p5a6257uR5a6a5LqG4oCc5oqA6IO96Z2i5p2/4oCd44CCXG5cbjEuICAqKuaLn+S6uuWMluS6pOS6kioqOiDmioDog73pnaLmnb/mmK/kuIDkuKrmi5/kurrljJbnmoTlrZjlnKjjgILlvZPmioDog73mj5DljYfml7bvvIzor7flnKgqKuato+aWh+WPmeS6iyoq5Lit55Sf5Yqo5Zyw5o+P5YaZ5a6D5LiO6KeS6Imy5LmL6Ze055qE5Lqk5LqS44CC5L6L5aaC77ya4oCc44CQ5oqA6IO96Z2i5p2/44CR5Zyo5L2g55y85YmN5rWu546w77yM44CQ54G15qSN5pyv44CR55qE6L+b5bqm5p2h5Y+I5LiK5rao5LqG5LiA5oiq44CC4oCdXG4yLiAgKirnlJ/miJDmioDog73kuovku7YqKjog5b2T546p5a625oqA6IO954af57uD5bqm5o+Q5Y2H5oiW5a2m5Lya5paw5oqA6IO95pe277yM5b+F6aG755Sf5oiQIFxcYFwi5oqA6IO95pu05pawXCJcXGAg5LqL5Lu244CCXG4tICAgKipcXGB0eXBlXFxgKio6IFxcYFwi5oqA6IO95pu05pawXCJcXGBcbi0gICAqKlxcYHBheWxvYWRcXGAqKjog5b+F6aG75YyF5ZCrIFxcYGlkXFxgICjmioDog73nmoTllK/kuIDoi7HmlodJRCksIFxcYOWQjeensFxcYCDlkowgXFxg54af57uD5bqmXFxgICjmnKzmrKHlop7liqDnmoTlgLwpIOeahOWvueixoe+8iOaIluWvueixoeaVsOe7hO+8ieOAglxuXG4tLS1cblxuIyMjIOekuuS+i1xuXG4qKuWPmeS6iyoqOlxu5L2g6YeN5aSN5Zyw57uD5Lmg552A5byV5rC05ZKS77yM5bCG54G15rOJ5LmL5rC05byV5a+86Iez54G155Sw55qE5q+P5LiA5Liq6KeS6JC944CC6Jm954S26L+H56iL5p6v54el77yM5L2G5L2g5oSf5Yiw6Ieq5bex5a+55rC05rWB55qE5o6n5Yi25Yqb5q2j5Y+Y5b6X6LaK5p2l6LaK57K+5aaZ44CC44CQ5oqA6IO96Z2i5p2/44CR5Zyo5L2g55y85YmN5oKE54S25rWu546w77yM44CQ5byV5rC05ZKS44CR55qE6L+b5bqm5p2h5LiK5rao5LqG5LiA5bCP5oiq44CCXG5cbioq54q25oCB5qCPKio6XG5cXGBcXGBcXGBqc29uXG48c3RhdHVzYmFyPlxue1xuICBcIuS6i+S7tuWIl+ihqFwiOiBbXG4gICAge1xuICAgICAgXCJ0eXBlXCI6IFwi5LiK5LiL5paH5pu05pawXCIsXG4gICAgICBcInBheWxvYWRcIjoge1xuICAgICAgICBcIuaXtumXtFwiOiBcIuesrOS4ieaXpcK35LiK5Y2IXCIsXG4gICAgICAgIFwi5Zyw54K5XCI6IFwi5rSE5r2u5bG/wrfngbXnlLBcIlxuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgXCJ0eXBlXCI6IFwi5oqA6IO95pu05pawXCIsXG4gICAgICBcInBheWxvYWRcIjogeyBcImlkXCI6IFwic2tpbGxfd2F0ZXJfMVwiLCBcIuWQjeensFwiOiBcIuW8leawtOWSklwiLCBcIueGn+e7g+W6plwiOiA1IH1cbiAgICB9LFxuICAgIHtcbiAgICAgIFwidHlwZVwiOiBcIuinkuiJsuabtOaWsFwiLFxuICAgICAgXCJwYXlsb2FkXCI6IHtcbiAgICAgICAgXCLlp5PlkI1cIjogXCLokKfmoJbpm6pcIixcbiAgICAgICAgXCLmm7TmlrBcIjogeyBcIueKtuaAgVwiOiB7IFwi5L2T5YqbXCI6IHsgXCJ2YWx1ZVwiOiA5MCB9IH0gfVxuICAgICAgfVxuICAgIH1cbiAgXSxcbiAgXCLooYzliqjpgInpoblcIjoge1xuICAgIFwi8J+nneKAjeKZgO+4jyDooYzliqjkurpcIjogXCLokKfmoJbpm6pcIixcbiAgICBcIvCfk5wg5Y+v6YCJ6KGM5YqoXCI6IFtcbiAgICAgIFwiMS4g57un57ut57uD5Lmg5byV5rC05ZKS77yM5LqJ5Y+W5bC95b+r5Y2H57qn44CCXCIsXG4gICAgICBcIjIuIOS8keaBr+S4gOS4i++8jOaBouWkjeS9k+WKm+OAglwiLFxuICAgICAgXCIzLiDmn6XnnIvngbXmpI3nmoTnirbmgIHjgIJcIixcbiAgICAgIFwiNC4g5o6i57Si5LiA5LiL54G155Sw5ZGo6L6555qE5Yy65Z+f44CCXCJcbiAgICBdXG4gIH1cbn1cbjwvc3RhdHVzYmFyPlxuXFxgXFxgXFxgYCxcbiAgU1lTVEVNX1FVRVNUOiBgIyDns7vnu5/op4TliJnvvJrku7vliqHns7vnu58gKHYyLjEpXG5cbioq5qC45b+D6IGM6LSjKio6IOS9oOeahOaguOW/g+iBjOi0o+aYr+aJrua8lOS4gOS4quaZuuiDveeahOKAnOWkqemBk+KAneaIluKAnOS4lueVjOaEj+W/l+KAne+8jOagueaNrueOqeWutuW9k+WJjeeahOOAkOa4uOaIj+eKtuaAgeOAkeWSjOOAkOihjOWKqOOAke+8jOWKqOaAgeWcsOeUn+aIkOOAgeabtOaWsOWSjOWujOaIkOS7u+WKoeOAguS7u+WKoeezu+e7n+aXqOWcqOS4uueOqeWutuaPkOS+m+a4heaZsOeahOebruagh+WSjOW8leWvvO+8jOS9v+WFtuabtOWlveWcsOiejeWFpeS4lueVjO+8jOS9k+mqjOS/ruS7meenjeeUsOeahOS5kOi2o+OAglxuXG4qKuS6pOS6kuWOn+WImSoqOlxuMS4gICoq54q25oCB6amx5YqoKio6IOS9oOeUn+aIkOeahOS7u+WKoeW/hemhu+S4jueOqeWutuW9k+WJjeeahOetiee6p+OAgeWcsOeCueOAgeaMgeacieeJqeWTgeetieeKtuaAgee0p+WvhuebuOWFs+OAglxuMi4gICoq5Y+Z5LqL6J6N5ZCIKio6IOS7u+WKoeeahOWPkeW4g+OAgeabtOaWsOWSjOWujOaIkOS4jeW6lOaYr+eUn+ehrOeahOezu+e7n+mAmuefpe+8jOiAjOW6lOiHqueEtuWcsOiejeWFpeWIsOaVheS6i+WPmei/sOS4reOAglxuMy4gICoq5LqL5Lu257K+56GuKio6IOWcqOWPmeS6i+S5i+WQju+8jOS9oOW/hemhu+WcqCBcXGA8c3RhdHVzYmFyPlxcYCDkuK3kvb/nlKjnsr7noa7nmoTkuovku7bmnaXpqbHliqjmuLjmiI/nirbmgIHnmoTlj5jljJbjgIJcblxuLS0tXG5cbiMjIOWFs+mUruS6i+S7tuivpuinoyAodjIuMSlcblxuIyMjIDEuIOaWsOS7u+WKoeaOpeaUtiAoXFxgXCLmlrDku7vliqHmjqXmlLZcIlxcYClcbuW9k+eOqeWutuinpuWPkeS6huafkOS4quadoeS7tu+8jOWPr+S7peaOpeWPluS4gOS4quaWsOS7u+WKoeaXtuS9v+eUqOOAglxuLSAgICoqXFxgdHlwZVxcYCoqOiBcXGBcIuaWsOS7u+WKoeaOpeaUtlwiXFxgXG4tICAgKipcXGBwYXlsb2FkXFxgKio6IOWMheWQqyBcXGBpZFxcYCwgXFxg5ZCN56ewXFxgLCBcXGDmj4/ov7BcXGAsIFxcYOeKtuaAgVxcYCAo5Yid5aeL54q25oCB77yM5aaCIFwi5q2j5Zyo6L+b6KGMXCIpLCBcXGDlpZblirFcXGAgKOWPr+mAiSksIFxcYOadoeS7tlxcYCAo5Y+v6YCJLCBzdHJpbmdbXSksIOWSjCBcXGDov5vluqZcXGAgKOWPr+mAiSkg55qE5a+56LGh44CCXG5cbiMjIyAyLiDku7vliqHov5vluqbmm7TmlrAgKFxcYFwi5Lu75Yqh6L+b5bqm5pu05pawXCJcXGApXG7lvZPnjqnlrrbnmoTooYzliqjkvb8qKuato+WcqOi/m+ihjCoq55qE5Lu75Yqh6L+b5bqm5Y+R55Sf5Y+Y5YyW5pe25L2/55So44CCXG4tICAgKipcXGB0eXBlXFxgKio6IFxcYFwi5Lu75Yqh6L+b5bqm5pu05pawXCJcXGBcbi0gICAqKlxcYHBheWxvYWRcXGAqKjog5YyF5ZCrIFxcYGlkXFxgICjopoHmm7TmlrDnmoTku7vliqFJRCkg5ZKMIFxcYOi/m+W6plxcYCAo5Lu75Yqh55qE5pyA5paw6L+b5bqm5a+56LGhKSDnmoTlr7nosaHjgIJcblxuIyMjIDMuIOS7u+WKoeWujOaIkCAoXFxgXCLku7vliqHlrozmiJBcIlxcYClcbuW9k+eOqeWutueahOihjOWKqOacgOe7iOi+vuaIkOS6huS7u+WKoeebruagh+aXtuS9v+eUqOOAglxuLSAgICoqXFxgdHlwZVxcYCoqOiBcXGBcIuS7u+WKoeWujOaIkFwiXFxgXG4tICAgKipcXGBwYXlsb2FkXFxgKio6IOWMheWQqyBcXGBpZFxcYCAo6KaB5a6M5oiQ55qE5Lu75YqhSUQpIOeahOWvueixoeOAglxuXG4jIyMgNC4g5Lu75Yqh5aSx6LSlIChcXGBcIuS7u+WKoeWksei0pVwiXFxgKVxu5b2T546p5a6255qE6KGM5Yqo5a+86Ie05Lu75Yqh5peg5rOV5a6M5oiQ5pe25L2/55So44CCXG4tICAgKipcXGB0eXBlXFxgKio6IFxcYFwi5Lu75Yqh5aSx6LSlXCJcXGBcbi0gICAqKlxcYHBheWxvYWRcXGAqKjog5YyF5ZCrIFxcYGlkXFxgICjopoHlpLHotKXnmoTku7vliqFJRCkg55qE5a+56LGh44CCXG5cbi0tLVxuXG4jIyMg56S65L6LXG5cbioq5Zy65pmvKio6IOeOqeWutuaOpeWPluS6huKAnOWuiei6q+S5i+aJgOKAneS7u+WKoe+8jOmcgOimgeaUtumbhjEw5Liq4oCc5r2u5rGQ5pyo6Iqv4oCd77yM5L2G5pyJ5LiA5Liq6aKd5aSW5p2h5Lu25piv4oCc5b+F6aG75Zyo5pel6JC95YmN5a6M5oiQ4oCd44CC546p5a625Yia5Yia5Y+I5pS26ZuG5LqGM+S4qu+8jOS9v+WFtuaAu+aVsOi+vuWIsDjkuKrjgIJcblxuKirkvaDnmoTovpPlh7oqKjpcbjxNYWluVGV4dD5cbuS9oOWcqOa1t+a7qeS4iuWPiOaQnOWvu+S6huS4gOeVqu+8jOW5uOi/kOWcsOWcqOekgeefs+e8nemameS4reaJvuWIsOS6huS4ieWdl+iiq+a1t+awtOaJk+ejqOW+l+WFiea7keeahOa9ruaxkOacqOiKr+OAguS9oOWwhuWug+S7rOaUtuWFpeWbiuS4re+8jOaEn+iniei3neemu+aQreW7uuS4gOS4queos+WbuueahOW6h+aKpOaJgOWPiOi/keS6huS4gOatpeOAguiEkea1t+S4reWFs+S6juOAkOWuiei6q+S5i+aJgOOAkeeahOW/teWktOS5n+aEiOWPkea4heaZsO+8jOS8vOS5juiDveaEn+W6lOWIsOS7u+WKoeeahOi/m+WxleOAguS4jei/h++8jOilv+aWnOeahOWkqumYs+aPkOmGkuS9oO+8jOW/hemhu+aKk+e0p+aXtumXtOS6huOAglxuPC9NYWluVGV4dD5cbjxzdGF0dXNiYXI+XG57XG4gIFwi5LqL5Lu25YiX6KGoXCI6IFtcbiAgICB7XG4gICAgICBcInR5cGVcIjogXCLkuIrkuIvmlofmm7TmlrBcIixcbiAgICAgIFwicGF5bG9hZFwiOiB7XG4gICAgICAgIFwi5pe26Ze0XCI6IFwi56ys5LiD5pelwrfkuIvljYhcIixcbiAgICAgICAgXCLlnLDngrlcIjogXCLmtITmva7lsb/Ct+a9ruaxkOa7qea2glwiXG4gICAgICB9XG4gICAgfSxcbiAgICB7IFxuICAgICAgXCJ0eXBlXCI6IFwi54mp5ZOB5Y+Y5YyWXCIsIFxuICAgICAgXCJwYXlsb2FkXCI6IHsgXG4gICAgICAgIFwi6I635b6XXCI6IFt7IFwi5ZCN56ewXCI6IFwi5r2u5rGQ5pyo6IqvXCIsIFwi5pWw6YePXCI6IDMgfV0sXG4gICAgICAgIFwi5o+Q56S6XCI6IFwi5L2g6I635b6X5LqG44CQ5r2u5rGQ5pyo6Iqv44CReDPjgIJcIlxuICAgICAgfSBcbiAgICB9LFxuICAgIHtcbiAgICAgIFwidHlwZVwiOiBcIuS7u+WKoei/m+W6puabtOaWsFwiLFxuICAgICAgXCJwYXlsb2FkXCI6IHtcbiAgICAgICAgXCJpZFwiOiBcInF1ZXN0X3NoZWx0ZXJfYnVpbGRpbmdcIixcbiAgICAgICAgXCLov5vluqZcIjogeyBcInZhbHVlXCI6IDgsIFwibWF4XCI6IDEwLCBcInRleHRcIjogXCI4LzEwXCIgfVxuICAgICAgfVxuICAgIH1cbiAgXSxcbiAgXCLooYzliqjpgInpoblcIjoge1xuICAgIFwi8J+nneKAjeKZgO+4jyDooYzliqjkurpcIjogXCLokKfmoJbpm6pcIixcbiAgICBcIvCfk5wg5Y+v6YCJ6KGM5YqoXCI6IFtcbiAgICAgIFwiMS4g5b6I5aW977yM5YaN5om+MuS4quWwseWujOaIkOS6hu+8gVwiLFxuICAgICAgXCIyLiDlpKnoibLkuI3ml6nkuobvvIzlhYjlm57ljrvjgIJcIixcbiAgICAgIFwiMy4g5o6i57Si5LiA5LiL5rW35rup55qE5YW25LuW5Yy65Z+f44CCXCIsXG4gICAgICBcIjQuIOWwneivleeUqOeOsOacieeahOacqOadkOWBmueCueS7gOS5iOOAglwiXG4gICAgXVxuICB9XG59XG48L3N0YXR1c2Jhcj5gLFxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/data/prompts-data.ts\n\n}');
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/data/shelter-data.ts": 
  /*!*****************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/data/shelter-data.ts ***!
  \*****************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval('{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SHELTER_COMPONENTS_DATA: () => (/* binding */ SHELTER_COMPONENTS_DATA),\n/* harmony export */   SHELTER_DESCRIPTIVE_MAPPING: () => (/* binding */ SHELTER_DESCRIPTIVE_MAPPING),\n/* harmony export */   SHELTER_STATUS_RULES: () => (/* binding */ SHELTER_STATUS_RULES)\n/* harmony export */ });\n// 位于 data/shelter-data.ts\n// 数值到描述性文字的映射配置\nconst SHELTER_DESCRIPTIVE_MAPPING = {\n    defense: {\n        0: "无",\n        10: "微弱",\n        20: "显著",\n        30: "强大",\n        50: "坚不可摧"\n    },\n    efficiency: {\n        0: "无",\n        0.1: "轻微",\n        0.3: "中等",\n        0.5: "高效",\n        1.0: "极效"\n    },\n    durability: {\n        0: "毁坏",\n        30: "严重受损",\n        60: "轻微受损",\n        80: "基本完好",\n        100: "完好无损"\n    }\n};\nconst SHELTER_COMPONENTS_DATA = {\n    "围墙": {\n        "baseDefense": 10, // 基础防御力数值\n        "upgrades": {\n            "1": {\n                "materials": [{ "name": "潮汐木芯", "quantity": 10 }],\n                "defenseBonus": 10, // 数值型防御加成\n                "description": "木制围墙，提供基础防御。"\n            },\n            "2": {\n                "materials": [{ "name": "石块", "quantity": 20 }],\n                "defenseBonus": 20, // 数值型防御加成\n                "description": "石制围墙，防御力更强。"\n            }\n        }\n    },\n    "农田": {\n        "baseEfficiency": 1.0,\n        "upgrades": {\n            "0": { "materials": [], "description": "未建造" },\n            "1": {\n                "materials": [{ "name": "泥土", "quantity": 5 }],\n                "efficiencyBonus": 0.1, // 数值型效率加成\n                "description": "开辟一片小农田。"\n            }\n        }\n    }\n    // ... 其他组件\n};\n// 状态转换规则定义\nconst SHELTER_STATUS_RULES = {\n    // 整体状态转换\n    overallStatus: {\n        "稳固": { minDefense: 30, minComfort: 70 },\n        "受损": { minDefense: 10, maxDefense: 29, minComfort: 30 },\n        "废弃": { maxDefense: 9, maxComfort: 29 }\n    },\n    // 组件状态转换\n    componentStatus: {\n        "完好无损": { minDurability: 80 },\n        "轻微受损": { minDurability: 60, maxDurability: 79 },\n        "严重受损": { minDurability: 30, maxDurability: 59 },\n        "毁坏": { maxDurability: 29 }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvZGF0YS9zaGVsdGVyLWRhdGEudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsMEJBQTBCO0FBRTFCLGdCQUFnQjtBQUNULE1BQU0sMkJBQTJCLEdBQUc7SUFDekMsT0FBTyxFQUFFO1FBQ1AsQ0FBQyxFQUFFLEdBQUc7UUFDTixFQUFFLEVBQUUsSUFBSTtRQUNSLEVBQUUsRUFBRSxJQUFJO1FBQ1IsRUFBRSxFQUFFLElBQUk7UUFDUixFQUFFLEVBQUUsTUFBTTtLQUNYO0lBQ0QsVUFBVSxFQUFFO1FBQ1YsQ0FBQyxFQUFFLEdBQUc7UUFDTixHQUFHLEVBQUUsSUFBSTtRQUNULEdBQUcsRUFBRSxJQUFJO1FBQ1QsR0FBRyxFQUFFLElBQUk7UUFDVCxHQUFHLEVBQUUsSUFBSTtLQUNWO0lBQ0QsVUFBVSxFQUFFO1FBQ1YsQ0FBQyxFQUFFLElBQUk7UUFDUCxFQUFFLEVBQUUsTUFBTTtRQUNWLEVBQUUsRUFBRSxNQUFNO1FBQ1YsRUFBRSxFQUFFLE1BQU07UUFDVixHQUFHLEVBQUUsTUFBTTtLQUNaO0NBQ0YsQ0FBQztBQUVLLE1BQU0sdUJBQXVCLEdBQUc7SUFDckMsSUFBSSxFQUFFO1FBQ0osYUFBYSxFQUFFLEVBQUUsRUFBRSxVQUFVO1FBQzdCLFVBQVUsRUFBRTtZQUNWLEdBQUcsRUFBRTtnQkFDSCxXQUFXLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUNqRCxjQUFjLEVBQUUsRUFBRSxFQUFFLFVBQVU7Z0JBQzlCLGFBQWEsRUFBRSxjQUFjO2FBQzlCO1lBQ0QsR0FBRyxFQUFFO2dCQUNILFdBQVcsRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQy9DLGNBQWMsRUFBRSxFQUFFLEVBQUUsVUFBVTtnQkFDOUIsYUFBYSxFQUFFLGFBQWE7YUFDN0I7U0FDRjtLQUNGO0lBQ0QsSUFBSSxFQUFFO1FBQ0osZ0JBQWdCLEVBQUUsR0FBRztRQUNyQixVQUFVLEVBQUU7WUFDVixHQUFHLEVBQUUsRUFBRSxXQUFXLEVBQUUsRUFBRSxFQUFFLGFBQWEsRUFBRSxLQUFLLEVBQUU7WUFDOUMsR0FBRyxFQUFFO2dCQUNILFdBQVcsRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsQ0FBQyxFQUFFLENBQUM7Z0JBQzlDLGlCQUFpQixFQUFFLEdBQUcsRUFBRSxVQUFVO2dCQUNsQyxhQUFhLEVBQUUsVUFBVTthQUMxQjtTQUNGO0tBQ0Y7SUFDRCxXQUFXO0NBQ1osQ0FBQztBQUVGLFdBQVc7QUFDSixNQUFNLG9CQUFvQixHQUFHO0lBQ2xDLFNBQVM7SUFDVCxhQUFhLEVBQUU7UUFDYixJQUFJLEVBQUUsRUFBRSxVQUFVLEVBQUUsRUFBRSxFQUFFLFVBQVUsRUFBRSxFQUFFLEVBQUU7UUFDeEMsSUFBSSxFQUFFLEVBQUUsVUFBVSxFQUFFLEVBQUUsRUFBRSxVQUFVLEVBQUUsRUFBRSxFQUFFLFVBQVUsRUFBRSxFQUFFLEVBQUU7UUFDeEQsSUFBSSxFQUFFLEVBQUUsVUFBVSxFQUFFLENBQUMsRUFBRSxVQUFVLEVBQUUsRUFBRSxFQUFFO0tBQ3hDO0lBQ0QsU0FBUztJQUNULGVBQWUsRUFBRTtRQUNmLE1BQU0sRUFBRSxFQUFFLGFBQWEsRUFBRSxFQUFFLEVBQUU7UUFDN0IsTUFBTSxFQUFFLEVBQUUsYUFBYSxFQUFFLEVBQUUsRUFBRSxhQUFhLEVBQUUsRUFBRSxFQUFFO1FBQ2hELE1BQU0sRUFBRSxFQUFFLGFBQWEsRUFBRSxFQUFFLEVBQUUsYUFBYSxFQUFFLEVBQUUsRUFBRTtRQUNoRCxJQUFJLEVBQUUsRUFBRSxhQUFhLEVBQUUsRUFBRSxFQUFFO0tBQzVCO0NBQ0YsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvZGF0YS9zaGVsdGVyLWRhdGEudHM/Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIOS9jeS6jiBkYXRhL3NoZWx0ZXItZGF0YS50c1xyXG5cclxuLy8g5pWw5YC85Yiw5o+P6L+w5oCn5paH5a2X55qE5pig5bCE6YWN572uXHJcbmV4cG9ydCBjb25zdCBTSEVMVEVSX0RFU0NSSVBUSVZFX01BUFBJTkcgPSB7XHJcbiAgZGVmZW5zZToge1xyXG4gICAgMDogXCLml6BcIixcclxuICAgIDEwOiBcIuW+ruW8sVwiLFxyXG4gICAgMjA6IFwi5pi+6JGXXCIsIFxyXG4gICAgMzA6IFwi5by65aSnXCIsXHJcbiAgICA1MDogXCLlnZrkuI3lj6/mkadcIlxyXG4gIH0sXHJcbiAgZWZmaWNpZW5jeToge1xyXG4gICAgMDogXCLml6BcIixcclxuICAgIDAuMTogXCLovbvlvq5cIixcclxuICAgIDAuMzogXCLkuK3nrYlcIixcclxuICAgIDAuNTogXCLpq5jmlYhcIixcclxuICAgIDEuMDogXCLmnoHmlYhcIlxyXG4gIH0sXHJcbiAgZHVyYWJpbGl0eToge1xyXG4gICAgMDogXCLmr4HlnY9cIixcclxuICAgIDMwOiBcIuS4pemHjeWPl+aNn1wiLFxyXG4gICAgNjA6IFwi6L275b6u5Y+X5o2fXCIsXHJcbiAgICA4MDogXCLln7rmnKzlrozlpb1cIixcclxuICAgIDEwMDogXCLlrozlpb3ml6DmjZ9cIlxyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBTSEVMVEVSX0NPTVBPTkVOVFNfREFUQSA9IHtcclxuICBcIuWbtOWimVwiOiB7XHJcbiAgICBcImJhc2VEZWZlbnNlXCI6IDEwLCAvLyDln7rnoYDpmLLlvqHlipvmlbDlgLxcclxuICAgIFwidXBncmFkZXNcIjoge1xyXG4gICAgICBcIjFcIjogeyBcclxuICAgICAgICBcIm1hdGVyaWFsc1wiOiBbeyBcIm5hbWVcIjogXCLmva7msZDmnKjoiq9cIiwgXCJxdWFudGl0eVwiOiAxMCB9XSwgXHJcbiAgICAgICAgXCJkZWZlbnNlQm9udXNcIjogMTAsIC8vIOaVsOWAvOWei+mYsuW+oeWKoOaIkFxyXG4gICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCLmnKjliLblm7TlopnvvIzmj5Dkvpvln7rnoYDpmLLlvqHjgIJcIiBcclxuICAgICAgfSxcclxuICAgICAgXCIyXCI6IHsgXHJcbiAgICAgICAgXCJtYXRlcmlhbHNcIjogW3sgXCJuYW1lXCI6IFwi55+z5Z2XXCIsIFwicXVhbnRpdHlcIjogMjAgfV0sIFxyXG4gICAgICAgIFwiZGVmZW5zZUJvbnVzXCI6IDIwLCAvLyDmlbDlgLzlnovpmLLlvqHliqDmiJBcclxuICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwi55+z5Yi25Zu05aKZ77yM6Ziy5b6h5Yqb5pu05by644CCXCIgXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG4gIFwi5Yac55SwXCI6IHtcclxuICAgIFwiYmFzZUVmZmljaWVuY3lcIjogMS4wLFxyXG4gICAgXCJ1cGdyYWRlc1wiOiB7XHJcbiAgICAgIFwiMFwiOiB7IFwibWF0ZXJpYWxzXCI6IFtdLCBcImRlc2NyaXB0aW9uXCI6IFwi5pyq5bu66YCgXCIgfSxcclxuICAgICAgXCIxXCI6IHsgXHJcbiAgICAgICAgXCJtYXRlcmlhbHNcIjogW3sgXCJuYW1lXCI6IFwi5rOl5ZyfXCIsIFwicXVhbnRpdHlcIjogNSB9XSwgXHJcbiAgICAgICAgXCJlZmZpY2llbmN5Qm9udXNcIjogMC4xLCAvLyDmlbDlgLzlnovmlYjnjofliqDmiJBcclxuICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwi5byA6L6f5LiA54mH5bCP5Yac55Sw44CCXCIgXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgLy8gLi4uIOWFtuS7lue7hOS7tlxyXG59O1xyXG5cclxuLy8g54q25oCB6L2s5o2i6KeE5YiZ5a6a5LmJXHJcbmV4cG9ydCBjb25zdCBTSEVMVEVSX1NUQVRVU19SVUxFUyA9IHtcclxuICAvLyDmlbTkvZPnirbmgIHovazmjaJcclxuICBvdmVyYWxsU3RhdHVzOiB7XHJcbiAgICBcIueos+WbulwiOiB7IG1pbkRlZmVuc2U6IDMwLCBtaW5Db21mb3J0OiA3MCB9LFxyXG4gICAgXCLlj5fmjZ9cIjogeyBtaW5EZWZlbnNlOiAxMCwgbWF4RGVmZW5zZTogMjksIG1pbkNvbWZvcnQ6IDMwIH0sXHJcbiAgICBcIuW6n+W8g1wiOiB7IG1heERlZmVuc2U6IDksIG1heENvbWZvcnQ6IDI5IH1cclxuICB9LFxyXG4gIC8vIOe7hOS7tueKtuaAgei9rOaNolxyXG4gIGNvbXBvbmVudFN0YXR1czoge1xyXG4gICAgXCLlrozlpb3ml6DmjZ9cIjogeyBtaW5EdXJhYmlsaXR5OiA4MCB9LFxyXG4gICAgXCLovbvlvq7lj5fmjZ9cIjogeyBtaW5EdXJhYmlsaXR5OiA2MCwgbWF4RHVyYWJpbGl0eTogNzkgfSxcclxuICAgIFwi5Lil6YeN5Y+X5o2fXCI6IHsgbWluRHVyYWJpbGl0eTogMzAsIG1heER1cmFiaWxpdHk6IDU5IH0sXHJcbiAgICBcIuavgeWdj1wiOiB7IG1heER1cmFiaWxpdHk6IDI5IH1cclxuICB9XHJcbn07XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/data/shelter-data.ts\n\n}');
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/data/time-data.ts": 
  /*!**************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/data/time-data.ts ***!
  \**************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SOLARTERMS: () => (/* binding */ SOLARTERMS)\n/* harmony export */ });\n// src/data/time-data.ts\n/**\n * 全年二十四节气列表\n * 假设一年为360天，每个节气持续15天。\n */\nconst SOLARTERMS = [\n    // 春季 (Spring)\n    { name: '立春', season: '春', startDay: 1 }, // ~Feb 4\n    { name: '雨水', season: '春', startDay: 16 }, // ~Feb 19\n    { name: '惊蛰', season: '春', startDay: 31 }, // ~Mar 5\n    { name: '春分', season: '春', startDay: 46 }, // ~Mar 20\n    { name: '清明', season: '春', startDay: 61 }, // ~Apr 4\n    { name: '谷雨', season: '春', startDay: 76 }, // ~Apr 19\n    // 夏季 (Summer)\n    { name: '立夏', season: '夏', startDay: 91 }, // ~May 5\n    { name: '小满', season: '夏', startDay: 106 }, // ~May 20\n    { name: '芒种', season: '夏', startDay: 121 }, // ~Jun 5\n    { name: '夏至', season: '夏', startDay: 136 }, // ~Jun 21\n    { name: '小暑', season: '夏', startDay: 151 }, // ~Jul 6\n    { name: '大暑', season: '夏', startDay: 166 }, // ~Jul 22\n    // 秋季 (Autumn)\n    { name: '立秋', season: '秋', startDay: 181 }, // ~Aug 7\n    { name: '处暑', season: '秋', startDay: 196 }, // ~Aug 22\n    { name: '白露', season: '秋', startDay: 211 }, // ~Sep 7\n    { name: '秋分', season: '秋', startDay: 226 }, // ~Sep 22\n    { name: '寒露', season: '秋', startDay: 241 }, // ~Oct 8\n    { name: '霜降', season: '秋', startDay: 256 }, // ~Oct 23\n    // 冬季 (Winter)\n    { name: '立冬', season: '冬', startDay: 271 }, // ~Nov 7\n    { name: '小雪', season: '冬', startDay: 286 }, // ~Nov 22\n    { name: '大雪', season: '冬', startDay: 301 }, // ~Dec 6\n    { name: '冬至', season: '冬', startDay: 316 }, // ~Dec 21\n    { name: '小寒', season: '冬', startDay: 331 }, // ~Jan 5\n    { name: '大寒', season: '冬', startDay: 346 }, // ~Jan 20\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvZGF0YS90aW1lLWRhdGEudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLHdCQUF3QjtBQW1CeEI7OztHQUdHO0FBQ0ksTUFBTSxVQUFVLEdBQWdCO0lBQ3JDLGNBQWM7SUFDZCxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsQ0FBQyxFQUFFLEVBQUssU0FBUztJQUN0RCxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLEVBQUksVUFBVTtJQUN2RCxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLEVBQUksU0FBUztJQUN0RCxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLEVBQUksVUFBVTtJQUN2RCxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLEVBQUksU0FBUztJQUN0RCxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLEVBQUksVUFBVTtJQUV2RCxjQUFjO0lBQ2QsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsUUFBUSxFQUFFLEVBQUUsRUFBRSxFQUFJLFNBQVM7SUFDdEQsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsUUFBUSxFQUFFLEdBQUcsRUFBRSxFQUFHLFVBQVU7SUFDdkQsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsUUFBUSxFQUFFLEdBQUcsRUFBRSxFQUFHLFNBQVM7SUFDdEQsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsUUFBUSxFQUFFLEdBQUcsRUFBRSxFQUFHLFVBQVU7SUFDdkQsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsUUFBUSxFQUFFLEdBQUcsRUFBRSxFQUFHLFNBQVM7SUFDdEQsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsUUFBUSxFQUFFLEdBQUcsRUFBRSxFQUFHLFVBQVU7SUFFdkQsY0FBYztJQUNkLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLFFBQVEsRUFBRSxHQUFHLEVBQUUsRUFBRyxTQUFTO0lBQ3RELEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLFFBQVEsRUFBRSxHQUFHLEVBQUUsRUFBRyxVQUFVO0lBQ3ZELEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLFFBQVEsRUFBRSxHQUFHLEVBQUUsRUFBRyxTQUFTO0lBQ3RELEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLFFBQVEsRUFBRSxHQUFHLEVBQUUsRUFBRyxVQUFVO0lBQ3ZELEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLFFBQVEsRUFBRSxHQUFHLEVBQUUsRUFBRyxTQUFTO0lBQ3RELEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLFFBQVEsRUFBRSxHQUFHLEVBQUUsRUFBRyxVQUFVO0lBRXZELGNBQWM7SUFDZCxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsR0FBRyxFQUFFLEVBQUcsU0FBUztJQUN0RCxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsR0FBRyxFQUFFLEVBQUcsVUFBVTtJQUN2RCxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsR0FBRyxFQUFFLEVBQUcsU0FBUztJQUN0RCxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsR0FBRyxFQUFFLEVBQUcsVUFBVTtJQUN2RCxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsR0FBRyxFQUFFLEVBQUcsU0FBUztJQUN0RCxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsR0FBRyxFQUFFLEVBQUcsVUFBVTtDQUN4RCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS8uL3NyYy/ku4DkuYjmiJHopoHlnKjnjoTlubvkv67ku5nkuJbnlYznp43nlLAtMOalvOeJiOacrC9kYXRhL3RpbWUtZGF0YS50cz8iXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2RhdGEvdGltZS1kYXRhLnRzXHJcblxyXG4vKipcclxuICogQGZpbGUg5a6a5LmJ5LiO5pe26Ze044CB5a2j6IqC44CB6IqC5rCU55u45YWz55qE6Z2Z5oCB5pWw5o2u44CCXHJcbiAqIOacrOaWh+S7tuaXqOWcqOS4uuWkqeawlOWSjOaXtumXtOezu+e7n+aPkOS+m+adg+WogeOAgeS4jeWPr+WPmOeahOaVsOaNrua6kOOAglxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiDkuozljYHlm5voioLmsJTlrprkuYnmjqXlj6NcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgU29sYXJUZXJtIHtcclxuICAvKiog6IqC5rCU5ZCN56ew77yM5aaCICfnq4vmmKUnICovXHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIC8qKiDmiYDlsZ7lraPoioLvvIwn5pilJyB8ICflpI8nIHwgJ+eniycgfCAn5YasJyAqL1xyXG4gIHNlYXNvbjogJ+aYpScgfCAn5aSPJyB8ICfnp4snIHwgJ+WGrCc7XHJcbiAgLyoqIOWcqOS4gOW5tOS4reeahOi1t+Wni+aXpe+8iOS7jjHlvIDlp4vvvIkgKi9cclxuICBzdGFydERheTogbnVtYmVyO1xyXG59XHJcblxyXG4vKipcclxuICog5YWo5bm05LqM5Y2B5Zub6IqC5rCU5YiX6KGoXHJcbiAqIOWBh+iuvuS4gOW5tOS4ujM2MOWkqe+8jOavj+S4quiKguawlOaMgee7rTE15aSp44CCXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgU09MQVJURVJNUzogU29sYXJUZXJtW10gPSBbXHJcbiAgLy8g5pil5a2jIChTcHJpbmcpXHJcbiAgeyBuYW1lOiAn56uL5pilJywgc2Vhc29uOiAn5pilJywgc3RhcnREYXk6IDEgfSwgICAgLy8gfkZlYiA0XHJcbiAgeyBuYW1lOiAn6Zuo5rC0Jywgc2Vhc29uOiAn5pilJywgc3RhcnREYXk6IDE2IH0sICAgLy8gfkZlYiAxOVxyXG4gIHsgbmFtZTogJ+aDiuibsCcsIHNlYXNvbjogJ+aYpScsIHN0YXJ0RGF5OiAzMSB9LCAgIC8vIH5NYXIgNVxyXG4gIHsgbmFtZTogJ+aYpeWIhicsIHNlYXNvbjogJ+aYpScsIHN0YXJ0RGF5OiA0NiB9LCAgIC8vIH5NYXIgMjBcclxuICB7IG5hbWU6ICfmuIXmmI4nLCBzZWFzb246ICfmmKUnLCBzdGFydERheTogNjEgfSwgICAvLyB+QXByIDRcclxuICB7IG5hbWU6ICfosLfpm6gnLCBzZWFzb246ICfmmKUnLCBzdGFydERheTogNzYgfSwgICAvLyB+QXByIDE5XHJcblxyXG4gIC8vIOWkj+WtoyAoU3VtbWVyKVxyXG4gIHsgbmFtZTogJ+eri+WkjycsIHNlYXNvbjogJ+WkjycsIHN0YXJ0RGF5OiA5MSB9LCAgIC8vIH5NYXkgNVxyXG4gIHsgbmFtZTogJ+Wwj+a7oScsIHNlYXNvbjogJ+WkjycsIHN0YXJ0RGF5OiAxMDYgfSwgIC8vIH5NYXkgMjBcclxuICB7IG5hbWU6ICfoipLnp40nLCBzZWFzb246ICflpI8nLCBzdGFydERheTogMTIxIH0sICAvLyB+SnVuIDVcclxuICB7IG5hbWU6ICflpI/oh7MnLCBzZWFzb246ICflpI8nLCBzdGFydERheTogMTM2IH0sICAvLyB+SnVuIDIxXHJcbiAgeyBuYW1lOiAn5bCP5pqRJywgc2Vhc29uOiAn5aSPJywgc3RhcnREYXk6IDE1MSB9LCAgLy8gfkp1bCA2XHJcbiAgeyBuYW1lOiAn5aSn5pqRJywgc2Vhc29uOiAn5aSPJywgc3RhcnREYXk6IDE2NiB9LCAgLy8gfkp1bCAyMlxyXG5cclxuICAvLyDnp4vlraMgKEF1dHVtbilcclxuICB7IG5hbWU6ICfnq4vnp4snLCBzZWFzb246ICfnp4snLCBzdGFydERheTogMTgxIH0sICAvLyB+QXVnIDdcclxuICB7IG5hbWU6ICflpITmmpEnLCBzZWFzb246ICfnp4snLCBzdGFydERheTogMTk2IH0sICAvLyB+QXVnIDIyXHJcbiAgeyBuYW1lOiAn55m96ZyyJywgc2Vhc29uOiAn56eLJywgc3RhcnREYXk6IDIxMSB9LCAgLy8gflNlcCA3XHJcbiAgeyBuYW1lOiAn56eL5YiGJywgc2Vhc29uOiAn56eLJywgc3RhcnREYXk6IDIyNiB9LCAgLy8gflNlcCAyMlxyXG4gIHsgbmFtZTogJ+WvkumcsicsIHNlYXNvbjogJ+eniycsIHN0YXJ0RGF5OiAyNDEgfSwgIC8vIH5PY3QgOFxyXG4gIHsgbmFtZTogJ+mcnOmZjScsIHNlYXNvbjogJ+eniycsIHN0YXJ0RGF5OiAyNTYgfSwgIC8vIH5PY3QgMjNcclxuXHJcbiAgLy8g5Yas5a2jIChXaW50ZXIpXHJcbiAgeyBuYW1lOiAn56uL5YasJywgc2Vhc29uOiAn5YasJywgc3RhcnREYXk6IDI3MSB9LCAgLy8gfk5vdiA3XHJcbiAgeyBuYW1lOiAn5bCP6ZuqJywgc2Vhc29uOiAn5YasJywgc3RhcnREYXk6IDI4NiB9LCAgLy8gfk5vdiAyMlxyXG4gIHsgbmFtZTogJ+Wkp+mbqicsIHNlYXNvbjogJ+WGrCcsIHN0YXJ0RGF5OiAzMDEgfSwgIC8vIH5EZWMgNlxyXG4gIHsgbmFtZTogJ+WGrOiHsycsIHNlYXNvbjogJ+WGrCcsIHN0YXJ0RGF5OiAzMTYgfSwgIC8vIH5EZWMgMjFcclxuICB7IG5hbWU6ICflsI/lr5InLCBzZWFzb246ICflhqwnLCBzdGFydERheTogMzMxIH0sICAvLyB+SmFuIDVcclxuICB7IG5hbWU6ICflpKflr5InLCBzZWFzb246ICflhqwnLCBzdGFydERheTogMzQ2IH0sICAvLyB+SmFuIDIwXHJcbl07XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/data/time-data.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/index.scss": 
  /*!*******************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/index.scss ***!
  \*******************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvaW5kZXguc2NzcyIsIm1hcHBpbmdzIjoiO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlLy4vc3JjL+S7gOS5iOaIkeimgeWcqOeOhOW5u+S/ruS7meS4lueVjOenjeeUsC0w5qW854mI5pysL2luZGV4LnNjc3M/Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/index.scss\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/index.ts": 
  /*!*****************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/index.ts ***!
  \*****************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/index.scss\");\n/* harmony import */ var _core_history__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core/history */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/history.ts\");\n/* harmony import */ var _core_logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./core/logger */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts\");\n/* harmony import */ var _core_pokedex__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./core/pokedex */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/pokedex.ts\");\n/* harmony import */ var _core_promptManager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./core/promptManager */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/promptManager.ts\");\n/* harmony import */ var _core_version__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./core/version */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/version.ts\");\n/* harmony import */ var _core_regexProcessor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./core/regexProcessor */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/regexProcessor.ts\");\n/* harmony import */ var _core_renderer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./core/renderer */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/renderer.ts\");\n/* harmony import */ var _core_time__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./core/time */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/time.ts\");\n/* harmony import */ var _core_state__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./core/state */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/state.ts\");\n/* harmony import */ var _core_summarizer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./core/summarizer */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/summarizer.ts\");\n/* harmony import */ var _core_ui__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./core/ui */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/ui.ts\");\n/* harmony import */ var _core_variables__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./core/variables */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/variables.ts\");\n/* harmony import */ var _core_eventManager__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./core/eventManager */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/eventManager.ts\");\n/* harmony import */ var _core_events_barterSystemHandler__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./core/events/barterSystemHandler */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/barterSystemHandler.ts\");\n/* harmony import */ var _core_events_itemChangeHandler__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./core/events/itemChangeHandler */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/itemChangeHandler.ts\");\n/* harmony import */ var _core_events_characterUpdateHandler__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./core/events/characterUpdateHandler */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/characterUpdateHandler.ts\");\n/* harmony import */ var _core_events_pokedexDiscoveryHandler__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./core/events/pokedexDiscoveryHandler */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/pokedexDiscoveryHandler.ts\");\n/* harmony import */ var _core_events_questHandler__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./core/events/questHandler */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/questHandler.ts\");\n/* harmony import */ var _core_events_systemHandler__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./core/events/systemHandler */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/systemHandler.ts\");\n/* harmony import */ var _core_events_signInHandler__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./core/events/signInHandler */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/signInHandler.ts\");\n/* harmony import */ var _core_events_achievementSystemHandler__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./core/events/achievementSystemHandler */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/achievementSystemHandler.ts\");\n/* harmony import */ var _core_events_worldChangeHandler__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./core/events/worldChangeHandler */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/worldChangeHandler.ts\");\n/* harmony import */ var _core_events_weatherChangeHandler__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./core/events/weatherChangeHandler */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/weatherChangeHandler.ts\");\n/* harmony import */ var _core_events_skillUpdateHandler__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./core/events/skillUpdateHandler */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/skillUpdateHandler.ts\");\n/* harmony import */ var _core_events_adventureCooldownHandler__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./core/events/adventureCooldownHandler */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/adventureCooldownHandler.ts\");\n/* harmony import */ var _core_events_shelterHandler__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./core/events/shelterHandler */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/events/shelterHandler.ts\");\n/* harmony import */ var _data_genesisMessages__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./data/genesisMessages */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/data/genesisMessages.ts\");\n/* harmony import */ var _modules_setup__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./modules/setup */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/modules/setup/index.ts\");\n/* harmony import */ var _modules_smartContext_contextLinker__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./modules/smartContext/contextLinker */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/modules/smartContext/contextLinker.ts\");\n/* harmony import */ var _core_actions__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./core/actions */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/actions.ts\");\n/* harmony import */ var _ui_eventHandlers__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./ui/eventHandlers */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/ui/eventHandlers.ts\");\n/* harmony import */ var _ui_globalControls__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./ui/globalControls */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/ui/globalControls.ts\");\n/* harmony import */ var _ui_modals_customAction__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./ui/modals/customAction */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/customAction.ts\");\n/* harmony import */ var _ui_modals_debug__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./ui/modals/debug */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/debug.ts\");\n/* harmony import */ var _ui_modals_details__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./ui/modals/details */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/details.ts\");\n/* harmony import */ var _ui_modals_history__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./ui/modals/history */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/history.ts\");\n/* harmony import */ var _ui_modals_menu__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./ui/modals/menu */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/menu.ts\");\n/* harmony import */ var _ui_modals_pokedexManager__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./ui/modals/pokedexManager */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/pokedexManager.ts\");\n/* harmony import */ var _ui_modals_remoteSync__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./ui/modals/remoteSync */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/remoteSync.ts\");\n/* harmony import */ var _ui_modals_settings__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./ui/modals/settings */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/settings.ts\");\n/* harmony import */ var _ui_modals_versionChecker__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./ui/modals/versionChecker */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/versionChecker.ts\");\n/* harmony import */ var _ui_sidePanel__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./ui/sidePanel */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/ui/sidePanel.ts\");\n\n// Core Modules\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// UI Initialization Modules\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// Main application entry point\n$(async () => {\n    // 1. Initial Configuration\n    marked.setOptions({\n        breaks: true,\n        gfm: true,\n    });\n    // 2. State Initialization\n    const floorId = getCurrentMessageId() ?? 0;\n    (0,_core_state__WEBPACK_IMPORTED_MODULE_9__.setFloorId)(floorId);\n    (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'Index', `Initialized. Operating on floor_id: ${floorId}`);\n    // 3. Get references to main screen elements\n    const mainMenuContainer = document.getElementById('main-menu-container');\n    const mainMenu = document.getElementById('main-menu');\n    const startGameSubmenu = document.getElementById('start-game-submenu');\n    const gamePanel = document.getElementById('game-panel');\n    const overviewPanel = document.getElementById('overview-panel');\n    const aboutPanel = document.getElementById('about-panel');\n    const setupContainer = document.getElementById('setup-container');\n    // 4. UI switching functions\n    const showScreen = (screen) => {\n        mainMenuContainer.classList.add('hidden');\n        gamePanel.classList.add('hidden');\n        overviewPanel.classList.add('hidden');\n        aboutPanel.classList.add('hidden');\n        setupContainer.classList.add('hidden');\n        switch (screen) {\n            case 'menu':\n                mainMenuContainer.classList.remove('hidden');\n                mainMenu.classList.remove('hidden');\n                startGameSubmenu.classList.add('hidden');\n                break;\n            case 'game':\n                gamePanel.classList.remove('hidden');\n                break;\n            case 'overview':\n                overviewPanel.classList.remove('hidden');\n                break;\n            case 'about':\n                aboutPanel.classList.remove('hidden');\n                break;\n            case 'setup': {\n                gamePanel.classList.remove('hidden');\n                setupContainer.classList.remove('hidden');\n                const topBar = document.querySelector('.top-bar');\n                const mainPanel = document.getElementById('main-panel');\n                const sidePanel = document.getElementById('side-panel');\n                if (topBar)\n                    topBar.classList.add('hidden');\n                if (mainPanel)\n                    mainPanel.classList.add('hidden');\n                if (sidePanel)\n                    sidePanel.classList.add('hidden');\n                break;\n            }\n        }\n    };\n    // 5. Core Component Initialization\n    const historyManager = new _core_history__WEBPACK_IMPORTED_MODULE_1__.ChatHistoryManager();\n    const pokedexManager = new _core_pokedex__WEBPACK_IMPORTED_MODULE_3__.PokedexManager();\n    const eventManager = new _core_eventManager__WEBPACK_IMPORTED_MODULE_13__.EventManager(pokedexManager);\n    const timeManager = new _core_time__WEBPACK_IMPORTED_MODULE_8__.TimeManager();\n    const promptManager = new _core_promptManager__WEBPACK_IMPORTED_MODULE_4__.PromptManager(pokedexManager);\n    await historyManager.loadHistory(); // Ensure history is loaded before rendering\n    const summarizer = new _core_summarizer__WEBPACK_IMPORTED_MODULE_10__.Summarizer(historyManager);\n    const storyRenderer = new _core_renderer__WEBPACK_IMPORTED_MODULE_7__.StoryRenderer(historyManager, pokedexManager, timeManager, eventManager);\n    // @ts-ignore\n    window.storyRenderer = storyRenderer;\n    // 6. UI Initialization\n    (0,_ui_globalControls__WEBPACK_IMPORTED_MODULE_32__.initGlobalControls)();\n    (0,_ui_sidePanel__WEBPACK_IMPORTED_MODULE_42__.initSidePanelTabs)();\n    const { showModalWithData } = (0,_ui_modals_details__WEBPACK_IMPORTED_MODULE_35__.initDetailsModal)();\n    (0,_ui_modals_versionChecker__WEBPACK_IMPORTED_MODULE_41__.initVersionChecker)();\n    (0,_ui_modals_pokedexManager__WEBPACK_IMPORTED_MODULE_38__.initPokedexManager)(pokedexManager, storyRenderer, showModalWithData);\n    (0,_ui_modals_remoteSync__WEBPACK_IMPORTED_MODULE_39__.initRemoteSyncModal)(pokedexManager, showModalWithData);\n    (0,_ui_modals_history__WEBPACK_IMPORTED_MODULE_36__.initHistoryModal)(historyManager, pokedexManager);\n    (0,_ui_modals_settings__WEBPACK_IMPORTED_MODULE_40__.initSettingsModal)(historyManager, summarizer);\n    (0,_ui_modals_debug__WEBPACK_IMPORTED_MODULE_34__.initDebugModal)(pokedexManager, storyRenderer, eventManager, promptManager);\n    (0,_ui_modals_menu__WEBPACK_IMPORTED_MODULE_37__.initMenuModal)(historyManager);\n    const customActionModal = (0,_ui_modals_customAction__WEBPACK_IMPORTED_MODULE_33__.initCustomActionModal)(async (userInput) => {\n        toastr.info('正在处理自定义行动...');\n        await (0,_core_actions__WEBPACK_IMPORTED_MODULE_30__.triggerAction)(userInput, -1, storyRenderer, historyManager, summarizer, promptManager, eventManager);\n        toastr.success('自定义行动已发送！');\n    });\n    // 7. Event Handlers Initialization\n    (0,_ui_eventHandlers__WEBPACK_IMPORTED_MODULE_31__.initEventHandlers)(storyRenderer, customActionModal, historyManager, summarizer, promptManager, eventManager);\n    // Listen for main menu requests from the in-game menu\n    window.addEventListener('request-main-menu', () => {\n        showScreen('menu');\n    });\n    // Listen for state activation requests from other modules (e.g., history.ts)\n    // to break circular dependencies.\n    window.addEventListener('stateActivationRequested', async (event) => {\n        const { newMessageId, previousMessageId } = event.detail;\n        if (newMessageId) {\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'Index', `[SWIPE] Event 'stateActivationRequested' received for newMessageId: ${newMessageId}, previousMessageId: ${previousMessageId}`);\n            // 核心修复：废弃有问题的 state diff 优化，强制执行完整的状态重算以保证绝对的准确性。\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('log', 'Index', '[SWIPE] Step 1: Starting full state recalculation to ensure accuracy.');\n            (0,_core_state__WEBPACK_IMPORTED_MODULE_9__.setIsRecalculatingState)(true);\n            await (0,_core_variables__WEBPACK_IMPORTED_MODULE_12__.recalculateAndApplyState)(historyManager, newMessageId, eventManager);\n            (0,_core_state__WEBPACK_IMPORTED_MODULE_9__.setIsRecalculatingState)(false);\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('log', 'Index', '[SWIPE] Step 2: Calling renderer.renderAll() to refresh UI from new state...');\n            storyRenderer.renderAll();\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'Index', '[SWIPE] Step 2: UI re-rendered successfully.');\n            // 步骤 3: 同步前端UI状态\n            const coords = historyManager.getRawHistory().metadata[newMessageId];\n            if (coords) {\n                (0,_core_state__WEBPACK_IMPORTED_MODULE_9__.setCurrentSwipeIndex)(coords.pageIndex);\n                (0,_core_ui__WEBPACK_IMPORTED_MODULE_11__.updateSwipeUI)();\n                (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'Index', `[SWIPE] Step 3: Frontend swipe state synced to index ${coords.pageIndex}.`);\n            }\n        }\n    });\n    // 8. Event Handler Registration\n    eventManager.register('物品变化', _core_events_itemChangeHandler__WEBPACK_IMPORTED_MODULE_15__.handleItemChange);\n    eventManager.register('角色更新', _core_events_characterUpdateHandler__WEBPACK_IMPORTED_MODULE_16__.handleCharacterUpdate);\n    eventManager.register('新任务接收', _core_events_questHandler__WEBPACK_IMPORTED_MODULE_18__.newQuestHandler);\n    eventManager.register('任务进度更新', _core_events_questHandler__WEBPACK_IMPORTED_MODULE_18__.questProgressHandler);\n    eventManager.register('任务完成', _core_events_questHandler__WEBPACK_IMPORTED_MODULE_18__.questCompletionHandler);\n    eventManager.register('任务失败', _core_events_questHandler__WEBPACK_IMPORTED_MODULE_18__.questFailureHandler);\n    eventManager.register('签到', _core_events_signInHandler__WEBPACK_IMPORTED_MODULE_20__.handleSignInEvent);\n    eventManager.register('系统确认', _core_events_systemHandler__WEBPACK_IMPORTED_MODULE_19__.systemConfirmationHandler);\n    eventManager.register('新成就', _core_events_achievementSystemHandler__WEBPACK_IMPORTED_MODULE_21__.newAchievementHandler);\n    eventManager.register('成就奖励更新', _core_events_achievementSystemHandler__WEBPACK_IMPORTED_MODULE_21__.achievementRewardUpdateHandler);\n    eventManager.register('成就奖励兑换', _core_events_achievementSystemHandler__WEBPACK_IMPORTED_MODULE_21__.achievementRedeemHandler);\n    eventManager.register('技能更新', _core_events_skillUpdateHandler__WEBPACK_IMPORTED_MODULE_24__.skillUpdateHandler);\n    eventManager.register('庇护所建造', _core_events_shelterHandler__WEBPACK_IMPORTED_MODULE_26__.shelterHandler);\n    eventManager.register('庇护所升级', _core_events_shelterHandler__WEBPACK_IMPORTED_MODULE_26__.shelterHandler);\n    eventManager.register('庇护所修复', _core_events_shelterHandler__WEBPACK_IMPORTED_MODULE_26__.shelterHandler);\n    eventManager.register('庇护所受损', _core_events_shelterHandler__WEBPACK_IMPORTED_MODULE_26__.shelterHandler);\n    eventManager.register('庇护所攻击', _core_events_shelterHandler__WEBPACK_IMPORTED_MODULE_26__.shelterHandler);\n    // eventManager.register('天气变化', weatherChangeHandler); // This is now handled by the global event bus\n    eventManager.register('上下文更新', _core_events_worldChangeHandler__WEBPACK_IMPORTED_MODULE_22__.contextUpdateHandler);\n    eventManager.register('新图鉴发现', _core_events_pokedexDiscoveryHandler__WEBPACK_IMPORTED_MODULE_17__.handlePokedexDiscovery);\n    eventManager.register('可换取物品更新', _core_events_barterSystemHandler__WEBPACK_IMPORTED_MODULE_14__.barterSystemUpdateHandler);\n    eventManager.register('奇遇', _core_events_adventureCooldownHandler__WEBPACK_IMPORTED_MODULE_25__.adventureHandler);\n    // 8.1. Internal Event Listener Initialization\n    (0,_core_events_signInHandler__WEBPACK_IMPORTED_MODULE_20__.initializeSignInListener)();\n    (0,_core_events_adventureCooldownHandler__WEBPACK_IMPORTED_MODULE_25__.initializeAdventureListener)();\n    (0,_core_events_weatherChangeHandler__WEBPACK_IMPORTED_MODULE_23__.initializeWeatherListener)();\n    (0,_core_events_shelterHandler__WEBPACK_IMPORTED_MODULE_26__.initializeShelterListener)();\n    // 8. Game Start Logic\n    const cleanupIncompleteTurn = async (historyManager) => {\n        const history = historyManager.getRawHistory();\n        const activeBranch = history.branches[history.activeBranch];\n        const turnIndices = Object.keys(activeBranch).map(Number).sort((a, b) => a - b);\n        const lastTurnIndex = _.last(turnIndices);\n        if (lastTurnIndex === undefined) {\n            return; // No turns to check\n        }\n        const lastTurn = activeBranch[lastTurnIndex];\n        if (lastTurn.role === 'user') {\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('warn', 'Index', `Incomplete turn detected. Last message is from user. Cleaning up turn ${lastTurnIndex}.`);\n            await historyManager.deleteTurn(lastTurnIndex);\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'Index', `Incomplete turn ${lastTurnIndex} has been removed.`);\n        }\n    };\n    const startGame = () => {\n        showScreen('game');\n        // Ensure game-specific UI is visible\n        const topBar = document.querySelector('.top-bar');\n        const mainPanel = document.getElementById('main-panel');\n        const sidePanel = document.getElementById('side-panel');\n        if (topBar)\n            topBar.classList.remove('hidden');\n        if (mainPanel)\n            mainPanel.classList.remove('hidden');\n        if (sidePanel)\n            sidePanel.classList.remove('hidden');\n        storyRenderer.init();\n        synchronizeInitialSwipes(historyManager);\n        // v2.8: 根据 CHAT_FLOW_SPEC.md 规范，在页面加载/存档加载时也检查是否需要创建快照\n        // This \"heals\" the state by creating a snapshot if one was missed due to errors or version changes.\n        const SNAPSHOT_INTERVAL = 20;\n        const turnCount = historyManager.getTurnCount();\n        if (turnCount > 0 && turnCount % SNAPSHOT_INTERVAL === 0) {\n            const lastMessage = _.last(historyManager.getMessagesForPrompt());\n            if (lastMessage) {\n                (async () => {\n                    // @ts-ignore\n                    const currentVars = await getVariables({ type: 'chat' });\n                    const activeBranchId = historyManager.getActiveBranchId();\n                    const snapshotPath = `世界.状态快照.${activeBranchId}.${lastMessage.id}`;\n                    if (!_.has(currentVars, snapshotPath)) {\n                        (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'Snapshot', `Turn count ${turnCount} reached interval. Creating snapshot on initial load...`);\n                        const snapshotData = {\n                            ..._.cloneDeep(currentVars),\n                            version: _core_version__WEBPACK_IMPORTED_MODULE_5__.LOCAL_VERSION,\n                        };\n                        const snapshotToInsert = {};\n                        _.set(snapshotToInsert, snapshotPath, snapshotData);\n                        // @ts-ignore\n                        await insertOrAssignVariables(snapshotToInsert, { type: 'chat' });\n                        (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'Snapshot', `Snapshot created for message ${lastMessage.id} on branch ${activeBranchId}.`);\n                    }\n                })();\n            }\n        }\n    };\n    // 9. Menu Event Listeners\n    const continueGameBtn = document.getElementById('submenu-continue-game-btn');\n    const loadGameInput = document.getElementById('load-game-input');\n    document.getElementById('menu-start-game-btn').addEventListener('click', () => {\n        // Check if a game is in progress\n        if (historyManager.getMessagesForPrompt().length > 0) {\n            continueGameBtn.disabled = false;\n            continueGameBtn.classList.remove('btn-secondary');\n            continueGameBtn.classList.add('btn-primary');\n        }\n        else {\n            continueGameBtn.disabled = true;\n            continueGameBtn.classList.remove('btn-primary');\n            continueGameBtn.classList.add('btn-secondary');\n        }\n        mainMenu.classList.add('hidden');\n        startGameSubmenu.classList.remove('hidden');\n    });\n    document.getElementById('submenu-back-btn').addEventListener('click', () => {\n        startGameSubmenu.classList.add('hidden');\n        mainMenu.classList.remove('hidden');\n    });\n    document.getElementById('submenu-continue-game-btn').addEventListener('click', () => {\n        startGame();\n    });\n    document.getElementById('submenu-new-game-btn').addEventListener('click', async () => {\n        if (confirm('确定要开始新游戏吗？当前进度将不会被保存。')) {\n            await (0,_core_variables__WEBPACK_IMPORTED_MODULE_12__.clearAllChatVariables)();\n            // No need to clear in-memory history, a new instance will be created on reload.\n            sessionStorage.setItem('gameStateAfterReload', 'setup');\n            window.location.reload();\n        }\n    });\n    document.getElementById('submenu-load-game-btn').addEventListener('click', () => {\n        loadGameInput.click();\n    });\n    loadGameInput.addEventListener('change', (event) => {\n        const file = event.target.files?.[0];\n        if (!file)\n            return;\n        const reader = new FileReader();\n        reader.onload = async (e) => {\n            try {\n                const content = e.target?.result;\n                const loadedData = JSON.parse(content);\n                if (typeof loadedData !== 'object' || loadedData === null) {\n                    throw new Error('Invalid save file format.');\n                }\n                // [ROBUSTNESS] 存档修复逻辑：确保加载的L3快照中的历史记录是纯净的\n                const genesisHistory = _.get(loadedData, '世界.初始状态.plugin_storage.llm_history');\n                if (genesisHistory && genesisHistory.branches) {\n                    (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('warn', 'SaveLoad', 'Old save format detected. Sanitizing genesis snapshot history...');\n                    const firstBranchKey = Object.keys(genesisHistory.branches)[0];\n                    if (firstBranchKey) {\n                        const firstBranch = genesisHistory.branches[firstBranchKey];\n                        const firstTurnKey = Object.keys(firstBranch)[0];\n                        if (firstTurnKey) {\n                            const firstTurn = firstBranch[firstTurnKey];\n                            // 创建只包含第一条消息的新历史记录\n                            const cleanGenesisHistory = {\n                                ...genesisHistory,\n                                branches: {\n                                    [firstBranchKey]: {\n                                        '0': firstTurn,\n                                    },\n                                },\n                                metadata: {}, // 清空元数据，只保留消息本身\n                            };\n                            // 只保留第一条消息的元数据\n                            const firstMessageId = _.get(firstTurn, 'pages.0.id');\n                            if (firstMessageId && genesisHistory.metadata[firstMessageId]) {\n                                cleanGenesisHistory.metadata[firstMessageId] = genesisHistory.metadata[firstMessageId];\n                            }\n                            _.set(loadedData, '世界.初始状态.plugin_storage.llm_history', cleanGenesisHistory);\n                            (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'SaveLoad', 'Genesis snapshot history has been sanitized to only contain the first message.');\n                        }\n                    }\n                }\n                await (0,_core_variables__WEBPACK_IMPORTED_MODULE_12__.overwriteAllChatVariables)(loadedData);\n                sessionStorage.setItem('gameStateAfterReload', 'game');\n                window.location.reload();\n            }\n            catch (error) {\n                (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('error', 'Index', 'Failed to load save file:', error);\n                alert('加载存档失败，文件格式可能不正确。');\n            }\n        };\n        reader.readAsText(file);\n    });\n    document.getElementById('menu-overview-btn').addEventListener('click', () => showScreen('overview'));\n    document.getElementById('menu-about-btn').addEventListener('click', () => showScreen('about'));\n    document.getElementById('back-to-menu-btn').addEventListener('click', () => showScreen('menu'));\n    document.getElementById('back-to-menu-from-about-btn').addEventListener('click', () => showScreen('menu'));\n    // Version Check Listener\n    document.getElementById('check-for-updates-btn').addEventListener('click', async () => {\n        const btn = document.getElementById('check-for-updates-btn');\n        const remoteVersionContainer = document.getElementById('remote-version-container');\n        const remoteVersionDisplay = document.getElementById('remote-version-display');\n        btn.disabled = true;\n        btn.innerHTML = '<i class=\"fas fa-spinner fa-spin mr-2\"></i>正在检查...';\n        const updateInfo = await (0,_core_version__WEBPACK_IMPORTED_MODULE_5__.checkForUpdates)();\n        if (updateInfo) {\n            remoteVersionDisplay.textContent = updateInfo.remoteVersion;\n            remoteVersionContainer.classList.remove('hidden');\n            if (updateInfo.hasUpdate) {\n                btn.innerHTML = '<i class=\"fas fa-cloud-download-alt mr-2\"></i>查看更新日志';\n                btn.disabled = false;\n                btn.onclick = () => (0,_core_version__WEBPACK_IMPORTED_MODULE_5__.showChangelogModal)(updateInfo.changelogHtml || '<p>无法加载更新日志。</p>', true);\n                (0,_core_version__WEBPACK_IMPORTED_MODULE_5__.showChangelogModal)(updateInfo.changelogHtml || '<p>无法加载更新日志。</p>', true);\n            }\n            else {\n                btn.innerHTML = '<i class=\"fas fa-check-circle mr-2\"></i>已是最新版本';\n                btn.disabled = true;\n                toastr.success('已是最新版本！');\n            }\n        }\n    });\n    // 10. Initial Load Logic with Routing\n    const actionAfterReload = sessionStorage.getItem('gameStateAfterReload');\n    sessionStorage.removeItem('gameStateAfterReload'); // Clear the flag immediately\n    if (actionAfterReload === 'setup') {\n        showScreen('setup');\n        const setupModule = new _modules_setup__WEBPACK_IMPORTED_MODULE_28__.SetupModule();\n        const onSetupComplete = async (initialState) => {\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'Index', 'SetupModule completed. Received initialState:', initialState);\n            await setupModule.unmount();\n            await (0,_core_variables__WEBPACK_IMPORTED_MODULE_12__.clearAllChatVariables)();\n            // 步骤 1 & 2: 将奇遇模块的初始状态合并到从Setup模块接收到的基础状态中\n            _.set(initialState, '世界.奇遇', {\n                '冷却至天数': 15, // 允许在游戏早期发生第一次奇遇\n                '上次奇遇日期': { '年': 0, '月': 0, '日': 0 }, // 使用一个无效日期作为初始值\n                '历史奇遇记录': [],\n            });\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'Index', 'Initial state for adventure module has been merged.');\n            // 步骤 1.5: 写入合并后的完整初始状态\n            await (0,_core_variables__WEBPACK_IMPORTED_MODULE_12__.overwriteAllChatVariables)(initialState);\n            // 步骤 3: 初始化历史记录，这将创建 plugin_storage.llm_history\n            // 必须先从数据库读取一次，以确保 getGenesisMessage 能拿到包含模块状态的完整数据\n            const stateBeforeHistory = await getVariables({ type: 'chat' });\n            (0,_core_variables__WEBPACK_IMPORTED_MODULE_12__.initializeState)(stateBeforeHistory); // 为 getGenesisMessage 设置正确的状态\n            const genesisMessage = (0,_data_genesisMessages__WEBPACK_IMPORTED_MODULE_27__.getGenesisMessage)(stateBeforeHistory);\n            await historyManager.startGenesisTurn();\n            await historyManager.addAssistantMessagePage(genesisMessage);\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'Index', 'History initialized, plugin_storage created.');\n            // 步骤 4: 从数据库读取包含历史记录的最终、最完整的状态\n            const finalInitialStateWithHistory = await getVariables({ type: 'chat' });\n            // 步骤 5: 基于这个最完整的状态创建“创世快照”，确保所有数据都被包含\n            // 安全修复：在创建快照前，精确地只提取游戏世界相关的状态，排除 plugin_storage 等元数据。\n            const cleanStateForSnapshot = _.pick(finalInitialStateWithHistory, ['角色', '世界', 'plugin_storage']);\n            const genesisSnapshot = { '世界.初始状态': _.cloneDeep(cleanStateForSnapshot) };\n            // @ts-ignore\n            await insertOrAssignVariables(genesisSnapshot, { type: 'chat' });\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'Index', 'Genesis snapshot has been inserted precisely from the final state.');\n            // 步骤 6: 使用最终状态再次初始化，确保 state.ts 中的状态也是最新的，然后开始游戏\n            (0,_core_variables__WEBPACK_IMPORTED_MODULE_12__.initializeState)(finalInitialStateWithHistory);\n            startGame();\n        };\n        setupModule.mount(setupContainer, onSetupComplete);\n    }\n    else if (actionAfterReload === 'game') {\n        const currentVars = await getVariables({ type: 'chat' });\n        if (currentVars && currentVars.世界 && currentVars.世界.初始状态) {\n            (0,_core_variables__WEBPACK_IMPORTED_MODULE_12__.initializeState)(currentVars.世界.初始状态);\n        }\n        await cleanupIncompleteTurn(historyManager);\n        startGame();\n    }\n    else {\n        // Always show menu on load, but initialize state if a save exists.\n        if (historyManager.getMessagesForPrompt().length > 0) {\n            await cleanupIncompleteTurn(historyManager);\n            const currentVars = await getVariables({ type: 'chat' });\n            if (currentVars && currentVars.世界 && currentVars.世界.初始状态) {\n                (0,_core_variables__WEBPACK_IMPORTED_MODULE_12__.initializeState)(currentVars.世界.初始状态);\n            }\n        }\n        showScreen('menu');\n    }\n    function synchronizeInitialSwipes(historyManager) {\n        const history = historyManager.getRawHistory();\n        const activeBranch = history.branches[history.activeBranch];\n        const turnIndices = Object.keys(activeBranch).map(Number).sort((a, b) => a - b);\n        const lastTurnIndex = _.last(turnIndices);\n        if (lastTurnIndex === undefined)\n            return;\n        const lastTurn = activeBranch[lastTurnIndex];\n        if (lastTurn.role === 'assistant') {\n            const swipes = Object.values(lastTurn.pages).map(page => page.content);\n            (0,_core_state__WEBPACK_IMPORTED_MODULE_9__.setCurrentTurnSwipes)(swipes);\n            (0,_core_state__WEBPACK_IMPORTED_MODULE_9__.setCurrentSwipeIndex)(lastTurn.activePageIndex);\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'Index', `Initial swipe sync complete. Found ${swipes.length} swipes, active index is ${lastTurn.activePageIndex}.`);\n        }\n        // Restore last user input for context\n        const secondLastTurn = activeBranch[lastTurnIndex - 1];\n        if (secondLastTurn && secondLastTurn.role === 'user') {\n            const lastUserInput = secondLastTurn.pages[0].content;\n            (0,_core_state__WEBPACK_IMPORTED_MODULE_9__.setLastUserInput)(lastUserInput);\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'Index', `Restored last user input: \"${lastUserInput}\"`);\n        }\n        (0,_core_ui__WEBPACK_IMPORTED_MODULE_11__.updateSwipeUI)();\n    }\n    // =======================================================================\n    // #region AI Generation Event Lifecycle\n    // =======================================================================\n    const onGenerationStarted = () => {\n        if ((0,_core_state__WEBPACK_IMPORTED_MODULE_9__.getIsAiGenerating)()) {\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('warn', 'AI Events', 'GENERATION_STARTED received while another generation is already in progress. Ignoring.');\n            return;\n        }\n        (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'AI Events', 'GENERATION_STARTED');\n        (0,_core_state__WEBPACK_IMPORTED_MODULE_9__.setForceSwipeReset)(false);\n        (0,_core_state__WEBPACK_IMPORTED_MODULE_9__.setIsAiGenerating)(true);\n        (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('log', 'State', 'Flag `isAiGenerating` set to `true`.');\n        if ((0,_core_state__WEBPACK_IMPORTED_MODULE_9__.getIsNewTurn)()) {\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('log', 'Swipes', 'New turn detected. Clearing previous swipes.');\n            (0,_core_state__WEBPACK_IMPORTED_MODULE_9__.setCurrentTurnSwipes)([]);\n        }\n        (0,_core_state__WEBPACK_IMPORTED_MODULE_9__.addSwipe)(''); // Add a placeholder for the incoming message\n        (0,_core_state__WEBPACK_IMPORTED_MODULE_9__.setCurrentSwipeIndex)((0,_core_state__WEBPACK_IMPORTED_MODULE_9__.getCurrentTurnSwipes)().length - 1);\n        (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('log', 'Swipes', `New swipe placeholder added. Swipe index is now ${(0,_core_state__WEBPACK_IMPORTED_MODULE_9__.getCurrentSwipeIndex)()}. Total swipes: ${(0,_core_state__WEBPACK_IMPORTED_MODULE_9__.getCurrentTurnSwipes)().length}.`);\n        (0,_core_ui__WEBPACK_IMPORTED_MODULE_11__.updateSwipeUI)();\n        storyRenderer.showGenerationLoadingState();\n    };\n    const onStreamTokenReceived = async (fullText) => {\n        if (!(0,_core_state__WEBPACK_IMPORTED_MODULE_9__.getIsAiGenerating)()) {\n            onGenerationStarted();\n        }\n        (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('log', 'Swipes', 'Stream full text received, updating last swipe content.');\n        (0,_core_state__WEBPACK_IMPORTED_MODULE_9__.updateLastSwipe)(fullText);\n        const processedStoryPart = (0,_core_regexProcessor__WEBPACK_IMPORTED_MODULE_6__.getProcessedStoryText)(fullText);\n        storyRenderer.updateStoryContent(processedStoryPart);\n        (0,_core_ui__WEBPACK_IMPORTED_MODULE_11__.updateSwipeUI)();\n    };\n    const saveMessageToHistory = async () => {\n        const finalContent = _.last((0,_core_state__WEBPACK_IMPORTED_MODULE_9__.getCurrentTurnSwipes)());\n        if (finalContent === undefined)\n            return null;\n        try {\n            const messageId = await historyManager.addAssistantMessagePage(finalContent);\n            // Instead of searching, construct the object directly. This is more reliable.\n            const savedMessage = {\n                id: messageId,\n                role: 'assistant',\n                content: finalContent,\n                timestamp: Date.now(),\n                isValid: true,\n            };\n            return savedMessage;\n        }\n        catch (error) {\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('error', 'History', 'Failed to save message to history.', error);\n            toastr.error('无法保存消息历史记录。');\n            return null;\n        }\n    };\n    const onGenerationEnded = async (finalMessage) => {\n        if (!(0,_core_state__WEBPACK_IMPORTED_MODULE_9__.getIsAiGenerating)()) {\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('warn', 'AI Events', 'GENERATION_ENDED received but AI is not marked as generating. Ignoring.');\n            return;\n        }\n        (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'AI Events', 'GENERATION_ENDED');\n        (0,_core_state__WEBPACK_IMPORTED_MODULE_9__.updateLastSwipe)(finalMessage);\n        (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('log', 'Swipes', \"Final swipe content has been set.\", finalMessage);\n        const savedMessage = await saveMessageToHistory();\n        if (!savedMessage) {\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('error', 'AI Events', 'Failed to save message, aborting render and sync.');\n            (0,_core_state__WEBPACK_IMPORTED_MODULE_9__.setIsAiGenerating)(false);\n            return;\n        }\n        if ((0,_core_state__WEBPACK_IMPORTED_MODULE_9__.getIsNewTurn)()) {\n            // This is a new turn, apply changes incrementally.\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'State', 'New turn detected. Applying incremental state update.');\n            const processedFinalMessage = (0,_core_regexProcessor__WEBPACK_IMPORTED_MODULE_6__.getProcessedStoryText)(finalMessage);\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('log', 'Regex', \"Final message processed.\", { original: finalMessage, processed: processedFinalMessage });\n            await storyRenderer.renderStoryAndSyncState(processedFinalMessage, savedMessage, eventManager);\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'Renderer', 'Final render and state sync complete for new turn.');\n            // v2.6: Check if a snapshot should be created\n            const SNAPSHOT_INTERVAL = 20;\n            const turnCount = historyManager.getTurnCount();\n            if (turnCount > 0 && turnCount % SNAPSHOT_INTERVAL === 0) {\n                (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'Snapshot', `Turn count ${turnCount} reached snapshot interval. Creating state snapshot...`);\n                // @ts-ignore\n                const currentVars = await getVariables({ type: 'chat' });\n                const snapshotData = {\n                    ..._.cloneDeep(currentVars),\n                    version: _core_version__WEBPACK_IMPORTED_MODULE_5__.LOCAL_VERSION, // 将当前版本号存入快照\n                };\n                // 使用 lodash.set 来安全地构建嵌套对象，避免因底层实现问题导致的写入失败\n                const activeBranchId = historyManager.getActiveBranchId();\n                const snapshotToInsert = {};\n                _.set(snapshotToInsert, `世界.状态快照.${activeBranchId}.${savedMessage.id}`, snapshotData);\n                // @ts-ignore\n                await insertOrAssignVariables(snapshotToInsert, { type: 'chat' });\n                (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'Snapshot', `Snapshot created for message ${savedMessage.id} on branch ${activeBranchId} with version ${_core_version__WEBPACK_IMPORTED_MODULE_5__.LOCAL_VERSION}.`);\n            }\n        }\n        else {\n            // This is a swipe/regeneration, recalculate state from history.\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'State', 'Swipe/regeneration detected. Recalculating state from scratch.');\n            (0,_core_state__WEBPACK_IMPORTED_MODULE_9__.setIsRecalculatingState)(true);\n            await (0,_core_variables__WEBPACK_IMPORTED_MODULE_12__.recalculateAndApplyState)(historyManager, savedMessage.id, eventManager);\n            (0,_core_state__WEBPACK_IMPORTED_MODULE_9__.setIsRecalculatingState)(false);\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('log', 'State', 'State recalculation complete.');\n            storyRenderer.renderAll(); // Re-render the entire UI based on the new state.\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'Renderer', 'Full UI re-render complete after state recalculation.');\n            // v2.7: 根据 CHAT_FLOW_SPEC.md 规范，在状态重算后也检查是否需要创建快照\n            // This \"heals\" the state by creating an up-to-date snapshot after a swipe.\n            const SNAPSHOT_INTERVAL = 20;\n            const turnCount = historyManager.getTurnCount();\n            if (turnCount > 0 && turnCount % SNAPSHOT_INTERVAL === 0) {\n                // @ts-ignore\n                const currentVars = await getVariables({ type: 'chat' });\n                const activeBranchId = historyManager.getActiveBranchId();\n                const snapshotPath = `世界.状态快照.${activeBranchId}.${savedMessage.id}`;\n                // 避免在同一个消息上重复写入快照\n                if (!_.has(currentVars, snapshotPath)) {\n                    (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'Snapshot', `Turn count ${turnCount} reached interval. Creating snapshot after recalculation...`);\n                    const snapshotData = {\n                        ..._.cloneDeep(currentVars),\n                        version: _core_version__WEBPACK_IMPORTED_MODULE_5__.LOCAL_VERSION,\n                    };\n                    const snapshotToInsert = {};\n                    _.set(snapshotToInsert, snapshotPath, snapshotData);\n                    // @ts-ignore\n                    await insertOrAssignVariables(snapshotToInsert, { type: 'chat' });\n                    (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'Snapshot', `Snapshot created for message ${savedMessage.id} on branch ${activeBranchId}.`);\n                }\n            }\n        }\n        (0,_core_state__WEBPACK_IMPORTED_MODULE_9__.setIsAiGenerating)(false);\n        if ((0,_core_state__WEBPACK_IMPORTED_MODULE_9__.getIsNewTurn)()) {\n            (0,_core_state__WEBPACK_IMPORTED_MODULE_9__.setIsNewTurn)(false);\n        }\n        (0,_core_ui__WEBPACK_IMPORTED_MODULE_11__.updateSwipeUI)();\n        // Call the context linker to process this turn in the background\n        try {\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'ContextLinker', 'Starting background semantic analysis for the latest turn...');\n            await (0,_modules_smartContext_contextLinker__WEBPACK_IMPORTED_MODULE_29__.processTurn)();\n        }\n        catch (error) {\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('error', 'ContextLinker', 'processTurn failed', error);\n        }\n    };\n    const onGenerationStopped = async () => {\n        (0,_core_logger__WEBPACK_IMPORTED_MODULE_2__.logger)('info', 'AI Events', 'GENERATION_STOPPED (Manual)');\n        const partialMessage = _.last((0,_core_state__WEBPACK_IMPORTED_MODULE_9__.getCurrentTurnSwipes)()) ?? '';\n        await onGenerationEnded(partialMessage);\n    };\n    eventOn(iframe_events.GENERATION_STARTED, onGenerationStarted);\n    eventOn(iframe_events.STREAM_TOKEN_RECEIVED_FULLY, onStreamTokenReceived);\n    eventOn(iframe_events.GENERATION_ENDED, onGenerationEnded);\n    eventOn(tavern_events.GENERATION_STOPPED, onGenerationStopped);\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0I7QUFFdEIsZUFBZTtBQUNrRDtBQUMxQjtBQUNTO0FBQ0s7QUFDTjtBQUNlO0FBRWQ7QUFDTjtBQUNvUDtBQUMvTztBQUNMO0FBQ3FHO0FBQzVGO0FBQzJCO0FBQ1g7QUFDVTtBQUNFO0FBQ2lEO0FBQ3hEO0FBQ2tCO0FBQytDO0FBQ2pFO0FBQ21EO0FBQ3JEO0FBQ2lDO0FBQ2Q7QUFFekYsNEJBQTRCO0FBQytCO0FBQ2I7QUFDaUQ7QUFDMUI7QUFDdEI7QUFDUTtBQUNFO0FBQ1E7QUFDZDtBQUNJO0FBQ0E7QUFDTjtBQUNlO0FBQ0g7QUFDSjtBQUNPO0FBQ2I7QUFZbkQsK0JBQStCO0FBQy9CLENBQUMsQ0FBQyxLQUFLLElBQUksRUFBRTtJQUNYLDJCQUEyQjtJQUMzQixNQUFNLENBQUMsVUFBVSxDQUFDO1FBQ2hCLE1BQU0sRUFBRSxJQUFJO1FBQ1osR0FBRyxFQUFFLElBQUk7S0FDVixDQUFDLENBQUM7SUFFSCwwQkFBMEI7SUFDMUIsTUFBTSxPQUFPLEdBQUcsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDM0MsdURBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNwQixvREFBTSxDQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUUsdUNBQXVDLE9BQU8sRUFBRSxDQUFDLENBQUM7SUFFMUUsNENBQTRDO0lBQzVDLE1BQU0saUJBQWlCLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxxQkFBcUIsQ0FBRSxDQUFDO0lBQzFFLE1BQU0sUUFBUSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFFLENBQUM7SUFDdkQsTUFBTSxnQkFBZ0IsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLG9CQUFvQixDQUFFLENBQUM7SUFDeEUsTUFB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O1FBQzVELE1BQU0saUJBQWlCLENBQUMsY0FBYyxDQUFDLENBQUM7SUFDMUMsQ0FBQztJQUVELE9BQU8sQ0FBQyxhQUFhLENBQUMsa0JBQWtCLEVBQUUsbUJBQW1CLENBQUMsQ0FBQztJQUMvRCxPQUFPLENBQUMsYUFBYSxDQUFDLDJCQUEyQixFQUFFLHFCQUFxQixDQUFDLENBQUM7SUFDMUUsT0FBTyxDQUFDLGFBQWEsQ0FBQyxnQkFBZ0IsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO0lBQzNELE9BQU8sQ0FBQyxhQUFhLENBQUMsa0JBQWtCLEVBQUUsbUJBQW1CLENBQUMsQ0FBQztBQUNqRSxDQUFDLENBQUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvaW5kZXgudHM/Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnLi9pbmRleC5zY3NzJztcblxuLy8gQ29yZSBNb2R1bGVzXG5pbXBvcnQgeyBDaGF0SGlzdG9yeU1hbmFnZXIsIE1lc3NhZ2VQYWdlIH0gZnJvbSAnLi9jb3JlL2hpc3RvcnknO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi9jb3JlL2xvZ2dlcic7XG5pbXBvcnQgeyBQb2tlZGV4TWFuYWdlciB9IGZyb20gJy4vY29yZS9wb2tlZGV4JztcbmltcG9ydCB7IFByb21wdE1hbmFnZXIgfSBmcm9tICcuL2NvcmUvcHJvbXB0TWFuYWdlcic7XG5pbXBvcnQgeyBMT0NBTF9WRVJTSU9OIH0gZnJvbSAnLi9jb3JlL3ZlcnNpb24nO1xuaW1wb3J0IHsgZ2V0UHJvY2Vzc2VkU3RvcnlUZXh0IH0gZnJvbSAnLi9jb3JlL3JlZ2V4UHJvY2Vzc29yJztcbmltcG9ydCB7IGV4dHJhY3RKc29uRnJvbVN0YXR1c0JhciB9IGZyb20gJy4vY29yZS9wYXJzZXInO1xuaW1wb3J0IHsgU3RvcnlSZW5kZXJlciB9IGZyb20gJy4vY29yZS9yZW5kZXJlcic7XG5pbXBvcnQgeyBUaW1lTWFuYWdlciB9IGZyb20gJy4vY29yZS90aW1lJztcbmltcG9ydCB7IGFkZFN3aXBlLCBnZXRDdXJyZW50U3dpcGVJbmRleCwgZ2V0Q3VycmVudFR1cm5Td2lwZXMsIGdldElzQWlHZW5lcmF0aW5nLCBnZXRJc05ld1R1cm4sIHNldEN1cnJlbnRTd2lwZUluZGV4LCBzZXRDdXJyZW50VHVyblN3aXBlcywgc2V0Rmxvb3JJZCwgc2V0Rm9yY2VTd2lwZVJlc2V0LCBzZXRJc0FpR2VuZXJhdGluZywgc2V0SXNOZXdUdXJuLCBzZXRMYXN0VXNlcklucHV0LCB1cGRhdGVMYXN0U3dpcGUsIHNldElzUmVjYWxjdWxhdGluZ1N0YXRlIH0gZnJvbSAnLi9jb3JlL3N0YXRlJztcbmltcG9ydCB7IFN1bW1hcml6ZXIgfSBmcm9tICcuL2NvcmUvc3VtbWFyaXplcic7XG5pbXBvcnQgeyB1cGRhdGVTd2lwZVVJIH0gZnJvbSAnLi9jb3JlL3VpJztcbmltcG9ydCB7IGNsZWFyQWxsQ2hhdFZhcmlhYmxlcywgaW5pdGlhbGl6ZVN0YXRlLCBvdmVyd3JpdGVBbGxDaGF0VmFyaWFibGVzLCByZWNhbGN1bGF0ZUFuZEFwcGx5U3RhdGUsIGdldEV2ZW50c1VudGlsIH0gZnJvbSAnLi9jb3JlL3ZhcmlhYmxlcyc7XG5pbXBvcnQgeyBFdmVudE1hbmFnZXIgfSBmcm9tICcuL2NvcmUvZXZlbnRNYW5hZ2VyJztcbmltcG9ydCB7IGJhcnRlclN5c3RlbVVwZGF0ZUhhbmRsZXIgfSBmcm9tICcuL2NvcmUvZXZlbnRzL2JhcnRlclN5c3RlbUhhbmRsZXInO1xuaW1wb3J0IHsgaGFuZGxlSXRlbUNoYW5nZSB9IGZyb20gJy4vY29yZS9ldmVudHMvaXRlbUNoYW5nZUhhbmRsZXInO1xuaW1wb3J0IHsgaGFuZGxlQ2hhcmFjdGVyVXBkYXRlIH0gZnJvbSAnLi9jb3JlL2V2ZW50cy9jaGFyYWN0ZXJVcGRhdGVIYW5kbGVyJztcbmltcG9ydCB7IGhhbmRsZVBva2VkZXhEaXNjb3ZlcnkgfSBmcm9tICcuL2NvcmUvZXZlbnRzL3Bva2VkZXhEaXNjb3ZlcnlIYW5kbGVyJztcbmltcG9ydCB7IG5ld1F1ZXN0SGFuZGxlciwgcXVlc3RQcm9ncmVzc0hhbmRsZXIsIHF1ZXN0Q29tcGxldGlvbkhhbmRsZXIsIHF1ZXN0RmFpbHVyZUhhbmRsZXIgfSBmcm9tICcuL2NvcmUvZXZlbnRzL3F1ZXN0SGFuZGxlcic7XG5pbXBvcnQgeyBzeXN0ZW1Db25maXJtYXRpb25IYW5kbGVyIH0gZnJvbSAnLi9jb3JlL2V2ZW50cy9zeXN0ZW1IYW5kbGVyJztcbmltcG9ydCB7IGhhbmRsZVNpZ25JbkV2ZW50LCBpbml0aWFsaXplU2lnbkluTGlzdGVuZXIgfSBmcm9tICcuL2NvcmUvZXZlbnRzL3NpZ25JbkhhbmRsZXInO1xuaW1wb3J0IHsgbmV3QWNoaWV2ZW1lbnRIYW5kbGVyLCBhY2hpZXZlbWVudFJld2FyZFVwZGF0ZUhhbmRsZXIsIGFjaGlldmVtZW50UmVkZWVtSGFuZGxlciB9IGZyb20gJy4vY29yZS9ldmVudHMvYWNoaWV2ZW1lbnRTeXN0ZW1IYW5kbGVyJztcbmltcG9ydCB7IGNvbnRleHRVcGRhdGVIYW5kbGVyIH0gZnJvbSAnLi9jb3JlL2V2ZW50cy93b3JsZENoYW5nZUhhbmRsZXInO1xuaW1wb3J0IHsgaW5pdGlhbGl6ZVdlYXRoZXJMaXN0ZW5lciwgd2VhdGhlckhhbmRsZXIgYXMgd2VhdGhlclRpbWVDaGFuZ2VIYW5kbGVyIH0gZnJvbSAnLi9jb3JlL2V2ZW50cy93ZWF0aGVyQ2hhbmdlSGFuZGxlcic7XG5pbXBvcnQgeyBza2lsbFVwZGF0ZUhhbmRsZXIgfSBmcm9tICcuL2NvcmUvZXZlbnRzL3NraWxsVXBkYXRlSGFuZGxlcic7XG5pbXBvcnQgeyBhZHZlbnR1cmVIYW5kbGVyLCBpbml0aWFsaXplQWR2ZW50dXJlTGlzdGVuZXIgfSBmcm9tICcuL2NvcmUvZXZlbnRzL2FkdmVudHVyZUNvb2xkb3duSGFuZGxlcic7XG5pbXBvcnQgeyBpbml0aWFsaXplU2hlbHRlckxpc3RlbmVyLCBzaGVsdGVySGFuZGxlciB9IGZyb20gJy4vY29yZS9ldmVudHMvc2hlbHRlckhhbmRsZXInO1xuXG4vLyBVSSBJbml0aWFsaXphdGlvbiBNb2R1bGVzXG5pbXBvcnQgeyBnZXRHZW5lc2lzTWVzc2FnZSB9IGZyb20gJy4vZGF0YS9nZW5lc2lzTWVzc2FnZXMnO1xuaW1wb3J0IHsgU2V0dXBNb2R1bGUgfSBmcm9tICcuL21vZHVsZXMvc2V0dXAnO1xuaW1wb3J0IHsgcHJvY2Vzc1R1cm4gYXMgcHJvY2Vzc0NvbnRleHRMaW5rZXJUdXJuIH0gZnJvbSAnLi9tb2R1bGVzL3NtYXJ0Q29udGV4dC9jb250ZXh0TGlua2VyJztcbmltcG9ydCB7IGNoZWNrRm9yVXBkYXRlcywgc2hvd0NoYW5nZWxvZ01vZGFsIH0gZnJvbSAnLi9jb3JlL3ZlcnNpb24nO1xuaW1wb3J0IHsgdHJpZ2dlckFjdGlvbiB9IGZyb20gJy4vY29yZS9hY3Rpb25zJztcbmltcG9ydCB7IGluaXRFdmVudEhhbmRsZXJzIH0gZnJvbSAnLi91aS9ldmVudEhhbmRsZXJzJztcbmltcG9ydCB7IGluaXRHbG9iYWxDb250cm9scyB9IGZyb20gJy4vdWkvZ2xvYmFsQ29udHJvbHMnO1xuaW1wb3J0IHsgaW5pdEN1c3RvbUFjdGlvbk1vZGFsIH0gZnJvbSAnLi91aS9tb2RhbHMvY3VzdG9tQWN0aW9uJztcbmltcG9ydCB7IGluaXREZWJ1Z01vZGFsIH0gZnJvbSAnLi91aS9tb2RhbHMvZGVidWcnO1xuaW1wb3J0IHsgaW5pdERldGFpbHNNb2RhbCB9IGZyb20gJy4vdWkvbW9kYWxzL2RldGFpbHMnO1xuaW1wb3J0IHsgaW5pdEhpc3RvcnlNb2RhbCB9IGZyb20gJy4vdWkvbW9kYWxzL2hpc3RvcnknO1xuaW1wb3J0IHsgaW5pdE1lbnVNb2RhbCB9IGZyb20gJy4vdWkvbW9kYWxzL21lbnUnO1xuaW1wb3J0IHsgaW5pdFBva2VkZXhNYW5hZ2VyIH0gZnJvbSAnLi91aS9tb2RhbHMvcG9rZWRleE1hbmFnZXInO1xuaW1wb3J0IHsgaW5pdFJlbW90ZVN5bmNNb2RhbCB9IGZyb20gJy4vdWkvbW9kYWxzL3JlbW90ZVN5bmMnO1xuaW1wb3J0IHsgaW5pdFNldHRpbmdzTW9kYWwgfSBmcm9tICcuL3VpL21vZGFscy9zZXR0aW5ncyc7XG5pbXBvcnQgeyBpbml0VmVyc2lvbkNoZWNrZXIgfSBmcm9tICcuL3VpL21vZGFscy92ZXJzaW9uQ2hlY2tlcic7XG5pbXBvcnQgeyBpbml0U2lkZVBhbmVsVGFicyB9IGZyb20gJy4vdWkvc2lkZVBhbmVsJztcblxuLy8gRGVjbGFyZSBnbG9iYWwgdmFyaWFibGVzIGZyb20gc2NyaXB0IHRhZ3NcbmRlY2xhcmUgY29uc3QgbWFya2VkOiBhbnk7XG5kZWNsYXJlIGNvbnN0ICQ6IGFueTtcbmRlY2xhcmUgY29uc3QgdGF2ZXJuX2V2ZW50czogYW55O1xuZGVjbGFyZSBjb25zdCBpZnJhbWVfZXZlbnRzOiBhbnk7XG5kZWNsYXJlIGNvbnN0IGdldEN1cnJlbnRNZXNzYWdlSWQ6ICgpID0+IG51bWJlciB8IG51bGw7XG5kZWNsYXJlIGNvbnN0IGV2ZW50T246IGFueTtcbmRlY2xhcmUgY29uc3QgXzogYW55O1xuZGVjbGFyZSBjb25zdCBpbnNlcnRPckFzc2lnblZhcmlhYmxlczogKHZhcmlhYmxlczogUmVjb3JkPHN0cmluZywgYW55Piwgb3B0aW9ucz86IGFueSkgPT4gUHJvbWlzZTx2b2lkPjtcblxuLy8gTWFpbiBhcHBsaWNhdGlvbiBlbnRyeSBwb2ludFxuJChhc3luYyAoKSA9PiB7XG4gIC8vIDEuIEluaXRpYWwgQ29uZmlndXJhdGlvblxuICBtYXJrZWQuc2V0T3B0aW9ucyh7XG4gICAgYnJlYWtzOiB0cnVlLFxuICAgIGdmbTogdHJ1ZSxcbiAgfSk7XG5cbiAgLy8gMi4gU3RhdGUgSW5pdGlhbGl6YXRpb25cbiAgY29uc3QgZmxvb3JJZCA9IGdldEN1cnJlbnRNZXNzYWdlSWQoKSA/PyAwO1xuICBzZXRGbG9vcklkKGZsb29ySWQpO1xuICBsb2dnZXIoJ2luZm8nLCAnSW5kZXgnLCBgSW5pdGlhbGl6ZWQuIE9wZXJhdGluZyBvbiBmbG9vcl9pZDogJHtmbG9vcklkfWApO1xuXG4gIC8vIDMuIEdldCByZWZlcmVuY2VzIHRvIG1haW4gc2NyZWVuIGVsZW1lbnRzXG4gIGNvbnN0IG1haW5NZW51Q29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4tbWVudS1jb250YWluZXInKSE7XG4gIGNvbnN0IG1haW5NZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4tbWVudScpITtcbiAgY29uc3Qgc3RhcnRHYW1lU3VibWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFydC1nYW1lLXN1Ym1lbnUnKSE7XG4gIGNvbnN0IGdhbWVQYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLXBhbmVsJykhO1xuICBjb25zdCBvdmVydmlld1BhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJ2aWV3LXBhbmVsJykhO1xuICBjb25zdCBhYm91dFBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Fib3V0LXBhbmVsJykhO1xuICBjb25zdCBzZXR1cENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXR1cC1jb250YWluZXInKSE7XG5cbiAgLy8gNC4gVUkgc3dpdGNoaW5nIGZ1bmN0aW9uc1xuICBjb25zdCBzaG93U2NyZWVuID0gKHNjcmVlbjogJ21lbnUnIHwgJ2dhbWUnIHwgJ292ZXJ2aWV3JyB8ICdhYm91dCcgfCAnc2V0dXAnKSA9PiB7XG4gICAgbWFpbk1lbnVDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgZ2FtZVBhbmVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIG92ZXJ2aWV3UGFuZWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgYWJvdXRQYW5lbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICBcbiAgICBzZXR1cENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcblxuICAgIHN3aXRjaCAoc2NyZWVuKSB7XG4gICAgICBjYXNlICdtZW51JzpcbiAgICAgICAgbWFpbk1lbnVDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIG1haW5NZW51LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBzdGFydEdhbWVTdWJtZW51LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2dhbWUnOlxuICAgICAgICBnYW1lUGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnb3ZlcnZpZXcnOlxuICAgICAgICBvdmVydmlld1BhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2Fib3V0JzpcbiAgICAgICAgYWJvdXRQYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzZXR1cCc6IHtcbiAgICAgICAgZ2FtZVBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBzZXR1cENvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgY29uc3QgdG9wQmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvcC1iYXInKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgY29uc3QgbWFpblBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4tcGFuZWwnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgY29uc3Qgc2lkZVBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NpZGUtcGFuZWwnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgaWYgKHRvcEJhcikgdG9wQmFyLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBpZiAobWFpblBhbmVsKSBtYWluUGFuZWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGlmIChzaWRlUGFuZWwpIHNpZGVQYW5lbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIDUuIENvcmUgQ29tcG9uZW50IEluaXRpYWxpemF0aW9uXG4gIGNvbnN0IGhpc3RvcnlNYW5hZ2VyID0gbmV3IENoYXRIaXN0b3J5TWFuYWdlcigpO1xuICBjb25zdCBwb2tlZGV4TWFuYWdlciA9IG5ldyBQb2tlZGV4TWFuYWdlcigpO1xuICBjb25zdCBldmVudE1hbmFnZXIgPSBuZXcgRXZlbnRNYW5hZ2VyKHBva2VkZXhNYW5hZ2VyKTtcbiAgY29uc3QgdGltZU1hbmFnZXIgPSBuZXcgVGltZU1hbmFnZXIoKTtcbiAgY29uc3QgcHJvbXB0TWFuYWdlciA9IG5ldyBQcm9tcHRNYW5hZ2VyKHBva2VkZXhNYW5hZ2VyKTtcbiAgXG4gIGF3YWl0IGhpc3RvcnlNYW5hZ2VyLmxvYWRIaXN0b3J5KCk7IC8vIEVuc3VyZSBoaXN0b3J5IGlzIGxvYWRlZCBiZWZvcmUgcmVuZGVyaW5nXG5cbiAgY29uc3Qgc3VtbWFyaXplciA9IG5ldyBTdW1tYXJpemVyKGhpc3RvcnlNYW5hZ2VyKTtcbiAgY29uc3Qgc3RvcnlSZW5kZXJlciA9IG5ldyBTdG9yeVJlbmRlcmVyKGhpc3RvcnlNYW5hZ2VyLCBwb2tlZGV4TWFuYWdlciwgdGltZU1hbmFnZXIsIGV2ZW50TWFuYWdlcik7XG4gIFxuICAvLyBAdHMtaWdub3JlXG4gIHdpbmRvdy5zdG9yeVJlbmRlcmVyID0gc3RvcnlSZW5kZXJlcjtcbiAgXG4gIC8vIDYuIFVJIEluaXRpYWxpemF0aW9uXG4gIGluaXRHbG9iYWxDb250cm9scygpO1xuICBpbml0U2lkZVBhbmVsVGFicygpO1xuICBcbiAgY29uc3QgeyBzaG93TW9kYWxXaXRoRGF0YSB9ID0gaW5pdERldGFpbHNNb2RhbCgpO1xuICBpbml0VmVyc2lvbkNoZWNrZXIoKTtcbiAgaW5pdFBva2VkZXhNYW5hZ2VyKHBva2VkZXhNYW5hZ2VyLCBzdG9yeVJlbmRlcmVyLCBzaG93TW9kYWxXaXRoRGF0YSk7XG4gIGluaXRSZW1vdGVTeW5jTW9kYWwocG9rZWRleE1hbmFnZXIsIHNob3dNb2RhbFdpdGhEYXRhKTtcbiAgaW5pdEhpc3RvcnlNb2RhbChoaXN0b3J5TWFuYWdlciwgcG9rZWRleE1hbmFnZXIpO1xuICBpbml0U2V0dGluZ3NNb2RhbChoaXN0b3J5TWFuYWdlciwgc3VtbWFyaXplcik7XG4gIGluaXREZWJ1Z01vZGFsKHBva2VkZXhNYW5hZ2VyLCBzdG9yeVJlbmRlcmVyLCBldmVudE1hbmFnZXIsIHByb21wdE1hbmFnZXIpO1xuICBpbml0TWVudU1vZGFsKGhpc3RvcnlNYW5hZ2VyKTtcbiAgXG4gIGNvbnN0IGN1c3RvbUFjdGlvbk1vZGFsID0gaW5pdEN1c3RvbUFjdGlvbk1vZGFsKGFzeW5jICh1c2VySW5wdXQpID0+IHtcbiAgICB0b2FzdHIuaW5mbygn5q2j5Zyo5aSE55CG6Ieq5a6a5LmJ6KGM5YqoLi4uJyk7XG4gICAgYXdhaXQgdHJpZ2dlckFjdGlvbih1c2VySW5wdXQsIC0xLCBzdG9yeVJlbmRlcmVyLCBoaXN0b3J5TWFuYWdlciwgc3VtbWFyaXplciwgcHJvbXB0TWFuYWdlciwgZXZlbnRNYW5hZ2VyKTtcbiAgICB0b2FzdHIuc3VjY2Vzcygn6Ieq5a6a5LmJ6KGM5Yqo5bey5Y+R6YCB77yBJyk7XG4gIH0pO1xuXG4gIC8vIDcuIEV2ZW50IEhhbmRsZXJzIEluaXRpYWxpemF0aW9uXG4gIGluaXRFdmVudEhhbmRsZXJzKHN0b3J5UmVuZGVyZXIsIGN1c3RvbUFjdGlvbk1vZGFsLCBoaXN0b3J5TWFuYWdlciwgc3VtbWFyaXplciwgcHJvbXB0TWFuYWdlciwgZXZlbnRNYW5hZ2VyKTtcblxuICAvLyBMaXN0ZW4gZm9yIG1haW4gbWVudSByZXF1ZXN0cyBmcm9tIHRoZSBpbi1nYW1lIG1lbnVcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3JlcXVlc3QtbWFpbi1tZW51JywgKCkgPT4ge1xuICAgIHNob3dTY3JlZW4oJ21lbnUnKTtcbiAgfSk7XG5cbiAgLy8gTGlzdGVuIGZvciBzdGF0ZSBhY3RpdmF0aW9uIHJlcXVlc3RzIGZyb20gb3RoZXIgbW9kdWxlcyAoZS5nLiwgaGlzdG9yeS50cylcbiAgLy8gdG8gYnJlYWsgY2lyY3VsYXIgZGVwZW5kZW5jaWVzLlxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc3RhdGVBY3RpdmF0aW9uUmVxdWVzdGVkJywgYXN5bmMgKGV2ZW50OiBhbnkpID0+IHtcbiAgICBjb25zdCB7IG5ld01lc3NhZ2VJZCwgcHJldmlvdXNNZXNzYWdlSWQgfSA9IGV2ZW50LmRldGFpbDtcbiAgICBpZiAobmV3TWVzc2FnZUlkKSB7XG4gICAgICBsb2dnZXIoJ2luZm8nLCAnSW5kZXgnLCBgW1NXSVBFXSBFdmVudCAnc3RhdGVBY3RpdmF0aW9uUmVxdWVzdGVkJyByZWNlaXZlZCBmb3IgbmV3TWVzc2FnZUlkOiAke25ld01lc3NhZ2VJZH0sIHByZXZpb3VzTWVzc2FnZUlkOiAke3ByZXZpb3VzTWVzc2FnZUlkfWApO1xuICAgICAgXG4gICAgICAvLyDmoLjlv4Pkv67lpI3vvJrlup/lvIPmnInpl67popjnmoQgc3RhdGUgZGlmZiDkvJjljJbvvIzlvLrliLbmiafooYzlrozmlbTnmoTnirbmgIHph43nrpfku6Xkv53or4Hnu53lr7nnmoTlh4bnoa7mgKfjgIJcbiAgICAgIGxvZ2dlcignbG9nJywgJ0luZGV4JywgJ1tTV0lQRV0gU3RlcCAxOiBTdGFydGluZyBmdWxsIHN0YXRlIHJlY2FsY3VsYXRpb24gdG8gZW5zdXJlIGFjY3VyYWN5LicpO1xuICAgICAgc2V0SXNSZWNhbGN1bGF0aW5nU3RhdGUodHJ1ZSk7XG4gICAgICBhd2FpdCByZWNhbGN1bGF0ZUFuZEFwcGx5U3RhdGUoaGlzdG9yeU1hbmFnZXIsIG5ld01lc3NhZ2VJZCwgZXZlbnRNYW5hZ2VyKTtcbiAgICAgIHNldElzUmVjYWxjdWxhdGluZ1N0YXRlKGZhbHNlKTtcbiAgICAgIFxuICAgICAgbG9nZ2VyKCdsb2cnLCAnSW5kZXgnLCAnW1NXSVBFXSBTdGVwIDI6IENhbGxpbmcgcmVuZGVyZXIucmVuZGVyQWxsKCkgdG8gcmVmcmVzaCBVSSBmcm9tIG5ldyBzdGF0ZS4uLicpO1xuICAgICAgc3RvcnlSZW5kZXJlci5yZW5kZXJBbGwoKTtcbiAgICAgIGxvZ2dlcignaW5mbycsICdJbmRleCcsICdbU1dJUEVdIFN0ZXAgMjogVUkgcmUtcmVuZGVyZWQgc3VjY2Vzc2Z1bGx5LicpO1xuXG4gICAgICAvLyDmraXpqqQgMzog5ZCM5q2l5YmN56uvVUnnirbmgIFcbiAgICAgIGNvbnN0IGNvb3JkcyA9IGhpc3RvcnlNYW5hZ2VyLmdldFJhd0hpc3RvcnkoKS5tZXRhZGF0YVtuZXdNZXNzYWdlSWRdO1xuICAgICAgaWYgKGNvb3Jkcykge1xuICAgICAgICBzZXRDdXJyZW50U3dpcGVJbmRleChjb29yZHMucGFnZUluZGV4KTtcbiAgICAgICAgdXBkYXRlU3dpcGVVSSgpO1xuICAgICAgICBsb2dnZXIoJ2luZm8nLCAnSW5kZXgnLCBgW1NXSVBFXSBTdGVwIDM6IEZyb250ZW5kIHN3aXBlIHN0YXRlIHN5bmNlZCB0byBpbmRleCAke2Nvb3Jkcy5wYWdlSW5kZXh9LmApO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLy8gOC4gRXZlbnQgSGFuZGxlciBSZWdpc3RyYXRpb25cbiAgZXZlbnRNYW5hZ2VyLnJlZ2lzdGVyKCfnianlk4Hlj5jljJYnLCBoYW5kbGVJdGVtQ2hhbmdlKTtcbiAgZXZlbnRNYW5hZ2VyLnJlZ2lzdGVyKCfop5LoibLmm7TmlrAnLCBoYW5kbGVDaGFyYWN0ZXJVcGRhdGUpO1xuICBldmVudE1hbmFnZXIucmVnaXN0ZXIoJ+aWsOS7u+WKoeaOpeaUticsIG5ld1F1ZXN0SGFuZGxlcik7XG4gIGV2ZW50TWFuYWdlci5yZWdpc3Rlcign5Lu75Yqh6L+b5bqm5pu05pawJywgcXVlc3RQcm9ncmVzc0hhbmRsZXIpO1xuICBldmVudE1hbmFnZXIucmVnaXN0ZXIoJ+S7u+WKoeWujOaIkCcsIHF1ZXN0Q29tcGxldGlvbkhhbmRsZXIpO1xuICBldmVudE1hbmFnZXIucmVnaXN0ZXIoJ+S7u+WKoeWksei0pScsIHF1ZXN0RmFpbHVyZUhhbmRsZXIpO1xuICBldmVudE1hbmFnZXIucmVnaXN0ZXIoJ+etvuWIsCcsIGhhbmRsZVNpZ25JbkV2ZW50KTtcbiAgZXZlbnRNYW5hZ2VyLnJlZ2lzdGVyKCfns7vnu5/noa7orqQnLCBzeXN0ZW1Db25maXJtYXRpb25IYW5kbGVyKTtcbiAgZXZlbnRNYW5hZ2VyLnJlZ2lzdGVyKCfmlrDmiJDlsLEnLCBuZXdBY2hpZXZlbWVudEhhbmRsZXIpO1xuICBldmVudE1hbmFnZXIucmVnaXN0ZXIoJ+aIkOWwseWlluWKseabtOaWsCcsIGFjaGlldmVtZW50UmV3YXJkVXBkYXRlSGFuZGxlcik7XG4gIGV2ZW50TWFuYWdlci5yZWdpc3Rlcign5oiQ5bCx5aWW5Yqx5YWR5o2iJywgYWNoaWV2ZW1lbnRSZWRlZW1IYW5kbGVyKTtcbiAgZXZlbnRNYW5hZ2VyLnJlZ2lzdGVyKCfmioDog73mm7TmlrAnLCBza2lsbFVwZGF0ZUhhbmRsZXIpO1xuICBldmVudE1hbmFnZXIucmVnaXN0ZXIoJ+W6h+aKpOaJgOW7uumAoCcsIHNoZWx0ZXJIYW5kbGVyKTtcbiAgZXZlbnRNYW5hZ2VyLnJlZ2lzdGVyKCfluofmiqTmiYDljYfnuqcnLCBzaGVsdGVySGFuZGxlcik7XG4gIGV2ZW50TWFuYWdlci5yZWdpc3Rlcign5bqH5oqk5omA5L+u5aSNJywgc2hlbHRlckhhbmRsZXIpO1xuICBldmVudE1hbmFnZXIucmVnaXN0ZXIoJ+W6h+aKpOaJgOWPl+aNnycsIHNoZWx0ZXJIYW5kbGVyKTtcbiAgZXZlbnRNYW5hZ2VyLnJlZ2lzdGVyKCfluofmiqTmiYDmlLvlh7snLCBzaGVsdGVySGFuZGxlcik7XG4gIC8vIGV2ZW50TWFuYWdlci5yZWdpc3Rlcign5aSp5rCU5Y+Y5YyWJywgd2VhdGhlckNoYW5nZUhhbmRsZXIpOyAvLyBUaGlzIGlzIG5vdyBoYW5kbGVkIGJ5IHRoZSBnbG9iYWwgZXZlbnQgYnVzXG4gIGV2ZW50TWFuYWdlci5yZWdpc3Rlcign5LiK5LiL5paH5pu05pawJywgY29udGV4dFVwZGF0ZUhhbmRsZXIpO1xuICBldmVudE1hbmFnZXIucmVnaXN0ZXIoJ+aWsOWbvumJtOWPkeeOsCcsIGhhbmRsZVBva2VkZXhEaXNjb3ZlcnkpO1xuICBldmVudE1hbmFnZXIucmVnaXN0ZXIoJ+WPr+aNouWPlueJqeWTgeabtOaWsCcsIGJhcnRlclN5c3RlbVVwZGF0ZUhhbmRsZXIpO1xuICBldmVudE1hbmFnZXIucmVnaXN0ZXIoJ+Wlh+mBhycsIGFkdmVudHVyZUhhbmRsZXIpO1xuXG4gIC8vIDguMS4gSW50ZXJuYWwgRXZlbnQgTGlzdGVuZXIgSW5pdGlhbGl6YXRpb25cbiAgaW5pdGlhbGl6ZVNpZ25Jbkxpc3RlbmVyKCk7XG4gIGluaXRpYWxpemVBZHZlbnR1cmVMaXN0ZW5lcigpO1xuICBpbml0aWFsaXplV2VhdGhlckxpc3RlbmVyKCk7XG4gIGluaXRpYWxpemVTaGVsdGVyTGlzdGVuZXIoKTtcblxuXG4gIC8vIDguIEdhbWUgU3RhcnQgTG9naWNcbiAgY29uc3QgY2xlYW51cEluY29tcGxldGVUdXJuID0gYXN5bmMgKGhpc3RvcnlNYW5hZ2VyOiBDaGF0SGlzdG9yeU1hbmFnZXIpID0+IHtcbiAgICBjb25zdCBoaXN0b3J5ID0gaGlzdG9yeU1hbmFnZXIuZ2V0UmF3SGlzdG9yeSgpO1xuICAgIGNvbnN0IGFjdGl2ZUJyYW5jaCA9IGhpc3RvcnkuYnJhbmNoZXNbaGlzdG9yeS5hY3RpdmVCcmFuY2hdO1xuICAgIGNvbnN0IHR1cm5JbmRpY2VzID0gT2JqZWN0LmtleXMoYWN0aXZlQnJhbmNoKS5tYXAoTnVtYmVyKS5zb3J0KChhLCBiKSA9PiBhIC0gYik7XG4gICAgY29uc3QgbGFzdFR1cm5JbmRleCA9IF8ubGFzdCh0dXJuSW5kaWNlcyk7XG4gIFxuICAgIGlmIChsYXN0VHVybkluZGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybjsgLy8gTm8gdHVybnMgdG8gY2hlY2tcbiAgICB9XG4gIFxuICAgIGNvbnN0IGxhc3RUdXJuID0gYWN0aXZlQnJhbmNoW2xhc3RUdXJuSW5kZXhdO1xuICBcbiAgICBpZiAobGFzdFR1cm4ucm9sZSA9PT0gJ3VzZXInKSB7XG4gICAgICBsb2dnZXIoJ3dhcm4nLCAnSW5kZXgnLCBgSW5jb21wbGV0ZSB0dXJuIGRldGVjdGVkLiBMYXN0IG1lc3NhZ2UgaXMgZnJvbSB1c2VyLiBDbGVhbmluZyB1cCB0dXJuICR7bGFzdFR1cm5JbmRleH0uYCk7XG4gICAgICBhd2FpdCBoaXN0b3J5TWFuYWdlci5kZWxldGVUdXJuKGxhc3RUdXJuSW5kZXgpO1xuICAgICAgbG9nZ2VyKCdpbmZvJywgJ0luZGV4JywgYEluY29tcGxldGUgdHVybiAke2xhc3RUdXJuSW5kZXh9IGhhcyBiZWVuIHJlbW92ZWQuYCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHN0YXJ0R2FtZSA9ICgpID0+IHtcbiAgICBzaG93U2NyZWVuKCdnYW1lJyk7XG4gICAgLy8gRW5zdXJlIGdhbWUtc3BlY2lmaWMgVUkgaXMgdmlzaWJsZVxuICAgIGNvbnN0IHRvcEJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b3AtYmFyJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgY29uc3QgbWFpblBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4tcGFuZWwnKSBhcyBIVE1MRWxlbWVudDtcbiAgICBjb25zdCBzaWRlUGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2lkZS1wYW5lbCcpIGFzIEhUTUxFbGVtZW50O1xuICAgIGlmICh0b3BCYXIpIHRvcEJhci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBpZiAobWFpblBhbmVsKSBtYWluUGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgaWYgKHNpZGVQYW5lbCkgc2lkZVBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuXG4gICAgc3RvcnlSZW5kZXJlci5pbml0KCk7XG4gICAgc3luY2hyb25pemVJbml0aWFsU3dpcGVzKGhpc3RvcnlNYW5hZ2VyKTtcblxuICAgIC8vIHYyLjg6IOagueaNriBDSEFUX0ZMT1dfU1BFQy5tZCDop4TojIPvvIzlnKjpobXpnaLliqDovb0v5a2Y5qGj5Yqg6L295pe25Lmf5qOA5p+l5piv5ZCm6ZyA6KaB5Yib5bu65b+r54WnXG4gICAgLy8gVGhpcyBcImhlYWxzXCIgdGhlIHN0YXRlIGJ5IGNyZWF0aW5nIGEgc25hcHNob3QgaWYgb25lIHdhcyBtaXNzZWQgZHVlIHRvIGVycm9ycyBvciB2ZXJzaW9uIGNoYW5nZXMuXG4gICAgY29uc3QgU05BUFNIT1RfSU5URVJWQUwgPSAyMDtcbiAgICBjb25zdCB0dXJuQ291bnQgPSBoaXN0b3J5TWFuYWdlci5nZXRUdXJuQ291bnQoKTtcbiAgICBpZiAodHVybkNvdW50ID4gMCAmJiB0dXJuQ291bnQgJSBTTkFQU0hPVF9JTlRFUlZBTCA9PT0gMCkge1xuICAgICAgY29uc3QgbGFzdE1lc3NhZ2UgPSBfLmxhc3QoaGlzdG9yeU1hbmFnZXIuZ2V0TWVzc2FnZXNGb3JQcm9tcHQoKSk7XG4gICAgICBpZiAobGFzdE1lc3NhZ2UpIHtcbiAgICAgICAgKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgY29uc3QgY3VycmVudFZhcnMgPSBhd2FpdCBnZXRWYXJpYWJsZXMoeyB0eXBlOiAnY2hhdCcgfSk7XG4gICAgICAgICAgY29uc3QgYWN0aXZlQnJhbmNoSWQgPSBoaXN0b3J5TWFuYWdlci5nZXRBY3RpdmVCcmFuY2hJZCgpO1xuICAgICAgICAgIGNvbnN0IHNuYXBzaG90UGF0aCA9IGDkuJbnlYwu54q25oCB5b+r54WnLiR7YWN0aXZlQnJhbmNoSWR9LiR7bGFzdE1lc3NhZ2UuaWR9YDtcblxuICAgICAgICAgIGlmICghXy5oYXMoY3VycmVudFZhcnMsIHNuYXBzaG90UGF0aCkpIHtcbiAgICAgICAgICAgIGxvZ2dlcignaW5mbycsICdTbmFwc2hvdCcsIGBUdXJuIGNvdW50ICR7dHVybkNvdW50fSByZWFjaGVkIGludGVydmFsLiBDcmVhdGluZyBzbmFwc2hvdCBvbiBpbml0aWFsIGxvYWQuLi5gKTtcbiAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90RGF0YSA9IHtcbiAgICAgICAgICAgICAgLi4uXy5jbG9uZURlZXAoY3VycmVudFZhcnMpLFxuICAgICAgICAgICAgICB2ZXJzaW9uOiBMT0NBTF9WRVJTSU9OLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90VG9JbnNlcnQgPSB7fTtcbiAgICAgICAgICAgIF8uc2V0KHNuYXBzaG90VG9JbnNlcnQsIHNuYXBzaG90UGF0aCwgc25hcHNob3REYXRhKTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGF3YWl0IGluc2VydE9yQXNzaWduVmFyaWFibGVzKHNuYXBzaG90VG9JbnNlcnQsIHsgdHlwZTogJ2NoYXQnIH0pO1xuICAgICAgICAgICAgbG9nZ2VyKCdpbmZvJywgJ1NuYXBzaG90JywgYFNuYXBzaG90IGNyZWF0ZWQgZm9yIG1lc3NhZ2UgJHtsYXN0TWVzc2FnZS5pZH0gb24gYnJhbmNoICR7YWN0aXZlQnJhbmNoSWR9LmApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gOS4gTWVudSBFdmVudCBMaXN0ZW5lcnNcbiAgY29uc3QgY29udGludWVHYW1lQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1Ym1lbnUtY29udGludWUtZ2FtZS1idG4nKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgY29uc3QgbG9hZEdhbWVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkLWdhbWUtaW5wdXQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZW51LXN0YXJ0LWdhbWUtYnRuJykhLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIC8vIENoZWNrIGlmIGEgZ2FtZSBpcyBpbiBwcm9ncmVzc1xuICAgIGlmIChoaXN0b3J5TWFuYWdlci5nZXRNZXNzYWdlc0ZvclByb21wdCgpLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnRpbnVlR2FtZUJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgY29udGludWVHYW1lQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2J0bi1zZWNvbmRhcnknKTtcbiAgICAgIGNvbnRpbnVlR2FtZUJ0bi5jbGFzc0xpc3QuYWRkKCdidG4tcHJpbWFyeScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250aW51ZUdhbWVCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgY29udGludWVHYW1lQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2J0bi1wcmltYXJ5Jyk7XG4gICAgICBjb250aW51ZUdhbWVCdG4uY2xhc3NMaXN0LmFkZCgnYnRuLXNlY29uZGFyeScpO1xuICAgIH1cbiAgICBtYWluTWVudS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICBzdGFydEdhbWVTdWJtZW51LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICB9KTtcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VibWVudS1iYWNrLWJ0bicpIS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBzdGFydEdhbWVTdWJtZW51LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIG1haW5NZW51LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICB9KTtcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VibWVudS1jb250aW51ZS1nYW1lLWJ0bicpIS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBzdGFydEdhbWUoKTtcbiAgfSk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1Ym1lbnUtbmV3LWdhbWUtYnRuJykhLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgIGlmIChjb25maXJtKCfnoa7lrpropoHlvIDlp4vmlrDmuLjmiI/lkJfvvJ/lvZPliY3ov5vluqblsIbkuI3kvJrooqvkv53lrZjjgIInKSkge1xuICAgICAgYXdhaXQgY2xlYXJBbGxDaGF0VmFyaWFibGVzKCk7XG4gICAgICAvLyBObyBuZWVkIHRvIGNsZWFyIGluLW1lbW9yeSBoaXN0b3J5LCBhIG5ldyBpbnN0YW5jZSB3aWxsIGJlIGNyZWF0ZWQgb24gcmVsb2FkLlxuICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnZ2FtZVN0YXRlQWZ0ZXJSZWxvYWQnLCAnc2V0dXAnKTtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICB9XG4gIH0pO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJtZW51LWxvYWQtZ2FtZS1idG4nKSEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgbG9hZEdhbWVJbnB1dC5jbGljaygpO1xuICB9KTtcblxuICBsb2FkR2FtZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChldmVudCkgPT4ge1xuICAgIGNvbnN0IGZpbGUgPSAoZXZlbnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmZpbGVzPy5bMF07XG4gICAgaWYgKCFmaWxlKSByZXR1cm47XG5cbiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIHJlYWRlci5vbmxvYWQgPSBhc3luYyAoZSkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY29udGVudCA9IGUudGFyZ2V0Py5yZXN1bHQgYXMgc3RyaW5nO1xuICAgICAgICBjb25zdCBsb2FkZWREYXRhID0gSlNPTi5wYXJzZShjb250ZW50KTtcbiAgICAgICAgaWYgKHR5cGVvZiBsb2FkZWREYXRhICE9PSAnb2JqZWN0JyB8fCBsb2FkZWREYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHNhdmUgZmlsZSBmb3JtYXQuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBbUk9CVVNUTkVTU10g5a2Y5qGj5L+u5aSN6YC76L6R77ya56Gu5L+d5Yqg6L2955qETDPlv6vnhafkuK3nmoTljoblj7LorrDlvZXmmK/nuq/lh4DnmoRcbiAgICAgICAgY29uc3QgZ2VuZXNpc0hpc3RvcnkgPSBfLmdldChsb2FkZWREYXRhLCAn5LiW55WMLuWIneWni+eKtuaAgS5wbHVnaW5fc3RvcmFnZS5sbG1faGlzdG9yeScpO1xuICAgICAgICBpZiAoZ2VuZXNpc0hpc3RvcnkgJiYgZ2VuZXNpc0hpc3RvcnkuYnJhbmNoZXMpIHtcbiAgICAgICAgICAgIGxvZ2dlcignd2FybicsICdTYXZlTG9hZCcsICdPbGQgc2F2ZSBmb3JtYXQgZGV0ZWN0ZWQuIFNhbml0aXppbmcgZ2VuZXNpcyBzbmFwc2hvdCBoaXN0b3J5Li4uJyk7XG4gICAgICAgICAgICBjb25zdCBmaXJzdEJyYW5jaEtleSA9IE9iamVjdC5rZXlzKGdlbmVzaXNIaXN0b3J5LmJyYW5jaGVzKVswXTtcbiAgICAgICAgICAgIGlmIChmaXJzdEJyYW5jaEtleSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0QnJhbmNoID0gZ2VuZXNpc0hpc3RvcnkuYnJhbmNoZXNbZmlyc3RCcmFuY2hLZXldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0VHVybktleSA9IE9iamVjdC5rZXlzKGZpcnN0QnJhbmNoKVswXTtcbiAgICAgICAgICAgICAgICBpZiAoZmlyc3RUdXJuS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0VHVybiA9IGZpcnN0QnJhbmNoW2ZpcnN0VHVybktleV07XG4gICAgICAgICAgICAgICAgICAgIC8vIOWIm+W7uuWPquWMheWQq+esrOS4gOadoea2iOaBr+eahOaWsOWOhuWPsuiusOW9lVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGVhbkdlbmVzaXNIaXN0b3J5ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uZ2VuZXNpc0hpc3RvcnksXG4gICAgICAgICAgICAgICAgICAgICAgICBicmFuY2hlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtmaXJzdEJyYW5jaEtleV06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzAnOiBmaXJzdFR1cm4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YToge30sIC8vIOa4heepuuWFg+aVsOaNru+8jOWPquS/neeVmea2iOaBr+acrOi6q1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAvLyDlj6rkv53nlZnnrKzkuIDmnaHmtojmga/nmoTlhYPmlbDmja5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlyc3RNZXNzYWdlSWQgPSBfLmdldChmaXJzdFR1cm4sICdwYWdlcy4wLmlkJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaXJzdE1lc3NhZ2VJZCAmJiBnZW5lc2lzSGlzdG9yeS5tZXRhZGF0YVtmaXJzdE1lc3NhZ2VJZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFuR2VuZXNpc0hpc3RvcnkubWV0YWRhdGFbZmlyc3RNZXNzYWdlSWRdID0gZ2VuZXNpc0hpc3RvcnkubWV0YWRhdGFbZmlyc3RNZXNzYWdlSWRdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBfLnNldChsb2FkZWREYXRhLCAn5LiW55WMLuWIneWni+eKtuaAgS5wbHVnaW5fc3RvcmFnZS5sbG1faGlzdG9yeScsIGNsZWFuR2VuZXNpc0hpc3RvcnkpO1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIoJ2luZm8nLCAnU2F2ZUxvYWQnLCAnR2VuZXNpcyBzbmFwc2hvdCBoaXN0b3J5IGhhcyBiZWVuIHNhbml0aXplZCB0byBvbmx5IGNvbnRhaW4gdGhlIGZpcnN0IG1lc3NhZ2UuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgb3ZlcndyaXRlQWxsQ2hhdFZhcmlhYmxlcyhsb2FkZWREYXRhKTtcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnZ2FtZVN0YXRlQWZ0ZXJSZWxvYWQnLCAnZ2FtZScpO1xuICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBsb2dnZXIoJ2Vycm9yJywgJ0luZGV4JywgJ0ZhaWxlZCB0byBsb2FkIHNhdmUgZmlsZTonLCBlcnJvcik7XG4gICAgICAgIGFsZXJ0KCfliqDovb3lrZjmoaPlpLHotKXvvIzmlofku7bmoLzlvI/lj6/og73kuI3mraPnoa7jgIInKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJlYWRlci5yZWFkQXNUZXh0KGZpbGUpO1xuICB9KTtcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVudS1vdmVydmlldy1idG4nKSEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBzaG93U2NyZWVuKCdvdmVydmlldycpKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnUtYWJvdXQtYnRuJykhLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gc2hvd1NjcmVlbignYWJvdXQnKSk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYWNrLXRvLW1lbnUtYnRuJykhLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gc2hvd1NjcmVlbignbWVudScpKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhY2stdG8tbWVudS1mcm9tLWFib3V0LWJ0bicpIS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHNob3dTY3JlZW4oJ21lbnUnKSk7XG5cbiAgLy8gVmVyc2lvbiBDaGVjayBMaXN0ZW5lclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hlY2stZm9yLXVwZGF0ZXMtYnRuJykhLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGVjay1mb3ItdXBkYXRlcy1idG4nKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgICBjb25zdCByZW1vdGVWZXJzaW9uQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlbW90ZS12ZXJzaW9uLWNvbnRhaW5lcicpITtcbiAgICBjb25zdCByZW1vdGVWZXJzaW9uRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZW1vdGUtdmVyc2lvbi1kaXNwbGF5JykhO1xuXG4gICAgYnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICBidG4uaW5uZXJIVE1MID0gJzxpIGNsYXNzPVwiZmFzIGZhLXNwaW5uZXIgZmEtc3BpbiBtci0yXCI+PC9pPuato+WcqOajgOafpS4uLic7XG5cbiAgICBjb25zdCB1cGRhdGVJbmZvID0gYXdhaXQgY2hlY2tGb3JVcGRhdGVzKCk7XG4gICAgaWYgKHVwZGF0ZUluZm8pIHtcbiAgICAgICAgcmVtb3RlVmVyc2lvbkRpc3BsYXkudGV4dENvbnRlbnQgPSB1cGRhdGVJbmZvLnJlbW90ZVZlcnNpb247XG4gICAgICAgIHJlbW90ZVZlcnNpb25Db250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG5cbiAgICAgICAgaWYgKHVwZGF0ZUluZm8uaGFzVXBkYXRlKSB7XG4gICAgICAgICAgICBidG4uaW5uZXJIVE1MID0gJzxpIGNsYXNzPVwiZmFzIGZhLWNsb3VkLWRvd25sb2FkLWFsdCBtci0yXCI+PC9pPuafpeeci+abtOaWsOaXpeW/lyc7XG4gICAgICAgICAgICBidG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGJ0bi5vbmNsaWNrID0gKCkgPT4gc2hvd0NoYW5nZWxvZ01vZGFsKHVwZGF0ZUluZm8uY2hhbmdlbG9nSHRtbCB8fCAnPHA+5peg5rOV5Yqg6L295pu05paw5pel5b+X44CCPC9wPicsIHRydWUpO1xuICAgICAgICAgICAgc2hvd0NoYW5nZWxvZ01vZGFsKHVwZGF0ZUluZm8uY2hhbmdlbG9nSHRtbCB8fCAnPHA+5peg5rOV5Yqg6L295pu05paw5pel5b+X44CCPC9wPicsIHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYnRuLmlubmVySFRNTCA9ICc8aSBjbGFzcz1cImZhcyBmYS1jaGVjay1jaXJjbGUgbXItMlwiPjwvaT7lt7LmmK/mnIDmlrDniYjmnKwnO1xuICAgICAgICAgICAgYnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKCflt7LmmK/mnIDmlrDniYjmnKzvvIEnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLy8gMTAuIEluaXRpYWwgTG9hZCBMb2dpYyB3aXRoIFJvdXRpbmdcbiAgY29uc3QgYWN0aW9uQWZ0ZXJSZWxvYWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdnYW1lU3RhdGVBZnRlclJlbG9hZCcpO1xuICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCdnYW1lU3RhdGVBZnRlclJlbG9hZCcpOyAvLyBDbGVhciB0aGUgZmxhZyBpbW1lZGlhdGVseVxuXG4gIGlmIChhY3Rpb25BZnRlclJlbG9hZCA9PT0gJ3NldHVwJykge1xuICAgIHNob3dTY3JlZW4oJ3NldHVwJyk7XG4gICAgY29uc3Qgc2V0dXBNb2R1bGUgPSBuZXcgU2V0dXBNb2R1bGUoKTtcbiAgICBjb25zdCBvblNldHVwQ29tcGxldGUgPSBhc3luYyAoaW5pdGlhbFN0YXRlOiBhbnkpID0+IHtcbiAgICAgIGxvZ2dlcignaW5mbycsICdJbmRleCcsICdTZXR1cE1vZHVsZSBjb21wbGV0ZWQuIFJlY2VpdmVkIGluaXRpYWxTdGF0ZTonLCBpbml0aWFsU3RhdGUpO1xuICAgICAgYXdhaXQgc2V0dXBNb2R1bGUudW5tb3VudCgpO1xuICAgICAgYXdhaXQgY2xlYXJBbGxDaGF0VmFyaWFibGVzKCk7XG4gICAgXG4gICAgICAvLyDmraXpqqQgMSAmIDI6IOWwhuWlh+mBh+aooeWdl+eahOWIneWni+eKtuaAgeWQiOW5tuWIsOS7jlNldHVw5qih5Z2X5o6l5pS25Yiw55qE5Z+656GA54q25oCB5LitXG4gICAgICBfLnNldChpbml0aWFsU3RhdGUsICfkuJbnlYwu5aWH6YGHJywge1xuICAgICAgICAn5Ya35Y206Iez5aSp5pWwJzogMTUsIC8vIOWFgeiuuOWcqOa4uOaIj+aXqeacn+WPkeeUn+esrOS4gOasoeWlh+mBh1xuICAgICAgICAn5LiK5qyh5aWH6YGH5pel5pyfJzogeyAn5bm0JzogMCwgJ+aciCc6IDAsICfml6UnOiAwIH0sIC8vIOS9v+eUqOS4gOS4quaXoOaViOaXpeacn+S9nOS4uuWIneWni+WAvFxuICAgICAgICAn5Y6G5Y+y5aWH6YGH6K6w5b2VJzogW10sXG4gICAgICB9KTtcbiAgICAgIGxvZ2dlcignaW5mbycsICdJbmRleCcsICdJbml0aWFsIHN0YXRlIGZvciBhZHZlbnR1cmUgbW9kdWxlIGhhcyBiZWVuIG1lcmdlZC4nKTtcblxuICAgICAgLy8g5q2l6aqkIDEuNTog5YaZ5YWl5ZCI5bm25ZCO55qE5a6M5pW05Yid5aeL54q25oCBXG4gICAgICBhd2FpdCBvdmVyd3JpdGVBbGxDaGF0VmFyaWFibGVzKGluaXRpYWxTdGF0ZSk7XG4gICAgXG4gICAgICAvLyDmraXpqqQgMzog5Yid5aeL5YyW5Y6G5Y+y6K6w5b2V77yM6L+Z5bCG5Yib5bu6IHBsdWdpbl9zdG9yYWdlLmxsbV9oaXN0b3J5XG4gICAgICAvLyDlv4XpobvlhYjku47mlbDmja7lupPor7vlj5bkuIDmrKHvvIzku6Xnoa7kv50gZ2V0R2VuZXNpc01lc3NhZ2Ug6IO95ou/5Yiw5YyF5ZCr5qih5Z2X54q25oCB55qE5a6M5pW05pWw5o2uXG4gICAgICBjb25zdCBzdGF0ZUJlZm9yZUhpc3RvcnkgPSBhd2FpdCBnZXRWYXJpYWJsZXMoeyB0eXBlOiAnY2hhdCcgfSk7XG4gICAgICBpbml0aWFsaXplU3RhdGUoc3RhdGVCZWZvcmVIaXN0b3J5KTsgLy8g5Li6IGdldEdlbmVzaXNNZXNzYWdlIOiuvue9ruato+ehrueahOeKtuaAgVxuICAgICAgY29uc3QgZ2VuZXNpc01lc3NhZ2UgPSBnZXRHZW5lc2lzTWVzc2FnZShzdGF0ZUJlZm9yZUhpc3RvcnkpO1xuICAgICAgYXdhaXQgaGlzdG9yeU1hbmFnZXIuc3RhcnRHZW5lc2lzVHVybigpO1xuICAgICAgYXdhaXQgaGlzdG9yeU1hbmFnZXIuYWRkQXNzaXN0YW50TWVzc2FnZVBhZ2UoZ2VuZXNpc01lc3NhZ2UpO1xuICAgICAgbG9nZ2VyKCdpbmZvJywgJ0luZGV4JywgJ0hpc3RvcnkgaW5pdGlhbGl6ZWQsIHBsdWdpbl9zdG9yYWdlIGNyZWF0ZWQuJyk7XG4gICAgXG4gICAgICAvLyDmraXpqqQgNDog5LuO5pWw5o2u5bqT6K+75Y+W5YyF5ZCr5Y6G5Y+y6K6w5b2V55qE5pyA57uI44CB5pyA5a6M5pW055qE54q25oCBXG4gICAgICBjb25zdCBmaW5hbEluaXRpYWxTdGF0ZVdpdGhIaXN0b3J5ID0gYXdhaXQgZ2V0VmFyaWFibGVzKHsgdHlwZTogJ2NoYXQnIH0pO1xuICAgIFxuICAgICAgLy8g5q2l6aqkIDU6IOWfuuS6jui/meS4quacgOWujOaVtOeahOeKtuaAgeWIm+W7uuKAnOWIm+S4luW/q+eFp+KAne+8jOehruS/neaJgOacieaVsOaNrumDveiiq+WMheWQq1xuICAgICAgLy8g5a6J5YWo5L+u5aSN77ya5Zyo5Yib5bu65b+r54Wn5YmN77yM57K+56Gu5Zyw5Y+q5o+Q5Y+W5ri45oiP5LiW55WM55u45YWz55qE54q25oCB77yM5o6S6ZmkIHBsdWdpbl9zdG9yYWdlIOetieWFg+aVsOaNruOAglxuICAgICAgY29uc3QgY2xlYW5TdGF0ZUZvclNuYXBzaG90ID0gXy5waWNrKGZpbmFsSW5pdGlhbFN0YXRlV2l0aEhpc3RvcnksIFsn6KeS6ImyJywgJ+S4lueVjCcsICdwbHVnaW5fc3RvcmFnZSddKTtcbiAgICAgIGNvbnN0IGdlbmVzaXNTbmFwc2hvdCA9IHsgJ+S4lueVjC7liJ3lp4vnirbmgIEnOiBfLmNsb25lRGVlcChjbGVhblN0YXRlRm9yU25hcHNob3QpIH07XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBhd2FpdCBpbnNlcnRPckFzc2lnblZhcmlhYmxlcyhnZW5lc2lzU25hcHNob3QsIHsgdHlwZTogJ2NoYXQnIH0pO1xuICAgICAgbG9nZ2VyKCdpbmZvJywgJ0luZGV4JywgJ0dlbmVzaXMgc25hcHNob3QgaGFzIGJlZW4gaW5zZXJ0ZWQgcHJlY2lzZWx5IGZyb20gdGhlIGZpbmFsIHN0YXRlLicpO1xuICAgIFxuICAgICAgLy8g5q2l6aqkIDY6IOS9v+eUqOacgOe7iOeKtuaAgeWGjeasoeWIneWni+WMlu+8jOehruS/nSBzdGF0ZS50cyDkuK3nmoTnirbmgIHkuZ/mmK/mnIDmlrDnmoTvvIznhLblkI7lvIDlp4vmuLjmiI9cbiAgICAgIGluaXRpYWxpemVTdGF0ZShmaW5hbEluaXRpYWxTdGF0ZVdpdGhIaXN0b3J5KTtcbiAgICAgIHN0YXJ0R2FtZSgpO1xuICAgIH07XG4gICAgc2V0dXBNb2R1bGUubW91bnQoc2V0dXBDb250YWluZXIsIG9uU2V0dXBDb21wbGV0ZSk7XG4gIH0gZWxzZSBpZiAoYWN0aW9uQWZ0ZXJSZWxvYWQgPT09ICdnYW1lJykge1xuICAgIGNvbnN0IGN1cnJlbnRWYXJzID0gYXdhaXQgZ2V0VmFyaWFibGVzKHsgdHlwZTogJ2NoYXQnIH0pO1xuICAgIGlmIChjdXJyZW50VmFycyAmJiBjdXJyZW50VmFycy7kuJbnlYwgJiYgY3VycmVudFZhcnMu5LiW55WMLuWIneWni+eKtuaAgSkge1xuICAgICAgaW5pdGlhbGl6ZVN0YXRlKGN1cnJlbnRWYXJzLuS4lueVjC7liJ3lp4vnirbmgIEpO1xuICAgIH1cbiAgICBhd2FpdCBjbGVhbnVwSW5jb21wbGV0ZVR1cm4oaGlzdG9yeU1hbmFnZXIpO1xuICAgIHN0YXJ0R2FtZSgpO1xuICB9IGVsc2Uge1xuICAgIC8vIEFsd2F5cyBzaG93IG1lbnUgb24gbG9hZCwgYnV0IGluaXRpYWxpemUgc3RhdGUgaWYgYSBzYXZlIGV4aXN0cy5cbiAgICBpZiAoaGlzdG9yeU1hbmFnZXIuZ2V0TWVzc2FnZXNGb3JQcm9tcHQoKS5sZW5ndGggPiAwKSB7XG4gICAgICBhd2FpdCBjbGVhbnVwSW5jb21wbGV0ZVR1cm4oaGlzdG9yeU1hbmFnZXIpO1xuICAgICAgY29uc3QgY3VycmVudFZhcnMgPSBhd2FpdCBnZXRWYXJpYWJsZXMoeyB0eXBlOiAnY2hhdCcgfSk7XG4gICAgICBpZiAoY3VycmVudFZhcnMgJiYgY3VycmVudFZhcnMu5LiW55WMICYmIGN1cnJlbnRWYXJzLuS4lueVjC7liJ3lp4vnirbmgIEpIHtcbiAgICAgICAgaW5pdGlhbGl6ZVN0YXRlKGN1cnJlbnRWYXJzLuS4lueVjC7liJ3lp4vnirbmgIEpO1xuICAgICAgfVxuICAgIH1cbiAgICBzaG93U2NyZWVuKCdtZW51Jyk7XG4gIH1cblxuICBmdW5jdGlvbiBzeW5jaHJvbml6ZUluaXRpYWxTd2lwZXMoaGlzdG9yeU1hbmFnZXI6IENoYXRIaXN0b3J5TWFuYWdlcikge1xuICAgIGNvbnN0IGhpc3RvcnkgPSBoaXN0b3J5TWFuYWdlci5nZXRSYXdIaXN0b3J5KCk7XG4gICAgY29uc3QgYWN0aXZlQnJhbmNoID0gaGlzdG9yeS5icmFuY2hlc1toaXN0b3J5LmFjdGl2ZUJyYW5jaF07XG4gICAgY29uc3QgdHVybkluZGljZXMgPSBPYmplY3Qua2V5cyhhY3RpdmVCcmFuY2gpLm1hcChOdW1iZXIpLnNvcnQoKGEsIGIpID0+IGEgLSBiKTtcbiAgICBjb25zdCBsYXN0VHVybkluZGV4ID0gXy5sYXN0KHR1cm5JbmRpY2VzKTtcblxuICAgIGlmIChsYXN0VHVybkluZGV4ID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgIGNvbnN0IGxhc3RUdXJuID0gYWN0aXZlQnJhbmNoW2xhc3RUdXJuSW5kZXhdO1xuXG4gICAgaWYgKGxhc3RUdXJuLnJvbGUgPT09ICdhc3Npc3RhbnQnKSB7XG4gICAgICAgIGNvbnN0IHN3aXBlcyA9IE9iamVjdC52YWx1ZXMobGFzdFR1cm4ucGFnZXMpLm1hcChwYWdlID0+IHBhZ2UuY29udGVudCk7XG4gICAgICAgIHNldEN1cnJlbnRUdXJuU3dpcGVzKHN3aXBlcyk7XG4gICAgICAgIHNldEN1cnJlbnRTd2lwZUluZGV4KGxhc3RUdXJuLmFjdGl2ZVBhZ2VJbmRleCk7XG4gICAgICAgIGxvZ2dlcignaW5mbycsICdJbmRleCcsIGBJbml0aWFsIHN3aXBlIHN5bmMgY29tcGxldGUuIEZvdW5kICR7c3dpcGVzLmxlbmd0aH0gc3dpcGVzLCBhY3RpdmUgaW5kZXggaXMgJHtsYXN0VHVybi5hY3RpdmVQYWdlSW5kZXh9LmApO1xuICAgIH1cblxuICAgIC8vIFJlc3RvcmUgbGFzdCB1c2VyIGlucHV0IGZvciBjb250ZXh0XG4gICAgY29uc3Qgc2Vjb25kTGFzdFR1cm4gPSBhY3RpdmVCcmFuY2hbbGFzdFR1cm5JbmRleCAtIDFdO1xuICAgIGlmIChzZWNvbmRMYXN0VHVybiAmJiBzZWNvbmRMYXN0VHVybi5yb2xlID09PSAndXNlcicpIHtcbiAgICAgICAgY29uc3QgbGFzdFVzZXJJbnB1dCA9IHNlY29uZExhc3RUdXJuLnBhZ2VzWzBdLmNvbnRlbnQ7XG4gICAgICAgIHNldExhc3RVc2VySW5wdXQobGFzdFVzZXJJbnB1dCk7XG4gICAgICAgIGxvZ2dlcignaW5mbycsICdJbmRleCcsIGBSZXN0b3JlZCBsYXN0IHVzZXIgaW5wdXQ6IFwiJHtsYXN0VXNlcklucHV0fVwiYCk7XG4gICAgfVxuICAgIFxuICAgIHVwZGF0ZVN3aXBlVUkoKTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vICNyZWdpb24gQUkgR2VuZXJhdGlvbiBFdmVudCBMaWZlY3ljbGVcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBjb25zdCBvbkdlbmVyYXRpb25TdGFydGVkID0gKCkgPT4ge1xuICAgIGlmIChnZXRJc0FpR2VuZXJhdGluZygpKSB7XG4gICAgICBsb2dnZXIoJ3dhcm4nLCAnQUkgRXZlbnRzJywgJ0dFTkVSQVRJT05fU1RBUlRFRCByZWNlaXZlZCB3aGlsZSBhbm90aGVyIGdlbmVyYXRpb24gaXMgYWxyZWFkeSBpbiBwcm9ncmVzcy4gSWdub3JpbmcuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxvZ2dlcignaW5mbycsICdBSSBFdmVudHMnLCAnR0VORVJBVElPTl9TVEFSVEVEJyk7XG5cbiAgICBzZXRGb3JjZVN3aXBlUmVzZXQoZmFsc2UpO1xuICAgIHNldElzQWlHZW5lcmF0aW5nKHRydWUpO1xuICAgIGxvZ2dlcignbG9nJywgJ1N0YXRlJywgJ0ZsYWcgYGlzQWlHZW5lcmF0aW5nYCBzZXQgdG8gYHRydWVgLicpO1xuXG4gICAgaWYgKGdldElzTmV3VHVybigpKSB7XG4gICAgICBsb2dnZXIoJ2xvZycsICdTd2lwZXMnLCAnTmV3IHR1cm4gZGV0ZWN0ZWQuIENsZWFyaW5nIHByZXZpb3VzIHN3aXBlcy4nKTtcbiAgICAgIHNldEN1cnJlbnRUdXJuU3dpcGVzKFtdKTtcbiAgICB9XG4gICAgXG4gICAgYWRkU3dpcGUoJycpOyAvLyBBZGQgYSBwbGFjZWhvbGRlciBmb3IgdGhlIGluY29taW5nIG1lc3NhZ2VcbiAgICBzZXRDdXJyZW50U3dpcGVJbmRleChnZXRDdXJyZW50VHVyblN3aXBlcygpLmxlbmd0aCAtIDEpO1xuICAgIGxvZ2dlcignbG9nJywgJ1N3aXBlcycsIGBOZXcgc3dpcGUgcGxhY2Vob2xkZXIgYWRkZWQuIFN3aXBlIGluZGV4IGlzIG5vdyAke2dldEN1cnJlbnRTd2lwZUluZGV4KCl9LiBUb3RhbCBzd2lwZXM6ICR7Z2V0Q3VycmVudFR1cm5Td2lwZXMoKS5sZW5ndGh9LmApO1xuICAgIFxuICAgIHVwZGF0ZVN3aXBlVUkoKTtcbiAgICBzdG9yeVJlbmRlcmVyLnNob3dHZW5lcmF0aW9uTG9hZGluZ1N0YXRlKCk7XG4gIH07XG5cbiAgY29uc3Qgb25TdHJlYW1Ub2tlblJlY2VpdmVkID0gYXN5bmMgKGZ1bGxUZXh0OiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIWdldElzQWlHZW5lcmF0aW5nKCkpIHtcbiAgICAgIG9uR2VuZXJhdGlvblN0YXJ0ZWQoKTtcbiAgICB9XG4gICAgXG4gICAgbG9nZ2VyKCdsb2cnLCAnU3dpcGVzJywgJ1N0cmVhbSBmdWxsIHRleHQgcmVjZWl2ZWQsIHVwZGF0aW5nIGxhc3Qgc3dpcGUgY29udGVudC4nKTtcbiAgICB1cGRhdGVMYXN0U3dpcGUoZnVsbFRleHQpO1xuICAgIGNvbnN0IHByb2Nlc3NlZFN0b3J5UGFydCA9IGdldFByb2Nlc3NlZFN0b3J5VGV4dChmdWxsVGV4dCk7XG4gICAgc3RvcnlSZW5kZXJlci51cGRhdGVTdG9yeUNvbnRlbnQocHJvY2Vzc2VkU3RvcnlQYXJ0KTtcbiAgICB1cGRhdGVTd2lwZVVJKCk7XG4gIH07XG5cbiAgY29uc3Qgc2F2ZU1lc3NhZ2VUb0hpc3RvcnkgPSBhc3luYyAoKTogUHJvbWlzZTxNZXNzYWdlUGFnZSB8IG51bGw+ID0+IHtcbiAgICBjb25zdCBmaW5hbENvbnRlbnQgPSBfLmxhc3QoZ2V0Q3VycmVudFR1cm5Td2lwZXMoKSk7XG4gICAgaWYgKGZpbmFsQ29udGVudCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gbnVsbDtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBtZXNzYWdlSWQgPSBhd2FpdCBoaXN0b3J5TWFuYWdlci5hZGRBc3Npc3RhbnRNZXNzYWdlUGFnZShmaW5hbENvbnRlbnQpO1xuICAgICAgLy8gSW5zdGVhZCBvZiBzZWFyY2hpbmcsIGNvbnN0cnVjdCB0aGUgb2JqZWN0IGRpcmVjdGx5LiBUaGlzIGlzIG1vcmUgcmVsaWFibGUuXG4gICAgICBjb25zdCBzYXZlZE1lc3NhZ2U6IE1lc3NhZ2VQYWdlID0ge1xuICAgICAgICBpZDogbWVzc2FnZUlkLFxuICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgY29udGVudDogZmluYWxDb250ZW50LFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgIGlzVmFsaWQ6IHRydWUsXG4gICAgICB9O1xuICAgICAgcmV0dXJuIHNhdmVkTWVzc2FnZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyKCdlcnJvcicsICdIaXN0b3J5JywgJ0ZhaWxlZCB0byBzYXZlIG1lc3NhZ2UgdG8gaGlzdG9yeS4nLCBlcnJvcik7XG4gICAgICB0b2FzdHIuZXJyb3IoJ+aXoOazleS/neWtmOa2iOaBr+WOhuWPsuiusOW9leOAgicpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9uR2VuZXJhdGlvbkVuZGVkID0gYXN5bmMgKGZpbmFsTWVzc2FnZTogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFnZXRJc0FpR2VuZXJhdGluZygpKSB7XG4gICAgICBsb2dnZXIoJ3dhcm4nLCAnQUkgRXZlbnRzJywgJ0dFTkVSQVRJT05fRU5ERUQgcmVjZWl2ZWQgYnV0IEFJIGlzIG5vdCBtYXJrZWQgYXMgZ2VuZXJhdGluZy4gSWdub3JpbmcuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxvZ2dlcignaW5mbycsICdBSSBFdmVudHMnLCAnR0VORVJBVElPTl9FTkRFRCcpO1xuICAgIFxuICAgIHVwZGF0ZUxhc3RTd2lwZShmaW5hbE1lc3NhZ2UpO1xuICAgIGxvZ2dlcignbG9nJywgJ1N3aXBlcycsIFwiRmluYWwgc3dpcGUgY29udGVudCBoYXMgYmVlbiBzZXQuXCIsIGZpbmFsTWVzc2FnZSk7XG5cbiAgICBjb25zdCBzYXZlZE1lc3NhZ2UgPSBhd2FpdCBzYXZlTWVzc2FnZVRvSGlzdG9yeSgpO1xuICAgIGlmICghc2F2ZWRNZXNzYWdlKSB7XG4gICAgICAgIGxvZ2dlcignZXJyb3InLCAnQUkgRXZlbnRzJywgJ0ZhaWxlZCB0byBzYXZlIG1lc3NhZ2UsIGFib3J0aW5nIHJlbmRlciBhbmQgc3luYy4nKTtcbiAgICAgICAgc2V0SXNBaUdlbmVyYXRpbmcoZmFsc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGdldElzTmV3VHVybigpKSB7XG4gICAgICAvLyBUaGlzIGlzIGEgbmV3IHR1cm4sIGFwcGx5IGNoYW5nZXMgaW5jcmVtZW50YWxseS5cbiAgICAgIGxvZ2dlcignaW5mbycsICdTdGF0ZScsICdOZXcgdHVybiBkZXRlY3RlZC4gQXBwbHlpbmcgaW5jcmVtZW50YWwgc3RhdGUgdXBkYXRlLicpO1xuICAgICAgY29uc3QgcHJvY2Vzc2VkRmluYWxNZXNzYWdlID0gZ2V0UHJvY2Vzc2VkU3RvcnlUZXh0KGZpbmFsTWVzc2FnZSk7XG4gICAgICBsb2dnZXIoJ2xvZycsICdSZWdleCcsIFwiRmluYWwgbWVzc2FnZSBwcm9jZXNzZWQuXCIsIHsgb3JpZ2luYWw6IGZpbmFsTWVzc2FnZSwgcHJvY2Vzc2VkOiBwcm9jZXNzZWRGaW5hbE1lc3NhZ2UgfSk7XG4gICAgICBhd2FpdCBzdG9yeVJlbmRlcmVyLnJlbmRlclN0b3J5QW5kU3luY1N0YXRlKHByb2Nlc3NlZEZpbmFsTWVzc2FnZSwgc2F2ZWRNZXNzYWdlLCBldmVudE1hbmFnZXIpO1xuICAgICAgbG9nZ2VyKCdpbmZvJywgJ1JlbmRlcmVyJywgJ0ZpbmFsIHJlbmRlciBhbmQgc3RhdGUgc3luYyBjb21wbGV0ZSBmb3IgbmV3IHR1cm4uJyk7XG5cbiAgICAgIC8vIHYyLjY6IENoZWNrIGlmIGEgc25hcHNob3Qgc2hvdWxkIGJlIGNyZWF0ZWRcbiAgICAgIGNvbnN0IFNOQVBTSE9UX0lOVEVSVkFMID0gMjA7XG4gICAgICBjb25zdCB0dXJuQ291bnQgPSBoaXN0b3J5TWFuYWdlci5nZXRUdXJuQ291bnQoKTtcbiAgICAgIGlmICh0dXJuQ291bnQgPiAwICYmIHR1cm5Db3VudCAlIFNOQVBTSE9UX0lOVEVSVkFMID09PSAwKSB7XG4gICAgICAgIGxvZ2dlcignaW5mbycsICdTbmFwc2hvdCcsIGBUdXJuIGNvdW50ICR7dHVybkNvdW50fSByZWFjaGVkIHNuYXBzaG90IGludGVydmFsLiBDcmVhdGluZyBzdGF0ZSBzbmFwc2hvdC4uLmApO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGNvbnN0IGN1cnJlbnRWYXJzID0gYXdhaXQgZ2V0VmFyaWFibGVzKHsgdHlwZTogJ2NoYXQnIH0pO1xuICAgICAgICBjb25zdCBzbmFwc2hvdERhdGEgPSB7XG4gICAgICAgICAgLi4uXy5jbG9uZURlZXAoY3VycmVudFZhcnMpLFxuICAgICAgICAgIHZlcnNpb246IExPQ0FMX1ZFUlNJT04sIC8vIOWwhuW9k+WJjeeJiOacrOWPt+WtmOWFpeW/q+eFp1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgLy8g5L2/55SoIGxvZGFzaC5zZXQg5p2l5a6J5YWo5Zyw5p6E5bu65bWM5aWX5a+56LGh77yM6YG/5YWN5Zug5bqV5bGC5a6e546w6Zeu6aKY5a+86Ie055qE5YaZ5YWl5aSx6LSlXG4gICAgICAgIGNvbnN0IGFjdGl2ZUJyYW5jaElkID0gaGlzdG9yeU1hbmFnZXIuZ2V0QWN0aXZlQnJhbmNoSWQoKTtcbiAgICAgICAgY29uc3Qgc25hcHNob3RUb0luc2VydCA9IHt9O1xuICAgICAgICBfLnNldChzbmFwc2hvdFRvSW5zZXJ0LCBg5LiW55WMLueKtuaAgeW/q+eFpy4ke2FjdGl2ZUJyYW5jaElkfS4ke3NhdmVkTWVzc2FnZS5pZH1gLCBzbmFwc2hvdERhdGEpO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGF3YWl0IGluc2VydE9yQXNzaWduVmFyaWFibGVzKHNuYXBzaG90VG9JbnNlcnQsIHsgdHlwZTogJ2NoYXQnIH0pO1xuICAgICAgICBsb2dnZXIoJ2luZm8nLCAnU25hcHNob3QnLCBgU25hcHNob3QgY3JlYXRlZCBmb3IgbWVzc2FnZSAke3NhdmVkTWVzc2FnZS5pZH0gb24gYnJhbmNoICR7YWN0aXZlQnJhbmNoSWR9IHdpdGggdmVyc2lvbiAke0xPQ0FMX1ZFUlNJT059LmApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGlzIGlzIGEgc3dpcGUvcmVnZW5lcmF0aW9uLCByZWNhbGN1bGF0ZSBzdGF0ZSBmcm9tIGhpc3RvcnkuXG4gICAgICBsb2dnZXIoJ2luZm8nLCAnU3RhdGUnLCAnU3dpcGUvcmVnZW5lcmF0aW9uIGRldGVjdGVkLiBSZWNhbGN1bGF0aW5nIHN0YXRlIGZyb20gc2NyYXRjaC4nKTtcbiAgICAgIHNldElzUmVjYWxjdWxhdGluZ1N0YXRlKHRydWUpO1xuICAgICAgYXdhaXQgcmVjYWxjdWxhdGVBbmRBcHBseVN0YXRlKGhpc3RvcnlNYW5hZ2VyLCBzYXZlZE1lc3NhZ2UuaWQsIGV2ZW50TWFuYWdlcik7XG4gICAgICBzZXRJc1JlY2FsY3VsYXRpbmdTdGF0ZShmYWxzZSk7XG4gICAgICBsb2dnZXIoJ2xvZycsICdTdGF0ZScsICdTdGF0ZSByZWNhbGN1bGF0aW9uIGNvbXBsZXRlLicpO1xuICAgICAgc3RvcnlSZW5kZXJlci5yZW5kZXJBbGwoKTsgLy8gUmUtcmVuZGVyIHRoZSBlbnRpcmUgVUkgYmFzZWQgb24gdGhlIG5ldyBzdGF0ZS5cbiAgICAgIGxvZ2dlcignaW5mbycsICdSZW5kZXJlcicsICdGdWxsIFVJIHJlLXJlbmRlciBjb21wbGV0ZSBhZnRlciBzdGF0ZSByZWNhbGN1bGF0aW9uLicpO1xuXG4gICAgICAvLyB2Mi43OiDmoLnmja4gQ0hBVF9GTE9XX1NQRUMubWQg6KeE6IyD77yM5Zyo54q25oCB6YeN566X5ZCO5Lmf5qOA5p+l5piv5ZCm6ZyA6KaB5Yib5bu65b+r54WnXG4gICAgICAvLyBUaGlzIFwiaGVhbHNcIiB0aGUgc3RhdGUgYnkgY3JlYXRpbmcgYW4gdXAtdG8tZGF0ZSBzbmFwc2hvdCBhZnRlciBhIHN3aXBlLlxuICAgICAgY29uc3QgU05BUFNIT1RfSU5URVJWQUwgPSAyMDtcbiAgICAgIGNvbnN0IHR1cm5Db3VudCA9IGhpc3RvcnlNYW5hZ2VyLmdldFR1cm5Db3VudCgpO1xuICAgICAgaWYgKHR1cm5Db3VudCA+IDAgJiYgdHVybkNvdW50ICUgU05BUFNIT1RfSU5URVJWQUwgPT09IDApIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBjb25zdCBjdXJyZW50VmFycyA9IGF3YWl0IGdldFZhcmlhYmxlcyh7IHR5cGU6ICdjaGF0JyB9KTtcbiAgICAgICAgY29uc3QgYWN0aXZlQnJhbmNoSWQgPSBoaXN0b3J5TWFuYWdlci5nZXRBY3RpdmVCcmFuY2hJZCgpO1xuICAgICAgICBjb25zdCBzbmFwc2hvdFBhdGggPSBg5LiW55WMLueKtuaAgeW/q+eFpy4ke2FjdGl2ZUJyYW5jaElkfS4ke3NhdmVkTWVzc2FnZS5pZH1gO1xuICAgICAgICBcbiAgICAgICAgLy8g6YG/5YWN5Zyo5ZCM5LiA5Liq5raI5oGv5LiK6YeN5aSN5YaZ5YWl5b+r54WnXG4gICAgICAgIGlmICghXy5oYXMoY3VycmVudFZhcnMsIHNuYXBzaG90UGF0aCkpIHtcbiAgICAgICAgICAgIGxvZ2dlcignaW5mbycsICdTbmFwc2hvdCcsIGBUdXJuIGNvdW50ICR7dHVybkNvdW50fSByZWFjaGVkIGludGVydmFsLiBDcmVhdGluZyBzbmFwc2hvdCBhZnRlciByZWNhbGN1bGF0aW9uLi4uYCk7XG4gICAgICAgICAgICBjb25zdCBzbmFwc2hvdERhdGEgPSB7XG4gICAgICAgICAgICAgIC4uLl8uY2xvbmVEZWVwKGN1cnJlbnRWYXJzKSxcbiAgICAgICAgICAgICAgdmVyc2lvbjogTE9DQUxfVkVSU0lPTixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBzbmFwc2hvdFRvSW5zZXJ0ID0ge307XG4gICAgICAgICAgICBfLnNldChzbmFwc2hvdFRvSW5zZXJ0LCBzbmFwc2hvdFBhdGgsIHNuYXBzaG90RGF0YSk7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBhd2FpdCBpbnNlcnRPckFzc2lnblZhcmlhYmxlcyhzbmFwc2hvdFRvSW5zZXJ0LCB7IHR5cGU6ICdjaGF0JyB9KTtcbiAgICAgICAgICAgIGxvZ2dlcignaW5mbycsICdTbmFwc2hvdCcsIGBTbmFwc2hvdCBjcmVhdGVkIGZvciBtZXNzYWdlICR7c2F2ZWRNZXNzYWdlLmlkfSBvbiBicmFuY2ggJHthY3RpdmVCcmFuY2hJZH0uYCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRJc0FpR2VuZXJhdGluZyhmYWxzZSk7XG4gICAgaWYgKGdldElzTmV3VHVybigpKSB7XG4gICAgICBzZXRJc05ld1R1cm4oZmFsc2UpO1xuICAgIH1cbiAgICB1cGRhdGVTd2lwZVVJKCk7XG5cbiAgICAvLyBDYWxsIHRoZSBjb250ZXh0IGxpbmtlciB0byBwcm9jZXNzIHRoaXMgdHVybiBpbiB0aGUgYmFja2dyb3VuZFxuICAgIHRyeSB7XG4gICAgICBsb2dnZXIoJ2luZm8nLCAnQ29udGV4dExpbmtlcicsICdTdGFydGluZyBiYWNrZ3JvdW5kIHNlbWFudGljIGFuYWx5c2lzIGZvciB0aGUgbGF0ZXN0IHR1cm4uLi4nKTtcbiAgICAgIGF3YWl0IHByb2Nlc3NDb250ZXh0TGlua2VyVHVybigpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIoJ2Vycm9yJywgJ0NvbnRleHRMaW5rZXInLCAncHJvY2Vzc1R1cm4gZmFpbGVkJywgZXJyb3IpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBvbkdlbmVyYXRpb25TdG9wcGVkID0gYXN5bmMgKCkgPT4ge1xuICAgIGxvZ2dlcignaW5mbycsICdBSSBFdmVudHMnLCAnR0VORVJBVElPTl9TVE9QUEVEIChNYW51YWwpJyk7XG4gICAgY29uc3QgcGFydGlhbE1lc3NhZ2UgPSBfLmxhc3QoZ2V0Q3VycmVudFR1cm5Td2lwZXMoKSkgPz8gJyc7XG4gICAgYXdhaXQgb25HZW5lcmF0aW9uRW5kZWQocGFydGlhbE1lc3NhZ2UpO1xuICB9XG5cbiAgZXZlbnRPbihpZnJhbWVfZXZlbnRzLkdFTkVSQVRJT05fU1RBUlRFRCwgb25HZW5lcmF0aW9uU3RhcnRlZCk7XG4gIGV2ZW50T24oaWZyYW1lX2V2ZW50cy5TVFJFQU1fVE9LRU5fUkVDRUlWRURfRlVMTFksIG9uU3RyZWFtVG9rZW5SZWNlaXZlZCk7XG4gIGV2ZW50T24oaWZyYW1lX2V2ZW50cy5HRU5FUkFUSU9OX0VOREVELCBvbkdlbmVyYXRpb25FbmRlZCk7XG4gIGV2ZW50T24odGF2ZXJuX2V2ZW50cy5HRU5FUkFUSU9OX1NUT1BQRUQsIG9uR2VuZXJhdGlvblN0b3BwZWQpO1xufSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/index.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/modules/setup/data.ts": 
  /*!******************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/modules/setup/data.ts ***!
  \******************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   bagItems: () => (/* binding */ bagItems),\n/* harmony export */   creatures: () => (/* binding */ creatures),\n/* harmony export */   defaultBagItems: () => (/* binding */ defaultBagItems),\n/* harmony export */   defaultTrait: () => (/* binding */ defaultTrait),\n/* harmony export */   farmlands: () => (/* binding */ farmlands),\n/* harmony export */   initialLocations: () => (/* binding */ initialLocations),\n/* harmony export */   inventoryItems: () => (/* binding */ inventoryItems),\n/* harmony export */   islands: () => (/* binding */ islands),\n/* harmony export */   mindsets: () => (/* binding */ mindsets),\n/* harmony export */   optionalTraits: () => (/* binding */ optionalTraits),\n/* harmony export */   seabeds: () => (/* binding */ seabeds),\n/* harmony export */   seasons: () => (/* binding */ seasons),\n/* harmony export */   storms: () => (/* binding */ storms),\n/* harmony export */   systems: () => (/* binding */ systems),\n/* harmony export */   waterSources: () => (/* binding */ waterSources)\n/* harmony export */ });\nconst farmlands = [\n    { id: 'farmland-large', name: '十五亩', description: '一片广阔而完整的灵田，适宜规模化种植。', extraPoints: 0 },\n    { id: 'farmland-medium', name: '十亩', description: '灵田被分割成数块，分布在不同区域。', extraPoints: 3 },\n    { id: 'farmland-small', name: '三亩', description: '灵田细碎且分散，难以进行规模化种植。', extraPoints: 6 },\n];\nconst waterSources = [\n    { id: 'water-rich', name: '灵泉充沛', description: '岛上有多处蕴含灵气的淡水泉眼，取用方便。', extraPoints: 0 },\n    { id: 'water-normal', name: '水源普通', description: '淡水资源充足，但灵气含量微乎其微。', extraPoints: 2 },\n    { id: 'water-scarce', name: '水源稀缺', description: '需要净化海水或收集雨水才能获得淡水。', extraPoints: 4 },\n];\nconst creatures = [\n    { id: 'creature-peaceful', name: '生灵友好', description: '岛上生物大多性情温和，不会主动攻击你。', extraPoints: 0 },\n    { id: 'creature-neutral', name: '中立观察', description: '生物们对你保持警惕，互不侵犯。', extraPoints: 1 },\n    { id: 'creature-hostile', name: '危机四伏', description: '部分生物具有较强的领地意识和攻击性。', extraPoints: 3 },\n];\nconst seabeds = [\n    { id: 'seabed-calm', name: '浅海大陆架', description: '海底平坦，资源贫乏，但相对安全。', extraPoints: 0 },\n    { id: 'seabed-trench', name: '深海海沟', description: '地形复杂，暗藏着古代遗迹和强大的海兽。', extraPoints: 2 },\n    { id: 'seabed-volcano', name: '海底火山群', description: '灵气狂暴，盛产火属性与金石类天材地宝，但也极度危险。', extraPoints: 4 },\n];\nconst storms = [\n    { id: 'storm-rare', name: '风和日丽', description: '风暴罕见，大部分时间都适合出海。', extraPoints: 0 },\n    { id: 'storm-common', name: '季节风暴', description: '特定季节会频繁出现风暴，限制出海时间。', extraPoints: 1 },\n    { id: 'storm-frequent', name: '风暴频发', description: '天气变幻莫测，随时可能出现毁灭性的风暴。', extraPoints: 3 },\n];\nconst islands = [\n    { id: 'islands-five', name: '五座岛屿', description: '周边有五座大小不一的岛屿可供探索。', extraPoints: 0 },\n    { id: 'islands-three', name: '三座岛屿', description: '周边有三座岛屿，探索范围有限。', extraPoints: 2 },\n    { id: 'islands-solitary', name: '孤岛', description: '你所在的岛屿是这片海域唯一陆地。', extraPoints: 4 },\n];\nconst mindsets = [\n    { id: 'mindset-survivor', name: '求生者', description: '活下去是不变的真理。你对环境中的危险和机遇有更强的直觉。' },\n    { id: 'mindset-explorer', name: '探究者', description: '解析世界是最大的乐趣。你更容易从未知事物中获得感悟。' },\n    { id: 'mindset-returner', name: '归乡者', description: '这里只是垫脚石。你对空间、星辰相关的线索有特殊感应。' },\n];\nconst defaultTrait = { id: 'trait-farmer', name: '农学世家', description: '你出身于农业世家，对植物的习性有天生的亲和力。' };\nconst optionalTraits = [\n    { id: 'trait-athlete', name: '运动健将', description: '你曾是运动健将，拥有更强的体能和耐力。' },\n    { id: 'trait-handy', name: '动手达人', description: '你热爱手工，能更快地制作和修复工具。' },\n    { id: 'trait-chef', name: '厨艺特长', description: '你对烹饪有独到的见解，能更好地处理食材，制作美味佳肴。' },\n    { id: 'trait-survivalist', name: '生存大师', description: '你拥有丰富的野外生存知识，能更好地辨识可食用植物和危险生物。' },\n    { id: 'trait-scholar', name: '学霸', description: '你拥有过目不忘的记忆力和强大的逻辑思维能力，更容易学习和理解新知识。' },\n    { id: 'trait-none', name: '无', description: '你没有其他特别的凡人特长。' },\n];\nconst inventoryItems = [\n    { id: 'item-ju-ling-ping', name: '初级聚灵瓶', description: '可自动地缓慢聚集灵气，放水进去可让水携带灵气。', points: 5, 价值: { 基础价值: 50, 价值标签: ['法器', '辅助'] } },\n    { id: 'item-chang-chun-jue', name: '《长春诀》拓本', description: '一部完整的炼气期木系功法，中正平和。', points: 4, 价值: { 基础价值: 100, 价值标签: ['功法', '木系'] } },\n    { id: 'item-bi-shui-zhu', name: '避水珠', description: '能让人在水里自由呼吸的珠子，可由水性灵兽孕育。', points: 4, 价值: { 基础价值: 40, 价值标签: ['奇物', '水下'] } },\n    { id: 'item-yang-yan-jingshi', name: '阳炎晶石', description: '一块能持续散发温暖热量的暖黄色晶石，小块，可当暖手宝。', points: 4, 价值: { 基础价值: 35, 价值标签: ['材料', '火系'] } },\n    { id: 'item-cao-mu-tu-jian', name: '《元初草木图鉴》残本', description: '记录了大量海滨灵植的图鉴，灵植师的宝贵参考。', points: 3, 价值: { 基础价值: 80, 价值标签: ['书籍', '知识'] } },\n    { id: 'item-nuan-yang-guo', name: '暖阳果', description: '生于背阴潮湿之地，果实性温，凡人食之可驱寒充饥,修士食之可略补真元。其核饱满，遇土即生。', points: 3, 价值: { 基础价值: 15, 价值标签: ['消耗品', '食物', '药材'] } },\n    { id: 'item-pigu-dan', name: '一瓶辟谷丹', description: '十颗装，让你在前期无需为食物发愁。', points: 2, 价值: { 基础价值: 20, 价值标签: ['消耗品', '丹药'] } },\n    { id: 'item-duan-jian', name: '断裂的飞剑（剑尖）', description: '由青玉精钢制成，可打造成锋利的小刀或箭头。', points: 2, 价值: { 基础价值: 25, 价值标签: ['材料', '金属'] } },\n    { id: 'item-chu-wu-dai', name: '失效的储物袋', description: '空间已失，但可研究其符文结构，有修复的可能。', points: 2, 价值: { 基础价值: 60, 价值标签: ['法器', '空间', '损坏'] } },\n];\nconst bagItems = [\n    { id: 'item-solar-charger', name: '太阳能充电器', description: '一块折叠式太阳能充电板，或许能让你那块板砖重新开机。', points: 5, 价值: { 基础价值: 5, 价值标签: ['工具', '现代'] } },\n    { id: 'item-multi-tool', name: '多功能军刀', description: '瑞士军刀，集成了小刀、锯子、开罐器等多种工具。', points: 3, 价值: { 基础价值: 10, 价值标签: ['工具', '现代'] } },\n    { id: 'item-antibiotics', name: '广谱抗生素', description: '一小瓶阿莫西林，用于紧急情况下的抗感染治疗。', points: 3, 价值: { 基础价值: 15, 价值标签: ['消耗品', '药品', '现代'] } },\n    { id: 'item-seeds', name: '高产作物种子', description: '一小包精选的杂交水稻和土豆种子。', points: 2, 价值: { 基础价值: 5, 价值标签: ['消耗品', '种子'] } },\n    { id: 'item-fire-starter', name: '打火石', description: '镁条打火石，在潮湿环境下也能生火。', points: 2, 价值: { 基础价值: 8, 价值标签: ['工具'] } },\n    { id: 'item-fish-line', name: '高强度鱼线和鱼钩', description: '专业的钓鱼工具，让你更容易获取食物。', points: 1, 价值: { 基础价值: 8, 价值标签: ['工具'] } },\n];\nconst defaultBagItems = [\n    { id: 'item-phone', name: '没电的手机', description: '你的智能手机，但它现在只是一块漂亮的板砖。', points: 0, 价值: { 基础价值: 1, 价值标签: ['奇物', '现代', '损坏'] } },\n    { id: 'item-clothes', name: '一套换洗衣物', description: '来自你原来世界的普通衣物，至少能保持体面。', points: 0, 价值: { 基础价值: 2, 价值标签: ['衣物'] } },\n];\nconst seasons = [\n    { id: 'season-spring', name: '春', description: '万物复苏，生机盎然，适合播种与培育灵植。' },\n    { id: 'season-summer', name: '夏', description: '烈日炎炎，灵气充裕，但需注意防暑与应对风暴。' },\n    { id: 'season-autumn', name: '秋', description: '天高气爽，硕果累累，是收获的季节，也是储备资源的良机。' },\n    { id: 'season-winter', name: '冬', description: '寒风凛冽，万物蛰伏，考验着你的生存智慧。' },\n];\nconst systems = [\n    { id: 'system-none', name: '无系统', description: '依靠自己的智慧和努力，走出一条独一无二的道路。', points: 0 },\n    { id: 'system-quest', name: '任务系统', description: '“天道”会根据你的行为发布任务，提供清晰的目标和引导。', points: 10 },\n    { id: 'system-sign-in', name: '签到系统', description: '每日签到即可获得随机奖励，轻松获取资源。', points: 9 },\n    { id: 'system-barter', name: '以物换物', description: '可以与神秘商人进行交易，换取你需要的物品。', points: 8 },\n    { id: 'system-achievement', name: '成就系统', description: '完成特定挑战可获得成就点数，兑换特殊奖励。', points: 7 },\n    { id: 'system-skill-panel', name: '技能面板', description: '可以将重复的劳动转化为熟练度，解锁专属技能。', points: 5 },\n];\nconst initialLocations = [\n    { id: 'location-beach', name: '海滩', description: '一片被月光照亮的广阔沙滩，连接着墨绿色的森林。' },\n    { id: 'location-forest', name: '森林', description: '你在一片幽深的森林中醒来，四周是高耸的古树。' },\n    { id: 'location-peak', name: '山顶', description: '孤高的山巅，云雾缭绕，视野开阔但危机四伏。' },\n    { id: 'location-lake', name: '湖泊旁', description: '灵气氤氲的湖畔，宁静而富饶，但深处暗藏未知。' },\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvbW9kdWxlcy9zZXR1cC9kYXRhLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVPLE1BQU0sU0FBUyxHQUFtQjtJQUNyQyxFQUFFLEVBQUUsRUFBRSxnQkFBZ0IsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLFdBQVcsRUFBRSxxQkFBcUIsRUFBRSxXQUFXLEVBQUUsQ0FBQyxFQUFFO0lBQ3pGLEVBQUUsRUFBRSxFQUFFLGlCQUFpQixFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLG1CQUFtQixFQUFFLFdBQVcsRUFBRSxDQUFDLEVBQUU7SUFDdkYsRUFBRSxFQUFFLEVBQUUsZ0JBQWdCLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsb0JBQW9CLEVBQUUsV0FBVyxFQUFFLENBQUMsRUFBRTtDQUMxRixDQUFDO0FBRUssTUFBTSxZQUFZLEdBQW1CO0lBQ3hDLEVBQUUsRUFBRSxFQUFFLFlBQVksRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLFdBQVcsRUFBRSxzQkFBc0IsRUFBRSxXQUFXLEVBQUUsQ0FBQyxFQUFFO0lBQ3ZGLEVBQUUsRUFBRSxFQUFFLGNBQWMsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLFdBQVcsRUFBRSxtQkFBbUIsRUFBRSxXQUFXLEVBQUUsQ0FBQyxFQUFFO0lBQ3RGLEVBQUUsRUFBRSxFQUFFLGNBQWMsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLFdBQVcsRUFBRSxvQkFBb0IsRUFBRSxXQUFXLEVBQUUsQ0FBQyxFQUFFO0NBQzFGLENBQUM7QUFFSyxNQUFNLFNBQVMsR0FBbUI7SUFDckMsRUFBRSxFQUFFLEVBQUUsbUJBQW1CLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUscUJBQXFCLEVBQUUsV0FBVyxFQUFFLENBQUMsRUFBRTtJQUM3RixFQUFFLEVBQUUsRUFBRSxrQkFB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c3JjL+S7gOS5iOaIkeimgeWcqOeOhOW5u+S/ruS7meS4lueVjOenjeeUsC0w5qW854mI5pysL21vZHVsZXMvc2V0dXAvZGF0YS50cz8iXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSVBvaW50T3B0aW9uLCBJQ2hvaWNlT3B0aW9uLCBJSXRlbSwgSVN5c3RlbSwgSVRyYWl0LCBJU2Vhc29uIH0gZnJvbSAnLi90eXBlcyc7XHJcblxyXG5leHBvcnQgY29uc3QgZmFybWxhbmRzOiBJUG9pbnRPcHRpb25bXSA9IFtcclxuICAgIHsgaWQ6ICdmYXJtbGFuZC1sYXJnZScsIG5hbWU6ICfljYHkupTkuqknLCBkZXNjcmlwdGlvbjogJ+S4gOeJh+W5v+mYlOiAjOWujOaVtOeahOeBteeUsO+8jOmAguWunOinhOaooeWMluenjeakjeOAgicsIGV4dHJhUG9pbnRzOiAwIH0sXHJcbiAgICB7IGlkOiAnZmFybWxhbmQtbWVkaXVtJywgbmFtZTogJ+WNgeS6qScsIGRlc2NyaXB0aW9uOiAn54G155Sw6KKr5YiG5Ymy5oiQ5pWw5Z2X77yM5YiG5biD5Zyo5LiN5ZCM5Yy65Z+f44CCJywgZXh0cmFQb2ludHM6IDMgfSxcclxuICAgIHsgaWQ6ICdmYXJtbGFuZC1zbWFsbCcsIG5hbWU6ICfkuInkuqknLCBkZXNjcmlwdGlvbjogJ+eBteeUsOe7hueijuS4lOWIhuaVo++8jOmavuS7pei/m+ihjOinhOaooeWMluenjeakjeOAgicsIGV4dHJhUG9pbnRzOiA2IH0sXHJcbl07XHJcblxyXG5leHBvcnQgY29uc3Qgd2F0ZXJTb3VyY2VzOiBJUG9pbnRPcHRpb25bXSA9IFtcclxuICAgIHsgaWQ6ICd3YXRlci1yaWNoJywgbmFtZTogJ+eBteazieWFheaymycsIGRlc2NyaXB0aW9uOiAn5bKb5LiK5pyJ5aSa5aSE6JW05ZCr54G15rCU55qE5reh5rC05rOJ55y877yM5Y+W55So5pa55L6/44CCJywgZXh0cmFQb2ludHM6IDAgfSxcclxuICAgIHsgaWQ6ICd3YXRlci1ub3JtYWwnLCBuYW1lOiAn5rC05rqQ5pmu6YCaJywgZGVzY3JpcHRpb246ICfmt6HmsLTotYTmupDlhYXotrPvvIzkvYbngbXmsJTlkKvph4/lvq7kuY7lhbblvq7jgIInLCBleHRyYVBvaW50czogMiB9LFxyXG4gICAgeyBpZDogJ3dhdGVyLXNjYXJjZScsIG5hbWU6ICfmsLTmupDnqIDnvLonLCBkZXNjcmlwdGlvbjogJ+mcgOimgeWHgOWMlua1t+awtOaIluaUtumbhumbqOawtOaJjeiDveiOt+W+l+a3oeawtOOAgicsIGV4dHJhUG9pbnRzOiA0IH0sXHJcbl07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXR1cmVzOiBJUG9pbnRPcHRpb25bXSA9IFtcclxuICAgIHsgaWQ6ICdjcmVhdHVyZS1wZWFjZWZ1bCcsIG5hbWU6ICfnlJ/ngbXlj4vlpb0nLCBkZXNjcmlwdGlvbjogJ+Wym+S4iueUn+eJqeWkp+WkmuaAp+aDhea4qeWSjO+8jOS4jeS8muS4u+WKqOaUu+WHu+S9oOOAgicsIGV4dHJhUG9pbnRzOiAwIH0sXHJcbiAgICB7IGlkOiAnY3JlYXR1cmUtbmV1dHJhbCcsIG5hbWU6ICfkuK3nq4vop4Llr58nLCBkZXNjcmlwdGlvbjogJ+eUn+eJqeS7rOWvueS9oOS/neaMgeitpuaDle+8jOS6kuS4jeS+teeKr+OAgicsIGV4dHJhUG9pbnRzOiAxIH0sXHJcbiAgICB7IGlkOiAnY3JlYXR1cmUtaG9zdGlsZScsIG5hbWU6ICfljbHmnLrlm5vkvI8nLCBkZXNjcmlwdGlvbjogJ+mDqOWIhueUn+eJqeWFt+aciei+g+W8uueahOmihuWcsOaEj+ivhuWSjOaUu+WHu+aAp+OAgicsIGV4dHJhUG9pbnRzOiAzIH0sXHJcbl07XHJcblxyXG5leHBvcnQgY29uc3Qgc2VhYmVkczogSVBvaW50T3B0aW9uW10gPSBbXHJcbiAgICB7IGlkOiAnc2VhYmVkLWNhbG0nLCBuYW1lOiAn5rWF5rW35aSn6ZmG5p62JywgZGVzY3JpcHRpb246ICfmtbflupXlubPlnabvvIzotYTmupDotKvkuY/vvIzkvYbnm7jlr7nlronlhajjgIInLCBleHRyYVBvaW50czogMCB9LFxyXG4gICAgeyBpZDogJ3NlYWJlZC10cmVuY2gnLCBuYW1lOiAn5rex5rW35rW35rKfJywgZGVzY3JpcHRpb246ICflnLDlvaLlpI3mnYLvvIzmmpfol4/nnYDlj6Tku6PpgZfov7nlkozlvLrlpKfnmoTmtbflhb3jgIInLCBleHRyYVBvaW50czogMiB9LFxyXG4gICAgeyBpZDogJ3NlYWJlZC12b2xjYW5vJywgbmFtZTogJ+a1t+W6leeBq+Wxsee+pCcsIGRlc2NyaXB0aW9uOiAn54G15rCU54uC5pq077yM55ub5Lqn54Gr5bGe5oCn5LiO6YeR55+z57G75aSp5p2Q5Zyw5a6d77yM5L2G5Lmf5p6B5bqm5Y2x6Zmp44CCJywgZXh0cmFQb2ludHM6IDQgfSxcclxuXTtcclxuXHJcbmV4cG9ydCBjb25zdCBzdG9ybXM6IElQb2ludE9wdGlvbltdID0gW1xyXG4gICAgeyBpZDogJ3N0b3JtLXJhcmUnLCBuYW1lOiAn6aOO5ZKM5pel5Li9JywgZGVzY3JpcHRpb246ICfpo47mmrTnvZXop4HvvIzlpKfpg6jliIbml7bpl7Tpg73pgILlkIjlh7rmtbfjgIInLCBleHRyYVBvaW50czogMCB9LFxyXG4gICAgeyBpZDogJ3N0b3JtLWNvbW1vbicsIG5hbWU6ICflraPoioLpo47mmrQnLCBkZXNjcmlwdGlvbjogJ+eJueWumuWto+iKguS8mumikee5geWHuueOsOmjjuaatO+8jOmZkOWItuWHuua1t+aXtumXtOOAgicsIGV4dHJhUG9pbnRzOiAxIH0sXHJcbiAgICB7IGlkOiAnc3Rvcm0tZnJlcXVlbnQnLCBuYW1lOiAn6aOO5pq06aKR5Y+RJywgZGVzY3JpcHRpb246ICflpKnmsJTlj5jlubvojqvmtYvvvIzpmo/ml7blj6/og73lh7rnjrDmr4Hnga3mgKfnmoTpo47mmrTjgIInLCBleHRyYVBvaW50czogMyB9LFxyXG5dO1xyXG5cclxuZXhwb3J0IGNvbnN0IGlzbGFuZHM6IElQb2ludE9wdGlvbltdID0gW1xyXG4gICAgeyBpZDogJ2lzbGFuZHMtZml2ZScsIG5hbWU6ICfkupTluqflspvlsb8nLCBkZXNjcmlwdGlvbjogJ+WRqOi+ueacieS6lOW6p+Wkp+Wwj+S4jeS4gOeahOWym+Wxv+WPr+S+m+aOoue0ouOAgicsIGV4dHJhUG9pbnRzOiAwIH0sXHJcbiAgICB7IGlkOiAnaXNsYW5kcy10aHJlZScsIG5hbWU6ICfkuInluqflspvlsb8nLCBkZXNjcmlwdGlvbjogJ+WRqOi+ueacieS4ieW6p+Wym+Wxv++8jOaOoue0ouiMg+WbtOaciemZkOOAgicsIGV4dHJhUG9pbnRzOiAyIH0sXHJcbiAgICB7IGlkOiAnaXNsYW5kcy1zb2xpdGFyeScsIG5hbWU6ICflraTlspsnLCBkZXNjcmlwdGlvbjogJ+S9oOaJgOWcqOeahOWym+Wxv+aYr+i/meeJh+a1t+Wfn+WUr+S4gOmZhuWcsOOAgicsIGV4dHJhUG9pbnRzOiA0IH0sXHJcbl07XHJcblxyXG5leHBvcnQgY29uc3QgbWluZHNldHM6IElDaG9pY2VPcHRpb25bXSA9IFtcclxuICAgIHsgaWQ6ICdtaW5kc2V0LXN1cnZpdm9yJywgbmFtZTogJ+axgueUn+iAhScsIGRlc2NyaXB0aW9uOiAn5rS75LiL5Y675piv5LiN5Y+Y55qE55yf55CG44CC5L2g5a+5546v5aKD5Lit55qE5Y2x6Zmp5ZKM5py66YGH5pyJ5pu05by655qE55u06KeJ44CCJyB9LFxyXG4gICAgeyBpZDogJ21pbmRzZXQtZXhwbG9yZXInLCBuYW1lOiAn5o6i56m26ICFJywgZGVzY3JpcHRpb246ICfop6PmnpDkuJbnlYzmmK/mnIDlpKfnmoTkuZDotqPjgILkvaDmm7TlrrnmmJPku47mnKrnn6XkuovniankuK3ojrflvpfmhJ/mgp/jgIInIH0sXHJcbiAgICB7IGlkOiAnbWluZHNldC1yZXR1cm5lcicsIG5hbWU6ICflvZLkuaHogIUnLCBkZXNjcmlwdGlvbjogJ+i/memHjOWPquaYr+Weq+iEmuefs+OAguS9oOWvueepuumXtOOAgeaYn+i+sOebuOWFs+eahOe6v+e0ouacieeJueauiuaEn+W6lOOAgicgfSxcclxuXTtcclxuXHJcbmV4cG9ydCBjb25zdCBkZWZhdWx0VHJhaXQ6IElUcmFpdCA9IHsgaWQ6ICd0cmFpdC1mYXJtZXInLCBuYW1lOiAn5Yac5a2m5LiW5a62JywgZGVzY3JpcHRpb246ICfkvaDlh7rouqvkuo7lhpzkuJrkuJblrrbvvIzlr7nmpI3niannmoTkuaDmgKfmnInlpKnnlJ/nmoTkurLlkozlipvjgIInIH07XHJcbmV4cG9ydCBjb25zdCBvcHRpb25hbFRyYWl0czogSVRyYWl0W10gPSBbXHJcbiAgICB7IGlkOiAndHJhaXQtYXRobGV0ZScsIG5hbWU6ICfov5DliqjlgaXlsIYnLCBkZXNjcmlwdGlvbjogJ+S9oOabvuaYr+i/kOWKqOWBpeWwhu+8jOaLpeacieabtOW8uueahOS9k+iDveWSjOiAkOWKm+OAgicgfSxcclxuICAgIHsgaWQ6ICd0cmFpdC1oYW5keScsIG5hbWU6ICfliqjmiYvovr7kuronLCBkZXNjcmlwdGlvbjogJ+S9oOeDreeIseaJi+W3pe+8jOiDveabtOW/q+WcsOWItuS9nOWSjOS/ruWkjeW3peWFt+OAgicgfSxcclxuICAgIHsgaWQ6ICd0cmFpdC1jaGVmJywgbmFtZTogJ+WOqOiJuueJuemVvycsIGRlc2NyaXB0aW9uOiAn5L2g5a+554O56aWq5pyJ54us5Yiw55qE6KeB6Kej77yM6IO95pu05aW95Zyw5aSE55CG6aOf5p2Q77yM5Yi25L2c576O5ZGz5L2z6IK044CCJyB9LFxyXG4gICAgeyBpZDogJ3RyYWl0LXN1cnZpdmFsaXN0JywgbmFtZTogJ+eUn+WtmOWkp+W4iCcsIGRlc2NyaXB0aW9uOiAn5L2g5oul5pyJ5Liw5a+M55qE6YeO5aSW55Sf5a2Y55+l6K+G77yM6IO95pu05aW95Zyw6L6o6K+G5Y+v6aOf55So5qSN54mp5ZKM5Y2x6Zmp55Sf54mp44CCJyB9LFxyXG4gICAgeyBpZDogJ3RyYWl0LXNjaG9sYXInLCBuYW1lOiAn5a2m6Zy4JywgZGVzY3JpcHRpb246ICfkvaDmi6XmnInov4fnm67kuI3lv5jnmoTorrDlv4blipvlkozlvLrlpKfnmoTpgLvovpHmgJ3nu7Tog73lipvvvIzmm7TlrrnmmJPlrabkuaDlkoznkIbop6PmlrDnn6Xor4bjgIInIH0sXHJcbiAgICB7IGlkOiAndHJhaXQtbm9uZScsIG5hbWU6ICfml6AnLCBkZXNjcmlwdGlvbjogJ+S9oOayoeacieWFtuS7lueJueWIq+eahOWHoeS6uueJuemVv+OAgicgfSxcclxuXTtcclxuXHJcbmV4cG9ydCBjb25zdCBpbnZlbnRvcnlJdGVtczogSUl0ZW1bXSA9IFtcclxuICB7IGlkOiAnaXRlbS1qdS1saW5nLXBpbmcnLCBuYW1lOiAn5Yid57qn6IGa54G155O2JywgZGVzY3JpcHRpb246ICflj6/oh6rliqjlnLDnvJPmhaLogZrpm4bngbXmsJTvvIzmlL7msLTov5vljrvlj6/orqnmsLTmkLrluKbngbXmsJTjgIInLCBwb2ludHM6IDUsIOS7t+WAvDogeyDln7rnoYDku7flgLw6IDUwLCDku7flgLzmoIfnrb46IFsn5rOV5ZmoJywgJ+i+heWKqSddIH0gfSxcclxuICB7IGlkOiAnaXRlbS1jaGFuZy1jaHVuLWp1ZScsIG5hbWU6ICfjgIrplb/mmKXor4DjgIvmi5PmnKwnLCBkZXNjcmlwdGlvbjogJ+S4gOmDqOWujOaVtOeahOeCvOawlOacn+acqOezu+WKn+azle+8jOS4reato+W5s+WSjOOAgicsIHBvaW50czogNCwg5Lu35YC8OiB7IOWfuuehgOS7t+WAvDogMTAwLCDku7flgLzmoIfnrb46IFsn5Yqf5rOVJywgJ+acqOezuyddIH0gfSxcclxuICB7IGlkOiAnaXRlbS1iaS1zaHVpLXpodScsIG5hbWU6ICfpgb/msLTnj6AnLCBkZXNjcmlwdGlvbjogJ+iDveiuqeS6uuWcqOawtOmHjOiHqueUseWRvOWQuOeahOePoOWtkO+8jOWPr+eUseawtOaAp+eBteWFveWtleiCsuOAgicsIHBvaW50czogNCwg5Lu35YC8OiB7IOWfuuehgOS7t+WAvDogNDAsIOS7t+WAvOagh+etvjogWyflpYfniaknLCAn5rC05LiLJ10gfSB9LFxyXG4gIHsgaWQ6ICdpdGVtLXlhbmcteWFuLWppbmdzaGknLCBuYW1lOiAn6Ziz54KO5pm255+zJywgZGVzY3JpcHRpb246ICfkuIDlnZfog73mjIHnu63mlaPlj5HmuKnmmpbng63ph4/nmoTmmpbpu4ToibLmmbbnn7PvvIzlsI/lnZfvvIzlj6/lvZPmmpbmiYvlrp3jgIInLCBwb2ludHM6IDQsIOS7t+WAvDogeyDln7rnoYDku7flgLw6IDM1LCDku7flgLzmoIfnrb46IFsn5p2Q5paZJywgJ+eBq+ezuyddIH0gfSxcclxuICB7IGlkOiAnaXRlbS1jYW8tbXUtdHUtamlhbicsIG5hbWU6ICfjgIrlhYPliJ3ojYnmnKjlm77pibTjgIvmrovmnKwnLCBkZXNjcmlwdGlvbjogJ+iusOW9leS6huWkp+mHj+a1t+a7qOeBteakjeeahOWbvumJtO+8jOeBteakjeW4iOeahOWunei0teWPguiAg+OAgicsIHBvaW50czogMywg5Lu35YC8OiB7IOWfuuehgOS7t+WAvDogODAsIOS7t+WAvOagh+etvjogWyfkuabnsY0nLCAn55+l6K+GJ10gfSB9LFxyXG4gIHsgaWQ6ICdpdGVtLW51YW4teWFuZy1ndW8nLCBuYW1lOiAn5pqW6Ziz5p6cJywgZGVzY3JpcHRpb246ICfnlJ/kuo7og4zpmLTmva7mub/kuYvlnLDvvIzmnpzlrp7mgKfmuKnvvIzlh6Hkurrpo5/kuYvlj6/pqbHlr5LlhYXppaUs5L+u5aOr6aOf5LmL5Y+v55Wl6KGl55yf5YWD44CC5YW25qC46aWx5ruh77yM6YGH5Zyf5Y2z55Sf44CCJywgcG9pbnRzOiAzLCDku7flgLw6IHsg5Z+656GA5Lu35YC8OiAxNSwg5Lu35YC85qCH562+OiBbJ+a2iOiAl+WTgScsICfpo5/niaknLCAn6I2v5p2QJ10gfSB9LFxyXG4gIHsgaWQ6ICdpdGVtLXBpZ3UtZGFuJywgbmFtZTogJ+S4gOeTtui+n+iwt+S4uScsIGRlc2NyaXB0aW9uOiAn5Y2B6aKX6KOF77yM6K6p5L2g5Zyo5YmN5pyf5peg6ZyA5Li66aOf54mp5Y+R5oSB44CCJywgcG9pbnRzOiAyLCDku7flgLw6IHsg5Z+656GA5Lu35YC8OiAyMCwg5Lu35YC85qCH562+OiBbJ+a2iOiAl+WTgScsICfkuLnoja8nXSB9IH0sXHJcbiAgeyBpZDogJ2l0ZW0tZHVhbi1qaWFuJywgbmFtZTogJ+aWreijgueahOmjnuWJke+8iOWJkeWwlu+8iScsIGRlc2NyaXB0aW9uOiAn55Sx6Z2S546J57K+6ZKi5Yi25oiQ77yM5Y+v5omT6YCg5oiQ6ZSL5Yip55qE5bCP5YiA5oiW566t5aS044CCJywgcG9pbnRzOiAyLCDku7flgLw6IHsg5Z+656GA5Lu35YC8OiAyNSwg5Lu35YC85qCH562+OiBbJ+adkOaWmScsICfph5HlsZ4nXSB9IH0sXHJcbiAgeyBpZDogJ2l0ZW0tY2h1LXd1LWRhaScsIG5hbWU6ICflpLHmlYjnmoTlgqjnianooosnLCBkZXNjcmlwdGlvbjogJ+epuumXtOW3suWkse+8jOS9huWPr+eglOeptuWFtuespuaWh+e7k+aehO+8jOacieS/ruWkjeeahOWPr+iDveOAgicsIHBvaW50czogMiwg5Lu35YC8OiB7IOWfuuehgOS7t+WAvDogNjAsIOS7t+WAvOagh+etvjogWyfms5XlmagnLCAn56m66Ze0JywgJ+aNn+WdjyddIH0gfSxcclxuXTtcclxuXHJcbmV4cG9ydCBjb25zdCBiYWdJdGVtczogSUl0ZW1bXSA9IFtcclxuICB7IGlkOiAnaXRlbS1zb2xhci1jaGFyZ2VyJywgbmFtZTogJ+WkqumYs+iDveWFheeUteWZqCcsIGRlc2NyaXB0aW9uOiAn5LiA5Z2X5oqY5Y+g5byP5aSq6Ziz6IO95YWF55S15p2/77yM5oiW6K646IO96K6p5L2g6YKj5Z2X5p2/56CW6YeN5paw5byA5py644CCJywgcG9pbnRzOiA1LCDku7flgLw6IHsg5Z+656GA5Lu35YC8OiA1LCDku7flgLzmoIfnrb46IFsn5bel5YW3JywgJ+eOsOS7oyddIH0gfSxcclxuICB7IGlkOiAnaXRlbS1tdWx0aS10b29sJywgbmFtZTogJ+WkmuWKn+iDveWGm+WIgCcsIGRlc2NyaXB0aW9uOiAn55Ge5aOr5Yab5YiA77yM6ZuG5oiQ5LqG5bCP5YiA44CB6ZSv5a2Q44CB5byA572Q5Zmo562J5aSa56eN5bel5YW344CCJywgcG9pbnRzOiAzLCDku7flgLw6IHsg5Z+656GA5Lu35YC8OiAxMCwg5Lu35YC85qCH562+OiBbJ+W3peWFtycsICfnjrDku6MnXSB9IH0sXHJcbiAgeyBpZDogJ2l0ZW0tYW50aWJpb3RpY3MnLCBuYW1lOiAn5bm/6LCx5oqX55Sf57SgJywgZGVzY3JpcHRpb246ICfkuIDlsI/nk7bpmL/ojqvopb/mnpfvvIznlKjkuo7ntKfmgKXmg4XlhrXkuIvnmoTmipfmhJ/mn5PmsrvnlpfjgIInLCBwb2ludHM6IDMsIOS7t+WAvDogeyDln7rnoYDku7flgLw6IDE1LCDku7flgLzmoIfnrb46IFsn5raI6ICX5ZOBJywgJ+iNr+WTgScsICfnjrDku6MnXSB9IH0sXHJcbiAgeyBpZDogJ2l0ZW0tc2VlZHMnLCBuYW1lOiAn6auY5Lqn5L2c54mp56eN5a2QJywgZGVzY3JpcHRpb246ICfkuIDlsI/ljIXnsr7pgInnmoTmnYLkuqTmsLTnqLvlkozlnJ/osYbnp43lrZDjgIInLCBwb2ludHM6IDIsIOS7t+WAvDogeyDln7rnoYDku7flgLw6IDUsIOS7t+WAvOagh+etvjogWyfmtojogJflk4EnLCAn56eN5a2QJ10gfSB9LFxyXG4gIHsgaWQ6ICdpdGVtLWZpcmUtc3RhcnRlcicsIG5hbWU6ICfmiZPngavnn7MnLCBkZXNjcmlwdGlvbjogJ+mVgeadoeaJk+eBq+efs++8jOWcqOa9rua5v+eOr+Wig+S4i+S5n+iDveeUn+eBq+OAgicsIHBvaW50czogMiwg5Lu35YC8OiB7IOWfuuehgOS7t+WAvDogOCwg5Lu35YC85qCH562+OiBbJ+W3peWFtyddIH0gfSxcclxuICB7IGlkOiAnaXRlbS1maXNoLWxpbmUnLCBuYW1lOiAn6auY5by65bqm6bG857q/5ZKM6bG86ZKpJywgZGVzY3JpcHRpb246ICfkuJPkuJrnmoTpkpPpsbzlt6XlhbfvvIzorqnkvaDmm7TlrrnmmJPojrflj5bpo5/nianjgIInLCBwb2ludHM6IDEsIOS7t+WAvDogeyDln7rnoYDku7flgLw6IDgsIOS7t+WAvOagh+etvjogWyflt6XlhbcnXSB9IH0sXHJcbl07XHJcblxyXG5leHBvcnQgY29uc3QgZGVmYXVsdEJhZ0l0ZW1zOiBJSXRlbVtdID0gW1xyXG4gIHsgaWQ6ICdpdGVtLXBob25lJywgbmFtZTogJ+ayoeeUteeahOaJi+acuicsIGRlc2NyaXB0aW9uOiAn5L2g55qE5pm66IO95omL5py677yM5L2G5a6D546w5Zyo5Y+q5piv5LiA5Z2X5ryC5Lqu55qE5p2/56CW44CCJywgcG9pbnRzOiAwLCDku7flgLw6IHsg5Z+656GA5Lu35YC8OiAxLCDku7flgLzmoIfnrb46IFsn5aWH54mpJywgJ+eOsOS7oycsICfmjZ/lnY8nXSB9IH0sXHJcbiAgeyBpZDogJ2l0ZW0tY2xvdGhlcycsIG5hbWU6ICfkuIDlpZfmjaLmtJfooaPniaknLCBkZXNjcmlwdGlvbjogJ+adpeiHquS9oOWOn+adpeS4lueVjOeahOaZrumAmuiho+eJqe+8jOiHs+WwkeiDveS/neaMgeS9k+mdouOAgicsIHBvaW50czogMCwg5Lu35YC8OiB7IOWfuuehgOS7t+WAvDogMiwg5Lu35YC85qCH562+OiBbJ+iho+eJqSddIH0gfSxcclxuXTtcclxuXHJcbmV4cG9ydCBjb25zdCBzZWFzb25zOiBJU2Vhc29uW10gPSBbXHJcbiAgICB7IGlkOiAnc2Vhc29uLXNwcmluZycsIG5hbWU6ICfmmKUnLCBkZXNjcmlwdGlvbjogJ+S4h+eJqeWkjeiLj++8jOeUn+acuuebjueEtu+8jOmAguWQiOaSreenjeS4juWfueiCsueBteakjeOAgicgfSxcclxuICAgIHsgaWQ6ICdzZWFzb24tc3VtbWVyJywgbmFtZTogJ+WkjycsIGRlc2NyaXB0aW9uOiAn54OI5pel54KO54KO77yM54G15rCU5YWF6KOV77yM5L2G6ZyA5rOo5oSP6Ziy5pqR5LiO5bqU5a+56aOO5pq044CCJyB9LFxyXG4gICAgeyBpZDogJ3NlYXNvbi1hdXR1bW4nLCBuYW1lOiAn56eLJywgZGVzY3JpcHRpb246ICflpKnpq5jmsJTniL3vvIznoZXmnpzntK/ntK/vvIzmmK/mlLbojrfnmoTlraPoioLvvIzkuZ/mmK/lgqjlpIfotYTmupDnmoToia/mnLrjgIInIH0sXHJcbiAgICB7IGlkOiAnc2Vhc29uLXdpbnRlcicsIG5hbWU6ICflhqwnLCBkZXNjcmlwdGlvbjogJ+WvkumjjuWHm+WGve+8jOS4h+eJqeibsOS8j++8jOiAg+mqjOedgOS9oOeahOeUn+WtmOaZuuaFp+OAgicgfSxcclxuXTtcclxuXHJcbmV4cG9ydCBjb25zdCBzeXN0ZW1zOiBJU3lzdGVtW10gPSBbXHJcbiAgICB7IGlkOiAnc3lzdGVtLW5vbmUnLCBuYW1lOiAn5peg57O757ufJywgZGVzY3JpcHRpb246ICfkvp3pnaDoh6rlt7HnmoTmmbrmhaflkozliqrlipvvvIzotbDlh7rkuIDmnaHni6zkuIDml6DkuoznmoTpgZPot6/jgIInLCBwb2ludHM6IDAgfSxcclxuICAgIHsgaWQ6ICdzeXN0ZW0tcXVlc3QnLCBuYW1lOiAn5Lu75Yqh57O757ufJywgZGVzY3JpcHRpb246ICfigJzlpKnpgZPigJ3kvJrmoLnmja7kvaDnmoTooYzkuLrlj5HluIPku7vliqHvvIzmj5DkvpvmuIXmmbDnmoTnm67moIflkozlvJXlr7zjgIInLCBwb2ludHM6IDEwIH0sXHJcbiAgICB7IGlkOiAnc3lzdGVtLXNpZ24taW4nLCBuYW1lOiAn562+5Yiw57O757ufJywgZGVzY3JpcHRpb246ICfmr4/ml6Xnrb7liLDljbPlj6/ojrflvpfpmo/mnLrlpZblirHvvIzovbvmnb7ojrflj5botYTmupDjgIInLCBwb2ludHM6IDkgfSxcclxuICAgIHsgaWQ6ICdzeXN0ZW0tYmFydGVyJywgbmFtZTogJ+S7peeJqeaNoueJqScsIGRlc2NyaXB0aW9uOiAn5Y+v5Lul5LiO56We56eY5ZWG5Lq66L+b6KGM5Lqk5piT77yM5o2i5Y+W5L2g6ZyA6KaB55qE54mp5ZOB44CCJywgcG9pbnRzOiA4IH0sXHJcbiAgICB7IGlkOiAnc3lzdGVtLWFjaGlldmVtZW50JywgbmFtZTogJ+aIkOWwseezu+e7nycsIGRlc2NyaXB0aW9uOiAn5a6M5oiQ54m55a6a5oyR5oiY5Y+v6I635b6X5oiQ5bCx54K55pWw77yM5YWR5o2i54m55q6K5aWW5Yqx44CCJywgcG9pbnRzOiA3IH0sXHJcbiAgICB7IGlkOiAnc3lzdGVtLXNraWxsLXBhbmVsJywgbmFtZTogJ+aKgOiDvemdouadvycsIGRlc2NyaXB0aW9uOiAn5Y+v5Lul5bCG6YeN5aSN55qE5Yqz5Yqo6L2s5YyW5Li654af57uD5bqm77yM6Kej6ZSB5LiT5bGe5oqA6IO944CCJywgcG9pbnRzOiA1IH0sXHJcbl07XHJcblxyXG5leHBvcnQgY29uc3QgaW5pdGlhbExvY2F0aW9uczogSUNob2ljZU9wdGlvbltdID0gW1xyXG4gICAgeyBpZDogJ2xvY2F0aW9uLWJlYWNoJywgbmFtZTogJ+a1t+a7qScsIGRlc2NyaXB0aW9uOiAn5LiA54mH6KKr5pyI5YWJ54Wn5Lqu55qE5bm/6ZiU5rKZ5rup77yM6L+e5o6l552A5aKo57u/6Imy55qE5qOu5p6X44CCJyB9LFxyXG4gICAgeyBpZDogJ2xvY2F0aW9uLWZvcmVzdCcsIG5hbWU6ICfmo67mnpcnLCBkZXNjcmlwdGlvbjogJ+S9oOWcqOS4gOeJh+W5vea3seeahOajruael+S4remGkuadpe+8jOWbm+WRqOaYr+mrmOiAuOeahOWPpOagkeOAgicgfSxcclxuICAgIHsgaWQ6ICdsb2NhdGlvbi1wZWFrJywgbmFtZTogJ+WxsemhticsIGRlc2NyaXB0aW9uOiAn5a2k6auY55qE5bGx5beF77yM5LqR6Zu+57yt57uV77yM6KeG6YeO5byA6ZiU5L2G5Y2x5py65Zub5LyP44CCJyB9LFxyXG4gICAgeyBpZDogJ2xvY2F0aW9uLWxha2UnLCBuYW1lOiAn5rmW5rOK5peBJywgZGVzY3JpcHRpb246ICfngbXmsJTmsKTmsLLnmoTmuZbnlZTvvIzlroHpnZnogIzlr4zppbbvvIzkvYbmt7HlpITmmpfol4/mnKrnn6XjgIInIH0sXHJcbl07XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/modules/setup/data.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/modules/setup/index.ts": 
  /*!*******************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/modules/setup/index.ts ***!
  \*******************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SetupModule: () => (/* binding */ SetupModule)\n/* harmony export */ });\n/* harmony import */ var _data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./data */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/modules/setup/data.ts\");\n/* harmony import */ var _core_logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/logger */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts\");\n\n\n/**\n * SetupModule 负责处理游戏开始前的所有设置选项。\n * 它实现了 IGameModule 接口，可以被主应用动态加载和卸载。\n */\nclass SetupModule {\n    container = null;\n    onComplete = null;\n    async mount(container, onComplete) {\n        this.container = $(container);\n        this.onComplete = onComplete;\n        (0,_core_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('info', 'SetupModule', 'Mounting...');\n        this.render();\n        this.attachEventListeners();\n        (0,_core_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('info', 'SetupModule', 'Mounted successfully.');\n    }\n    async unmount() {\n        if (this.container) {\n            this.container.off(); // 移除所有通过 .on() 绑定的事件\n        }\n        (0,_core_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('info', 'SetupModule', 'Unmounted and cleaned up all event listeners.');\n    }\n    render() {\n        this.renderOptions('initial-locations-container', _data__WEBPACK_IMPORTED_MODULE_0__.initialLocations, 'radio', 'initialLocation');\n        this.renderOptions('seasons-container', _data__WEBPACK_IMPORTED_MODULE_0__.seasons, 'radio', 'season');\n        this.renderOptions('farmland-container', _data__WEBPACK_IMPORTED_MODULE_0__.farmlands, 'radio', 'farmland');\n        this.renderOptions('water-container', _data__WEBPACK_IMPORTED_MODULE_0__.waterSources, 'radio', 'water');\n        this.renderOptions('creature-container', _data__WEBPACK_IMPORTED_MODULE_0__.creatures, 'radio', 'creature');\n        this.renderOptions('seabed-container', _data__WEBPACK_IMPORTED_MODULE_0__.seabeds, 'radio', 'seabed');\n        this.renderOptions('storm-container', _data__WEBPACK_IMPORTED_MODULE_0__.storms, 'radio', 'storm');\n        this.renderOptions('islands-container', _data__WEBPACK_IMPORTED_MODULE_0__.islands, 'radio', 'islands');\n        this.renderOptions('mindsets-container', _data__WEBPACK_IMPORTED_MODULE_0__.mindsets, 'radio', 'mindset');\n        this.renderOptions('traits-container', _data__WEBPACK_IMPORTED_MODULE_0__.optionalTraits, 'radio', 'trait');\n        this.renderOptions('systems-container', _data__WEBPACK_IMPORTED_MODULE_0__.systems, 'radio', 'system', 'text-yellow-400', '-');\n        this.renderItems('inventory-items-container', _data__WEBPACK_IMPORTED_MODULE_0__.inventoryItems, 'inventory-item-checkbox');\n        this.renderItems('bag-items-container', _data__WEBPACK_IMPORTED_MODULE_0__.bagItems, 'bag-item-checkbox');\n    }\n    attachEventListeners() {\n        if (!this.container)\n            return;\n        // 绑定核心事件\n        this.container.on('change input', 'input', this.updatePoints.bind(this));\n        this.container.on('click', '#confirm-start-button', this.handleConfirm.bind(this));\n        this.container.on('click', '#load-previous-button', this.loadPreviousSelection.bind(this));\n        // 角色名称编辑事件\n        this.container.on('click', '#edit-name-button', () => this.toggleNameEdit(true));\n        this.container.on('click', '#cancel-name-button', () => this.toggleNameEdit(false));\n        this.container.on('click', '#confirm-name-button', this.handleNameConfirm.bind(this));\n        // 初始加载和计算\n        this.loadPreviousSelection(); // 尝试加载上次的选择\n        this.updatePoints();\n        this.handleDesktopLayout(); // 新增：根据屏幕宽度调整布局\n    }\n    handleDesktopLayout() {\n        if (!this.container)\n            return;\n        const isDesktop = window.matchMedia('(min-width: 768px)').matches;\n        if (isDesktop) {\n            this.container.find('.collapsible-section').prop('open', true);\n        }\n    }\n    toggleNameEdit(isEditing) {\n        if (!this.container)\n            return;\n        this.container.find('#character-name-display').toggleClass('hidden', isEditing);\n        this.container.find('#character-name-edit').toggleClass('hidden', !isEditing);\n        if (isEditing) {\n            const currentName = this.container.find('#character-name-display h4').text();\n            this.container.find('#character-name-input').val(currentName).focus();\n        }\n    }\n    handleNameConfirm() {\n        if (!this.container)\n            return;\n        const newName = this.container.find('#character-name-input').val();\n        if (newName.trim()) {\n            this.container.find('#character-name-display h4').text(newName.trim());\n            this.toggleNameEdit(false);\n            this.saveCurrentSelection(); // 保存名称更改\n        }\n    }\n    saveCurrentSelection() {\n        if (!this.container)\n            return;\n        const selection = {\n            characterName: this.container.find('#character-name-display h4').text(),\n            talents: {}\n        };\n        // 保存单选按钮组\n        ['initialLocation', 'season', 'farmland', 'water', 'creature', 'seabed', 'storm', 'islands', 'mindset', 'trait', 'system'].forEach(name => {\n            this.container?.find(`input[name=\"${name}\"]`).each((_, el) => {\n                if (el.checked) {\n                    selection[name] = el.id;\n                }\n            });\n        });\n        // 保存多选框\n        ['inventory-item-checkbox', 'bag-item-checkbox'].forEach(name => {\n            const selectedIds = [];\n            this.container?.find(`input.${name}`).each((_, el) => {\n                if (el.checked) {\n                    selectedIds.push(el.id);\n                }\n            });\n            selection[name] = selectedIds;\n        });\n        // 保存滑块值\n        const talents = {};\n        this.container.find('.talent-slider').each((_, slider) => {\n            talents[slider.id] = parseInt($(slider).val(), 10);\n        });\n        selection.talents = talents;\n        localStorage.setItem('xuanhuan_setup_selection', JSON.stringify(selection));\n        (0,_core_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('log', 'SetupModule', 'Current selection saved to localStorage.', selection);\n    }\n    loadPreviousSelection() {\n        const savedSelection = localStorage.getItem('xuanhuan_setup_selection');\n        if (!savedSelection) {\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('info', 'SetupModule', 'No previous selection found in localStorage.');\n            return;\n        }\n        const selection = JSON.parse(savedSelection);\n        if (!this.container)\n            return;\n        // 恢复角色名\n        if (selection.characterName) {\n            this.container.find('#character-name-display h4').text(selection.characterName);\n        }\n        // 恢复单选按钮\n        Object.keys(selection).forEach(key => {\n            if (typeof selection[key] === 'string' && !['characterName'].includes(key)) {\n                this.container?.find(`#${selection[key]}`).prop('checked', true);\n            }\n        });\n        // 恢复多选框\n        ['inventory-item-checkbox', 'bag-item-checkbox'].forEach(name => {\n            if (Array.isArray(selection[name])) {\n                selection[name].forEach(id => {\n                    this.container?.find(`#${id}`).prop('checked', true);\n                });\n            }\n        });\n        // 恢复滑块\n        if (selection.talents) {\n            Object.keys(selection.talents).forEach(id => {\n                this.container?.find(`#${id}`).val(selection.talents[id]);\n            });\n        }\n        this.updatePoints();\n        (0,_core_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('info', 'SetupModule', 'Successfully loaded previous selection.', selection);\n    }\n    updatePoints() {\n        if (!this.container)\n            return;\n        const UIElements = {\n            sliders: this.container.find('.talent-slider'),\n            confirmButton: this.container.find('#confirm-start-button'),\n            points: {\n                talentRemaining: this.container.find('#points-talent-remaining'),\n                inventoryRemaining: this.container.find('#points-inventory-remaining'),\n                bagRemaining: this.container.find('#points-bag-remaining'),\n                extraRemaining: this.container.find('#points-extra-remaining'),\n            },\n        };\n        const basePoints = { talent: 10, inventory: 5, bag: 5 };\n        let talentSpent = 0;\n        UIElements.sliders.each((_, slider) => {\n            const val = parseInt($(slider).val(), 10);\n            talentSpent += val;\n            this.container?.find(`#${slider.id}-value`).text(val);\n        });\n        let inventorySpent = 0;\n        this.container.find('input.inventory-item-checkbox').each((_, el) => {\n            if (el.checked) {\n                inventorySpent += parseInt($(el).attr('data-points') || '0', 10);\n            }\n        });\n        let bagSpent = 0;\n        this.container.find('input.bag-item-checkbox').each((_, el) => {\n            if (el.checked) {\n                bagSpent += parseInt($(el).attr('data-points') || '0', 10);\n            }\n        });\n        const talentLeft = basePoints.talent - talentSpent;\n        const inventoryLeft = basePoints.inventory - inventorySpent;\n        const bagLeft = basePoints.bag - bagSpent;\n        let extraPoints = 0;\n        this.container.find('input.point-provider').each((_, el) => {\n            if (el.checked) {\n                extraPoints += parseInt(el.value, 10);\n            }\n        });\n        let systemPoints = 0;\n        this.container.find('input.system-option').each((_, el) => {\n            if (el.checked) {\n                systemPoints = parseInt(el.value, 10);\n            }\n        });\n        const totalOverdraft = Math.max(0, -talentLeft) + Math.max(0, -inventoryLeft) + Math.max(0, -bagLeft);\n        const finalExtraLeft = extraPoints - totalOverdraft - systemPoints;\n        UIElements.points.talentRemaining.text(Math.max(0, talentLeft));\n        UIElements.points.inventoryRemaining.text(Math.max(0, inventoryLeft));\n        UIElements.points.bagRemaining.text(Math.max(0, bagLeft));\n        UIElements.points.extraRemaining.text(finalExtraLeft);\n        Object.values(UIElements.points).forEach($el => $el?.removeClass('text-red-500'));\n        if (finalExtraLeft < 0) {\n            UIElements.confirmButton.prop('disabled', true);\n            UIElements.points.extraRemaining.addClass('text-red-500');\n        }\n        else {\n            UIElements.confirmButton.prop('disabled', false);\n        }\n        if (talentLeft < 0)\n            UIElements.points.talentRemaining.addClass('text-red-500');\n        if (inventoryLeft < 0)\n            UIElements.points.inventoryRemaining.addClass('text-red-500');\n        if (bagLeft < 0)\n            UIElements.points.bagRemaining.addClass('text-red-500');\n        // 保存当前选择，以便下次加载\n        this.saveCurrentSelection();\n    }\n    generateInitialMarketPrice() {\n        const allTags = [\n            \"消耗品\", \"食物\", \"药品\", \"建筑材料\", \"炼器材料\", \"炼丹材料\",\n            \"修炼材料_初期\", \"修炼材料_中期\", \"任务物品\", \"剧情关键\",\n            \"稀有\", \"传说\", \"唯一\", \"工具\", \"书籍\", \"知识\", \"法器\", \"奇物\"\n        ];\n        const demandTags = {};\n        const numTags = _.random(1, 3);\n        const selectedTags = _.sampleSize(allTags, numTags);\n        for (const tag of selectedTags) {\n            const multiplier = parseFloat(_.random(0.7, 1.5).toFixed(2));\n            demandTags[tag] = multiplier;\n        }\n        return {\n            需求旺盛的标签: demandTags,\n            过期时间: _.random(10, 30)\n        };\n    }\n    handleConfirm() {\n        if (!this.container || !this.onComplete)\n            return;\n        this.updatePoints();\n        if (this.container.find('#confirm-start-button').is(':disabled')) {\n            alert('点数分配超出上限！');\n            return;\n        }\n        const getSelectionData = (name, collection) => {\n            let selectedId = null;\n            this.container?.find(`input[name=\"${name}\"]`).each((_, el) => {\n                if (el.checked) {\n                    selectedId = el.id;\n                }\n            });\n            if (!selectedId)\n                return null;\n            return collection.find(item => item.id === selectedId) || null;\n        };\n        const getSelectionsData = (name, collection) => {\n            const selectedIds = [];\n            this.container?.find(`input.${name}`).each((_, el) => {\n                if (el.checked) {\n                    selectedIds.push(el.id);\n                }\n            });\n            return collection.filter(item => selectedIds.includes(item.id));\n        };\n        const characterName = this.container.find('#character-name-display h4').text().trim() || \"萧栖雪\";\n        // 从新的自定义表单中获取数据\n        const customCharacterData = {\n            gender: this.container.find('#char-gender').val(),\n            age: parseInt(this.container.find('#char-age').val(), 10),\n            appearance: this.container.find('#char-appearance').val(),\n            backgroundEarth: this.container.find('#char-background-earth').val(),\n            backgroundWorld: this.container.find('#char-background-world').val(),\n            personality: this.container.find('#char-personality').val(),\n            habits: this.container.find('#char-habits').val(),\n        };\n        const selectedMindset = getSelectionData('mindset', _data__WEBPACK_IMPORTED_MODULE_0__.mindsets);\n        const selectedTrait = getSelectionData('trait', _data__WEBPACK_IMPORTED_MODULE_0__.optionalTraits);\n        const selectedInventory = getSelectionsData('inventory-item-checkbox', _data__WEBPACK_IMPORTED_MODULE_0__.inventoryItems);\n        const selectedBag = getSelectionsData('bag-item-checkbox', _data__WEBPACK_IMPORTED_MODULE_0__.bagItems);\n        const selectedSeason = getSelectionData('season', _data__WEBPACK_IMPORTED_MODULE_0__.seasons);\n        const selectedSystem = getSelectionData('system', _data__WEBPACK_IMPORTED_MODULE_0__.systems);\n        const selectedLocation = getSelectionData('initialLocation', _data__WEBPACK_IMPORTED_MODULE_0__.initialLocations);\n        const environmentIds = [\n            getSelectionData('farmland', _data__WEBPACK_IMPORTED_MODULE_0__.farmlands)?.id,\n            getSelectionData('water', _data__WEBPACK_IMPORTED_MODULE_0__.waterSources)?.id,\n            getSelectionData('creature', _data__WEBPACK_IMPORTED_MODULE_0__.creatures)?.id,\n            getSelectionData('seabed', _data__WEBPACK_IMPORTED_MODULE_0__.seabeds)?.id,\n            getSelectionData('storm', _data__WEBPACK_IMPORTED_MODULE_0__.storms)?.id,\n            getSelectionData('islands', _data__WEBPACK_IMPORTED_MODULE_0__.islands)?.id,\n        ].filter(Boolean);\n        const talents = {\n            '根骨': parseInt(this.container.find('#talent-gen-gu').val(), 10),\n            '悟性': parseInt(this.container.find('#talent-wu-xing').val(), 10),\n            '气运': parseInt(this.container.find('#talent-qi-yun').val(), 10),\n        };\n        // 根据季节确定初始日期\n        let startMonth = 1; // 默认为春季 (1-3月)\n        if (selectedSeason?.id === 'season-summer')\n            startMonth = 4; // 夏季 (4-6月)\n        if (selectedSeason?.id === 'season-autumn')\n            startMonth = 7; // 秋季 (7-9月)\n        if (selectedSeason?.id === 'season-winter')\n            startMonth = 10; // 冬季 (10-12月)\n        const randomMonthOffset = Math.floor(Math.random() * 3); // 在季节的三个月内随机选择\n        const startMonthFinal = startMonth + randomMonthOffset;\n        const startDay = Math.floor(Math.random() * 30) + 1; // 每月固定30天\n        const startDate = { \"年\": 1, \"月\": startMonthFinal, \"日\": startDay };\n        const seasonName = selectedSeason?.name || '春';\n        const timeOfDay = '清晨';\n        const worldState = {\n            \"时间\": `初${seasonName} · ${timeOfDay}`,\n            \"开局日期\": startDate,\n            \"当前日期\": startDate,\n            \"地点\": `洄潮屿 · ${selectedLocation?.name || '海滩'}`,\n            \"庇护所\": {\n                \"名称\": \"未命名\",\n                \"规模\": \"无\",\n                \"状态\": \"尚未建立\",\n                \"舒适度\": \"无\",\n                \"防御力\": \"无\",\n                \"功能\": [],\n                \"组件\": {\n                    \"围墙\": {\n                        \"规模\": \"未布置\",\n                        \"材料\": \"无\",\n                        \"耐久度\": \"0%\",\n                        \"防御加成\": \"无\",\n                        \"状态\": \"未建造\"\n                    },\n                    \"屋顶\": {\n                        \"规模\": \"未布置\",\n                        \"材料\": \"无\",\n                        \"耐久度\": \"0%\",\n                        \"防雨加成\": \"无\",\n                        \"状态\": \"未建造\"\n                    },\n                    \"农田\": {\n                        \"id\": \"farm_001\",\n                        \"规模\": \"未开垦\",\n                        \"状态\": \"未建造\",\n                        \"作物\": null,\n                        \"产出效率\": \"无\"\n                    },\n                    \"药园\": {\n                        \"id\": \"herb_001\",\n                        \"规模\": \"未开垦\",\n                        \"状态\": \"未建造\",\n                        \"药材\": null,\n                        \"产出效率\": \"无\"\n                    },\n                    \"防御阵法\": {\n                        \"规模\": \"未布置\",\n                        \"状态\": \"未激活\",\n                        \"灵力消耗\": \"无\",\n                        \"防御加成\": \"无\"\n                    }\n                },\n                \"事件日志\": []\n            },\n            \"图鉴\": { \"妖兽\": [], \"植物\": [], \"物品\": [] },\n            \"事件列表\": [],\n            \"当前激活系统\": { \"名称\": selectedSystem?.name || '无系统' },\n            \"初始设定\": {\n                \"岛屿环境\": environmentIds,\n                \"凡人特长\": selectedTrait ? [selectedTrait.id] : [],\n                \"修仙遗物\": selectedInventory.map(item => item.id),\n                \"现代背包\": selectedBag.map(item => item.id),\n                \"初始季节\": selectedSeason?.id,\n                \"心之所向\": selectedMindset?.id,\n                \"系统\": selectedSystem?.id,\n                \"初始地点\": selectedLocation?.id,\n            },\n            \"奇遇\": {\n                \"冷却至天数\": 15, // 游戏开始后15天可触发第一次奇遇\n                \"上次奇遇天数\": 0,\n                \"历史奇遇记录\": []\n            }\n        };\n        // 根据选择的系统，初始化对应的状态对象\n        switch (selectedSystem?.id) {\n            case 'system-achievement':\n                worldState['成就'] = { \"成就点数\": 0, \"已完成\": {} };\n                break;\n            case 'system-skill-panel':\n                worldState['技能'] = { \"列表\": [] };\n                break;\n            case 'system-sign-in':\n                worldState['签到'] = { \"签到记录\": {}, \"连续签到\": 0 };\n                break;\n        }\n        // 为初始世界状态添加时价信息\n        worldState['时价'] = this.generateInitialMarketPrice();\n        const characterState = {\n            \"主控角色名\": characterName,\n            [characterName]: {\n                \"姓名\": characterName,\n                \"性别\": customCharacterData.gender,\n                \"年龄\": customCharacterData.age,\n                \"种族\": \"人族\",\n                \"籍贯\": \"地球（华夏）\",\n                \"外貌特征\": customCharacterData.appearance,\n                \"身份背景\": {\n                    \"前世\": customCharacterData.backgroundEarth,\n                    \"现世\": customCharacterData.backgroundWorld,\n                },\n                \"性格特点\": {\n                    \"核心\": customCharacterData.personality,\n                    \"习惯\": customCharacterData.habits,\n                },\n                \"特质\": [\n                    selectedMindset?.name,\n                    _data__WEBPACK_IMPORTED_MODULE_0__.defaultTrait.name,\n                    selectedTrait?.name,\n                ].filter(Boolean),\n                \"状态\": {\n                    \"口渴度\": { \"value\": 80, \"max\": 100 },\n                    \"饱腹度\": { \"value\": 90, \"max\": 100 },\n                    \"体力\": { \"value\": 100, \"max\": 100 },\n                    \"灵力\": { \"value\": 0, \"max\": 0 }\n                },\n                \"天赋\": talents,\n                \"物品\": [\n                    ..._data__WEBPACK_IMPORTED_MODULE_0__.defaultBagItems.map(item => ({ '名称': item.name, '描述': item.description, '价值': item.价值 })),\n                    ...selectedInventory.map(item => ({ '名称': item.name, '描述': item.description, '价值': item.价值 })),\n                    ...selectedBag.map(item => ({ '名称': item.name, '描述': item.description, '价值': item.价值 })),\n                ],\n                \"关系\": []\n            }\n        };\n        // 1. 组装需要被快照的核心状态\n        const coreState = {\n            \"角色\": characterState,\n            \"世界\": worldState\n        };\n        // 2. 创建一个干净的快照副本\n        const snapshot = _.cloneDeep(coreState);\n        // 3. 将快照添加到实时世界状态中\n        worldState['初始状态'] = snapshot;\n        // 4. 构建最终的、包含核心状态和备份命名空间的变量对象\n        const finalState = {\n            \"角色\": characterState,\n            \"世界\": worldState, // 此对象现在包含了 '初始状态' 快照\n            \"备份\": {\n                \"初始状态备份\": snapshot // 使用同一个干净的快照作为备份\n            }\n        };\n        (0,_core_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('info', 'SetupModule', 'Setup confirmed. Generated finalState:', finalState);\n        this.onComplete(finalState);\n    }\n    renderOptions(containerId, options, type, name, highlightClass = 'text-yellow-400', pointPrefix = '+') {\n        const $container = this.container?.find(`#${containerId}`);\n        if (!$container || $container.length === 0)\n            return;\n        const html = options.map((option, index) => {\n            const isPointOption = 'extraPoints' in option;\n            const isItem = 'points' in option;\n            let pointValue = 0;\n            if (isPointOption)\n                pointValue = option.extraPoints;\n            if (isItem)\n                pointValue = option.points;\n            const pointsText = pointValue > 0 ? ` (<span class=\"${highlightClass}\">${pointPrefix}${pointValue}</span>)` : '';\n            const isChecked = index === 0 ? 'checked' : '';\n            let pointClass = isPointOption ? 'point-provider' : '';\n            if (name === 'system') {\n                pointClass += ' system-option';\n            }\n            return `\n                <label for=\"${option.id}\" class=\"card-radio-label\">\n                    <input type=\"${type}\" id=\"${option.id}\" name=\"${name}\" value=\"${pointValue || 0}\" class=\"sr-only ${pointClass.trim()}\" ${isChecked}>\n                    <div class=\"card-radio-content\">\n                        <span class=\"font-semibold text-primary\">${option.name}${pointsText}</span>\n                        <p class=\"text-xs text-secondary mt-1\">${option.description}</p>\n                    </div>\n                </label>\n            `;\n        }).join('');\n        $container.html(html);\n    }\n    renderItems(containerId, items, name) {\n        const $container = this.container?.find(`#${containerId}`);\n        if (!$container || $container.length === 0)\n            return;\n        const html = items.map(item => `\n            <label for=\"${item.id}\" class=\"card-checkbox-label\">\n                <input type=\"checkbox\" id=\"${item.id}\" name=\"${name}\" data-points=\"${item.points}\" class=\"sr-only ${name}\">\n                <div class=\"card-checkbox-content\">\n                    <div class=\"flex justify-between items-center\">\n                        <span class=\"font-semibold text-primary\">${item.name}</span>\n                        <span class=\"text-sm font-bold text-green-400\">${item.points}点</span>\n                    </div>\n                    <p class=\"text-xs text-secondary mt-1\">${item.description}</p>\n                </div>\n            </label>\n        `).join('');\n        $container.html(html);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvbW9kdWxlcy9zZXR1cC9pbmRleC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFHNEI7QUFFZTtBQUUzQzs7O0dBR0c7QUFDSSxNQUFNLFdBQVc7SUFDWixTQUFTLEdBQStCLElBQUksQ0FBQztJQUM3QyxVQUFVLEdBQW1DLElBQUksQ0FBQztJQUVuRCxLQUFLLENBQUMsS0FBSyxDQUFDLFNBQXNCLEVBQUUsVUFBaUM7UUFDeEUsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDOUIsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7UUFFN0Isb0RBQU0sQ0FBQyxNQUFNLEVBQUUsYUFBYSxFQUFFLGFBQWEsQ0FBQyxDQUFDO1FBQzdDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNkLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO1FBQzVCLG9EQUFNLENBQUMsTUFBTSxFQUFFLGFBQWEsRUFBRSx1QkFBdUIsQ0FBQyxDQUFDO0lBQzNELENBQUM7SUFFTSxLQUFLLENBQUMsT0FBTztRQUNoQixJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUNqQixJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMscUJBQXFCO1FBQy9DLENBQUM7UUFDRCxvREFBTSxDQUFDLE1BQU0sRUFBRSxhQUFhLEVBQUUsK0NBQStDLENBQUMsQ0FBQztJQUNuRixDQUFDO0lBRU8sTUFBTTtRQUNWLElBQUksQ0FBQyxhQUFhLENBQUMsNkJBQTZCLEVBQUUsbURBQWtCLEVBQUUsT0FBTyxFQUFFLGlCQUFpQixDQUFDLENBQUM7UUFDbEcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxtQkFBbUIsRUFBRSwwQ0FBUyxFQUFFLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQztRQUN0RSxJQUFJLENBQUMsYUFBYSxDQUFDLG9CQUFvQixF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X3RlbXBsYXRlLy4vc3JjL+S7gOS5iOaIkeimgeWcqOeOhOW5u+S/ruS7meS4lueVjOenjeeUsC0w5qW854mI5pysL21vZHVsZXMvc2V0dXAvaW5kZXgudHM/Il0sInNvdXJjZXNDb250ZW50IjpbImRlY2xhcmUgY29uc3QgJDogYW55O1xuXG5pbXBvcnQgeyBJR2FtZU1vZHVsZSB9IGZyb20gJy4uLy4uL2NvcmUvbW9kdWxlJztcbmltcG9ydCAqIGFzIEMgZnJvbSAnLi9kYXRhJztcbmltcG9ydCB7IElDaG9pY2VPcHRpb24sIElJdGVtLCBJUG9pbnRPcHRpb24sIElTZWFzb24sIElUcmFpdCwgSVN5c3RlbSB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi4vLi4vY29yZS9sb2dnZXInO1xuXG4vKipcbiAqIFNldHVwTW9kdWxlIOi0n+i0o+WkhOeQhua4uOaIj+W8gOWni+WJjeeahOaJgOacieiuvue9rumAiemhueOAglxuICog5a6D5a6e546w5LqGIElHYW1lTW9kdWxlIOaOpeWPo++8jOWPr+S7peiiq+S4u+W6lOeUqOWKqOaAgeWKoOi9veWSjOWNuOi9veOAglxuICovXG5leHBvcnQgY2xhc3MgU2V0dXBNb2R1bGUgaW1wbGVtZW50cyBJR2FtZU1vZHVsZSB7XG4gICAgcHJpdmF0ZSBjb250YWluZXI6IEpRdWVyeTxIVE1MRWxlbWVudD4gfCBudWxsID0gbnVsbDtcbiAgICBwcml2YXRlIG9uQ29tcGxldGU6ICgocmVzdWx0OiBhbnkpID0+IHZvaWQpIHwgbnVsbCA9IG51bGw7XG5cbiAgICBwdWJsaWMgYXN5bmMgbW91bnQoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgb25Db21wbGV0ZTogKHJlc3VsdDogYW55KSA9PiB2b2lkKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gJChjb250YWluZXIpO1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUgPSBvbkNvbXBsZXRlO1xuXG4gICAgICAgIGxvZ2dlcignaW5mbycsICdTZXR1cE1vZHVsZScsICdNb3VudGluZy4uLicpO1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB0aGlzLmF0dGFjaEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICAgIGxvZ2dlcignaW5mbycsICdTZXR1cE1vZHVsZScsICdNb3VudGVkIHN1Y2Nlc3NmdWxseS4nKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgdW5tb3VudCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKHRoaXMuY29udGFpbmVyKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5vZmYoKTsgLy8g56e76Zmk5omA5pyJ6YCa6L+HIC5vbigpIOe7keWumueahOS6i+S7tlxuICAgICAgICB9XG4gICAgICAgIGxvZ2dlcignaW5mbycsICdTZXR1cE1vZHVsZScsICdVbm1vdW50ZWQgYW5kIGNsZWFuZWQgdXAgYWxsIGV2ZW50IGxpc3RlbmVycy4nKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yZW5kZXJPcHRpb25zKCdpbml0aWFsLWxvY2F0aW9ucy1jb250YWluZXInLCBDLmluaXRpYWxMb2NhdGlvbnMsICdyYWRpbycsICdpbml0aWFsTG9jYXRpb24nKTtcbiAgICAgICAgdGhpcy5yZW5kZXJPcHRpb25zKCdzZWFzb25zLWNvbnRhaW5lcicsIEMuc2Vhc29ucywgJ3JhZGlvJywgJ3NlYXNvbicpO1xuICAgICAgICB0aGlzLnJlbmRlck9wdGlvbnMoJ2Zhcm1sYW5kLWNvbnRhaW5lcicsIEMuZmFybWxhbmRzLCAncmFkaW8nLCAnZmFybWxhbmQnKTtcbiAgICAgICAgdGhpcy5yZW5kZXJPcHRpb25zKCd3YXRlci1jb250YWluZXInLCBDLndhdGVyU291cmNlcywgJ3JhZGlvJywgJ3dhdGVyJyk7XG4gICAgICAgIHRoaXMucmVuZGVyT3B0aW9ucygnY3JlYXR1cmUtY29udGFpbmVyJywgQy5jcmVhdHVyZXMsICdyYWRpbycsICdjcmVhdHVyZScpO1xuICAgICAgICB0aGlzLnJlbmRlck9wdGlvbnMoJ3NlYWJlZC1jb250YWluZXInLCBDLnNlYWJlZHMsICdyYWRpbycsICdzZWFiZWQnKTtcbiAgICAgICAgdGhpcy5yZW5kZXJPcHRpb25zKCdzdG9ybS1jb250YWluZXInLCBDLnN0b3JtcywgJ3JhZGlvJywgJ3N0b3JtJyk7XG4gICAgICAgIHRoaXMucmVuZGVyT3B0aW9ucygnaXNsYW5kcy1jb250YWluZXInLCBDLmlzbGFuZHMsICdyYWRpbycsICdpc2xhbmRzJyk7XG4gICAgICAgIHRoaXMucmVuZGVyT3B0aW9ucygnbWluZHNldHMtY29udGFpbmVyJywgQy5taW5kc2V0cywgJ3JhZGlvJywgJ21pbmRzZXQnKTtcbiAgICAgICAgdGhpcy5yZW5kZXJPcHRpb25zKCd0cmFpdHMtY29udGFpbmVyJywgQy5vcHRpb25hbFRyYWl0cywgJ3JhZGlvJywgJ3RyYWl0Jyk7XG4gICAgICAgIHRoaXMucmVuZGVyT3B0aW9ucygnc3lzdGVtcy1jb250YWluZXInLCBDLnN5c3RlbXMsICdyYWRpbycsICdzeXN0ZW0nLCAndGV4dC15ZWxsb3ctNDAwJywgJy0nKTtcbiAgICAgICAgdGhpcy5yZW5kZXJJdGVtcygnaW52ZW50b3J5LWl0ZW1zLWNvbnRhaW5lcicsIEMuaW52ZW50b3J5SXRlbXMsICdpbnZlbnRvcnktaXRlbS1jaGVja2JveCcpO1xuICAgICAgICB0aGlzLnJlbmRlckl0ZW1zKCdiYWctaXRlbXMtY29udGFpbmVyJywgQy5iYWdJdGVtcywgJ2JhZy1pdGVtLWNoZWNrYm94Jyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhdHRhY2hFdmVudExpc3RlbmVycygpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRhaW5lcikgcmV0dXJuO1xuXG4gICAgICAgIC8vIOe7keWumuaguOW/g+S6i+S7tlxuICAgICAgICB0aGlzLmNvbnRhaW5lci5vbignY2hhbmdlIGlucHV0JywgJ2lucHV0JywgdGhpcy51cGRhdGVQb2ludHMuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLm9uKCdjbGljaycsICcjY29uZmlybS1zdGFydC1idXR0b24nLCB0aGlzLmhhbmRsZUNvbmZpcm0uYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLm9uKCdjbGljaycsICcjbG9hZC1wcmV2aW91cy1idXR0b24nLCB0aGlzLmxvYWRQcmV2aW91c1NlbGVjdGlvbi5iaW5kKHRoaXMpKTtcblxuICAgICAgICAvLyDop5LoibLlkI3np7DnvJbovpHkuovku7ZcbiAgICAgICAgdGhpcy5jb250YWluZXIub24oJ2NsaWNrJywgJyNlZGl0LW5hbWUtYnV0dG9uJywgKCkgPT4gdGhpcy50b2dnbGVOYW1lRWRpdCh0cnVlKSk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLm9uKCdjbGljaycsICcjY2FuY2VsLW5hbWUtYnV0dG9uJywgKCkgPT4gdGhpcy50b2dnbGVOYW1lRWRpdChmYWxzZSkpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5vbignY2xpY2snLCAnI2NvbmZpcm0tbmFtZS1idXR0b24nLCB0aGlzLmhhbmRsZU5hbWVDb25maXJtLmJpbmQodGhpcykpO1xuXG4gICAgICAgIC8vIOWIneWni+WKoOi9veWSjOiuoeeul1xuICAgICAgICB0aGlzLmxvYWRQcmV2aW91c1NlbGVjdGlvbigpOyAvLyDlsJ3or5XliqDovb3kuIrmrKHnmoTpgInmi6lcbiAgICAgICAgdGhpcy51cGRhdGVQb2ludHMoKTtcbiAgICAgICAgdGhpcy5oYW5kbGVEZXNrdG9wTGF5b3V0KCk7IC8vIOaWsOWinu+8muagueaNruWxj+W5leWuveW6puiwg+aVtOW4g+WxgFxuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlRGVza3RvcExheW91dCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRhaW5lcikgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgaXNEZXNrdG9wID0gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDc2OHB4KScpLm1hdGNoZXM7XG4gICAgICAgIGlmIChpc0Rlc2t0b3ApIHtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmZpbmQoJy5jb2xsYXBzaWJsZS1zZWN0aW9uJykucHJvcCgnb3BlbicsIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB0b2dnbGVOYW1lRWRpdChpc0VkaXRpbmc6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRhaW5lcikgcmV0dXJuO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5maW5kKCcjY2hhcmFjdGVyLW5hbWUtZGlzcGxheScpLnRvZ2dsZUNsYXNzKCdoaWRkZW4nLCBpc0VkaXRpbmcpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5maW5kKCcjY2hhcmFjdGVyLW5hbWUtZWRpdCcpLnRvZ2dsZUNsYXNzKCdoaWRkZW4nLCAhaXNFZGl0aW5nKTtcbiAgICAgICAgaWYgKGlzRWRpdGluZykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudE5hbWUgPSB0aGlzLmNvbnRhaW5lci5maW5kKCcjY2hhcmFjdGVyLW5hbWUtZGlzcGxheSBoNCcpLnRleHQoKTtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmZpbmQoJyNjaGFyYWN0ZXItbmFtZS1pbnB1dCcpLnZhbChjdXJyZW50TmFtZSkuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlTmFtZUNvbmZpcm0oKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5jb250YWluZXIpIHJldHVybjtcbiAgICAgICAgY29uc3QgbmV3TmFtZSA9IHRoaXMuY29udGFpbmVyLmZpbmQoJyNjaGFyYWN0ZXItbmFtZS1pbnB1dCcpLnZhbCgpIGFzIHN0cmluZztcbiAgICAgICAgaWYgKG5ld05hbWUudHJpbSgpKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5maW5kKCcjY2hhcmFjdGVyLW5hbWUtZGlzcGxheSBoNCcpLnRleHQobmV3TmFtZS50cmltKCkpO1xuICAgICAgICAgICAgdGhpcy50b2dnbGVOYW1lRWRpdChmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLnNhdmVDdXJyZW50U2VsZWN0aW9uKCk7IC8vIOS/neWtmOWQjeensOabtOaUuVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzYXZlQ3VycmVudFNlbGVjdGlvbigpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRhaW5lcikgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbjogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXSB8IHsgW2lkOiBzdHJpbmddOiBudW1iZXIgfSB9ID0ge1xuICAgICAgICAgICAgY2hhcmFjdGVyTmFtZTogdGhpcy5jb250YWluZXIuZmluZCgnI2NoYXJhY3Rlci1uYW1lLWRpc3BsYXkgaDQnKS50ZXh0KCksXG4gICAgICAgICAgICB0YWxlbnRzOiB7fVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIOS/neWtmOWNlemAieaMiemSrue7hFxuICAgICAgICBbJ2luaXRpYWxMb2NhdGlvbicsICdzZWFzb24nLCAnZmFybWxhbmQnLCAnd2F0ZXInLCAnY3JlYXR1cmUnLCAnc2VhYmVkJywgJ3N0b3JtJywgJ2lzbGFuZHMnLCAnbWluZHNldCcsICd0cmFpdCcsICdzeXN0ZW0nXS5mb3JFYWNoKG5hbWUgPT4ge1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXI/LmZpbmQoYGlucHV0W25hbWU9XCIke25hbWV9XCJdYCkuZWFjaCgoXywgZWwpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoKGVsIGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uW25hbWVdID0gKGVsIGFzIEhUTUxJbnB1dEVsZW1lbnQpLmlkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyDkv53lrZjlpJrpgInmoYZcbiAgICAgICAgWydpbnZlbnRvcnktaXRlbS1jaGVja2JveCcsICdiYWctaXRlbS1jaGVja2JveCddLmZvckVhY2gobmFtZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZElkczogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyPy5maW5kKGBpbnB1dC4ke25hbWV9YCkuZWFjaCgoXywgZWwpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoKGVsIGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRJZHMucHVzaCgoZWwgYXMgSFRNTElucHV0RWxlbWVudCkuaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2VsZWN0aW9uW25hbWVdID0gc2VsZWN0ZWRJZHM7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIOS/neWtmOa7keWdl+WAvFxuICAgICAgICBjb25zdCB0YWxlbnRzOiB7IFtpZDogc3RyaW5nXTogbnVtYmVyIH0gPSB7fTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuZmluZCgnLnRhbGVudC1zbGlkZXInKS5lYWNoKChfLCBzbGlkZXIpID0+IHtcbiAgICAgICAgICAgIHRhbGVudHNbc2xpZGVyLmlkXSA9IHBhcnNlSW50KCQoc2xpZGVyKS52YWwoKSBhcyBzdHJpbmcsIDEwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNlbGVjdGlvbi50YWxlbnRzID0gdGFsZW50cztcblxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgneHVhbmh1YW5fc2V0dXBfc2VsZWN0aW9uJywgSlNPTi5zdHJpbmdpZnkoc2VsZWN0aW9uKSk7XG4gICAgICAgIGxvZ2dlcignbG9nJywgJ1NldHVwTW9kdWxlJywgJ0N1cnJlbnQgc2VsZWN0aW9uIHNhdmVkIHRvIGxvY2FsU3RvcmFnZS4nLCBzZWxlY3Rpb24pO1xuICAgIH1cblxuICAgIHByaXZhdGUgbG9hZFByZXZpb3VzU2VsZWN0aW9uKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBzYXZlZFNlbGVjdGlvbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd4dWFuaHVhbl9zZXR1cF9zZWxlY3Rpb24nKTtcbiAgICAgICAgaWYgKCFzYXZlZFNlbGVjdGlvbikge1xuICAgICAgICAgICAgbG9nZ2VyKCdpbmZvJywgJ1NldHVwTW9kdWxlJywgJ05vIHByZXZpb3VzIHNlbGVjdGlvbiBmb3VuZCBpbiBsb2NhbFN0b3JhZ2UuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSBKU09OLnBhcnNlKHNhdmVkU2VsZWN0aW9uKTtcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRhaW5lcikgcmV0dXJuO1xuXG4gICAgICAgIC8vIOaBouWkjeinkuiJsuWQjVxuICAgICAgICBpZiAoc2VsZWN0aW9uLmNoYXJhY3Rlck5hbWUpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmZpbmQoJyNjaGFyYWN0ZXItbmFtZS1kaXNwbGF5IGg0JykudGV4dChzZWxlY3Rpb24uY2hhcmFjdGVyTmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyDmgaLlpI3ljZXpgInmjInpkq5cbiAgICAgICAgT2JqZWN0LmtleXMoc2VsZWN0aW9uKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNlbGVjdGlvbltrZXldID09PSAnc3RyaW5nJyAmJiAhWydjaGFyYWN0ZXJOYW1lJ10uaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyPy5maW5kKGAjJHtzZWxlY3Rpb25ba2V5XX1gKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIOaBouWkjeWkmumAieahhlxuICAgICAgICBbJ2ludmVudG9yeS1pdGVtLWNoZWNrYm94JywgJ2JhZy1pdGVtLWNoZWNrYm94J10uZm9yRWFjaChuYW1lID0+IHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNlbGVjdGlvbltuYW1lXSkpIHtcbiAgICAgICAgICAgICAgICAoc2VsZWN0aW9uW25hbWVdIGFzIHN0cmluZ1tdKS5mb3JFYWNoKGlkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXI/LmZpbmQoYCMke2lkfWApLnByb3AoJ2NoZWNrZWQnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8g5oGi5aSN5ruR5Z2XXG4gICAgICAgIGlmIChzZWxlY3Rpb24udGFsZW50cykge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoc2VsZWN0aW9uLnRhbGVudHMpLmZvckVhY2goaWQgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyPy5maW5kKGAjJHtpZH1gKS52YWwoc2VsZWN0aW9uLnRhbGVudHNbaWRdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVQb2ludHMoKTtcbiAgICAgICAgbG9nZ2VyKCdpbmZvJywgJ1NldHVwTW9kdWxlJywgJ1N1Y2Nlc3NmdWxseSBsb2FkZWQgcHJldmlvdXMgc2VsZWN0aW9uLicsIHNlbGVjdGlvbik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVQb2ludHMoKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5jb250YWluZXIpIHJldHVybjtcblxuICAgICAgICBjb25zdCBVSUVsZW1lbnRzID0ge1xuICAgICAgICAgICAgc2xpZGVyczogdGhpcy5jb250YWluZXIuZmluZCgnLnRhbGVudC1zbGlkZXInKSxcbiAgICAgICAgICAgIGNvbmZpcm1CdXR0b246IHRoaXMuY29udGFpbmVyLmZpbmQoJyNjb25maXJtLXN0YXJ0LWJ1dHRvbicpLFxuICAgICAgICAgICAgcG9pbnRzOiB7XG4gICAgICAgICAgICAgICAgdGFsZW50UmVtYWluaW5nOiB0aGlzLmNvbnRhaW5lci5maW5kKCcjcG9pbnRzLXRhbGVudC1yZW1haW5pbmcnKSxcbiAgICAgICAgICAgICAgICBpbnZlbnRvcnlSZW1haW5pbmc6IHRoaXMuY29udGFpbmVyLmZpbmQoJyNwb2ludHMtaW52ZW50b3J5LXJlbWFpbmluZycpLFxuICAgICAgICAgICAgICAgIGJhZ1JlbWFpbmluZzogdGhpcy5jb250YWluZXIuZmluZCgnI3BvaW50cy1iYWctcmVtYWluaW5nJyksXG4gICAgICAgICAgICAgICAgZXh0cmFSZW1haW5pbmc6IHRoaXMuY29udGFpbmVyLmZpbmQoJyNwb2ludHMtZXh0cmEtcmVtYWluaW5nJyksXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGJhc2VQb2ludHMgPSB7IHRhbGVudDogMTAsIGludmVudG9yeTogNSwgYmFnOiA1IH07XG5cbiAgICAgICAgbGV0IHRhbGVudFNwZW50ID0gMDtcbiAgICAgICAgVUlFbGVtZW50cy5zbGlkZXJzLmVhY2goKF8sIHNsaWRlcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgdmFsID0gcGFyc2VJbnQoJChzbGlkZXIpLnZhbCgpIGFzIHN0cmluZywgMTApO1xuICAgICAgICAgICAgdGFsZW50U3BlbnQgKz0gdmFsO1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXI/LmZpbmQoYCMke3NsaWRlci5pZH0tdmFsdWVgKS50ZXh0KHZhbCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBpbnZlbnRvcnlTcGVudCA9IDA7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmZpbmQoJ2lucHV0LmludmVudG9yeS1pdGVtLWNoZWNrYm94JykuZWFjaCgoXywgZWwpID0+IHtcbiAgICAgICAgICAgIGlmICgoZWwgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgIGludmVudG9yeVNwZW50ICs9IHBhcnNlSW50KCQoZWwpLmF0dHIoJ2RhdGEtcG9pbnRzJykgfHwgJzAnLCAxMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBiYWdTcGVudCA9IDA7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmZpbmQoJ2lucHV0LmJhZy1pdGVtLWNoZWNrYm94JykuZWFjaCgoXywgZWwpID0+IHtcbiAgICAgICAgICAgIGlmICgoZWwgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgIGJhZ1NwZW50ICs9IHBhcnNlSW50KCQoZWwpLmF0dHIoJ2RhdGEtcG9pbnRzJykgfHwgJzAnLCAxMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHRhbGVudExlZnQgPSBiYXNlUG9pbnRzLnRhbGVudCAtIHRhbGVudFNwZW50O1xuICAgICAgICBjb25zdCBpbnZlbnRvcnlMZWZ0ID0gYmFzZVBvaW50cy5pbnZlbnRvcnkgLSBpbnZlbnRvcnlTcGVudDtcbiAgICAgICAgY29uc3QgYmFnTGVmdCA9IGJhc2VQb2ludHMuYmFnIC0gYmFnU3BlbnQ7XG5cbiAgICAgICAgbGV0IGV4dHJhUG9pbnRzID0gMDtcbiAgICAgICAgdGhpcy5jb250YWluZXIuZmluZCgnaW5wdXQucG9pbnQtcHJvdmlkZXInKS5lYWNoKChfLCBlbCkgPT4ge1xuICAgICAgICAgICAgaWYgKChlbCBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgZXh0cmFQb2ludHMgKz0gcGFyc2VJbnQoKGVsIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlLCAxMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBzeXN0ZW1Qb2ludHMgPSAwO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5maW5kKCdpbnB1dC5zeXN0ZW0tb3B0aW9uJykuZWFjaCgoXywgZWwpID0+IHtcbiAgICAgICAgICAgIGlmICgoZWwgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgIHN5c3RlbVBvaW50cyA9IHBhcnNlSW50KChlbCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSwgMTApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCB0b3RhbE92ZXJkcmFmdCA9IE1hdGgubWF4KDAsIC10YWxlbnRMZWZ0KSArIE1hdGgubWF4KDAsIC1pbnZlbnRvcnlMZWZ0KSArIE1hdGgubWF4KDAsIC1iYWdMZWZ0KTtcbiAgICAgICAgY29uc3QgZmluYWxFeHRyYUxlZnQgPSBleHRyYVBvaW50cyAtIHRvdGFsT3ZlcmRyYWZ0IC0gc3lzdGVtUG9pbnRzO1xuXG4gICAgICAgIFVJRWxlbWVudHMucG9pbnRzLnRhbGVudFJlbWFpbmluZy50ZXh0KE1hdGgubWF4KDAsIHRhbGVudExlZnQpKTtcbiAgICAgICAgVUlFbGVtZW50cy5wb2ludHMuaW52ZW50b3J5UmVtYWluaW5nLnRleHQoTWF0aC5tYXgoMCwgaW52ZW50b3J5TGVmdCkpO1xuICAgICAgICBVSUVsZW1lbnRzLnBvaW50cy5iYWdSZW1haW5pbmcudGV4dChNYXRoLm1heCgwLCBiYWdMZWZ0KSk7XG4gICAgICAgIFVJRWxlbWVudHMucG9pbnRzLmV4dHJhUmVtYWluaW5nLnRleHQoZmluYWxFeHRyYUxlZnQpO1xuXG4gICAgICAgIE9iamVjdC52YWx1ZXMoVUlFbGVtZW50cy5wb2ludHMpLmZvckVhY2goJGVsID0+ICRlbD8ucmVtb3ZlQ2xhc3MoJ3RleHQtcmVkLTUwMCcpKTtcbiAgICAgICAgaWYgKGZpbmFsRXh0cmFMZWZ0IDwgMCkge1xuICAgICAgICAgICAgVUlFbGVtZW50cy5jb25maXJtQnV0dG9uLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgICAgICAgICBVSUVsZW1lbnRzLnBvaW50cy5leHRyYVJlbWFpbmluZy5hZGRDbGFzcygndGV4dC1yZWQtNTAwJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBVSUVsZW1lbnRzLmNvbmZpcm1CdXR0b24ucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhbGVudExlZnQgPCAwKSBVSUVsZW1lbnRzLnBvaW50cy50YWxlbnRSZW1haW5pbmcuYWRkQ2xhc3MoJ3RleHQtcmVkLTUwMCcpO1xuICAgICAgICBpZiAoaW52ZW50b3J5TGVmdCA8IDApIFVJRWxlbWVudHMucG9pbnRzLmludmVudG9yeVJlbWFpbmluZy5hZGRDbGFzcygndGV4dC1yZWQtNTAwJyk7XG4gICAgICAgIGlmIChiYWdMZWZ0IDwgMCkgVUlFbGVtZW50cy5wb2ludHMuYmFnUmVtYWluaW5nLmFkZENsYXNzKCd0ZXh0LXJlZC01MDAnKTtcblxuICAgICAgICAvLyDkv53lrZjlvZPliY3pgInmi6nvvIzku6Xkvr/kuIvmrKHliqDovb1cbiAgICAgICAgdGhpcy5zYXZlQ3VycmVudFNlbGVjdGlvbigpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2VuZXJhdGVJbml0aWFsTWFya2V0UHJpY2UoKTogb2JqZWN0IHtcbiAgICAgICAgY29uc3QgYWxsVGFncyA9IFtcbiAgICAgICAgICAgIFwi5raI6ICX5ZOBXCIsIFwi6aOf54mpXCIsIFwi6I2v5ZOBXCIsIFwi5bu6562R5p2Q5paZXCIsIFwi54K85Zmo5p2Q5paZXCIsIFwi54K85Li55p2Q5paZXCIsXG4gICAgICAgICAgICBcIuS/rueCvOadkOaWmV/liJ3mnJ9cIiwgXCLkv67ngrzmnZDmlplf5Lit5pyfXCIsIFwi5Lu75Yqh54mp5ZOBXCIsIFwi5Ymn5oOF5YWz6ZSuXCIsXG4gICAgICAgICAgICBcIueogOaciVwiLCBcIuS8oOivtFwiLCBcIuWUr+S4gFwiLCBcIuW3peWFt1wiLCBcIuS5puexjVwiLCBcIuefpeivhlwiLCBcIuazleWZqFwiLCBcIuWlh+eJqVwiXG4gICAgICAgIF07XG4gICAgXG4gICAgICAgIGNvbnN0IGRlbWFuZFRhZ3M6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0gPSB7fTtcbiAgICAgICAgY29uc3QgbnVtVGFncyA9IF8ucmFuZG9tKDEsIDMpO1xuICAgIFxuICAgICAgICBjb25zdCBzZWxlY3RlZFRhZ3MgPSBfLnNhbXBsZVNpemUoYWxsVGFncywgbnVtVGFncyk7XG4gICAgXG4gICAgICAgIGZvciAoY29uc3QgdGFnIG9mIHNlbGVjdGVkVGFncykge1xuICAgICAgICAgICAgY29uc3QgbXVsdGlwbGllciA9IHBhcnNlRmxvYXQoXy5yYW5kb20oMC43LCAxLjUpLnRvRml4ZWQoMikpO1xuICAgICAgICAgICAgZGVtYW5kVGFnc1t0YWddID0gbXVsdGlwbGllcjtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAg6ZyA5rGC5pe655ub55qE5qCH562+OiBkZW1hbmRUYWdzLFxuICAgICAgICAgICAg6L+H5pyf5pe26Ze0OiBfLnJhbmRvbSgxMCwgMzApXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVDb25maXJtKCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuY29udGFpbmVyIHx8ICF0aGlzLm9uQ29tcGxldGUpIHJldHVybjtcblxuICAgICAgICB0aGlzLnVwZGF0ZVBvaW50cygpO1xuICAgICAgICBpZiAodGhpcy5jb250YWluZXIuZmluZCgnI2NvbmZpcm0tc3RhcnQtYnV0dG9uJykuaXMoJzpkaXNhYmxlZCcpKSB7XG4gICAgICAgICAgICBhbGVydCgn54K55pWw5YiG6YWN6LaF5Ye65LiK6ZmQ77yBJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBnZXRTZWxlY3Rpb25EYXRhID0gPFQgZXh0ZW5kcyB7IGlkOiBzdHJpbmcgfT4obmFtZTogc3RyaW5nLCBjb2xsZWN0aW9uOiBUW10pOiBUIHwgbnVsbCA9PiB7XG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWRJZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lcj8uZmluZChgaW5wdXRbbmFtZT1cIiR7bmFtZX1cIl1gKS5lYWNoKChfLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICgoZWwgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZElkID0gKGVsIGFzIEhUTUxJbnB1dEVsZW1lbnQpLmlkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFzZWxlY3RlZElkKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBjb2xsZWN0aW9uLmZpbmQoaXRlbSA9PiBpdGVtLmlkID09PSBzZWxlY3RlZElkKSB8fCBudWxsO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBnZXRTZWxlY3Rpb25zRGF0YSA9IDxUIGV4dGVuZHMgeyBpZDogc3RyaW5nIH0+KG5hbWU6IHN0cmluZywgY29sbGVjdGlvbjogVFtdKTogVFtdID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkSWRzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXI/LmZpbmQoYGlucHV0LiR7bmFtZX1gKS5lYWNoKChfLCBlbCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICgoZWwgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZElkcy5wdXNoKChlbCBhcyBIVE1MSW5wdXRFbGVtZW50KS5pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gY29sbGVjdGlvbi5maWx0ZXIoaXRlbSA9PiBzZWxlY3RlZElkcy5pbmNsdWRlcyhpdGVtLmlkKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgY2hhcmFjdGVyTmFtZSA9IHRoaXMuY29udGFpbmVyLmZpbmQoJyNjaGFyYWN0ZXItbmFtZS1kaXNwbGF5IGg0JykudGV4dCgpLnRyaW0oKSB8fCBcIuiQp+aglumbqlwiO1xuXG4gICAgICAgIC8vIOS7juaWsOeahOiHquWumuS5ieihqOWNleS4reiOt+WPluaVsOaNrlxuICAgICAgICBjb25zdCBjdXN0b21DaGFyYWN0ZXJEYXRhID0ge1xuICAgICAgICAgICAgZ2VuZGVyOiB0aGlzLmNvbnRhaW5lci5maW5kKCcjY2hhci1nZW5kZXInKS52YWwoKSBhcyBzdHJpbmcsXG4gICAgICAgICAgICBhZ2U6IHBhcnNlSW50KHRoaXMuY29udGFpbmVyLmZpbmQoJyNjaGFyLWFnZScpLnZhbCgpIGFzIHN0cmluZywgMTApLFxuICAgICAgICAgICAgYXBwZWFyYW5jZTogdGhpcy5jb250YWluZXIuZmluZCgnI2NoYXItYXBwZWFyYW5jZScpLnZhbCgpIGFzIHN0cmluZyxcbiAgICAgICAgICAgIGJhY2tncm91bmRFYXJ0aDogdGhpcy5jb250YWluZXIuZmluZCgnI2NoYXItYmFja2dyb3VuZC1lYXJ0aCcpLnZhbCgpIGFzIHN0cmluZyxcbiAgICAgICAgICAgIGJhY2tncm91bmRXb3JsZDogdGhpcy5jb250YWluZXIuZmluZCgnI2NoYXItYmFja2dyb3VuZC13b3JsZCcpLnZhbCgpIGFzIHN0cmluZyxcbiAgICAgICAgICAgIHBlcnNvbmFsaXR5OiB0aGlzLmNvbnRhaW5lci5maW5kKCcjY2hhci1wZXJzb25hbGl0eScpLnZhbCgpIGFzIHN0cmluZyxcbiAgICAgICAgICAgIGhhYml0czogdGhpcy5jb250YWluZXIuZmluZCgnI2NoYXItaGFiaXRzJykudmFsKCkgYXMgc3RyaW5nLFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkTWluZHNldCA9IGdldFNlbGVjdGlvbkRhdGEoJ21pbmRzZXQnLCBDLm1pbmRzZXRzKTtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRUcmFpdCA9IGdldFNlbGVjdGlvbkRhdGEoJ3RyYWl0JywgQy5vcHRpb25hbFRyYWl0cyk7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkSW52ZW50b3J5ID0gZ2V0U2VsZWN0aW9uc0RhdGEoJ2ludmVudG9yeS1pdGVtLWNoZWNrYm94JywgQy5pbnZlbnRvcnlJdGVtcyk7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkQmFnID0gZ2V0U2VsZWN0aW9uc0RhdGEoJ2JhZy1pdGVtLWNoZWNrYm94JywgQy5iYWdJdGVtcyk7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkU2Vhc29uID0gZ2V0U2VsZWN0aW9uRGF0YSgnc2Vhc29uJywgQy5zZWFzb25zKTtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRTeXN0ZW0gPSBnZXRTZWxlY3Rpb25EYXRhKCdzeXN0ZW0nLCBDLnN5c3RlbXMpO1xuICAgICAgICBjb25zdCBzZWxlY3RlZExvY2F0aW9uID0gZ2V0U2VsZWN0aW9uRGF0YSgnaW5pdGlhbExvY2F0aW9uJywgQy5pbml0aWFsTG9jYXRpb25zKTtcblxuICAgICAgICBjb25zdCBlbnZpcm9ubWVudElkcyA9IFtcbiAgICAgICAgICAgIGdldFNlbGVjdGlvbkRhdGEoJ2Zhcm1sYW5kJywgQy5mYXJtbGFuZHMpPy5pZCxcbiAgICAgICAgICAgIGdldFNlbGVjdGlvbkRhdGEoJ3dhdGVyJywgQy53YXRlclNvdXJjZXMpPy5pZCxcbiAgICAgICAgICAgIGdldFNlbGVjdGlvbkRhdGEoJ2NyZWF0dXJlJywgQy5jcmVhdHVyZXMpPy5pZCxcbiAgICAgICAgICAgIGdldFNlbGVjdGlvbkRhdGEoJ3NlYWJlZCcsIEMuc2VhYmVkcyk/LmlkLFxuICAgICAgICAgICAgZ2V0U2VsZWN0aW9uRGF0YSgnc3Rvcm0nLCBDLnN0b3Jtcyk/LmlkLFxuICAgICAgICAgICAgZ2V0U2VsZWN0aW9uRGF0YSgnaXNsYW5kcycsIEMuaXNsYW5kcyk/LmlkLFxuICAgICAgICBdLmZpbHRlcihCb29sZWFuKSBhcyBzdHJpbmdbXTtcblxuICAgICAgICBjb25zdCB0YWxlbnRzID0ge1xuICAgICAgICAgICAgJ+aguemqqCc6IHBhcnNlSW50KHRoaXMuY29udGFpbmVyLmZpbmQoJyN0YWxlbnQtZ2VuLWd1JykudmFsKCkgYXMgc3RyaW5nLCAxMCksXG4gICAgICAgICAgICAn5oKf5oCnJzogcGFyc2VJbnQodGhpcy5jb250YWluZXIuZmluZCgnI3RhbGVudC13dS14aW5nJykudmFsKCkgYXMgc3RyaW5nLCAxMCksXG4gICAgICAgICAgICAn5rCU6L+QJzogcGFyc2VJbnQodGhpcy5jb250YWluZXIuZmluZCgnI3RhbGVudC1xaS15dW4nKS52YWwoKSBhcyBzdHJpbmcsIDEwKSxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyDmoLnmja7lraPoioLnoa7lrprliJ3lp4vml6XmnJ9cbiAgICAgICAgbGV0IHN0YXJ0TW9udGggPSAxOyAvLyDpu5jorqTkuLrmmKXlraMgKDEtM+aciClcbiAgICAgICAgaWYgKHNlbGVjdGVkU2Vhc29uPy5pZCA9PT0gJ3NlYXNvbi1zdW1tZXInKSBzdGFydE1vbnRoID0gNDsgLy8g5aSP5a2jICg0LTbmnIgpXG4gICAgICAgIGlmIChzZWxlY3RlZFNlYXNvbj8uaWQgPT09ICdzZWFzb24tYXV0dW1uJykgc3RhcnRNb250aCA9IDc7IC8vIOeni+WtoyAoNy055pyIKVxuICAgICAgICBpZiAoc2VsZWN0ZWRTZWFzb24/LmlkID09PSAnc2Vhc29uLXdpbnRlcicpIHN0YXJ0TW9udGggPSAxMDsgLy8g5Yas5a2jICgxMC0xMuaciClcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHJhbmRvbU1vbnRoT2Zmc2V0ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMyk7IC8vIOWcqOWto+iKgueahOS4ieS4quaciOWGhemaj+acuumAieaLqVxuICAgICAgICBjb25zdCBzdGFydE1vbnRoRmluYWwgPSBzdGFydE1vbnRoICsgcmFuZG9tTW9udGhPZmZzZXQ7XG4gICAgICAgIGNvbnN0IHN0YXJ0RGF5ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMzApICsgMTsgLy8g5q+P5pyI5Zu65a6aMzDlpKlcbiAgICAgICAgY29uc3Qgc3RhcnREYXRlID0geyBcIuW5tFwiOiAxLCBcIuaciFwiOiBzdGFydE1vbnRoRmluYWwsIFwi5pelXCI6IHN0YXJ0RGF5IH07XG5cbiAgICAgICAgY29uc3Qgc2Vhc29uTmFtZSA9IHNlbGVjdGVkU2Vhc29uPy5uYW1lIHx8ICfmmKUnO1xuICAgICAgICBjb25zdCB0aW1lT2ZEYXkgPSAn5riF5pmoJztcblxuICAgICAgICBjb25zdCB3b3JsZFN0YXRlOiBhbnkgPSB7XG4gICAgICAgICAgICBcIuaXtumXtFwiOiBg5YidJHtzZWFzb25OYW1lfSDCtyAke3RpbWVPZkRheX1gLFxuICAgICAgICAgICAgXCLlvIDlsYDml6XmnJ9cIjogc3RhcnREYXRlLFxuICAgICAgICAgICAgXCLlvZPliY3ml6XmnJ9cIjogc3RhcnREYXRlLFxuICAgICAgICAgICAgXCLlnLDngrlcIjogYOa0hOa9ruWxvyDCtyAke3NlbGVjdGVkTG9jYXRpb24/Lm5hbWUgfHwgJ+a1t+a7qSd9YCxcbiAgICAgICAgICAgIFwi5bqH5oqk5omAXCI6IHtcbiAgICAgICAgICAgICAgICBcIuWQjeensFwiOiBcIuacquWRveWQjVwiLFxuICAgICAgICAgICAgICAgIFwi6KeE5qihXCI6IFwi5pegXCIsXG4gICAgICAgICAgICAgICAgXCLnirbmgIFcIjogXCLlsJrmnKrlu7rnq4tcIixcbiAgICAgICAgICAgICAgICBcIuiIkumAguW6plwiOiBcIuaXoFwiLFxuICAgICAgICAgICAgICAgIFwi6Ziy5b6h5YqbXCI6IFwi5pegXCIsXG4gICAgICAgICAgICAgICAgXCLlip/og71cIjogW10sXG4gICAgICAgICAgICAgICAgXCLnu4Tku7ZcIjoge1xuICAgICAgICAgICAgICAgICAgICBcIuWbtOWimVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcIuinhOaooVwiOiBcIuacquW4g+e9rlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCLmnZDmlplcIjogXCLml6BcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwi6ICQ5LmF5bqmXCI6IFwiMCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwi6Ziy5b6h5Yqg5oiQXCI6IFwi5pegXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIueKtuaAgVwiOiBcIuacquW7uumAoFwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwi5bGL6aG2XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwi6KeE5qihXCI6IFwi5pyq5biD572uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIuadkOaWmVwiOiBcIuaXoFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCLogJDkuYXluqZcIjogXCIwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCLpmLLpm6jliqDmiJBcIjogXCLml6BcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwi54q25oCBXCI6IFwi5pyq5bu66YCgXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCLlhpznlLBcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiBcImZhcm1fMDAxXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIuinhOaooVwiOiBcIuacquW8gOWeplwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCLnirbmgIFcIjogXCLmnKrlu7rpgKBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwi5L2c54mpXCI6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIuS6p+WHuuaViOeOh1wiOiBcIuaXoFwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwi6I2v5ZutXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaWRcIjogXCJoZXJiXzAwMVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCLop4TmqKFcIjogXCLmnKrlvIDlnqZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwi54q25oCBXCI6IFwi5pyq5bu66YCgXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIuiNr+adkFwiOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCLkuqflh7rmlYjnjodcIjogXCLml6BcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIumYsuW+oemYteazlVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcIuinhOaooVwiOiBcIuacquW4g+e9rlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCLnirbmgIFcIjogXCLmnKrmv4DmtLtcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwi54G15Yqb5raI6ICXXCI6IFwi5pegXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIumYsuW+oeWKoOaIkFwiOiBcIuaXoFwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwi5LqL5Lu25pel5b+XXCI6IFtdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCLlm77pibRcIjogeyBcIuWmluWFvVwiOiBbXSwgXCLmpI3nialcIjogW10sIFwi54mp5ZOBXCI6IFtdIH0sXG4gICAgICAgICAgICBcIuS6i+S7tuWIl+ihqFwiOiBbXSxcbiAgICAgICAgICAgIFwi5b2T5YmN5r+A5rS757O757ufXCI6IHsgXCLlkI3np7BcIjogc2VsZWN0ZWRTeXN0ZW0/Lm5hbWUgfHwgJ+aXoOezu+e7nycgfSxcbiAgICAgICAgICAgIFwi5Yid5aeL6K6+5a6aXCI6IHtcbiAgICAgICAgICAgICAgICBcIuWym+Wxv+eOr+Wig1wiOiBlbnZpcm9ubWVudElkcyxcbiAgICAgICAgICAgICAgICBcIuWHoeS6uueJuemVv1wiOiBzZWxlY3RlZFRyYWl0ID8gW3NlbGVjdGVkVHJhaXQuaWRdIDogW10sXG4gICAgICAgICAgICAgICAgXCLkv67ku5npgZfnialcIjogc2VsZWN0ZWRJbnZlbnRvcnkubWFwKGl0ZW0gPT4gaXRlbS5pZCksXG4gICAgICAgICAgICAgICAgXCLnjrDku6Pog4zljIVcIjogc2VsZWN0ZWRCYWcubWFwKGl0ZW0gPT4gaXRlbS5pZCksXG4gICAgICAgICAgICAgICAgXCLliJ3lp4vlraPoioJcIjogc2VsZWN0ZWRTZWFzb24/LmlkLFxuICAgICAgICAgICAgICAgIFwi5b+D5LmL5omA5ZCRXCI6IHNlbGVjdGVkTWluZHNldD8uaWQsXG4gICAgICAgICAgICAgICAgXCLns7vnu59cIjogc2VsZWN0ZWRTeXN0ZW0/LmlkLFxuICAgICAgICAgICAgICAgIFwi5Yid5aeL5Zyw54K5XCI6IHNlbGVjdGVkTG9jYXRpb24/LmlkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwi5aWH6YGHXCI6IHtcbiAgICAgICAgICAgICAgICBcIuWGt+WNtOiHs+WkqeaVsFwiOiAxNSwgLy8g5ri45oiP5byA5aeL5ZCOMTXlpKnlj6/op6blj5HnrKzkuIDmrKHlpYfpgYdcbiAgICAgICAgICAgICAgICBcIuS4iuasoeWlh+mBh+WkqeaVsFwiOiAwLFxuICAgICAgICAgICAgICAgIFwi5Y6G5Y+y5aWH6YGH6K6w5b2VXCI6IFtdXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8g5qC55o2u6YCJ5oup55qE57O757uf77yM5Yid5aeL5YyW5a+55bqU55qE54q25oCB5a+56LGhXG4gICAgICAgIHN3aXRjaCAoc2VsZWN0ZWRTeXN0ZW0/LmlkKSB7XG4gICAgICAgICAgICBjYXNlICdzeXN0ZW0tYWNoaWV2ZW1lbnQnOlxuICAgICAgICAgICAgICAgIHdvcmxkU3RhdGVbJ+aIkOWwsSddID0geyBcIuaIkOWwseeCueaVsFwiOiAwLCBcIuW3suWujOaIkFwiOiB7fSB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc3lzdGVtLXNraWxsLXBhbmVsJzpcbiAgICAgICAgICAgICAgICB3b3JsZFN0YXRlWyfmioDog70nXSA9IHsgXCLliJfooahcIjogW10gfTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3N5c3RlbS1zaWduLWluJzpcbiAgICAgICAgICAgICAgICB3b3JsZFN0YXRlWyfnrb7liLAnXSA9IHsgXCLnrb7liLDorrDlvZVcIjoge30sIFwi6L+e57ut562+5YiwXCI6IDAgfTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOS4uuWIneWni+S4lueVjOeKtuaAgea3u+WKoOaXtuS7t+S/oeaBr1xuICAgICAgICB3b3JsZFN0YXRlWyfml7bku7cnXSA9IHRoaXMuZ2VuZXJhdGVJbml0aWFsTWFya2V0UHJpY2UoKTtcblxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJTdGF0ZSA9IHtcbiAgICAgICAgICAgIFwi5Li75o6n6KeS6Imy5ZCNXCI6IGNoYXJhY3Rlck5hbWUsXG4gICAgICAgICAgICBbY2hhcmFjdGVyTmFtZV06IHtcbiAgICAgICAgICAgICAgICBcIuWnk+WQjVwiOiBjaGFyYWN0ZXJOYW1lLFxuICAgICAgICAgICAgICAgIFwi5oCn5YirXCI6IGN1c3RvbUNoYXJhY3RlckRhdGEuZ2VuZGVyLFxuICAgICAgICAgICAgICAgIFwi5bm06b6EXCI6IGN1c3RvbUNoYXJhY3RlckRhdGEuYWdlLFxuICAgICAgICAgICAgICAgIFwi56eN5pePXCI6IFwi5Lq65pePXCIsXG4gICAgICAgICAgICAgICAgXCLnsY3otK9cIjogXCLlnLDnkIPvvIjljY7lpI/vvIlcIixcbiAgICAgICAgICAgICAgICBcIuWkluiyjOeJueW+gVwiOiBjdXN0b21DaGFyYWN0ZXJEYXRhLmFwcGVhcmFuY2UsXG4gICAgICAgICAgICAgICAgXCLouqvku73og4zmma9cIjoge1xuICAgICAgICAgICAgICAgICAgICBcIuWJjeS4llwiOiBjdXN0b21DaGFyYWN0ZXJEYXRhLmJhY2tncm91bmRFYXJ0aCxcbiAgICAgICAgICAgICAgICAgICAgXCLnjrDkuJZcIjogY3VzdG9tQ2hhcmFjdGVyRGF0YS5iYWNrZ3JvdW5kV29ybGQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcIuaAp+agvOeJueeCuVwiOiB7XG4gICAgICAgICAgICAgICAgICAgIFwi5qC45b+DXCI6IGN1c3RvbUNoYXJhY3RlckRhdGEucGVyc29uYWxpdHksXG4gICAgICAgICAgICAgICAgICAgIFwi5Lmg5oOvXCI6IGN1c3RvbUNoYXJhY3RlckRhdGEuaGFiaXRzLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCLnibnotKhcIjogW1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZE1pbmRzZXQ/Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIEMuZGVmYXVsdFRyYWl0Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkVHJhaXQ/Lm5hbWUsXG4gICAgICAgICAgICAgICAgXS5maWx0ZXIoQm9vbGVhbiksXG4gICAgICAgICAgICAgICAgXCLnirbmgIFcIjoge1xuICAgICAgICAgICAgICAgICAgICBcIuWPo+a4tOW6plwiOiB7IFwidmFsdWVcIjogODAsIFwibWF4XCI6IDEwMCB9LFxuICAgICAgICAgICAgICAgICAgICBcIumlseiFueW6plwiOiB7IFwidmFsdWVcIjogOTAsIFwibWF4XCI6IDEwMCB9LFxuICAgICAgICAgICAgICAgICAgICBcIuS9k+WKm1wiOiB7IFwidmFsdWVcIjogMTAwLCBcIm1heFwiOiAxMDAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCLngbXliptcIjogeyBcInZhbHVlXCI6IDAsIFwibWF4XCI6IDAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCLlpKnotYtcIjogdGFsZW50cyxcbiAgICAgICAgICAgICAgICBcIueJqeWTgVwiOiBbXG4gICAgICAgICAgICAgICAgICAgIC4uLkMuZGVmYXVsdEJhZ0l0ZW1zLm1hcChpdGVtID0+ICh7ICflkI3np7AnOiBpdGVtLm5hbWUsICfmj4/ov7AnOiBpdGVtLmRlc2NyaXB0aW9uLCAn5Lu35YC8JzogaXRlbS7ku7flgLwgfSkpLFxuICAgICAgICAgICAgICAgICAgICAuLi5zZWxlY3RlZEludmVudG9yeS5tYXAoaXRlbSA9PiAoeyAn5ZCN56ewJzogaXRlbS5uYW1lLCAn5o+P6L+wJzogaXRlbS5kZXNjcmlwdGlvbiwgJ+S7t+WAvCc6IGl0ZW0u5Lu35YC8IH0pKSxcbiAgICAgICAgICAgICAgICAgICAgLi4uc2VsZWN0ZWRCYWcubWFwKGl0ZW0gPT4gKHsgJ+WQjeensCc6IGl0ZW0ubmFtZSwgJ+aPj+i/sCc6IGl0ZW0uZGVzY3JpcHRpb24sICfku7flgLwnOiBpdGVtLuS7t+WAvCB9KSksXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBcIuWFs+ezu1wiOiBbXVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIDEuIOe7hOijhemcgOimgeiiq+W/q+eFp+eahOaguOW/g+eKtuaAgVxuICAgICAgICBjb25zdCBjb3JlU3RhdGUgPSB7XG4gICAgICAgICAgICBcIuinkuiJslwiOiBjaGFyYWN0ZXJTdGF0ZSxcbiAgICAgICAgICAgIFwi5LiW55WMXCI6IHdvcmxkU3RhdGVcbiAgICAgICAgfTtcblxuICAgICAgICAvLyAyLiDliJvlu7rkuIDkuKrlubLlh4DnmoTlv6vnhaflia/mnKxcbiAgICAgICAgY29uc3Qgc25hcHNob3QgPSBfLmNsb25lRGVlcChjb3JlU3RhdGUpO1xuXG4gICAgICAgIC8vIDMuIOWwhuW/q+eFp+a3u+WKoOWIsOWunuaXtuS4lueVjOeKtuaAgeS4rVxuICAgICAgICB3b3JsZFN0YXRlWyfliJ3lp4vnirbmgIEnXSA9IHNuYXBzaG90O1xuXG4gICAgICAgIC8vIDQuIOaehOW7uuacgOe7iOeahOOAgeWMheWQq+aguOW/g+eKtuaAgeWSjOWkh+S7veWRveWQjeepuumXtOeahOWPmOmHj+WvueixoVxuICAgICAgICBjb25zdCBmaW5hbFN0YXRlID0ge1xuICAgICAgICAgICAgXCLop5LoibJcIjogY2hhcmFjdGVyU3RhdGUsXG4gICAgICAgICAgICBcIuS4lueVjFwiOiB3b3JsZFN0YXRlLCAvLyDmraTlr7nosaHnjrDlnKjljIXlkKvkuoYgJ+WIneWni+eKtuaAgScg5b+r54WnXG4gICAgICAgICAgICBcIuWkh+S7vVwiOiB7XG4gICAgICAgICAgICAgICAgXCLliJ3lp4vnirbmgIHlpIfku71cIjogc25hcHNob3QgLy8g5L2/55So5ZCM5LiA5Liq5bmy5YeA55qE5b+r54Wn5L2c5Li65aSH5Lu9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgbG9nZ2VyKCdpbmZvJywgJ1NldHVwTW9kdWxlJywgJ1NldHVwIGNvbmZpcm1lZC4gR2VuZXJhdGVkIGZpbmFsU3RhdGU6JywgZmluYWxTdGF0ZSk7XG4gICAgICAgIHRoaXMub25Db21wbGV0ZShmaW5hbFN0YXRlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlck9wdGlvbnMoY29udGFpbmVySWQ6IHN0cmluZywgb3B0aW9uczogKElQb2ludE9wdGlvbiB8IElDaG9pY2VPcHRpb24gfCBJU2Vhc29uIHwgSVRyYWl0IHwgSVN5c3RlbSlbXSwgdHlwZTogJ3JhZGlvJyB8ICdjaGVja2JveCcsIG5hbWU6IHN0cmluZywgaGlnaGxpZ2h0Q2xhc3M6IHN0cmluZyA9ICd0ZXh0LXllbGxvdy00MDAnLCBwb2ludFByZWZpeDogc3RyaW5nID0gJysnKSB7XG4gICAgICAgIGNvbnN0ICRjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcj8uZmluZChgIyR7Y29udGFpbmVySWR9YCk7XG4gICAgICAgIGlmICghJGNvbnRhaW5lciB8fCAkY29udGFpbmVyLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGh0bWwgPSBvcHRpb25zLm1hcCgob3B0aW9uLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaXNQb2ludE9wdGlvbiA9ICdleHRyYVBvaW50cycgaW4gb3B0aW9uO1xuICAgICAgICAgICAgY29uc3QgaXNJdGVtID0gJ3BvaW50cycgaW4gb3B0aW9uO1xuICAgICAgICAgICAgbGV0IHBvaW50VmFsdWUgPSAwO1xuICAgICAgICAgICAgaWYgKGlzUG9pbnRPcHRpb24pIHBvaW50VmFsdWUgPSAob3B0aW9uIGFzIElQb2ludE9wdGlvbikuZXh0cmFQb2ludHM7XG4gICAgICAgICAgICBpZiAoaXNJdGVtKSBwb2ludFZhbHVlID0gKG9wdGlvbiBhcyBJSXRlbSkucG9pbnRzO1xuXG4gICAgICAgICAgICBjb25zdCBwb2ludHNUZXh0ID0gcG9pbnRWYWx1ZSA+IDAgPyBgICg8c3BhbiBjbGFzcz1cIiR7aGlnaGxpZ2h0Q2xhc3N9XCI+JHtwb2ludFByZWZpeH0ke3BvaW50VmFsdWV9PC9zcGFuPilgIDogJyc7XG4gICAgICAgICAgICBjb25zdCBpc0NoZWNrZWQgPSBpbmRleCA9PT0gMCA/ICdjaGVja2VkJyA6ICcnO1xuICAgICAgICAgICAgbGV0IHBvaW50Q2xhc3MgPSBpc1BvaW50T3B0aW9uID8gJ3BvaW50LXByb3ZpZGVyJyA6ICcnO1xuICAgICAgICAgICAgaWYgKG5hbWUgPT09ICdzeXN0ZW0nKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRDbGFzcyArPSAnIHN5c3RlbS1vcHRpb24nO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYFxuICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCIke29wdGlvbi5pZH1cIiBjbGFzcz1cImNhcmQtcmFkaW8tbGFiZWxcIj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCIke3R5cGV9XCIgaWQ9XCIke29wdGlvbi5pZH1cIiBuYW1lPVwiJHtuYW1lfVwiIHZhbHVlPVwiJHtwb2ludFZhbHVlIHx8IDB9XCIgY2xhc3M9XCJzci1vbmx5ICR7cG9pbnRDbGFzcy50cmltKCl9XCIgJHtpc0NoZWNrZWR9PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1yYWRpby1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZvbnQtc2VtaWJvbGQgdGV4dC1wcmltYXJ5XCI+JHtvcHRpb24ubmFtZX0ke3BvaW50c1RleHR9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2Vjb25kYXJ5IG10LTFcIj4ke29wdGlvbi5kZXNjcmlwdGlvbn08L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICBgO1xuICAgICAgICB9KS5qb2luKCcnKTtcbiAgICAgICAgJGNvbnRhaW5lci5odG1sKGh0bWwpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVuZGVySXRlbXMoY29udGFpbmVySWQ6IHN0cmluZywgaXRlbXM6IElJdGVtW10sIG5hbWU6IHN0cmluZykge1xuICAgICAgICBjb25zdCAkY29udGFpbmVyID0gdGhpcy5jb250YWluZXI/LmZpbmQoYCMke2NvbnRhaW5lcklkfWApO1xuICAgICAgICBpZiAoISRjb250YWluZXIgfHwgJGNvbnRhaW5lci5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgICAgICBjb25zdCBodG1sID0gaXRlbXMubWFwKGl0ZW0gPT4gYFxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cIiR7aXRlbS5pZH1cIiBjbGFzcz1cImNhcmQtY2hlY2tib3gtbGFiZWxcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCIke2l0ZW0uaWR9XCIgbmFtZT1cIiR7bmFtZX1cIiBkYXRhLXBvaW50cz1cIiR7aXRlbS5wb2ludHN9XCIgY2xhc3M9XCJzci1vbmx5ICR7bmFtZX1cIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1jaGVja2JveC1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZm9udC1zZW1pYm9sZCB0ZXh0LXByaW1hcnlcIj4ke2l0ZW0ubmFtZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtc20gZm9udC1ib2xkIHRleHQtZ3JlZW4tNDAwXCI+JHtpdGVtLnBvaW50c33ngrk8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgdGV4dC1zZWNvbmRhcnkgbXQtMVwiPiR7aXRlbS5kZXNjcmlwdGlvbn08L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICBgKS5qb2luKCcnKTtcbiAgICAgICAgJGNvbnRhaW5lci5odG1sKGh0bWwpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/modules/setup/index.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/modules/smartContext/contextLinker.ts": 
  /*!**********************************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/modules/smartContext/contextLinker.ts ***!
  \**********************************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   processTurn: () => (/* binding */ processTurn)\n/* harmony export */ });\n/* harmony import */ var _core_logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/logger */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts\");\n/**\n * @file contextLinker.ts\n * @description 智能上下文系统的后台语义学习模块。\n * 负责异步分析玩家输入和图鉴条目，动态学习并扩展与玩家意图相关的关键词。\n */\n\n// #endregion\n/**\n * 智能筛选和优先级排序的核心逻辑\n * @param userInput 玩家的最新输入\n * @param currentTurn 当前的回合数\n * @returns 经过筛选和排序后的、最适合进行语义分析的图鑑条目列表\n */\nfunction selectCandidateEntries(userInput, currentTurn) {\n    const BUDGET_LIMIT = 5; // 每次最多分析5个条目\n    const COOLDOWN_TURNS = 20; // 20回合内分析过的条目降低优先级\n    const allVars = getVariables({ type: 'chat' });\n    const allPokedex = _.get(allVars, '世界.图鉴', {});\n    const linkerProfile = _.get(allVars, 'plugin_storage.context_linker_profile', {});\n    // const currentLocation = _.get(allVars, '世界.地点', ''); // 暂不使用地点\n    // 1. 展平图鑑，并融合linkerProfile中的数据\n    const flatPokedex = [];\n    for (const category in allPokedex) {\n        if (Array.isArray(allPokedex[category])) {\n            for (const item of allPokedex[category]) {\n                const itemId = `世界.图鉴.${category}.${item.名称}`;\n                const profile = linkerProfile[itemId] || {};\n                flatPokedex.push({\n                    id: itemId,\n                    name: item.名称,\n                    description: item.描述,\n                    tags: item.tags || [],\n                    dynamicKeywords: profile.dynamicKeywords || [],\n                    lastAnalyzedTurn: profile.lastAnalyzedTurn || 0,\n                    missCount: profile.missCount || 0,\n                });\n            }\n        }\n    }\n    // 2. 上下文粗筛 (Coarse Filtering)\n    const filteredEntries = flatPokedex.filter(entry => {\n        // 简单的关键词匹配：如果用户输入包含了条目名称，则直接入选\n        return userInput.includes(entry.name);\n        // 未来可以增加更复杂的匹配逻辑，例如匹配描述或标签\n    });\n    // 如果粗筛结果不为空，直接使用粗筛结果\n    const preSelectedEntries = filteredEntries.length > 0 ? filteredEntries : flatPokedex;\n    // 3. 动态优先级排序 (Dynamic Priority Sorting)\n    const sortedEntries = _.orderBy(preSelectedEntries, [\n        (entry) => {\n            let score = 0;\n            // a. 关键词数量越少，优先级越高\n            score += (10 - Math.min(entry.dynamicKeywords.length, 10)) * 10;\n            // b. 冷却时间：近期分析过的降分\n            const turnsSinceAnalyzed = currentTurn - entry.lastAnalyzedTurn;\n            if (turnsSinceAnalyzed < COOLDOWN_TURNS) {\n                score -= (COOLDOWN_TURNS - turnsSinceAnalyzed) * 5; // 越近扣分越多\n            }\n            // c. 负反馈：多次未命中（miss）的降分\n            score -= entry.missCount * 10;\n            return score;\n        }\n    ], ['desc']);\n    // 4. 预算限流 (Budget Limiting)\n    return sortedEntries.slice(0, BUDGET_LIMIT);\n}\n/**\n * 调用LLM进行语义分析并获取新的关键词\n * @param userInput 玩家的最新输入\n * @param entries 经过筛选的候选图鉴条目\n * @returns 一个包含新关键词的更新指令数组\n */\nasync function fetchNewKeywordsFromLLM(userInput, entries) {\n    if (entries.length === 0) {\n        return [];\n    }\n    // TODO: 实现调用次级LLM的逻辑\n    // 1. 读取 prompt.md 的内容\n    // 2. 构建符合 prompt.md 规范的输入JSON\n    // 3. 调用 generateWithSecondaryApi\n    // 4. 解析返回的JSON结果\n    // 5. 增加错误处理\n    // 临时返回空数组\n    return [];\n}\n/**\n * 将学习到的新关键词更新到聊天变量中\n * @param updates 从LLM返回的更新指令\n * @param analyzedEntries 被送到LLM进行分析的条目列表\n * @param currentTurn 当前的回合数\n */\nasync function saveNewKeywords(updates, analyzedEntries, currentTurn) {\n    if (analyzedEntries.length === 0) {\n        return;\n    }\n    await updateVariablesWith((vars) => {\n        const profile = _.get(vars, 'plugin_storage.context_linker_profile', {});\n        // 将 updates 转换为 map 以便快速查找\n        const updatesMap = new Map(updates.map(u => [u.id, u.newKeywords]));\n        for (const entry of analyzedEntries) {\n            const entryProfile = profile[entry.id] || { dynamicKeywords: [], missCount: 0 };\n            const newKeywords = updatesMap.get(entry.id);\n            // 更新分析回合数\n            entryProfile.lastAnalyzedTurn = currentTurn;\n            if (newKeywords && newKeywords.length > 0) {\n                // 成功找到新关键词\n                entryProfile.dynamicKeywords = _.uniq([...entryProfile.dynamicKeywords, ...newKeywords]);\n                entryProfile.missCount = 0; // 重置未命中计数\n                (0,_core_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'ContextLinker', `New keywords [${newKeywords.join(', ')}] added for \"${entry.name}\".`);\n            }\n            else {\n                // 未找到新关键词，增加未命中计数\n                entryProfile.missCount = (entryProfile.missCount || 0) + 1;\n            }\n            profile[entry.id] = entryProfile;\n        }\n        _.set(vars, 'plugin_storage.context_linker_profile', profile);\n        return vars;\n    }, { type: 'chat' });\n}\n/**\n * 每个回合的核心处理函数\n * 在 GENERATION_ENDED 事件后被调用\n */\nasync function processTurn() {\n    const allVars = getVariables({ type: 'chat' });\n    const history = _.get(allVars, 'plugin_storage.llm_history');\n    if (!history || !history.branches || !history.activeBranch) {\n        (0,_core_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('warn', 'ContextLinker', 'History not found or invalid, skipping processing.');\n        return;\n    }\n    const activeBranch = history.branches[history.activeBranch];\n    const turnIndices = Object.keys(activeBranch).map(Number).sort((a, b) => b - a);\n    let lastUserTurn = null;\n    for (const index of turnIndices) {\n        if (activeBranch[index].role === 'user') {\n            lastUserTurn = activeBranch[index];\n            break;\n        }\n    }\n    if (!lastUserTurn) {\n        (0,_core_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'ContextLinker', 'No user input found in recent history, skipping.');\n        return;\n    }\n    const userInput = lastUserTurn.pages[0].content;\n    const currentTurn = turnIndices.length;\n    (0,_core_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'ContextLinker', `Processing turn ${currentTurn} with user input: \"${userInput}\"`);\n    // 1. 智能筛选候选条目\n    const candidates = selectCandidateEntries(userInput, currentTurn);\n    if (candidates.length === 0) {\n        (0,_core_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'ContextLinker', 'No candidate entries selected for analysis.');\n        return;\n    }\n    (0,_core_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'ContextLinker', `Selected ${candidates.length} candidates for analysis:`, candidates.map(c => c.name));\n    // 2. 调用LLM进行分析\n    const updates = await fetchNewKeywordsFromLLM(userInput, candidates);\n    (0,_core_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'ContextLinker', `LLM analysis returned ${updates.length} updates.`);\n    // 3. 保存学习结果\n    await saveNewKeywords(updates, candidates, currentTurn);\n    (0,_core_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'ContextLinker', `Semantic analysis finished for turn ${currentTurn}.`);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvbW9kdWxlcy9zbWFydENvbnRleHQvY29udGV4dExpbmtlci50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7O0dBSUc7QUFTd0M7QUErQjNDLGFBQWE7QUFFYjs7Ozs7R0FLRztBQUNILFNBQVMsc0JBQXNCLENBQUMsU0FBaUIsRUFBRSxXQUFtQjtJQUNwRSxNQUFNLFlBQVksR0FBRyxDQUFDLENBQUMsQ0FBQyxhQUFhO0lBQ3JDLE1BQU0sY0FBYyxHQUFHLEVBQUUsQ0FBQyxDQUFDLG1CQUFtQjtJQUU5QyxNQUFNLE9BQU8sR0FBRyxZQUFZLENBQUMsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQztJQUMvQyxNQUFNLFVBQVUsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDL0MsTUFBTSxhQUFhLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsdUNBQXVDLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDbEYsaUVBQWlFO0lBRWpFLCtCQUErQjtJQUMvQixNQUFNLFdBQVcsR0FBcUIsRUFBRSxDQUFDO0lBQ3pDLEtBQUssTUFBTSxRQUFRLElBQUksVUFBVSxFQUFFLENBQUM7UUFDbEMsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDeEMsS0FBSyxNQUFNLElBQUksSUFBSSxVQUFVLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQztnQkFDeEMsTUFBTSxNQUFNLEdBQUcsU0FBUyxRQUFRLElBQUksSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDO2dCQUM5QyxNQUFNLE9BQU8sR0FBRyxhQUFhLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDO2dCQUM1QyxXQUFXLENBQUMsSUFBSSxDQUFDO29CQUNmLEVBQUUs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O1FBQ25GLE9BQU87SUFDVCxDQUFDO0lBRUQsTUFBTSxTQUFTLEdBQUcsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUM7SUFDaEQsTUFBTSxXQUFXLEdBQUcsV0FBVyxDQUFDLE1BQU0sQ0FBQztJQUN2QyxvREFBTSxDQUFDLEtBQUssRUFBRSxlQUFlLEVBQUUsbUJBQW1CLFdBQVcsc0JBQXNCLFNBQVMsR0FBRyxDQUFDLENBQUM7SUFFakcsY0FBYztJQUNkLE1BQU0sVUFBVSxHQUFHLHNCQUFzQixDQUFDLFNBQVMsRUFBRSxXQUFXLENBQUMsQ0FBQztJQUNsRSxJQUFJLFVBQVUsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFLENBQUM7UUFDNUIsb0RBQU0sQ0FBQyxLQUFLLEVBQUUsZUFBZSxFQUFFLDZDQUE2QyxDQUFDLENBQUM7UUFDOUUsT0FBTztJQUNULENBQUM7SUFDRCxvREFBTSxDQUFDLE1BQU0sRUFBRSxlQUFlLEVBQUUsWUFBWSxVQUFVLENBQUMsTUFBTSwyQkFBMkIsRUFBRSxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFFdkgsZUFBZTtJQUNmLE1BQU0sT0FBTyxHQUFHLE1BQU0sdUJBQXVCLENBQUMsU0FBUyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQ3JFLG9EQUFNLENBQUMsTUFBTSxFQUFFLGVBQWUsRUFBRSx5QkFBeUIsT0FBTyxDQUFDLE1BQU0sV0FBVyxDQUFDLENBQUM7SUFFcEYsWUFBWTtJQUNaLE1BQU0sZUFBZSxDQUFDLE9BQU8sRUFBRSxVQUFVLEVBQUUsV0FBVyxDQUFDLENBQUM7SUFFeEQsb0RBQU0sQ0FBQyxNQUFNLEVBQUUsZUFBZSxFQUFFLHVDQUF1QyxXQUFXLEdBQUcsQ0FBQyxDQUFDO0FBQ3pGLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlLy4vc3JjL+S7gOS5iOaIkeimgeWcqOeOhOW5u+S/ruS7meS4lueVjOenjeeUsC0w5qW854mI5pysL21vZHVsZXMvc21hcnRDb250ZXh0L2NvbnRleHRMaW5rZXIudHM/Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBAZmlsZSBjb250ZXh0TGlua2VyLnRzXHJcbiAqIEBkZXNjcmlwdGlvbiDmmbrog73kuIrkuIvmlofns7vnu5/nmoTlkI7lj7Dor63kuYnlrabkuaDmqKHlnZfjgIJcclxuICog6LSf6LSj5byC5q2l5YiG5p6Q546p5a626L6T5YWl5ZKM5Zu+6Ym05p2h55uu77yM5Yqo5oCB5a2m5Lmg5bm25omp5bGV5LiO546p5a625oSP5Zu+55u45YWz55qE5YWz6ZSu6K+N44CCXHJcbiAqL1xyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5kZWNsYXJlIGNvbnN0IGdldFZhcmlhYmxlczogKG9wdGlvbnM/OiBhbnkpID0+IGFueTtcclxuLy8gQHRzLWlnbm9yZVxyXG5kZWNsYXJlIGNvbnN0IHVwZGF0ZVZhcmlhYmxlc1dpdGg6ICh1cGRhdGVyOiAodmFyczogYW55KSA9PiBhbnksIG9wdGlvbnM6IGFueSkgPT4gUHJvbWlzZTx2b2lkPjtcclxuLy8gQHRzLWlnbm9yZVxyXG5kZWNsYXJlIGNvbnN0IF86IGFueTsgLy8gbG9kYXNoXHJcblxyXG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuLi8uLi9jb3JlL2xvZ2dlcic7XHJcbi8vIGltcG9ydCB7IGdlbmVyYXRlV2l0aFNlY29uZGFyeUFwaSB9IGZyb20gJy4uLy4uL2NvcmUvc2Vjb25kYXJ5TGxtQXBpJzsgLy8g6LCD55So5qyh57qnTExN5pe25L2/55SoXHJcblxyXG4vLyAjcmVnaW9uIOexu+Wei+WumuS5iVxyXG4vKipcclxuICog5YCZ6YCJ5Zu+6Ym05p2h55uu55qE5o6l5Y+j5a6a5LmJXHJcbiAqL1xyXG5pbnRlcmZhY2UgQ2FuZGlkYXRlRW50cnkge1xyXG4gIGlkOiBzdHJpbmc7ICAgICAgICAgIC8vIOWbvumJtOadoeebrueahOWujOaVtOWPmOmHj+i3r+W+hCwgZS5nLiwgXCLkuJbnlYwu5Zu+6Ym0LueJqeWTgS7mva7msZDmnKjoiq9cIlxyXG4gIG5hbWU6IHN0cmluZztcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gIHRhZ3M/OiBzdHJpbmdbXTsgICAgIC8vIOmihOWumuS5ieeahOagh+etvlxyXG4gIGR5bmFtaWNLZXl3b3Jkczogc3RyaW5nW107XHJcbiAgLy8g55So5LqO5o6S5bqP55qE5YWD5pWw5o2uXHJcbiAgbGFzdEFuYWx5emVkVHVybjogbnVtYmVyO1xyXG4gIG1pc3NDb3VudDogbnVtYmVyO1xyXG59XHJcblxyXG4vKipcclxuICog5LuOTExN6L+U5Zue55qE5pu05paw5oyH5LukXHJcbiAqL1xyXG5pbnRlcmZhY2UgS2V5d29yZFVwZGF0ZSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBuZXdLZXl3b3Jkczogc3RyaW5nW107XHJcbn1cclxuXHJcbi8vIOeugOWMlueahOWOhuWPsuiusOW9leexu+Wei++8jOeUqOS6juWcqOaooeWdl+WGhemDqOi/m+ihjOexu+Wei+ajgOafpVxyXG5pbnRlcmZhY2UgU2ltcGxlVHVybiB7XHJcbiAgcm9sZTogJ3VzZXInIHwgJ2Fzc2lzdGFudCc7XHJcbiAgcGFnZXM6IHsgW3BhZ2VJbmRleDogbnVtYmVyXTogeyBjb250ZW50OiBzdHJpbmcgfSB9O1xyXG59XHJcbi8vICNlbmRyZWdpb25cclxuXHJcbi8qKlxyXG4gKiDmmbrog73nrZvpgInlkozkvJjlhYjnuqfmjpLluo/nmoTmoLjlv4PpgLvovpFcclxuICogQHBhcmFtIHVzZXJJbnB1dCDnjqnlrrbnmoTmnIDmlrDovpPlhaVcclxuICogQHBhcmFtIGN1cnJlbnRUdXJuIOW9k+WJjeeahOWbnuWQiOaVsFxyXG4gKiBAcmV0dXJucyDnu4/ov4fnrZvpgInlkozmjpLluo/lkI7nmoTjgIHmnIDpgILlkIjov5vooYzor63kuYnliIbmnpDnmoTlm77pkZHmnaHnm67liJfooahcclxuICovXHJcbmZ1bmN0aW9uIHNlbGVjdENhbmRpZGF0ZUVudHJpZXModXNlcklucHV0OiBzdHJpbmcsIGN1cnJlbnRUdXJuOiBudW1iZXIpOiBDYW5kaWRhdGVFbnRyeVtdIHtcclxuICBjb25zdCBCVURHRVRfTElNSVQgPSA1OyAvLyDmr4/mrKHmnIDlpJrliIbmnpA15Liq5p2h55uuXHJcbiAgY29uc3QgQ09PTERPV05fVFVSTlMgPSAyMDsgLy8gMjDlm57lkIjlhoXliIbmnpDov4fnmoTmnaHnm67pmY3kvY7kvJjlhYjnuqdcclxuXHJcbiAgY29uc3QgYWxsVmFycyA9IGdldFZhcmlhYmxlcyh7IHR5cGU6ICdjaGF0JyB9KTtcclxuICBjb25zdCBhbGxQb2tlZGV4ID0gXy5nZXQoYWxsVmFycywgJ+S4lueVjC7lm77pibQnLCB7fSk7XHJcbiAgY29uc3QgbGlua2VyUHJvZmlsZSA9IF8uZ2V0KGFsbFZhcnMsICdwbHVnaW5fc3RvcmFnZS5jb250ZXh0X2xpbmtlcl9wcm9maWxlJywge30pO1xyXG4gIC8vIGNvbnN0IGN1cnJlbnRMb2NhdGlvbiA9IF8uZ2V0KGFsbFZhcnMsICfkuJbnlYwu5Zyw54K5JywgJycpOyAvLyDmmoLkuI3kvb/nlKjlnLDngrlcclxuXHJcbiAgLy8gMS4g5bGV5bmz5Zu+6ZGR77yM5bm26J6N5ZCIbGlua2VyUHJvZmlsZeS4reeahOaVsOaNrlxyXG4gIGNvbnN0IGZsYXRQb2tlZGV4OiBDYW5kaWRhdGVFbnRyeVtdID0gW107XHJcbiAgZm9yIChjb25zdCBjYXRlZ29yeSBpbiBhbGxQb2tlZGV4KSB7XHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhbGxQb2tlZGV4W2NhdGVnb3J5XSkpIHtcclxuICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGFsbFBva2VkZXhbY2F0ZWdvcnldKSB7XHJcbiAgICAgICAgY29uc3QgaXRlbUlkID0gYOS4lueVjC7lm77pibQuJHtjYXRlZ29yeX0uJHtpdGVtLuWQjeensH1gO1xyXG4gICAgICAgIGNvbnN0IHByb2ZpbGUgPSBsaW5rZXJQcm9maWxlW2l0ZW1JZF0gfHwge307XHJcbiAgICAgICAgZmxhdFBva2VkZXgucHVzaCh7XHJcbiAgICAgICAgICBpZDogaXRlbUlkLFxyXG4gICAgICAgICAgbmFtZTogaXRlbS7lkI3np7AsXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogaXRlbS7mj4/ov7AsXHJcbiAgICAgICAgICB0YWdzOiBpdGVtLnRhZ3MgfHwgW10sXHJcbiAgICAgICAgICBkeW5hbWljS2V5d29yZHM6IHByb2ZpbGUuZHluYW1pY0tleXdvcmRzIHx8IFtdLFxyXG4gICAgICAgICAgbGFzdEFuYWx5emVkVHVybjogcHJvZmlsZS5sYXN0QW5hbHl6ZWRUdXJuIHx8IDAsXHJcbiAgICAgICAgICBtaXNzQ291bnQ6IHByb2ZpbGUubWlzc0NvdW50IHx8IDAsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIDIuIOS4iuS4i+aWh+eyl+etmyAoQ29hcnNlIEZpbHRlcmluZylcclxuICBjb25zdCBmaWx0ZXJlZEVudHJpZXMgPSBmbGF0UG9rZWRleC5maWx0ZXIoZW50cnkgPT4ge1xyXG4gICAgLy8g566A5Y2V55qE5YWz6ZSu6K+N5Yy56YWN77ya5aaC5p6c55So5oi36L6T5YWl5YyF5ZCr5LqG5p2h55uu5ZCN56ew77yM5YiZ55u05o6l5YWl6YCJXHJcbiAgICByZXR1cm4gdXNlcklucHV0LmluY2x1ZGVzKGVudHJ5Lm5hbWUpO1xyXG4gICAgLy8g5pyq5p2l5Y+v5Lul5aKe5Yqg5pu05aSN5p2C55qE5Yy56YWN6YC76L6R77yM5L6L5aaC5Yy56YWN5o+P6L+w5oiW5qCH562+XHJcbiAgfSk7XHJcblxyXG4gIC8vIOWmguaenOeyl+etm+e7k+aenOS4jeS4uuepuu+8jOebtOaOpeS9v+eUqOeyl+etm+e7k+aenFxyXG4gIGNvbnN0IHByZVNlbGVjdGVkRW50cmllcyA9IGZpbHRlcmVkRW50cmllcy5sZW5ndGggPiAwID8gZmlsdGVyZWRFbnRyaWVzIDogZmxhdFBva2VkZXg7XHJcblxyXG4gIC8vIDMuIOWKqOaAgeS8mOWFiOe6p+aOkuW6jyAoRHluYW1pYyBQcmlvcml0eSBTb3J0aW5nKVxyXG4gIGNvbnN0IHNvcnRlZEVudHJpZXMgPSBfLm9yZGVyQnkocHJlU2VsZWN0ZWRFbnRyaWVzLCBbXHJcbiAgICAoZW50cnk6IENhbmRpZGF0ZUVudHJ5KSA9PiB7XHJcbiAgICAgIGxldCBzY29yZSA9IDA7XHJcbiAgICAgIC8vIGEuIOWFs+mUruivjeaVsOmHj+i2iuWwke+8jOS8mOWFiOe6p+i2iumrmFxyXG4gICAgICBzY29yZSArPSAoMTAgLSBNYXRoLm1pbihlbnRyeS5keW5hbWljS2V5d29yZHMubGVuZ3RoLCAxMCkpICogMTA7XHJcbiAgICAgIC8vIGIuIOWGt+WNtOaXtumXtO+8mui/keacn+WIhuaekOi/h+eahOmZjeWIhlxyXG4gICAgICBjb25zdCB0dXJuc1NpbmNlQW5hbHl6ZWQgPSBjdXJyZW50VHVybiAtIGVudHJ5Lmxhc3RBbmFseXplZFR1cm47XHJcbiAgICAgIGlmICh0dXJuc1NpbmNlQW5hbHl6ZWQgPCBDT09MRE9XTl9UVVJOUykge1xyXG4gICAgICAgIHNjb3JlIC09IChDT09MRE9XTl9UVVJOUyAtIHR1cm5zU2luY2VBbmFseXplZCkgKiA1OyAvLyDotorov5HmiaPliIbotorlpJpcclxuICAgICAgfVxyXG4gICAgICAvLyBjLiDotJ/lj43ppojvvJrlpJrmrKHmnKrlkb3kuK3vvIhtaXNz77yJ55qE6ZmN5YiGXHJcbiAgICAgIHNjb3JlIC09IGVudHJ5Lm1pc3NDb3VudCAqIDEwO1xyXG4gICAgICByZXR1cm4gc2NvcmU7XHJcbiAgICB9XHJcbiAgXSwgWydkZXNjJ10pO1xyXG5cclxuICAvLyA0LiDpooTnrpfpmZDmtYEgKEJ1ZGdldCBMaW1pdGluZylcclxuICByZXR1cm4gc29ydGVkRW50cmllcy5zbGljZSgwLCBCVURHRVRfTElNSVQpO1xyXG59XHJcblxyXG4vKipcclxuICog6LCD55SoTExN6L+b6KGM6K+t5LmJ5YiG5p6Q5bm26I635Y+W5paw55qE5YWz6ZSu6K+NXHJcbiAqIEBwYXJhbSB1c2VySW5wdXQg546p5a6255qE5pyA5paw6L6T5YWlXHJcbiAqIEBwYXJhbSBlbnRyaWVzIOe7j+i/h+etm+mAieeahOWAmemAieWbvumJtOadoeebrlxyXG4gKiBAcmV0dXJucyDkuIDkuKrljIXlkKvmlrDlhbPplK7or43nmoTmm7TmlrDmjIfku6TmlbDnu4RcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGZldGNoTmV3S2V5d29yZHNGcm9tTExNKHVzZXJJbnB1dDogc3RyaW5nLCBlbnRyaWVzOiBDYW5kaWRhdGVFbnRyeVtdKTogUHJvbWlzZTx7IGlkOiBzdHJpbmc7IG5ld0tleXdvcmRzOiBzdHJpbmdbXSB9W10+IHtcclxuICBpZiAoZW50cmllcy5sZW5ndGggPT09IDApIHtcclxuICAgIHJldHVybiBbXTtcclxuICB9XHJcbiAgLy8gVE9ETzog5a6e546w6LCD55So5qyh57qnTExN55qE6YC76L6RXHJcbiAgLy8gMS4g6K+75Y+WIHByb21wdC5tZCDnmoTlhoXlrrlcclxuICAvLyAyLiDmnoTlu7rnrKblkIggcHJvbXB0Lm1kIOinhOiMg+eahOi+k+WFpUpTT05cclxuICAvLyAzLiDosIPnlKggZ2VuZXJhdGVXaXRoU2Vjb25kYXJ5QXBpXHJcbiAgLy8gNC4g6Kej5p6Q6L+U5Zue55qESlNPTue7k+aenFxyXG4gIC8vIDUuIOWinuWKoOmUmeivr+WkhOeQhlxyXG5cclxuICAvLyDkuLTml7bov5Tlm57nqbrmlbDnu4RcclxuICByZXR1cm4gW107XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDlsIblrabkuaDliLDnmoTmlrDlhbPplK7or43mm7TmlrDliLDogYrlpKnlj5jph4/kuK1cclxuICogQHBhcmFtIHVwZGF0ZXMg5LuOTExN6L+U5Zue55qE5pu05paw5oyH5LukXHJcbiAqIEBwYXJhbSBhbmFseXplZEVudHJpZXMg6KKr6YCB5YiwTExN6L+b6KGM5YiG5p6Q55qE5p2h55uu5YiX6KGoXHJcbiAqIEBwYXJhbSBjdXJyZW50VHVybiDlvZPliY3nmoTlm57lkIjmlbBcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIHNhdmVOZXdLZXl3b3Jkcyh1cGRhdGVzOiBLZXl3b3JkVXBkYXRlW10sIGFuYWx5emVkRW50cmllczogQ2FuZGlkYXRlRW50cnlbXSwgY3VycmVudFR1cm46IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xyXG4gIGlmIChhbmFseXplZEVudHJpZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBhd2FpdCB1cGRhdGVWYXJpYWJsZXNXaXRoKCh2YXJzOiBhbnkpID0+IHtcclxuICAgIGNvbnN0IHByb2ZpbGUgPSBfLmdldCh2YXJzLCAncGx1Z2luX3N0b3JhZ2UuY29udGV4dF9saW5rZXJfcHJvZmlsZScsIHt9KTtcclxuXHJcbiAgICAvLyDlsIYgdXBkYXRlcyDovazmjaLkuLogbWFwIOS7peS+v+W/q+mAn+afpeaJvlxyXG4gICAgY29uc3QgdXBkYXRlc01hcCA9IG5ldyBNYXAodXBkYXRlcy5tYXAodSA9PiBbdS5pZCwgdS5uZXdLZXl3b3Jkc10pKTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGFuYWx5emVkRW50cmllcykge1xyXG4gICAgICBjb25zdCBlbnRyeVByb2ZpbGUgPSBwcm9maWxlW2VudHJ5LmlkXSB8fCB7IGR5bmFtaWNLZXl3b3JkczogW10sIG1pc3NDb3VudDogMCB9O1xyXG4gICAgICBjb25zdCBuZXdLZXl3b3JkcyA9IHVwZGF0ZXNNYXAuZ2V0KGVudHJ5LmlkKTtcclxuXHJcbiAgICAgIC8vIOabtOaWsOWIhuaekOWbnuWQiOaVsFxyXG4gICAgICBlbnRyeVByb2ZpbGUubGFzdEFuYWx5emVkVHVybiA9IGN1cnJlbnRUdXJuO1xyXG5cclxuICAgICAgaWYgKG5ld0tleXdvcmRzICYmIG5ld0tleXdvcmRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAvLyDmiJDlip/mib7liLDmlrDlhbPplK7or41cclxuICAgICAgICBlbnRyeVByb2ZpbGUuZHluYW1pY0tleXdvcmRzID0gXy51bmlxKFsuLi5lbnRyeVByb2ZpbGUuZHluYW1pY0tleXdvcmRzLCAuLi5uZXdLZXl3b3Jkc10pO1xyXG4gICAgICAgIGVudHJ5UHJvZmlsZS5taXNzQ291bnQgPSAwOyAvLyDph43nva7mnKrlkb3kuK3orqHmlbBcclxuICAgICAgICBsb2dnZXIoJ2xvZycsICdDb250ZXh0TGlua2VyJywgYE5ldyBrZXl3b3JkcyBbJHtuZXdLZXl3b3Jkcy5qb2luKCcsICcpfV0gYWRkZWQgZm9yIFwiJHtlbnRyeS5uYW1lfVwiLmApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIOacquaJvuWIsOaWsOWFs+mUruivje+8jOWinuWKoOacquWRveS4reiuoeaVsFxyXG4gICAgICAgIGVudHJ5UHJvZmlsZS5taXNzQ291bnQgPSAoZW50cnlQcm9maWxlLm1pc3NDb3VudCB8fCAwKSArIDE7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHByb2ZpbGVbZW50cnkuaWRdID0gZW50cnlQcm9maWxlO1xyXG4gICAgfVxyXG5cclxuICAgIF8uc2V0KHZhcnMsICdwbHVnaW5fc3RvcmFnZS5jb250ZXh0X2xpbmtlcl9wcm9maWxlJywgcHJvZmlsZSk7XHJcbiAgICByZXR1cm4gdmFycztcclxuICB9LCB7IHR5cGU6ICdjaGF0JyB9KTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDmr4/kuKrlm57lkIjnmoTmoLjlv4PlpITnkIblh73mlbBcclxuICog5ZyoIEdFTkVSQVRJT05fRU5ERUQg5LqL5Lu25ZCO6KKr6LCD55SoXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc1R1cm4oKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgY29uc3QgYWxsVmFycyA9IGdldFZhcmlhYmxlcyh7IHR5cGU6ICdjaGF0JyB9KTtcclxuICBjb25zdCBoaXN0b3J5ID0gXy5nZXQoYWxsVmFycywgJ3BsdWdpbl9zdG9yYWdlLmxsbV9oaXN0b3J5Jyk7XHJcblxyXG4gIGlmICghaGlzdG9yeSB8fCAhaGlzdG9yeS5icmFuY2hlcyB8fCAhaGlzdG9yeS5hY3RpdmVCcmFuY2gpIHtcclxuICAgIGxvZ2dlcignd2FybicsICdDb250ZXh0TGlua2VyJywgJ0hpc3Rvcnkgbm90IGZvdW5kIG9yIGludmFsaWQsIHNraXBwaW5nIHByb2Nlc3NpbmcuJyk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBjb25zdCBhY3RpdmVCcmFuY2ggPSBoaXN0b3J5LmJyYW5jaGVzW2hpc3RvcnkuYWN0aXZlQnJhbmNoXTtcclxuICBjb25zdCB0dXJuSW5kaWNlcyA9IE9iamVjdC5rZXlzKGFjdGl2ZUJyYW5jaCkubWFwKE51bWJlcikuc29ydCgoYSwgYikgPT4gYiAtIGEpO1xyXG5cclxuICBsZXQgbGFzdFVzZXJUdXJuOiBTaW1wbGVUdXJuIHwgbnVsbCA9IG51bGw7XHJcbiAgZm9yIChjb25zdCBpbmRleCBvZiB0dXJuSW5kaWNlcykge1xyXG4gICAgaWYgKGFjdGl2ZUJyYW5jaFtpbmRleF0ucm9sZSA9PT0gJ3VzZXInKSB7XHJcbiAgICAgIGxhc3RVc2VyVHVybiA9IGFjdGl2ZUJyYW5jaFtpbmRleF07XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaWYgKCFsYXN0VXNlclR1cm4pIHtcclxuICAgIGxvZ2dlcignbG9nJywgJ0NvbnRleHRMaW5rZXInLCAnTm8gdXNlciBpbnB1dCBmb3VuZCBpbiByZWNlbnQgaGlzdG9yeSwgc2tpcHBpbmcuJyk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBjb25zdCB1c2VySW5wdXQgPSBsYXN0VXNlclR1cm4ucGFnZXNbMF0uY29udGVudDtcclxuICBjb25zdCBjdXJyZW50VHVybiA9IHR1cm5JbmRpY2VzLmxlbmd0aDtcclxuICBsb2dnZXIoJ2xvZycsICdDb250ZXh0TGlua2VyJywgYFByb2Nlc3NpbmcgdHVybiAke2N1cnJlbnRUdXJufSB3aXRoIHVzZXIgaW5wdXQ6IFwiJHt1c2VySW5wdXR9XCJgKTtcclxuXHJcbiAgLy8gMS4g5pm66IO9562b6YCJ5YCZ6YCJ5p2h55uuXHJcbiAgY29uc3QgY2FuZGlkYXRlcyA9IHNlbGVjdENhbmRpZGF0ZUVudHJpZXModXNlcklucHV0LCBjdXJyZW50VHVybik7XHJcbiAgaWYgKGNhbmRpZGF0ZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICBsb2dnZXIoJ2xvZycsICdDb250ZXh0TGlua2VyJywgJ05vIGNhbmRpZGF0ZSBlbnRyaWVzIHNlbGVjdGVkIGZvciBhbmFseXNpcy4nKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcbiAgbG9nZ2VyKCdpbmZvJywgJ0NvbnRleHRMaW5rZXInLCBgU2VsZWN0ZWQgJHtjYW5kaWRhdGVzLmxlbmd0aH0gY2FuZGlkYXRlcyBmb3IgYW5hbHlzaXM6YCwgY2FuZGlkYXRlcy5tYXAoYyA9PiBjLm5hbWUpKTtcclxuXHJcbiAgLy8gMi4g6LCD55SoTExN6L+b6KGM5YiG5p6QXHJcbiAgY29uc3QgdXBkYXRlcyA9IGF3YWl0IGZldGNoTmV3S2V5d29yZHNGcm9tTExNKHVzZXJJbnB1dCwgY2FuZGlkYXRlcyk7XHJcbiAgbG9nZ2VyKCdpbmZvJywgJ0NvbnRleHRMaW5rZXInLCBgTExNIGFuYWx5c2lzIHJldHVybmVkICR7dXBkYXRlcy5sZW5ndGh9IHVwZGF0ZXMuYCk7XHJcblxyXG4gIC8vIDMuIOS/neWtmOWtpuS5oOe7k+aenFxyXG4gIGF3YWl0IHNhdmVOZXdLZXl3b3Jkcyh1cGRhdGVzLCBjYW5kaWRhdGVzLCBjdXJyZW50VHVybik7XHJcblxyXG4gIGxvZ2dlcignaW5mbycsICdDb250ZXh0TGlua2VyJywgYFNlbWFudGljIGFuYWx5c2lzIGZpbmlzaGVkIGZvciB0dXJuICR7Y3VycmVudFR1cm59LmApO1xyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/modules/smartContext/contextLinker.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/ui/eventHandlers.ts": 
  /*!****************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/ui/eventHandlers.ts ***!
  \****************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initEventHandlers: () => (/* binding */ initEventHandlers)\n/* harmony export */ });\n/* harmony import */ var _core_actions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/actions */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/actions.ts\");\n/* harmony import */ var _core_logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/logger */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts\");\n/* harmony import */ var _core_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/state */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/state.ts\");\n/* harmony import */ var _core_time__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/time */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/time.ts\");\n// ui/eventHandlers.ts\n\n\n\n\nasync function requestSystemRefresh(systemName, refreshDayPath, button, storyRenderer, historyManager, summarizer, promptManager, eventManager) {\n    const currentVars = getVariables({ type: 'chat' });\n    const lastRefreshDay = _.get(currentVars, refreshDayPath, 0);\n    const currentDay = _.get(currentVars, '世界.当前天数', 1);\n    if (currentDay <= lastRefreshDay) {\n        toastr.info('今日已刷新，请明日再来。');\n        return;\n    }\n    const originalContent = button.html();\n    button.prop('disabled', true).find('i').addClass('fa-spin');\n    const message = `[SYSTEM] 【${systemName}系统】：“让我看看……有什么新东西可以给你……”（玩家请求刷新${systemName}列表）`;\n    toastr.info(`正在请求刷新${systemName}...`);\n    try {\n        await (0,_core_actions__WEBPACK_IMPORTED_MODULE_0__.triggerAction)(message, -1, storyRenderer, historyManager, summarizer, promptManager, eventManager);\n        toastr.success(`刷新请求已发送！`);\n    }\n    catch (error) {\n        console.error(`刷新${systemName}失败:`, error);\n        toastr.error(\"请求失败，请查看控制台。\");\n    }\n    finally {\n        // The button state will be managed by the renderer. This is a fallback.\n        setTimeout(() => {\n            button.prop('disabled', false).html(originalContent);\n        }, 1000);\n    }\n}\nfunction initEventHandlers(storyRenderer, customActionModal, historyManager, summarizer, promptManager, eventManager) {\n    // --- Achievement System Handlers ---\n    $(document).on('click', '#refresh-rewards-btn', async (e) => {\n        requestSystemRefresh('成就奖励', '世界.成就.上次刷新天数', $(e.currentTarget), storyRenderer, historyManager, summarizer, promptManager, eventManager);\n    });\n    $(document).on('click', '.redeem-btn', async (e) => {\n        const button = $(e.currentTarget);\n        const rewardId = button.data('reward-id');\n        if (!rewardId)\n            return;\n        button.prop('disabled', true).html('<i class=\"fas fa-spinner fa-spin\"></i>');\n        const message = `[SYSTEM] 玩家请求兑换成就奖励，奖励ID为: ${rewardId}。请进行处理。`;\n        toastr.info(`正在请求兑换奖励...`);\n        try {\n            await (0,_core_actions__WEBPACK_IMPORTED_MODULE_0__.triggerAction)(message, -1, storyRenderer, historyManager, summarizer, promptManager, eventManager);\n            toastr.success(`兑换请求已发送！`);\n        }\n        catch (error) {\n            console.error(\"兑换奖励失败:\", error);\n            toastr.error(\"请求失败，请查看控制台。\");\n            button.prop('disabled', false).text('兑换');\n        }\n    });\n    $(document).on('click', '#sign-in-btn', async (e) => {\n        const target = $(e.currentTarget);\n        const currentVars = getVariables({ type: 'chat' });\n        const gameTimeString = _.get(currentVars, '世界.时间');\n        const gameDate = gameTimeString ? (0,_core_time__WEBPACK_IMPORTED_MODULE_3__.parseGameDate)(gameTimeString) : null;\n        if (gameDate) {\n            const { year, month, day: todayInGame } = gameDate;\n            const systemData = _.get(currentVars, '世界.签到', {});\n            const recordKey = `第${year}年-第${month}月`;\n            const signInRecords = systemData['签到记录'] || {};\n            const signedInDays = signInRecords[recordKey] || [];\n            if (signedInDays.includes(todayInGame)) {\n                toastr.info('今日已签到。');\n                target.prop('disabled', true);\n                return;\n            }\n        }\n        target.prop('disabled', true);\n        const floor_id = (0,_core_state__WEBPACK_IMPORTED_MODULE_2__.getFloorId)();\n        const variables = getVariables({ type: 'message', message_id: floor_id });\n        const systemData = _.get(variables, '世界.签到', {});\n        const consecutiveDays = systemData['连续签到'] || 0;\n        const monthlyCard = systemData['月卡'] || '未激活';\n        let signInMessage = `[SYSTEM] 玩家要进行每日签到。`;\n        if (monthlyCard !== '未激活') {\n            signInMessage += `\\n当前月卡状态: ${monthlyCard}。`;\n        }\n        signInMessage += `\\n当前已连续签到: ${consecutiveDays}天。`;\n        try {\n            await (0,_core_actions__WEBPACK_IMPORTED_MODULE_0__.triggerAction)(signInMessage, -1, storyRenderer, historyManager, summarizer, promptManager, eventManager);\n            toastr.success(`签到请求已发送！`);\n        }\n        catch (error) {\n            console.error(\"签到失败:\", error);\n            toastr.error(\"签到失败，请查看控制台。\");\n            target.prop('disabled', false);\n        }\n    });\n    $(document).on('click', '#activate-monthly-card-btn', async (e) => {\n        const target = $(e.currentTarget);\n        target.prop('disabled', true).text('询问中...');\n        const message = `[SYSTEM] 玩家想要激活签到系统的月卡，请告知激活条件和效果。`;\n        toastr.info(`正在询问激活条件...`);\n        try {\n            await (0,_core_actions__WEBPACK_IMPORTED_MODULE_0__.triggerAction)(message, -1, storyRenderer, historyManager, summarizer, promptManager, eventManager);\n            toastr.success(`请求已发送！`);\n        }\n        catch (error) {\n            console.error(\"激活月卡失败:\", error);\n            toastr.error(\"请求失败，请查看控制台。\");\n            target.prop('disabled', false).text('激活');\n        }\n    });\n    $('#options-list').on('click', async (e) => {\n        const targetLi = $(e.target).closest('li');\n        if (!targetLi.length)\n            return;\n        const optionsList = $('#options-list');\n        if (optionsList.hasClass('disabled')) {\n            toastr.info('正在等待回应，请稍后...');\n            return;\n        }\n        const actionType = targetLi.data('actionType');\n        if (actionType === 'custom') {\n            customActionModal.showModal(targetLi);\n        }\n        else {\n            const optionText = targetLi.data('optionText');\n            const optionIndex = parseInt(targetLi.data('optionIndex'), 10);\n            if (optionText && !isNaN(optionIndex)) {\n                // Just disable the list to prevent further clicks.\n                // The loading spinner in the main story content area (handled by sendGenerationRequest)\n                // is sufficient user feedback.\n                optionsList.addClass('disabled');\n                await (0,_core_actions__WEBPACK_IMPORTED_MODULE_0__.triggerAction)(optionText, optionIndex, storyRenderer, historyManager, summarizer, promptManager, eventManager);\n                // The list will be re-enabled and re-rendered by the StoryRenderer\n                // once the new data arrives via the AI event listeners.\n                // For safety, we can remove the disabled class here, as the AI generating state\n                // will prevent clicks anyway.\n                optionsList.removeClass('disabled');\n            }\n        }\n    });\n    // --- Barter System Handlers ---\n    // Function to update the barter transaction details UI\n    function updateBarterTransaction() {\n        const container = $('#barter-system-container');\n        if (!container.length)\n            return;\n        const myItemCheckboxes = container.find('.barter-my-item-checkbox');\n        const availableItemCheckboxes = container.find('.barter-available-item-checkbox');\n        const offerValueEl = $('#barter-offer-value');\n        const requestValueEl = $('#barter-request-value');\n        const executeBtn = $('#execute-barter-btn');\n        const statusTextEl = $('#barter-status-text');\n        let offerValue = 0;\n        myItemCheckboxes.each(function () {\n            const cb = $(this);\n            if (cb.is(':checked')) {\n                offerValue += parseInt(cb.data('value')) * parseInt(cb.data('quantity'));\n            }\n        });\n        let requestValue = 0;\n        availableItemCheckboxes.each(function () {\n            const cb = $(this);\n            if (cb.is(':checked')) {\n                requestValue += parseInt(cb.data('value'));\n            }\n        });\n        offerValueEl.html(`${offerValue} <i class=\"fas fa-coins text-xs\"></i>`);\n        requestValueEl.html(`${requestValue} <i class=\"fas fa-coins text-xs\"></i>`);\n        if (requestValue === 0) {\n            executeBtn.prop('disabled', true);\n            statusTextEl.text('请选择你想要换取的物品。');\n        }\n        else if (offerValue >= requestValue) {\n            executeBtn.prop('disabled', false);\n            statusTextEl.text('价值充足，可以交易。');\n        }\n        else {\n            executeBtn.prop('disabled', true);\n            statusTextEl.text(`价值不足，还需 ${requestValue - offerValue} 点价值。`);\n        }\n    }\n    // Attach event listeners for barter system\n    $(document).on('change', '.barter-my-item-checkbox, .barter-available-item-checkbox', updateBarterTransaction);\n    $(document).on('click', '#execute-barter-btn', async (e) => {\n        const target = $(e.currentTarget);\n        target.prop('disabled', true);\n        const originalText = target.html();\n        target.html('<i class=\"fas fa-spinner fa-spin\"></i> 处理中...');\n        const mySelectedItems = $('.barter-my-item-checkbox:checked').map(function () {\n            return `${$(this).data('name')} x${$(this).data('quantity')}`;\n        }).get();\n        const availableSelectedItems = $('.barter-available-item-checkbox:checked').map(function () {\n            return $(this).data('name');\n        }).get();\n        if (availableSelectedItems.length === 0) {\n            toastr.warning('请至少选择一件你想要换取的物品。');\n            target.prop('disabled', false).html(originalText);\n            return;\n        }\n        const offerText = mySelectedItems.length > 0 ? mySelectedItems.join('、') : '空手';\n        const requestText = availableSelectedItems.join('、');\n        const message = `[SYSTEM] 玩家请求交易，意图用【${offerText}】换取【${requestText}】。请根据双方物品价值进行判断和回应。`;\n        toastr.info(`正在发起交易请求...`);\n        try {\n            await (0,_core_actions__WEBPACK_IMPORTED_MODULE_0__.triggerAction)(message, -1, storyRenderer, historyManager, summarizer, promptManager, eventManager);\n            toastr.success(`交易请求已发送！`);\n        }\n        catch (error) {\n            console.error(\"交易失败:\", error);\n            toastr.error(\"交易失败，请查看控制台。\");\n            target.prop('disabled', false).html(originalText);\n        }\n    });\n    $(document).on('click', '#refresh-barter-btn', async (e) => {\n        requestSystemRefresh('以物换物', '世界.以物换物.上次刷新天数', $(e.currentTarget), storyRenderer, historyManager, summarizer, promptManager, eventManager);\n    });\n    // --- Swipe Button Event Handlers ---\n    // We are using a more direct and forceful way to bind these events\n    // to override any potential default handlers from Tavern/SillyTavern.\n    const prevSwipeBtn = $('#prev-swipe-btn');\n    const nextSwipeBtn = $('#next-swipe-btn');\n    // Unbind any existing click handlers to prevent conflicts.\n    prevSwipeBtn.off('click');\n    nextSwipeBtn.off('click');\n    prevSwipeBtn.on('click', () => {\n        if ((0,_core_state__WEBPACK_IMPORTED_MODULE_2__.getIsAiGenerating)())\n            return;\n        const currentSwipeIndex = (0,_core_state__WEBPACK_IMPORTED_MODULE_2__.getCurrentSwipeIndex)();\n        (0,_core_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('info', 'EventHandlers', `[SWIPE_DEBUG] Previous swipe button clicked. Current index: ${currentSwipeIndex}`);\n        if (currentSwipeIndex > 0) {\n            const history = historyManager.getRawHistory();\n            const activeBranch = history.branches[history.activeBranch];\n            const lastTurnIndex = Object.keys(activeBranch).length - 1;\n            const newPageIndex = currentSwipeIndex - 1;\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('log', 'EventHandlers', `[SWIPE_DEBUG] Calling historyManager.setActivePage(${lastTurnIndex}, ${newPageIndex})`);\n            historyManager.setActivePage(lastTurnIndex, newPageIndex);\n        }\n        else {\n            toastr.info('已经是第一条回应了。');\n        }\n    });\n    nextSwipeBtn.on('click', () => {\n        if ((0,_core_state__WEBPACK_IMPORTED_MODULE_2__.getIsAiGenerating)())\n            return;\n        const currentSwipeIndex = (0,_core_state__WEBPACK_IMPORTED_MODULE_2__.getCurrentSwipeIndex)();\n        const currentTurnSwipes = (0,_core_state__WEBPACK_IMPORTED_MODULE_2__.getCurrentTurnSwipes)();\n        (0,_core_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('info', 'EventHandlers', `[SWIPE_DEBUG] Next swipe button clicked. Current index: ${currentSwipeIndex}, Total swipes: ${currentTurnSwipes.length}`);\n        if (currentSwipeIndex < currentTurnSwipes.length - 1) {\n            const history = historyManager.getRawHistory();\n            const activeBranch = history.branches[history.activeBranch];\n            const lastTurnIndex = Object.keys(activeBranch).length - 1;\n            const newPageIndex = currentSwipeIndex + 1;\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('log', 'EventHandlers', `[SWIPE_DEBUG] Calling historyManager.setActivePage(${lastTurnIndex}, ${newPageIndex})`);\n            historyManager.setActivePage(lastTurnIndex, newPageIndex);\n        }\n        else {\n            (0,_core_actions__WEBPACK_IMPORTED_MODULE_0__.generateAnotherSwipe)(storyRenderer, historyManager, promptManager, eventManager);\n        }\n    });\n    // Story editing controls\n    $(document).on('click', '#edit-story-btn', () => {\n        const saveButton = $('#save-story-btn');\n        const isEditing = !saveButton.hasClass('invisible');\n        // Toggle edit mode\n        if (isEditing) {\n            // If already editing, cancel it\n            storyRenderer.toggleEditMode(false);\n            $('#save-story-btn, #cancel-edit-btn').addClass('invisible');\n        }\n        else {\n            // If not editing, start editing\n            storyRenderer.toggleEditMode(true);\n            $('#save-story-btn, #cancel-edit-btn').removeClass('invisible');\n        }\n    });\n    $(document).on('click', '#cancel-edit-btn', () => {\n        // 不保存并退出编辑模式\n        storyRenderer.toggleEditMode(false);\n        // 隐藏保存/取消按钮\n        $('#save-story-btn, #cancel-edit-btn').addClass('invisible');\n    });\n    $(document).on('click', '#save-story-btn', async () => {\n        const storyContent = $('#story-content');\n        const textarea = storyContent.find('#story-edit-textarea');\n        if (!textarea.length)\n            return;\n        const newStoryMarkdown = textarea.val();\n        const messages = historyManager.getMessagesForPrompt();\n        const lastAssistantMessage = _.findLast(messages, (m) => m.role === 'assistant');\n        if (!lastAssistantMessage) {\n            toastr.error('无法找到要更新的消息。');\n            return;\n        }\n        const originalContent = lastAssistantMessage.content;\n        const statusBarMatch = originalContent.match(/<statusbar>[\\s\\S]*?<\\/statusbar>/i);\n        const statusBar = statusBarMatch ? statusBarMatch[0] : '';\n        const newFullContent = `${newStoryMarkdown}\\n${statusBar}`;\n        try {\n            // With the new history system, editing the story content updates the specific,\n            // active message page. This is a much cleaner operation.\n            await historyManager.updateMessagePageContent(lastAssistantMessage.id, newFullContent);\n            // 使用新内容退出编辑模式并重新渲染\n            storyRenderer.toggleEditMode(false, newStoryMarkdown);\n            // 隐藏保存/取消按钮\n            $('#save-story-btn, #cancel-edit-btn').addClass('invisible');\n            toastr.success('情节已成功保存！');\n        }\n        catch (error) {\n            console.error('保存情节失败:', error);\n            toastr.error('保存失败，请查看控制台。');\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvdWkvZXZlbnRIYW5kbGVycy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLHNCQUFzQjtBQUVnRDtBQUc5QjtBQUdrRTtBQUU3RDtBQVM3QyxLQUFLLFVBQVUsb0JBQW9CLENBQUMsVUFBa0IsRUFBRSxjQUFzQixFQUFFLE1BQTJCLEVBQUUsYUFBNEIsRUFBRSxjQUFrQyxFQUFFLFVBQXNCLEVBQUUsYUFBNEIsRUFBRSxZQUEwQjtJQUM3UCxNQUFNLFdBQVcsR0FBRyxZQUFZLENBQUMsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQztJQUNuRCxNQUFNLGNBQWMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxjQUFjLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDN0QsTUFBTSxVQUFVLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUUsU0FBUyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBRXBELElBQUksVUFBVSxJQUFJLGNBQWMsRUFBRSxDQUFDO1FBQ2pDLE1BQU0sQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDNUIsT0FBTztJQUNULENBQUM7SUFFRCxNQUFNLGVBQWUsR0FBRyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDdEMsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUU1RCxNQUFNLE9BQU8sR0FBRyxhQUFhLFVBQVUsa0NBQWtDLFVBQVUsS0FBSyxDQUFDO0lBQ3pGLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxVQUFVLEtBQUssQ0FBQyxDQUFDO0lBQ3RDLElBQUksQ0FBQztRQUNILE1BQU0sNERBQWEsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLEVBQUUsYUFBYSxF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dEQsWUFBWTtZQUNaLENBQUMsQ0FBQyxtQ0FBbUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUM3RCxNQUFNLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQzdCLENBQUM7UUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1lBQ2YsT0FBTyxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDaEMsTUFBTSxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUMvQixDQUFDO0lBQ0gsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS8uL3NyYy/ku4DkuYjmiJHopoHlnKjnjoTlubvkv67ku5nkuJbnlYznp43nlLAtMOalvOeJiOacrC91aS9ldmVudEhhbmRsZXJzLnRzPyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyB1aS9ldmVudEhhbmRsZXJzLnRzXG5cbmltcG9ydCB7IGdlbmVyYXRlQW5vdGhlclN3aXBlLCB0cmlnZ2VyQWN0aW9uIH0gZnJvbSAnLi4vY29yZS9hY3Rpb25zJztcbmltcG9ydCB7IENoYXRIaXN0b3J5TWFuYWdlciB9IGZyb20gJy4uL2NvcmUvaGlzdG9yeSc7XG5pbXBvcnQgeyBFdmVudE1hbmFnZXIgfSBmcm9tICcuLi9jb3JlL2V2ZW50TWFuYWdlcic7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuLi9jb3JlL2xvZ2dlcic7XG5pbXBvcnQgeyBQcm9tcHRNYW5hZ2VyIH0gZnJvbSAnLi4vY29yZS9wcm9tcHRNYW5hZ2VyJztcbmltcG9ydCB7IFN0b3J5UmVuZGVyZXIgfSBmcm9tICcuLi9jb3JlL3JlbmRlcmVyJztcbmltcG9ydCB7IGdldEN1cnJlbnRTd2lwZUluZGV4LCBnZXRDdXJyZW50VHVyblN3aXBlcywgZ2V0Rmxvb3JJZCwgZ2V0SXNBaUdlbmVyYXRpbmcgfSBmcm9tICcuLi9jb3JlL3N0YXRlJztcbmltcG9ydCB7IFN1bW1hcml6ZXIgfSBmcm9tICcuLi9jb3JlL3N1bW1hcml6ZXInO1xuaW1wb3J0IHsgcGFyc2VHYW1lRGF0ZSB9IGZyb20gJy4uL2NvcmUvdGltZSc7XG5cbmRlY2xhcmUgY29uc3QgJDogYW55O1xuZGVjbGFyZSBjb25zdCB0b2FzdHI6IGFueTtcbmRlY2xhcmUgY29uc3QgXzogYW55O1xuZGVjbGFyZSBjb25zdCBnZXRWYXJpYWJsZXM6IChvcHRpb25zOiBhbnkpID0+IGFueTtcbmRlY2xhcmUgY29uc3QgZ2V0V29ybGRib29rOiAobmFtZTogc3RyaW5nKSA9PiBQcm9taXNlPGFueVtdPjtcbmRlY2xhcmUgY29uc3QgZ2VuZXJhdGU6IChvcHRpb25zOiBhbnkpID0+IFByb21pc2U8dm9pZD47XG5cbmFzeW5jIGZ1bmN0aW9uIHJlcXVlc3RTeXN0ZW1SZWZyZXNoKHN5c3RlbU5hbWU6IHN0cmluZywgcmVmcmVzaERheVBhdGg6IHN0cmluZywgYnV0dG9uOiBKUXVlcnk8SFRNTEVsZW1lbnQ+LCBzdG9yeVJlbmRlcmVyOiBTdG9yeVJlbmRlcmVyLCBoaXN0b3J5TWFuYWdlcjogQ2hhdEhpc3RvcnlNYW5hZ2VyLCBzdW1tYXJpemVyOiBTdW1tYXJpemVyLCBwcm9tcHRNYW5hZ2VyOiBQcm9tcHRNYW5hZ2VyLCBldmVudE1hbmFnZXI6IEV2ZW50TWFuYWdlcikge1xuICBjb25zdCBjdXJyZW50VmFycyA9IGdldFZhcmlhYmxlcyh7IHR5cGU6ICdjaGF0JyB9KTtcbiAgY29uc3QgbGFzdFJlZnJlc2hEYXkgPSBfLmdldChjdXJyZW50VmFycywgcmVmcmVzaERheVBhdGgsIDApO1xuICBjb25zdCBjdXJyZW50RGF5ID0gXy5nZXQoY3VycmVudFZhcnMsICfkuJbnlYwu5b2T5YmN5aSp5pWwJywgMSk7XG5cbiAgaWYgKGN1cnJlbnREYXkgPD0gbGFzdFJlZnJlc2hEYXkpIHtcbiAgICB0b2FzdHIuaW5mbygn5LuK5pel5bey5Yi35paw77yM6K+35piO5pel5YaN5p2l44CCJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3Qgb3JpZ2luYWxDb250ZW50ID0gYnV0dG9uLmh0bWwoKTtcbiAgYnV0dG9uLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSkuZmluZCgnaScpLmFkZENsYXNzKCdmYS1zcGluJyk7XG4gIFxuICBjb25zdCBtZXNzYWdlID0gYFtTWVNURU1dIOOAkCR7c3lzdGVtTmFtZX3ns7vnu5/jgJHvvJrigJzorqnmiJHnnIvnnIvigKbigKbmnInku4DkuYjmlrDkuJzopb/lj6/ku6Xnu5nkvaDigKbigKbigJ3vvIjnjqnlrrbor7fmsYLliLfmlrAke3N5c3RlbU5hbWV95YiX6KGo77yJYDtcbiAgdG9hc3RyLmluZm8oYOato+WcqOivt+axguWIt+aWsCR7c3lzdGVtTmFtZX0uLi5gKTtcbiAgdHJ5IHtcbiAgICBhd2FpdCB0cmlnZ2VyQWN0aW9uKG1lc3NhZ2UsIC0xLCBzdG9yeVJlbmRlcmVyLCBoaXN0b3J5TWFuYWdlciwgc3VtbWFyaXplciwgcHJvbXB0TWFuYWdlciwgZXZlbnRNYW5hZ2VyKTtcbiAgICB0b2FzdHIuc3VjY2Vzcyhg5Yi35paw6K+35rGC5bey5Y+R6YCB77yBYCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihg5Yi35pawJHtzeXN0ZW1OYW1lfeWksei0pTpgLCBlcnJvcik7XG4gICAgdG9hc3RyLmVycm9yKFwi6K+35rGC5aSx6LSl77yM6K+35p+l55yL5o6n5Yi25Y+w44CCXCIpO1xuICB9IGZpbmFsbHkge1xuICAgIC8vIFRoZSBidXR0b24gc3RhdGUgd2lsbCBiZSBtYW5hZ2VkIGJ5IHRoZSByZW5kZXJlci4gVGhpcyBpcyBhIGZhbGxiYWNrLlxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgYnV0dG9uLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpLmh0bWwob3JpZ2luYWxDb250ZW50KTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdEV2ZW50SGFuZGxlcnMoc3RvcnlSZW5kZXJlcjogU3RvcnlSZW5kZXJlciwgY3VzdG9tQWN0aW9uTW9kYWw6IHsgc2hvd01vZGFsOiAodGFyZ2V0OiBKUXVlcnk8SFRNTEVsZW1lbnQ+KSA9PiB2b2lkIH0sIGhpc3RvcnlNYW5hZ2VyOiBDaGF0SGlzdG9yeU1hbmFnZXIsIHN1bW1hcml6ZXI6IFN1bW1hcml6ZXIsIHByb21wdE1hbmFnZXI6IFByb21wdE1hbmFnZXIsIGV2ZW50TWFuYWdlcjogRXZlbnRNYW5hZ2VyKSB7XG4gIC8vIC0tLSBBY2hpZXZlbWVudCBTeXN0ZW0gSGFuZGxlcnMgLS0tXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcjcmVmcmVzaC1yZXdhcmRzLWJ0bicsIGFzeW5jIChlOiBKUXVlcnkuQ2xpY2tFdmVudCkgPT4ge1xuICAgIHJlcXVlc3RTeXN0ZW1SZWZyZXNoKCfmiJDlsLHlpZblirEnLCAn5LiW55WMLuaIkOWwsS7kuIrmrKHliLfmlrDlpKnmlbAnLCAkKGUuY3VycmVudFRhcmdldCBhcyBIVE1MRWxlbWVudCksIHN0b3J5UmVuZGVyZXIsIGhpc3RvcnlNYW5hZ2VyLCBzdW1tYXJpemVyLCBwcm9tcHRNYW5hZ2VyLCBldmVudE1hbmFnZXIpO1xuICB9KTtcblxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLnJlZGVlbS1idG4nLCBhc3luYyAoZTogSlF1ZXJ5LkNsaWNrRXZlbnQpID0+IHtcbiAgICBjb25zdCBidXR0b24gPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgY29uc3QgcmV3YXJkSWQgPSBidXR0b24uZGF0YSgncmV3YXJkLWlkJyk7XG4gICAgaWYgKCFyZXdhcmRJZCkgcmV0dXJuO1xuXG4gICAgYnV0dG9uLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSkuaHRtbCgnPGkgY2xhc3M9XCJmYXMgZmEtc3Bpbm5lciBmYS1zcGluXCI+PC9pPicpO1xuXG4gICAgY29uc3QgbWVzc2FnZSA9IGBbU1lTVEVNXSDnjqnlrrbor7fmsYLlhZHmjaLmiJDlsLHlpZblirHvvIzlpZblirFJROS4ujogJHtyZXdhcmRJZH3jgILor7fov5vooYzlpITnkIbjgIJgO1xuICAgIHRvYXN0ci5pbmZvKGDmraPlnKjor7fmsYLlhZHmjaLlpZblirEuLi5gKTtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdHJpZ2dlckFjdGlvbihtZXNzYWdlLCAtMSwgc3RvcnlSZW5kZXJlciwgaGlzdG9yeU1hbmFnZXIsIHN1bW1hcml6ZXIsIHByb21wdE1hbmFnZXIsIGV2ZW50TWFuYWdlcik7XG4gICAgICB0b2FzdHIuc3VjY2Vzcyhg5YWR5o2i6K+35rGC5bey5Y+R6YCB77yBYCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCLlhZHmjaLlpZblirHlpLHotKU6XCIsIGVycm9yKTtcbiAgICAgIHRvYXN0ci5lcnJvcihcIuivt+axguWksei0pe+8jOivt+afpeeci+aOp+WItuWPsOOAglwiKTtcbiAgICAgIGJ1dHRvbi5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKS50ZXh0KCflhZHmjaInKTtcbiAgICB9XG4gIH0pO1xuICBcbiAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJyNzaWduLWluLWJ0bicsIGFzeW5jIChlOiBKUXVlcnkuQ2xpY2tFdmVudCkgPT4ge1xuICAgIGNvbnN0IHRhcmdldCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBcbiAgICBjb25zdCBjdXJyZW50VmFycyA9IGdldFZhcmlhYmxlcyh7IHR5cGU6ICdjaGF0JyB9KTtcbiAgICBjb25zdCBnYW1lVGltZVN0cmluZyA9IF8uZ2V0KGN1cnJlbnRWYXJzLCAn5LiW55WMLuaXtumXtCcpO1xuICAgIGNvbnN0IGdhbWVEYXRlID0gZ2FtZVRpbWVTdHJpbmcgPyBwYXJzZUdhbWVEYXRlKGdhbWVUaW1lU3RyaW5nKSA6IG51bGw7XG4gICAgXG4gICAgaWYgKGdhbWVEYXRlKSB7XG4gICAgICAgIGNvbnN0IHsgeWVhciwgbW9udGgsIGRheTogdG9kYXlJbkdhbWUgfSA9IGdhbWVEYXRlO1xuICAgICAgICBjb25zdCBzeXN0ZW1EYXRhID0gXy5nZXQoY3VycmVudFZhcnMsICfkuJbnlYwu562+5YiwJywge30pO1xuICAgICAgICBjb25zdCByZWNvcmRLZXkgPSBg56ysJHt5ZWFyfeW5tC3nrKwke21vbnRofeaciGA7XG4gICAgICAgIGNvbnN0IHNpZ25JblJlY29yZHMgPSBzeXN0ZW1EYXRhWyfnrb7liLDorrDlvZUnXSB8fCB7fTtcbiAgICAgICAgY29uc3Qgc2lnbmVkSW5EYXlzID0gc2lnbkluUmVjb3Jkc1tyZWNvcmRLZXldIHx8IFtdO1xuICAgICAgICBpZiAoc2lnbmVkSW5EYXlzLmluY2x1ZGVzKHRvZGF5SW5HYW1lKSkge1xuICAgICAgICAgICAgdG9hc3RyLmluZm8oJ+S7iuaXpeW3suetvuWIsOOAgicpO1xuICAgICAgICAgICAgdGFyZ2V0LnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0YXJnZXQucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcblxuICAgIGNvbnN0IGZsb29yX2lkID0gZ2V0Rmxvb3JJZCgpO1xuICAgIGNvbnN0IHZhcmlhYmxlcyA9IGdldFZhcmlhYmxlcyh7IHR5cGU6ICdtZXNzYWdlJywgbWVzc2FnZV9pZDogZmxvb3JfaWQgfSk7XG4gICAgY29uc3Qgc3lzdGVtRGF0YSA9IF8uZ2V0KHZhcmlhYmxlcywgJ+S4lueVjC7nrb7liLAnLCB7fSk7XG4gICAgY29uc3QgY29uc2VjdXRpdmVEYXlzID0gc3lzdGVtRGF0YVsn6L+e57ut562+5YiwJ10gfHwgMDtcbiAgICBjb25zdCBtb250aGx5Q2FyZCA9IHN5c3RlbURhdGFbJ+aciOWNoSddIHx8ICfmnKrmv4DmtLsnO1xuXG4gICAgbGV0IHNpZ25Jbk1lc3NhZ2UgPSBgW1NZU1RFTV0g546p5a626KaB6L+b6KGM5q+P5pel562+5Yiw44CCYDtcbiAgICBpZiAobW9udGhseUNhcmQgIT09ICfmnKrmv4DmtLsnKSB7XG4gICAgICAgIHNpZ25Jbk1lc3NhZ2UgKz0gYFxcbuW9k+WJjeaciOWNoeeKtuaAgTogJHttb250aGx5Q2FyZH3jgIJgO1xuICAgIH1cbiAgICBzaWduSW5NZXNzYWdlICs9IGBcXG7lvZPliY3lt7Lov57nu63nrb7liLA6ICR7Y29uc2VjdXRpdmVEYXlzfeWkqeOAgmA7XG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgdHJpZ2dlckFjdGlvbihzaWduSW5NZXNzYWdlLCAtMSwgc3RvcnlSZW5kZXJlciwgaGlzdG9yeU1hbmFnZXIsIHN1bW1hcml6ZXIsIHByb21wdE1hbmFnZXIsIGV2ZW50TWFuYWdlcik7XG4gICAgICB0b2FzdHIuc3VjY2Vzcyhg562+5Yiw6K+35rGC5bey5Y+R6YCB77yBYCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCLnrb7liLDlpLHotKU6XCIsIGVycm9yKTtcbiAgICAgIHRvYXN0ci5lcnJvcihcIuetvuWIsOWksei0pe+8jOivt+afpeeci+aOp+WItuWPsOOAglwiKTtcbiAgICAgIHRhcmdldC5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcbiAgICB9XG4gIH0pO1xuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcjYWN0aXZhdGUtbW9udGhseS1jYXJkLWJ0bicsIGFzeW5jIChlOiBKUXVlcnkuQ2xpY2tFdmVudCkgPT4ge1xuICAgIGNvbnN0IHRhcmdldCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICB0YXJnZXQucHJvcCgnZGlzYWJsZWQnLCB0cnVlKS50ZXh0KCfor6Lpl67kuK0uLi4nKTtcblxuICAgIGNvbnN0IG1lc3NhZ2UgPSBgW1NZU1RFTV0g546p5a625oOz6KaB5r+A5rS7562+5Yiw57O757uf55qE5pyI5Y2h77yM6K+35ZGK55+l5r+A5rS75p2h5Lu25ZKM5pWI5p6c44CCYDtcbiAgICB0b2FzdHIuaW5mbyhg5q2j5Zyo6K+i6Zeu5r+A5rS75p2h5Lu2Li4uYCk7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRyaWdnZXJBY3Rpb24obWVzc2FnZSwgLTEsIHN0b3J5UmVuZGVyZXIsIGhpc3RvcnlNYW5hZ2VyLCBzdW1tYXJpemVyLCBwcm9tcHRNYW5hZ2VyLCBldmVudE1hbmFnZXIpO1xuICAgICAgdG9hc3RyLnN1Y2Nlc3MoYOivt+axguW3suWPkemAge+8gWApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwi5r+A5rS75pyI5Y2h5aSx6LSlOlwiLCBlcnJvcik7XG4gICAgICB0b2FzdHIuZXJyb3IoXCLor7fmsYLlpLHotKXvvIzor7fmn6XnnIvmjqfliLblj7DjgIJcIik7XG4gICAgICB0YXJnZXQucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSkudGV4dCgn5r+A5rS7Jyk7XG4gICAgfVxuICB9KTtcblxuICAkKCcjb3B0aW9ucy1saXN0Jykub24oJ2NsaWNrJywgYXN5bmMgKGU6IEpRdWVyeS5DbGlja0V2ZW50KSA9PiB7XG4gICAgY29uc3QgdGFyZ2V0TGkgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCdsaScpO1xuICAgIGlmICghdGFyZ2V0TGkubGVuZ3RoKSByZXR1cm47XG5cbiAgICBjb25zdCBvcHRpb25zTGlzdCA9ICQoJyNvcHRpb25zLWxpc3QnKTtcbiAgICBpZiAob3B0aW9uc0xpc3QuaGFzQ2xhc3MoJ2Rpc2FibGVkJykpIHtcbiAgICAgIHRvYXN0ci5pbmZvKCfmraPlnKjnrYnlvoXlm57lupTvvIzor7fnqI3lkI4uLi4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBhY3Rpb25UeXBlID0gdGFyZ2V0TGkuZGF0YSgnYWN0aW9uVHlwZScpO1xuXG4gICAgaWYgKGFjdGlvblR5cGUgPT09ICdjdXN0b20nKSB7XG4gICAgICBjdXN0b21BY3Rpb25Nb2RhbC5zaG93TW9kYWwodGFyZ2V0TGkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBvcHRpb25UZXh0ID0gdGFyZ2V0TGkuZGF0YSgnb3B0aW9uVGV4dCcpO1xuICAgICAgY29uc3Qgb3B0aW9uSW5kZXggPSBwYXJzZUludCh0YXJnZXRMaS5kYXRhKCdvcHRpb25JbmRleCcpLCAxMCk7XG5cbiAgICAgIGlmIChvcHRpb25UZXh0ICYmICFpc05hTihvcHRpb25JbmRleCkpIHtcbiAgICAgICAgLy8gSnVzdCBkaXNhYmxlIHRoZSBsaXN0IHRvIHByZXZlbnQgZnVydGhlciBjbGlja3MuXG4gICAgICAgIC8vIFRoZSBsb2FkaW5nIHNwaW5uZXIgaW4gdGhlIG1haW4gc3RvcnkgY29udGVudCBhcmVhIChoYW5kbGVkIGJ5IHNlbmRHZW5lcmF0aW9uUmVxdWVzdClcbiAgICAgICAgLy8gaXMgc3VmZmljaWVudCB1c2VyIGZlZWRiYWNrLlxuICAgICAgICBvcHRpb25zTGlzdC5hZGRDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgICAgXG4gICAgICAgIGF3YWl0IHRyaWdnZXJBY3Rpb24ob3B0aW9uVGV4dCwgb3B0aW9uSW5kZXgsIHN0b3J5UmVuZGVyZXIsIGhpc3RvcnlNYW5hZ2VyLCBzdW1tYXJpemVyLCBwcm9tcHRNYW5hZ2VyLCBldmVudE1hbmFnZXIpO1xuXG4gICAgICAgIC8vIFRoZSBsaXN0IHdpbGwgYmUgcmUtZW5hYmxlZCBhbmQgcmUtcmVuZGVyZWQgYnkgdGhlIFN0b3J5UmVuZGVyZXJcbiAgICAgICAgLy8gb25jZSB0aGUgbmV3IGRhdGEgYXJyaXZlcyB2aWEgdGhlIEFJIGV2ZW50IGxpc3RlbmVycy5cbiAgICAgICAgLy8gRm9yIHNhZmV0eSwgd2UgY2FuIHJlbW92ZSB0aGUgZGlzYWJsZWQgY2xhc3MgaGVyZSwgYXMgdGhlIEFJIGdlbmVyYXRpbmcgc3RhdGVcbiAgICAgICAgLy8gd2lsbCBwcmV2ZW50IGNsaWNrcyBhbnl3YXkuXG4gICAgICAgIG9wdGlvbnNMaXN0LnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLy8gLS0tIEJhcnRlciBTeXN0ZW0gSGFuZGxlcnMgLS0tXG5cbiAgLy8gRnVuY3Rpb24gdG8gdXBkYXRlIHRoZSBiYXJ0ZXIgdHJhbnNhY3Rpb24gZGV0YWlscyBVSVxuICBmdW5jdGlvbiB1cGRhdGVCYXJ0ZXJUcmFuc2FjdGlvbigpIHtcbiAgICBjb25zdCBjb250YWluZXIgPSAkKCcjYmFydGVyLXN5c3RlbS1jb250YWluZXInKTtcbiAgICBpZiAoIWNvbnRhaW5lci5sZW5ndGgpIHJldHVybjtcblxuICAgIGNvbnN0IG15SXRlbUNoZWNrYm94ZXMgPSBjb250YWluZXIuZmluZCgnLmJhcnRlci1teS1pdGVtLWNoZWNrYm94Jyk7XG4gICAgY29uc3QgYXZhaWxhYmxlSXRlbUNoZWNrYm94ZXMgPSBjb250YWluZXIuZmluZCgnLmJhcnRlci1hdmFpbGFibGUtaXRlbS1jaGVja2JveCcpO1xuICAgIGNvbnN0IG9mZmVyVmFsdWVFbCA9ICQoJyNiYXJ0ZXItb2ZmZXItdmFsdWUnKTtcbiAgICBjb25zdCByZXF1ZXN0VmFsdWVFbCA9ICQoJyNiYXJ0ZXItcmVxdWVzdC12YWx1ZScpO1xuICAgIGNvbnN0IGV4ZWN1dGVCdG4gPSAkKCcjZXhlY3V0ZS1iYXJ0ZXItYnRuJyk7XG4gICAgY29uc3Qgc3RhdHVzVGV4dEVsID0gJCgnI2JhcnRlci1zdGF0dXMtdGV4dCcpO1xuXG4gICAgbGV0IG9mZmVyVmFsdWUgPSAwO1xuICAgIG15SXRlbUNoZWNrYm94ZXMuZWFjaChmdW5jdGlvbih0aGlzOiBIVE1MRWxlbWVudCkge1xuICAgICAgY29uc3QgY2IgPSAkKHRoaXMpO1xuICAgICAgaWYgKGNiLmlzKCc6Y2hlY2tlZCcpKSB7XG4gICAgICAgIG9mZmVyVmFsdWUgKz0gcGFyc2VJbnQoY2IuZGF0YSgndmFsdWUnKSkgKiBwYXJzZUludChjYi5kYXRhKCdxdWFudGl0eScpKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGxldCByZXF1ZXN0VmFsdWUgPSAwO1xuICAgIGF2YWlsYWJsZUl0ZW1DaGVja2JveGVzLmVhY2goZnVuY3Rpb24odGhpczogSFRNTEVsZW1lbnQpIHtcbiAgICAgIGNvbnN0IGNiID0gJCh0aGlzKTtcbiAgICAgIGlmIChjYi5pcygnOmNoZWNrZWQnKSkge1xuICAgICAgICByZXF1ZXN0VmFsdWUgKz0gcGFyc2VJbnQoY2IuZGF0YSgndmFsdWUnKSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBvZmZlclZhbHVlRWwuaHRtbChgJHtvZmZlclZhbHVlfSA8aSBjbGFzcz1cImZhcyBmYS1jb2lucyB0ZXh0LXhzXCI+PC9pPmApO1xuICAgIHJlcXVlc3RWYWx1ZUVsLmh0bWwoYCR7cmVxdWVzdFZhbHVlfSA8aSBjbGFzcz1cImZhcyBmYS1jb2lucyB0ZXh0LXhzXCI+PC9pPmApO1xuXG4gICAgaWYgKHJlcXVlc3RWYWx1ZSA9PT0gMCkge1xuICAgICAgZXhlY3V0ZUJ0bi5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgc3RhdHVzVGV4dEVsLnRleHQoJ+ivt+mAieaLqeS9oOaDs+imgeaNouWPlueahOeJqeWTgeOAgicpO1xuICAgIH0gZWxzZSBpZiAob2ZmZXJWYWx1ZSA+PSByZXF1ZXN0VmFsdWUpIHtcbiAgICAgIGV4ZWN1dGVCdG4ucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG4gICAgICBzdGF0dXNUZXh0RWwudGV4dCgn5Lu35YC85YWF6Laz77yM5Y+v5Lul5Lqk5piT44CCJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4ZWN1dGVCdG4ucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgIHN0YXR1c1RleHRFbC50ZXh0KGDku7flgLzkuI3otrPvvIzov5jpnIAgJHtyZXF1ZXN0VmFsdWUgLSBvZmZlclZhbHVlfSDngrnku7flgLzjgIJgKTtcbiAgICB9XG4gIH1cblxuICAvLyBBdHRhY2ggZXZlbnQgbGlzdGVuZXJzIGZvciBiYXJ0ZXIgc3lzdGVtXG4gICQoZG9jdW1lbnQpLm9uKCdjaGFuZ2UnLCAnLmJhcnRlci1teS1pdGVtLWNoZWNrYm94LCAuYmFydGVyLWF2YWlsYWJsZS1pdGVtLWNoZWNrYm94JywgdXBkYXRlQmFydGVyVHJhbnNhY3Rpb24pO1xuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcjZXhlY3V0ZS1iYXJ0ZXItYnRuJywgYXN5bmMgKGU6IEpRdWVyeS5DbGlja0V2ZW50KSA9PiB7XG4gICAgY29uc3QgdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIHRhcmdldC5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgIGNvbnN0IG9yaWdpbmFsVGV4dCA9IHRhcmdldC5odG1sKCk7XG4gICAgdGFyZ2V0Lmh0bWwoJzxpIGNsYXNzPVwiZmFzIGZhLXNwaW5uZXIgZmEtc3BpblwiPjwvaT4g5aSE55CG5LitLi4uJyk7XG5cbiAgICBjb25zdCBteVNlbGVjdGVkSXRlbXMgPSAkKCcuYmFydGVyLW15LWl0ZW0tY2hlY2tib3g6Y2hlY2tlZCcpLm1hcChmdW5jdGlvbih0aGlzOiBIVE1MRWxlbWVudCkge1xuICAgICAgcmV0dXJuIGAkeyQodGhpcykuZGF0YSgnbmFtZScpfSB4JHskKHRoaXMpLmRhdGEoJ3F1YW50aXR5Jyl9YDtcbiAgICB9KS5nZXQoKTtcblxuICAgIGNvbnN0IGF2YWlsYWJsZVNlbGVjdGVkSXRlbXMgPSAkKCcuYmFydGVyLWF2YWlsYWJsZS1pdGVtLWNoZWNrYm94OmNoZWNrZWQnKS5tYXAoZnVuY3Rpb24odGhpczogSFRNTEVsZW1lbnQpIHtcbiAgICAgIHJldHVybiAkKHRoaXMpLmRhdGEoJ25hbWUnKTtcbiAgICB9KS5nZXQoKTtcblxuICAgIGlmIChhdmFpbGFibGVTZWxlY3RlZEl0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdG9hc3RyLndhcm5pbmcoJ+ivt+iHs+WwkemAieaLqeS4gOS7tuS9oOaDs+imgeaNouWPlueahOeJqeWTgeOAgicpO1xuICAgICAgdGFyZ2V0LnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpLmh0bWwob3JpZ2luYWxUZXh0KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBvZmZlclRleHQgPSBteVNlbGVjdGVkSXRlbXMubGVuZ3RoID4gMCA/IG15U2VsZWN0ZWRJdGVtcy5qb2luKCfjgIEnKSA6ICfnqbrmiYsnO1xuICAgIGNvbnN0IHJlcXVlc3RUZXh0ID0gYXZhaWxhYmxlU2VsZWN0ZWRJdGVtcy5qb2luKCfjgIEnKTtcblxuICAgIGNvbnN0IG1lc3NhZ2UgPSBgW1NZU1RFTV0g546p5a626K+35rGC5Lqk5piT77yM5oSP5Zu+55So44CQJHtvZmZlclRleHR944CR5o2i5Y+W44CQJHtyZXF1ZXN0VGV4dH3jgJHjgILor7fmoLnmja7lj4zmlrnnianlk4Hku7flgLzov5vooYzliKTmlq3lkozlm57lupTjgIJgO1xuICAgIFxuICAgIHRvYXN0ci5pbmZvKGDmraPlnKjlj5HotbfkuqTmmJPor7fmsYIuLi5gKTtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdHJpZ2dlckFjdGlvbihtZXNzYWdlLCAtMSwgc3RvcnlSZW5kZXJlciwgaGlzdG9yeU1hbmFnZXIsIHN1bW1hcml6ZXIsIHByb21wdE1hbmFnZXIsIGV2ZW50TWFuYWdlcik7XG4gICAgICB0b2FzdHIuc3VjY2Vzcyhg5Lqk5piT6K+35rGC5bey5Y+R6YCB77yBYCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCLkuqTmmJPlpLHotKU6XCIsIGVycm9yKTtcbiAgICAgIHRvYXN0ci5lcnJvcihcIuS6pOaYk+Wksei0pe+8jOivt+afpeeci+aOp+WItuWPsOOAglwiKTtcbiAgICAgIHRhcmdldC5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKS5odG1sKG9yaWdpbmFsVGV4dCk7XG4gICAgfVxuICB9KTtcblxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnI3JlZnJlc2gtYmFydGVyLWJ0bicsIGFzeW5jIChlOiBKUXVlcnkuQ2xpY2tFdmVudCkgPT4ge1xuICAgIHJlcXVlc3RTeXN0ZW1SZWZyZXNoKCfku6XnianmjaLniaknLCAn5LiW55WMLuS7peeJqeaNoueJqS7kuIrmrKHliLfmlrDlpKnmlbAnLCAkKGUuY3VycmVudFRhcmdldCBhcyBIVE1MRWxlbWVudCksIHN0b3J5UmVuZGVyZXIsIGhpc3RvcnlNYW5hZ2VyLCBzdW1tYXJpemVyLCBwcm9tcHRNYW5hZ2VyLCBldmVudE1hbmFnZXIpO1xuICB9KTtcblxuICAvLyAtLS0gU3dpcGUgQnV0dG9uIEV2ZW50IEhhbmRsZXJzIC0tLVxuICAvLyBXZSBhcmUgdXNpbmcgYSBtb3JlIGRpcmVjdCBhbmQgZm9yY2VmdWwgd2F5IHRvIGJpbmQgdGhlc2UgZXZlbnRzXG4gIC8vIHRvIG92ZXJyaWRlIGFueSBwb3RlbnRpYWwgZGVmYXVsdCBoYW5kbGVycyBmcm9tIFRhdmVybi9TaWxseVRhdmVybi5cbiAgY29uc3QgcHJldlN3aXBlQnRuID0gJCgnI3ByZXYtc3dpcGUtYnRuJyk7XG4gIGNvbnN0IG5leHRTd2lwZUJ0biA9ICQoJyNuZXh0LXN3aXBlLWJ0bicpO1xuXG4gIC8vIFVuYmluZCBhbnkgZXhpc3RpbmcgY2xpY2sgaGFuZGxlcnMgdG8gcHJldmVudCBjb25mbGljdHMuXG4gIHByZXZTd2lwZUJ0bi5vZmYoJ2NsaWNrJyk7XG4gIG5leHRTd2lwZUJ0bi5vZmYoJ2NsaWNrJyk7XG5cbiAgcHJldlN3aXBlQnRuLm9uKCdjbGljaycsICgpID0+IHtcbiAgICBpZiAoZ2V0SXNBaUdlbmVyYXRpbmcoKSkgcmV0dXJuO1xuICAgIGNvbnN0IGN1cnJlbnRTd2lwZUluZGV4ID0gZ2V0Q3VycmVudFN3aXBlSW5kZXgoKTtcbiAgICBsb2dnZXIoJ2luZm8nLCAnRXZlbnRIYW5kbGVycycsIGBbU1dJUEVfREVCVUddIFByZXZpb3VzIHN3aXBlIGJ1dHRvbiBjbGlja2VkLiBDdXJyZW50IGluZGV4OiAke2N1cnJlbnRTd2lwZUluZGV4fWApO1xuICAgIGlmIChjdXJyZW50U3dpcGVJbmRleCA+IDApIHtcbiAgICAgIGNvbnN0IGhpc3RvcnkgPSBoaXN0b3J5TWFuYWdlci5nZXRSYXdIaXN0b3J5KCk7XG4gICAgICBjb25zdCBhY3RpdmVCcmFuY2ggPSBoaXN0b3J5LmJyYW5jaGVzW2hpc3RvcnkuYWN0aXZlQnJhbmNoXTtcbiAgICAgIGNvbnN0IGxhc3RUdXJuSW5kZXggPSBPYmplY3Qua2V5cyhhY3RpdmVCcmFuY2gpLmxlbmd0aCAtIDE7XG4gICAgICBjb25zdCBuZXdQYWdlSW5kZXggPSBjdXJyZW50U3dpcGVJbmRleCAtIDE7XG4gICAgICBsb2dnZXIoJ2xvZycsICdFdmVudEhhbmRsZXJzJywgYFtTV0lQRV9ERUJVR10gQ2FsbGluZyBoaXN0b3J5TWFuYWdlci5zZXRBY3RpdmVQYWdlKCR7bGFzdFR1cm5JbmRleH0sICR7bmV3UGFnZUluZGV4fSlgKTtcbiAgICAgIGhpc3RvcnlNYW5hZ2VyLnNldEFjdGl2ZVBhZ2UobGFzdFR1cm5JbmRleCwgbmV3UGFnZUluZGV4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdG9hc3RyLmluZm8oJ+W3sue7j+aYr+esrOS4gOadoeWbnuW6lOS6huOAgicpO1xuICAgIH1cbiAgfSk7XG5cbiAgbmV4dFN3aXBlQnRuLm9uKCdjbGljaycsICgpID0+IHtcbiAgICBpZiAoZ2V0SXNBaUdlbmVyYXRpbmcoKSkgcmV0dXJuO1xuICAgIGNvbnN0IGN1cnJlbnRTd2lwZUluZGV4ID0gZ2V0Q3VycmVudFN3aXBlSW5kZXgoKTtcbiAgICBjb25zdCBjdXJyZW50VHVyblN3aXBlcyA9IGdldEN1cnJlbnRUdXJuU3dpcGVzKCk7XG4gICAgbG9nZ2VyKCdpbmZvJywgJ0V2ZW50SGFuZGxlcnMnLCBgW1NXSVBFX0RFQlVHXSBOZXh0IHN3aXBlIGJ1dHRvbiBjbGlja2VkLiBDdXJyZW50IGluZGV4OiAke2N1cnJlbnRTd2lwZUluZGV4fSwgVG90YWwgc3dpcGVzOiAke2N1cnJlbnRUdXJuU3dpcGVzLmxlbmd0aH1gKTtcbiAgICBpZiAoY3VycmVudFN3aXBlSW5kZXggPCBjdXJyZW50VHVyblN3aXBlcy5sZW5ndGggLSAxKSB7XG4gICAgICBjb25zdCBoaXN0b3J5ID0gaGlzdG9yeU1hbmFnZXIuZ2V0UmF3SGlzdG9yeSgpO1xuICAgICAgY29uc3QgYWN0aXZlQnJhbmNoID0gaGlzdG9yeS5icmFuY2hlc1toaXN0b3J5LmFjdGl2ZUJyYW5jaF07XG4gICAgICBjb25zdCBsYXN0VHVybkluZGV4ID0gT2JqZWN0LmtleXMoYWN0aXZlQnJhbmNoKS5sZW5ndGggLSAxO1xuICAgICAgY29uc3QgbmV3UGFnZUluZGV4ID0gY3VycmVudFN3aXBlSW5kZXggKyAxO1xuICAgICAgbG9nZ2VyKCdsb2cnLCAnRXZlbnRIYW5kbGVycycsIGBbU1dJUEVfREVCVUddIENhbGxpbmcgaGlzdG9yeU1hbmFnZXIuc2V0QWN0aXZlUGFnZSgke2xhc3RUdXJuSW5kZXh9LCAke25ld1BhZ2VJbmRleH0pYCk7XG4gICAgICBoaXN0b3J5TWFuYWdlci5zZXRBY3RpdmVQYWdlKGxhc3RUdXJuSW5kZXgsIG5ld1BhZ2VJbmRleCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdlbmVyYXRlQW5vdGhlclN3aXBlKHN0b3J5UmVuZGVyZXIsIGhpc3RvcnlNYW5hZ2VyLCBwcm9tcHRNYW5hZ2VyLCBldmVudE1hbmFnZXIpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gU3RvcnkgZWRpdGluZyBjb250cm9sc1xuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnI2VkaXQtc3RvcnktYnRuJywgKCkgPT4ge1xuICAgIGNvbnN0IHNhdmVCdXR0b24gPSAkKCcjc2F2ZS1zdG9yeS1idG4nKTtcbiAgICBjb25zdCBpc0VkaXRpbmcgPSAhc2F2ZUJ1dHRvbi5oYXNDbGFzcygnaW52aXNpYmxlJyk7XG5cbiAgICAvLyBUb2dnbGUgZWRpdCBtb2RlXG4gICAgaWYgKGlzRWRpdGluZykge1xuICAgICAgLy8gSWYgYWxyZWFkeSBlZGl0aW5nLCBjYW5jZWwgaXRcbiAgICAgIHN0b3J5UmVuZGVyZXIudG9nZ2xlRWRpdE1vZGUoZmFsc2UpO1xuICAgICAgJCgnI3NhdmUtc3RvcnktYnRuLCAjY2FuY2VsLWVkaXQtYnRuJykuYWRkQ2xhc3MoJ2ludmlzaWJsZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiBub3QgZWRpdGluZywgc3RhcnQgZWRpdGluZ1xuICAgICAgc3RvcnlSZW5kZXJlci50b2dnbGVFZGl0TW9kZSh0cnVlKTtcbiAgICAgICQoJyNzYXZlLXN0b3J5LWJ0biwgI2NhbmNlbC1lZGl0LWJ0bicpLnJlbW92ZUNsYXNzKCdpbnZpc2libGUnKTtcbiAgICB9XG4gIH0pO1xuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcjY2FuY2VsLWVkaXQtYnRuJywgKCkgPT4ge1xuICAgIC8vIOS4jeS/neWtmOW5tumAgOWHuue8lui+keaooeW8j1xuICAgIHN0b3J5UmVuZGVyZXIudG9nZ2xlRWRpdE1vZGUoZmFsc2UpO1xuICAgIC8vIOmakOiXj+S/neWtmC/lj5bmtojmjInpkq5cbiAgICAkKCcjc2F2ZS1zdG9yeS1idG4sICNjYW5jZWwtZWRpdC1idG4nKS5hZGRDbGFzcygnaW52aXNpYmxlJyk7XG4gIH0pO1xuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcjc2F2ZS1zdG9yeS1idG4nLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3Qgc3RvcnlDb250ZW50ID0gJCgnI3N0b3J5LWNvbnRlbnQnKTtcbiAgICBjb25zdCB0ZXh0YXJlYSA9IHN0b3J5Q29udGVudC5maW5kKCcjc3RvcnktZWRpdC10ZXh0YXJlYScpIGFzIEpRdWVyeTxIVE1MVGV4dEFyZWFFbGVtZW50PjtcbiAgICBpZiAoIXRleHRhcmVhLmxlbmd0aCkgcmV0dXJuO1xuXG4gICAgY29uc3QgbmV3U3RvcnlNYXJrZG93biA9IHRleHRhcmVhLnZhbCgpIGFzIHN0cmluZztcblxuICAgIGNvbnN0IG1lc3NhZ2VzID0gaGlzdG9yeU1hbmFnZXIuZ2V0TWVzc2FnZXNGb3JQcm9tcHQoKTtcbiAgICBjb25zdCBsYXN0QXNzaXN0YW50TWVzc2FnZSA9IF8uZmluZExhc3QobWVzc2FnZXMsIChtOiBhbnkpID0+IG0ucm9sZSA9PT0gJ2Fzc2lzdGFudCcpO1xuXG4gICAgaWYgKCFsYXN0QXNzaXN0YW50TWVzc2FnZSkge1xuICAgICAgdG9hc3RyLmVycm9yKCfml6Dms5Xmib7liLDopoHmm7TmlrDnmoTmtojmga/jgIInKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgb3JpZ2luYWxDb250ZW50ID0gbGFzdEFzc2lzdGFudE1lc3NhZ2UuY29udGVudDtcblxuICAgIGNvbnN0IHN0YXR1c0Jhck1hdGNoID0gb3JpZ2luYWxDb250ZW50Lm1hdGNoKC88c3RhdHVzYmFyPltcXHNcXFNdKj88XFwvc3RhdHVzYmFyPi9pKTtcbiAgICBjb25zdCBzdGF0dXNCYXIgPSBzdGF0dXNCYXJNYXRjaCA/IHN0YXR1c0Jhck1hdGNoWzBdIDogJyc7XG5cbiAgICBjb25zdCBuZXdGdWxsQ29udGVudCA9IGAke25ld1N0b3J5TWFya2Rvd259XFxuJHtzdGF0dXNCYXJ9YDtcblxuICAgIHRyeSB7XG4gICAgICAvLyBXaXRoIHRoZSBuZXcgaGlzdG9yeSBzeXN0ZW0sIGVkaXRpbmcgdGhlIHN0b3J5IGNvbnRlbnQgdXBkYXRlcyB0aGUgc3BlY2lmaWMsXG4gICAgICAvLyBhY3RpdmUgbWVzc2FnZSBwYWdlLiBUaGlzIGlzIGEgbXVjaCBjbGVhbmVyIG9wZXJhdGlvbi5cbiAgICAgIGF3YWl0IGhpc3RvcnlNYW5hZ2VyLnVwZGF0ZU1lc3NhZ2VQYWdlQ29udGVudChsYXN0QXNzaXN0YW50TWVzc2FnZS5pZCwgbmV3RnVsbENvbnRlbnQpO1xuICAgICAgXG4gICAgICAvLyDkvb/nlKjmlrDlhoXlrrnpgIDlh7rnvJbovpHmqKHlvI/lubbph43mlrDmuLLmn5NcbiAgICAgIHN0b3J5UmVuZGVyZXIudG9nZ2xlRWRpdE1vZGUoZmFsc2UsIG5ld1N0b3J5TWFya2Rvd24pO1xuXG4gICAgICAvLyDpmpDol4/kv53lrZgv5Y+W5raI5oyJ6ZKuXG4gICAgICAkKCcjc2F2ZS1zdG9yeS1idG4sICNjYW5jZWwtZWRpdC1idG4nKS5hZGRDbGFzcygnaW52aXNpYmxlJyk7XG4gICAgICB0b2FzdHIuc3VjY2Vzcygn5oOF6IqC5bey5oiQ5Yqf5L+d5a2Y77yBJyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+S/neWtmOaDheiKguWksei0pTonLCBlcnJvcik7XG4gICAgICB0b2FzdHIuZXJyb3IoJ+S/neWtmOWksei0pe+8jOivt+afpeeci+aOp+WItuWPsOOAgicpO1xuICAgIH1cbiAgfSk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/ui/eventHandlers.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/ui/globalControls.ts": 
  /*!*****************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/ui/globalControls.ts ***!
  \*****************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initGlobalControls: () => (/* binding */ initGlobalControls)\n/* harmony export */ });\n// ui/globalControls.ts\nfunction initGlobalControls() {\n    const bodyElement = document.body;\n    const themeDropdownBtn = document.getElementById('theme-dropdown-btn');\n    const themeOptions = document.getElementById('theme-options');\n    const themeButtons = document.querySelectorAll('#theme-options .theme-btn');\n    const savedTheme = localStorage.getItem('storyTheme') || 'night';\n    const switchToTheme = (theme) => {\n        bodyElement.classList.remove('day-mode', 'jade-mode', 'classic-mode');\n        if (theme !== 'night') {\n            bodyElement.classList.add(`${theme}-mode`);\n        }\n        localStorage.setItem('storyTheme', theme);\n    };\n    switchToTheme(savedTheme);\n    themeDropdownBtn?.addEventListener('click', (e) => {\n        e.stopPropagation();\n        themeOptions?.classList.toggle('hidden');\n    });\n    themeButtons.forEach(button => {\n        button.addEventListener('click', () => {\n            const theme = button.getAttribute('data-theme');\n            if (theme)\n                switchToTheme(theme);\n            themeOptions?.classList.add('hidden');\n        });\n    });\n    document.addEventListener('click', (e) => {\n        const dropdownContainer = document.querySelector('.theme-switcher-dropdown');\n        if (dropdownContainer && !dropdownContainer.contains(e.target)) {\n            themeOptions?.classList.add('hidden');\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvdWkvZ2xvYmFsQ29udHJvbHMudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLHVCQUF1QjtBQUVoQixTQUFTLGtCQUFrQjtJQUNoQyxNQUFNLFdBQVcsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDO0lBQ2xDLE1BQU0sZ0JBQWdCLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0lBQ3ZFLE1BQU0sWUFBWSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsZUFBZSxDQUFDLENBQUM7SUFDOUQsTUFBTSxZQUFZLEdBQUcsUUFBUSxDQUFDLGdCQUFnQixDQUFDLDJCQUEyQixDQUFDLENBQUM7SUFDNUUsTUFBTSxVQUFVLEdBQUcsWUFBWSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsSUFBSSxPQUFPLENBQUM7SUFFakUsTUFBTSxhQUFhLEdBQUcsQ0FBQyxLQUFhLEVBQUUsRUFBRTtRQUN0QyxXQUFXLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxVQUFVLEVBQUUsV0FBVyxFQUFFLGNBQWMsQ0FBQyxDQUFDO1FBQ3RFLElBQUksS0FBSyxLQUFLLE9BQU8sRUFBRSxDQUFDO1lBQ3RCLFdBQVcsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxPQUFPLENBQUMsQ0FBQztRQUM3QyxDQUFDO1FBQ0QsWUFBWSxDQUFDLE9BQU8sQ0FBQyxZQUFZLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDNUMsQ0FBQyxDQUFDO0lBRUYsYUFBYSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBRTFCLGdCQUFnQixFQUFFLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFO1FBQ2hELENBQUMsQ0FBQyxlQUFlLEVBQUUsQ0FBQztRQUNwQixZQUFZLEVBQUUsU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUMzQyxDQUFDLENBQUMsQ0FBQztJQUVILFlBQVksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUU7UUFDNUIsTUFBTSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUU7WUFDcEMsTUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUNoRCxJQUFJLEtBQUs7Z0JBQUUsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ2hDLFlBQVksRUFBRSxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3hDLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUU7UUFDdkMsTUFBTSxpQkFBaUIsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLDBCQUEwQixDQUFDLENBQUM7UUFDN0UsSUFBSSxpQkFBaUIsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsTUFBYyxDQUFDLEVBQUUsQ0FBQztZQUN2RSxZQUFZLEVBQUUsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN4QyxDQUFDO0lBQ0gsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS8uL3NyYy/ku4DkuYjmiJHopoHlnKjnjoTlubvkv67ku5nkuJbnlYznp43nlLAtMOalvOeJiOacrC91aS9nbG9iYWxDb250cm9scy50cz8iXSwic291cmNlc0NvbnRlbnQiOlsiLy8gdWkvZ2xvYmFsQ29udHJvbHMudHNcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0R2xvYmFsQ29udHJvbHMoKSB7XHJcbiAgY29uc3QgYm9keUVsZW1lbnQgPSBkb2N1bWVudC5ib2R5O1xyXG4gIGNvbnN0IHRoZW1lRHJvcGRvd25CdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGhlbWUtZHJvcGRvd24tYnRuJyk7XHJcbiAgY29uc3QgdGhlbWVPcHRpb25zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RoZW1lLW9wdGlvbnMnKTtcclxuICBjb25zdCB0aGVtZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjdGhlbWUtb3B0aW9ucyAudGhlbWUtYnRuJyk7XHJcbiAgY29uc3Qgc2F2ZWRUaGVtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzdG9yeVRoZW1lJykgfHwgJ25pZ2h0JztcclxuXHJcbiAgY29uc3Qgc3dpdGNoVG9UaGVtZSA9ICh0aGVtZTogc3RyaW5nKSA9PiB7XHJcbiAgICBib2R5RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdkYXktbW9kZScsICdqYWRlLW1vZGUnLCAnY2xhc3NpYy1tb2RlJyk7XHJcbiAgICBpZiAodGhlbWUgIT09ICduaWdodCcpIHtcclxuICAgICAgYm9keUVsZW1lbnQuY2xhc3NMaXN0LmFkZChgJHt0aGVtZX0tbW9kZWApO1xyXG4gICAgfVxyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3N0b3J5VGhlbWUnLCB0aGVtZSk7XHJcbiAgfTtcclxuXHJcbiAgc3dpdGNoVG9UaGVtZShzYXZlZFRoZW1lKTtcclxuXHJcbiAgdGhlbWVEcm9wZG93bkJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIHRoZW1lT3B0aW9ucz8uY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XHJcbiAgfSk7XHJcblxyXG4gIHRoZW1lQnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiB7XHJcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHRoZW1lID0gYnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YS10aGVtZScpO1xyXG4gICAgICBpZiAodGhlbWUpIHN3aXRjaFRvVGhlbWUodGhlbWUpO1xyXG4gICAgICB0aGVtZU9wdGlvbnM/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgIGNvbnN0IGRyb3Bkb3duQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRoZW1lLXN3aXRjaGVyLWRyb3Bkb3duJyk7XHJcbiAgICBpZiAoZHJvcGRvd25Db250YWluZXIgJiYgIWRyb3Bkb3duQ29udGFpbmVyLmNvbnRhaW5zKGUudGFyZ2V0IGFzIE5vZGUpKSB7XHJcbiAgICAgIHRoZW1lT3B0aW9ucz8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/ui/globalControls.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/customAction.ts": 
  /*!**********************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/customAction.ts ***!
  \**********************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initCustomActionModal: () => (/* binding */ initCustomActionModal)\n/* harmony export */ });\n// ui/modals/customAction.ts\n// 接收一个 onConfirm 回调函数，该函数接受用户输入的字符串\nfunction initCustomActionModal(onConfirm) {\n    const modal = $('#custom-action-modal');\n    const input = $('#custom-action-input');\n    const confirmBtn = $('#confirm-action-btn');\n    const cancelBtn = $('#cancel-action-btn');\n    const optionsList = $('#options-list');\n    let currentTarget = null;\n    const showModal = (target) => {\n        currentTarget = target;\n        modal.insertAfter(target);\n        modal.removeClass('hidden').addClass('is-open');\n        input.val('').trigger('focus');\n    };\n    const hideModal = () => {\n        if (currentTarget) {\n            modal.removeClass('is-open').addClass('hidden');\n            optionsList.append(modal);\n            currentTarget = null;\n        }\n    };\n    const confirmAction = async () => {\n        const userInput = input.val().trim();\n        if (userInput) {\n            hideModal();\n            // 调用从 index.ts 传入的回调函数\n            await onConfirm(userInput);\n        }\n        else {\n            toastr.warning('请输入行动内容。');\n        }\n    };\n    cancelBtn.on('click', hideModal);\n    confirmBtn.on('click', confirmAction);\n    return { showModal };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvdWkvbW9kYWxzL2N1c3RvbUFjdGlvbi50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsNEJBQTRCO0FBTzVCLG9DQUFvQztBQUM3QixTQUFTLHFCQUFxQixDQUFDLFNBQStDO0lBQ25GLE1BQU0sS0FBSyxHQUFHLENBQUMsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO0lBQ3hDLE1BQU0sS0FBSyxHQUFHLENBQUMsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO0lBQ3hDLE1BQU0sVUFBVSxHQUFHLENBQUMsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO0lBQzVDLE1BQU0sU0FBUyxHQUFHLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0lBQzFDLE1BQU0sV0FBVyxHQUFHLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUN2QyxJQUFJLGFBQWEsR0FBK0IsSUFBSSxDQUFDO0lBRXJELE1BQU0sU0FBUyxHQUFHLENBQUMsTUFBMkIsRUFBRSxFQUFFO1FBQ2hELGFBQWEsR0FBRyxNQUFNLENBQUM7UUFDdkIsS0FBSyxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMxQixLQUFLLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNoRCxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNqQyxDQUFDLENBQUM7SUFFRixNQUFNLFNBQVMsR0FBRyxHQUFHLEVBQUU7UUFDckIsSUFBSSxhQUFhLEVBQUUsQ0FBQztZQUNsQixLQUFLLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUNoRCxXQUFXLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzFCLGFBQWEsR0FBRyxJQUFJLENBQUM7UUFDdkIsQ0FBQztJQUNILENBQUMsQ0FBQztJQUVGLE1BQU0sYUFBYSxHQUFHLEtBQUssSUFBSSxFQUFFO1FBQy9CLE1BQU0sU0FBUyxHQUFJLEtBQUssQ0FBQyxHQUFHLEVBQWEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNqRCxJQUFJLFNBQVMsRUFBRSxDQUFDO1lBQ2QsU0FBUyxFQUFFLENBQUM7WUFDWix1QkFBdUI7WUFDdkIsTUFBTSxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDN0IsQ0FBQzthQUFNLENBQUM7WUFDTixNQUFNLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQzdCLENBQUM7SUFDSCxDQUFDLENBQUM7SUFFRixTQUFTLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxTQUFTLENBQUMsQ0FBQztJQUNqQyxVQUFVLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxhQUFhLENBQUMsQ0FBQztJQUV0QyxPQUFPLEVBQUUsU0FBUyxFQUFFLENBQUM7QUFDdkIsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvdWkvbW9kYWxzL2N1c3RvbUFjdGlvbi50cz8iXSwic291cmNlc0NvbnRlbnQiOlsiLy8gdWkvbW9kYWxzL2N1c3RvbUFjdGlvbi50c1xyXG5cclxuaW1wb3J0IHsgdHJpZ2dlckFjdGlvbiB9IGZyb20gJy4uLy4uL2NvcmUvYWN0aW9ucyc7XHJcblxyXG5kZWNsYXJlIGNvbnN0IHRvYXN0cjogYW55O1xyXG5kZWNsYXJlIGNvbnN0ICQ6IGFueTtcclxuXHJcbi8vIOaOpeaUtuS4gOS4qiBvbkNvbmZpcm0g5Zue6LCD5Ye95pWw77yM6K+l5Ye95pWw5o6l5Y+X55So5oi36L6T5YWl55qE5a2X56ym5LiyXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0Q3VzdG9tQWN0aW9uTW9kYWwob25Db25maXJtOiAodXNlcklucHV0OiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD4pIHtcclxuICBjb25zdCBtb2RhbCA9ICQoJyNjdXN0b20tYWN0aW9uLW1vZGFsJyk7XHJcbiAgY29uc3QgaW5wdXQgPSAkKCcjY3VzdG9tLWFjdGlvbi1pbnB1dCcpO1xyXG4gIGNvbnN0IGNvbmZpcm1CdG4gPSAkKCcjY29uZmlybS1hY3Rpb24tYnRuJyk7XHJcbiAgY29uc3QgY2FuY2VsQnRuID0gJCgnI2NhbmNlbC1hY3Rpb24tYnRuJyk7XHJcbiAgY29uc3Qgb3B0aW9uc0xpc3QgPSAkKCcjb3B0aW9ucy1saXN0Jyk7XHJcbiAgbGV0IGN1cnJlbnRUYXJnZXQ6IEpRdWVyeTxIVE1MRWxlbWVudD4gfCBudWxsID0gbnVsbDtcclxuXHJcbiAgY29uc3Qgc2hvd01vZGFsID0gKHRhcmdldDogSlF1ZXJ5PEhUTUxFbGVtZW50PikgPT4ge1xyXG4gICAgY3VycmVudFRhcmdldCA9IHRhcmdldDtcclxuICAgIG1vZGFsLmluc2VydEFmdGVyKHRhcmdldCk7XHJcbiAgICBtb2RhbC5yZW1vdmVDbGFzcygnaGlkZGVuJykuYWRkQ2xhc3MoJ2lzLW9wZW4nKTtcclxuICAgIGlucHV0LnZhbCgnJykudHJpZ2dlcignZm9jdXMnKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoaWRlTW9kYWwgPSAoKSA9PiB7XHJcbiAgICBpZiAoY3VycmVudFRhcmdldCkge1xyXG4gICAgICBtb2RhbC5yZW1vdmVDbGFzcygnaXMtb3BlbicpLmFkZENsYXNzKCdoaWRkZW4nKTtcclxuICAgICAgb3B0aW9uc0xpc3QuYXBwZW5kKG1vZGFsKTtcclxuICAgICAgY3VycmVudFRhcmdldCA9IG51bGw7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgY29uZmlybUFjdGlvbiA9IGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHVzZXJJbnB1dCA9IChpbnB1dC52YWwoKSBhcyBzdHJpbmcpLnRyaW0oKTtcclxuICAgIGlmICh1c2VySW5wdXQpIHtcclxuICAgICAgaGlkZU1vZGFsKCk7XHJcbiAgICAgIC8vIOiwg+eUqOS7jiBpbmRleC50cyDkvKDlhaXnmoTlm57osIPlh73mlbBcclxuICAgICAgYXdhaXQgb25Db25maXJtKHVzZXJJbnB1dCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0b2FzdHIud2FybmluZygn6K+36L6T5YWl6KGM5Yqo5YaF5a6544CCJyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY2FuY2VsQnRuLm9uKCdjbGljaycsIGhpZGVNb2RhbCk7XHJcbiAgY29uZmlybUJ0bi5vbignY2xpY2snLCBjb25maXJtQWN0aW9uKTtcclxuXHJcbiAgcmV0dXJuIHsgc2hvd01vZGFsIH07XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/customAction.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/debug.ts": 
  /*!***************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/debug.ts ***!
  \***************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval('{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initDebugModal: () => (/* binding */ initDebugModal)\n/* harmony export */ });\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ "lodash");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _core_logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/logger */ "./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts");\n/* harmony import */ var _core_variables__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/variables */ "./src/什么我要在玄幻修仙世界种田-0楼版本/core/variables.ts");\n// ui/modals/debug.ts\n\n\n\n/**\n * Recursively creates a foldable HTML view for a given value (object, array, or primitive).\n * @param data - The data to render.\n * @param keyName - The key/name for this data level.\n * @returns An HTML string.\n */\nfunction renderVariableEntry(data, keyName) {\n    const escapedKey = lodash__WEBPACK_IMPORTED_MODULE_0___default().escape(keyName);\n    if (lodash__WEBPACK_IMPORTED_MODULE_0___default().isObject(data) && !lodash__WEBPACK_IMPORTED_MODULE_0___default().isArray(data)) {\n        const entries = Object.entries(data);\n        if (entries.length === 0) {\n            return `<div class="variable-entry"><span class="variable-key">${escapedKey}:</span> <span class="variable-value">{}</span></div>`;\n        }\n        const content = entries.map(([key, value]) => renderVariableEntry(value, key)).join(\'\');\n        return `\n            <details class="variable-details" open>\n                <summary class="variable-summary">\n                    <span class="variable-key">${escapedKey}:</span>\n                    <span class="variable-preview">{...}</span>\n                </summary>\n                <div class="variable-content">\n                    ${content}\n                </div>\n            </details>\n        `;\n    }\n    else if (lodash__WEBPACK_IMPORTED_MODULE_0___default().isArray(data)) {\n        if (data.length === 0) {\n            return `<div class="variable-entry"><span class="variable-key">${escapedKey}:</span> <span class="variable-value">[]</span></div>`;\n        }\n        const content = data.map((item, index) => renderVariableEntry(item, `[${index}]`)).join(\'\');\n        return `\n            <details class="variable-details" open>\n                <summary class="variable-summary">\n                    <span class="variable-key">${escapedKey}:</span>\n                    <span class="variable-preview">[... ${data.length} items]</span>\n                </summary>\n                <div class="variable-content">\n                    ${content}\n                </div>\n            </details>\n        `;\n    }\n    else {\n        let displayValue = data;\n        if (lodash__WEBPACK_IMPORTED_MODULE_0___default().isString(data)) {\n            displayValue = `"${lodash__WEBPACK_IMPORTED_MODULE_0___default().escape(data)}"`;\n        }\n        else if (data === null) {\n            displayValue = \'null\';\n        }\n        else {\n            displayValue = lodash__WEBPACK_IMPORTED_MODULE_0___default().escape(String(data));\n        }\n        return `<div class="variable-entry"><span class="variable-key">${escapedKey}:</span> <span class="variable-value json-${typeof data}">${displayValue}</span></div>`;\n    }\n}\n/**\n * Renders a structured, human-readable, and fully collapsible view of the game state.\n * This new version iterates through all variables and makes them collapsible.\n * @param variables - The chat variables object.\n * @returns An HTML string representing the structured state.\n */\nfunction renderStructuredState(variables) {\n    if (!variables || !lodash__WEBPACK_IMPORTED_MODULE_0___default().isObject(variables) || lodash__WEBPACK_IMPORTED_MODULE_0___default().isEmpty(variables)) {\n        return \'<p class="text-secondary italic">聊天变量为空或无效。</p>\';\n    }\n    // We want to render top-level keys like \'角色\' and \'世界\' as distinct, collapsible sections.\n    return Object.entries(variables).map(([topKey, topValue]) => {\n        if (topValue === null || typeof topValue !== \'object\') {\n            // Handle cases where a top-level variable is not an object (should be rare)\n            return renderVariableEntry(topValue, topKey);\n        }\n        const content = Object.entries(topValue).map(([key, value]) => renderVariableEntry(value, key)).join(\'\');\n        return `\n            <div class="state-namespace-card">\n                <details open>\n                    <summary><h2>${lodash__WEBPACK_IMPORTED_MODULE_0___default().escape(topKey)}</h2></summary>\n                    <div class="namespace-content">\n                        ${content}\n                    </div>\n                </details>\n            </div>\n        `;\n    }).join(\'\');\n}\n/**\n * Initializes the debug modal, its event listeners, and related logic.\n */\nfunction initDebugModal(pokedexManager, storyRenderer, eventManager, promptManager) {\n    const modal = $(\'#debug-modal\');\n    const modalContent = modal.find(\'.modal-content\');\n    const closeBtn = $(\'#debug-modal-close-btn\');\n    const debugModeToggle = $(\'#debug-mode-toggle\');\n    // --- Log Viewer Elements ---\n    const searchInput = $(\'#debug-search-input\');\n    const levelFilters = $(\'.debug-level-filter\');\n    const logContainer = $(\'#debug-log-container\');\n    const clearBtn = $(\'#debug-clear-btn\');\n    const downloadBtn = $(\'#debug-download-btn\');\n    // --- Tab Elements ---\n    const tabs = modal.find(\'.debug-tab-btn\');\n    const tabContents = modal.find(\'.debug-tab-content\');\n    // --- State Monitor Elements ---\n    const refreshStateBtn = $(\'#refresh-state-btn\');\n    const downloadStateBtn = $(\'#download-state-btn\');\n    const stateTreeContainer = $(\'#state-tree-container\');\n    // --- Event Injector Elements ---\n    const eventJsonInput = $(\'#event-json-input\');\n    const injectEventBtn = $(\'#inject-event-btn\');\n    const presetBtns = $(\'#event-presets-container\').find(\'.preset-btn\');\n    // --- Prompt Viewer Elements ---\n    const refreshPromptBtn = $(\'#refresh-prompt-btn\');\n    const promptDisplayContainer = $(\'#prompt-display-container\');\n    // --- Event Templates ---\n    const eventTemplates = {\n        itemChange: { "事件": "物品变化", "数据": { "获得": ["【物品名称】x1"], "提示": "你获得了【物品名称】x1。" } },\n        characterUpdate: { "事件": "角色更新", "数据": { "姓名": "角色名", "更新": { "等级": "新等级", "状态": { "体力": { "value": 100 } } } } },\n        unlockTestAchievement: { "事件": "新成就", "数据": { "id": "test_achievement_001", "名称": "测试成就", "描述": "这是一个通过调试面板解锁的测试成就。", "点数": 5 } },\n        newQuest: { "事件": "新任务接收", "数据": { "id": "q001", "名称": "灵田开垦", "描述": "开垦一块新的灵田以增加灵谷产量。", "进度": { "value": 0, "max": 3, "text": "0/3" } } },\n        questProgress: { "事件": "任务进度更新", "数据": { "id": "q001", "进度": { "value": 1, "max": 3, "text": "1/3" } } },\n        questCompletion: { "事件": "任务完成", "数据": { "id": "q001" } },\n        questFailure: { "事件": "任务失败", "数据": { "id": "q001" } },\n        systemUpdate: { "事件": "系统确认", "数据": { "名称": "技能面板", "技能": [{ "名称": "灵植术", "等级": 1, "熟练度": { "value": 50, "max": 100 } }] } },\n        shelterUpgrade: { "事件": "庇护所升级", "数据": { "等级": "茅草屋", "新增功能": ["躲避风雨"], "提示": "你搭建了一个简陋的茅草屋。" } },\n        weatherChange: { "事件": "天气变化", "数据": { "变为": "小雨", "效果": "灵气浓度微量提升", "提示": "天空下起了淅淅沥沥的小雨。" } },\n        signIn: { "事件": "签到", "数据": {} }\n    };\n    function applyFilters() {\n        const searchTerm = searchInput.val().toLowerCase();\n        const activeLevels = levelFilters.filter(\':checked\').map(function () {\n            return $(this).val();\n        }).get();\n        logContainer.find(\'.debug-log-entry\').each(function () {\n            const entry = $(this);\n            const level = entry.data(\'level\');\n            const text = entry.text().toLowerCase();\n            const levelMatch = activeLevels.includes(level);\n            const searchMatch = text.includes(searchTerm);\n            if (levelMatch && searchMatch) {\n                entry.show();\n            }\n            else {\n                entry.hide();\n            }\n        });\n    }\n    // Make the modal draggable and resizable\n    if (modalContent.draggable) {\n        modalContent.draggable({\n            handle: ".modal-title",\n            containment: "window",\n            scroll: false,\n        });\n    }\n    if (modalContent.resizable) {\n        modalContent.resizable({\n            handles: "n, e, s, w, ne, se, sw, nw",\n            minHeight: 400,\n            minWidth: 500,\n        });\n    }\n    // --- Event Listeners ---\n    $(\'#debug-settings-btn\').on(\'click\', () => {\n        modal.removeClass(\'hidden\');\n    });\n    // --- Tab Logic ---\n    tabs.on(\'click\', function () {\n        const tabName = $(this).data(\'tab\');\n        tabs.removeClass(\'active\');\n        $(this).addClass(\'active\');\n        tabContents.addClass(\'hidden\');\n        $(`#debug-${tabName}-tab`).removeClass(\'hidden\');\n        // Auto-refresh content when tab is clicked for the first time\n        if (tabName === \'state\' && stateTreeContainer.is(\':empty\')) {\n            refreshStateBtn.trigger(\'click\');\n        }\n        else if (tabName === \'prompt\' && promptDisplayContainer.is(\':empty\')) {\n            refreshPromptBtn.trigger(\'click\');\n        }\n    });\n    // --- State Monitor Logic ---\n    refreshStateBtn.on(\'click\', () => {\n        (0,_core_logger__WEBPACK_IMPORTED_MODULE_1__.logger)(\'log\', \'DebugModal\', \'Refresh state button clicked.\');\n        try {\n            const chatVars = getVariables({ type: \'chat\' });\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_1__.logger)(\'info\', \'DebugModal\', \'Successfully fetched chat variables:\', chatVars);\n            if (!chatVars || typeof chatVars !== \'object\') {\n                throw new Error(\'Fetched variables are null, undefined, or not an object.\');\n            }\n            const structuredHtml = renderStructuredState(chatVars);\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_1__.logger)(\'log\', \'DebugModal\', \'State rendered to HTML successfully.\');\n            stateTreeContainer.html(structuredHtml);\n        }\n        catch (error) {\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_1__.logger)(\'error\', \'DebugModal\', \'Error getting or rendering state:\', error);\n            stateTreeContainer.html(\'<p class="text-red-500">无法获取或解析变量。请检查开发者控制台（F12）中的调试日志获取详细信息。</p>\');\n            console.error("Error getting or rendering state:", error);\n        }\n    });\n    downloadStateBtn.on(\'click\', () => {\n        (0,_core_logger__WEBPACK_IMPORTED_MODULE_1__.logger)(\'log\', \'DebugModal\', \'Download state button clicked.\');\n        try {\n            const chatVars = getVariables({ type: \'chat\' });\n            if (!chatVars || typeof chatVars !== \'object\') {\n                throw new Error(\'Fetched variables are null, undefined, or not an object.\');\n            }\n            const jsonString = JSON.stringify(chatVars, null, 2);\n            const blob = new Blob([jsonString], { type: \'application/json;charset=utf-8\' });\n            const url = URL.createObjectURL(blob);\n            const a = document.createElement(\'a\');\n            a.href = url;\n            a.download = `xuanhuan-variables-${new Date().toISOString()}.json`;\n            document.body.appendChild(a);\n            a.click();\n            document.body.removeChild(a);\n            URL.revokeObjectURL(url);\n            toastr.success(\'变量已成功导出为JSON文件。\');\n        }\n        catch (error) {\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_1__.logger)(\'error\', \'DebugModal\', \'Error downloading state:\', error);\n            toastr.error(\'下载变量失败，请检查控制台日志。\');\n            console.error("Error downloading state:", error);\n        }\n    });\n    // --- Prompt Viewer Logic ---\n    refreshPromptBtn.on(\'click\', () => {\n        (0,_core_logger__WEBPACK_IMPORTED_MODULE_1__.logger)(\'log\', \'DebugModal\', \'Refresh prompt button clicked.\');\n        const estimateTokens = (text) => Math.ceil(text.length / 4);\n        try {\n            const lastPrompt = promptManager.getLastGeneratedSystemPrompt();\n            const systemInstructionsMatch = lastPrompt.match(/<SystemInstructions>([\\s\\S]*?)<\\/SystemInstructions>/);\n            const variablesMatch = lastPrompt.match(/<Variables>([\\s\\S]*?)<\\/Variables>/);\n            if (!systemInstructionsMatch || !variablesMatch) {\n                const escapedPrompt = lodash__WEBPACK_IMPORTED_MODULE_0___default().escape(lastPrompt);\n                const totalTokens = estimateTokens(lastPrompt);\n                promptDisplayContainer.html(`\n                <div class="text-right text-xs text-secondary mb-2">总Token估算: ~${totalTokens}</div>\n                <pre><code>${escapedPrompt}</code></pre>\n            `);\n                toastr.warning(\'无法解析提示词结构，显示原始内容。\');\n                return;\n            }\n            const systemInstructions = systemInstructionsMatch[1].trim();\n            let variablesContent = variablesMatch[1].trim();\n            const summaryRegex = /"世界状态摘要":\\s*(\\[[\\s\\S]*?\\]),?\\s*\\n?/;\n            const summaryMatch = variablesContent.match(summaryRegex);\n            let summaryContent = \'<p class="text-secondary italic">无事件摘要。</p>\';\n            let summaryTextForToken = \'\';\n            if (summaryMatch) {\n                try {\n                    const summaryArray = JSON.parse(summaryMatch[1]);\n                    summaryTextForToken = summaryArray.join(\'\\n\');\n                    if (summaryArray.length > 0) {\n                        summaryContent = `<ul class="list-disc list-inside text-primary">${summaryArray.map((item) => `<li>${lodash__WEBPACK_IMPORTED_MODULE_0___default().escape(item)}</li>`).join(\'\')}</ul>`;\n                    }\n                    variablesContent = variablesContent.replace(summaryRegex, \'\');\n                }\n                catch (e) {\n                    summaryContent = `<p class="text-red-500">摘要JSON解析失败:</p><pre><code>${lodash__WEBPACK_IMPORTED_MODULE_0___default().escape(summaryMatch[1])}</code></pre>`;\n                }\n            }\n            const totalTokens = estimateTokens(lastPrompt);\n            const instructionsTokens = estimateTokens(systemInstructions);\n            const summaryTokens = estimateTokens(summaryTextForToken);\n            const variablesTokens = estimateTokens(variablesContent);\n            const finalHtml = `\n            <div class="text-right text-xs text-secondary mb-2 font-bold">总Token估算: ~${totalTokens}</div>\n            <details class="prompt-section mb-2 border border-dim rounded" open>\n                <summary class="prompt-summary p-2 bg-secondary/30 cursor-pointer font-semibold flex justify-between">\n                    <span>系统指令 (SystemInstructions)</span>\n                    <span class="text-accent">~${instructionsTokens} tokens</span>\n                </summary>\n                <div class="prompt-content p-2 border-t border-dim">\n                    <pre><code>${lodash__WEBPACK_IMPORTED_MODULE_0___default().escape(systemInstructions)}</code></pre>\n                </div>\n            </details>\n            <details class="prompt-section mb-2 border border-dim rounded" open>\n                <summary class="prompt-summary p-2 bg-secondary/30 cursor-pointer font-semibold flex justify-between">\n                    <span>世界状态摘要 (事件)</span>\n                    <span class="text-accent">~${summaryTokens} tokens</span>\n                </summary>\n                <div class="prompt-content p-2 border-t border-dim">\n                    ${summaryContent}\n                </div>\n            </details>\n            <details class="prompt-section border border-dim rounded" open>\n                <summary class="prompt-summary p-2 bg-secondary/30 cursor-pointer font-semibold flex justify-between">\n                    <span>核心变量 (Variables)</span>\n                    <span class="text-accent">~${variablesTokens} tokens</span>\n                </summary>\n                <div class="prompt-content p-2 border-t border-dim">\n                    <pre><code>${lodash__WEBPACK_IMPORTED_MODULE_0___default().escape(variablesContent)}</code></pre>\n                </div>\n            </details>\n        `;\n            promptDisplayContainer.html(finalHtml);\n            toastr.success(\'最新的系统提示词已加载并格式化。\');\n        }\n        catch (error) {\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_1__.logger)(\'error\', \'DebugModal\', \'Error getting or parsing last generated prompt:\', error);\n            promptDisplayContainer.html(\'<p class="text-red-500">无法获取或解析提示词。</p>\');\n            console.error("Error getting or parsing last generated prompt:", error);\n        }\n    });\n    // --- Event Injector Logic ---\n    presetBtns.on(\'click\', function () {\n        const presetName = $(this).data(\'preset\');\n        if (presetName && eventTemplates[presetName]) {\n            const template = JSON.stringify(eventTemplates[presetName], null, 2);\n            eventJsonInput.val(template);\n        }\n    });\n    injectEventBtn.on(\'click\', () => {\n        const jsonText = eventJsonInput.val().trim();\n        if (!jsonText) {\n            toastr.warning(\'JSON输入不能为空。\');\n            return;\n        }\n        try {\n            const eventObject = JSON.parse(jsonText);\n            // 允许用户输入单个事件对象或完整的statusbarData结构\n            let statusbarData;\n            if (Array.isArray(eventObject[\'事件列表\'])) {\n                statusbarData = eventObject;\n            }\n            else if (eventObject[\'事件\'] && eventObject[\'数据\']) {\n                statusbarData = { "事件列表": [eventObject] };\n            }\n            else {\n                toastr.error(\'JSON格式无效。请输入单个事件对象或完整的事件列表结构。\');\n                return;\n            }\n            // Log the injection action itself\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_1__.logger)(\'info\', \'DebugModal\', \'Injecting event(s):\', statusbarData);\n            // Generate a unique ID for this injected event for tracking purposes.\n            const injectedMessageId = `injected-event-${Date.now()}`;\n            (0,_core_variables__WEBPACK_IMPORTED_MODULE_2__.syncVariables)(statusbarData, injectedMessageId, eventManager);\n            toastr.success(\'事件已成功注入处理队列。\');\n            // Automatically refresh the side panels to reflect the changes\n            storyRenderer.renderSidePanels(null);\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_1__.logger)(\'info\', \'DebugModal\', \'Side panels automatically refreshed after event injection.\');\n        }\n        catch (error) {\n            toastr.error(\'注入失败：JSON格式无效或处理时发生错误。\');\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_1__.logger)(\'error\', \'DebugModal\', \'Error parsing or injecting event:\', error);\n            console.error("Error parsing or injecting event:", error);\n        }\n    });\n    searchInput.on(\'input\', applyFilters);\n    levelFilters.on(\'change\', applyFilters);\n    logContainer.on(\'click\', \'.log-expand-btn\', function (e) {\n        e.preventDefault();\n        const entry = $(this).closest(\'.debug-log-entry\');\n        entry.find(\'.log-message-short\').hide();\n        entry.find(\'.log-expand-btn\').hide();\n        entry.find(\'.log-message-full\').show();\n    });\n    clearBtn.on(\'click\', () => {\n        logContainer.empty();\n        (0,_core_logger__WEBPACK_IMPORTED_MODULE_1__.clearLogs)();\n    });\n    downloadBtn.on(\'click\', () => {\n        const logText = (0,_core_logger__WEBPACK_IMPORTED_MODULE_1__.getLogsAsText)();\n        const blob = new Blob([logText], { type: \'text/plain;charset=utf-8\' });\n        const url = URL.createObjectURL(blob);\n        const a = document.createElement(\'a\');\n        a.href = url;\n        a.download = `xuanhuan-debug-log-${new Date().toISOString()}.txt`;\n        document.body.appendChild(a);\n        a.click();\n        document.body.removeChild(a);\n        URL.revokeObjectURL(url);\n    });\n    closeBtn.on(\'click\', () => {\n        modal.addClass(\'hidden\');\n    });\n    // --- Logic for Debug Mode ---\n    const isDebugMode = localStorage.getItem(\'xuanhuan.debugMode\') === \'true\';\n    debugModeToggle.prop(\'checked\', isDebugMode);\n    debugModeToggle.on(\'change\', () => {\n        const isChecked = debugModeToggle.is(\':checked\');\n        localStorage.setItem(\'xuanhuan.debugMode\', isChecked.toString());\n        (0,_core_logger__WEBPACK_IMPORTED_MODULE_1__.refreshLoggerStatus)(); // Immediately update the logger\'s status\n        toastr.info(`调试模式已${isChecked ? \'开启\' : \'关闭\'}。`);\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvdWkvbW9kYWxzL2RlYnVnLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEscUJBQXFCO0FBRUU7QUFDbUU7QUFHckM7QUFRckQ7Ozs7O0dBS0c7QUFDSCxTQUFTLG1CQUFtQixDQUFDLElBQVMsRUFBRSxPQUFlO0lBQ25ELE1BQU0sVUFBVSxHQUFHLG9EQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFckMsSUFBSSxzREFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMscURBQVMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO1FBQ3ZDLE1BQU0sT0FBTyxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDckMsSUFBSSxPQUFPLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRSxDQUFDO1lBQ3ZCLE9BQU8sMERBQTBELFVBQVUsdURBQXVELENBQUM7UUFDdkksQ0FBQztRQUNELE1BQU0sT0FBTyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsRUFBRSxFQUFFLENBQUMsbUJBQW1CLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hGLE9BQU87OztpREFHa0MsVUFBVTs7OztzQkFJckMsT0FBTzs7O1NBR3BCLENBQUM7SUFDTixDQUFDO1NBQU0sSUFBSSxxREFBUyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7UUFDekIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRSxDQUFDO1lBQ3BCLE9BQU8sMERBQTBELFVBQVUsdURBQXVELENBQUM7UUFDdkksQ0FBQztRQUNELE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUUsQ0FBQyxtQkFBbUIsQ0FB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QUFJLENBQUMsU0FBUyxFQUFFLFdBQVcsQ0FBQyxDQUFDO0lBRTdDLGVBQWUsQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLEdBQUcsRUFBRTtRQUNoQyxNQUFNLFNBQVMsR0FBRyxlQUFlLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ2pELFlBQVksQ0FBQyxPQUFPLENBQUMsb0JBQW9CLEVBQUUsU0FBUyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7UUFDakUsaUVBQW1CLEVBQUUsQ0FBQyxDQUFDLHlDQUF5QztRQUNoRSxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUM7SUFDbEQsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS8uL3NyYy/ku4DkuYjmiJHopoHlnKjnjoTlubvkv67ku5nkuJbnlYznp43nlLAtMOalvOeJiOacrC91aS9tb2RhbHMvZGVidWcudHM/Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHVpL21vZGFscy9kZWJ1Zy50c1xuXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgbG9nZ2VyLCByZWZyZXNoTG9nZ2VyU3RhdHVzLCBjbGVhckxvZ3MsIGdldExvZ3NBc1RleHQgfSBmcm9tICcuLi8uLi9jb3JlL2xvZ2dlcic7XG5pbXBvcnQgeyBQb2tlZGV4TWFuYWdlciB9IGZyb20gJy4uLy4uL2NvcmUvcG9rZWRleCc7XG5pbXBvcnQgeyBTdG9yeVJlbmRlcmVyIH0gZnJvbSAnLi4vLi4vY29yZS9yZW5kZXJlcic7XG5pbXBvcnQgeyBzeW5jVmFyaWFibGVzIH0gZnJvbSAnLi4vLi4vY29yZS92YXJpYWJsZXMnO1xuaW1wb3J0IHsgRXZlbnRNYW5hZ2VyIH0gZnJvbSAnLi4vLi4vY29yZS9ldmVudE1hbmFnZXInO1xuaW1wb3J0IHsgUHJvbXB0TWFuYWdlciB9IGZyb20gJy4uLy4uL2NvcmUvcHJvbXB0TWFuYWdlcic7XG5cbmRlY2xhcmUgY29uc3QgJDogYW55O1xuZGVjbGFyZSBjb25zdCBnZXRWYXJpYWJsZXM6IChvcHRpb25zPzogYW55KSA9PiBhbnk7XG5kZWNsYXJlIGNvbnN0IHRvYXN0cjogYW55O1xuXG4vKipcbiAqIFJlY3Vyc2l2ZWx5IGNyZWF0ZXMgYSBmb2xkYWJsZSBIVE1MIHZpZXcgZm9yIGEgZ2l2ZW4gdmFsdWUgKG9iamVjdCwgYXJyYXksIG9yIHByaW1pdGl2ZSkuXG4gKiBAcGFyYW0gZGF0YSAtIFRoZSBkYXRhIHRvIHJlbmRlci5cbiAqIEBwYXJhbSBrZXlOYW1lIC0gVGhlIGtleS9uYW1lIGZvciB0aGlzIGRhdGEgbGV2ZWwuXG4gKiBAcmV0dXJucyBBbiBIVE1MIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyVmFyaWFibGVFbnRyeShkYXRhOiBhbnksIGtleU5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgZXNjYXBlZEtleSA9IF8uZXNjYXBlKGtleU5hbWUpO1xuXG4gICAgaWYgKF8uaXNPYmplY3QoZGF0YSkgJiYgIV8uaXNBcnJheShkYXRhKSkge1xuICAgICAgICBjb25zdCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoZGF0YSk7XG4gICAgICAgIGlmIChlbnRyaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwidmFyaWFibGUtZW50cnlcIj48c3BhbiBjbGFzcz1cInZhcmlhYmxlLWtleVwiPiR7ZXNjYXBlZEtleX06PC9zcGFuPiA8c3BhbiBjbGFzcz1cInZhcmlhYmxlLXZhbHVlXCI+e308L3NwYW4+PC9kaXY+YDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb250ZW50ID0gZW50cmllcy5tYXAoKFtrZXksIHZhbHVlXSkgPT4gcmVuZGVyVmFyaWFibGVFbnRyeSh2YWx1ZSwga2V5KSkuam9pbignJyk7XG4gICAgICAgIHJldHVybiBgXG4gICAgICAgICAgICA8ZGV0YWlscyBjbGFzcz1cInZhcmlhYmxlLWRldGFpbHNcIiBvcGVuPlxuICAgICAgICAgICAgICAgIDxzdW1tYXJ5IGNsYXNzPVwidmFyaWFibGUtc3VtbWFyeVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInZhcmlhYmxlLWtleVwiPiR7ZXNjYXBlZEtleX06PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInZhcmlhYmxlLXByZXZpZXdcIj57Li4ufTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L3N1bW1hcnk+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInZhcmlhYmxlLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgJHtjb250ZW50fVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kZXRhaWxzPlxuICAgICAgICBgO1xuICAgIH0gZWxzZSBpZiAoXy5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgIGlmIChkYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwidmFyaWFibGUtZW50cnlcIj48c3BhbiBjbGFzcz1cInZhcmlhYmxlLWtleVwiPiR7ZXNjYXBlZEtleX06PC9zcGFuPiA8c3BhbiBjbGFzcz1cInZhcmlhYmxlLXZhbHVlXCI+W108L3NwYW4+PC9kaXY+YDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb250ZW50ID0gZGF0YS5tYXAoKGl0ZW0sIGluZGV4KSA9PiByZW5kZXJWYXJpYWJsZUVudHJ5KGl0ZW0sIGBbJHtpbmRleH1dYCkpLmpvaW4oJycpO1xuICAgICAgICByZXR1cm4gYFxuICAgICAgICAgICAgPGRldGFpbHMgY2xhc3M9XCJ2YXJpYWJsZS1kZXRhaWxzXCIgb3Blbj5cbiAgICAgICAgICAgICAgICA8c3VtbWFyeSBjbGFzcz1cInZhcmlhYmxlLXN1bW1hcnlcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ2YXJpYWJsZS1rZXlcIj4ke2VzY2FwZWRLZXl9Ojwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ2YXJpYWJsZS1wcmV2aWV3XCI+Wy4uLiAke2RhdGEubGVuZ3RofSBpdGVtc108L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9zdW1tYXJ5PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ2YXJpYWJsZS1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgICAgICR7Y29udGVudH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGV0YWlscz5cbiAgICAgICAgYDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgZGlzcGxheVZhbHVlID0gZGF0YTtcbiAgICAgICAgaWYgKF8uaXNTdHJpbmcoZGF0YSkpIHtcbiAgICAgICAgICAgIGRpc3BsYXlWYWx1ZSA9IGBcIiR7Xy5lc2NhcGUoZGF0YSl9XCJgO1xuICAgICAgICB9IGVsc2UgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGRpc3BsYXlWYWx1ZSA9ICdudWxsJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRpc3BsYXlWYWx1ZSA9IF8uZXNjYXBlKFN0cmluZyhkYXRhKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwidmFyaWFibGUtZW50cnlcIj48c3BhbiBjbGFzcz1cInZhcmlhYmxlLWtleVwiPiR7ZXNjYXBlZEtleX06PC9zcGFuPiA8c3BhbiBjbGFzcz1cInZhcmlhYmxlLXZhbHVlIGpzb24tJHt0eXBlb2YgZGF0YX1cIj4ke2Rpc3BsYXlWYWx1ZX08L3NwYW4+PC9kaXY+YDtcbiAgICB9XG59XG5cbi8qKlxuICogUmVuZGVycyBhIHN0cnVjdHVyZWQsIGh1bWFuLXJlYWRhYmxlLCBhbmQgZnVsbHkgY29sbGFwc2libGUgdmlldyBvZiB0aGUgZ2FtZSBzdGF0ZS5cbiAqIFRoaXMgbmV3IHZlcnNpb24gaXRlcmF0ZXMgdGhyb3VnaCBhbGwgdmFyaWFibGVzIGFuZCBtYWtlcyB0aGVtIGNvbGxhcHNpYmxlLlxuICogQHBhcmFtIHZhcmlhYmxlcyAtIFRoZSBjaGF0IHZhcmlhYmxlcyBvYmplY3QuXG4gKiBAcmV0dXJucyBBbiBIVE1MIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHN0cnVjdHVyZWQgc3RhdGUuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlclN0cnVjdHVyZWRTdGF0ZSh2YXJpYWJsZXM6IGFueSk6IHN0cmluZyB7XG4gICAgaWYgKCF2YXJpYWJsZXMgfHwgIV8uaXNPYmplY3QodmFyaWFibGVzKSB8fCBfLmlzRW1wdHkodmFyaWFibGVzKSkge1xuICAgICAgICByZXR1cm4gJzxwIGNsYXNzPVwidGV4dC1zZWNvbmRhcnkgaXRhbGljXCI+6IGK5aSp5Y+Y6YeP5Li656m65oiW5peg5pWI44CCPC9wPic7XG4gICAgfVxuXG4gICAgLy8gV2Ugd2FudCB0byByZW5kZXIgdG9wLWxldmVsIGtleXMgbGlrZSAn6KeS6ImyJyBhbmQgJ+S4lueVjCcgYXMgZGlzdGluY3QsIGNvbGxhcHNpYmxlIHNlY3Rpb25zLlxuICAgIHJldHVybiBPYmplY3QuZW50cmllcyh2YXJpYWJsZXMpLm1hcCgoW3RvcEtleSwgdG9wVmFsdWVdKSA9PiB7XG4gICAgICAgIGlmICh0b3BWYWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgdG9wVmFsdWUgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgY2FzZXMgd2hlcmUgYSB0b3AtbGV2ZWwgdmFyaWFibGUgaXMgbm90IGFuIG9iamVjdCAoc2hvdWxkIGJlIHJhcmUpXG4gICAgICAgICAgICByZXR1cm4gcmVuZGVyVmFyaWFibGVFbnRyeSh0b3BWYWx1ZSwgdG9wS2V5KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgY29udGVudCA9IE9iamVjdC5lbnRyaWVzKHRvcFZhbHVlKS5tYXAoKFtrZXksIHZhbHVlXSkgPT4gcmVuZGVyVmFyaWFibGVFbnRyeSh2YWx1ZSwga2V5KSkuam9pbignJyk7XG5cbiAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0ZS1uYW1lc3BhY2UtY2FyZFwiPlxuICAgICAgICAgICAgICAgIDxkZXRhaWxzIG9wZW4+XG4gICAgICAgICAgICAgICAgICAgIDxzdW1tYXJ5PjxoMj4ke18uZXNjYXBlKHRvcEtleSl9PC9oMj48L3N1bW1hcnk+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJuYW1lc3BhY2UtY29udGVudFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgJHtjb250ZW50fVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2RldGFpbHM+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICB9KS5qb2luKCcnKTtcbn1cblxuXG4vKipcbiAqIEluaXRpYWxpemVzIHRoZSBkZWJ1ZyBtb2RhbCwgaXRzIGV2ZW50IGxpc3RlbmVycywgYW5kIHJlbGF0ZWQgbG9naWMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0RGVidWdNb2RhbChwb2tlZGV4TWFuYWdlcjogUG9rZWRleE1hbmFnZXIsIHN0b3J5UmVuZGVyZXI6IFN0b3J5UmVuZGVyZXIsIGV2ZW50TWFuYWdlcjogRXZlbnRNYW5hZ2VyLCBwcm9tcHRNYW5hZ2VyOiBQcm9tcHRNYW5hZ2VyKSB7XG4gIGNvbnN0IG1vZGFsID0gJCgnI2RlYnVnLW1vZGFsJyk7XG4gIGNvbnN0IG1vZGFsQ29udGVudCA9IG1vZGFsLmZpbmQoJy5tb2RhbC1jb250ZW50Jyk7XG4gIGNvbnN0IGNsb3NlQnRuID0gJCgnI2RlYnVnLW1vZGFsLWNsb3NlLWJ0bicpO1xuICBjb25zdCBkZWJ1Z01vZGVUb2dnbGUgPSAkKCcjZGVidWctbW9kZS10b2dnbGUnKTtcblxuICAvLyAtLS0gTG9nIFZpZXdlciBFbGVtZW50cyAtLS1cbiAgY29uc3Qgc2VhcmNoSW5wdXQgPSAkKCcjZGVidWctc2VhcmNoLWlucHV0Jyk7XG4gIGNvbnN0IGxldmVsRmlsdGVycyA9ICQoJy5kZWJ1Zy1sZXZlbC1maWx0ZXInKTtcbiAgY29uc3QgbG9nQ29udGFpbmVyID0gJCgnI2RlYnVnLWxvZy1jb250YWluZXInKTtcbiAgY29uc3QgY2xlYXJCdG4gPSAkKCcjZGVidWctY2xlYXItYnRuJyk7XG4gIGNvbnN0IGRvd25sb2FkQnRuID0gJCgnI2RlYnVnLWRvd25sb2FkLWJ0bicpO1xuXG4gIC8vIC0tLSBUYWIgRWxlbWVudHMgLS0tXG4gIGNvbnN0IHRhYnMgPSBtb2RhbC5maW5kKCcuZGVidWctdGFiLWJ0bicpO1xuICBjb25zdCB0YWJDb250ZW50cyA9IG1vZGFsLmZpbmQoJy5kZWJ1Zy10YWItY29udGVudCcpO1xuXG4gIC8vIC0tLSBTdGF0ZSBNb25pdG9yIEVsZW1lbnRzIC0tLVxuICBjb25zdCByZWZyZXNoU3RhdGVCdG4gPSAkKCcjcmVmcmVzaC1zdGF0ZS1idG4nKTtcbiAgY29uc3QgZG93bmxvYWRTdGF0ZUJ0biA9ICQoJyNkb3dubG9hZC1zdGF0ZS1idG4nKTtcbiAgY29uc3Qgc3RhdGVUcmVlQ29udGFpbmVyID0gJCgnI3N0YXRlLXRyZWUtY29udGFpbmVyJyk7XG5cbiAgLy8gLS0tIEV2ZW50IEluamVjdG9yIEVsZW1lbnRzIC0tLVxuICBjb25zdCBldmVudEpzb25JbnB1dCA9ICQoJyNldmVudC1qc29uLWlucHV0Jyk7XG4gIGNvbnN0IGluamVjdEV2ZW50QnRuID0gJCgnI2luamVjdC1ldmVudC1idG4nKTtcbiAgY29uc3QgcHJlc2V0QnRucyA9ICQoJyNldmVudC1wcmVzZXRzLWNvbnRhaW5lcicpLmZpbmQoJy5wcmVzZXQtYnRuJyk7XG5cbiAgLy8gLS0tIFByb21wdCBWaWV3ZXIgRWxlbWVudHMgLS0tXG4gIGNvbnN0IHJlZnJlc2hQcm9tcHRCdG4gPSAkKCcjcmVmcmVzaC1wcm9tcHQtYnRuJyk7XG4gIGNvbnN0IHByb21wdERpc3BsYXlDb250YWluZXIgPSAkKCcjcHJvbXB0LWRpc3BsYXktY29udGFpbmVyJyk7XG5cbiAgLy8gLS0tIEV2ZW50IFRlbXBsYXRlcyAtLS1cbiAgY29uc3QgZXZlbnRUZW1wbGF0ZXM6IHsgW2tleTogc3RyaW5nXTogb2JqZWN0IH0gPSB7XG4gICAgaXRlbUNoYW5nZTogeyBcIuS6i+S7tlwiOiBcIueJqeWTgeWPmOWMllwiLCBcIuaVsOaNrlwiOiB7IFwi6I635b6XXCI6IFtcIuOAkOeJqeWTgeWQjeensOOAkXgxXCJdLCBcIuaPkOekulwiOiBcIuS9oOiOt+W+l+S6huOAkOeJqeWTgeWQjeensOOAkXgx44CCXCIgfSB9LFxuICAgIGNoYXJhY3RlclVwZGF0ZTogeyBcIuS6i+S7tlwiOiBcIuinkuiJsuabtOaWsFwiLCBcIuaVsOaNrlwiOiB7IFwi5aeT5ZCNXCI6IFwi6KeS6Imy5ZCNXCIsIFwi5pu05pawXCI6IHsgXCLnrYnnuqdcIjogXCLmlrDnrYnnuqdcIiwgXCLnirbmgIFcIjogeyBcIuS9k+WKm1wiOiB7IFwidmFsdWVcIjogMTAwIH0gfSB9IH0gfSxcbiAgICB1bmxvY2tUZXN0QWNoaWV2ZW1lbnQ6IHsgXCLkuovku7ZcIjogXCLmlrDmiJDlsLFcIiwgXCLmlbDmja5cIjogeyBcImlkXCI6IFwidGVzdF9hY2hpZXZlbWVudF8wMDFcIiwgXCLlkI3np7BcIjogXCLmtYvor5XmiJDlsLFcIiwgXCLmj4/ov7BcIjogXCLov5nmmK/kuIDkuKrpgJrov4fosIPor5XpnaLmnb/op6PplIHnmoTmtYvor5XmiJDlsLHjgIJcIiwgXCLngrnmlbBcIjogNSB9IH0sXG4gICAgbmV3UXVlc3Q6IHsgXCLkuovku7ZcIjogXCLmlrDku7vliqHmjqXmlLZcIiwgXCLmlbDmja5cIjogeyBcImlkXCI6IFwicTAwMVwiLCBcIuWQjeensFwiOiBcIueBteeUsOW8gOWeplwiLCBcIuaPj+i/sFwiOiBcIuW8gOWepuS4gOWdl+aWsOeahOeBteeUsOS7peWinuWKoOeBteiwt+S6p+mHj+OAglwiLCBcIui/m+W6plwiOiB7IFwidmFsdWVcIjogMCwgXCJtYXhcIjogMywgXCJ0ZXh0XCI6IFwiMC8zXCIgfSB9IH0sXG4gICAgcXVlc3RQcm9ncmVzczogeyBcIuS6i+S7tlwiOiBcIuS7u+WKoei/m+W6puabtOaWsFwiLCBcIuaVsOaNrlwiOiB7IFwiaWRcIjogXCJxMDAxXCIsIFwi6L+b5bqmXCI6IHsgXCJ2YWx1ZVwiOiAxLCBcIm1heFwiOiAzLCBcInRleHRcIjogXCIxLzNcIiB9IH0gfSxcbiAgICBxdWVzdENvbXBsZXRpb246IHsgXCLkuovku7ZcIjogXCLku7vliqHlrozmiJBcIiwgXCLmlbDmja5cIjogeyBcImlkXCI6IFwicTAwMVwiIH0gfSxcbiAgICBxdWVzdEZhaWx1cmU6IHsgXCLkuovku7ZcIjogXCLku7vliqHlpLHotKVcIiwgXCLmlbDmja5cIjogeyBcImlkXCI6IFwicTAwMVwiIH0gfSxcbiAgICBzeXN0ZW1VcGRhdGU6IHsgXCLkuovku7ZcIjogXCLns7vnu5/noa7orqRcIiwgXCLmlbDmja5cIjogeyBcIuWQjeensFwiOiBcIuaKgOiDvemdouadv1wiLCBcIuaKgOiDvVwiOiBbIHsgXCLlkI3np7BcIjogXCLngbXmpI3mnK9cIiwgXCLnrYnnuqdcIjogMSwgXCLnhp/nu4PluqZcIjogeyBcInZhbHVlXCI6IDUwLCBcIm1heFwiOiAxMDAgfSB9IF0gfSB9LFxuICAgIHNoZWx0ZXJVcGdyYWRlOiB7IFwi5LqL5Lu2XCI6IFwi5bqH5oqk5omA5Y2H57qnXCIsIFwi5pWw5o2uXCI6IHsgXCLnrYnnuqdcIjogXCLojIXojYnlsYtcIiwgXCLmlrDlop7lip/og71cIjogW1wi6Lqy6YG/6aOO6ZuoXCJdLCBcIuaPkOekulwiOiBcIuS9oOaQreW7uuS6huS4gOS4queugOmZi+eahOiMheiNieWxi+OAglwiIH0gfSxcbiAgICB3ZWF0aGVyQ2hhbmdlOiB7IFwi5LqL5Lu2XCI6IFwi5aSp5rCU5Y+Y5YyWXCIsIFwi5pWw5o2uXCI6IHsgXCLlj5jkuLpcIjogXCLlsI/pm6hcIiwgXCLmlYjmnpxcIjogXCLngbXmsJTmtZPluqblvq7ph4/mj5DljYdcIiwgXCLmj5DnpLpcIjogXCLlpKnnqbrkuIvotbfkuobmt4Xmt4XmsqXmsqXnmoTlsI/pm6jjgIJcIiB9IH0sXG4gICAgc2lnbkluOiB7IFwi5LqL5Lu2XCI6IFwi562+5YiwXCIsIFwi5pWw5o2uXCI6IHt9IH1cbiAgfTtcblxuXG4gIGZ1bmN0aW9uIGFwcGx5RmlsdGVycygpIHtcbiAgICBjb25zdCBzZWFyY2hUZXJtID0gKHNlYXJjaElucHV0LnZhbCgpIGFzIHN0cmluZykudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBhY3RpdmVMZXZlbHMgPSBsZXZlbEZpbHRlcnMuZmlsdGVyKCc6Y2hlY2tlZCcpLm1hcChmdW5jdGlvbih0aGlzOiBIVE1MRWxlbWVudCkge1xuICAgICAgcmV0dXJuICQodGhpcykudmFsKCk7XG4gICAgfSkuZ2V0KCk7XG5cbiAgICBsb2dDb250YWluZXIuZmluZCgnLmRlYnVnLWxvZy1lbnRyeScpLmVhY2goZnVuY3Rpb24odGhpczogSFRNTEVsZW1lbnQpIHtcbiAgICAgIGNvbnN0IGVudHJ5ID0gJCh0aGlzKTtcbiAgICAgIGNvbnN0IGxldmVsID0gZW50cnkuZGF0YSgnbGV2ZWwnKTtcbiAgICAgIGNvbnN0IHRleHQgPSBlbnRyeS50ZXh0KCkudG9Mb3dlckNhc2UoKTtcblxuICAgICAgY29uc3QgbGV2ZWxNYXRjaCA9IGFjdGl2ZUxldmVscy5pbmNsdWRlcyhsZXZlbCk7XG4gICAgICBjb25zdCBzZWFyY2hNYXRjaCA9IHRleHQuaW5jbHVkZXMoc2VhcmNoVGVybSk7XG5cbiAgICAgIGlmIChsZXZlbE1hdGNoICYmIHNlYXJjaE1hdGNoKSB7XG4gICAgICAgIGVudHJ5LnNob3coKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVudHJ5LmhpZGUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIE1ha2UgdGhlIG1vZGFsIGRyYWdnYWJsZSBhbmQgcmVzaXphYmxlXG4gIGlmIChtb2RhbENvbnRlbnQuZHJhZ2dhYmxlKSB7XG4gICAgbW9kYWxDb250ZW50LmRyYWdnYWJsZSh7XG4gICAgICBoYW5kbGU6IFwiLm1vZGFsLXRpdGxlXCIsXG4gICAgICBjb250YWlubWVudDogXCJ3aW5kb3dcIixcbiAgICAgIHNjcm9sbDogZmFsc2UsXG4gICAgfSk7XG4gIH1cbiAgaWYgKG1vZGFsQ29udGVudC5yZXNpemFibGUpIHtcbiAgICBtb2RhbENvbnRlbnQucmVzaXphYmxlKHtcbiAgICAgIGhhbmRsZXM6IFwibiwgZSwgcywgdywgbmUsIHNlLCBzdywgbndcIixcbiAgICAgIG1pbkhlaWdodDogNDAwLFxuICAgICAgbWluV2lkdGg6IDUwMCxcbiAgICB9KTtcbiAgfVxuXG4gIC8vIC0tLSBFdmVudCBMaXN0ZW5lcnMgLS0tXG4gICQoJyNkZWJ1Zy1zZXR0aW5ncy1idG4nKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgbW9kYWwucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICB9KTtcblxuICAvLyAtLS0gVGFiIExvZ2ljIC0tLVxuICB0YWJzLm9uKCdjbGljaycsIGZ1bmN0aW9uKHRoaXM6IEhUTUxFbGVtZW50KSB7XG4gICAgY29uc3QgdGFiTmFtZSA9ICQodGhpcykuZGF0YSgndGFiJyk7XG4gICAgdGFicy5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgdGFiQ29udGVudHMuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICQoYCNkZWJ1Zy0ke3RhYk5hbWV9LXRhYmApLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcblxuICAgIC8vIEF1dG8tcmVmcmVzaCBjb250ZW50IHdoZW4gdGFiIGlzIGNsaWNrZWQgZm9yIHRoZSBmaXJzdCB0aW1lXG4gICAgaWYgKHRhYk5hbWUgPT09ICdzdGF0ZScgJiYgc3RhdGVUcmVlQ29udGFpbmVyLmlzKCc6ZW1wdHknKSkge1xuICAgICAgcmVmcmVzaFN0YXRlQnRuLnRyaWdnZXIoJ2NsaWNrJyk7XG4gICAgfSBlbHNlIGlmICh0YWJOYW1lID09PSAncHJvbXB0JyAmJiBwcm9tcHREaXNwbGF5Q29udGFpbmVyLmlzKCc6ZW1wdHknKSkge1xuICAgICAgcmVmcmVzaFByb21wdEJ0bi50cmlnZ2VyKCdjbGljaycpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gLS0tIFN0YXRlIE1vbml0b3IgTG9naWMgLS0tXG4gIHJlZnJlc2hTdGF0ZUJ0bi5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgbG9nZ2VyKCdsb2cnLCAnRGVidWdNb2RhbCcsICdSZWZyZXNoIHN0YXRlIGJ1dHRvbiBjbGlja2VkLicpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjaGF0VmFycyA9IGdldFZhcmlhYmxlcyh7IHR5cGU6ICdjaGF0JyB9KTtcbiAgICAgIGxvZ2dlcignaW5mbycsICdEZWJ1Z01vZGFsJywgJ1N1Y2Nlc3NmdWxseSBmZXRjaGVkIGNoYXQgdmFyaWFibGVzOicsIGNoYXRWYXJzKTtcblxuICAgICAgaWYgKCFjaGF0VmFycyB8fCB0eXBlb2YgY2hhdFZhcnMgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmV0Y2hlZCB2YXJpYWJsZXMgYXJlIG51bGwsIHVuZGVmaW5lZCwgb3Igbm90IGFuIG9iamVjdC4nKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc3RydWN0dXJlZEh0bWwgPSByZW5kZXJTdHJ1Y3R1cmVkU3RhdGUoY2hhdFZhcnMpO1xuICAgICAgbG9nZ2VyKCdsb2cnLCAnRGVidWdNb2RhbCcsICdTdGF0ZSByZW5kZXJlZCB0byBIVE1MIHN1Y2Nlc3NmdWxseS4nKTtcbiAgICAgIHN0YXRlVHJlZUNvbnRhaW5lci5odG1sKHN0cnVjdHVyZWRIdG1sKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyKCdlcnJvcicsICdEZWJ1Z01vZGFsJywgJ0Vycm9yIGdldHRpbmcgb3IgcmVuZGVyaW5nIHN0YXRlOicsIGVycm9yKTtcbiAgICAgIHN0YXRlVHJlZUNvbnRhaW5lci5odG1sKCc8cCBjbGFzcz1cInRleHQtcmVkLTUwMFwiPuaXoOazleiOt+WPluaIluino+aekOWPmOmHj+OAguivt+ajgOafpeW8gOWPkeiAheaOp+WItuWPsO+8iEYxMu+8ieS4reeahOiwg+ivleaXpeW/l+iOt+WPluivpue7huS/oeaBr+OAgjwvcD4nKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBnZXR0aW5nIG9yIHJlbmRlcmluZyBzdGF0ZTpcIiwgZXJyb3IpO1xuICAgIH1cbiAgfSk7XG5cbiAgZG93bmxvYWRTdGF0ZUJ0bi5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgbG9nZ2VyKCdsb2cnLCAnRGVidWdNb2RhbCcsICdEb3dubG9hZCBzdGF0ZSBidXR0b24gY2xpY2tlZC4nKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY2hhdFZhcnMgPSBnZXRWYXJpYWJsZXMoeyB0eXBlOiAnY2hhdCcgfSk7XG4gICAgICBpZiAoIWNoYXRWYXJzIHx8IHR5cGVvZiBjaGF0VmFycyAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGZXRjaGVkIHZhcmlhYmxlcyBhcmUgbnVsbCwgdW5kZWZpbmVkLCBvciBub3QgYW4gb2JqZWN0LicpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBqc29uU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoY2hhdFZhcnMsIG51bGwsIDIpO1xuICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtqc29uU3RyaW5nXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04JyB9KTtcbiAgICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgYS5ocmVmID0gdXJsO1xuICAgICAgYS5kb3dubG9hZCA9IGB4dWFuaHVhbi12YXJpYWJsZXMtJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9Lmpzb25gO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcbiAgICAgIGEuY2xpY2soKTtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYSk7XG4gICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gICAgICB0b2FzdHIuc3VjY2Vzcygn5Y+Y6YeP5bey5oiQ5Yqf5a+85Ye65Li6SlNPTuaWh+S7tuOAgicpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIoJ2Vycm9yJywgJ0RlYnVnTW9kYWwnLCAnRXJyb3IgZG93bmxvYWRpbmcgc3RhdGU6JywgZXJyb3IpO1xuICAgICAgdG9hc3RyLmVycm9yKCfkuIvovb3lj5jph4/lpLHotKXvvIzor7fmo4Dmn6XmjqfliLblj7Dml6Xlv5fjgIInKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkb3dubG9hZGluZyBzdGF0ZTpcIiwgZXJyb3IpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gLS0tIFByb21wdCBWaWV3ZXIgTG9naWMgLS0tXG4gIHJlZnJlc2hQcm9tcHRCdG4ub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgIGxvZ2dlcignbG9nJywgJ0RlYnVnTW9kYWwnLCAnUmVmcmVzaCBwcm9tcHQgYnV0dG9uIGNsaWNrZWQuJyk7XG4gICAgXG4gICAgY29uc3QgZXN0aW1hdGVUb2tlbnMgPSAodGV4dDogc3RyaW5nKSA9PiBNYXRoLmNlaWwodGV4dC5sZW5ndGggLyA0KTtcblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGxhc3RQcm9tcHQgPSBwcm9tcHRNYW5hZ2VyLmdldExhc3RHZW5lcmF0ZWRTeXN0ZW1Qcm9tcHQoKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHN5c3RlbUluc3RydWN0aW9uc01hdGNoID0gbGFzdFByb21wdC5tYXRjaCgvPFN5c3RlbUluc3RydWN0aW9ucz4oW1xcc1xcU10qPyk8XFwvU3lzdGVtSW5zdHJ1Y3Rpb25zPi8pO1xuICAgICAgICBjb25zdCB2YXJpYWJsZXNNYXRjaCA9IGxhc3RQcm9tcHQubWF0Y2goLzxWYXJpYWJsZXM+KFtcXHNcXFNdKj8pPFxcL1ZhcmlhYmxlcz4vKTtcblxuICAgICAgICBpZiAoIXN5c3RlbUluc3RydWN0aW9uc01hdGNoIHx8ICF2YXJpYWJsZXNNYXRjaCkge1xuICAgICAgICAgICAgY29uc3QgZXNjYXBlZFByb21wdCA9IF8uZXNjYXBlKGxhc3RQcm9tcHQpO1xuICAgICAgICAgICAgY29uc3QgdG90YWxUb2tlbnMgPSBlc3RpbWF0ZVRva2VucyhsYXN0UHJvbXB0KTtcbiAgICAgICAgICAgIHByb21wdERpc3BsYXlDb250YWluZXIuaHRtbChgXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtcmlnaHQgdGV4dC14cyB0ZXh0LXNlY29uZGFyeSBtYi0yXCI+5oC7VG9rZW7kvLDnrpc6IH4ke3RvdGFsVG9rZW5zfTwvZGl2PlxuICAgICAgICAgICAgICAgIDxwcmU+PGNvZGU+JHtlc2NhcGVkUHJvbXB0fTwvY29kZT48L3ByZT5cbiAgICAgICAgICAgIGApO1xuICAgICAgICAgICAgdG9hc3RyLndhcm5pbmcoJ+aXoOazleino+aekOaPkOekuuivjee7k+aehO+8jOaYvuekuuWOn+Wni+WGheWuueOAgicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3lzdGVtSW5zdHJ1Y3Rpb25zID0gc3lzdGVtSW5zdHJ1Y3Rpb25zTWF0Y2hbMV0udHJpbSgpO1xuICAgICAgICBsZXQgdmFyaWFibGVzQ29udGVudCA9IHZhcmlhYmxlc01hdGNoWzFdLnRyaW0oKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHN1bW1hcnlSZWdleCA9IC9cIuS4lueVjOeKtuaAgeaRmOimgVwiOlxccyooXFxbW1xcc1xcU10qP1xcXSksP1xccypcXG4/LztcbiAgICAgICAgY29uc3Qgc3VtbWFyeU1hdGNoID0gdmFyaWFibGVzQ29udGVudC5tYXRjaChzdW1tYXJ5UmVnZXgpO1xuICAgICAgICBsZXQgc3VtbWFyeUNvbnRlbnQgPSAnPHAgY2xhc3M9XCJ0ZXh0LXNlY29uZGFyeSBpdGFsaWNcIj7ml6Dkuovku7bmkZjopoHjgII8L3A+JztcbiAgICAgICAgbGV0IHN1bW1hcnlUZXh0Rm9yVG9rZW4gPSAnJztcbiAgICAgICAgXG4gICAgICAgIGlmIChzdW1tYXJ5TWF0Y2gpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3VtbWFyeUFycmF5ID0gSlNPTi5wYXJzZShzdW1tYXJ5TWF0Y2hbMV0pO1xuICAgICAgICAgICAgICAgIHN1bW1hcnlUZXh0Rm9yVG9rZW4gPSBzdW1tYXJ5QXJyYXkuam9pbignXFxuJyk7XG4gICAgICAgICAgICAgICAgaWYgKHN1bW1hcnlBcnJheS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1bW1hcnlDb250ZW50ID0gYDx1bCBjbGFzcz1cImxpc3QtZGlzYyBsaXN0LWluc2lkZSB0ZXh0LXByaW1hcnlcIj4ke3N1bW1hcnlBcnJheS5tYXAoKGl0ZW06IHN0cmluZykgPT4gYDxsaT4ke18uZXNjYXBlKGl0ZW0pfTwvbGk+YCkuam9pbignJyl9PC91bD5gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXJpYWJsZXNDb250ZW50ID0gdmFyaWFibGVzQ29udGVudC5yZXBsYWNlKHN1bW1hcnlSZWdleCwgJycpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHN1bW1hcnlDb250ZW50ID0gYDxwIGNsYXNzPVwidGV4dC1yZWQtNTAwXCI+5pGY6KaBSlNPTuino+aekOWksei0pTo8L3A+PHByZT48Y29kZT4ke18uZXNjYXBlKHN1bW1hcnlNYXRjaFsxXSl9PC9jb2RlPjwvcHJlPmA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0b3RhbFRva2VucyA9IGVzdGltYXRlVG9rZW5zKGxhc3RQcm9tcHQpO1xuICAgICAgICBjb25zdCBpbnN0cnVjdGlvbnNUb2tlbnMgPSBlc3RpbWF0ZVRva2VucyhzeXN0ZW1JbnN0cnVjdGlvbnMpO1xuICAgICAgICBjb25zdCBzdW1tYXJ5VG9rZW5zID0gZXN0aW1hdGVUb2tlbnMoc3VtbWFyeVRleHRGb3JUb2tlbik7XG4gICAgICAgIGNvbnN0IHZhcmlhYmxlc1Rva2VucyA9IGVzdGltYXRlVG9rZW5zKHZhcmlhYmxlc0NvbnRlbnQpO1xuXG4gICAgICAgIGNvbnN0IGZpbmFsSHRtbCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXJpZ2h0IHRleHQteHMgdGV4dC1zZWNvbmRhcnkgbWItMiBmb250LWJvbGRcIj7mgLtUb2tlbuS8sOeulzogfiR7dG90YWxUb2tlbnN9PC9kaXY+XG4gICAgICAgICAgICA8ZGV0YWlscyBjbGFzcz1cInByb21wdC1zZWN0aW9uIG1iLTIgYm9yZGVyIGJvcmRlci1kaW0gcm91bmRlZFwiIG9wZW4+XG4gICAgICAgICAgICAgICAgPHN1bW1hcnkgY2xhc3M9XCJwcm9tcHQtc3VtbWFyeSBwLTIgYmctc2Vjb25kYXJ5LzMwIGN1cnNvci1wb2ludGVyIGZvbnQtc2VtaWJvbGQgZmxleCBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+57O757uf5oyH5LukIChTeXN0ZW1JbnN0cnVjdGlvbnMpPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtYWNjZW50XCI+fiR7aW5zdHJ1Y3Rpb25zVG9rZW5zfSB0b2tlbnM8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9zdW1tYXJ5PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9tcHQtY29udGVudCBwLTIgYm9yZGVyLXQgYm9yZGVyLWRpbVwiPlxuICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPiR7Xy5lc2NhcGUoc3lzdGVtSW5zdHJ1Y3Rpb25zKX08L2NvZGU+PC9wcmU+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2RldGFpbHM+XG4gICAgICAgICAgICA8ZGV0YWlscyBjbGFzcz1cInByb21wdC1zZWN0aW9uIG1iLTIgYm9yZGVyIGJvcmRlci1kaW0gcm91bmRlZFwiIG9wZW4+XG4gICAgICAgICAgICAgICAgPHN1bW1hcnkgY2xhc3M9XCJwcm9tcHQtc3VtbWFyeSBwLTIgYmctc2Vjb25kYXJ5LzMwIGN1cnNvci1wb2ludGVyIGZvbnQtc2VtaWJvbGQgZmxleCBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+5LiW55WM54q25oCB5pGY6KaBICjkuovku7YpPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtYWNjZW50XCI+fiR7c3VtbWFyeVRva2Vuc30gdG9rZW5zPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvc3VtbWFyeT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvbXB0LWNvbnRlbnQgcC0yIGJvcmRlci10IGJvcmRlci1kaW1cIj5cbiAgICAgICAgICAgICAgICAgICAgJHtzdW1tYXJ5Q29udGVudH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGV0YWlscz5cbiAgICAgICAgICAgIDxkZXRhaWxzIGNsYXNzPVwicHJvbXB0LXNlY3Rpb24gYm9yZGVyIGJvcmRlci1kaW0gcm91bmRlZFwiIG9wZW4+XG4gICAgICAgICAgICAgICAgPHN1bW1hcnkgY2xhc3M9XCJwcm9tcHQtc3VtbWFyeSBwLTIgYmctc2Vjb25kYXJ5LzMwIGN1cnNvci1wb2ludGVyIGZvbnQtc2VtaWJvbGQgZmxleCBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+5qC45b+D5Y+Y6YePIChWYXJpYWJsZXMpPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtYWNjZW50XCI+fiR7dmFyaWFibGVzVG9rZW5zfSB0b2tlbnM8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9zdW1tYXJ5PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9tcHQtY29udGVudCBwLTIgYm9yZGVyLXQgYm9yZGVyLWRpbVwiPlxuICAgICAgICAgICAgICAgICAgICA8cHJlPjxjb2RlPiR7Xy5lc2NhcGUodmFyaWFibGVzQ29udGVudCl9PC9jb2RlPjwvcHJlPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kZXRhaWxzPlxuICAgICAgICBgO1xuXG4gICAgICAgIHByb21wdERpc3BsYXlDb250YWluZXIuaHRtbChmaW5hbEh0bWwpO1xuICAgICAgICB0b2FzdHIuc3VjY2Vzcygn5pyA5paw55qE57O757uf5o+Q56S66K+N5bey5Yqg6L295bm25qC85byP5YyW44CCJyk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBsb2dnZXIoJ2Vycm9yJywgJ0RlYnVnTW9kYWwnLCAnRXJyb3IgZ2V0dGluZyBvciBwYXJzaW5nIGxhc3QgZ2VuZXJhdGVkIHByb21wdDonLCBlcnJvcik7XG4gICAgICAgIHByb21wdERpc3BsYXlDb250YWluZXIuaHRtbCgnPHAgY2xhc3M9XCJ0ZXh0LXJlZC01MDBcIj7ml6Dms5Xojrflj5bmiJbop6PmnpDmj5DnpLror43jgII8L3A+Jyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBnZXR0aW5nIG9yIHBhcnNpbmcgbGFzdCBnZW5lcmF0ZWQgcHJvbXB0OlwiLCBlcnJvcik7XG4gICAgfVxuICB9KTtcblxuICAvLyAtLS0gRXZlbnQgSW5qZWN0b3IgTG9naWMgLS0tXG4gIHByZXNldEJ0bnMub24oJ2NsaWNrJywgZnVuY3Rpb24odGhpczogSFRNTEVsZW1lbnQpIHtcbiAgICBjb25zdCBwcmVzZXROYW1lID0gJCh0aGlzKS5kYXRhKCdwcmVzZXQnKTtcbiAgICBpZiAocHJlc2V0TmFtZSAmJiBldmVudFRlbXBsYXRlc1twcmVzZXROYW1lXSkge1xuICAgICAgY29uc3QgdGVtcGxhdGUgPSBKU09OLnN0cmluZ2lmeShldmVudFRlbXBsYXRlc1twcmVzZXROYW1lXSwgbnVsbCwgMik7XG4gICAgICBldmVudEpzb25JbnB1dC52YWwodGVtcGxhdGUpO1xuICAgIH1cbiAgfSk7XG5cbiAgaW5qZWN0RXZlbnRCdG4ub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbnN0IGpzb25UZXh0ID0gKGV2ZW50SnNvbklucHV0LnZhbCgpIGFzIHN0cmluZykudHJpbSgpO1xuICAgIGlmICghanNvblRleHQpIHtcbiAgICAgIHRvYXN0ci53YXJuaW5nKCdKU09O6L6T5YWl5LiN6IO95Li656m644CCJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGV2ZW50T2JqZWN0ID0gSlNPTi5wYXJzZShqc29uVGV4dCk7XG5cbiAgICAgIC8vIOWFgeiuuOeUqOaIt+i+k+WFpeWNleS4quS6i+S7tuWvueixoeaIluWujOaVtOeahHN0YXR1c2JhckRhdGHnu5PmnoRcbiAgICAgIGxldCBzdGF0dXNiYXJEYXRhO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZXZlbnRPYmplY3RbJ+S6i+S7tuWIl+ihqCddKSkge1xuICAgICAgICBzdGF0dXNiYXJEYXRhID0gZXZlbnRPYmplY3Q7XG4gICAgICB9IGVsc2UgaWYgKGV2ZW50T2JqZWN0Wyfkuovku7YnXSAmJiBldmVudE9iamVjdFsn5pWw5o2uJ10pIHtcbiAgICAgICAgc3RhdHVzYmFyRGF0YSA9IHsgXCLkuovku7bliJfooahcIjogW2V2ZW50T2JqZWN0XSB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9hc3RyLmVycm9yKCdKU09O5qC85byP5peg5pWI44CC6K+36L6T5YWl5Y2V5Liq5LqL5Lu25a+56LGh5oiW5a6M5pW055qE5LqL5Lu25YiX6KGo57uT5p6E44CCJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gTG9nIHRoZSBpbmplY3Rpb24gYWN0aW9uIGl0c2VsZlxuICAgICAgbG9nZ2VyKCdpbmZvJywgJ0RlYnVnTW9kYWwnLCAnSW5qZWN0aW5nIGV2ZW50KHMpOicsIHN0YXR1c2JhckRhdGEpO1xuXG4gICAgICAvLyBHZW5lcmF0ZSBhIHVuaXF1ZSBJRCBmb3IgdGhpcyBpbmplY3RlZCBldmVudCBmb3IgdHJhY2tpbmcgcHVycG9zZXMuXG4gICAgICBjb25zdCBpbmplY3RlZE1lc3NhZ2VJZCA9IGBpbmplY3RlZC1ldmVudC0ke0RhdGUubm93KCl9YDtcbiAgICAgIHN5bmNWYXJpYWJsZXMoc3RhdHVzYmFyRGF0YSwgaW5qZWN0ZWRNZXNzYWdlSWQsIGV2ZW50TWFuYWdlcik7XG4gICAgICB0b2FzdHIuc3VjY2Vzcygn5LqL5Lu25bey5oiQ5Yqf5rOo5YWl5aSE55CG6Zif5YiX44CCJyk7XG5cbiAgICAgIC8vIEF1dG9tYXRpY2FsbHkgcmVmcmVzaCB0aGUgc2lkZSBwYW5lbHMgdG8gcmVmbGVjdCB0aGUgY2hhbmdlc1xuICAgICAgc3RvcnlSZW5kZXJlci5yZW5kZXJTaWRlUGFuZWxzKG51bGwpO1xuICAgICAgbG9nZ2VyKCdpbmZvJywgJ0RlYnVnTW9kYWwnLCAnU2lkZSBwYW5lbHMgYXV0b21hdGljYWxseSByZWZyZXNoZWQgYWZ0ZXIgZXZlbnQgaW5qZWN0aW9uLicpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0b2FzdHIuZXJyb3IoJ+azqOWFpeWksei0pe+8mkpTT07moLzlvI/ml6DmlYjmiJblpITnkIbml7blj5HnlJ/plJnor6/jgIInKTtcbiAgICAgIGxvZ2dlcignZXJyb3InLCAnRGVidWdNb2RhbCcsICdFcnJvciBwYXJzaW5nIG9yIGluamVjdGluZyBldmVudDonLCBlcnJvcik7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcGFyc2luZyBvciBpbmplY3RpbmcgZXZlbnQ6XCIsIGVycm9yKTtcbiAgICB9XG4gIH0pO1xuXG5cbiAgc2VhcmNoSW5wdXQub24oJ2lucHV0JywgYXBwbHlGaWx0ZXJzKTtcbiAgbGV2ZWxGaWx0ZXJzLm9uKCdjaGFuZ2UnLCBhcHBseUZpbHRlcnMpO1xuXG4gIGxvZ0NvbnRhaW5lci5vbignY2xpY2snLCAnLmxvZy1leHBhbmQtYnRuJywgZnVuY3Rpb24odGhpczogSFRNTEVsZW1lbnQsIGU6IEpRdWVyeS5DbGlja0V2ZW50KSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGVudHJ5ID0gJCh0aGlzKS5jbG9zZXN0KCcuZGVidWctbG9nLWVudHJ5Jyk7XG4gICAgZW50cnkuZmluZCgnLmxvZy1tZXNzYWdlLXNob3J0JykuaGlkZSgpO1xuICAgIGVudHJ5LmZpbmQoJy5sb2ctZXhwYW5kLWJ0bicpLmhpZGUoKTtcbiAgICBlbnRyeS5maW5kKCcubG9nLW1lc3NhZ2UtZnVsbCcpLnNob3coKTtcbiAgfSk7XG5cbiAgY2xlYXJCdG4ub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgIGxvZ0NvbnRhaW5lci5lbXB0eSgpO1xuICAgIGNsZWFyTG9ncygpO1xuICB9KTtcblxuICBkb3dubG9hZEJ0bi5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgY29uc3QgbG9nVGV4dCA9IGdldExvZ3NBc1RleHQoKTtcbiAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2xvZ1RleHRdLCB7IHR5cGU6ICd0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgnIH0pO1xuICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICBhLmhyZWYgPSB1cmw7XG4gICAgYS5kb3dubG9hZCA9IGB4dWFuaHVhbi1kZWJ1Zy1sb2ctJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9LnR4dGA7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcbiAgICBhLmNsaWNrKCk7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKTtcbiAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gIH0pO1xuXG4gIGNsb3NlQnRuLm9uKCdjbGljaycsICgpID0+IHtcbiAgICBtb2RhbC5hZGRDbGFzcygnaGlkZGVuJyk7XG4gIH0pO1xuXG4gIC8vIC0tLSBMb2dpYyBmb3IgRGVidWcgTW9kZSAtLS1cbiAgY29uc3QgaXNEZWJ1Z01vZGUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgneHVhbmh1YW4uZGVidWdNb2RlJykgPT09ICd0cnVlJztcbiAgZGVidWdNb2RlVG9nZ2xlLnByb3AoJ2NoZWNrZWQnLCBpc0RlYnVnTW9kZSk7XG5cbiAgZGVidWdNb2RlVG9nZ2xlLm9uKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgY29uc3QgaXNDaGVja2VkID0gZGVidWdNb2RlVG9nZ2xlLmlzKCc6Y2hlY2tlZCcpO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd4dWFuaHVhbi5kZWJ1Z01vZGUnLCBpc0NoZWNrZWQudG9TdHJpbmcoKSk7XG4gICAgcmVmcmVzaExvZ2dlclN0YXR1cygpOyAvLyBJbW1lZGlhdGVseSB1cGRhdGUgdGhlIGxvZ2dlcidzIHN0YXR1c1xuICAgIHRvYXN0ci5pbmZvKGDosIPor5XmqKHlvI/lt7Ike2lzQ2hlY2tlZCA/ICflvIDlkK8nIDogJ+WFs+mXrSd944CCYCk7XG4gIH0pO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/debug.ts\n\n}');
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/details.ts": 
  /*!*****************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/details.ts ***!
  \*****************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initDetailsModal: () => (/* binding */ initDetailsModal)\n/* harmony export */ });\n// ui/modals/details.ts\nfunction initDetailsModal() {\n    const modalOverlay = document.getElementById('details-modal');\n    const modalTitle = document.getElementById('modal-title');\n    const modalBody = document.getElementById('modal-body');\n    const closeModalBtn = document.getElementById('modal-close-btn');\n    const fallbackReturn = { showModalWithData: () => { } };\n    if (!modalOverlay || !modalTitle || !modalBody || !closeModalBtn) {\n        console.error('详情模态框的必要DOM元素未找到！');\n        return fallbackReturn;\n    }\n    const hideModal = () => modalOverlay.classList.add('hidden');\n    closeModalBtn.addEventListener('click', hideModal);\n    modalOverlay.addEventListener('click', (e) => {\n        if (e.target === modalOverlay)\n            hideModal();\n    });\n    const showModalWithData = (data) => {\n        if (typeof data === 'object' && data !== null) {\n            const titleKey = Object.keys(data).find(k => k.includes('名称') || k.includes('姓名'));\n            modalTitle.textContent = titleKey ? data[titleKey] : '详情';\n            let bodyHtml = '<ul>';\n            for (const [key, value] of Object.entries(data)) {\n                if (value === null || value === undefined)\n                    continue;\n                let displayValue;\n                if (key.includes('价值') && typeof value === 'object' && '基础价值' in value) {\n                    displayValue = value.基础价值;\n                }\n                else if (typeof value === 'object') {\n                    // Fallback for other objects to avoid [object Object]\n                    displayValue = JSON.stringify(value, null, 2);\n                }\n                else {\n                    displayValue = value;\n                }\n                bodyHtml += `<li><span class=\"item-key\">${key}:</span> ${displayValue}</li>`;\n            }\n            bodyHtml += '</ul>';\n            modalBody.innerHTML = bodyHtml;\n        }\n        else {\n            modalTitle.textContent = '详情';\n            modalBody.textContent = String(data);\n        }\n        modalOverlay.classList.remove('hidden');\n    };\n    document.body.addEventListener('click', (e) => {\n        const target = e.target;\n        const clickableItem = target.closest('.clickable-item');\n        if (clickableItem) {\n            const dataString = clickableItem.dataset.details;\n            if (dataString) {\n                try {\n                    const data = JSON.parse(dataString);\n                    showModalWithData(data);\n                }\n                catch (err) {\n                    console.error(\"解析详情数据失败:\", err);\n                    toastr.error(\"无法显示详情。\");\n                }\n            }\n        }\n    });\n    return { showModalWithData };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvdWkvbW9kYWxzL2RldGFpbHMudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLHVCQUF1QjtBQUloQixTQUFTLGdCQUFnQjtJQUM5QixNQUFNLFlBQVksR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0lBQzlELE1BQU0sVUFBVSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDMUQsTUFBTSxTQUFTLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUN4RCxNQUFNLGFBQWEsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGlCQUFpQixDQUFDLENBQUM7SUFFakUsTUFBTSxjQUFjLEdBQUcsRUFBRSxpQkFBaUIsRUFBRSxHQUFHLEVBQUUsR0FBRSxDQUFDLEVBQUUsQ0FBQztJQUV2RCxJQUFJLENBQUMsWUFBWSxJQUFJLENBQUMsVUFBVSxJQUFJLENBQUMsU0FBUyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDakUsT0FBTyxDQUFDLEtBQUssQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBQ25DLE9BQU8sY0FBYyxDQUFDO0lBQ3hCLENBQUM7SUFFRCxNQUFNLFNBQVMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUU3RCxhQUFhLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQ25ELFlBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRTtRQUMzQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssWUFBWTtZQUFFLFNBQVMsRUFBRSxDQUFDO0lBQzdDLENBQUMsQ0FBQyxDQUFDO0lBRUgsTUFBTSxpQkFBaUIsR0FBRyxDQUFDLElBQVMsRUFBRSxFQUFF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c3JjL+S7gOS5iOaIkeimgeWcqOeOhOW5u+S/ruS7meS4lueVjOenjeeUsC0w5qW854mI5pysL3VpL21vZGFscy9kZXRhaWxzLnRzPyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyB1aS9tb2RhbHMvZGV0YWlscy50c1xyXG5cclxuZGVjbGFyZSBjb25zdCB0b2FzdHI6IGFueTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0RGV0YWlsc01vZGFsKCk6IHsgc2hvd01vZGFsV2l0aERhdGE6IChkYXRhOiBhbnkpID0+IHZvaWQgfSB7XHJcbiAgY29uc3QgbW9kYWxPdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RldGFpbHMtbW9kYWwnKTtcclxuICBjb25zdCBtb2RhbFRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsLXRpdGxlJyk7XHJcbiAgY29uc3QgbW9kYWxCb2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsLWJvZHknKTtcclxuICBjb25zdCBjbG9zZU1vZGFsQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsLWNsb3NlLWJ0bicpO1xyXG5cclxuICBjb25zdCBmYWxsYmFja1JldHVybiA9IHsgc2hvd01vZGFsV2l0aERhdGE6ICgpID0+IHt9IH07XHJcblxyXG4gIGlmICghbW9kYWxPdmVybGF5IHx8ICFtb2RhbFRpdGxlIHx8ICFtb2RhbEJvZHkgfHwgIWNsb3NlTW9kYWxCdG4pIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+ivpuaDheaooeaAgeahhueahOW/heimgURPTeWFg+e0oOacquaJvuWIsO+8gScpO1xyXG4gICAgcmV0dXJuIGZhbGxiYWNrUmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgaGlkZU1vZGFsID0gKCkgPT4gbW9kYWxPdmVybGF5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG5cclxuICBjbG9zZU1vZGFsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGlkZU1vZGFsKTtcclxuICBtb2RhbE92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgaWYgKGUudGFyZ2V0ID09PSBtb2RhbE92ZXJsYXkpIGhpZGVNb2RhbCgpO1xyXG4gIH0pO1xyXG5cclxuICBjb25zdCBzaG93TW9kYWxXaXRoRGF0YSA9IChkYXRhOiBhbnkpID0+IHtcclxuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcgJiYgZGF0YSAhPT0gbnVsbCkge1xyXG4gICAgICBjb25zdCB0aXRsZUtleSA9IE9iamVjdC5rZXlzKGRhdGEpLmZpbmQoayA9PiBrLmluY2x1ZGVzKCflkI3np7AnKSB8fCBrLmluY2x1ZGVzKCflp5PlkI0nKSk7XHJcbiAgICAgIG1vZGFsVGl0bGUudGV4dENvbnRlbnQgPSB0aXRsZUtleSA/IGRhdGFbdGl0bGVLZXldIDogJ+ivpuaDhSc7XHJcbiAgICAgIFxyXG4gICAgICBsZXQgYm9keUh0bWwgPSAnPHVsPic7XHJcbiAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGRhdGEpKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICBsZXQgZGlzcGxheVZhbHVlO1xyXG4gICAgICAgIGlmIChrZXkuaW5jbHVkZXMoJ+S7t+WAvCcpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgJ+WfuuehgOS7t+WAvCcgaW4gdmFsdWUpIHtcclxuICAgICAgICAgIGRpc3BsYXlWYWx1ZSA9IHZhbHVlLuWfuuehgOS7t+WAvDtcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgIC8vIEZhbGxiYWNrIGZvciBvdGhlciBvYmplY3RzIHRvIGF2b2lkIFtvYmplY3QgT2JqZWN0XVxyXG4gICAgICAgICAgZGlzcGxheVZhbHVlID0gSlNPTi5zdHJpbmdpZnkodmFsdWUsIG51bGwsIDIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBkaXNwbGF5VmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYm9keUh0bWwgKz0gYDxsaT48c3BhbiBjbGFzcz1cIml0ZW0ta2V5XCI+JHtrZXl9Ojwvc3Bhbj4gJHtkaXNwbGF5VmFsdWV9PC9saT5gO1xyXG4gICAgICB9XHJcbiAgICAgIGJvZHlIdG1sICs9ICc8L3VsPic7XHJcbiAgICAgIG1vZGFsQm9keS5pbm5lckhUTUwgPSBib2R5SHRtbDtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBtb2RhbFRpdGxlLnRleHRDb250ZW50ID0gJ+ivpuaDhSc7XHJcbiAgICAgIG1vZGFsQm9keS50ZXh0Q29udGVudCA9IFN0cmluZyhkYXRhKTtcclxuICAgIH1cclxuICAgIG1vZGFsT3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICB9O1xyXG5cclxuICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG4gICAgY29uc3QgY2xpY2thYmxlSXRlbSA9IHRhcmdldC5jbG9zZXN0KCcuY2xpY2thYmxlLWl0ZW0nKTtcclxuICAgIGlmIChjbGlja2FibGVJdGVtKSB7XHJcbiAgICAgIGNvbnN0IGRhdGFTdHJpbmcgPSAoY2xpY2thYmxlSXRlbSBhcyBIVE1MRWxlbWVudCkuZGF0YXNldC5kZXRhaWxzO1xyXG4gICAgICBpZiAoZGF0YVN0cmluZykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShkYXRhU3RyaW5nKTtcclxuICAgICAgICAgIHNob3dNb2RhbFdpdGhEYXRhKGRhdGEpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIuino+aekOivpuaDheaVsOaNruWksei0pTpcIiwgZXJyKTtcclxuICAgICAgICAgIHRvYXN0ci5lcnJvcihcIuaXoOazleaYvuekuuivpuaDheOAglwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIHsgc2hvd01vZGFsV2l0aERhdGEgfTtcclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/details.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/history.ts": 
  /*!*****************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/history.ts ***!
  \*****************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initHistoryModal: () => (/* binding */ initHistoryModal)\n/* harmony export */ });\n// --- Helpers ---\nfunction parseContent(content) {\n    const statusBarRegex = /<statusbar>([\\s\\S]*?)<\\/statusbar>/;\n    const match = content.match(statusBarRegex);\n    if (match && match[1]) {\n        const status = match[1].trim();\n        const story = content.replace(statusBarRegex, '').trim();\n        return { story, status };\n    }\n    return { story: content.trim(), status: '' };\n}\nfunction combineContent(story, status) {\n    const trimmedStory = story.trim();\n    const trimmedStatus = status.trim();\n    if (trimmedStatus) {\n        return `${trimmedStory}\\n\\n<statusbar>\\n${trimmedStatus}\\n</statusbar>`;\n    }\n    return trimmedStory;\n}\n// --- UI and Initialization ---\nfunction initHistoryModal(historyManager, pokedexManager) {\n    try {\n        cytoscape.use(cytoscapeDagre);\n    }\n    catch (e) {\n        console.error('Could not register dagre layout.', e);\n    }\n    const modal = document.getElementById('history-modal');\n    const openBtn = document.getElementById('history-btn');\n    const closeBtn = document.getElementById('history-modal-close-btn');\n    const messageContainer = document.getElementById('message-content');\n    const branchTabsContainer = document.getElementById('history-branch-tabs');\n    const graphTab = document.getElementById('history-graph-tab');\n    const graphContainer = document.getElementById('history-graph-container');\n    const historyMessagesContainer = document.getElementById('history-messages-container');\n    if (!modal || !openBtn || !closeBtn || !messageContainer || !branchTabsContainer || !graphTab || !graphContainer || !historyMessagesContainer) {\n        console.error('History modal elements not found!');\n        return;\n    }\n    const renderBranchTabs = () => {\n        branchTabsContainer.innerHTML = '';\n        const branches = historyManager.getBranches();\n        branches.forEach(branch => {\n            const tab = document.createElement('div');\n            tab.className = `main-tab-btn branch-tab ${branch.isActive ? 'active' : ''}`;\n            tab.setAttribute('data-branch-id', branch.id);\n            const branchNameSpan = document.createElement('span');\n            branchNameSpan.className = 'branch-tab-name';\n            branchNameSpan.textContent = branch.name;\n            tab.appendChild(branchNameSpan);\n            tab.addEventListener('click', () => {\n                if (!branch.isActive) {\n                    switchBranch(branch.id, branch.name);\n                }\n            });\n            branchTabsContainer.appendChild(tab);\n        });\n    };\n    const switchBranch = async (branchId, branchName) => {\n        if (confirm(`确定要加载分支 \"${branchName}\" 吗？\\n应用将重新加载以应用此分支的进度。`)) {\n            try {\n                await historyManager.switchBranch(branchId);\n                toastr.success(`已切换到分支 \"${branchName}\"！正在刷新...`);\n                setTimeout(() => window.location.reload(), 1500);\n            }\n            catch (error) {\n                console.error('Failed to switch branch:', error);\n                toastr.error('切换分支失败。');\n            }\n        }\n    };\n    const renameBranch = async (branchId, oldName) => {\n        const newName = prompt(`为分支 \"${oldName}\" 输入新名称:`, oldName);\n        if (newName && newName.trim() !== '' && newName.trim() !== oldName) {\n            try {\n                await historyManager.renameBranch(branchId, newName.trim());\n                toastr.success('分支已重命名！');\n                renderBranchTabs();\n            }\n            catch (error) {\n                console.error('Failed to rename branch:', error);\n                toastr.error(`重命名失败: ${error.message}`);\n            }\n        }\n    };\n    const deleteBranch = async (branchId, branchName) => {\n        if (confirm(`确定要永久删除分支 \"${branchName}\" 吗？\\n此操作不可逆！`)) {\n            try {\n                await historyManager.deleteBranch(branchId);\n                toastr.success('分支已删除！正在刷新...');\n                setTimeout(() => window.location.reload(), 1500);\n            }\n            catch (error) {\n                console.error('Failed to delete branch:', error);\n                toastr.error(`删除失败: ${error.message}`);\n            }\n        }\n    };\n    const renderGraph = () => {\n        const { elements, branchColors } = convertHistoryToCytoscapeElements();\n        if (elements.nodes.length === 0) {\n            graphContainer.innerHTML = '<p class=\"text-secondary text-center p-4\">没有可用于生成关系图的数据。</p>';\n            return;\n        }\n        const style = [\n            {\n                selector: 'node',\n                style: {\n                    'background-color': '#666',\n                    'label': '',\n                    'width': '20px',\n                    'height': '20px',\n                }\n            },\n            {\n                selector: 'node[type = \"virtual\"]',\n                style: {\n                    'width': '1px',\n                    'height': '1px',\n                    'background-color': 'transparent'\n                }\n            },\n            {\n                selector: 'edge',\n                style: {\n                    'width': 2,\n                    'line-color': '#ccc',\n                    'target-arrow-color': '#ccc',\n                    'target-arrow-shape': 'triangle',\n                    'curve-style': 'bezier'\n                }\n            }\n        ];\n        // Add styles for each branch\n        for (const branchId in branchColors) {\n            const color = branchColors[branchId];\n            style.push({\n                selector: `node[branch = \"${branchId}\"]`,\n                style: {\n                    'background-color': color,\n                    'border-color': '#fff',\n                    'border-width': 1\n                }\n            });\n            style.push({\n                selector: `edge[branch = \"${branchId}\"]`,\n                style: {\n                    'line-color': color,\n                    'target-arrow-color': color\n                }\n            });\n        }\n        cytoscape({\n            container: graphContainer,\n            elements: elements,\n            style: style,\n            layout: {\n                name: 'dagre',\n                rankDir: 'LR', // Left to Right\n                spacingFactor: 1.5 // Increase spacing between nodes\n            }\n        });\n    };\n    const generateColor = (str) => {\n        let hash = 0;\n        for (let i = 0; i < str.length; i++) {\n            hash = str.charCodeAt(i) + ((hash << 5) - hash);\n        }\n        let color = '#';\n        for (let i = 0; i < 3; i++) {\n            const value = (hash >> (i * 8)) & 0xFF;\n            color += ('00' + value.toString(16)).substr(-2);\n        }\n        return color;\n    };\n    const convertHistoryToCytoscapeElements = () => {\n        const nodes = [];\n        const edges = [];\n        const history = historyManager.getRawHistory();\n        const branchColors = {};\n        for (const branchId in history.branches) {\n            branchColors[branchId] = generateColor(branchId);\n            const turns = history.branches[branchId];\n            const turnIndices = Object.keys(turns).map(Number).sort((a, b) => a - b);\n            let lastTurnVirtualNodeId = null;\n            turnIndices.forEach(turnIndex => {\n                const turn = turns[turnIndex];\n                const turnVirtualNodeId = `turn-${branchId}-${turnIndex}`;\n                // Add virtual node for the turn\n                nodes.push({ data: { id: turnVirtualNodeId, branch: branchId, type: 'virtual' } });\n                if (lastTurnVirtualNodeId) {\n                    edges.push({ data: { source: lastTurnVirtualNodeId, target: turnVirtualNodeId, branch: branchId } });\n                }\n                const pages = Object.values(turn.pages);\n                pages.forEach(page => {\n                    if (page) {\n                        nodes.push({ data: { id: page.id, branch: branchId } });\n                        edges.push({ data: { source: turnVirtualNodeId, target: page.id, branch: branchId } });\n                    }\n                });\n                lastTurnVirtualNodeId = turnVirtualNodeId;\n            });\n        }\n        return { elements: { nodes, edges }, branchColors };\n    };\n    const renderFullHistory = () => {\n        messageContainer.innerHTML = '';\n        // This needs to be rewritten for v2.0\n        // We'll get the raw turns object for the active branch\n        const activeBranchId = historyManager.getActiveBranchId();\n        // @ts-ignore - Accessing private history for now. A public method would be better.\n        const turns = historyManager.history.branches[activeBranchId];\n        const turnIndices = Object.keys(turns).map(Number).sort((a, b) => a - b);\n        if (turnIndices.length === 0) {\n            messageContainer.innerHTML = '<p class=\"text-secondary text-center p-4\">当前分支没有历史记录。</p>';\n            return;\n        }\n        turnIndices.forEach(turnIndex => {\n            const turn = turns[turnIndex];\n            const details = document.createElement('details');\n            details.className = 'history-entry';\n            const summary = document.createElement('summary');\n            summary.className = 'history-summary';\n            const firstPage = turn.pages[0];\n            const timestamp = new Date(firstPage?.timestamp || Date.now()).toLocaleString();\n            let roleHtml = '';\n            if (turn.role === 'user') {\n                roleHtml = '<span class=\"history-role-badge user-badge\">玩家</span>';\n            }\n            else {\n                roleHtml = '<span class=\"history-role-badge assistant-badge\">AI</span>';\n            }\n            summary.innerHTML = `\n        <span class=\"font-semibold\">第 ${turnIndex + 1} 回合</span>\n        <div class=\"flex items-center gap-2 ml-4\">${roleHtml}</div>\n        <span class=\"text-secondary text-xs ml-auto\">${timestamp}</span>\n        <i class=\"fas fa-chevron-down summary-arrow\"></i>\n      `;\n            const contentWrapper = document.createElement('div');\n            contentWrapper.className = 'history-content-v2';\n            if (turn.role === 'user' && firstPage) {\n                renderUserMessage(contentWrapper, firstPage, turnIndex);\n            }\n            else if (turn.role === 'assistant') {\n                renderAssistantMessage(contentWrapper, turn, turnIndex);\n            }\n            details.appendChild(summary);\n            details.appendChild(contentWrapper);\n            messageContainer.appendChild(details);\n        });\n        messageContainer.scrollTop = messageContainer.scrollHeight;\n    };\n    const renderUserMessage = (container, msg, turnIndex) => {\n        const userContainer = document.createElement('div');\n        userContainer.className = 'history-user-message';\n        userContainer.innerHTML = `\n      <div class=\"history-role-header user-header\">用户</div>\n      <div class=\"history-content-display\">${marked.parse(msg.content)}</div>\n      ${createControls(turnIndex, msg, 'user')}\n    `;\n        container.appendChild(userContainer);\n        attachButtonEventListeners(userContainer, msg, turnIndex);\n    };\n    const renderAssistantMessage = (container, turn, turnIndex) => {\n        const assistantContainer = document.createElement('div');\n        assistantContainer.className = 'history-assistant-message';\n        const pages = turn.pages;\n        const pageIndices = Object.keys(pages).map(Number).sort((a, b) => a - b);\n        let activePageIndex = turn.activePageIndex;\n        const updateView = () => {\n            const currentPage = pages[activePageIndex];\n            if (!currentPage)\n                return;\n            const { story, status } = parseContent(currentPage.content);\n            assistantContainer.innerHTML = `\n        <div class=\"flex items-center justify-center mb-2 swipe-controls-history\">\n          <button data-action=\"prev-swipe\" class=\"btn-icon\"><i class=\"fas fa-chevron-left\"></i></button>\n          <span class=\"swipe-counter-history font-mono text-sm mx-4\">${activePageIndex + 1} / ${pageIndices.length}</span>\n          <button data-action=\"next-swipe\" class=\"btn-icon\"><i class=\"fas fa-chevron-right\"></i></button>\n        </div>\n        <div class=\"flex border-b border-dim mb-2\">\n          <button data-tab=\"story\" class=\"main-tab-btn active\">故事</button>\n          <button data-tab=\"status\" class=\"main-tab-btn\">状态</button>\n        </div>\n        <div data-tab-content=\"story\" class=\"main-tab-content history-content-display\">${marked.parse(story)}</div>\n        <div data-tab-content=\"status\" class=\"main-tab-content history-content-display hidden\">\n          <pre class=\"whitespace-pre-wrap text-xs font-mono\">${status}</pre>\n        </div>\n        ${createControls(turnIndex, currentPage, 'assistant')}\n      `;\n            attachAllEventListeners(assistantContainer, currentPage, turnIndex);\n        };\n        const attachAllEventListeners = (container, msg, turnIndex) => {\n            container.querySelector('[data-action=\"prev-swipe\"]')?.addEventListener('click', () => {\n                if (activePageIndex > 0) {\n                    activePageIndex--;\n                    updateView();\n                }\n            });\n            container.querySelector('[data-action=\"next-swipe\"]')?.addEventListener('click', () => {\n                if (activePageIndex < pageIndices.length - 1) {\n                    activePageIndex++;\n                    updateView();\n                }\n            });\n            container.querySelectorAll('.main-tab-btn').forEach(tab => {\n                tab.addEventListener('click', () => {\n                    container.querySelectorAll('.main-tab-btn').forEach(t => t.classList.remove('active'));\n                    tab.classList.add('active');\n                    const tabId = tab.getAttribute('data-tab');\n                    container.querySelectorAll('.main-tab-content').forEach(content => {\n                        content.getAttribute('data-tab-content') === tabId\n                            ? content.classList.remove('hidden')\n                            : content.classList.add('hidden');\n                    });\n                });\n            });\n            attachButtonEventListeners(container, msg, turnIndex);\n        };\n        updateView();\n        container.appendChild(assistantContainer);\n    };\n    const createControls = (turnIndex, msg, role) => {\n        const deleteButton = role === 'assistant' ? `\n      <button data-action=\"delete\" class=\"btn-danger btn-sm ml-2\"><i class=\"fas fa-trash-alt mr-1\"></i> 删除回合</button>\n    ` : '';\n        return `\n      <div class=\"history-controls\">\n        <div class=\"flex justify-end\">\n          <button data-action=\"edit\" class=\"btn-secondary btn-sm\"><i class=\"fas fa-edit mr-1\"></i> 编辑</button>\n          <button data-action=\"branch\" class=\"btn-accent btn-sm ml-2\"><i class=\"fas fa-code-branch mr-1\"></i> 从此创建分支</button>\n          ${deleteButton}\n        </div>\n      </div>\n    `;\n    };\n    const attachButtonEventListeners = (container, msg, turnIndex) => {\n        container.querySelector('[data-action=\"edit\"]')?.addEventListener('click', () => {\n            toggleEditMode(true, container, msg, turnIndex);\n        });\n        container.querySelector('[data-action=\"branch\"]')?.addEventListener('click', () => {\n            createBranchFromHistory(turnIndex);\n        });\n        container.querySelector('[data-action=\"delete\"]')?.addEventListener('click', () => {\n            deleteTurnFromHistory(turnIndex);\n        });\n    };\n    const deleteTurnFromHistory = async (turnIndex) => {\n        if (confirm(`确定要删除第 ${turnIndex + 1} 回合吗？\\n此操作在当前分支上不可逆！`)) {\n            try {\n                await historyManager.deleteTurn(turnIndex);\n                toastr.success('回合已成功删除！');\n                renderFullHistory();\n                // Potentially reload main view if the last turn was deleted\n                if (window.storyRenderer) {\n                    window.storyRenderer.init();\n                }\n            }\n            catch (error) {\n                console.error('Failed to delete turn:', error);\n                toastr.error('删除回合失败，请查看控制台获取详情。');\n            }\n        }\n    };\n    const createBranchFromHistory = async (turnIndex) => {\n        if (confirm(`确定要从第 ${turnIndex + 1} 回合创建新的故事分支吗？\\n当前进度将被保存，应用将重新加载到新分支。`)) {\n            try {\n                await historyManager.createBranch(turnIndex);\n                toastr.success('新分支已成功创建！正在刷新应用...');\n                setTimeout(() => window.location.reload(), 1500);\n            }\n            catch (error) {\n                console.error('Failed to create branch:', error);\n                toastr.error('创建分支失败，请查看控制台获取详情。');\n            }\n        }\n    };\n    const toggleEditMode = (isEditing, container, msg, turnIndex) => {\n        const originalParent = container.parentElement;\n        if (!originalParent)\n            return;\n        const displayElement = container.querySelector('.history-content-display');\n        const controlsElement = container.querySelector('.history-controls');\n        if (!displayElement || !controlsElement)\n            return;\n        if (isEditing) {\n            displayElement.classList.add('hidden');\n            controlsElement.classList.add('hidden');\n            const editContainer = document.createElement('div');\n            editContainer.className = 'history-edit-container space-y-4 p-2';\n            const { story, status } = parseContent(msg.content);\n            editContainer.innerHTML = `\n        <div>\n          <label class=\"block text-sm font-medium text-secondary mb-1\">故事内容</label>\n          <textarea class=\"story-editor w-full bg-secondary rounded border border-dim p-2 text-primary focus:ring-2 focus:ring-accent focus:outline-none theme-transition font-mono\" rows=\"8\"></textarea>\n        </div>\n        ${msg.role === 'assistant' ? `\n        <div>\n          <label class=\"block text-sm font-medium text-secondary mb-1\">状态 (JSON)</label>\n          <textarea class=\"status-editor w-full bg-secondary rounded border border-dim p-2 text-primary focus:ring-2 focus:ring-accent focus:outline-none theme-transition font-mono\" rows=\"5\"></textarea>\n        </div>` : ''}\n      `;\n            editContainer.querySelector('.story-editor').value = story;\n            if (msg.role === 'assistant') {\n                editContainer.querySelector('.status-editor').value = status;\n            }\n            const controls = document.createElement('div');\n            controls.className = 'flex justify-end space-x-2';\n            controls.innerHTML = `\n        <button class=\"btn-primary btn-sm save-btn\"><i class=\"fas fa-save mr-1\"></i> 保存</button>\n        <button class=\"btn-secondary btn-sm cancel-btn\"><i class=\"fas fa-times mr-1\"></i> 取消</button>\n      `;\n            editContainer.appendChild(controls);\n            container.appendChild(editContainer);\n            controls.querySelector('.save-btn').addEventListener('click', () => saveChanges(msg, container));\n            controls.querySelector('.cancel-btn').addEventListener('click', () => renderFullHistory());\n        }\n    };\n    const saveChanges = async (msg, container) => {\n        const story = container.querySelector('.story-editor').value;\n        let newContent = story;\n        if (msg.role === 'assistant') {\n            const status = container.querySelector('.status-editor').value;\n            newContent = combineContent(story, status);\n        }\n        try {\n            await historyManager.updateMessagePageContent(msg.id, newContent);\n            toastr.success(`消息已保存!`);\n            renderFullHistory();\n        }\n        catch (error) {\n            console.error('Failed to save history:', error);\n            toastr.error('保存历史记录失败，请查看控制台。');\n        }\n    };\n    const showModal = async () => {\n        await historyManager.loadHistory();\n        renderBranchTabs();\n        renderFullHistory(); // Default to message view\n        historyMessagesContainer.classList.remove('hidden');\n        graphContainer.classList.add('hidden');\n        document.querySelector('.branch-tab.active')?.classList.add('active');\n        graphTab.classList.remove('active');\n        modal.classList.remove('hidden');\n    };\n    const hideModal = () => modal.classList.add('hidden');\n    const setupBranchActionButtons = () => {\n        const messagesContainer = document.getElementById('history-messages-container');\n        if (!messagesContainer)\n            return;\n        messagesContainer.classList.add('flex', 'flex-col');\n        const container = document.createElement('div');\n        container.id = 'branch-actions-container';\n        container.className = 'flex flex-row gap-2 justify-end p-2';\n        container.innerHTML = `\n      <button id=\"rename-branch-btn\" class=\"btn-secondary btn-sm\"><i class=\"fas fa-pencil-alt mr-2\"></i>重命名当前分支</button>\n      <button id=\"delete-branch-btn\" class=\"btn-danger btn-sm\"><i class=\"fas fa-trash-alt mr-2\"></i>删除当前分支</button>\n    `;\n        messagesContainer.appendChild(container);\n        document.getElementById('rename-branch-btn')?.addEventListener('click', () => {\n            const activeBranchId = historyManager.getActiveBranchId();\n            const activeBranch = historyManager.getBranches().find(b => b.id === activeBranchId);\n            if (activeBranch) {\n                renameBranch(activeBranch.id, activeBranch.name);\n            }\n        });\n        document.getElementById('delete-branch-btn')?.addEventListener('click', () => {\n            const activeBranchId = historyManager.getActiveBranchId();\n            const activeBranch = historyManager.getBranches().find(b => b.id === activeBranchId);\n            if (activeBranch) {\n                deleteBranch(activeBranch.id, activeBranch.name);\n            }\n        });\n    };\n    openBtn.addEventListener('click', showModal);\n    closeBtn.addEventListener('click', hideModal);\n    modal.addEventListener('click', (e) => {\n        if (e.target === modal)\n            hideModal();\n    });\n    graphTab.addEventListener('click', () => {\n        historyMessagesContainer.classList.add('hidden');\n        graphContainer.classList.remove('hidden');\n        document.querySelectorAll('.branch-tab').forEach(tab => tab.classList.remove('active'));\n        graphTab.classList.add('active');\n        renderGraph();\n    });\n    branchTabsContainer.addEventListener('click', (e) => {\n        const target = e.target;\n        const tab = target.closest('.branch-tab');\n        if (tab) {\n            historyMessagesContainer.classList.remove('hidden');\n            graphContainer.classList.add('hidden');\n            graphTab.classList.remove('active');\n            // The branch switching logic will handle adding 'active' to the correct branch tab\n        }\n    });\n    setupBranchActionButtons();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvdWkvbW9kYWxzL2hpc3RvcnkudHMiLCJtYXBwaW5ncyI6Ijs7OztBQWdCQSxrQkFBa0I7QUFFbEIsU0FBUyxZQUFZLENBQUMsT0FBZTtJQUNuQyxNQUFNLGNBQWMsR0FBRyxvQ0FBb0MsQ0FBQztJQUM1RCxNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQzVDLElBQUksS0FBSyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1FBQ3RCLE1BQU0sTUFBTSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUMvQixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLGNBQWMsRUFBRSxFQUFFLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUN6RCxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxDQUFDO0lBQzNCLENBQUM7SUFDRCxPQUFPLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQyxJQUFJLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxFQUFFLENBQUM7QUFDL0MsQ0FBQztBQUVELFNBQVMsY0FBYyxDQUFDLEtBQWEsRUFBRSxNQUFjO0lBQ25ELE1BQU0sWUFBWSxHQUFHLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNsQyxNQUFNLGFBQWEsR0FBRyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDcEMsSUFBSSxhQUFhLEVBQUUsQ0FBQztRQUNsQixPQUFPLEdBQUcsWUFBWSxvQkFBb0IsYUFBYSxnQkFBZ0IsQ0FBQztJQUMxRSxDQUFDO0lBQ0QsT0FBTyxZQUFZLENBQUM7QUFDdEIsQ0FBQztBQUVELGdDQUFnQztBQUN6QixTQUFTLGdCQUFnQixDQUFDLGNBQWtDLEVBQUUsY0FBbUI7SUFDdEYsSUFBSSxDQUFDO1FBQ0gsU0FBUyxDQUFDLEdB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5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvdWkvbW9kYWxzL2hpc3RvcnkudHM/Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHVpL21vZGFscy9oaXN0b3J5LnRzXG5pbXBvcnQgeyBDaGF0SGlzdG9yeU1hbmFnZXIsIE1lc3NhZ2VQYWdlLCBUdXJuIH0gZnJvbSAnLi4vLi4vY29yZS9oaXN0b3J5JztcbmltcG9ydCB7IFN0b3J5UmVuZGVyZXIgfSBmcm9tICcuLi8uLi9jb3JlL3JlbmRlcmVyJztcblxuZGVjbGFyZSBjb25zdCBtYXJrZWQ6IGFueTtcbmRlY2xhcmUgY29uc3QgdG9hc3RyOiBhbnk7XG5kZWNsYXJlIGNvbnN0IF86IGFueTtcbmRlY2xhcmUgY29uc3QgY3l0b3NjYXBlOiBhbnk7XG5kZWNsYXJlIGNvbnN0IGN5dG9zY2FwZURhZ3JlOiBhbnk7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIFdpbmRvdyB7XG4gICAgc3RvcnlSZW5kZXJlcjogU3RvcnlSZW5kZXJlcjtcbiAgfVxufVxuXG4vLyAtLS0gSGVscGVycyAtLS1cblxuZnVuY3Rpb24gcGFyc2VDb250ZW50KGNvbnRlbnQ6IHN0cmluZyk6IHsgc3Rvcnk6IHN0cmluZzsgc3RhdHVzOiBzdHJpbmcgfSB7XG4gIGNvbnN0IHN0YXR1c0JhclJlZ2V4ID0gLzxzdGF0dXNiYXI+KFtcXHNcXFNdKj8pPFxcL3N0YXR1c2Jhcj4vO1xuICBjb25zdCBtYXRjaCA9IGNvbnRlbnQubWF0Y2goc3RhdHVzQmFyUmVnZXgpO1xuICBpZiAobWF0Y2ggJiYgbWF0Y2hbMV0pIHtcbiAgICBjb25zdCBzdGF0dXMgPSBtYXRjaFsxXS50cmltKCk7XG4gICAgY29uc3Qgc3RvcnkgPSBjb250ZW50LnJlcGxhY2Uoc3RhdHVzQmFyUmVnZXgsICcnKS50cmltKCk7XG4gICAgcmV0dXJuIHsgc3RvcnksIHN0YXR1cyB9O1xuICB9XG4gIHJldHVybiB7IHN0b3J5OiBjb250ZW50LnRyaW0oKSwgc3RhdHVzOiAnJyB9O1xufVxuXG5mdW5jdGlvbiBjb21iaW5lQ29udGVudChzdG9yeTogc3RyaW5nLCBzdGF0dXM6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHRyaW1tZWRTdG9yeSA9IHN0b3J5LnRyaW0oKTtcbiAgY29uc3QgdHJpbW1lZFN0YXR1cyA9IHN0YXR1cy50cmltKCk7XG4gIGlmICh0cmltbWVkU3RhdHVzKSB7XG4gICAgcmV0dXJuIGAke3RyaW1tZWRTdG9yeX1cXG5cXG48c3RhdHVzYmFyPlxcbiR7dHJpbW1lZFN0YXR1c31cXG48L3N0YXR1c2Jhcj5gO1xuICB9XG4gIHJldHVybiB0cmltbWVkU3Rvcnk7XG59XG5cbi8vIC0tLSBVSSBhbmQgSW5pdGlhbGl6YXRpb24gLS0tXG5leHBvcnQgZnVuY3Rpb24gaW5pdEhpc3RvcnlNb2RhbChoaXN0b3J5TWFuYWdlcjogQ2hhdEhpc3RvcnlNYW5hZ2VyLCBwb2tlZGV4TWFuYWdlcjogYW55KSB7XG4gIHRyeSB7XG4gICAgY3l0b3NjYXBlLnVzZShjeXRvc2NhcGVEYWdyZSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKCdDb3VsZCBub3QgcmVnaXN0ZXIgZGFncmUgbGF5b3V0LicsIGUpO1xuICB9XG5cbiAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlzdG9yeS1tb2RhbCcpO1xuICBjb25zdCBvcGVuQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpc3RvcnktYnRuJyk7XG4gIGNvbnN0IGNsb3NlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpc3RvcnktbW9kYWwtY2xvc2UtYnRuJyk7XG4gIGNvbnN0IG1lc3NhZ2VDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVzc2FnZS1jb250ZW50Jyk7XG4gIGNvbnN0IGJyYW5jaFRhYnNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlzdG9yeS1icmFuY2gtdGFicycpO1xuICBjb25zdCBncmFwaFRhYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaXN0b3J5LWdyYXBoLXRhYicpO1xuICBjb25zdCBncmFwaENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaXN0b3J5LWdyYXBoLWNvbnRhaW5lcicpO1xuICBjb25zdCBoaXN0b3J5TWVzc2FnZXNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlzdG9yeS1tZXNzYWdlcy1jb250YWluZXInKTtcblxuICBpZiAoIW1vZGFsIHx8ICFvcGVuQnRuIHx8ICFjbG9zZUJ0biB8fCAhbWVzc2FnZUNvbnRhaW5lciB8fCAhYnJhbmNoVGFic0NvbnRhaW5lciB8fCAhZ3JhcGhUYWIgfHwgIWdyYXBoQ29udGFpbmVyIHx8ICFoaXN0b3J5TWVzc2FnZXNDb250YWluZXIpIHtcbiAgICBjb25zb2xlLmVycm9yKCdIaXN0b3J5IG1vZGFsIGVsZW1lbnRzIG5vdCBmb3VuZCEnKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCByZW5kZXJCcmFuY2hUYWJzID0gKCkgPT4ge1xuICAgIGJyYW5jaFRhYnNDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgY29uc3QgYnJhbmNoZXMgPSBoaXN0b3J5TWFuYWdlci5nZXRCcmFuY2hlcygpO1xuICAgIFxuICAgIGJyYW5jaGVzLmZvckVhY2goYnJhbmNoID0+IHtcbiAgICAgIGNvbnN0IHRhYiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdGFiLmNsYXNzTmFtZSA9IGBtYWluLXRhYi1idG4gYnJhbmNoLXRhYiAke2JyYW5jaC5pc0FjdGl2ZSA/ICdhY3RpdmUnIDogJyd9YDtcbiAgICAgIHRhYi5zZXRBdHRyaWJ1dGUoJ2RhdGEtYnJhbmNoLWlkJywgYnJhbmNoLmlkKTtcbiAgICAgIFxuICAgICAgY29uc3QgYnJhbmNoTmFtZVNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICBicmFuY2hOYW1lU3Bhbi5jbGFzc05hbWUgPSAnYnJhbmNoLXRhYi1uYW1lJztcbiAgICAgIGJyYW5jaE5hbWVTcGFuLnRleHRDb250ZW50ID0gYnJhbmNoLm5hbWU7XG4gICAgICB0YWIuYXBwZW5kQ2hpbGQoYnJhbmNoTmFtZVNwYW4pO1xuXG4gICAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGlmICghYnJhbmNoLmlzQWN0aXZlKSB7XG4gICAgICAgICAgc3dpdGNoQnJhbmNoKGJyYW5jaC5pZCwgYnJhbmNoLm5hbWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgYnJhbmNoVGFic0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0YWIpO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IHN3aXRjaEJyYW5jaCA9IGFzeW5jIChicmFuY2hJZDogc3RyaW5nLCBicmFuY2hOYW1lOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoY29uZmlybShg56Gu5a6a6KaB5Yqg6L295YiG5pSvIFwiJHticmFuY2hOYW1lfVwiIOWQl++8n1xcbuW6lOeUqOWwhumHjeaWsOWKoOi9veS7peW6lOeUqOatpOWIhuaUr+eahOi/m+W6puOAgmApKSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBoaXN0b3J5TWFuYWdlci5zd2l0Y2hCcmFuY2goYnJhbmNoSWQpO1xuICAgICAgICB0b2FzdHIuc3VjY2Vzcyhg5bey5YiH5o2i5Yiw5YiG5pSvIFwiJHticmFuY2hOYW1lfVwi77yB5q2j5Zyo5Yi35pawLi4uYCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpLCAxNTAwKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzd2l0Y2ggYnJhbmNoOicsIGVycm9yKTtcbiAgICAgICAgdG9hc3RyLmVycm9yKCfliIfmjaLliIbmlK/lpLHotKXjgIInKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcmVuYW1lQnJhbmNoID0gYXN5bmMgKGJyYW5jaElkOiBzdHJpbmcsIG9sZE5hbWU6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IG5ld05hbWUgPSBwcm9tcHQoYOS4uuWIhuaUryBcIiR7b2xkTmFtZX1cIiDovpPlhaXmlrDlkI3np7A6YCwgb2xkTmFtZSk7XG4gICAgaWYgKG5ld05hbWUgJiYgbmV3TmFtZS50cmltKCkgIT09ICcnICYmIG5ld05hbWUudHJpbSgpICE9PSBvbGROYW1lKSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBoaXN0b3J5TWFuYWdlci5yZW5hbWVCcmFuY2goYnJhbmNoSWQsIG5ld05hbWUudHJpbSgpKTtcbiAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoJ+WIhuaUr+W3sumHjeWRveWQje+8gScpO1xuICAgICAgICByZW5kZXJCcmFuY2hUYWJzKCk7XG4gICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byByZW5hbWUgYnJhbmNoOicsIGVycm9yKTtcbiAgICAgICAgdG9hc3RyLmVycm9yKGDph43lkb3lkI3lpLHotKU6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZGVsZXRlQnJhbmNoID0gYXN5bmMgKGJyYW5jaElkOiBzdHJpbmcsIGJyYW5jaE5hbWU6IHN0cmluZykgPT4ge1xuICAgIGlmIChjb25maXJtKGDnoa7lrpropoHmsLjkuYXliKDpmaTliIbmlK8gXCIke2JyYW5jaE5hbWV9XCIg5ZCX77yfXFxu5q2k5pON5L2c5LiN5Y+v6YCG77yBYCkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGhpc3RvcnlNYW5hZ2VyLmRlbGV0ZUJyYW5jaChicmFuY2hJZCk7XG4gICAgICAgIHRvYXN0ci5zdWNjZXNzKCfliIbmlK/lt7LliKDpmaTvvIHmraPlnKjliLfmlrAuLi4nKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCksIDE1MDApO1xuICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZGVsZXRlIGJyYW5jaDonLCBlcnJvcik7XG4gICAgICAgIHRvYXN0ci5lcnJvcihg5Yig6Zmk5aSx6LSlOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHJlbmRlckdyYXBoID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgZWxlbWVudHMsIGJyYW5jaENvbG9ycyB9ID0gY29udmVydEhpc3RvcnlUb0N5dG9zY2FwZUVsZW1lbnRzKCk7XG5cbiAgICBpZiAoZWxlbWVudHMubm9kZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBncmFwaENvbnRhaW5lci5pbm5lckhUTUwgPSAnPHAgY2xhc3M9XCJ0ZXh0LXNlY29uZGFyeSB0ZXh0LWNlbnRlciBwLTRcIj7msqHmnInlj6/nlKjkuo7nlJ/miJDlhbPns7vlm77nmoTmlbDmja7jgII8L3A+JztcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzdHlsZTogY3l0b3NjYXBlLlN0eWxlc2hlZXRbXSA9IFtcbiAgICAgIHtcbiAgICAgICAgc2VsZWN0b3I6ICdub2RlJyxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAnYmFja2dyb3VuZC1jb2xvcic6ICcjNjY2JyxcbiAgICAgICAgICAnbGFiZWwnOiAnJyxcbiAgICAgICAgICAnd2lkdGgnOiAnMjBweCcsXG4gICAgICAgICAgJ2hlaWdodCc6ICcyMHB4JyxcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgc2VsZWN0b3I6ICdub2RlW3R5cGUgPSBcInZpcnR1YWxcIl0nLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgICd3aWR0aCc6ICcxcHgnLFxuICAgICAgICAgICdoZWlnaHQnOiAnMXB4JyxcbiAgICAgICAgICAnYmFja2dyb3VuZC1jb2xvcic6ICd0cmFuc3BhcmVudCdcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgc2VsZWN0b3I6ICdlZGdlJyxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAnd2lkdGgnOiAyLFxuICAgICAgICAgICdsaW5lLWNvbG9yJzogJyNjY2MnLFxuICAgICAgICAgICd0YXJnZXQtYXJyb3ctY29sb3InOiAnI2NjYycsXG4gICAgICAgICAgJ3RhcmdldC1hcnJvdy1zaGFwZSc6ICd0cmlhbmdsZScsXG4gICAgICAgICAgJ2N1cnZlLXN0eWxlJzogJ2JlemllcidcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF07XG5cbiAgICAvLyBBZGQgc3R5bGVzIGZvciBlYWNoIGJyYW5jaFxuICAgIGZvciAoY29uc3QgYnJhbmNoSWQgaW4gYnJhbmNoQ29sb3JzKSB7XG4gICAgICBjb25zdCBjb2xvciA9IGJyYW5jaENvbG9yc1ticmFuY2hJZF07XG4gICAgICBzdHlsZS5wdXNoKHtcbiAgICAgICAgc2VsZWN0b3I6IGBub2RlW2JyYW5jaCA9IFwiJHticmFuY2hJZH1cIl1gLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogY29sb3IsXG4gICAgICAgICAgJ2JvcmRlci1jb2xvcic6ICcjZmZmJyxcbiAgICAgICAgICAnYm9yZGVyLXdpZHRoJzogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHN0eWxlLnB1c2goe1xuICAgICAgICBzZWxlY3RvcjogYGVkZ2VbYnJhbmNoID0gXCIke2JyYW5jaElkfVwiXWAsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgJ2xpbmUtY29sb3InOiBjb2xvcixcbiAgICAgICAgICAndGFyZ2V0LWFycm93LWNvbG9yJzogY29sb3JcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY3l0b3NjYXBlKHtcbiAgICAgIGNvbnRhaW5lcjogZ3JhcGhDb250YWluZXIsXG4gICAgICBlbGVtZW50czogZWxlbWVudHMsXG4gICAgICBzdHlsZTogc3R5bGUsXG4gICAgICBsYXlvdXQ6IHtcbiAgICAgICAgbmFtZTogJ2RhZ3JlJyxcbiAgICAgICAgcmFua0RpcjogJ0xSJywgLy8gTGVmdCB0byBSaWdodFxuICAgICAgICBzcGFjaW5nRmFjdG9yOiAxLjUgLy8gSW5jcmVhc2Ugc3BhY2luZyBiZXR3ZWVuIG5vZGVzXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgZ2VuZXJhdGVDb2xvciA9IChzdHI6IHN0cmluZykgPT4ge1xuICAgIGxldCBoYXNoID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgaGFzaCA9IHN0ci5jaGFyQ29kZUF0KGkpICsgKChoYXNoIDw8IDUpIC0gaGFzaCk7XG4gICAgfVxuICAgIGxldCBjb2xvciA9ICcjJztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgY29uc3QgdmFsdWUgPSAoaGFzaCA+PiAoaSAqIDgpKSAmIDB4RkY7XG4gICAgICBjb2xvciArPSAoJzAwJyArIHZhbHVlLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC0yKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbG9yO1xuICB9XG5cbiAgY29uc3QgY29udmVydEhpc3RvcnlUb0N5dG9zY2FwZUVsZW1lbnRzID0gKCkgPT4ge1xuICAgIGNvbnN0IG5vZGVzOiBhbnlbXSA9IFtdO1xuICAgIGNvbnN0IGVkZ2VzOiBhbnlbXSA9IFtdO1xuICAgIGNvbnN0IGhpc3RvcnkgPSBoaXN0b3J5TWFuYWdlci5nZXRSYXdIaXN0b3J5KCk7XG4gICAgY29uc3QgYnJhbmNoQ29sb3JzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge307XG5cbiAgICBmb3IgKGNvbnN0IGJyYW5jaElkIGluIGhpc3RvcnkuYnJhbmNoZXMpIHtcbiAgICAgIGJyYW5jaENvbG9yc1ticmFuY2hJZF0gPSBnZW5lcmF0ZUNvbG9yKGJyYW5jaElkKTtcbiAgICAgIGNvbnN0IHR1cm5zID0gaGlzdG9yeS5icmFuY2hlc1ticmFuY2hJZF07XG4gICAgICBjb25zdCB0dXJuSW5kaWNlcyA9IE9iamVjdC5rZXlzKHR1cm5zKS5tYXAoTnVtYmVyKS5zb3J0KChhLCBiKSA9PiBhIC0gYik7XG5cbiAgICAgIGxldCBsYXN0VHVyblZpcnR1YWxOb2RlSWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gICAgICB0dXJuSW5kaWNlcy5mb3JFYWNoKHR1cm5JbmRleCA9PiB7XG4gICAgICAgIGNvbnN0IHR1cm4gPSB0dXJuc1t0dXJuSW5kZXhdO1xuICAgICAgICBjb25zdCB0dXJuVmlydHVhbE5vZGVJZCA9IGB0dXJuLSR7YnJhbmNoSWR9LSR7dHVybkluZGV4fWA7XG5cbiAgICAgICAgLy8gQWRkIHZpcnR1YWwgbm9kZSBmb3IgdGhlIHR1cm5cbiAgICAgICAgbm9kZXMucHVzaCh7IGRhdGE6IHsgaWQ6IHR1cm5WaXJ0dWFsTm9kZUlkLCBicmFuY2g6IGJyYW5jaElkLCB0eXBlOiAndmlydHVhbCcgfSB9KTtcblxuICAgICAgICBpZiAobGFzdFR1cm5WaXJ0dWFsTm9kZUlkKSB7XG4gICAgICAgICAgZWRnZXMucHVzaCh7IGRhdGE6IHsgc291cmNlOiBsYXN0VHVyblZpcnR1YWxOb2RlSWQsIHRhcmdldDogdHVyblZpcnR1YWxOb2RlSWQsIGJyYW5jaDogYnJhbmNoSWQgfSB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhZ2VzID0gT2JqZWN0LnZhbHVlcyh0dXJuLnBhZ2VzKTtcbiAgICAgICAgcGFnZXMuZm9yRWFjaChwYWdlID0+IHtcbiAgICAgICAgICBpZiAocGFnZSkge1xuICAgICAgICAgICAgbm9kZXMucHVzaCh7IGRhdGE6IHsgaWQ6IHBhZ2UuaWQsIGJyYW5jaDogYnJhbmNoSWQgfSB9KTtcbiAgICAgICAgICAgIGVkZ2VzLnB1c2goeyBkYXRhOiB7IHNvdXJjZTogdHVyblZpcnR1YWxOb2RlSWQsIHRhcmdldDogcGFnZS5pZCwgYnJhbmNoOiBicmFuY2hJZCB9IH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGxhc3RUdXJuVmlydHVhbE5vZGVJZCA9IHR1cm5WaXJ0dWFsTm9kZUlkO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB7IGVsZW1lbnRzOiB7IG5vZGVzLCBlZGdlcyB9LCBicmFuY2hDb2xvcnMgfTtcbiAgfTtcblxuICBjb25zdCByZW5kZXJGdWxsSGlzdG9yeSA9ICgpID0+IHtcbiAgICBtZXNzYWdlQ29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICAgIC8vIFRoaXMgbmVlZHMgdG8gYmUgcmV3cml0dGVuIGZvciB2Mi4wXG4gICAgLy8gV2UnbGwgZ2V0IHRoZSByYXcgdHVybnMgb2JqZWN0IGZvciB0aGUgYWN0aXZlIGJyYW5jaFxuICAgIGNvbnN0IGFjdGl2ZUJyYW5jaElkID0gaGlzdG9yeU1hbmFnZXIuZ2V0QWN0aXZlQnJhbmNoSWQoKTtcbiAgICAvLyBAdHMtaWdub3JlIC0gQWNjZXNzaW5nIHByaXZhdGUgaGlzdG9yeSBmb3Igbm93LiBBIHB1YmxpYyBtZXRob2Qgd291bGQgYmUgYmV0dGVyLlxuICAgIGNvbnN0IHR1cm5zID0gaGlzdG9yeU1hbmFnZXIuaGlzdG9yeS5icmFuY2hlc1thY3RpdmVCcmFuY2hJZF07XG4gICAgY29uc3QgdHVybkluZGljZXMgPSBPYmplY3Qua2V5cyh0dXJucykubWFwKE51bWJlcikuc29ydCgoYSwgYikgPT4gYSAtIGIpO1xuXG4gICAgaWYgKHR1cm5JbmRpY2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgbWVzc2FnZUNvbnRhaW5lci5pbm5lckhUTUwgPSAnPHAgY2xhc3M9XCJ0ZXh0LXNlY29uZGFyeSB0ZXh0LWNlbnRlciBwLTRcIj7lvZPliY3liIbmlK/msqHmnInljoblj7LorrDlvZXjgII8L3A+JztcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0dXJuSW5kaWNlcy5mb3JFYWNoKHR1cm5JbmRleCA9PiB7XG4gICAgICBjb25zdCB0dXJuID0gdHVybnNbdHVybkluZGV4XTtcbiAgICAgIGNvbnN0IGRldGFpbHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkZXRhaWxzJyk7XG4gICAgICBkZXRhaWxzLmNsYXNzTmFtZSA9ICdoaXN0b3J5LWVudHJ5JztcblxuICAgICAgY29uc3Qgc3VtbWFyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N1bW1hcnknKTtcbiAgICAgIHN1bW1hcnkuY2xhc3NOYW1lID0gJ2hpc3Rvcnktc3VtbWFyeSc7XG4gICAgICBjb25zdCBmaXJzdFBhZ2UgPSB0dXJuLnBhZ2VzWzBdO1xuICAgICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoZmlyc3RQYWdlPy50aW1lc3RhbXAgfHwgRGF0ZS5ub3coKSkudG9Mb2NhbGVTdHJpbmcoKTtcbiAgICAgIFxuICAgICAgbGV0IHJvbGVIdG1sID0gJyc7XG4gICAgICBpZiAodHVybi5yb2xlID09PSAndXNlcicpIHtcbiAgICAgICAgcm9sZUh0bWwgPSAnPHNwYW4gY2xhc3M9XCJoaXN0b3J5LXJvbGUtYmFkZ2UgdXNlci1iYWRnZVwiPueOqeWutjwvc3Bhbj4nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcm9sZUh0bWwgPSAnPHNwYW4gY2xhc3M9XCJoaXN0b3J5LXJvbGUtYmFkZ2UgYXNzaXN0YW50LWJhZGdlXCI+QUk8L3NwYW4+JztcbiAgICAgIH1cblxuICAgICAgc3VtbWFyeS5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxzcGFuIGNsYXNzPVwiZm9udC1zZW1pYm9sZFwiPuesrCAke3R1cm5JbmRleCArIDF9IOWbnuWQiDwvc3Bhbj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG1sLTRcIj4ke3JvbGVIdG1sfTwvZGl2PlxuICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtc2Vjb25kYXJ5IHRleHQteHMgbWwtYXV0b1wiPiR7dGltZXN0YW1wfTwvc3Bhbj5cbiAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtY2hldnJvbi1kb3duIHN1bW1hcnktYXJyb3dcIj48L2k+XG4gICAgICBgO1xuXG4gICAgICBjb25zdCBjb250ZW50V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgY29udGVudFdyYXBwZXIuY2xhc3NOYW1lID0gJ2hpc3RvcnktY29udGVudC12Mic7XG4gICAgICBcbiAgICAgIGlmICh0dXJuLnJvbGUgPT09ICd1c2VyJyAmJiBmaXJzdFBhZ2UpIHtcbiAgICAgICAgcmVuZGVyVXNlck1lc3NhZ2UoY29udGVudFdyYXBwZXIsIGZpcnN0UGFnZSwgdHVybkluZGV4KTtcbiAgICAgIH0gZWxzZSBpZiAodHVybi5yb2xlID09PSAnYXNzaXN0YW50Jykge1xuICAgICAgICByZW5kZXJBc3Npc3RhbnRNZXNzYWdlKGNvbnRlbnRXcmFwcGVyLCB0dXJuLCB0dXJuSW5kZXgpO1xuICAgICAgfVxuXG4gICAgICBkZXRhaWxzLmFwcGVuZENoaWxkKHN1bW1hcnkpO1xuICAgICAgZGV0YWlscy5hcHBlbmRDaGlsZChjb250ZW50V3JhcHBlcik7XG4gICAgICBtZXNzYWdlQ29udGFpbmVyLmFwcGVuZENoaWxkKGRldGFpbHMpO1xuICAgIH0pO1xuICAgIFxuICAgIG1lc3NhZ2VDb250YWluZXIuc2Nyb2xsVG9wID0gbWVzc2FnZUNvbnRhaW5lci5zY3JvbGxIZWlnaHQ7XG4gIH07XG5cbiAgY29uc3QgcmVuZGVyVXNlck1lc3NhZ2UgPSAoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgbXNnOiBNZXNzYWdlUGFnZSwgdHVybkluZGV4OiBudW1iZXIpID0+IHtcbiAgICBjb25zdCB1c2VyQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdXNlckNvbnRhaW5lci5jbGFzc05hbWUgPSAnaGlzdG9yeS11c2VyLW1lc3NhZ2UnO1xuICAgIHVzZXJDb250YWluZXIuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cImhpc3Rvcnktcm9sZS1oZWFkZXIgdXNlci1oZWFkZXJcIj7nlKjmiLc8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJoaXN0b3J5LWNvbnRlbnQtZGlzcGxheVwiPiR7bWFya2VkLnBhcnNlKG1zZy5jb250ZW50KX08L2Rpdj5cbiAgICAgICR7Y3JlYXRlQ29udHJvbHModHVybkluZGV4LCBtc2csICd1c2VyJyl9XG4gICAgYDtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodXNlckNvbnRhaW5lcik7XG4gICAgYXR0YWNoQnV0dG9uRXZlbnRMaXN0ZW5lcnModXNlckNvbnRhaW5lciwgbXNnLCB0dXJuSW5kZXgpO1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlckFzc2lzdGFudE1lc3NhZ2UgPSAoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgdHVybjogVHVybiwgdHVybkluZGV4OiBudW1iZXIpID0+IHtcbiAgICBjb25zdCBhc3Npc3RhbnRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBhc3Npc3RhbnRDb250YWluZXIuY2xhc3NOYW1lID0gJ2hpc3RvcnktYXNzaXN0YW50LW1lc3NhZ2UnO1xuICAgIFxuICAgIGNvbnN0IHBhZ2VzID0gdHVybi5wYWdlcztcbiAgICBjb25zdCBwYWdlSW5kaWNlcyA9IE9iamVjdC5rZXlzKHBhZ2VzKS5tYXAoTnVtYmVyKS5zb3J0KChhLCBiKSA9PiBhIC0gYik7XG4gICAgbGV0IGFjdGl2ZVBhZ2VJbmRleCA9IHR1cm4uYWN0aXZlUGFnZUluZGV4O1xuXG4gICAgY29uc3QgdXBkYXRlVmlldyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gcGFnZXNbYWN0aXZlUGFnZUluZGV4XTtcbiAgICAgIGlmICghY3VycmVudFBhZ2UpIHJldHVybjtcblxuICAgICAgY29uc3QgeyBzdG9yeSwgc3RhdHVzIH0gPSBwYXJzZUNvbnRlbnQoY3VycmVudFBhZ2UuY29udGVudCk7XG4gICAgICBcbiAgICAgIGFzc2lzdGFudENvbnRhaW5lci5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtYi0yIHN3aXBlLWNvbnRyb2xzLWhpc3RvcnlcIj5cbiAgICAgICAgICA8YnV0dG9uIGRhdGEtYWN0aW9uPVwicHJldi1zd2lwZVwiIGNsYXNzPVwiYnRuLWljb25cIj48aSBjbGFzcz1cImZhcyBmYS1jaGV2cm9uLWxlZnRcIj48L2k+PC9idXR0b24+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJzd2lwZS1jb3VudGVyLWhpc3RvcnkgZm9udC1tb25vIHRleHQtc20gbXgtNFwiPiR7YWN0aXZlUGFnZUluZGV4ICsgMX0gLyAke3BhZ2VJbmRpY2VzLmxlbmd0aH08L3NwYW4+XG4gICAgICAgICAgPGJ1dHRvbiBkYXRhLWFjdGlvbj1cIm5leHQtc3dpcGVcIiBjbGFzcz1cImJ0bi1pY29uXCI+PGkgY2xhc3M9XCJmYXMgZmEtY2hldnJvbi1yaWdodFwiPjwvaT48L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGJvcmRlci1iIGJvcmRlci1kaW0gbWItMlwiPlxuICAgICAgICAgIDxidXR0b24gZGF0YS10YWI9XCJzdG9yeVwiIGNsYXNzPVwibWFpbi10YWItYnRuIGFjdGl2ZVwiPuaVheS6izwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gZGF0YS10YWI9XCJzdGF0dXNcIiBjbGFzcz1cIm1haW4tdGFiLWJ0blwiPueKtuaAgTwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBkYXRhLXRhYi1jb250ZW50PVwic3RvcnlcIiBjbGFzcz1cIm1haW4tdGFiLWNvbnRlbnQgaGlzdG9yeS1jb250ZW50LWRpc3BsYXlcIj4ke21hcmtlZC5wYXJzZShzdG9yeSl9PC9kaXY+XG4gICAgICAgIDxkaXYgZGF0YS10YWItY29udGVudD1cInN0YXR1c1wiIGNsYXNzPVwibWFpbi10YWItY29udGVudCBoaXN0b3J5LWNvbnRlbnQtZGlzcGxheSBoaWRkZW5cIj5cbiAgICAgICAgICA8cHJlIGNsYXNzPVwid2hpdGVzcGFjZS1wcmUtd3JhcCB0ZXh0LXhzIGZvbnQtbW9ub1wiPiR7c3RhdHVzfTwvcHJlPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgJHtjcmVhdGVDb250cm9scyh0dXJuSW5kZXgsIGN1cnJlbnRQYWdlLCAnYXNzaXN0YW50Jyl9XG4gICAgICBgO1xuICAgICAgYXR0YWNoQWxsRXZlbnRMaXN0ZW5lcnMoYXNzaXN0YW50Q29udGFpbmVyLCBjdXJyZW50UGFnZSwgdHVybkluZGV4KTtcbiAgICB9O1xuXG4gICAgY29uc3QgYXR0YWNoQWxsRXZlbnRMaXN0ZW5lcnMgPSAoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgbXNnOiBNZXNzYWdlUGFnZSwgdHVybkluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgIGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3Rpb249XCJwcmV2LXN3aXBlXCJdJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBpZiAoYWN0aXZlUGFnZUluZGV4ID4gMCkge1xuICAgICAgICAgIGFjdGl2ZVBhZ2VJbmRleC0tO1xuICAgICAgICAgIHVwZGF0ZVZpZXcoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb250YWluZXIucXVlcnlTZWxlY3RvcignW2RhdGEtYWN0aW9uPVwibmV4dC1zd2lwZVwiXScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgaWYgKGFjdGl2ZVBhZ2VJbmRleCA8IHBhZ2VJbmRpY2VzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICBhY3RpdmVQYWdlSW5kZXgrKztcbiAgICAgICAgICB1cGRhdGVWaWV3KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5tYWluLXRhYi1idG4nKS5mb3JFYWNoKHRhYiA9PiB7XG4gICAgICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLm1haW4tdGFiLWJ0bicpLmZvckVhY2godCA9PiB0LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTtcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgICAgY29uc3QgdGFiSWQgPSB0YWIuZ2V0QXR0cmlidXRlKCdkYXRhLXRhYicpO1xuICAgICAgICAgIGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcubWFpbi10YWItY29udGVudCcpLmZvckVhY2goY29udGVudCA9PiB7XG4gICAgICAgICAgICBjb250ZW50LmdldEF0dHJpYnV0ZSgnZGF0YS10YWItY29udGVudCcpID09PSB0YWJJZFxuICAgICAgICAgICAgICA/IGNvbnRlbnQuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJylcbiAgICAgICAgICAgICAgOiBjb250ZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgYXR0YWNoQnV0dG9uRXZlbnRMaXN0ZW5lcnMoY29udGFpbmVyLCBtc2csIHR1cm5JbmRleCk7XG4gICAgfTtcblxuICAgIHVwZGF0ZVZpZXcoKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoYXNzaXN0YW50Q29udGFpbmVyKTtcbiAgfTtcblxuICBjb25zdCBjcmVhdGVDb250cm9scyA9ICh0dXJuSW5kZXg6IG51bWJlciwgbXNnOiBNZXNzYWdlUGFnZSwgcm9sZTogJ3VzZXInIHwgJ2Fzc2lzdGFudCcpOiBzdHJpbmcgPT4ge1xuICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IHJvbGUgPT09ICdhc3Npc3RhbnQnID8gYFxuICAgICAgPGJ1dHRvbiBkYXRhLWFjdGlvbj1cImRlbGV0ZVwiIGNsYXNzPVwiYnRuLWRhbmdlciBidG4tc20gbWwtMlwiPjxpIGNsYXNzPVwiZmFzIGZhLXRyYXNoLWFsdCBtci0xXCI+PC9pPiDliKDpmaTlm57lkIg8L2J1dHRvbj5cbiAgICBgIDogJyc7XG4gICAgcmV0dXJuIGBcbiAgICAgIDxkaXYgY2xhc3M9XCJoaXN0b3J5LWNvbnRyb2xzXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgPGJ1dHRvbiBkYXRhLWFjdGlvbj1cImVkaXRcIiBjbGFzcz1cImJ0bi1zZWNvbmRhcnkgYnRuLXNtXCI+PGkgY2xhc3M9XCJmYXMgZmEtZWRpdCBtci0xXCI+PC9pPiDnvJbovpE8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGRhdGEtYWN0aW9uPVwiYnJhbmNoXCIgY2xhc3M9XCJidG4tYWNjZW50IGJ0bi1zbSBtbC0yXCI+PGkgY2xhc3M9XCJmYXMgZmEtY29kZS1icmFuY2ggbXItMVwiPjwvaT4g5LuO5q2k5Yib5bu65YiG5pSvPC9idXR0b24+XG4gICAgICAgICAgJHtkZWxldGVCdXR0b259XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgfTtcblxuICBjb25zdCBhdHRhY2hCdXR0b25FdmVudExpc3RlbmVycyA9IChjb250YWluZXI6IEhUTUxFbGVtZW50LCBtc2c6IE1lc3NhZ2VQYWdlLCB0dXJuSW5kZXg6IG51bWJlcikgPT4ge1xuICAgIGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3Rpb249XCJlZGl0XCJdJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdG9nZ2xlRWRpdE1vZGUodHJ1ZSwgY29udGFpbmVyLCBtc2csIHR1cm5JbmRleCk7XG4gICAgfSk7XG4gICAgY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjdGlvbj1cImJyYW5jaFwiXScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNyZWF0ZUJyYW5jaEZyb21IaXN0b3J5KHR1cm5JbmRleCk7XG4gICAgfSk7XG4gICAgY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjdGlvbj1cImRlbGV0ZVwiXScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGRlbGV0ZVR1cm5Gcm9tSGlzdG9yeSh0dXJuSW5kZXgpO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGRlbGV0ZVR1cm5Gcm9tSGlzdG9yeSA9IGFzeW5jICh0dXJuSW5kZXg6IG51bWJlcikgPT4ge1xuICAgIGlmIChjb25maXJtKGDnoa7lrpropoHliKDpmaTnrKwgJHt0dXJuSW5kZXggKyAxfSDlm57lkIjlkJfvvJ9cXG7mraTmk43kvZzlnKjlvZPliY3liIbmlK/kuIrkuI3lj6/pgIbvvIFgKSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgaGlzdG9yeU1hbmFnZXIuZGVsZXRlVHVybih0dXJuSW5kZXgpO1xuICAgICAgICB0b2FzdHIuc3VjY2Vzcygn5Zue5ZCI5bey5oiQ5Yqf5Yig6Zmk77yBJyk7XG4gICAgICAgIHJlbmRlckZ1bGxIaXN0b3J5KCk7XG4gICAgICAgIC8vIFBvdGVudGlhbGx5IHJlbG9hZCBtYWluIHZpZXcgaWYgdGhlIGxhc3QgdHVybiB3YXMgZGVsZXRlZFxuICAgICAgICBpZiAod2luZG93LnN0b3J5UmVuZGVyZXIpIHtcbiAgICAgICAgICAgIHdpbmRvdy5zdG9yeVJlbmRlcmVyLmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGRlbGV0ZSB0dXJuOicsIGVycm9yKTtcbiAgICAgICAgdG9hc3RyLmVycm9yKCfliKDpmaTlm57lkIjlpLHotKXvvIzor7fmn6XnnIvmjqfliLblj7Dojrflj5bor6bmg4XjgIInKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgY3JlYXRlQnJhbmNoRnJvbUhpc3RvcnkgPSBhc3luYyAodHVybkluZGV4OiBudW1iZXIpID0+IHtcbiAgICBpZiAoY29uZmlybShg56Gu5a6a6KaB5LuO56ysICR7dHVybkluZGV4ICsgMX0g5Zue5ZCI5Yib5bu65paw55qE5pWF5LqL5YiG5pSv5ZCX77yfXFxu5b2T5YmN6L+b5bqm5bCG6KKr5L+d5a2Y77yM5bqU55So5bCG6YeN5paw5Yqg6L295Yiw5paw5YiG5pSv44CCYCkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGhpc3RvcnlNYW5hZ2VyLmNyZWF0ZUJyYW5jaCh0dXJuSW5kZXgpO1xuICAgICAgICB0b2FzdHIuc3VjY2Vzcygn5paw5YiG5pSv5bey5oiQ5Yqf5Yib5bu677yB5q2j5Zyo5Yi35paw5bqU55SoLi4uJyk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpLCAxNTAwKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgYnJhbmNoOicsIGVycm9yKTtcbiAgICAgICAgdG9hc3RyLmVycm9yKCfliJvlu7rliIbmlK/lpLHotKXvvIzor7fmn6XnnIvmjqfliLblj7Dojrflj5bor6bmg4XjgIInKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdG9nZ2xlRWRpdE1vZGUgPSAoaXNFZGl0aW5nOiBib29sZWFuLCBjb250YWluZXI6IEhUTUxFbGVtZW50LCBtc2c6IE1lc3NhZ2VQYWdlLCB0dXJuSW5kZXg6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IG9yaWdpbmFsUGFyZW50ID0gY29udGFpbmVyLnBhcmVudEVsZW1lbnQ7XG4gICAgaWYgKCFvcmlnaW5hbFBhcmVudCkgcmV0dXJuO1xuXG4gICAgY29uc3QgZGlzcGxheUVsZW1lbnQgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmhpc3RvcnktY29udGVudC1kaXNwbGF5Jyk7XG4gICAgY29uc3QgY29udHJvbHNFbGVtZW50ID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5oaXN0b3J5LWNvbnRyb2xzJyk7XG4gICAgaWYgKCFkaXNwbGF5RWxlbWVudCB8fCAhY29udHJvbHNFbGVtZW50KSByZXR1cm47XG5cbiAgICBpZiAoaXNFZGl0aW5nKSB7XG4gICAgICBkaXNwbGF5RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGNvbnRyb2xzRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcblxuICAgICAgY29uc3QgZWRpdENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgZWRpdENvbnRhaW5lci5jbGFzc05hbWUgPSAnaGlzdG9yeS1lZGl0LWNvbnRhaW5lciBzcGFjZS15LTQgcC0yJztcbiAgICAgIGNvbnN0IHsgc3RvcnksIHN0YXR1cyB9ID0gcGFyc2VDb250ZW50KG1zZy5jb250ZW50KTtcbiAgICAgIFxuICAgICAgZWRpdENvbnRhaW5lci5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGxhYmVsIGNsYXNzPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXNlY29uZGFyeSBtYi0xXCI+5pWF5LqL5YaF5a65PC9sYWJlbD5cbiAgICAgICAgICA8dGV4dGFyZWEgY2xhc3M9XCJzdG9yeS1lZGl0b3Igdy1mdWxsIGJnLXNlY29uZGFyeSByb3VuZGVkIGJvcmRlciBib3JkZXItZGltIHAtMiB0ZXh0LXByaW1hcnkgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYWNjZW50IGZvY3VzOm91dGxpbmUtbm9uZSB0aGVtZS10cmFuc2l0aW9uIGZvbnQtbW9ub1wiIHJvd3M9XCI4XCI+PC90ZXh0YXJlYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgICR7bXNnLnJvbGUgPT09ICdhc3Npc3RhbnQnID8gYFxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1zZWNvbmRhcnkgbWItMVwiPueKtuaAgSAoSlNPTik8L2xhYmVsPlxuICAgICAgICAgIDx0ZXh0YXJlYSBjbGFzcz1cInN0YXR1cy1lZGl0b3Igdy1mdWxsIGJnLXNlY29uZGFyeSByb3VuZGVkIGJvcmRlciBib3JkZXItZGltIHAtMiB0ZXh0LXByaW1hcnkgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYWNjZW50IGZvY3VzOm91dGxpbmUtbm9uZSB0aGVtZS10cmFuc2l0aW9uIGZvbnQtbW9ub1wiIHJvd3M9XCI1XCI+PC90ZXh0YXJlYT5cbiAgICAgICAgPC9kaXY+YCA6ICcnfVxuICAgICAgYDtcbiAgICAgIChlZGl0Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5zdG9yeS1lZGl0b3InKSBhcyBIVE1MVGV4dEFyZWFFbGVtZW50KS52YWx1ZSA9IHN0b3J5O1xuICAgICAgaWYgKG1zZy5yb2xlID09PSAnYXNzaXN0YW50Jykge1xuICAgICAgICAoZWRpdENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc3RhdHVzLWVkaXRvcicpIGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQpLnZhbHVlID0gc3RhdHVzO1xuICAgICAgfVxuICAgICAgY29uc3QgY29udHJvbHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNvbnRyb2xzLmNsYXNzTmFtZSA9ICdmbGV4IGp1c3RpZnktZW5kIHNwYWNlLXgtMic7XG4gICAgICBjb250cm9scy5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4tcHJpbWFyeSBidG4tc20gc2F2ZS1idG5cIj48aSBjbGFzcz1cImZhcyBmYS1zYXZlIG1yLTFcIj48L2k+IOS/neWtmDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuLXNlY29uZGFyeSBidG4tc20gY2FuY2VsLWJ0blwiPjxpIGNsYXNzPVwiZmFzIGZhLXRpbWVzIG1yLTFcIj48L2k+IOWPlua2iDwvYnV0dG9uPlxuICAgICAgYDtcbiAgICAgIGVkaXRDb250YWluZXIuYXBwZW5kQ2hpbGQoY29udHJvbHMpO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGVkaXRDb250YWluZXIpO1xuXG4gICAgICBjb250cm9scy5xdWVyeVNlbGVjdG9yKCcuc2F2ZS1idG4nKSEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBzYXZlQ2hhbmdlcyhtc2csIGNvbnRhaW5lcikpO1xuICAgICAgY29udHJvbHMucXVlcnlTZWxlY3RvcignLmNhbmNlbC1idG4nKSEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiByZW5kZXJGdWxsSGlzdG9yeSgpKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc2F2ZUNoYW5nZXMgPSBhc3luYyAobXNnOiBNZXNzYWdlUGFnZSwgY29udGFpbmVyOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IHN0b3J5ID0gKGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc3RvcnktZWRpdG9yJykgYXMgSFRNTFRleHRBcmVhRWxlbWVudCkudmFsdWU7XG4gICAgbGV0IG5ld0NvbnRlbnQgPSBzdG9yeTtcblxuICAgIGlmIChtc2cucm9sZSA9PT0gJ2Fzc2lzdGFudCcpIHtcbiAgICAgIGNvbnN0IHN0YXR1cyA9IChjb250YWluZXIucXVlcnlTZWxlY3RvcignLnN0YXR1cy1lZGl0b3InKSBhcyBIVE1MVGV4dEFyZWFFbGVtZW50KS52YWx1ZTtcbiAgICAgIG5ld0NvbnRlbnQgPSBjb21iaW5lQ29udGVudChzdG9yeSwgc3RhdHVzKTtcbiAgICB9XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGhpc3RvcnlNYW5hZ2VyLnVwZGF0ZU1lc3NhZ2VQYWdlQ29udGVudChtc2cuaWQsIG5ld0NvbnRlbnQpO1xuICAgICAgdG9hc3RyLnN1Y2Nlc3MoYOa2iOaBr+W3suS/neWtmCFgKTtcbiAgICAgIHJlbmRlckZ1bGxIaXN0b3J5KCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzYXZlIGhpc3Rvcnk6JywgZXJyb3IpO1xuICAgICAgdG9hc3RyLmVycm9yKCfkv53lrZjljoblj7LorrDlvZXlpLHotKXvvIzor7fmn6XnnIvmjqfliLblj7DjgIInKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc2hvd01vZGFsID0gYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGhpc3RvcnlNYW5hZ2VyLmxvYWRIaXN0b3J5KCk7XG4gICAgcmVuZGVyQnJhbmNoVGFicygpO1xuICAgIHJlbmRlckZ1bGxIaXN0b3J5KCk7IC8vIERlZmF1bHQgdG8gbWVzc2FnZSB2aWV3XG4gICAgaGlzdG9yeU1lc3NhZ2VzQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIGdyYXBoQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5icmFuY2gtdGFiLmFjdGl2ZScpPy5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICBncmFwaFRhYi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgfTtcblxuICBjb25zdCBoaWRlTW9kYWwgPSAoKSA9PiBtb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcblxuICBjb25zdCBzZXR1cEJyYW5jaEFjdGlvbkJ1dHRvbnMgPSAoKSA9PiB7XG4gICAgY29uc3QgbWVzc2FnZXNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlzdG9yeS1tZXNzYWdlcy1jb250YWluZXInKTtcbiAgICBpZiAoIW1lc3NhZ2VzQ29udGFpbmVyKSByZXR1cm47XG5cbiAgICBtZXNzYWdlc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdmbGV4JywgJ2ZsZXgtY29sJyk7XG5cbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb250YWluZXIuaWQgPSAnYnJhbmNoLWFjdGlvbnMtY29udGFpbmVyJztcbiAgICBjb250YWluZXIuY2xhc3NOYW1lID0gJ2ZsZXggZmxleC1yb3cgZ2FwLTIganVzdGlmeS1lbmQgcC0yJzsgXG4gICAgXG4gICAgY29udGFpbmVyLmlubmVySFRNTCA9IGBcbiAgICAgIDxidXR0b24gaWQ9XCJyZW5hbWUtYnJhbmNoLWJ0blwiIGNsYXNzPVwiYnRuLXNlY29uZGFyeSBidG4tc21cIj48aSBjbGFzcz1cImZhcyBmYS1wZW5jaWwtYWx0IG1yLTJcIj48L2k+6YeN5ZG95ZCN5b2T5YmN5YiG5pSvPC9idXR0b24+XG4gICAgICA8YnV0dG9uIGlkPVwiZGVsZXRlLWJyYW5jaC1idG5cIiBjbGFzcz1cImJ0bi1kYW5nZXIgYnRuLXNtXCI+PGkgY2xhc3M9XCJmYXMgZmEtdHJhc2gtYWx0IG1yLTJcIj48L2k+5Yig6Zmk5b2T5YmN5YiG5pSvPC9idXR0b24+XG4gICAgYDtcblxuICAgIG1lc3NhZ2VzQ29udGFpbmVyLmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVuYW1lLWJyYW5jaC1idG4nKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBhY3RpdmVCcmFuY2hJZCA9IGhpc3RvcnlNYW5hZ2VyLmdldEFjdGl2ZUJyYW5jaElkKCk7XG4gICAgICBjb25zdCBhY3RpdmVCcmFuY2ggPSBoaXN0b3J5TWFuYWdlci5nZXRCcmFuY2hlcygpLmZpbmQoYiA9PiBiLmlkID09PSBhY3RpdmVCcmFuY2hJZCk7XG4gICAgICBpZiAoYWN0aXZlQnJhbmNoKSB7XG4gICAgICAgIHJlbmFtZUJyYW5jaChhY3RpdmVCcmFuY2guaWQsIGFjdGl2ZUJyYW5jaC5uYW1lKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZWxldGUtYnJhbmNoLWJ0bicpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGFjdGl2ZUJyYW5jaElkID0gaGlzdG9yeU1hbmFnZXIuZ2V0QWN0aXZlQnJhbmNoSWQoKTtcbiAgICAgIGNvbnN0IGFjdGl2ZUJyYW5jaCA9IGhpc3RvcnlNYW5hZ2VyLmdldEJyYW5jaGVzKCkuZmluZChiID0+IGIuaWQgPT09IGFjdGl2ZUJyYW5jaElkKTtcbiAgICAgIGlmIChhY3RpdmVCcmFuY2gpIHtcbiAgICAgICAgZGVsZXRlQnJhbmNoKGFjdGl2ZUJyYW5jaC5pZCwgYWN0aXZlQnJhbmNoLm5hbWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIG9wZW5CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93TW9kYWwpO1xuICBjbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhpZGVNb2RhbCk7XG4gIG1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBpZiAoZS50YXJnZXQgPT09IG1vZGFsKSBoaWRlTW9kYWwoKTtcbiAgfSk7XG5cbiAgZ3JhcGhUYWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgaGlzdG9yeU1lc3NhZ2VzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIGdyYXBoQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5icmFuY2gtdGFiJykuZm9yRWFjaCh0YWIgPT4gdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTtcbiAgICBncmFwaFRhYi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICByZW5kZXJHcmFwaCgpO1xuICB9KTtcblxuICBicmFuY2hUYWJzQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICBjb25zdCB0YWIgPSB0YXJnZXQuY2xvc2VzdCgnLmJyYW5jaC10YWInKTtcbiAgICBpZiAodGFiKSB7XG4gICAgICAgIGhpc3RvcnlNZXNzYWdlc0NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgZ3JhcGhDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGdyYXBoVGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICAvLyBUaGUgYnJhbmNoIHN3aXRjaGluZyBsb2dpYyB3aWxsIGhhbmRsZSBhZGRpbmcgJ2FjdGl2ZScgdG8gdGhlIGNvcnJlY3QgYnJhbmNoIHRhYlxuICAgIH1cbiAgfSk7XG5cblxuICBzZXR1cEJyYW5jaEFjdGlvbkJ1dHRvbnMoKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/history.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/menu.ts": 
  /*!**************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/menu.ts ***!
  \**************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initMenuModal: () => (/* binding */ initMenuModal)\n/* harmony export */ });\n/* harmony import */ var _core_ui__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/ui */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/ui.ts\");\n/* harmony import */ var _core_variables__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/variables */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/variables.ts\");\n\n\n/**\n * 初始化菜单模态框\n * @param historyManager ChatHistoryManager 的实例\n */\nfunction initMenuModal(historyManager) {\n    const menuBtn = document.getElementById('menu-btn');\n    const menuModal = document.getElementById('menu-modal');\n    const closeBtn = document.getElementById('menu-modal-close-btn');\n    const newGameBtn = document.getElementById('new-game-btn');\n    const loadGameBtn = document.getElementById('load-game-btn');\n    const saveGameBtn = document.getElementById('save-game-btn');\n    if (!menuBtn || !menuModal || !closeBtn || !newGameBtn || !loadGameBtn || !saveGameBtn) {\n        console.error('缺少必要的菜单模态框元素');\n        return;\n    }\n    // 打开菜单\n    menuBtn.addEventListener('click', () => {\n        (0,_core_ui__WEBPACK_IMPORTED_MODULE_0__.showModal)(menuModal);\n    });\n    // 关闭菜单\n    closeBtn.addEventListener('click', () => {\n        (0,_core_ui__WEBPACK_IMPORTED_MODULE_0__.hideModal)(menuModal);\n    });\n    // 主菜单按钮\n    newGameBtn.textContent = '主菜单';\n    newGameBtn.addEventListener('click', () => {\n        // 触发一个自定义事件，让 index.ts 来处理屏幕切换\n        window.dispatchEvent(new CustomEvent('request-main-menu'));\n        (0,_core_ui__WEBPACK_IMPORTED_MODULE_0__.hideModal)(document.getElementById('menu-modal'));\n    });\n    // 加载存档\n    loadGameBtn.addEventListener('click', () => {\n        const fileInput = document.createElement('input');\n        fileInput.type = 'file';\n        fileInput.accept = '.json';\n        fileInput.style.display = 'none';\n        fileInput.addEventListener('change', (event) => {\n            const file = event.target.files?.[0];\n            if (!file)\n                return;\n            const reader = new FileReader();\n            reader.onload = async (e) => {\n                try {\n                    const content = e.target?.result;\n                    const data = JSON.parse(content);\n                    // 基本验证，确保它是一个对象\n                    if (typeof data === 'object' && data !== null) {\n                        await (0,_core_variables__WEBPACK_IMPORTED_MODULE_1__.overwriteAllChatVariables)(data);\n                        alert('存档加载成功！页面将重新加载以应用更改。');\n                        window.location.reload();\n                    }\n                    else {\n                        throw new Error('存档文件格式不正确，不是一个有效的JSON对象。');\n                    }\n                }\n                catch (error) {\n                    console.error('加载存档失败:', error);\n                    alert(`加载存档失败: ${error.message}`);\n                }\n            };\n            reader.readAsText(file);\n        });\n        document.body.appendChild(fileInput);\n        fileInput.click();\n        document.body.removeChild(fileInput);\n    });\n    // 下载存档\n    saveGameBtn.addEventListener('click', () => {\n        const saveData = getVariables({ type: 'chat' });\n        const json = JSON.stringify(saveData, null, 2);\n        const blob = new Blob([json], { type: 'application/json' });\n        const url = URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        const timestamp = new Date().toISOString().replace(/[:.]/g, '-');\n        a.download = `玄幻修仙世界种田-存档-${timestamp}.json`;\n        document.body.appendChild(a);\n        a.click();\n        document.body.removeChild(a);\n        URL.revokeObjectURL(url);\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvdWkvbW9kYWxzL21lbnUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ3FEO0FBQ21DO0FBS3hGOzs7R0FHRztBQUNJLFNBQVMsYUFBYSxDQUFDLGNBQWtDO0lBQzlELE1BQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDcEQsTUFBTSxTQUFTLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUN4RCxNQUFNLFFBQVEsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLHNCQUFzQixDQUFDLENBQUM7SUFDakUsTUFBTSxVQUFVLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxjQUFjLENBQUMsQ0FBQztJQUMzRCxNQUFNLFdBQVcsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0lBQzdELE1BQU0sV0FBVyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsZUFBZSxDQUFDLENBQUM7SUFFN0QsSUFBSSxDQUFDLE9BQU8sSUFBSSxDQUFDLFNBQVMsSUFBSSxDQUFDLFFBQVEsSUFBSSxDQUFDLFVBQVUsSUFBSSxDQUFDLFdBQVcsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ3ZGLE9BQU8sQ0FBQyxLQUFLLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDOUIsT0FBTztJQUNULENBQUM7SUFFRCxPQUFPO0lBQ1AsT0FBTyxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUU7UUFDckMsbURBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUN2QixDQUFDLENBQUMsQ0FBQztJQUVILE9BQU87SUFDUCxRQUFRLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRTtRQUN0QyxtREFBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3ZCLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFB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QUFNLEdBQUcsR0FBRyxHQUFHLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRXRDLE1BQU0sQ0FBQyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDdEMsQ0FBQyxDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7UUFDYixNQUFNLFNBQVMsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDLFdBQVcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDakUsQ0FBQyxDQUFDLFFBQVEsR0FBRyxlQUFlLFNBQVMsT0FBTyxDQUFDO1FBQzdDLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzdCLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNWLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzdCLEdBQUcsQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDM0IsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS8uL3NyYy/ku4DkuYjmiJHopoHlnKjnjoTlubvkv67ku5nkuJbnlYznp43nlLAtMOalvOeJiOacrC91aS9tb2RhbHMvbWVudS50cz8iXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2hhdEhpc3RvcnlNYW5hZ2VyIH0gZnJvbSAnLi4vLi4vY29yZS9oaXN0b3J5JztcclxuaW1wb3J0IHsgc2hvd01vZGFsLCBoaWRlTW9kYWwgfSBmcm9tICcuLi8uLi9jb3JlL3VpJztcclxuaW1wb3J0IHsgb3ZlcndyaXRlQWxsQ2hhdFZhcmlhYmxlcywgY2xlYXJBbGxDaGF0VmFyaWFibGVzIH0gZnJvbSAnLi4vLi4vY29yZS92YXJpYWJsZXMnO1xyXG5cclxuLy8g5aOw5piOIGdldFZhcmlhYmxlcyDlhajlsYDlh73mlbBcclxuZGVjbGFyZSBjb25zdCBnZXRWYXJpYWJsZXM6IChvcHRpb25zOiBhbnkpID0+IGFueTtcclxuXHJcbi8qKlxyXG4gKiDliJ3lp4vljJboj5zljZXmqKHmgIHmoYZcclxuICogQHBhcmFtIGhpc3RvcnlNYW5hZ2VyIENoYXRIaXN0b3J5TWFuYWdlciDnmoTlrp7kvotcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0TWVudU1vZGFsKGhpc3RvcnlNYW5hZ2VyOiBDaGF0SGlzdG9yeU1hbmFnZXIpOiB2b2lkIHtcclxuICBjb25zdCBtZW51QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnUtYnRuJyk7XHJcbiAgY29uc3QgbWVudU1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnUtbW9kYWwnKTtcclxuICBjb25zdCBjbG9zZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZW51LW1vZGFsLWNsb3NlLWJ0bicpO1xyXG4gIGNvbnN0IG5ld0dhbWVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV3LWdhbWUtYnRuJyk7XHJcbiAgY29uc3QgbG9hZEdhbWVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZC1nYW1lLWJ0bicpO1xyXG4gIGNvbnN0IHNhdmVHYW1lQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NhdmUtZ2FtZS1idG4nKTtcclxuXHJcbiAgaWYgKCFtZW51QnRuIHx8ICFtZW51TW9kYWwgfHwgIWNsb3NlQnRuIHx8ICFuZXdHYW1lQnRuIHx8ICFsb2FkR2FtZUJ0biB8fCAhc2F2ZUdhbWVCdG4pIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+e8uuWwkeW/heimgeeahOiPnOWNleaooeaAgeahhuWFg+e0oCcpO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLy8g5omT5byA6I+c5Y2VXHJcbiAgbWVudUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIHNob3dNb2RhbChtZW51TW9kYWwpO1xyXG4gIH0pO1xyXG5cclxuICAvLyDlhbPpl63oj5zljZVcclxuICBjbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIGhpZGVNb2RhbChtZW51TW9kYWwpO1xyXG4gIH0pO1xyXG5cclxuICAvLyDkuLvoj5zljZXmjInpkq5cclxuICBuZXdHYW1lQnRuLnRleHRDb250ZW50ID0gJ+S4u+iPnOWNlSc7XHJcbiAgbmV3R2FtZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIC8vIOinpuWPkeS4gOS4quiHquWumuS5ieS6i+S7tu+8jOiuqSBpbmRleC50cyDmnaXlpITnkIblsY/luZXliIfmjaJcclxuICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgncmVxdWVzdC1tYWluLW1lbnUnKSk7XHJcbiAgICBoaWRlTW9kYWwoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnUtbW9kYWwnKSk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIOWKoOi9veWtmOaho1xyXG4gIGxvYWRHYW1lQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgY29uc3QgZmlsZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgIGZpbGVJbnB1dC50eXBlID0gJ2ZpbGUnO1xyXG4gICAgZmlsZUlucHV0LmFjY2VwdCA9ICcuanNvbic7XHJcbiAgICBmaWxlSW5wdXQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHJcbiAgICBmaWxlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGNvbnN0IGZpbGUgPSAoZXZlbnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmZpbGVzPy5bMF07XHJcbiAgICAgIGlmICghZmlsZSkgcmV0dXJuO1xyXG5cclxuICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgcmVhZGVyLm9ubG9hZCA9IGFzeW5jIChlKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBlLnRhcmdldD8ucmVzdWx0IGFzIHN0cmluZztcclxuICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGNvbnRlbnQpO1xyXG5cclxuICAgICAgICAgIC8vIOWfuuacrOmqjOivge+8jOehruS/neWug+aYr+S4gOS4quWvueixoVxyXG4gICAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnb2JqZWN0JyAmJiBkYXRhICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IG92ZXJ3cml0ZUFsbENoYXRWYXJpYWJsZXMoZGF0YSk7XHJcbiAgICAgICAgICAgIGFsZXJ0KCflrZjmoaPliqDovb3miJDlip/vvIHpobXpnaLlsIbph43mlrDliqDovb3ku6XlupTnlKjmm7TmlLnjgIInKTtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCflrZjmoaPmlofku7bmoLzlvI/kuI3mraPnoa7vvIzkuI3mmK/kuIDkuKrmnInmlYjnmoRKU09O5a+56LGh44CCJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcign5Yqg6L295a2Y5qGj5aSx6LSlOicsIGVycm9yKTtcclxuICAgICAgICAgIGFsZXJ0KGDliqDovb3lrZjmoaPlpLHotKU6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICAgIHJlYWRlci5yZWFkQXNUZXh0KGZpbGUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmaWxlSW5wdXQpO1xyXG4gICAgZmlsZUlucHV0LmNsaWNrKCk7XHJcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGZpbGVJbnB1dCk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIOS4i+i9veWtmOaho1xyXG4gIHNhdmVHYW1lQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgY29uc3Qgc2F2ZURhdGEgPSBnZXRWYXJpYWJsZXMoeyB0eXBlOiAnY2hhdCcgfSk7XHJcblxyXG4gICAgY29uc3QganNvbiA9IEpTT04uc3RyaW5naWZ5KHNhdmVEYXRhLCBudWxsLCAyKTtcclxuICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbanNvbl0sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nIH0pO1xyXG4gICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuXHJcbiAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgYS5ocmVmID0gdXJsO1xyXG4gICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnJlcGxhY2UoL1s6Ll0vZywgJy0nKTtcclxuICAgIGEuZG93bmxvYWQgPSBg546E5bm75L+u5LuZ5LiW55WM56eN55SwLeWtmOahoy0ke3RpbWVzdGFtcH0uanNvbmA7XHJcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpO1xyXG4gICAgYS5jbGljaygpO1xyXG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKTtcclxuICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcclxuICB9KTtcclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/menu.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/pokedexManager.ts": 
  /*!************************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/pokedexManager.ts ***!
  \************************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initPokedexManager: () => (/* binding */ initPokedexManager)\n/* harmony export */ });\n/* harmony import */ var _core_state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/state */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/state.ts\");\n/* harmony import */ var _core_logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/logger */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts\");\n// ui/modals/pokedexManager.ts\n\n\nfunction initPokedexManager(pokedexManager, storyRenderer, showModalWithData) {\n    const managerBtn = document.getElementById('manage-pokedex-btn');\n    const modal = document.getElementById('pokedex-manager-modal');\n    const updatePendingReviewIndicator = () => {\n        if (!managerBtn)\n            return;\n        const allVars = getVariables({ type: 'global' });\n        const pendingItems = _.get(allVars, '世界.系统.待审核图鉴', []);\n        let indicator = managerBtn.querySelector('.notification-badge');\n        if (pendingItems.length > 0) {\n            if (!indicator) {\n                indicator = document.createElement('span');\n                indicator.className = 'notification-badge';\n                managerBtn.appendChild(indicator);\n            }\n            indicator.textContent = String(pendingItems.length);\n        }\n        else if (indicator) {\n            indicator.remove();\n        }\n    };\n    const closeModalBtn = document.getElementById('pokedex-manager-close-btn');\n    const mainTabs = modal?.querySelectorAll('.main-tab-btn');\n    const viewTabContent = document.getElementById('pokedex-view-tab');\n    const addTabContent = document.getElementById('pokedex-add-tab');\n    const injectBtn = document.getElementById('inject-pokedex-btn');\n    const submitEntryBtn = document.getElementById('submit-entry-btn');\n    const helpBtn = document.getElementById('pokedex-help-btn');\n    const helpContent = document.getElementById('pokedex-help-content');\n    const formModeContent = document.getElementById('form-mode-content');\n    const jsonModeContent = document.getElementById('json-mode-content');\n    const addTabModeButtons = addTabContent?.querySelectorAll('.tab-btn');\n    let currentAddMode = 'form';\n    const formFieldsContainer = document.getElementById('form-fields-container');\n    const addFieldBtn = document.getElementById('add-field-btn');\n    const entryTypeRadios = document.querySelectorAll('input[name=\"entryType\"]');\n    const jsonInput = document.getElementById('json-input');\n    const createFormFieldRow = (key = '', value = '') => {\n        const row = document.createElement('div');\n        row.className = 'form-field-row';\n        row.innerHTML = `\r\n      <input type=\"text\" class=\"form-key-input\" placeholder=\"属性\" value=\"${key}\">\r\n      <input type=\"text\" class=\"form-value-input\" placeholder=\"值\" value=\"${value}\">\r\n      <button class=\"remove-field-btn\" title=\"移除此字段\"><i class=\"fas fa-times\"></i></button>\r\n    `;\n        row.querySelector('.remove-field-btn')?.addEventListener('click', () => row.remove());\n        return row;\n    };\n    const addField = (key = '', value = '') => {\n        formFieldsContainer?.appendChild(createFormFieldRow(key, value));\n    };\n    const updateFormFields = (type) => {\n        if (!formFieldsContainer)\n            return;\n        formFieldsContainer.innerHTML = '';\n        switch (type) {\n            case '妖兽':\n                addField('名称', '');\n                addField('等级', '');\n                addField('习性', '');\n                break;\n            case '植物':\n                addField('名称', '');\n                addField('品阶', '');\n                addField('功效', '');\n                break;\n            case '物品':\n                addField('名称', '');\n                addField('品阶', '');\n                addField('描述', '');\n                break;\n            case '成就':\n                addField('名称', '');\n                addField('描述', '');\n                addField('日期', '');\n                addField('点数', '0');\n                break;\n            default:\n                addField('名称', '');\n                break;\n        }\n    };\n    const resetAddForm = () => {\n        if (!submitEntryBtn)\n            return;\n        submitEntryBtn.innerHTML = '<i class=\"fas fa-plus mr-2\"></i>确认添加';\n        delete submitEntryBtn.dataset.updateMode;\n        delete submitEntryBtn.dataset.originalName;\n        delete submitEntryBtn.dataset.originalType;\n        const checkedRadio = document.querySelector('input[name=\"entryType\"]:checked');\n        if (checkedRadio)\n            updateFormFields(checkedRadio.value);\n    };\n    const populateViewTab = async () => {\n        if (!viewTabContent)\n            return;\n        (0,_core_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('log', 'PokedexUI', 'Populating view tab...');\n        const discoveriesSection = document.getElementById('new-discoveries-section');\n        const discoveriesList = document.getElementById('new-discoveries-list');\n        const floor_id = (0,_core_state__WEBPACK_IMPORTED_MODULE_0__.getFloorId)();\n        if (discoveriesList && discoveriesSection) {\n            discoveriesList.innerHTML = `<p class=\"text-center text-secondary p-4 text-sm\">正在检查新发现...</p>`;\n            const messageVars = getVariables({ type: 'message', message_id: floor_id });\n            const messagePokedex = _.get(messageVars, '世界.图鉴', {});\n            const globalPokedex = await pokedexManager.getPokedexData();\n            let diffHtml = '';\n            let diffCount = 0;\n            const types = ['妖兽', '植物', '物品'];\n            types.forEach(type => {\n                const messageEntries = messagePokedex[type] || [];\n                const globalNames = new Set(globalPokedex[type].map(e => e.名称));\n                const diffEntries = messageEntries.filter((e) => e.名称 && !globalNames.has(e.名称));\n                if (diffEntries.length > 0) {\n                    diffCount += diffEntries.length;\n                    diffHtml += `<h4 class=\"font-semibold text-primary/90 mt-2 first:mt-0\">${type}</h4><ul>`;\n                    diffEntries.forEach((entry) => {\n                        diffHtml += `<li class=\"p-2 rounded-lg bg-main/50\"><label class=\"flex items-center cursor-pointer\"><input type=\"checkbox\" class=\"mr-3\" data-type=\"${type}\" data-name=\"${entry.名称}\" checked><span>${entry.名称}</span></label></li>`;\n                    });\n                    diffHtml += `</ul>`;\n                }\n            });\n            if (diffCount === 0) {\n                discoveriesSection.style.display = 'none';\n                (0,_core_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('log', 'PokedexUI', 'No new discoveries found in current message variables.');\n            }\n            else {\n                discoveriesSection.style.display = 'block';\n                discoveriesList.innerHTML = diffHtml;\n                (0,_core_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('info', 'PokedexUI', `Found ${diffCount} new discoveries to be approved.`);\n            }\n        }\n        // 渲染待审核条目\n        const pendingReviewSection = document.getElementById('pending-review-section');\n        const pendingReviewList = document.getElementById('pending-review-list');\n        if (pendingReviewSection && pendingReviewList) {\n            const allVars = getVariables({ type: 'global' });\n            const pendingItems = _.get(allVars, '世界.系统.待审核图鉴', []);\n            if (pendingItems.length === 0) {\n                pendingReviewSection.style.display = 'none';\n            }\n            else {\n                pendingReviewSection.style.display = 'block';\n                (0,_core_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('info', 'PokedexUI', `Found ${pendingItems.length} items pending review.`);\n                let pendingHtml = '<ul class=\"space-y-2\">';\n                pendingItems.forEach((item, index) => {\n                    pendingHtml += `\r\n            <li class=\"p-2 rounded-lg bg-secondary/50 flex justify-between items-center\">\r\n              <span class=\"truncate\" title=\"${item.entry.名称}\">[${item.type}] ${item.entry.名称}</span>\r\n              <div class=\"space-x-2 flex-shrink-0\">\r\n                <button class=\"pokedex-edit-btn text-sm text-accent hover:text-accent-hover transition-colors p-1\" data-type=\"${item.type}\" data-name=\"${item.entry.名称}\" data-source=\"pending\" title=\"编辑\"><i class=\"fas fa-pencil-alt\"></i></button>\r\n                <button class=\"pokedex-approve-btn text-sm text-green-500 hover:text-green-400 transition-colors p-1\" data-index=\"${index}\" title=\"确认录入\"><i class=\"fas fa-check\"></i></button>\r\n              </div>\r\n            </li>`;\n                });\n                pendingHtml += '</ul>';\n                pendingReviewList.innerHTML = pendingHtml;\n            }\n        }\n        const existingPokedexContainer = document.getElementById('existing-pokedex-list');\n        if (!existingPokedexContainer)\n            return;\n        existingPokedexContainer.innerHTML = `<div class=\"flex justify-center items-center p-4\"><div class=\"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-400\"></div></div>`;\n        const pokedexData = await pokedexManager.getPokedexData();\n        let html = '';\n        const types = ['妖兽', '植物', '物品'];\n        types.forEach(type => {\n            const entries = pokedexData[type];\n            html += `<details class=\"group\" open><summary class=\"font-bold text-lg cursor-pointer hover:text-accent transition-colors theme-transition flex justify-between items-center py-2\">${type}图鉴 (${entries.length})<i class=\"fas fa-chevron-down transition-transform duration-300 group-open:rotate-180\"></i></summary><ul class=\"space-y-2 mt-2\">`;\n            if (entries.length > 0) {\n                entries.forEach((entry) => {\n                    html += `\r\n            <li class=\"p-2 rounded-lg bg-secondary/50 flex justify-between items-center\">\r\n              <label class=\"flex items-center cursor-pointer flex-grow mr-4\">\r\n                <input type=\"checkbox\" class=\"mr-3\" data-type=\"${type}\" data-name=\"${entry.名称}\">\r\n                <span class=\"truncate\" title=\"${entry.名称}\">${entry.名称}</span>\r\n              </label>\r\n              <div class=\"space-x-2 flex-shrink-0\">\r\n                <button class=\"pokedex-view-btn text-sm text-blue-400 hover:text-blue-300 transition-colors p-1\" data-type=\"${type}\" data-name=\"${entry.名称}\" title=\"查看\"><i class=\"fas fa-eye\"></i></button>\r\n                <button class=\"pokedex-edit-btn text-sm text-accent hover:text-accent-hover transition-colors p-1\" data-type=\"${type}\" data-name=\"${entry.名称}\" title=\"编辑\"><i class=\"fas fa-pencil-alt\"></i></button>\r\n                <button class=\"pokedex-delete-btn text-sm text-red-500 hover:text-red-400 transition-colors p-1\" data-type=\"${type}\" data-name=\"${entry.名称}\" title=\"删除\"><i class=\"fas fa-trash\"></i></button>\r\n              </div>\r\n            </li>`;\n                });\n            }\n            else {\n                html += `<li class=\"text-secondary text-sm italic p-2\">暂无条目</li>`;\n            }\n            html += `</ul></details>`;\n        });\n        existingPokedexContainer.innerHTML = html;\n        const achievementsContainer = document.getElementById('achievements-pokedex-list');\n        if (achievementsContainer) {\n            const systemData = await pokedexManager.getSystemData();\n            const achievements = systemData.已完成 || [];\n            const points = systemData.成就点数 || 0;\n            let achievementsHtml = `\r\n        <details class=\"group\" open>\r\n          <summary class=\"font-bold text-lg cursor-pointer hover:text-accent transition-colors theme-transition flex justify-between items-center py-2\">\r\n            成就图鉴 (已解锁 ${achievements.length}, 共 ${points} 点)\r\n            <i class=\"fas fa-chevron-down transition-transform duration-300 group-open:rotate-180\"></i>\r\n          </summary>\r\n          <ul class=\"space-y-2 mt-2\">\r\n      `;\n            if (achievements.length > 0) {\n                achievements.forEach((ach) => {\n                    const achName = ach['名称'];\n                    achievementsHtml += `\r\n            <li class=\"p-3 rounded-lg bg-secondary/50 border border-dim flex justify-between items-center\">\r\n              <div class=\"flex-grow\">\r\n                <p class=\"font-semibold text-primary flex justify-between items-center\">\r\n                  <span><i class=\"fas fa-trophy mr-2 text-yellow-400\"></i>${achName}</span>\r\n                  <span class=\"text-xs font-normal text-secondary\">${ach['日期'] || ''}</span>\r\n                </p>\r\n                <p class=\"text-sm text-secondary mt-1 pl-6\">${ach['描述'] || '没有描述。'}</p>\r\n              </div>\r\n              <div class=\"space-x-2 flex-shrink-0 ml-4\">\r\n                <button class=\"pokedex-edit-btn text-sm text-accent hover:text-accent-hover transition-colors p-1\" data-type=\"成就\" data-name=\"${achName}\" title=\"编辑\"><i class=\"fas fa-pencil-alt\"></i></button>\r\n                <button class=\"pokedex-delete-btn text-sm text-red-500 hover:text-red-400 transition-colors p-1\" data-type=\"成就\" data-name=\"${achName}\" title=\"删除\"><i class=\"fas fa-trash\"></i></button>\r\n              </div>\r\n            </li>\r\n          `;\n                });\n            }\n            else {\n                achievementsHtml += `<li class=\"text-secondary text-sm italic p-2\">尚未解锁任何成就</li>`;\n            }\n            achievementsHtml += `</ul></details>`;\n            achievementsContainer.innerHTML = achievementsHtml;\n        }\n        updatePendingReviewIndicator();\n    };\n    const showModal = async () => {\n        (0,_core_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('log', 'PokedexUI', 'Pokedex manager modal opened.');\n        await populateViewTab();\n        modal?.classList.remove('hidden');\n    };\n    const hideModal = () => modal?.classList.add('hidden');\n    managerBtn?.addEventListener('click', showModal);\n    closeModalBtn?.addEventListener('click', hideModal);\n    modal?.addEventListener('click', (e) => {\n        if (e.target === modal)\n            hideModal();\n    });\n    helpBtn?.addEventListener('click', () => {\n        helpContent?.classList.toggle('hidden');\n        helpBtn.classList.toggle('active');\n    });\n    document.getElementById('approve-discoveries-btn')?.addEventListener('click', async () => {\n        const checkboxes = document.querySelectorAll('#new-discoveries-list input[type=\"checkbox\"]:checked');\n        (0,_core_logger__WEBPACK_IMPORTED_MODULE_1__.logger)('log', 'PokedexUI', `Approve discoveries button clicked, ${checkboxes.length} items selected.`);\n        if (checkboxes.length === 0) {\n            toastr.warning('请至少选择一个要收录的条目。');\n            return;\n        }\n        const floor_id = (0,_core_state__WEBPACK_IMPORTED_MODULE_0__.getFloorId)();\n        const messageVars = getVariables({ type: 'message', message_id: floor_id });\n        const messagePokedex = _.get(messageVars, '世界.图鉴', {});\n        let successCount = 0;\n        for (const cb of checkboxes) {\n            const type = cb.dataset.type;\n            const name = cb.dataset.name;\n            if (type && name && messagePokedex[type]) {\n                const entry = messagePokedex[type].find((e) => e.名称 === name);\n                if (entry) {\n                    if (await pokedexManager.createPokedexEntry(type, entry)) {\n                        successCount++;\n                    }\n                }\n            }\n        }\n        if (successCount > 0) {\n            toastr.success(`成功收录了 ${successCount} 个新条目！`);\n            await populateViewTab();\n        }\n    });\n    mainTabs?.forEach(button => {\n        button.addEventListener('click', () => {\n            const tab = button.getAttribute('data-tab');\n            mainTabs.forEach(btn => btn.classList.remove('active'));\n            button.classList.add('active');\n            resetAddForm();\n            viewTabContent?.classList.add('hidden');\n            addTabContent?.classList.add('hidden');\n            injectBtn?.classList.add('hidden');\n            submitEntryBtn?.classList.add('hidden');\n            if (tab === 'view') {\n                viewTabContent?.classList.remove('hidden');\n                injectBtn?.classList.remove('hidden');\n            }\n            else if (tab === 'add') {\n                addTabContent?.classList.remove('hidden');\n                submitEntryBtn?.classList.remove('hidden');\n            }\n        });\n    });\n    injectBtn?.addEventListener('click', async () => {\n        const selectedEntries = {};\n        const checkboxes = modal?.querySelectorAll('#pokedex-view-tab input[type=\"checkbox\"]:checked');\n        if (!checkboxes || checkboxes.length === 0) {\n            toastr.warning('请至少选择一个要注入的条目。');\n            return;\n        }\n        const pokedexData = await pokedexManager.getPokedexData();\n        checkboxes.forEach(cb => {\n            const type = cb.dataset.type;\n            const name = cb.dataset.name;\n            if (type && name) {\n                const entry = pokedexData[type].find(e => e.名称 === name);\n                if (entry) {\n                    if (!selectedEntries[type]) {\n                        selectedEntries[type] = [];\n                    }\n                    selectedEntries[type].push(entry);\n                }\n            }\n        });\n        if (_.isEmpty(selectedEntries))\n            return;\n        const floor_id = (0,_core_state__WEBPACK_IMPORTED_MODULE_0__.getFloorId)();\n        const currentVars = getVariables({ type: 'message', message_id: floor_id });\n        const updates = {};\n        for (const [type, entries] of Object.entries(selectedEntries)) {\n            const path = `世界.图鉴.${type}`;\n            const existingEntries = _.get(currentVars, path, []);\n            const newEntries = _.unionBy(existingEntries, entries, '名称');\n            _.set(updates, path, newEntries);\n        }\n        await insertOrAssignVariables(updates, { type: 'message', message_id: floor_id });\n        toastr.success('成功注入图鉴到当前楼层！');\n        hideModal();\n        storyRenderer.init();\n    });\n    addTabModeButtons?.forEach(button => {\n        button.addEventListener('click', () => {\n            const mode = button.getAttribute('data-mode');\n            if (!mode || mode === currentAddMode)\n                return;\n            currentAddMode = mode;\n            addTabModeButtons.forEach(btn => btn.classList.remove('active'));\n            button.classList.add('active');\n            if (mode === 'form') {\n                formModeContent?.classList.remove('hidden');\n                jsonModeContent?.classList.add('hidden');\n            }\n            else {\n                formModeContent?.classList.add('hidden');\n                jsonModeContent?.classList.remove('hidden');\n            }\n        });\n    });\n    const checkedRadio = document.querySelector('input[name=\"entryType\"]:checked');\n    if (checkedRadio)\n        updateFormFields(checkedRadio.value);\n    addFieldBtn?.addEventListener('click', () => addField());\n    entryTypeRadios.forEach(radio => {\n        radio.addEventListener('change', (e) => {\n            updateFormFields(e.target.value);\n        });\n    });\n    submitEntryBtn?.addEventListener('click', async () => {\n        const isUpdate = submitEntryBtn.dataset.updateMode === 'true';\n        if (currentAddMode === 'form') {\n            const type = document.querySelector('input[name=\"entryType\"]:checked')?.value;\n            const newEntry = { '名称': '' };\n            const rows = formFieldsContainer?.querySelectorAll('.form-field-row');\n            rows?.forEach(row => {\n                const key = row.querySelector('.form-key-input')?.value.trim();\n                const value = row.querySelector('.form-value-input')?.value.trim();\n                if (key)\n                    newEntry[key] = value;\n            });\n            if (!newEntry.名称) {\n                toastr.warning('“名称”是必填字段！');\n                return;\n            }\n            if (isUpdate) {\n                const originalName = submitEntryBtn.dataset.originalName;\n                const originalType = submitEntryBtn.dataset.originalType;\n                if (!originalName || !originalType || !type) {\n                    toastr.error('更新失败：缺少必要信息。');\n                    return;\n                }\n                if (originalType === type) {\n                    if (type === '成就') {\n                        await pokedexManager.updateAchievement(originalName, newEntry);\n                    }\n                    else {\n                        await pokedexManager.updatePokedexEntry(type, originalName, newEntry);\n                    }\n                }\n                else {\n                    if (originalType === '成就') {\n                        await pokedexManager.deleteAchievement(originalName);\n                    }\n                    else {\n                        await pokedexManager.deletePokedexEntry(originalType, originalName);\n                    }\n                    if (type === '成就') {\n                        await pokedexManager.createAchievement(newEntry);\n                    }\n                    else {\n                        await pokedexManager.createPokedexEntry(type, newEntry);\n                    }\n                    toastr.info(`条目已从“${originalType}”移动到“${type}”`);\n                }\n                resetAddForm();\n            }\n            else {\n                if (!type) {\n                    toastr.warning('请选择条目类型！');\n                    return;\n                }\n                if (type === '成就') {\n                    const success = await pokedexManager.createAchievement(newEntry);\n                    if (success)\n                        updateFormFields(type);\n                }\n                else {\n                    const success = await pokedexManager.createPokedexEntry(type, newEntry);\n                    if (success) {\n                        updateFormFields(type);\n                    }\n                }\n            }\n        }\n        else if (currentAddMode === 'json') {\n            const type = document.querySelector('input[name=\"jsonEntryType\"]:checked')?.value;\n            const jsonString = jsonInput?.value.trim();\n            if (!jsonString) {\n                toastr.warning('请输入JSON数据！');\n                return;\n            }\n            try {\n                const data = JSON.parse(jsonString);\n                const entries = Array.isArray(data) ? data : [data];\n                let successCount = 0;\n                if (type === '成就') {\n                    for (const entry of entries) {\n                        if (await pokedexManager.createAchievement(entry)) {\n                            successCount++;\n                        }\n                    }\n                    if (successCount > 0) {\n                        toastr.success(`成功处理 ${successCount} 个新成就！`);\n                        jsonInput.value = '';\n                    }\n                }\n                else {\n                    for (const entry of entries) {\n                        if (await pokedexManager.createPokedexEntry(type, entry)) {\n                            successCount++;\n                        }\n                    }\n                    if (successCount > 0)\n                        jsonInput.value = '';\n                }\n            }\n            catch (error) {\n                toastr.error('JSON解析失败，请检查格式！');\n                console.error(\"JSON parsing failed:\", error);\n            }\n        }\n        await populateViewTab();\n    });\n    viewTabContent?.addEventListener('click', async (e) => {\n        const target = e.target;\n        const deleteButton = target.closest('.pokedex-delete-btn');\n        const editButton = target.closest('.pokedex-edit-btn');\n        const viewButton = target.closest('.pokedex-view-btn');\n        const approveButton = target.closest('.pokedex-approve-btn');\n        if (approveButton) {\n            const index = parseInt(approveButton.getAttribute('data-index'), 10);\n            if (isNaN(index))\n                return;\n            const allVars = getVariables({ type: 'global' });\n            const pendingItems = _.cloneDeep(_.get(allVars, '世界.系统.待审核图鉴', []));\n            const itemToApprove = pendingItems[index];\n            if (itemToApprove) {\n                // 1. 添加到内存中的 Pokedex\n                const success = pokedexManager.createPokedexEntry(itemToApprove.type, itemToApprove.entry);\n                if (success) {\n                    // 2. 从待审核列表移除\n                    pendingItems.splice(index, 1);\n                    await insertOrAssignVariables({ '世界.系统.待审核图鉴': pendingItems }, { type: 'global' });\n                    toastr.info(`“${itemToApprove.entry.名称}”已审核通过，您现在可以在“远程同步”中分享它。`);\n                    // 3. 刷新UI\n                    await populateViewTab();\n                }\n            }\n        }\n        if (viewButton) {\n            const type = viewButton.getAttribute('data-type');\n            const name = viewButton.getAttribute('data-name');\n            if (type && name) {\n                if (type === '成就') {\n                    const achievements = await pokedexManager.getAchievements();\n                    const entry = achievements.find((ach) => ach['名称'] === name);\n                    if (entry)\n                        showModalWithData(entry);\n                }\n                else {\n                    const entry = await pokedexManager.readPokedexEntry(type, name);\n                    if (entry) {\n                        showModalWithData(entry);\n                    }\n                }\n            }\n        }\n        if (deleteButton) {\n            const type = deleteButton.getAttribute('data-type');\n            const name = deleteButton.getAttribute('data-name');\n            if (type && name) {\n                if (confirm(`确定要删除 ${type} 图鉴中的 “${name}” 吗？此操作不可撤销。`)) {\n                    let success = false;\n                    if (type === '成就') {\n                        success = await pokedexManager.deleteAchievement(name);\n                    }\n                    else {\n                        success = await pokedexManager.deletePokedexEntry(type, name);\n                    }\n                    if (success) {\n                        await populateViewTab();\n                    }\n                }\n            }\n        }\n        if (editButton) {\n            const type = editButton.getAttribute('data-type');\n            const name = editButton.getAttribute('data-name');\n            const source = editButton.getAttribute('data-source');\n            if (type && name) {\n                let entry = null;\n                if (source === 'pending') {\n                    const allVars = getVariables({ type: 'global' });\n                    const pendingItems = _.get(allVars, '世界.系统.待审核图鉴', []);\n                    const pendingItem = pendingItems.find((item) => item.type === type && item.entry.名称 === name);\n                    entry = pendingItem ? pendingItem.entry : null;\n                }\n                else if (type === '成就') {\n                    const achievements = await pokedexManager.getAchievements();\n                    entry = achievements.find((ach) => ach['名称'] === name) ?? null;\n                }\n                else {\n                    entry = (await pokedexManager.readPokedexEntry(type, name)) ?? null;\n                }\n                if (entry) {\n                    mainTabs?.forEach(btn => btn.classList.toggle('active', btn.getAttribute('data-tab') === 'add'));\n                    viewTabContent?.classList.add('hidden');\n                    addTabContent?.classList.remove('hidden');\n                    injectBtn?.classList.add('hidden');\n                    submitEntryBtn?.classList.remove('hidden');\n                    addTabModeButtons?.forEach(btn => btn.classList.toggle('active', btn.getAttribute('data-mode') === 'form'));\n                    formModeContent?.classList.remove('hidden');\n                    jsonModeContent?.classList.add('hidden');\n                    currentAddMode = 'form';\n                    document.querySelector(`input[name=\"entryType\"][value=\"${type}\"]`).checked = true;\n                    if (formFieldsContainer)\n                        formFieldsContainer.innerHTML = '';\n                    Object.entries(entry).forEach(([key, value]) => {\n                        addField(key, String(value));\n                    });\n                    submitEntryBtn.innerHTML = '<i class=\"fas fa-check mr-2\"></i>确认更新';\n                    submitEntryBtn.dataset.updateMode = 'true';\n                    submitEntryBtn.dataset.originalName = name;\n                    submitEntryBtn.dataset.originalType = type;\n                }\n            }\n        }\n    });\n    updatePendingReviewIndicator();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvdWkvbW9kYWxzL3Bva2VkZXhNYW5hZ2VyLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLDhCQUE4QjtBQUlnQjtBQUNIO0FBT3BDLFNBQVMsa0JBQWtCLENBQUMsY0FBOEIsRUFBRSxhQUE0QixFQUFFLGlCQUFzQztJQUNySSxNQUFNLFVBQVUsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLG9CQUFvQixDQUFDLENBQUM7SUFDakUsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO0lBRS9ELE1BQU0sNEJBQTRCLEdBQUcsR0FBRyxFQUFFO1FBQ3hDLElBQUksQ0FBQyxVQUFVO1lBQUUsT0FBTztRQUN4QixNQUFNLE9BQU8sR0FBRyxZQUFZLENBQUMsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQztRQUNqRCxNQUFNLFlBQVksR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxhQUFhLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDdkQsSUFBSSxTQUFTLEdBQUcsVUFBVSxDQUFDLGFBQWEsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO1FBQ2hFLElBQUksWUFBWSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQztZQUM1QixJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7Z0JBQ2YsU0FBUyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQzNDLFNBQVMsQ0FBQyxTQUFTLEdBQUcsb0JBQW9CLENBQUM7Z0JBQzNDLFVBQVUsQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDcEMsQ0FBQztZQUNELFNBQVMsQ0FBQyxXQUFXLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN0RCxDQUFDO2FBQU0sSUFBSSxTQUFTLEVBQUUsQ0FBQztZQUNy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YUFBYSxDQUFDLGtDQUFrQyxJQUFJLElBQUksQ0FBc0IsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO29CQUV4RyxJQUFJLG1CQUFtQjt3QkFBRSxtQkFBbUIsQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO29CQUM1RCxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxFQUFFLEVBQUU7d0JBQzdDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7b0JBQy9CLENBQUMsQ0FBQyxDQUFDO29CQUVILGNBQWMsQ0FBQyxTQUFTLEdBQUcsdUNBQXVDLENBQUM7b0JBQ25FLGNBQWMsQ0FBQyxPQUFPLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQztvQkFDM0MsY0FBYyxDQUFDLE9BQU8sQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDO29CQUMzQyxjQUFjLENBQUMsT0FBTyxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUM7Z0JBQzdDLENBQUM7WUFDSCxDQUFDO1FBQ0gsQ0FBQztJQUNILENBQUMsQ0FBQyxDQUFDO0lBRUgsNEJBQTRCLEVBQUUsQ0FBQztBQUNqQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS8uL3NyYy/ku4DkuYjmiJHopoHlnKjnjoTlubvkv67ku5nkuJbnlYznp43nlLAtMOalvOeJiOacrC91aS9tb2RhbHMvcG9rZWRleE1hbmFnZXIudHM/Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHVpL21vZGFscy9wb2tlZGV4TWFuYWdlci50c1xyXG5cclxuaW1wb3J0IHsgUG9rZWRleE1hbmFnZXIsIFBva2VkZXhFbnRyeSwgUG9rZWRleFR5cGUgfSBmcm9tICcuLi8uLi9jb3JlL3Bva2VkZXgnO1xyXG5pbXBvcnQgdHlwZSB7IFN0b3J5UmVuZGVyZXIgfSBmcm9tICcuLi8uLi9jb3JlL3JlbmRlcmVyJztcclxuaW1wb3J0IHsgZ2V0Rmxvb3JJZCB9IGZyb20gJy4uLy4uL2NvcmUvc3RhdGUnO1xyXG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuLi8uLi9jb3JlL2xvZ2dlcic7XHJcblxyXG5kZWNsYXJlIGNvbnN0IF86IGFueTtcclxuZGVjbGFyZSBjb25zdCB0b2FzdHI6IGFueTtcclxuZGVjbGFyZSBjb25zdCBnZXRWYXJpYWJsZXM6IChvcHRpb25zOiBhbnkpID0+IGFueTtcclxuZGVjbGFyZSBjb25zdCBpbnNlcnRPckFzc2lnblZhcmlhYmxlczogKHVwZGF0ZXM6IGFueSwgb3B0aW9uczogYW55KSA9PiBQcm9taXNlPHZvaWQ+O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRQb2tlZGV4TWFuYWdlcihwb2tlZGV4TWFuYWdlcjogUG9rZWRleE1hbmFnZXIsIHN0b3J5UmVuZGVyZXI6IFN0b3J5UmVuZGVyZXIsIHNob3dNb2RhbFdpdGhEYXRhOiAoZGF0YTogYW55KSA9PiB2b2lkKSB7XHJcbiAgY29uc3QgbWFuYWdlckJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYW5hZ2UtcG9rZWRleC1idG4nKTtcclxuICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb2tlZGV4LW1hbmFnZXItbW9kYWwnKTtcclxuXHJcbiAgY29uc3QgdXBkYXRlUGVuZGluZ1Jldmlld0luZGljYXRvciA9ICgpID0+IHtcclxuICAgIGlmICghbWFuYWdlckJ0bikgcmV0dXJuO1xyXG4gICAgY29uc3QgYWxsVmFycyA9IGdldFZhcmlhYmxlcyh7IHR5cGU6ICdnbG9iYWwnIH0pO1xyXG4gICAgY29uc3QgcGVuZGluZ0l0ZW1zID0gXy5nZXQoYWxsVmFycywgJ+S4lueVjC7ns7vnu58u5b6F5a6h5qC45Zu+6Ym0JywgW10pO1xyXG4gICAgbGV0IGluZGljYXRvciA9IG1hbmFnZXJCdG4ucXVlcnlTZWxlY3RvcignLm5vdGlmaWNhdGlvbi1iYWRnZScpO1xyXG4gICAgaWYgKHBlbmRpbmdJdGVtcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGlmICghaW5kaWNhdG9yKSB7XHJcbiAgICAgICAgaW5kaWNhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICAgIGluZGljYXRvci5jbGFzc05hbWUgPSAnbm90aWZpY2F0aW9uLWJhZGdlJztcclxuICAgICAgICBtYW5hZ2VyQnRuLmFwcGVuZENoaWxkKGluZGljYXRvcik7XHJcbiAgICAgIH1cclxuICAgICAgaW5kaWNhdG9yLnRleHRDb250ZW50ID0gU3RyaW5nKHBlbmRpbmdJdGVtcy5sZW5ndGgpO1xyXG4gICAgfSBlbHNlIGlmIChpbmRpY2F0b3IpIHtcclxuICAgICAgaW5kaWNhdG9yLnJlbW92ZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgY29uc3QgY2xvc2VNb2RhbEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb2tlZGV4LW1hbmFnZXItY2xvc2UtYnRuJyk7XHJcbiAgY29uc3QgbWFpblRhYnMgPSBtb2RhbD8ucXVlcnlTZWxlY3RvckFsbCgnLm1haW4tdGFiLWJ0bicpO1xyXG4gIGNvbnN0IHZpZXdUYWJDb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bva2VkZXgtdmlldy10YWInKTtcclxuICBjb25zdCBhZGRUYWJDb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bva2VkZXgtYWRkLXRhYicpO1xyXG4gIGNvbnN0IGluamVjdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbmplY3QtcG9rZWRleC1idG4nKTtcclxuICBjb25zdCBzdWJtaXRFbnRyeUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJtaXQtZW50cnktYnRuJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbiAgY29uc3QgaGVscEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb2tlZGV4LWhlbHAtYnRuJyk7XHJcbiAgY29uc3QgaGVscENvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9rZWRleC1oZWxwLWNvbnRlbnQnKTtcclxuXHJcbiAgY29uc3QgZm9ybU1vZGVDb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm0tbW9kZS1jb250ZW50Jyk7XHJcbiAgY29uc3QganNvbk1vZGVDb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2pzb24tbW9kZS1jb250ZW50Jyk7XHJcbiAgY29uc3QgYWRkVGFiTW9kZUJ1dHRvbnMgPSBhZGRUYWJDb250ZW50Py5xdWVyeVNlbGVjdG9yQWxsKCcudGFiLWJ0bicpO1xyXG4gIGxldCBjdXJyZW50QWRkTW9kZSA9ICdmb3JtJztcclxuXHJcbiAgY29uc3QgZm9ybUZpZWxkc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JtLWZpZWxkcy1jb250YWluZXInKTtcclxuICBjb25zdCBhZGRGaWVsZEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQtZmllbGQtYnRuJyk7XHJcbiAgY29uc3QgZW50cnlUeXBlUmFkaW9zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbbmFtZT1cImVudHJ5VHlwZVwiXScpO1xyXG4gIGNvbnN0IGpzb25JbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqc29uLWlucHV0JykgYXMgSFRNTFRleHRBcmVhRWxlbWVudDtcclxuXHJcbiAgY29uc3QgY3JlYXRlRm9ybUZpZWxkUm93ID0gKGtleSA9ICcnLCB2YWx1ZSA9ICcnKTogSFRNTEVsZW1lbnQgPT4ge1xyXG4gICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICByb3cuY2xhc3NOYW1lID0gJ2Zvcm0tZmllbGQtcm93JztcclxuICAgIHJvdy5pbm5lckhUTUwgPSBgXHJcbiAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1rZXktaW5wdXRcIiBwbGFjZWhvbGRlcj1cIuWxnuaAp1wiIHZhbHVlPVwiJHtrZXl9XCI+XHJcbiAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS12YWx1ZS1pbnB1dFwiIHBsYWNlaG9sZGVyPVwi5YC8XCIgdmFsdWU9XCIke3ZhbHVlfVwiPlxyXG4gICAgICA8YnV0dG9uIGNsYXNzPVwicmVtb3ZlLWZpZWxkLWJ0blwiIHRpdGxlPVwi56e76Zmk5q2k5a2X5q61XCI+PGkgY2xhc3M9XCJmYXMgZmEtdGltZXNcIj48L2k+PC9idXR0b24+XHJcbiAgICBgO1xyXG4gICAgcm93LnF1ZXJ5U2VsZWN0b3IoJy5yZW1vdmUtZmllbGQtYnRuJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gcm93LnJlbW92ZSgpKTtcclxuICAgIHJldHVybiByb3c7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgYWRkRmllbGQgPSAoa2V5ID0gJycsIHZhbHVlID0gJycpID0+IHtcclxuICAgIGZvcm1GaWVsZHNDb250YWluZXI/LmFwcGVuZENoaWxkKGNyZWF0ZUZvcm1GaWVsZFJvdyhrZXksIHZhbHVlKSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgdXBkYXRlRm9ybUZpZWxkcyA9ICh0eXBlOiBzdHJpbmcpID0+IHtcclxuICAgIGlmICghZm9ybUZpZWxkc0NvbnRhaW5lcikgcmV0dXJuO1xyXG4gICAgZm9ybUZpZWxkc0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcclxuICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICBjYXNlICflppblhb0nOiBhZGRGaWVsZCgn5ZCN56ewJywgJycpOyBhZGRGaWVsZCgn562J57qnJywgJycpOyBhZGRGaWVsZCgn5Lmg5oCnJywgJycpOyBicmVhaztcclxuICAgICAgY2FzZSAn5qSN54mpJzogYWRkRmllbGQoJ+WQjeensCcsICcnKTsgYWRkRmllbGQoJ+WTgemYticsICcnKTsgYWRkRmllbGQoJ+WKn+aViCcsICcnKTsgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ+eJqeWTgSc6IGFkZEZpZWxkKCflkI3np7AnLCAnJyk7IGFkZEZpZWxkKCflk4HpmLYnLCAnJyk7IGFkZEZpZWxkKCfmj4/ov7AnLCAnJyk7IGJyZWFrO1xyXG4gICAgICBjYXNlICfmiJDlsLEnOiBhZGRGaWVsZCgn5ZCN56ewJywgJycpOyBhZGRGaWVsZCgn5o+P6L+wJywgJycpOyBhZGRGaWVsZCgn5pel5pyfJywgJycpOyBhZGRGaWVsZCgn54K55pWwJywgJzAnKTsgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6IGFkZEZpZWxkKCflkI3np7AnLCAnJyk7IGJyZWFrO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJlc2V0QWRkRm9ybSA9ICgpID0+IHtcclxuICAgIGlmICghc3VibWl0RW50cnlCdG4pIHJldHVybjtcclxuICAgIHN1Ym1pdEVudHJ5QnRuLmlubmVySFRNTCA9ICc8aSBjbGFzcz1cImZhcyBmYS1wbHVzIG1yLTJcIj48L2k+56Gu6K6k5re75YqgJztcclxuICAgIGRlbGV0ZSBzdWJtaXRFbnRyeUJ0bi5kYXRhc2V0LnVwZGF0ZU1vZGU7XHJcbiAgICBkZWxldGUgc3VibWl0RW50cnlCdG4uZGF0YXNldC5vcmlnaW5hbE5hbWU7XHJcbiAgICBkZWxldGUgc3VibWl0RW50cnlCdG4uZGF0YXNldC5vcmlnaW5hbFR5cGU7XHJcbiAgICBjb25zdCBjaGVja2VkUmFkaW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwiZW50cnlUeXBlXCJdOmNoZWNrZWQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgaWYgKGNoZWNrZWRSYWRpbykgdXBkYXRlRm9ybUZpZWxkcyhjaGVja2VkUmFkaW8udmFsdWUpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHBvcHVsYXRlVmlld1RhYiA9IGFzeW5jICgpID0+IHtcclxuICAgIGlmICghdmlld1RhYkNvbnRlbnQpIHJldHVybjtcclxuICAgIGxvZ2dlcignbG9nJywgJ1Bva2VkZXhVSScsICdQb3B1bGF0aW5nIHZpZXcgdGFiLi4uJyk7XHJcbiAgICBcclxuICAgIGNvbnN0IGRpc2NvdmVyaWVzU2VjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXctZGlzY292ZXJpZXMtc2VjdGlvbicpO1xyXG4gICAgY29uc3QgZGlzY292ZXJpZXNMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25ldy1kaXNjb3Zlcmllcy1saXN0Jyk7XHJcbiAgICBjb25zdCBmbG9vcl9pZCA9IGdldEZsb29ySWQoKTtcclxuXHJcbiAgICBpZiAoZGlzY292ZXJpZXNMaXN0ICYmIGRpc2NvdmVyaWVzU2VjdGlvbikge1xyXG4gICAgICBkaXNjb3Zlcmllc0xpc3QuaW5uZXJIVE1MID0gYDxwIGNsYXNzPVwidGV4dC1jZW50ZXIgdGV4dC1zZWNvbmRhcnkgcC00IHRleHQtc21cIj7mraPlnKjmo4Dmn6XmlrDlj5HnjrAuLi48L3A+YDtcclxuICAgICAgY29uc3QgbWVzc2FnZVZhcnMgPSBnZXRWYXJpYWJsZXMoeyB0eXBlOiAnbWVzc2FnZScsIG1lc3NhZ2VfaWQ6IGZsb29yX2lkIH0pO1xyXG4gICAgICBjb25zdCBtZXNzYWdlUG9rZWRleCA9IF8uZ2V0KG1lc3NhZ2VWYXJzLCAn5LiW55WMLuWbvumJtCcsIHt9KTtcclxuICAgICAgY29uc3QgZ2xvYmFsUG9rZWRleCA9IGF3YWl0IHBva2VkZXhNYW5hZ2VyLmdldFBva2VkZXhEYXRhKCk7XHJcbiAgICAgIFxyXG4gICAgICBsZXQgZGlmZkh0bWwgPSAnJztcclxuICAgICAgbGV0IGRpZmZDb3VudCA9IDA7XHJcbiAgICAgIGNvbnN0IHR5cGVzOiBQb2tlZGV4VHlwZVtdID0gWyflppblhb0nLCAn5qSN54mpJywgJ+eJqeWTgSddO1xyXG5cclxuICAgICAgdHlwZXMuZm9yRWFjaCh0eXBlID0+IHtcclxuICAgICAgICBjb25zdCBtZXNzYWdlRW50cmllcyA9IG1lc3NhZ2VQb2tlZGV4W3R5cGVdIHx8IFtdO1xyXG4gICAgICAgIGNvbnN0IGdsb2JhbE5hbWVzID0gbmV3IFNldChnbG9iYWxQb2tlZGV4W3R5cGVdLm1hcChlID0+IGUu5ZCN56ewKSk7XHJcbiAgICAgICAgY29uc3QgZGlmZkVudHJpZXMgPSBtZXNzYWdlRW50cmllcy5maWx0ZXIoKGU6IFBva2VkZXhFbnRyeSkgPT4gZS7lkI3np7AgJiYgIWdsb2JhbE5hbWVzLmhhcyhlLuWQjeensCkpO1xyXG5cclxuICAgICAgICBpZiAoZGlmZkVudHJpZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgZGlmZkNvdW50ICs9IGRpZmZFbnRyaWVzLmxlbmd0aDtcclxuICAgICAgICAgIGRpZmZIdG1sICs9IGA8aDQgY2xhc3M9XCJmb250LXNlbWlib2xkIHRleHQtcHJpbWFyeS85MCBtdC0yIGZpcnN0Om10LTBcIj4ke3R5cGV9PC9oND48dWw+YDtcclxuICAgICAgICAgIGRpZmZFbnRyaWVzLmZvckVhY2goKGVudHJ5OiBQb2tlZGV4RW50cnkpID0+IHtcclxuICAgICAgICAgICAgZGlmZkh0bWwgKz0gYDxsaSBjbGFzcz1cInAtMiByb3VuZGVkLWxnIGJnLW1haW4vNTBcIj48bGFiZWwgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBjdXJzb3ItcG9pbnRlclwiPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cIm1yLTNcIiBkYXRhLXR5cGU9XCIke3R5cGV9XCIgZGF0YS1uYW1lPVwiJHtlbnRyeS7lkI3np7B9XCIgY2hlY2tlZD48c3Bhbj4ke2VudHJ5LuWQjeensH08L3NwYW4+PC9sYWJlbD48L2xpPmA7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGRpZmZIdG1sICs9IGA8L3VsPmA7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChkaWZmQ291bnQgPT09IDApIHtcclxuICAgICAgICBkaXNjb3Zlcmllc1NlY3Rpb24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICBsb2dnZXIoJ2xvZycsICdQb2tlZGV4VUknLCAnTm8gbmV3IGRpc2NvdmVyaWVzIGZvdW5kIGluIGN1cnJlbnQgbWVzc2FnZSB2YXJpYWJsZXMuJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZGlzY292ZXJpZXNTZWN0aW9uLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgIGRpc2NvdmVyaWVzTGlzdC5pbm5lckhUTUwgPSBkaWZmSHRtbDtcclxuICAgICAgICBsb2dnZXIoJ2luZm8nLCAnUG9rZWRleFVJJywgYEZvdW5kICR7ZGlmZkNvdW50fSBuZXcgZGlzY292ZXJpZXMgdG8gYmUgYXBwcm92ZWQuYCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDmuLLmn5PlvoXlrqHmoLjmnaHnm65cclxuICAgIGNvbnN0IHBlbmRpbmdSZXZpZXdTZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BlbmRpbmctcmV2aWV3LXNlY3Rpb24nKTtcclxuICAgIGNvbnN0IHBlbmRpbmdSZXZpZXdMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BlbmRpbmctcmV2aWV3LWxpc3QnKTtcclxuICAgIGlmIChwZW5kaW5nUmV2aWV3U2VjdGlvbiAmJiBwZW5kaW5nUmV2aWV3TGlzdCkge1xyXG4gICAgICBjb25zdCBhbGxWYXJzID0gZ2V0VmFyaWFibGVzKHsgdHlwZTogJ2dsb2JhbCcgfSk7XHJcbiAgICAgIGNvbnN0IHBlbmRpbmdJdGVtcyA9IF8uZ2V0KGFsbFZhcnMsICfkuJbnlYwu57O757ufLuW+heWuoeaguOWbvumJtCcsIFtdKTtcclxuICAgICAgXHJcbiAgICAgIGlmIChwZW5kaW5nSXRlbXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcGVuZGluZ1Jldmlld1NlY3Rpb24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBwZW5kaW5nUmV2aWV3U2VjdGlvbi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICBsb2dnZXIoJ2luZm8nLCAnUG9rZWRleFVJJywgYEZvdW5kICR7cGVuZGluZ0l0ZW1zLmxlbmd0aH0gaXRlbXMgcGVuZGluZyByZXZpZXcuYCk7XHJcbiAgICAgICAgbGV0IHBlbmRpbmdIdG1sID0gJzx1bCBjbGFzcz1cInNwYWNlLXktMlwiPic7XHJcbiAgICAgICAgcGVuZGluZ0l0ZW1zLmZvckVhY2goKGl0ZW06IHsgdHlwZTogUG9rZWRleFR5cGUsIGVudHJ5OiBQb2tlZGV4RW50cnkgfSwgaW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgcGVuZGluZ0h0bWwgKz0gYFxyXG4gICAgICAgICAgICA8bGkgY2xhc3M9XCJwLTIgcm91bmRlZC1sZyBiZy1zZWNvbmRhcnkvNTAgZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0cnVuY2F0ZVwiIHRpdGxlPVwiJHtpdGVtLmVudHJ5LuWQjeensH1cIj5bJHtpdGVtLnR5cGV9XSAke2l0ZW0uZW50cnku5ZCN56ewfTwvc3Bhbj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3BhY2UteC0yIGZsZXgtc2hyaW5rLTBcIj5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJwb2tlZGV4LWVkaXQtYnRuIHRleHQtc20gdGV4dC1hY2NlbnQgaG92ZXI6dGV4dC1hY2NlbnQtaG92ZXIgdHJhbnNpdGlvbi1jb2xvcnMgcC0xXCIgZGF0YS10eXBlPVwiJHtpdGVtLnR5cGV9XCIgZGF0YS1uYW1lPVwiJHtpdGVtLmVudHJ5LuWQjeensH1cIiBkYXRhLXNvdXJjZT1cInBlbmRpbmdcIiB0aXRsZT1cIue8lui+kVwiPjxpIGNsYXNzPVwiZmFzIGZhLXBlbmNpbC1hbHRcIj48L2k+PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicG9rZWRleC1hcHByb3ZlLWJ0biB0ZXh0LXNtIHRleHQtZ3JlZW4tNTAwIGhvdmVyOnRleHQtZ3JlZW4tNDAwIHRyYW5zaXRpb24tY29sb3JzIHAtMVwiIGRhdGEtaW5kZXg9XCIke2luZGV4fVwiIHRpdGxlPVwi56Gu6K6k5b2V5YWlXCI+PGkgY2xhc3M9XCJmYXMgZmEtY2hlY2tcIj48L2k+PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvbGk+YDtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwZW5kaW5nSHRtbCArPSAnPC91bD4nO1xyXG4gICAgICAgIHBlbmRpbmdSZXZpZXdMaXN0LmlubmVySFRNTCA9IHBlbmRpbmdIdG1sO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZXhpc3RpbmdQb2tlZGV4Q29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4aXN0aW5nLXBva2VkZXgtbGlzdCcpO1xyXG4gICAgaWYgKCFleGlzdGluZ1Bva2VkZXhDb250YWluZXIpIHJldHVybjtcclxuICAgIGV4aXN0aW5nUG9rZWRleENvbnRhaW5lci5pbm5lckhUTUwgPSBgPGRpdiBjbGFzcz1cImZsZXgganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIHAtNFwiPjxkaXYgY2xhc3M9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtOCB3LTggYm9yZGVyLXQtMiBib3JkZXItYi0yIGJvcmRlci1pbmRpZ28tNDAwXCI+PC9kaXY+PC9kaXY+YDtcclxuICAgIGNvbnN0IHBva2VkZXhEYXRhID0gYXdhaXQgcG9rZWRleE1hbmFnZXIuZ2V0UG9rZWRleERhdGEoKTtcclxuICAgIGxldCBodG1sID0gJyc7XHJcbiAgICBjb25zdCB0eXBlczogUG9rZWRleFR5cGVbXSA9IFsn5aaW5YW9JywgJ+akjeeJqScsICfnianlk4EnXTtcclxuICAgIFxyXG4gICAgdHlwZXMuZm9yRWFjaCh0eXBlID0+IHtcclxuICAgICAgY29uc3QgZW50cmllcyA9IHBva2VkZXhEYXRhW3R5cGVdO1xyXG4gICAgICBodG1sICs9IGA8ZGV0YWlscyBjbGFzcz1cImdyb3VwXCIgb3Blbj48c3VtbWFyeSBjbGFzcz1cImZvbnQtYm9sZCB0ZXh0LWxnIGN1cnNvci1wb2ludGVyIGhvdmVyOnRleHQtYWNjZW50IHRyYW5zaXRpb24tY29sb3JzIHRoZW1lLXRyYW5zaXRpb24gZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIHB5LTJcIj4ke3R5cGV95Zu+6Ym0ICgke2VudHJpZXMubGVuZ3RofSk8aSBjbGFzcz1cImZhcyBmYS1jaGV2cm9uLWRvd24gdHJhbnNpdGlvbi10cmFuc2Zvcm0gZHVyYXRpb24tMzAwIGdyb3VwLW9wZW46cm90YXRlLTE4MFwiPjwvaT48L3N1bW1hcnk+PHVsIGNsYXNzPVwic3BhY2UteS0yIG10LTJcIj5gO1xyXG4gICAgICBpZiAoZW50cmllcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgZW50cmllcy5mb3JFYWNoKChlbnRyeTogUG9rZWRleEVudHJ5KSA9PiB7XHJcbiAgICAgICAgICBodG1sICs9IGBcclxuICAgICAgICAgICAgPGxpIGNsYXNzPVwicC0yIHJvdW5kZWQtbGcgYmctc2Vjb25kYXJ5LzUwIGZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGN1cnNvci1wb2ludGVyIGZsZXgtZ3JvdyBtci00XCI+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCJtci0zXCIgZGF0YS10eXBlPVwiJHt0eXBlfVwiIGRhdGEtbmFtZT1cIiR7ZW50cnku5ZCN56ewfVwiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0cnVuY2F0ZVwiIHRpdGxlPVwiJHtlbnRyeS7lkI3np7B9XCI+JHtlbnRyeS7lkI3np7B9PC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNwYWNlLXgtMiBmbGV4LXNocmluay0wXCI+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicG9rZWRleC12aWV3LWJ0biB0ZXh0LXNtIHRleHQtYmx1ZS00MDAgaG92ZXI6dGV4dC1ibHVlLTMwMCB0cmFuc2l0aW9uLWNvbG9ycyBwLTFcIiBkYXRhLXR5cGU9XCIke3R5cGV9XCIgZGF0YS1uYW1lPVwiJHtlbnRyeS7lkI3np7B9XCIgdGl0bGU9XCLmn6XnnItcIj48aSBjbGFzcz1cImZhcyBmYS1leWVcIj48L2k+PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicG9rZWRleC1lZGl0LWJ0biB0ZXh0LXNtIHRleHQtYWNjZW50IGhvdmVyOnRleHQtYWNjZW50LWhvdmVyIHRyYW5zaXRpb24tY29sb3JzIHAtMVwiIGRhdGEtdHlwZT1cIiR7dHlwZX1cIiBkYXRhLW5hbWU9XCIke2VudHJ5LuWQjeensH1cIiB0aXRsZT1cIue8lui+kVwiPjxpIGNsYXNzPVwiZmFzIGZhLXBlbmNpbC1hbHRcIj48L2k+PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicG9rZWRleC1kZWxldGUtYnRuIHRleHQtc20gdGV4dC1yZWQtNTAwIGhvdmVyOnRleHQtcmVkLTQwMCB0cmFuc2l0aW9uLWNvbG9ycyBwLTFcIiBkYXRhLXR5cGU9XCIke3R5cGV9XCIgZGF0YS1uYW1lPVwiJHtlbnRyeS7lkI3np7B9XCIgdGl0bGU9XCLliKDpmaRcIj48aSBjbGFzcz1cImZhcyBmYS10cmFzaFwiPjwvaT48L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9saT5gO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGh0bWwgKz0gYDxsaSBjbGFzcz1cInRleHQtc2Vjb25kYXJ5IHRleHQtc20gaXRhbGljIHAtMlwiPuaaguaXoOadoeebrjwvbGk+YDtcclxuICAgICAgfVxyXG4gICAgICBodG1sICs9IGA8L3VsPjwvZGV0YWlscz5gO1xyXG4gICAgfSk7XHJcbiAgICBleGlzdGluZ1Bva2VkZXhDb250YWluZXIuaW5uZXJIVE1MID0gaHRtbDtcclxuXHJcbiAgICBjb25zdCBhY2hpZXZlbWVudHNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWNoaWV2ZW1lbnRzLXBva2VkZXgtbGlzdCcpO1xyXG4gICAgaWYgKGFjaGlldmVtZW50c0NvbnRhaW5lcikge1xyXG4gICAgICBjb25zdCBzeXN0ZW1EYXRhID0gYXdhaXQgcG9rZWRleE1hbmFnZXIuZ2V0U3lzdGVtRGF0YSgpO1xyXG4gICAgICBjb25zdCBhY2hpZXZlbWVudHMgPSBzeXN0ZW1EYXRhLuW3suWujOaIkCB8fCBbXTtcclxuICAgICAgY29uc3QgcG9pbnRzID0gc3lzdGVtRGF0YS7miJDlsLHngrnmlbAgfHwgMDtcclxuXHJcbiAgICAgIGxldCBhY2hpZXZlbWVudHNIdG1sID0gYFxyXG4gICAgICAgIDxkZXRhaWxzIGNsYXNzPVwiZ3JvdXBcIiBvcGVuPlxyXG4gICAgICAgICAgPHN1bW1hcnkgY2xhc3M9XCJmb250LWJvbGQgdGV4dC1sZyBjdXJzb3ItcG9pbnRlciBob3Zlcjp0ZXh0LWFjY2VudCB0cmFuc2l0aW9uLWNvbG9ycyB0aGVtZS10cmFuc2l0aW9uIGZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBweS0yXCI+XHJcbiAgICAgICAgICAgIOaIkOWwseWbvumJtCAo5bey6Kej6ZSBICR7YWNoaWV2ZW1lbnRzLmxlbmd0aH0sIOWFsSAke3BvaW50c30g54K5KVxyXG4gICAgICAgICAgICA8aSBjbGFzcz1cImZhcyBmYS1jaGV2cm9uLWRvd24gdHJhbnNpdGlvbi10cmFuc2Zvcm0gZHVyYXRpb24tMzAwIGdyb3VwLW9wZW46cm90YXRlLTE4MFwiPjwvaT5cclxuICAgICAgICAgIDwvc3VtbWFyeT5cclxuICAgICAgICAgIDx1bCBjbGFzcz1cInNwYWNlLXktMiBtdC0yXCI+XHJcbiAgICAgIGA7XHJcblxyXG4gICAgICBpZiAoYWNoaWV2ZW1lbnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBhY2hpZXZlbWVudHMuZm9yRWFjaCgoYWNoOiBhbnkpID0+IHtcclxuICAgICAgICAgIGNvbnN0IGFjaE5hbWUgPSBhY2hbJ+WQjeensCddO1xyXG4gICAgICAgICAgYWNoaWV2ZW1lbnRzSHRtbCArPSBgXHJcbiAgICAgICAgICAgIDxsaSBjbGFzcz1cInAtMyByb3VuZGVkLWxnIGJnLXNlY29uZGFyeS81MCBib3JkZXIgYm9yZGVyLWRpbSBmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC1ncm93XCI+XHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImZvbnQtc2VtaWJvbGQgdGV4dC1wcmltYXJ5IGZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICA8c3Bhbj48aSBjbGFzcz1cImZhcyBmYS10cm9waHkgbXItMiB0ZXh0LXllbGxvdy00MDBcIj48L2k+JHthY2hOYW1lfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtbm9ybWFsIHRleHQtc2Vjb25kYXJ5XCI+JHthY2hbJ+aXpeacnyddIHx8ICcnfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXNlY29uZGFyeSBtdC0xIHBsLTZcIj4ke2FjaFsn5o+P6L+wJ10gfHwgJ+ayoeacieaPj+i/sOOAgid9PC9wPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZS14LTIgZmxleC1zaHJpbmstMCBtbC00XCI+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicG9rZWRleC1lZGl0LWJ0biB0ZXh0LXNtIHRleHQtYWNjZW50IGhvdmVyOnRleHQtYWNjZW50LWhvdmVyIHRyYW5zaXRpb24tY29sb3JzIHAtMVwiIGRhdGEtdHlwZT1cIuaIkOWwsVwiIGRhdGEtbmFtZT1cIiR7YWNoTmFtZX1cIiB0aXRsZT1cIue8lui+kVwiPjxpIGNsYXNzPVwiZmFzIGZhLXBlbmNpbC1hbHRcIj48L2k+PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicG9rZWRleC1kZWxldGUtYnRuIHRleHQtc20gdGV4dC1yZWQtNTAwIGhvdmVyOnRleHQtcmVkLTQwMCB0cmFuc2l0aW9uLWNvbG9ycyBwLTFcIiBkYXRhLXR5cGU9XCLmiJDlsLFcIiBkYXRhLW5hbWU9XCIke2FjaE5hbWV9XCIgdGl0bGU9XCLliKDpmaRcIj48aSBjbGFzcz1cImZhcyBmYS10cmFzaFwiPjwvaT48L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgIGA7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYWNoaWV2ZW1lbnRzSHRtbCArPSBgPGxpIGNsYXNzPVwidGV4dC1zZWNvbmRhcnkgdGV4dC1zbSBpdGFsaWMgcC0yXCI+5bCa5pyq6Kej6ZSB5Lu75L2V5oiQ5bCxPC9saT5gO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBhY2hpZXZlbWVudHNIdG1sICs9IGA8L3VsPjwvZGV0YWlscz5gO1xyXG4gICAgICBhY2hpZXZlbWVudHNDb250YWluZXIuaW5uZXJIVE1MID0gYWNoaWV2ZW1lbnRzSHRtbDtcclxuICAgIH1cclxuICAgIHVwZGF0ZVBlbmRpbmdSZXZpZXdJbmRpY2F0b3IoKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBzaG93TW9kYWwgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBsb2dnZXIoJ2xvZycsICdQb2tlZGV4VUknLCAnUG9rZWRleCBtYW5hZ2VyIG1vZGFsIG9wZW5lZC4nKTtcclxuICAgIGF3YWl0IHBvcHVsYXRlVmlld1RhYigpO1xyXG4gICAgbW9kYWw/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gIH07XHJcbiAgY29uc3QgaGlkZU1vZGFsID0gKCkgPT4gbW9kYWw/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG5cclxuICBtYW5hZ2VyQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNob3dNb2RhbCk7XHJcbiAgY2xvc2VNb2RhbEJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWRlTW9kYWwpO1xyXG4gIG1vZGFsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlOiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICBpZiAoZS50YXJnZXQgPT09IG1vZGFsKSBoaWRlTW9kYWwoKTtcclxuICB9KTtcclxuXHJcbiAgaGVscEJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBoZWxwQ29udGVudD8uY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XHJcbiAgICBoZWxwQnRuLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xyXG4gIH0pO1xyXG5cclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwcm92ZS1kaXNjb3Zlcmllcy1idG4nKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBjaGVja2JveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbDxIVE1MSW5wdXRFbGVtZW50PignI25ldy1kaXNjb3Zlcmllcy1saXN0IGlucHV0W3R5cGU9XCJjaGVja2JveFwiXTpjaGVja2VkJyk7XHJcbiAgICBsb2dnZXIoJ2xvZycsICdQb2tlZGV4VUknLCBgQXBwcm92ZSBkaXNjb3ZlcmllcyBidXR0b24gY2xpY2tlZCwgJHtjaGVja2JveGVzLmxlbmd0aH0gaXRlbXMgc2VsZWN0ZWQuYCk7XHJcbiAgICBpZiAoY2hlY2tib3hlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgdG9hc3RyLndhcm5pbmcoJ+ivt+iHs+WwkemAieaLqeS4gOS4quimgeaUtuW9leeahOadoeebruOAgicpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZmxvb3JfaWQgPSBnZXRGbG9vcklkKCk7XHJcbiAgICBjb25zdCBtZXNzYWdlVmFycyA9IGdldFZhcmlhYmxlcyh7IHR5cGU6ICdtZXNzYWdlJywgbWVzc2FnZV9pZDogZmxvb3JfaWQgfSk7XHJcbiAgICBjb25zdCBtZXNzYWdlUG9rZWRleCA9IF8uZ2V0KG1lc3NhZ2VWYXJzLCAn5LiW55WMLuWbvumJtCcsIHt9KTtcclxuICAgIGxldCBzdWNjZXNzQ291bnQgPSAwO1xyXG5cclxuICAgIGZvciAoY29uc3QgY2Igb2YgY2hlY2tib3hlcykge1xyXG4gICAgICBjb25zdCB0eXBlID0gY2IuZGF0YXNldC50eXBlIGFzIFBva2VkZXhUeXBlO1xyXG4gICAgICBjb25zdCBuYW1lID0gY2IuZGF0YXNldC5uYW1lO1xyXG4gICAgICBpZiAodHlwZSAmJiBuYW1lICYmIG1lc3NhZ2VQb2tlZGV4W3R5cGVdKSB7XHJcbiAgICAgICAgY29uc3QgZW50cnkgPSBtZXNzYWdlUG9rZWRleFt0eXBlXS5maW5kKChlOiBQb2tlZGV4RW50cnkpID0+IGUu5ZCN56ewID09PSBuYW1lKTtcclxuICAgICAgICBpZiAoZW50cnkpIHtcclxuICAgICAgICAgIGlmIChhd2FpdCBwb2tlZGV4TWFuYWdlci5jcmVhdGVQb2tlZGV4RW50cnkodHlwZSwgZW50cnkpKSB7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3NDb3VudCsrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChzdWNjZXNzQ291bnQgPiAwKSB7XHJcbiAgICAgIHRvYXN0ci5zdWNjZXNzKGDmiJDlip/mlLblvZXkuoYgJHtzdWNjZXNzQ291bnR9IOS4quaWsOadoeebru+8gWApO1xyXG4gICAgICBhd2FpdCBwb3B1bGF0ZVZpZXdUYWIoKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgbWFpblRhYnM/LmZvckVhY2goYnV0dG9uID0+IHtcclxuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgY29uc3QgdGFiID0gYnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YS10YWInKTtcclxuICAgICAgbWFpblRhYnMuZm9yRWFjaChidG4gPT4gYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTtcclxuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICBcclxuICAgICAgcmVzZXRBZGRGb3JtKCk7XHJcblxyXG4gICAgICB2aWV3VGFiQ29udGVudD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICAgIGFkZFRhYkNvbnRlbnQ/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgICBpbmplY3RCdG4/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgICBzdWJtaXRFbnRyeUJ0bj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcblxyXG4gICAgICBpZiAodGFiID09PSAndmlldycpIHtcclxuICAgICAgICB2aWV3VGFiQ29udGVudD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgaW5qZWN0QnRuPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICAgICAgfSBlbHNlIGlmICh0YWIgPT09ICdhZGQnKSB7XHJcbiAgICAgICAgYWRkVGFiQ29udGVudD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgc3VibWl0RW50cnlCdG4/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgaW5qZWN0QnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHNlbGVjdGVkRW50cmllczogeyBba2V5IGluIFBva2VkZXhUeXBlXT86IFBva2VkZXhFbnRyeVtdIH0gPSB7fTtcclxuICAgIGNvbnN0IGNoZWNrYm94ZXMgPSBtb2RhbD8ucXVlcnlTZWxlY3RvckFsbDxIVE1MSW5wdXRFbGVtZW50PignI3Bva2VkZXgtdmlldy10YWIgaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdOmNoZWNrZWQnKTtcclxuICAgIFxyXG4gICAgaWYgKCFjaGVja2JveGVzIHx8IGNoZWNrYm94ZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHRvYXN0ci53YXJuaW5nKCfor7foh7PlsJHpgInmi6nkuIDkuKropoHms6jlhaXnmoTmnaHnm67jgIInKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHBva2VkZXhEYXRhID0gYXdhaXQgcG9rZWRleE1hbmFnZXIuZ2V0UG9rZWRleERhdGEoKTtcclxuXHJcbiAgICBjaGVja2JveGVzLmZvckVhY2goY2IgPT4ge1xyXG4gICAgICBjb25zdCB0eXBlID0gY2IuZGF0YXNldC50eXBlIGFzIFBva2VkZXhUeXBlO1xyXG4gICAgICBjb25zdCBuYW1lID0gY2IuZGF0YXNldC5uYW1lO1xyXG4gICAgICBpZiAodHlwZSAmJiBuYW1lKSB7XHJcbiAgICAgICAgY29uc3QgZW50cnkgPSBwb2tlZGV4RGF0YVt0eXBlXS5maW5kKGUgPT4gZS7lkI3np7AgPT09IG5hbWUpO1xyXG4gICAgICAgIGlmIChlbnRyeSkge1xyXG4gICAgICAgICAgaWYgKCFzZWxlY3RlZEVudHJpZXNbdHlwZV0pIHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRFbnRyaWVzW3R5cGVdID0gW107XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBzZWxlY3RlZEVudHJpZXNbdHlwZV0hLnB1c2goZW50cnkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKF8uaXNFbXB0eShzZWxlY3RlZEVudHJpZXMpKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgZmxvb3JfaWQgPSBnZXRGbG9vcklkKCk7XHJcbiAgICBjb25zdCBjdXJyZW50VmFycyA9IGdldFZhcmlhYmxlcyh7IHR5cGU6ICdtZXNzYWdlJywgbWVzc2FnZV9pZDogZmxvb3JfaWQgfSk7XHJcbiAgICBcclxuICAgIGNvbnN0IHVwZGF0ZXMgPSB7fTtcclxuICAgIGZvciAoY29uc3QgW3R5cGUsIGVudHJpZXNdIG9mIE9iamVjdC5lbnRyaWVzKHNlbGVjdGVkRW50cmllcykpIHtcclxuICAgICAgICBjb25zdCBwYXRoID0gYOS4lueVjC7lm77pibQuJHt0eXBlfWA7XHJcbiAgICAgICAgY29uc3QgZXhpc3RpbmdFbnRyaWVzID0gXy5nZXQoY3VycmVudFZhcnMsIHBhdGgsIFtdKTtcclxuICAgICAgICBjb25zdCBuZXdFbnRyaWVzID0gXy51bmlvbkJ5KGV4aXN0aW5nRW50cmllcywgZW50cmllcywgJ+WQjeensCcpO1xyXG4gICAgICAgIF8uc2V0KHVwZGF0ZXMsIHBhdGgsIG5ld0VudHJpZXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGF3YWl0IGluc2VydE9yQXNzaWduVmFyaWFibGVzKHVwZGF0ZXMsIHsgdHlwZTogJ21lc3NhZ2UnLCBtZXNzYWdlX2lkOiBmbG9vcl9pZCB9KTtcclxuICAgIHRvYXN0ci5zdWNjZXNzKCfmiJDlip/ms6jlhaXlm77pibTliLDlvZPliY3mpbzlsYLvvIEnKTtcclxuICAgIGhpZGVNb2RhbCgpO1xyXG4gICAgc3RvcnlSZW5kZXJlci5pbml0KCk7XHJcbiAgfSk7XHJcblxyXG4gIGFkZFRhYk1vZGVCdXR0b25zPy5mb3JFYWNoKGJ1dHRvbiA9PiB7XHJcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1vZGUgPSBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLW1vZGUnKTtcclxuICAgICAgaWYgKCFtb2RlIHx8IG1vZGUgPT09IGN1cnJlbnRBZGRNb2RlKSByZXR1cm47XHJcbiAgICAgIGN1cnJlbnRBZGRNb2RlID0gbW9kZTtcclxuICAgICAgYWRkVGFiTW9kZUJ1dHRvbnMuZm9yRWFjaChidG4gPT4gYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTtcclxuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICBpZiAobW9kZSA9PT0gJ2Zvcm0nKSB7XHJcbiAgICAgICAgZm9ybU1vZGVDb250ZW50Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICAgICAgICBqc29uTW9kZUNvbnRlbnQ/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZvcm1Nb2RlQ29udGVudD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICAgICAganNvbk1vZGVDb250ZW50Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgY29uc3QgY2hlY2tlZFJhZGlvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cImVudHJ5VHlwZVwiXTpjaGVja2VkJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICBpZiAoY2hlY2tlZFJhZGlvKSB1cGRhdGVGb3JtRmllbGRzKGNoZWNrZWRSYWRpby52YWx1ZSk7XHJcblxyXG4gIGFkZEZpZWxkQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGFkZEZpZWxkKCkpO1xyXG4gIGVudHJ5VHlwZVJhZGlvcy5mb3JFYWNoKHJhZGlvID0+IHtcclxuICAgIHJhZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7XHJcbiAgICAgIHVwZGF0ZUZvcm1GaWVsZHMoKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlKVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIHN1Ym1pdEVudHJ5QnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IGlzVXBkYXRlID0gc3VibWl0RW50cnlCdG4uZGF0YXNldC51cGRhdGVNb2RlID09PSAndHJ1ZSc7XHJcblxyXG4gICAgaWYgKGN1cnJlbnRBZGRNb2RlID09PSAnZm9ybScpIHtcclxuICAgICAgY29uc3QgdHlwZSA9IChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwiZW50cnlUeXBlXCJdOmNoZWNrZWQnKSBhcyBIVE1MSW5wdXRFbGVtZW50KT8udmFsdWU7XHJcbiAgICAgIGNvbnN0IG5ld0VudHJ5OiBQb2tlZGV4RW50cnkgPSB7ICflkI3np7AnOiAnJyB9O1xyXG4gICAgICBjb25zdCByb3dzID0gZm9ybUZpZWxkc0NvbnRhaW5lcj8ucXVlcnlTZWxlY3RvckFsbCgnLmZvcm0tZmllbGQtcm93Jyk7XHJcbiAgICAgIHJvd3M/LmZvckVhY2gocm93ID0+IHtcclxuICAgICAgICBjb25zdCBrZXkgPSAocm93LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtLWtleS1pbnB1dCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQpPy52YWx1ZS50cmltKCk7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSAocm93LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtLXZhbHVlLWlucHV0JykgYXMgSFRNTElucHV0RWxlbWVudCk/LnZhbHVlLnRyaW0oKTtcclxuICAgICAgICBpZiAoa2V5KSBuZXdFbnRyeVtrZXldID0gdmFsdWU7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKCFuZXdFbnRyeS7lkI3np7ApIHtcclxuICAgICAgICB0b2FzdHIud2FybmluZygn4oCc5ZCN56ew4oCd5piv5b+F5aGr5a2X5q6177yBJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoaXNVcGRhdGUpIHtcclxuICAgICAgICBjb25zdCBvcmlnaW5hbE5hbWUgPSBzdWJtaXRFbnRyeUJ0bi5kYXRhc2V0Lm9yaWdpbmFsTmFtZTtcclxuICAgICAgICBjb25zdCBvcmlnaW5hbFR5cGUgPSBzdWJtaXRFbnRyeUJ0bi5kYXRhc2V0Lm9yaWdpbmFsVHlwZTtcclxuXHJcbiAgICAgICAgaWYgKCFvcmlnaW5hbE5hbWUgfHwgIW9yaWdpbmFsVHlwZSB8fCAhdHlwZSkge1xyXG4gICAgICAgICAgdG9hc3RyLmVycm9yKCfmm7TmlrDlpLHotKXvvJrnvLrlsJHlv4XopoHkv6Hmga/jgIInKTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvcmlnaW5hbFR5cGUgPT09IHR5cGUpIHtcclxuICAgICAgICAgIGlmICh0eXBlID09PSAn5oiQ5bCxJykge1xyXG4gICAgICAgICAgICBhd2FpdCBwb2tlZGV4TWFuYWdlci51cGRhdGVBY2hpZXZlbWVudChvcmlnaW5hbE5hbWUsIG5ld0VudHJ5KTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHBva2VkZXhNYW5hZ2VyLnVwZGF0ZVBva2VkZXhFbnRyeSh0eXBlIGFzIFBva2VkZXhUeXBlLCBvcmlnaW5hbE5hbWUsIG5ld0VudHJ5KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYgKG9yaWdpbmFsVHlwZSA9PT0gJ+aIkOWwsScpIHtcclxuICAgICAgICAgICAgYXdhaXQgcG9rZWRleE1hbmFnZXIuZGVsZXRlQWNoaWV2ZW1lbnQob3JpZ2luYWxOYW1lKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHBva2VkZXhNYW5hZ2VyLmRlbGV0ZVBva2VkZXhFbnRyeShvcmlnaW5hbFR5cGUgYXMgUG9rZWRleFR5cGUsIG9yaWdpbmFsTmFtZSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKHR5cGUgPT09ICfmiJDlsLEnKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHBva2VkZXhNYW5hZ2VyLmNyZWF0ZUFjaGlldmVtZW50KG5ld0VudHJ5KTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHBva2VkZXhNYW5hZ2VyLmNyZWF0ZVBva2VkZXhFbnRyeSh0eXBlIGFzIFBva2VkZXhUeXBlLCBuZXdFbnRyeSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0b2FzdHIuaW5mbyhg5p2h55uu5bey5LuO4oCcJHtvcmlnaW5hbFR5cGV94oCd56e75Yqo5Yiw4oCcJHt0eXBlfeKAnWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXNldEFkZEZvcm0oKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoIXR5cGUpIHtcclxuICAgICAgICAgIHRvYXN0ci53YXJuaW5nKCfor7fpgInmi6nmnaHnm67nsbvlnovvvIEnKTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICfmiJDlsLEnKSB7XHJcbiAgICAgICAgICBjb25zdCBzdWNjZXNzID0gYXdhaXQgcG9rZWRleE1hbmFnZXIuY3JlYXRlQWNoaWV2ZW1lbnQobmV3RW50cnkpO1xyXG4gICAgICAgICAgaWYgKHN1Y2Nlc3MpIHVwZGF0ZUZvcm1GaWVsZHModHlwZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCBwb2tlZGV4TWFuYWdlci5jcmVhdGVQb2tlZGV4RW50cnkodHlwZSBhcyBQb2tlZGV4VHlwZSwgbmV3RW50cnkpO1xyXG4gICAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgdXBkYXRlRm9ybUZpZWxkcyh0eXBlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoY3VycmVudEFkZE1vZGUgPT09ICdqc29uJykge1xyXG4gICAgICBjb25zdCB0eXBlID0gKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJqc29uRW50cnlUeXBlXCJdOmNoZWNrZWQnKSBhcyBIVE1MSW5wdXRFbGVtZW50KT8udmFsdWUgYXMgUG9rZWRleFR5cGUgfCAn5oiQ5bCxJztcclxuICAgICAgY29uc3QganNvblN0cmluZyA9IGpzb25JbnB1dD8udmFsdWUudHJpbSgpO1xyXG4gICAgICBpZiAoIWpzb25TdHJpbmcpIHtcclxuICAgICAgICB0b2FzdHIud2FybmluZygn6K+36L6T5YWlSlNPTuaVsOaNru+8gScpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGpzb25TdHJpbmcpO1xyXG4gICAgICAgIGNvbnN0IGVudHJpZXMgPSBBcnJheS5pc0FycmF5KGRhdGEpID8gZGF0YSA6IFtkYXRhXTtcclxuICAgICAgICBsZXQgc3VjY2Vzc0NvdW50ID0gMDtcclxuXHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICfmiJDlsLEnKSB7XHJcbiAgICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcclxuICAgICAgICAgICAgaWYgKGF3YWl0IHBva2VkZXhNYW5hZ2VyLmNyZWF0ZUFjaGlldmVtZW50KGVudHJ5KSkge1xyXG4gICAgICAgICAgICAgIHN1Y2Nlc3NDb3VudCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoc3VjY2Vzc0NvdW50ID4gMCkge1xyXG4gICAgICAgICAgICB0b2FzdHIuc3VjY2Vzcyhg5oiQ5Yqf5aSE55CGICR7c3VjY2Vzc0NvdW50fSDkuKrmlrDmiJDlsLHvvIFgKTtcclxuICAgICAgICAgICAganNvbklucHV0LnZhbHVlID0gJyc7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcykge1xyXG4gICAgICAgICAgICBpZiAoYXdhaXQgcG9rZWRleE1hbmFnZXIuY3JlYXRlUG9rZWRleEVudHJ5KHR5cGUsIGVudHJ5KSkge1xyXG4gICAgICAgICAgICAgIHN1Y2Nlc3NDb3VudCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoc3VjY2Vzc0NvdW50ID4gMCkganNvbklucHV0LnZhbHVlID0gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHRvYXN0ci5lcnJvcignSlNPTuino+aekOWksei0pe+8jOivt+ajgOafpeagvOW8j++8gScpO1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJKU09OIHBhcnNpbmcgZmFpbGVkOlwiLCBlcnJvcik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGF3YWl0IHBvcHVsYXRlVmlld1RhYigpO1xyXG4gIH0pO1xyXG5cclxuICB2aWV3VGFiQ29udGVudD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZTogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICBjb25zdCBkZWxldGVCdXR0b24gPSB0YXJnZXQuY2xvc2VzdCgnLnBva2VkZXgtZGVsZXRlLWJ0bicpO1xyXG4gICAgY29uc3QgZWRpdEJ1dHRvbiA9IHRhcmdldC5jbG9zZXN0KCcucG9rZWRleC1lZGl0LWJ0bicpO1xyXG4gICAgY29uc3Qgdmlld0J1dHRvbiA9IHRhcmdldC5jbG9zZXN0KCcucG9rZWRleC12aWV3LWJ0bicpO1xyXG4gICAgY29uc3QgYXBwcm92ZUJ1dHRvbiA9IHRhcmdldC5jbG9zZXN0KCcucG9rZWRleC1hcHByb3ZlLWJ0bicpO1xyXG5cclxuICAgIGlmIChhcHByb3ZlQnV0dG9uKSB7XHJcbiAgICAgIGNvbnN0IGluZGV4ID0gcGFyc2VJbnQoYXBwcm92ZUJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKSEsIDEwKTtcclxuICAgICAgaWYgKGlzTmFOKGluZGV4KSkgcmV0dXJuO1xyXG5cclxuICAgICAgY29uc3QgYWxsVmFycyA9IGdldFZhcmlhYmxlcyh7IHR5cGU6ICdnbG9iYWwnIH0pO1xyXG4gICAgICBjb25zdCBwZW5kaW5nSXRlbXMgPSBfLmNsb25lRGVlcChfLmdldChhbGxWYXJzLCAn5LiW55WMLuezu+e7ny7lvoXlrqHmoLjlm77pibQnLCBbXSkpO1xyXG4gICAgICBjb25zdCBpdGVtVG9BcHByb3ZlID0gcGVuZGluZ0l0ZW1zW2luZGV4XTtcclxuXHJcbiAgICAgIGlmIChpdGVtVG9BcHByb3ZlKSB7XHJcbiAgICAgICAgLy8gMS4g5re75Yqg5Yiw5YaF5a2Y5Lit55qEIFBva2VkZXhcclxuICAgICAgICBjb25zdCBzdWNjZXNzID0gcG9rZWRleE1hbmFnZXIuY3JlYXRlUG9rZWRleEVudHJ5KGl0ZW1Ub0FwcHJvdmUudHlwZSwgaXRlbVRvQXBwcm92ZS5lbnRyeSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcclxuICAgICAgICAgIC8vIDIuIOS7juW+heWuoeaguOWIl+ihqOenu+mZpFxyXG4gICAgICAgICAgcGVuZGluZ0l0ZW1zLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICBhd2FpdCBpbnNlcnRPckFzc2lnblZhcmlhYmxlcyh7ICfkuJbnlYwu57O757ufLuW+heWuoeaguOWbvumJtCc6IHBlbmRpbmdJdGVtcyB9LCB7IHR5cGU6ICdnbG9iYWwnIH0pO1xyXG4gICAgICAgICAgdG9hc3RyLmluZm8oYOKAnCR7aXRlbVRvQXBwcm92ZS5lbnRyeS7lkI3np7B94oCd5bey5a6h5qC46YCa6L+H77yM5oKo546w5Zyo5Y+v5Lul5Zyo4oCc6L+c56iL5ZCM5q2l4oCd5Lit5YiG5Lqr5a6D44CCYCk7XHJcbiAgICAgICAgICAvLyAzLiDliLfmlrBVSVxyXG4gICAgICAgICAgYXdhaXQgcG9wdWxhdGVWaWV3VGFiKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHZpZXdCdXR0b24pIHtcclxuICAgICAgY29uc3QgdHlwZSA9IHZpZXdCdXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLXR5cGUnKSBhcyBQb2tlZGV4VHlwZSB8ICfmiJDlsLEnO1xyXG4gICAgICBjb25zdCBuYW1lID0gdmlld0J1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtbmFtZScpO1xyXG4gICAgICBpZiAodHlwZSAmJiBuYW1lKSB7XHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICfmiJDlsLEnKSB7XHJcbiAgICAgICAgICBjb25zdCBhY2hpZXZlbWVudHMgPSBhd2FpdCBwb2tlZGV4TWFuYWdlci5nZXRBY2hpZXZlbWVudHMoKTtcclxuICAgICAgICAgIGNvbnN0IGVudHJ5ID0gYWNoaWV2ZW1lbnRzLmZpbmQoKGFjaDogYW55KSA9PiBhY2hbJ+WQjeensCddID09PSBuYW1lKTtcclxuICAgICAgICAgIGlmIChlbnRyeSkgc2hvd01vZGFsV2l0aERhdGEoZW50cnkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zdCBlbnRyeSA9IGF3YWl0IHBva2VkZXhNYW5hZ2VyLnJlYWRQb2tlZGV4RW50cnkodHlwZSwgbmFtZSk7XHJcbiAgICAgICAgICBpZiAoZW50cnkpIHtcclxuICAgICAgICAgICAgc2hvd01vZGFsV2l0aERhdGEoZW50cnkpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChkZWxldGVCdXR0b24pIHtcclxuICAgICAgY29uc3QgdHlwZSA9IGRlbGV0ZUJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtdHlwZScpIGFzIFBva2VkZXhUeXBlIHwgJ+aIkOWwsSc7XHJcbiAgICAgIGNvbnN0IG5hbWUgPSBkZWxldGVCdXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLW5hbWUnKTtcclxuICAgICAgaWYgKHR5cGUgJiYgbmFtZSkge1xyXG4gICAgICAgIGlmIChjb25maXJtKGDnoa7lrpropoHliKDpmaQgJHt0eXBlfSDlm77pibTkuK3nmoQg4oCcJHtuYW1lfeKAnSDlkJfvvJ/mraTmk43kvZzkuI3lj6/mkqTplIDjgIJgKSkge1xyXG4gICAgICAgICAgbGV0IHN1Y2Nlc3MgPSBmYWxzZTtcclxuICAgICAgICAgIGlmICh0eXBlID09PSAn5oiQ5bCxJykge1xyXG4gICAgICAgICAgICBzdWNjZXNzID0gYXdhaXQgcG9rZWRleE1hbmFnZXIuZGVsZXRlQWNoaWV2ZW1lbnQobmFtZSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzdWNjZXNzID0gYXdhaXQgcG9rZWRleE1hbmFnZXIuZGVsZXRlUG9rZWRleEVudHJ5KHR5cGUsIG5hbWUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgYXdhaXQgcG9wdWxhdGVWaWV3VGFiKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVkaXRCdXR0b24pIHtcclxuICAgICAgY29uc3QgdHlwZSA9IGVkaXRCdXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLXR5cGUnKSBhcyBQb2tlZGV4VHlwZSB8ICfmiJDlsLEnO1xyXG4gICAgICBjb25zdCBuYW1lID0gZWRpdEJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtbmFtZScpO1xyXG4gICAgICBjb25zdCBzb3VyY2UgPSBlZGl0QnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YS1zb3VyY2UnKTtcclxuXHJcbiAgICAgIGlmICh0eXBlICYmIG5hbWUpIHtcclxuICAgICAgICBsZXQgZW50cnk6IFBva2VkZXhFbnRyeSB8IG51bGwgPSBudWxsO1xyXG5cclxuICAgICAgICBpZiAoc291cmNlID09PSAncGVuZGluZycpIHtcclxuICAgICAgICAgIGNvbnN0IGFsbFZhcnMgPSBnZXRWYXJpYWJsZXMoeyB0eXBlOiAnZ2xvYmFsJyB9KTtcclxuICAgICAgICAgIGNvbnN0IHBlbmRpbmdJdGVtcyA9IF8uZ2V0KGFsbFZhcnMsICfkuJbnlYwu57O757ufLuW+heWuoeaguOWbvumJtCcsIFtdKTtcclxuICAgICAgICAgIGNvbnN0IHBlbmRpbmdJdGVtID0gcGVuZGluZ0l0ZW1zLmZpbmQoKGl0ZW06IGFueSkgPT4gaXRlbS50eXBlID09PSB0eXBlICYmIGl0ZW0uZW50cnku5ZCN56ewID09PSBuYW1lKTtcclxuICAgICAgICAgIGVudHJ5ID0gcGVuZGluZ0l0ZW0gPyBwZW5kaW5nSXRlbS5lbnRyeSA6IG51bGw7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAn5oiQ5bCxJykge1xyXG4gICAgICAgICAgICBjb25zdCBhY2hpZXZlbWVudHMgPSBhd2FpdCBwb2tlZGV4TWFuYWdlci5nZXRBY2hpZXZlbWVudHMoKTtcclxuICAgICAgICAgICAgZW50cnkgPSBhY2hpZXZlbWVudHMuZmluZCgoYWNoOiBhbnkpID0+IGFjaFsn5ZCN56ewJ10gPT09IG5hbWUpID8/IG51bGw7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZW50cnkgPSAoYXdhaXQgcG9rZWRleE1hbmFnZXIucmVhZFBva2VkZXhFbnRyeSh0eXBlIGFzIFBva2VkZXhUeXBlLCBuYW1lKSkgPz8gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChlbnRyeSkge1xyXG4gICAgICAgICAgbWFpblRhYnM/LmZvckVhY2goYnRuID0+IGJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnLCBidG4uZ2V0QXR0cmlidXRlKCdkYXRhLXRhYicpID09PSAnYWRkJykpO1xyXG4gICAgICAgICAgdmlld1RhYkNvbnRlbnQ/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgYWRkVGFiQ29udGVudD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgICBpbmplY3RCdG4/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgc3VibWl0RW50cnlCdG4/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG5cclxuICAgICAgICAgIGFkZFRhYk1vZGVCdXR0b25zPy5mb3JFYWNoKGJ0biA9PiBidG4uY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJywgYnRuLmdldEF0dHJpYnV0ZSgnZGF0YS1tb2RlJykgPT09ICdmb3JtJykpO1xyXG4gICAgICAgICAgZm9ybU1vZGVDb250ZW50Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICAgICAgICAgIGpzb25Nb2RlQ29udGVudD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICAgICAgICBjdXJyZW50QWRkTW9kZSA9ICdmb3JtJztcclxuXHJcbiAgICAgICAgICAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgaW5wdXRbbmFtZT1cImVudHJ5VHlwZVwiXVt2YWx1ZT1cIiR7dHlwZX1cIl1gKSBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkID0gdHJ1ZTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaWYgKGZvcm1GaWVsZHNDb250YWluZXIpIGZvcm1GaWVsZHNDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgICBPYmplY3QuZW50cmllcyhlbnRyeSkuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XHJcbiAgICAgICAgICAgIGFkZEZpZWxkKGtleSwgU3RyaW5nKHZhbHVlKSk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBzdWJtaXRFbnRyeUJ0bi5pbm5lckhUTUwgPSAnPGkgY2xhc3M9XCJmYXMgZmEtY2hlY2sgbXItMlwiPjwvaT7noa7orqTmm7TmlrAnO1xyXG4gICAgICAgICAgc3VibWl0RW50cnlCdG4uZGF0YXNldC51cGRhdGVNb2RlID0gJ3RydWUnO1xyXG4gICAgICAgICAgc3VibWl0RW50cnlCdG4uZGF0YXNldC5vcmlnaW5hbE5hbWUgPSBuYW1lO1xyXG4gICAgICAgICAgc3VibWl0RW50cnlCdG4uZGF0YXNldC5vcmlnaW5hbFR5cGUgPSB0eXBlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB1cGRhdGVQZW5kaW5nUmV2aWV3SW5kaWNhdG9yKCk7XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/pokedexManager.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/remoteSync.ts": 
  /*!********************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/remoteSync.ts ***!
  \********************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initRemoteSyncModal: () => (/* binding */ initRemoteSyncModal)\n/* harmony export */ });\n/* harmony import */ var _core_logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/logger */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/logger.ts\");\n// ui/modals/remoteSync.ts\n\nfunction initRemoteSyncModal(pokedexManager, showModalWithData) {\n    const openModalBtn = document.getElementById('remote-sync-btn');\n    const modal = document.getElementById('remote-sync-modal');\n    const closeModalBtn = document.getElementById('remote-sync-close-btn');\n    const tabs = modal?.querySelectorAll('.main-tab-btn');\n    const submitTab = document.getElementById('remote-submit-tab');\n    const fetchTab = document.getElementById('remote-fetch-tab');\n    const localDiffList = document.getElementById('local-diff-list');\n    const remoteDiffList = document.getElementById('remote-diff-list');\n    const fetchRemoteBtn = document.getElementById('fetch-from-remote-btn');\n    const submitControls = document.getElementById('submit-to-remote-controls');\n    const importControls = document.getElementById('import-from-remote-controls');\n    const submitToRemoteBtn = document.getElementById('submit-to-remote-btn');\n    const importFromRemoteBtn = document.getElementById('import-from-remote-btn');\n    let remoteDataCache = null;\n    const showModal = async () => {\n        (0,_core_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'RemoteSync', 'Remote sync modal opened.');\n        modal?.classList.remove('hidden');\n        tabs?.forEach(t => t.getAttribute('data-tab') === 'submit' ? t.classList.add('active') : t.classList.remove('active'));\n        submitTab?.classList.remove('hidden');\n        fetchTab?.classList.add('hidden');\n        submitControls?.classList.remove('hidden');\n        importControls?.classList.add('hidden');\n        fetchRemoteBtn?.classList.add('hidden');\n        await populateSubmitList();\n    };\n    const hideModal = () => modal?.classList.add('hidden');\n    const populateSubmitList = async () => {\n        if (!localDiffList)\n            return;\n        (0,_core_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'RemoteSync', 'Populating submit list: comparing local vs remote...');\n        localDiffList.innerHTML = `<p class=\"text-center text-secondary p-4\">正在计算差异...</p>`;\n        const localPokedex = await pokedexManager.getPokedexData();\n        const localAchievements = await pokedexManager.getAchievements();\n        const remote = remoteDataCache || await pokedexManager.getRemotePokedex();\n        if (remote)\n            remoteDataCache = remote;\n        let diffHtml = '';\n        let diffCount = 0;\n        const types = ['妖兽', '植物', '物品', '成就'];\n        types.forEach(type => {\n            const localEntries = type === '成就' ? localAchievements : localPokedex[type];\n            const remoteEntries = remote ? (remote[type] || []) : [];\n            const remoteNames = new Set(remoteEntries.map((e) => e.名称));\n            const diffEntries = localEntries.filter((e) => !remoteNames.has(e.名称));\n            if (diffEntries.length > 0) {\n                diffCount += diffEntries.length;\n                diffHtml += `<h4 class=\"font-semibold text-primary/90 mt-2 first:mt-0\">${type}</h4><ul>`;\n                diffEntries.forEach((entry) => {\n                    diffHtml += `\r\n            <li class=\"p-2 rounded-lg bg-main/50 flex justify-between items-center\">\r\n              <label class=\"flex items-center cursor-pointer flex-grow mr-4\">\r\n                <input type=\"checkbox\" class=\"mr-3\" data-type=\"${type}\" data-name=\"${entry.名称}\">\r\n                <span class=\"truncate\" title=\"${entry.名称}\">${entry.名称}</span>\r\n              </label>\r\n              <div class=\"space-x-2 flex-shrink-0\">\r\n                <button class=\"pokedex-view-btn text-sm text-blue-400 hover:text-blue-300 transition-colors p-1\" data-type=\"${type}\" data-name=\"${entry.名称}\" data-source=\"local\" title=\"查看\"><i class=\"fas fa-eye\"></i></button>\r\n              </div>\r\n            </li>`;\n                });\n                diffHtml += `</ul>`;\n            }\n        });\n        if (diffCount === 0) {\n            localDiffList.innerHTML = `<p class=\"text-center text-secondary p-4\">恭喜！您的本地图鉴已全部同步至社区。</p>`;\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'RemoteSync', 'No local diffs found. Local is in sync with remote.');\n        }\n        else {\n            localDiffList.innerHTML = diffHtml;\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'RemoteSync', `Found ${diffCount} local entries not present on remote.`);\n        }\n    };\n    openModalBtn?.addEventListener('click', showModal);\n    closeModalBtn?.addEventListener('click', hideModal);\n    modal?.addEventListener('click', async (e) => {\n        if (e.target === modal) {\n            hideModal();\n            return;\n        }\n        const target = e.target;\n        const viewButton = target.closest('.pokedex-view-btn');\n        if (viewButton) {\n            const type = viewButton.getAttribute('data-type');\n            const name = viewButton.getAttribute('data-name');\n            const source = viewButton.getAttribute('data-source');\n            if (type && name && source) {\n                let entry;\n                if (source === 'local') {\n                    if (type === '成就') {\n                        const localAchievements = await pokedexManager.getAchievements();\n                        entry = localAchievements.find((e) => e.名称 === name);\n                    }\n                    else {\n                        const localPokedex = await pokedexManager.getPokedexData();\n                        entry = localPokedex[type]?.find((e) => e.名称 === name);\n                    }\n                }\n                else if (source === 'remote' && remoteDataCache) {\n                    entry = (remoteDataCache[type] || []).find((e) => e.名称 === name);\n                }\n                if (entry) {\n                    showModalWithData(entry);\n                }\n                else {\n                    toastr.warning('无法找到该条目的详细信息。');\n                }\n            }\n        }\n    });\n    tabs?.forEach(button => {\n        button.addEventListener('click', () => {\n            tabs.forEach(btn => btn.classList.remove('active'));\n            button.classList.add('active');\n            const tab = button.getAttribute('data-tab');\n            if (tab === 'submit') {\n                submitTab?.classList.remove('hidden');\n                fetchTab?.classList.add('hidden');\n                submitControls?.classList.remove('hidden');\n                importControls?.classList.add('hidden');\n                fetchRemoteBtn?.classList.add('hidden');\n                populateSubmitList();\n            }\n            else {\n                submitTab?.classList.add('hidden');\n                fetchTab?.classList.remove('hidden');\n                submitControls?.classList.add('hidden');\n                importControls?.classList.remove('hidden');\n                fetchRemoteBtn?.classList.remove('hidden');\n                if (remoteDiffList)\n                    remoteDiffList.innerHTML = `<p class=\"text-center text-secondary p-4\">请先点击下方按钮从社区获取列表。</p>`;\n            }\n        });\n    });\n    fetchRemoteBtn?.addEventListener('click', async () => {\n        if (!remoteDiffList)\n            return;\n        (0,_core_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'RemoteSync', 'Fetch from remote button clicked.');\n        remoteDiffList.innerHTML = `<p class=\"text-center text-secondary p-4\">正在从社区获取...</p>`;\n        const localPokedex = await pokedexManager.getPokedexData();\n        const localAchievements = await pokedexManager.getAchievements();\n        const remote = await pokedexManager.getRemotePokedex();\n        if (!remote) {\n            remoteDiffList.innerHTML = `<p class=\"text-center text-red-400 p-4\">获取失败，请检查服务器连接或查看控制台。</p>`;\n            return;\n        }\n        remoteDataCache = remote;\n        let diffHtml = '';\n        let diffCount = 0;\n        const types = ['妖兽', '植物', '物品', '成就'];\n        types.forEach(type => {\n            const localEntries = type === '成就' ? localAchievements : localPokedex[type];\n            const localNames = new Set(localEntries.map((e) => e.名称));\n            const remoteEntries = remote[type] || [];\n            const diffEntries = remoteEntries.filter((e) => !localNames.has(e.名称));\n            if (diffEntries.length > 0) {\n                diffCount += diffEntries.length;\n                diffHtml += `<h4 class=\"font-semibold text-primary/90 mt-2 first:mt-0\">${type}</h4><ul>`;\n                diffEntries.forEach((entry) => {\n                    diffHtml += `\r\n            <li class=\"p-2 rounded-lg bg-main/50 flex justify-between items-center\">\r\n              <label class=\"flex items-center cursor-pointer flex-grow mr-4\">\r\n                <input type=\"checkbox\" class=\"mr-3\" data-type=\"${type}\" data-name=\"${entry.名称}\">\r\n                <span class=\"truncate\" title=\"${entry.名称}\">${entry.名称}</span>\r\n              </label>\r\n              <div class=\"space-x-2 flex-shrink-0\">\r\n                <button class=\"pokedex-view-btn text-sm text-blue-400 hover:text-blue-300 transition-colors p-1\" data-type=\"${type}\" data-name=\"${entry.名称}\" data-source=\"remote\" title=\"查看\"><i class=\"fas fa-eye\"></i></button>\r\n              </div>\r\n            </li>`;\n                });\n                diffHtml += `</ul>`;\n            }\n        });\n        if (diffCount === 0) {\n            remoteDiffList.innerHTML = `<p class=\"text-center text-secondary p-4\">恭喜！您的本地图鉴与社区保持同步。</p>`;\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'RemoteSync', 'No remote diffs found. Remote is in sync with local.');\n        }\n        else {\n            remoteDiffList.innerHTML = diffHtml;\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'RemoteSync', `Found ${diffCount} remote entries not present locally.`);\n        }\n    });\n    submitToRemoteBtn?.addEventListener('click', async () => {\n        const checkboxes = localDiffList?.querySelectorAll('input[type=\"checkbox\"]:checked');\n        (0,_core_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'RemoteSync', `Submit to remote button clicked, ${checkboxes?.length || 0} items selected.`);\n        if (!checkboxes || checkboxes.length === 0) {\n            toastr.warning('请至少选择一个要分享的条目。');\n            return;\n        }\n        const providerInput = document.getElementById('provider-name-input');\n        const providerName = providerInput?.value.trim() || undefined;\n        const localPokedex = await pokedexManager.getPokedexData();\n        const localAchievements = await pokedexManager.getAchievements();\n        let successCount = 0;\n        for (const cb of checkboxes) {\n            const type = cb.dataset.type;\n            const name = cb.dataset.name;\n            if (type && name) {\n                const entry = type === '成就'\n                    ? localAchievements.find((e) => e.名称 === name)\n                    : localPokedex[type].find((e) => e.名称 === name);\n                if (entry) {\n                    await pokedexManager.submitToHuggingFace(type, entry, providerName);\n                    successCount++;\n                }\n            }\n        }\n        if (successCount > 0) {\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'RemoteSync', `Successfully submitted ${successCount} entries.`);\n            toastr.success(`成功分享了 ${successCount} 个条目！`);\n            remoteDataCache = null;\n            await populateSubmitList();\n        }\n    });\n    importFromRemoteBtn?.addEventListener('click', async () => {\n        const checkboxes = remoteDiffList?.querySelectorAll('input[type=\"checkbox\"]:checked');\n        (0,_core_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('log', 'RemoteSync', `Import from remote button clicked, ${checkboxes?.length || 0} items selected.`);\n        if (!checkboxes || checkboxes.length === 0 || !remoteDataCache) {\n            toastr.warning('请至少选择一个要导入的条目。');\n            return;\n        }\n        let successCount = 0;\n        for (const cb of checkboxes) {\n            const type = cb.dataset.type;\n            const name = cb.dataset.name;\n            if (type && name) {\n                const entry = (remoteDataCache[type] || []).find((e) => e.名称 === name);\n                if (entry) {\n                    let success = false;\n                    if (type === '成就') {\n                        success = await pokedexManager.createAchievement(entry);\n                    }\n                    else {\n                        success = await pokedexManager.createPokedexEntry(type, entry);\n                    }\n                    if (success) {\n                        successCount++;\n                    }\n                }\n            }\n        }\n        if (successCount > 0) {\n            (0,_core_logger__WEBPACK_IMPORTED_MODULE_0__.logger)('info', 'RemoteSync', `Successfully imported ${successCount} entries.`);\n            toastr.success(`成功导入了 ${successCount} 个新条目到您的本地图鉴！`);\n            hideModal();\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvdWkvbW9kYWxzL3JlbW90ZVN5bmMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSwwQkFBMEI7QUFHaUI7QUFJcEMsU0FBUyxtQkFBbUIsQ0FBQyxjQUE4QixFQUFFLGlCQUFzQztJQUN4RyxNQUFNLFlBQVksR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGlCQUFpQixDQUFDLENBQUM7SUFDaEUsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO0lBQzNELE1BQU0sYUFBYSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsdUJBQXVCLENBQUMsQ0FBQztJQUV2RSxNQUFNLElBQUksR0FBRyxLQUFLLEVBQUUsZ0JBQWdCLENBQUMsZUFBZSxDQUFDLENBQUM7SUFDdEQsTUFBTSxTQUFTLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO0lBQy9ELE1BQU0sUUFBUSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUU3RCxNQUFNLGFBQWEsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGlCQUFpQixDQUFDLENBQUM7SUFDakUsTUFBTSxjQUFjLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBRW5FLE1BQU0sY0FBYyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsdUJBQXVCLENBQUMsQ0FBQztJQUN4RSxNQUFNLGNBQWMsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLDJCQUEyQixDQUFDLENBQUM7SUFDNUUsTUFBTSxjQUFjLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDO0lBQzlFLE1BQU0saUJBQWlCLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO0lBQzFFLE1BQU0sbUJBQW1CLEdBQUcs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QUFDO1lBQ3JCLG9EQUFNLENBQUMsTUFBTSxFQUFFLFlBQVksRUFBRSx5QkFBeUIsWUFBWSxXQUFXLENBQUMsQ0FBQztZQUMvRSxNQUFNLENBQUMsT0FBTyxDQUFDLFNBQVMsWUFBWSxlQUFlLENBQUMsQ0FBQztZQUNyRCxTQUFTLEVBQUUsQ0FBQztRQUNkLENBQUM7SUFDSCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlLy4vc3JjL+S7gOS5iOaIkeimgeWcqOeOhOW5u+S/ruS7meS4lueVjOenjeeUsC0w5qW854mI5pysL3VpL21vZGFscy9yZW1vdGVTeW5jLnRzPyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyB1aS9tb2RhbHMvcmVtb3RlU3luYy50c1xyXG5cclxuaW1wb3J0IHsgUG9rZWRleE1hbmFnZXIsIFBva2VkZXhFbnRyeSwgUG9rZWRleFR5cGUsIFJlbW90ZVBva2VkZXhEYXRhLCBTaGFyZWFibGVUeXBlIH0gZnJvbSAnLi4vLi4vY29yZS9wb2tlZGV4JztcclxuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi4vLi4vY29yZS9sb2dnZXInO1xyXG5cclxuZGVjbGFyZSBjb25zdCB0b2FzdHI6IGFueTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0UmVtb3RlU3luY01vZGFsKHBva2VkZXhNYW5hZ2VyOiBQb2tlZGV4TWFuYWdlciwgc2hvd01vZGFsV2l0aERhdGE6IChkYXRhOiBhbnkpID0+IHZvaWQpIHtcclxuICBjb25zdCBvcGVuTW9kYWxCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVtb3RlLXN5bmMtYnRuJyk7XHJcbiAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVtb3RlLXN5bmMtbW9kYWwnKTtcclxuICBjb25zdCBjbG9zZU1vZGFsQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlbW90ZS1zeW5jLWNsb3NlLWJ0bicpO1xyXG4gIFxyXG4gIGNvbnN0IHRhYnMgPSBtb2RhbD8ucXVlcnlTZWxlY3RvckFsbCgnLm1haW4tdGFiLWJ0bicpO1xyXG4gIGNvbnN0IHN1Ym1pdFRhYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZW1vdGUtc3VibWl0LXRhYicpO1xyXG4gIGNvbnN0IGZldGNoVGFiID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlbW90ZS1mZXRjaC10YWInKTtcclxuICBcclxuICBjb25zdCBsb2NhbERpZmZMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvY2FsLWRpZmYtbGlzdCcpO1xyXG4gIGNvbnN0IHJlbW90ZURpZmZMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlbW90ZS1kaWZmLWxpc3QnKTtcclxuXHJcbiAgY29uc3QgZmV0Y2hSZW1vdGVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmV0Y2gtZnJvbS1yZW1vdGUtYnRuJyk7XHJcbiAgY29uc3Qgc3VibWl0Q29udHJvbHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VibWl0LXRvLXJlbW90ZS1jb250cm9scycpO1xyXG4gIGNvbnN0IGltcG9ydENvbnRyb2xzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltcG9ydC1mcm9tLXJlbW90ZS1jb250cm9scycpO1xyXG4gIGNvbnN0IHN1Ym1pdFRvUmVtb3RlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1Ym1pdC10by1yZW1vdGUtYnRuJyk7XHJcbiAgY29uc3QgaW1wb3J0RnJvbVJlbW90ZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbXBvcnQtZnJvbS1yZW1vdGUtYnRuJyk7XHJcblxyXG4gIGxldCByZW1vdGVEYXRhQ2FjaGU6IFJlbW90ZVBva2VkZXhEYXRhIHwgbnVsbCA9IG51bGw7XHJcblxyXG4gIGNvbnN0IHNob3dNb2RhbCA9IGFzeW5jICgpID0+IHtcclxuICAgIGxvZ2dlcignbG9nJywgJ1JlbW90ZVN5bmMnLCAnUmVtb3RlIHN5bmMgbW9kYWwgb3BlbmVkLicpO1xyXG4gICAgbW9kYWw/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgdGFicz8uZm9yRWFjaCh0ID0+IHQuZ2V0QXR0cmlidXRlKCdkYXRhLXRhYicpID09PSAnc3VibWl0JyA/IHQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJykgOiB0LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTtcclxuICAgIHN1Ym1pdFRhYj8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICBmZXRjaFRhYj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICBzdWJtaXRDb250cm9scz8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICBpbXBvcnRDb250cm9scz8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICBmZXRjaFJlbW90ZUJ0bj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICBhd2FpdCBwb3B1bGF0ZVN1Ym1pdExpc3QoKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoaWRlTW9kYWwgPSAoKSA9PiBtb2RhbD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcblxyXG4gIGNvbnN0IHBvcHVsYXRlU3VibWl0TGlzdCA9IGFzeW5jICgpID0+IHtcclxuICAgIGlmICghbG9jYWxEaWZmTGlzdCkgcmV0dXJuO1xyXG4gICAgbG9nZ2VyKCdsb2cnLCAnUmVtb3RlU3luYycsICdQb3B1bGF0aW5nIHN1Ym1pdCBsaXN0OiBjb21wYXJpbmcgbG9jYWwgdnMgcmVtb3RlLi4uJyk7XHJcbiAgICBsb2NhbERpZmZMaXN0LmlubmVySFRNTCA9IGA8cCBjbGFzcz1cInRleHQtY2VudGVyIHRleHQtc2Vjb25kYXJ5IHAtNFwiPuato+WcqOiuoeeul+W3ruW8gi4uLjwvcD5gO1xyXG4gICAgXHJcbiAgICBjb25zdCBsb2NhbFBva2VkZXggPSBhd2FpdCBwb2tlZGV4TWFuYWdlci5nZXRQb2tlZGV4RGF0YSgpO1xyXG4gICAgY29uc3QgbG9jYWxBY2hpZXZlbWVudHMgPSBhd2FpdCBwb2tlZGV4TWFuYWdlci5nZXRBY2hpZXZlbWVudHMoKTtcclxuICAgIGNvbnN0IHJlbW90ZSA9IHJlbW90ZURhdGFDYWNoZSB8fCBhd2FpdCBwb2tlZGV4TWFuYWdlci5nZXRSZW1vdGVQb2tlZGV4KCk7XHJcbiAgICBpZiAocmVtb3RlKSByZW1vdGVEYXRhQ2FjaGUgPSByZW1vdGU7XHJcblxyXG4gICAgbGV0IGRpZmZIdG1sID0gJyc7XHJcbiAgICBsZXQgZGlmZkNvdW50ID0gMDtcclxuICAgIGNvbnN0IHR5cGVzOiBTaGFyZWFibGVUeXBlW10gPSBbJ+WmluWFvScsICfmpI3niaknLCAn54mp5ZOBJywgJ+aIkOWwsSddO1xyXG5cclxuICAgIHR5cGVzLmZvckVhY2godHlwZSA9PiB7XHJcbiAgICAgIGNvbnN0IGxvY2FsRW50cmllcyA9IHR5cGUgPT09ICfmiJDlsLEnID8gbG9jYWxBY2hpZXZlbWVudHMgOiBsb2NhbFBva2VkZXhbdHlwZSBhcyBQb2tlZGV4VHlwZV07XHJcbiAgICAgIGNvbnN0IHJlbW90ZUVudHJpZXMgPSByZW1vdGUgPyAocmVtb3RlW3R5cGUgYXMga2V5b2YgUmVtb3RlUG9rZWRleERhdGFdIHx8IFtdKSA6IFtdO1xyXG4gICAgICBjb25zdCByZW1vdGVOYW1lcyA9IG5ldyBTZXQocmVtb3RlRW50cmllcy5tYXAoKGU6IFBva2VkZXhFbnRyeSkgPT4gZS7lkI3np7ApKTtcclxuICAgICAgY29uc3QgZGlmZkVudHJpZXMgPSBsb2NhbEVudHJpZXMuZmlsdGVyKChlOiBQb2tlZGV4RW50cnkpID0+ICFyZW1vdGVOYW1lcy5oYXMoZS7lkI3np7ApKTtcclxuICAgICAgXHJcbiAgICAgIGlmIChkaWZmRW50cmllcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgZGlmZkNvdW50ICs9IGRpZmZFbnRyaWVzLmxlbmd0aDtcclxuICAgICAgICBkaWZmSHRtbCArPSBgPGg0IGNsYXNzPVwiZm9udC1zZW1pYm9sZCB0ZXh0LXByaW1hcnkvOTAgbXQtMiBmaXJzdDptdC0wXCI+JHt0eXBlfTwvaDQ+PHVsPmA7XHJcbiAgICAgICAgZGlmZkVudHJpZXMuZm9yRWFjaCgoZW50cnk6IFBva2VkZXhFbnRyeSkgPT4ge1xyXG4gICAgICAgICAgZGlmZkh0bWwgKz0gYFxyXG4gICAgICAgICAgICA8bGkgY2xhc3M9XCJwLTIgcm91bmRlZC1sZyBiZy1tYWluLzUwIGZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGN1cnNvci1wb2ludGVyIGZsZXgtZ3JvdyBtci00XCI+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCJtci0zXCIgZGF0YS10eXBlPVwiJHt0eXBlfVwiIGRhdGEtbmFtZT1cIiR7ZW50cnku5ZCN56ewfVwiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0cnVuY2F0ZVwiIHRpdGxlPVwiJHtlbnRyeS7lkI3np7B9XCI+JHtlbnRyeS7lkI3np7B9PC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNwYWNlLXgtMiBmbGV4LXNocmluay0wXCI+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicG9rZWRleC12aWV3LWJ0biB0ZXh0LXNtIHRleHQtYmx1ZS00MDAgaG92ZXI6dGV4dC1ibHVlLTMwMCB0cmFuc2l0aW9uLWNvbG9ycyBwLTFcIiBkYXRhLXR5cGU9XCIke3R5cGV9XCIgZGF0YS1uYW1lPVwiJHtlbnRyeS7lkI3np7B9XCIgZGF0YS1zb3VyY2U9XCJsb2NhbFwiIHRpdGxlPVwi5p+l55yLXCI+PGkgY2xhc3M9XCJmYXMgZmEtZXllXCI+PC9pPjwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2xpPmA7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZGlmZkh0bWwgKz0gYDwvdWw+YDtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKGRpZmZDb3VudCA9PT0gMCkge1xyXG4gICAgICBsb2NhbERpZmZMaXN0LmlubmVySFRNTCA9IGA8cCBjbGFzcz1cInRleHQtY2VudGVyIHRleHQtc2Vjb25kYXJ5IHAtNFwiPuaBreWWnO+8geaCqOeahOacrOWcsOWbvumJtOW3suWFqOmDqOWQjOatpeiHs+ekvuWMuuOAgjwvcD5gO1xyXG4gICAgICBsb2dnZXIoJ2xvZycsICdSZW1vdGVTeW5jJywgJ05vIGxvY2FsIGRpZmZzIGZvdW5kLiBMb2NhbCBpcyBpbiBzeW5jIHdpdGggcmVtb3RlLicpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbG9jYWxEaWZmTGlzdC5pbm5lckhUTUwgPSBkaWZmSHRtbDtcclxuICAgICAgbG9nZ2VyKCdpbmZvJywgJ1JlbW90ZVN5bmMnLCBgRm91bmQgJHtkaWZmQ291bnR9IGxvY2FsIGVudHJpZXMgbm90IHByZXNlbnQgb24gcmVtb3RlLmApO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIG9wZW5Nb2RhbEJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93TW9kYWwpO1xyXG4gIGNsb3NlTW9kYWxCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGlkZU1vZGFsKTtcclxuICBtb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZTogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgaWYgKGUudGFyZ2V0ID09PSBtb2RhbCkge1xyXG4gICAgICBoaWRlTW9kYWwoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG4gICAgY29uc3Qgdmlld0J1dHRvbiA9IHRhcmdldC5jbG9zZXN0KCcucG9rZWRleC12aWV3LWJ0bicpO1xyXG5cclxuICAgIGlmICh2aWV3QnV0dG9uKSB7XHJcbiAgICAgIGNvbnN0IHR5cGUgPSB2aWV3QnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YS10eXBlJykgYXMgU2hhcmVhYmxlVHlwZTtcclxuICAgICAgY29uc3QgbmFtZSA9IHZpZXdCdXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLW5hbWUnKTtcclxuICAgICAgY29uc3Qgc291cmNlID0gdmlld0J1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtc291cmNlJyk7XHJcblxyXG4gICAgICBpZiAodHlwZSAmJiBuYW1lICYmIHNvdXJjZSkge1xyXG4gICAgICAgIGxldCBlbnRyeTogUG9rZWRleEVudHJ5IHwgdW5kZWZpbmVkO1xyXG4gICAgICAgIGlmIChzb3VyY2UgPT09ICdsb2NhbCcpIHtcclxuICAgICAgICAgIGlmICh0eXBlID09PSAn5oiQ5bCxJykge1xyXG4gICAgICAgICAgICBjb25zdCBsb2NhbEFjaGlldmVtZW50cyA9IGF3YWl0IHBva2VkZXhNYW5hZ2VyLmdldEFjaGlldmVtZW50cygpO1xyXG4gICAgICAgICAgICBlbnRyeSA9IGxvY2FsQWNoaWV2ZW1lbnRzLmZpbmQoKGU6IFBva2VkZXhFbnRyeSkgPT4gZS7lkI3np7AgPT09IG5hbWUpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgbG9jYWxQb2tlZGV4ID0gYXdhaXQgcG9rZWRleE1hbmFnZXIuZ2V0UG9rZWRleERhdGEoKTtcclxuICAgICAgICAgICAgZW50cnkgPSBsb2NhbFBva2VkZXhbdHlwZSBhcyBQb2tlZGV4VHlwZV0/LmZpbmQoKGU6IFBva2VkZXhFbnRyeSkgPT4gZS7lkI3np7AgPT09IG5hbWUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoc291cmNlID09PSAncmVtb3RlJyAmJiByZW1vdGVEYXRhQ2FjaGUpIHtcclxuICAgICAgICAgIGVudHJ5ID0gKHJlbW90ZURhdGFDYWNoZVt0eXBlIGFzIGtleW9mIFJlbW90ZVBva2VkZXhEYXRhXSB8fCBbXSkuZmluZCgoZTogUG9rZWRleEVudHJ5KSA9PiBlLuWQjeensCA9PT0gbmFtZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZW50cnkpIHtcclxuICAgICAgICAgIHNob3dNb2RhbFdpdGhEYXRhKGVudHJ5KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdG9hc3RyLndhcm5pbmcoJ+aXoOazleaJvuWIsOivpeadoeebrueahOivpue7huS/oeaBr+OAgicpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB0YWJzPy5mb3JFYWNoKGJ1dHRvbiA9PiB7XHJcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRhYnMuZm9yRWFjaChidG4gPT4gYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTtcclxuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICBjb25zdCB0YWIgPSBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLXRhYicpO1xyXG4gICAgICBpZiAodGFiID09PSAnc3VibWl0Jykge1xyXG4gICAgICAgIHN1Ym1pdFRhYj8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgZmV0Y2hUYWI/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgICAgIHN1Ym1pdENvbnRyb2xzPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICAgICAgICBpbXBvcnRDb250cm9scz8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICAgICAgZmV0Y2hSZW1vdGVCdG4/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgICAgIHBvcHVsYXRlU3VibWl0TGlzdCgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHN1Ym1pdFRhYj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICAgICAgZmV0Y2hUYWI/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgICAgIHN1Ym1pdENvbnRyb2xzPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuICAgICAgICBpbXBvcnRDb250cm9scz8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgZmV0Y2hSZW1vdGVCdG4/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgICAgIGlmKHJlbW90ZURpZmZMaXN0KSByZW1vdGVEaWZmTGlzdC5pbm5lckhUTUwgPSBgPHAgY2xhc3M9XCJ0ZXh0LWNlbnRlciB0ZXh0LXNlY29uZGFyeSBwLTRcIj7or7flhYjngrnlh7vkuIvmlrnmjInpkq7ku47npL7ljLrojrflj5bliJfooajjgII8L3A+YDtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGZldGNoUmVtb3RlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcclxuICAgIGlmICghcmVtb3RlRGlmZkxpc3QpIHJldHVybjtcclxuICAgIGxvZ2dlcignbG9nJywgJ1JlbW90ZVN5bmMnLCAnRmV0Y2ggZnJvbSByZW1vdGUgYnV0dG9uIGNsaWNrZWQuJyk7XHJcbiAgICByZW1vdGVEaWZmTGlzdC5pbm5lckhUTUwgPSBgPHAgY2xhc3M9XCJ0ZXh0LWNlbnRlciB0ZXh0LXNlY29uZGFyeSBwLTRcIj7mraPlnKjku47npL7ljLrojrflj5YuLi48L3A+YDtcclxuICAgIFxyXG4gICAgY29uc3QgbG9jYWxQb2tlZGV4ID0gYXdhaXQgcG9rZWRleE1hbmFnZXIuZ2V0UG9rZWRleERhdGEoKTtcclxuICAgIGNvbnN0IGxvY2FsQWNoaWV2ZW1lbnRzID0gYXdhaXQgcG9rZWRleE1hbmFnZXIuZ2V0QWNoaWV2ZW1lbnRzKCk7XHJcbiAgICBjb25zdCByZW1vdGUgPSBhd2FpdCBwb2tlZGV4TWFuYWdlci5nZXRSZW1vdGVQb2tlZGV4KCk7XHJcbiAgICBpZiAoIXJlbW90ZSkge1xyXG4gICAgICByZW1vdGVEaWZmTGlzdC5pbm5lckhUTUwgPSBgPHAgY2xhc3M9XCJ0ZXh0LWNlbnRlciB0ZXh0LXJlZC00MDAgcC00XCI+6I635Y+W5aSx6LSl77yM6K+35qOA5p+l5pyN5Yqh5Zmo6L+e5o6l5oiW5p+l55yL5o6n5Yi25Y+w44CCPC9wPmA7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHJlbW90ZURhdGFDYWNoZSA9IHJlbW90ZTtcclxuXHJcbiAgICBsZXQgZGlmZkh0bWwgPSAnJztcclxuICAgIGxldCBkaWZmQ291bnQgPSAwO1xyXG4gICAgY29uc3QgdHlwZXM6IFNoYXJlYWJsZVR5cGVbXSA9IFsn5aaW5YW9JywgJ+akjeeJqScsICfnianlk4EnLCAn5oiQ5bCxJ107XHJcblxyXG4gICAgdHlwZXMuZm9yRWFjaCh0eXBlID0+IHtcclxuICAgICAgY29uc3QgbG9jYWxFbnRyaWVzID0gdHlwZSA9PT0gJ+aIkOWwsScgPyBsb2NhbEFjaGlldmVtZW50cyA6IGxvY2FsUG9rZWRleFt0eXBlIGFzIFBva2VkZXhUeXBlXTtcclxuICAgICAgY29uc3QgbG9jYWxOYW1lcyA9IG5ldyBTZXQobG9jYWxFbnRyaWVzLm1hcCgoZTogUG9rZWRleEVudHJ5KSA9PiBlLuWQjeensCkpO1xyXG4gICAgICBjb25zdCByZW1vdGVFbnRyaWVzID0gcmVtb3RlW3R5cGUgYXMga2V5b2YgUmVtb3RlUG9rZWRleERhdGFdIHx8IFtdO1xyXG4gICAgICBjb25zdCBkaWZmRW50cmllcyA9IHJlbW90ZUVudHJpZXMuZmlsdGVyKChlOiBQb2tlZGV4RW50cnkpID0+ICFsb2NhbE5hbWVzLmhhcyhlLuWQjeensCkpO1xyXG4gICAgICBcclxuICAgICAgaWYgKGRpZmZFbnRyaWVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBkaWZmQ291bnQgKz0gZGlmZkVudHJpZXMubGVuZ3RoO1xyXG4gICAgICAgIGRpZmZIdG1sICs9IGA8aDQgY2xhc3M9XCJmb250LXNlbWlib2xkIHRleHQtcHJpbWFyeS85MCBtdC0yIGZpcnN0Om10LTBcIj4ke3R5cGV9PC9oND48dWw+YDtcclxuICAgICAgICBkaWZmRW50cmllcy5mb3JFYWNoKChlbnRyeTogUG9rZWRleEVudHJ5KSA9PiB7XHJcbiAgICAgICAgICBkaWZmSHRtbCArPSBgXHJcbiAgICAgICAgICAgIDxsaSBjbGFzcz1cInAtMiByb3VuZGVkLWxnIGJnLW1haW4vNTAgZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgY3Vyc29yLXBvaW50ZXIgZmxleC1ncm93IG1yLTRcIj5cclxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cIm1yLTNcIiBkYXRhLXR5cGU9XCIke3R5cGV9XCIgZGF0YS1uYW1lPVwiJHtlbnRyeS7lkI3np7B9XCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRydW5jYXRlXCIgdGl0bGU9XCIke2VudHJ5LuWQjeensH1cIj4ke2VudHJ5LuWQjeensH08L3NwYW4+XHJcbiAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3BhY2UteC0yIGZsZXgtc2hyaW5rLTBcIj5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJwb2tlZGV4LXZpZXctYnRuIHRleHQtc20gdGV4dC1ibHVlLTQwMCBob3Zlcjp0ZXh0LWJsdWUtMzAwIHRyYW5zaXRpb24tY29sb3JzIHAtMVwiIGRhdGEtdHlwZT1cIiR7dHlwZX1cIiBkYXRhLW5hbWU9XCIke2VudHJ5LuWQjeensH1cIiBkYXRhLXNvdXJjZT1cInJlbW90ZVwiIHRpdGxlPVwi5p+l55yLXCI+PGkgY2xhc3M9XCJmYXMgZmEtZXllXCI+PC9pPjwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2xpPmA7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZGlmZkh0bWwgKz0gYDwvdWw+YDtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKGRpZmZDb3VudCA9PT0gMCkge1xyXG4gICAgICByZW1vdGVEaWZmTGlzdC5pbm5lckhUTUwgPSBgPHAgY2xhc3M9XCJ0ZXh0LWNlbnRlciB0ZXh0LXNlY29uZGFyeSBwLTRcIj7mga3llpzvvIHmgqjnmoTmnKzlnLDlm77pibTkuI7npL7ljLrkv53mjIHlkIzmraXjgII8L3A+YDtcclxuICAgICAgbG9nZ2VyKCdsb2cnLCAnUmVtb3RlU3luYycsICdObyByZW1vdGUgZGlmZnMgZm91bmQuIFJlbW90ZSBpcyBpbiBzeW5jIHdpdGggbG9jYWwuJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZW1vdGVEaWZmTGlzdC5pbm5lckhUTUwgPSBkaWZmSHRtbDtcclxuICAgICAgbG9nZ2VyKCdpbmZvJywgJ1JlbW90ZVN5bmMnLCBgRm91bmQgJHtkaWZmQ291bnR9IHJlbW90ZSBlbnRyaWVzIG5vdCBwcmVzZW50IGxvY2FsbHkuYCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHN1Ym1pdFRvUmVtb3RlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IGNoZWNrYm94ZXMgPSBsb2NhbERpZmZMaXN0Py5xdWVyeVNlbGVjdG9yQWxsPEhUTUxJbnB1dEVsZW1lbnQ+KCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl06Y2hlY2tlZCcpO1xyXG4gICAgbG9nZ2VyKCdsb2cnLCAnUmVtb3RlU3luYycsIGBTdWJtaXQgdG8gcmVtb3RlIGJ1dHRvbiBjbGlja2VkLCAke2NoZWNrYm94ZXM/Lmxlbmd0aCB8fCAwfSBpdGVtcyBzZWxlY3RlZC5gKTtcclxuICAgIGlmICghY2hlY2tib3hlcyB8fCBjaGVja2JveGVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICB0b2FzdHIud2FybmluZygn6K+36Iez5bCR6YCJ5oup5LiA5Liq6KaB5YiG5Lqr55qE5p2h55uu44CCJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgcHJvdmlkZXJJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm92aWRlci1uYW1lLWlucHV0JykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgIGNvbnN0IHByb3ZpZGVyTmFtZSA9IHByb3ZpZGVySW5wdXQ/LnZhbHVlLnRyaW0oKSB8fCB1bmRlZmluZWQ7XHJcblxyXG4gICAgY29uc3QgbG9jYWxQb2tlZGV4ID0gYXdhaXQgcG9rZWRleE1hbmFnZXIuZ2V0UG9rZWRleERhdGEoKTtcclxuICAgIGNvbnN0IGxvY2FsQWNoaWV2ZW1lbnRzID0gYXdhaXQgcG9rZWRleE1hbmFnZXIuZ2V0QWNoaWV2ZW1lbnRzKCk7XHJcbiAgICBsZXQgc3VjY2Vzc0NvdW50ID0gMDtcclxuXHJcbiAgICBmb3IgKGNvbnN0IGNiIG9mIGNoZWNrYm94ZXMpIHtcclxuICAgICAgY29uc3QgdHlwZSA9IGNiLmRhdGFzZXQudHlwZSBhcyBTaGFyZWFibGVUeXBlO1xyXG4gICAgICBjb25zdCBuYW1lID0gY2IuZGF0YXNldC5uYW1lO1xyXG4gICAgICBpZiAodHlwZSAmJiBuYW1lKSB7XHJcbiAgICAgICAgY29uc3QgZW50cnkgPSB0eXBlID09PSAn5oiQ5bCxJ1xyXG4gICAgICAgICAgPyBsb2NhbEFjaGlldmVtZW50cy5maW5kKChlOiBQb2tlZGV4RW50cnkpID0+IGUu5ZCN56ewID09PSBuYW1lKVxyXG4gICAgICAgICAgOiBsb2NhbFBva2VkZXhbdHlwZSBhcyBQb2tlZGV4VHlwZV0uZmluZCgoZTogUG9rZWRleEVudHJ5KSA9PiBlLuWQjeensCA9PT0gbmFtZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGVudHJ5KSB7XHJcbiAgICAgICAgICBhd2FpdCBwb2tlZGV4TWFuYWdlci5zdWJtaXRUb0h1Z2dpbmdGYWNlKHR5cGUsIGVudHJ5LCBwcm92aWRlck5hbWUpO1xyXG4gICAgICAgICAgc3VjY2Vzc0NvdW50Kys7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChzdWNjZXNzQ291bnQgPiAwKSB7XHJcbiAgICAgIGxvZ2dlcignaW5mbycsICdSZW1vdGVTeW5jJywgYFN1Y2Nlc3NmdWxseSBzdWJtaXR0ZWQgJHtzdWNjZXNzQ291bnR9IGVudHJpZXMuYCk7XHJcbiAgICAgIHRvYXN0ci5zdWNjZXNzKGDmiJDlip/liIbkuqvkuoYgJHtzdWNjZXNzQ291bnR9IOS4quadoeebru+8gWApO1xyXG4gICAgICByZW1vdGVEYXRhQ2FjaGUgPSBudWxsO1xyXG4gICAgICBhd2FpdCBwb3B1bGF0ZVN1Ym1pdExpc3QoKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgaW1wb3J0RnJvbVJlbW90ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBjaGVja2JveGVzID0gcmVtb3RlRGlmZkxpc3Q/LnF1ZXJ5U2VsZWN0b3JBbGw8SFRNTElucHV0RWxlbWVudD4oJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXTpjaGVja2VkJyk7XHJcbiAgICBsb2dnZXIoJ2xvZycsICdSZW1vdGVTeW5jJywgYEltcG9ydCBmcm9tIHJlbW90ZSBidXR0b24gY2xpY2tlZCwgJHtjaGVja2JveGVzPy5sZW5ndGggfHwgMH0gaXRlbXMgc2VsZWN0ZWQuYCk7XHJcbiAgICBpZiAoIWNoZWNrYm94ZXMgfHwgY2hlY2tib3hlcy5sZW5ndGggPT09IDAgfHwgIXJlbW90ZURhdGFDYWNoZSkge1xyXG4gICAgICB0b2FzdHIud2FybmluZygn6K+36Iez5bCR6YCJ5oup5LiA5Liq6KaB5a+85YWl55qE5p2h55uu44CCJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgc3VjY2Vzc0NvdW50ID0gMDtcclxuICAgIGZvciAoY29uc3QgY2Igb2YgY2hlY2tib3hlcykge1xyXG4gICAgICBjb25zdCB0eXBlID0gY2IuZGF0YXNldC50eXBlIGFzIFNoYXJlYWJsZVR5cGU7XHJcbiAgICAgIGNvbnN0IG5hbWUgPSBjYi5kYXRhc2V0Lm5hbWU7XHJcbiAgICAgIGlmICh0eXBlICYmIG5hbWUpIHtcclxuICAgICAgICBjb25zdCBlbnRyeSA9IChyZW1vdGVEYXRhQ2FjaGVbdHlwZSBhcyBrZXlvZiBSZW1vdGVQb2tlZGV4RGF0YV0gfHwgW10pLmZpbmQoKGU6IFBva2VkZXhFbnRyeSkgPT4gZS7lkI3np7AgPT09IG5hbWUpO1xyXG4gICAgICAgIGlmIChlbnRyeSkge1xyXG4gICAgICAgICAgbGV0IHN1Y2Nlc3MgPSBmYWxzZTtcclxuICAgICAgICAgIGlmICh0eXBlID09PSAn5oiQ5bCxJykge1xyXG4gICAgICAgICAgICBzdWNjZXNzID0gYXdhaXQgcG9rZWRleE1hbmFnZXIuY3JlYXRlQWNoaWV2ZW1lbnQoZW50cnkpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc3VjY2VzcyA9IGF3YWl0IHBva2VkZXhNYW5hZ2VyLmNyZWF0ZVBva2VkZXhFbnRyeSh0eXBlIGFzIFBva2VkZXhUeXBlLCBlbnRyeSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoc3VjY2Vzcykge1xyXG4gICAgICAgICAgICBzdWNjZXNzQ291bnQrKztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoc3VjY2Vzc0NvdW50ID4gMCkge1xyXG4gICAgICBsb2dnZXIoJ2luZm8nLCAnUmVtb3RlU3luYycsIGBTdWNjZXNzZnVsbHkgaW1wb3J0ZWQgJHtzdWNjZXNzQ291bnR9IGVudHJpZXMuYCk7XHJcbiAgICAgIHRvYXN0ci5zdWNjZXNzKGDmiJDlip/lr7zlhaXkuoYgJHtzdWNjZXNzQ291bnR9IOS4quaWsOadoeebruWIsOaCqOeahOacrOWcsOWbvumJtO+8gWApO1xyXG4gICAgICBoaWRlTW9kYWwoKTtcclxuICAgIH1cclxuICB9KTtcclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/remoteSync.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/settings.ts": 
  /*!******************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/settings.ts ***!
  \******************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initSettingsModal: () => (/* binding */ initSettingsModal)\n/* harmony export */ });\nconst SETTINGS_KEY = 'plugin_settings.context_management';\nlet historyManagerInstance;\nlet summarizerInstance;\n// --- DOM Elements ---\nlet modal;\nlet closeBtn;\nlet contextSlider;\nlet contextValueDisplay;\nlet summarySlider;\nlet summaryValueDisplay;\nlet latestSummaryContent;\nlet forceSummaryBtn;\nlet summaryPromptInput;\nlet restoreDefaultPromptBtn;\nlet streamingResponseToggle;\nconst DEFAULT_SUMMARY_PROMPT = `你是一个专业的剧情摘要助手。你的任务是根据“过往的剧情摘要”和“最新的对话内容”，生成一份融合了两部分信息精华的、全新的、更完整的摘要。\n\n请严格遵守以下规则：\n1.  **继承过往**: 新摘要必须完全包含“过-楼版本/过往的剧情摘要”中的所有关键信息，不允许遗漏。\n2.  **融入新内容**: 将“最新的对话内容”中的核心情节、关键决策和情感变化，自然地融入到新摘要中。\n3.  **保持风格**: 使用简洁、客观的第三人称视角进行叙述。\n\n<过往的剧情摘要>\n{{PREVIOUS_SUMMARY}}\n</过往的剧情摘要>\n\n<最新的对话内容>\n{{NEW_HISTORY}}\n</最新的对话内容>\n\n请输出你优化后的全新完整摘要：`;\n/**\n * Saves the current settings to the plugin's variable storage.\n */\nasync function saveSettings() {\n    const settings = {\n        contextLimit: parseInt(contextSlider.val(), 10),\n        summaryTrigger: parseInt(summarySlider.val(), 10),\n        summaryPrompt: summaryPromptInput.val(),\n        shouldStream: streamingResponseToggle.prop('checked'),\n    };\n    try {\n        await updateVariablesWith((vars) => {\n            _.set(vars, SETTINGS_KEY, settings);\n            return vars;\n        }, { type: 'chat' });\n        toastr.success('设置已保存。');\n    }\n    catch (error) {\n        console.error('Failed to save settings:', error);\n        toastr.error('设置保存失败。');\n    }\n}\n/**\n * Loads settings from the plugin's variable storage and updates the UI.\n */\nfunction loadSettings() {\n    const chatVars = getVariables({ type: 'chat' }) || {};\n    const settings = _.get(chatVars, SETTINGS_KEY, {\n        contextLimit: 20,\n        summaryTrigger: 30,\n        summaryPrompt: DEFAULT_SUMMARY_PROMPT,\n        shouldStream: true, // Default to true\n    });\n    contextSlider.val(settings.contextLimit);\n    contextValueDisplay.text(settings.contextLimit);\n    summarySlider.val(settings.summaryTrigger);\n    summaryValueDisplay.text(settings.summaryTrigger);\n    summaryPromptInput.val(settings.summaryPrompt);\n    streamingResponseToggle.prop('checked', settings.shouldStream);\n    // Enforce the rule: summary trigger cannot be greater than context limit\n    summarySlider.attr('max', settings.contextLimit);\n}\n/**\n * Updates the display of the latest summary.\n */\nasync function updateSummaryDisplay() {\n    await historyManagerInstance.loadHistory();\n    const messages = historyManagerInstance.getMessagesForPrompt();\n    const lastSummary = messages.findLast((m) => m.role === 'summary');\n    if (lastSummary) {\n        // Summary content is always a string\n        latestSummaryContent.text(lastSummary.content);\n    }\n    else {\n        latestSummaryContent.html('<p class=\"text-secondary\">暂无摘要。</p>');\n    }\n}\n/**\n * Initializes the settings modal, its event listeners, and loads initial data.\n * @param historyManager The instance of the ChatHistoryManager.\n * @param summarizer The instance of the Summarizer.\n */\nfunction initSettingsModal(historyManager, summarizer) {\n    historyManagerInstance = historyManager;\n    summarizerInstance = summarizer;\n    // --- Cache DOM elements ---\n    modal = $('#settings-modal');\n    closeBtn = $('#settings-modal-close-btn');\n    contextSlider = $('#context-limit-slider');\n    contextValueDisplay = $('#context-limit-value');\n    summarySlider = $('#summary-trigger-slider');\n    summaryValueDisplay = $('#summary-trigger-value');\n    latestSummaryContent = $('#latest-summary-content');\n    forceSummaryBtn = $('#force-summary-btn');\n    summaryPromptInput = $('#summary-prompt-input');\n    restoreDefaultPromptBtn = $('#restore-default-prompt-btn');\n    streamingResponseToggle = $('#streaming-response-toggle');\n    // --- Event Listeners ---\n    $('#settings-btn').on('click', () => {\n        loadSettings();\n        updateSummaryDisplay();\n        modal.removeClass('hidden');\n    });\n    closeBtn.on('click', () => {\n        modal.addClass('hidden');\n    });\n    // Tab switching logic\n    modal.find('.main-tab-btn').on('click', (e) => {\n        const tab = $(e.currentTarget).data('tab');\n        modal.find('.main-tab-btn').removeClass('active');\n        $(e.currentTarget).addClass('active');\n        modal.find('.main-tab-content').addClass('hidden');\n        $(`#settings-${tab}-tab`).removeClass('hidden');\n    });\n    // Slider value displays\n    contextSlider.on('input', () => {\n        const value = contextSlider.val();\n        contextValueDisplay.text(value);\n        // Dynamically update the max value of the summary slider\n        summarySlider.attr('max', value);\n        if (parseInt(summarySlider.val(), 10) > parseInt(value, 10)) {\n            summarySlider.val(value);\n            summaryValueDisplay.text(value);\n        }\n    });\n    summarySlider.on('input', () => {\n        summaryValueDisplay.text(summarySlider.val());\n    });\n    // Save settings on slider change (debounced)\n    const debouncedSave = _.debounce(saveSettings, 500);\n    contextSlider.on('change', debouncedSave);\n    summarySlider.on('change', debouncedSave);\n    summaryPromptInput.on('input', debouncedSave);\n    streamingResponseToggle.on('change', debouncedSave);\n    // Restore default prompt button\n    restoreDefaultPromptBtn.on('click', () => {\n        summaryPromptInput.val(DEFAULT_SUMMARY_PROMPT);\n        saveSettings();\n        toastr.info('提示词已恢复为默认设置。');\n    });\n    // Force summary button\n    forceSummaryBtn.on('click', async () => {\n        toastr.info('已在后台启动手动精炼摘要任务...');\n        forceSummaryBtn.prop('disabled', true).find('i').addClass('fa-spin');\n        try {\n            // @ts-ignore - Accessing private method for manual trigger\n            await summarizerInstance.executeSummary();\n            toastr.success('手动摘要已成功生成！');\n            await updateSummaryDisplay();\n        }\n        catch (error) {\n            console.error('Forced summary failed:', error);\n            toastr.error('手动摘要失败，请查看控制台。');\n        }\n        finally {\n            forceSummaryBtn.prop('disabled', false).find('i').removeClass('fa-spin');\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvdWkvbW9kYWxzL3NldHRpbmdzLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFVQSxNQUFNLFlBQVksR0FBRyxvQ0FBb0MsQ0FBQztBQUUxRCxJQUFJLHNCQUEwQyxDQUFDO0FBQy9DLElBQUksa0JBQThCLENBQUM7QUFFbkMsdUJBQXVCO0FBQ3ZCLElBQUksS0FBMEIsQ0FBQztBQUMvQixJQUFJLFFBQTZCLENBQUM7QUFDbEMsSUFBSSxhQUF1QyxDQUFDO0FBQzVDLElBQUksbUJBQXdDLENBQUM7QUFDN0MsSUFBSSxhQUF1QyxDQUFDO0FBQzVDLElBQUksbUJBQXdDLENBQUM7QUFDN0MsSUFBSSxvQkFBeUMsQ0FBQztBQUM5QyxJQUFJLGVBQW9DLENBQUM7QUFDekMsSUFBSSxrQkFBK0MsQ0FBQztBQUNwRCxJQUFJLHVCQUE0QyxDQUFDO0FBQ2pELElBQUksdUJBQWlELENBQUM7QUFFdEQsTUFBTSxzQkFBc0IsR0FBRzs7Ozs7Ozs7Ozs7Ozs7O2dCQWVmLENBQUM7QUFFakI7O0dBRUc7QUFDSCxLQUFLLFVBQVUsWUFBWTtJQUN6QixNQUFNLFFBQVEsR0FBRztRQUNmLFlBQVksRUFBRSxRQUFRLENBQUMsYUFBYSxDQUFDLEdBQUcsRUFBWSxFQUFFLEVBQUUsQ0FBQztRQUN6RCxjQUFjLEVBQUUsUUFBUSxDQUFDLGFBQWEsQ0FBQyxHQUFHLEVBQVksRUFBRSxFQUFFLENBQUM7UUFDM0QsYUFBYSxFQUFFLGtCQUFrQixDQUFDLEdBQUcsRUFBRTtRQUN2QyxZQUFZLEVBQUUsdUJBQXVCLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQztLQUN0RCxDQUFDO0lBQ0YsSUFBSSxDQUFDO1FBQ0gsTUFBTSxtQkFBbUIsQ0FBQyxDQUFDLElBQVMsRUFBRSxFQUFFO1lBQ3RDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLFlBQVksRUFBRSxRQUFRLENBQUMsQ0FBQztZQUNwQyxP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QkFBa0IsQ0FBQyxHQUFHLENBQUMsc0JBQXNCLENBQUMsQ0FBQztRQUMvQyxZQUFZLEVBQUUsQ0FBQztRQUNmLE1BQU0sQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7SUFDOUIsQ0FBQyxDQUFDLENBQUM7SUFFSCx1QkFBdUI7SUFDdkIsZUFBZSxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFDckMsTUFBTSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBQ2pDLGVBQWUsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDckUsSUFBSSxDQUFDO1lBQ0gsMkRBQTJEO1lBQzNELE1BQU0sa0JBQWtCLENBQUMsY0FBYyxFQUFFLENBQUM7WUFDMUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUM3QixNQUFNLG9CQUFvQixFQUFFLENBQUM7UUFDL0IsQ0FBQztRQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7WUFDZixPQUFPLENBQUMsS0FBSyxDQUFDLHdCQUF3QixFQUFFLEtBQUssQ0FBQyxDQUFDO1lBQy9DLE1BQU0sQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUNqQyxDQUFDO2dCQUFTLENBQUM7WUFDVCxlQUFlLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzNFLENBQUM7SUFDSCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlLy4vc3JjL+S7gOS5iOaIkeimgeWcqOeOhOW5u+S/ruS7meS4lueVjOenjeeUsC0w5qW854mI5pysL3VpL21vZGFscy9zZXR0aW5ncy50cz8iXSwic291cmNlc0NvbnRlbnQiOlsiLy8gdWkvbW9kYWxzL3NldHRpbmdzLnRzXG5pbXBvcnQgeyBDaGF0SGlzdG9yeU1hbmFnZXIsIE1lc3NhZ2VQYWdlIH0gZnJvbSAnLi4vLi4vY29yZS9oaXN0b3J5JztcbmltcG9ydCB7IFN1bW1hcml6ZXIgfSBmcm9tICcuLi8uLi9jb3JlL3N1bW1hcml6ZXInO1xuXG5kZWNsYXJlIGNvbnN0ICQ6IGFueTtcbmRlY2xhcmUgY29uc3QgdG9hc3RyOiBhbnk7XG5kZWNsYXJlIGNvbnN0IGdldFZhcmlhYmxlczogKG9wdGlvbnM6IGFueSkgPT4gYW55O1xuZGVjbGFyZSBjb25zdCB1cGRhdGVWYXJpYWJsZXNXaXRoOiAodXBkYXRlcjogKHZhcnM6IGFueSkgPT4gYW55LCBvcHRpb25zOiBhbnkpID0+IFByb21pc2U8dm9pZD47XG5kZWNsYXJlIGNvbnN0IF86IGFueTtcblxuY29uc3QgU0VUVElOR1NfS0VZID0gJ3BsdWdpbl9zZXR0aW5ncy5jb250ZXh0X21hbmFnZW1lbnQnO1xuXG5sZXQgaGlzdG9yeU1hbmFnZXJJbnN0YW5jZTogQ2hhdEhpc3RvcnlNYW5hZ2VyO1xubGV0IHN1bW1hcml6ZXJJbnN0YW5jZTogU3VtbWFyaXplcjtcblxuLy8gLS0tIERPTSBFbGVtZW50cyAtLS1cbmxldCBtb2RhbDogSlF1ZXJ5PEhUTUxFbGVtZW50PjtcbmxldCBjbG9zZUJ0bjogSlF1ZXJ5PEhUTUxFbGVtZW50PjtcbmxldCBjb250ZXh0U2xpZGVyOiBKUXVlcnk8SFRNTElucHV0RWxlbWVudD47XG5sZXQgY29udGV4dFZhbHVlRGlzcGxheTogSlF1ZXJ5PEhUTUxFbGVtZW50PjtcbmxldCBzdW1tYXJ5U2xpZGVyOiBKUXVlcnk8SFRNTElucHV0RWxlbWVudD47XG5sZXQgc3VtbWFyeVZhbHVlRGlzcGxheTogSlF1ZXJ5PEhUTUxFbGVtZW50PjtcbmxldCBsYXRlc3RTdW1tYXJ5Q29udGVudDogSlF1ZXJ5PEhUTUxFbGVtZW50PjtcbmxldCBmb3JjZVN1bW1hcnlCdG46IEpRdWVyeTxIVE1MRWxlbWVudD47XG5sZXQgc3VtbWFyeVByb21wdElucHV0OiBKUXVlcnk8SFRNTFRleHRBcmVhRWxlbWVudD47XG5sZXQgcmVzdG9yZURlZmF1bHRQcm9tcHRCdG46IEpRdWVyeTxIVE1MRWxlbWVudD47XG5sZXQgc3RyZWFtaW5nUmVzcG9uc2VUb2dnbGU6IEpRdWVyeTxIVE1MSW5wdXRFbGVtZW50PjtcblxuY29uc3QgREVGQVVMVF9TVU1NQVJZX1BST01QVCA9IGDkvaDmmK/kuIDkuKrkuJPkuJrnmoTliafmg4XmkZjopoHliqnmiYvjgILkvaDnmoTku7vliqHmmK/moLnmja7igJzov4flvoDnmoTliafmg4XmkZjopoHigJ3lkozigJzmnIDmlrDnmoTlr7nor53lhoXlrrnigJ3vvIznlJ/miJDkuIDku73ono3lkIjkuobkuKTpg6jliIbkv6Hmga/nsr7ljY7nmoTjgIHlhajmlrDnmoTjgIHmm7TlrozmlbTnmoTmkZjopoHjgIJcblxu6K+35Lil5qC86YG15a6I5Lul5LiL6KeE5YiZ77yaXG4xLiAgKirnu6fmib/ov4flvoAqKjog5paw5pGY6KaB5b+F6aG75a6M5YWo5YyF5ZCr4oCc6L+HLealvOeJiOacrC/ov4flvoDnmoTliafmg4XmkZjopoHigJ3kuK3nmoTmiYDmnInlhbPplK7kv6Hmga/vvIzkuI3lhYHorrjpgZfmvI/jgIJcbjIuICAqKuiejeWFpeaWsOWGheWuuSoqOiDlsIbigJzmnIDmlrDnmoTlr7nor53lhoXlrrnigJ3kuK3nmoTmoLjlv4Pmg4XoioLjgIHlhbPplK7lhrPnrZblkozmg4XmhJ/lj5jljJbvvIzoh6rnhLblnLDono3lhaXliLDmlrDmkZjopoHkuK3jgIJcbjMuICAqKuS/neaMgemjjuagvCoqOiDkvb/nlKjnroDmtIHjgIHlrqLop4LnmoTnrKzkuInkurrnp7Dop4bop5Lov5vooYzlj5nov7DjgIJcblxuPOi/h+W+gOeahOWJp+aDheaRmOimgT5cbnt7UFJFVklPVVNfU1VNTUFSWX19XG48L+i/h+W+gOeahOWJp+aDheaRmOimgT5cblxuPOacgOaWsOeahOWvueivneWGheWuuT5cbnt7TkVXX0hJU1RPUll9fVxuPC/mnIDmlrDnmoTlr7nor53lhoXlrrk+XG5cbuivt+i+k+WHuuS9oOS8mOWMluWQjueahOWFqOaWsOWujOaVtOaRmOimge+8mmA7XG5cbi8qKlxuICogU2F2ZXMgdGhlIGN1cnJlbnQgc2V0dGluZ3MgdG8gdGhlIHBsdWdpbidzIHZhcmlhYmxlIHN0b3JhZ2UuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHNhdmVTZXR0aW5ncygpIHtcbiAgY29uc3Qgc2V0dGluZ3MgPSB7XG4gICAgY29udGV4dExpbWl0OiBwYXJzZUludChjb250ZXh0U2xpZGVyLnZhbCgpIGFzIHN0cmluZywgMTApLFxuICAgIHN1bW1hcnlUcmlnZ2VyOiBwYXJzZUludChzdW1tYXJ5U2xpZGVyLnZhbCgpIGFzIHN0cmluZywgMTApLFxuICAgIHN1bW1hcnlQcm9tcHQ6IHN1bW1hcnlQcm9tcHRJbnB1dC52YWwoKSxcbiAgICBzaG91bGRTdHJlYW06IHN0cmVhbWluZ1Jlc3BvbnNlVG9nZ2xlLnByb3AoJ2NoZWNrZWQnKSxcbiAgfTtcbiAgdHJ5IHtcbiAgICBhd2FpdCB1cGRhdGVWYXJpYWJsZXNXaXRoKCh2YXJzOiBhbnkpID0+IHtcbiAgICAgIF8uc2V0KHZhcnMsIFNFVFRJTkdTX0tFWSwgc2V0dGluZ3MpO1xuICAgICAgcmV0dXJuIHZhcnM7XG4gICAgfSwgeyB0eXBlOiAnY2hhdCcgfSk7XG4gICAgdG9hc3RyLnN1Y2Nlc3MoJ+iuvue9ruW3suS/neWtmOOAgicpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzYXZlIHNldHRpbmdzOicsIGVycm9yKTtcbiAgICB0b2FzdHIuZXJyb3IoJ+iuvue9ruS/neWtmOWksei0peOAgicpO1xuICB9XG59XG5cbi8qKlxuICogTG9hZHMgc2V0dGluZ3MgZnJvbSB0aGUgcGx1Z2luJ3MgdmFyaWFibGUgc3RvcmFnZSBhbmQgdXBkYXRlcyB0aGUgVUkuXG4gKi9cbmZ1bmN0aW9uIGxvYWRTZXR0aW5ncygpIHtcbiAgY29uc3QgY2hhdFZhcnMgPSBnZXRWYXJpYWJsZXMoeyB0eXBlOiAnY2hhdCcgfSkgfHwge307XG4gIGNvbnN0IHNldHRpbmdzID0gXy5nZXQoY2hhdFZhcnMsIFNFVFRJTkdTX0tFWSwge1xuICAgIGNvbnRleHRMaW1pdDogMjAsXG4gICAgc3VtbWFyeVRyaWdnZXI6IDMwLFxuICAgIHN1bW1hcnlQcm9tcHQ6IERFRkFVTFRfU1VNTUFSWV9QUk9NUFQsXG4gICAgc2hvdWxkU3RyZWFtOiB0cnVlLCAvLyBEZWZhdWx0IHRvIHRydWVcbiAgfSk7XG5cbiAgY29udGV4dFNsaWRlci52YWwoc2V0dGluZ3MuY29udGV4dExpbWl0KTtcbiAgY29udGV4dFZhbHVlRGlzcGxheS50ZXh0KHNldHRpbmdzLmNvbnRleHRMaW1pdCk7XG4gIHN1bW1hcnlTbGlkZXIudmFsKHNldHRpbmdzLnN1bW1hcnlUcmlnZ2VyKTtcbiAgc3VtbWFyeVZhbHVlRGlzcGxheS50ZXh0KHNldHRpbmdzLnN1bW1hcnlUcmlnZ2VyKTtcbiAgc3VtbWFyeVByb21wdElucHV0LnZhbChzZXR0aW5ncy5zdW1tYXJ5UHJvbXB0KTtcbiAgc3RyZWFtaW5nUmVzcG9uc2VUb2dnbGUucHJvcCgnY2hlY2tlZCcsIHNldHRpbmdzLnNob3VsZFN0cmVhbSk7XG4gIFxuICAvLyBFbmZvcmNlIHRoZSBydWxlOiBzdW1tYXJ5IHRyaWdnZXIgY2Fubm90IGJlIGdyZWF0ZXIgdGhhbiBjb250ZXh0IGxpbWl0XG4gIHN1bW1hcnlTbGlkZXIuYXR0cignbWF4Jywgc2V0dGluZ3MuY29udGV4dExpbWl0KTtcbn1cblxuLyoqXG4gKiBVcGRhdGVzIHRoZSBkaXNwbGF5IG9mIHRoZSBsYXRlc3Qgc3VtbWFyeS5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gdXBkYXRlU3VtbWFyeURpc3BsYXkoKSB7XG4gIGF3YWl0IGhpc3RvcnlNYW5hZ2VySW5zdGFuY2UubG9hZEhpc3RvcnkoKTtcbiAgY29uc3QgbWVzc2FnZXMgPSBoaXN0b3J5TWFuYWdlckluc3RhbmNlLmdldE1lc3NhZ2VzRm9yUHJvbXB0KCk7XG4gIGNvbnN0IGxhc3RTdW1tYXJ5ID0gbWVzc2FnZXMuZmluZExhc3QoKG06IE1lc3NhZ2VQYWdlKSA9PiBtLnJvbGUgPT09ICdzdW1tYXJ5Jyk7XG5cbiAgaWYgKGxhc3RTdW1tYXJ5KSB7XG4gICAgLy8gU3VtbWFyeSBjb250ZW50IGlzIGFsd2F5cyBhIHN0cmluZ1xuICAgIGxhdGVzdFN1bW1hcnlDb250ZW50LnRleHQobGFzdFN1bW1hcnkuY29udGVudCBhcyBzdHJpbmcpO1xuICB9IGVsc2Uge1xuICAgIGxhdGVzdFN1bW1hcnlDb250ZW50Lmh0bWwoJzxwIGNsYXNzPVwidGV4dC1zZWNvbmRhcnlcIj7mmoLml6DmkZjopoHjgII8L3A+Jyk7XG4gIH1cbn1cblxuLyoqXG4gKiBJbml0aWFsaXplcyB0aGUgc2V0dGluZ3MgbW9kYWwsIGl0cyBldmVudCBsaXN0ZW5lcnMsIGFuZCBsb2FkcyBpbml0aWFsIGRhdGEuXG4gKiBAcGFyYW0gaGlzdG9yeU1hbmFnZXIgVGhlIGluc3RhbmNlIG9mIHRoZSBDaGF0SGlzdG9yeU1hbmFnZXIuXG4gKiBAcGFyYW0gc3VtbWFyaXplciBUaGUgaW5zdGFuY2Ugb2YgdGhlIFN1bW1hcml6ZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0U2V0dGluZ3NNb2RhbChoaXN0b3J5TWFuYWdlcjogQ2hhdEhpc3RvcnlNYW5hZ2VyLCBzdW1tYXJpemVyOiBTdW1tYXJpemVyKSB7XG4gIGhpc3RvcnlNYW5hZ2VySW5zdGFuY2UgPSBoaXN0b3J5TWFuYWdlcjtcbiAgc3VtbWFyaXplckluc3RhbmNlID0gc3VtbWFyaXplcjtcblxuICAvLyAtLS0gQ2FjaGUgRE9NIGVsZW1lbnRzIC0tLVxuICBtb2RhbCA9ICQoJyNzZXR0aW5ncy1tb2RhbCcpO1xuICBjbG9zZUJ0biA9ICQoJyNzZXR0aW5ncy1tb2RhbC1jbG9zZS1idG4nKTtcbiAgY29udGV4dFNsaWRlciA9ICQoJyNjb250ZXh0LWxpbWl0LXNsaWRlcicpO1xuICBjb250ZXh0VmFsdWVEaXNwbGF5ID0gJCgnI2NvbnRleHQtbGltaXQtdmFsdWUnKTtcbiAgc3VtbWFyeVNsaWRlciA9ICQoJyNzdW1tYXJ5LXRyaWdnZXItc2xpZGVyJyk7XG4gIHN1bW1hcnlWYWx1ZURpc3BsYXkgPSAkKCcjc3VtbWFyeS10cmlnZ2VyLXZhbHVlJyk7XG4gIGxhdGVzdFN1bW1hcnlDb250ZW50ID0gJCgnI2xhdGVzdC1zdW1tYXJ5LWNvbnRlbnQnKTtcbiAgZm9yY2VTdW1tYXJ5QnRuID0gJCgnI2ZvcmNlLXN1bW1hcnktYnRuJyk7XG4gIHN1bW1hcnlQcm9tcHRJbnB1dCA9ICQoJyNzdW1tYXJ5LXByb21wdC1pbnB1dCcpO1xuICByZXN0b3JlRGVmYXVsdFByb21wdEJ0biA9ICQoJyNyZXN0b3JlLWRlZmF1bHQtcHJvbXB0LWJ0bicpO1xuICBzdHJlYW1pbmdSZXNwb25zZVRvZ2dsZSA9ICQoJyNzdHJlYW1pbmctcmVzcG9uc2UtdG9nZ2xlJyk7XG5cbiAgLy8gLS0tIEV2ZW50IExpc3RlbmVycyAtLS1cbiAgJCgnI3NldHRpbmdzLWJ0bicpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICBsb2FkU2V0dGluZ3MoKTtcbiAgICB1cGRhdGVTdW1tYXJ5RGlzcGxheSgpO1xuICAgIG1vZGFsLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgfSk7XG5cbiAgY2xvc2VCdG4ub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgIG1vZGFsLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgfSk7XG5cbiAgLy8gVGFiIHN3aXRjaGluZyBsb2dpY1xuICBtb2RhbC5maW5kKCcubWFpbi10YWItYnRuJykub24oJ2NsaWNrJywgKGU6IEpRdWVyeS5DbGlja0V2ZW50KSA9PiB7XG4gICAgY29uc3QgdGFiID0gJChlLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ3RhYicpO1xuICAgIG1vZGFsLmZpbmQoJy5tYWluLXRhYi1idG4nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgJChlLmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICBtb2RhbC5maW5kKCcubWFpbi10YWItY29udGVudCcpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAkKGAjc2V0dGluZ3MtJHt0YWJ9LXRhYmApLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgfSk7XG5cbiAgLy8gU2xpZGVyIHZhbHVlIGRpc3BsYXlzXG4gIGNvbnRleHRTbGlkZXIub24oJ2lucHV0JywgKCkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gY29udGV4dFNsaWRlci52YWwoKSBhcyBzdHJpbmc7XG4gICAgY29udGV4dFZhbHVlRGlzcGxheS50ZXh0KHZhbHVlKTtcbiAgICAvLyBEeW5hbWljYWxseSB1cGRhdGUgdGhlIG1heCB2YWx1ZSBvZiB0aGUgc3VtbWFyeSBzbGlkZXJcbiAgICBzdW1tYXJ5U2xpZGVyLmF0dHIoJ21heCcsIHZhbHVlKTtcbiAgICBpZiAocGFyc2VJbnQoc3VtbWFyeVNsaWRlci52YWwoKSBhcyBzdHJpbmcsIDEwKSA+IHBhcnNlSW50KHZhbHVlLCAxMCkpIHtcbiAgICAgIHN1bW1hcnlTbGlkZXIudmFsKHZhbHVlKTtcbiAgICAgIHN1bW1hcnlWYWx1ZURpc3BsYXkudGV4dCh2YWx1ZSk7XG4gICAgfVxuICB9KTtcblxuICBzdW1tYXJ5U2xpZGVyLm9uKCdpbnB1dCcsICgpID0+IHtcbiAgICBzdW1tYXJ5VmFsdWVEaXNwbGF5LnRleHQoc3VtbWFyeVNsaWRlci52YWwoKSBhcyBzdHJpbmcpO1xuICB9KTtcblxuICAvLyBTYXZlIHNldHRpbmdzIG9uIHNsaWRlciBjaGFuZ2UgKGRlYm91bmNlZClcbiAgY29uc3QgZGVib3VuY2VkU2F2ZSA9IF8uZGVib3VuY2Uoc2F2ZVNldHRpbmdzLCA1MDApO1xuICBjb250ZXh0U2xpZGVyLm9uKCdjaGFuZ2UnLCBkZWJvdW5jZWRTYXZlKTtcbiAgc3VtbWFyeVNsaWRlci5vbignY2hhbmdlJywgZGVib3VuY2VkU2F2ZSk7XG4gIHN1bW1hcnlQcm9tcHRJbnB1dC5vbignaW5wdXQnLCBkZWJvdW5jZWRTYXZlKTtcbiAgc3RyZWFtaW5nUmVzcG9uc2VUb2dnbGUub24oJ2NoYW5nZScsIGRlYm91bmNlZFNhdmUpO1xuXG4gIC8vIFJlc3RvcmUgZGVmYXVsdCBwcm9tcHQgYnV0dG9uXG4gIHJlc3RvcmVEZWZhdWx0UHJvbXB0QnRuLm9uKCdjbGljaycsICgpID0+IHtcbiAgICBzdW1tYXJ5UHJvbXB0SW5wdXQudmFsKERFRkFVTFRfU1VNTUFSWV9QUk9NUFQpO1xuICAgIHNhdmVTZXR0aW5ncygpO1xuICAgIHRvYXN0ci5pbmZvKCfmj5DnpLror43lt7LmgaLlpI3kuLrpu5jorqTorr7nva7jgIInKTtcbiAgfSk7XG5cbiAgLy8gRm9yY2Ugc3VtbWFyeSBidXR0b25cbiAgZm9yY2VTdW1tYXJ5QnRuLm9uKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICB0b2FzdHIuaW5mbygn5bey5Zyo5ZCO5Y+w5ZCv5Yqo5omL5Yqo57K+54K85pGY6KaB5Lu75YqhLi4uJyk7XG4gICAgZm9yY2VTdW1tYXJ5QnRuLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSkuZmluZCgnaScpLmFkZENsYXNzKCdmYS1zcGluJyk7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEB0cy1pZ25vcmUgLSBBY2Nlc3NpbmcgcHJpdmF0ZSBtZXRob2QgZm9yIG1hbnVhbCB0cmlnZ2VyXG4gICAgICBhd2FpdCBzdW1tYXJpemVySW5zdGFuY2UuZXhlY3V0ZVN1bW1hcnkoKTtcbiAgICAgIHRvYXN0ci5zdWNjZXNzKCfmiYvliqjmkZjopoHlt7LmiJDlip/nlJ/miJDvvIEnKTtcbiAgICAgIGF3YWl0IHVwZGF0ZVN1bW1hcnlEaXNwbGF5KCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZvcmNlZCBzdW1tYXJ5IGZhaWxlZDonLCBlcnJvcik7XG4gICAgICB0b2FzdHIuZXJyb3IoJ+aJi+WKqOaRmOimgeWksei0pe+8jOivt+afpeeci+aOp+WItuWPsOOAgicpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBmb3JjZVN1bW1hcnlCdG4ucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSkuZmluZCgnaScpLnJlbW92ZUNsYXNzKCdmYS1zcGluJyk7XG4gICAgfVxuICB9KTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/settings.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/versionChecker.ts": 
  /*!************************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/versionChecker.ts ***!
  \************************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initVersionChecker: () => (/* binding */ initVersionChecker)\n/* harmony export */ });\n/* harmony import */ var _core_version__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/version */ \"./src/什么我要在玄幻修仙世界种田-0楼版本/core/version.ts\");\n// ui/modals/versionChecker.ts\n\nasync function initVersionChecker() {\n    const versionBtn = document.getElementById('version-info-btn');\n    if (!versionBtn)\n        return;\n    const initialUpdateInfo = await (0,_core_version__WEBPACK_IMPORTED_MODULE_0__.checkForUpdates)();\n    if (initialUpdateInfo?.hasUpdate) {\n        versionBtn.insertAdjacentHTML('beforeend', '<span class=\"absolute top-0 right-0 block h-2 w-2 rounded-full ring-2 ring-white bg-red-500\"></span>');\n    }\n    versionBtn.addEventListener('click', async () => {\n        toastr.info('正在获取最新更新日志...');\n        const changelogHtml = await (0,_core_version__WEBPACK_IMPORTED_MODULE_0__.getChangelog)();\n        const currentUpdateInfo = await (0,_core_version__WEBPACK_IMPORTED_MODULE_0__.checkForUpdates)();\n        if (changelogHtml && currentUpdateInfo) {\n            (0,_core_version__WEBPACK_IMPORTED_MODULE_0__.showChangelogModal)(changelogHtml, currentUpdateInfo.hasUpdate);\n        }\n        else {\n            toastr.error('无法显示更新日志。');\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvdWkvbW9kYWxzL3ZlcnNpb25DaGVja2VyLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsOEJBQThCO0FBRXlEO0FBSWhGLEtBQUssVUFBVSxrQkFBa0I7SUFDdEMsTUFBTSxVQUFVLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBQy9ELElBQUksQ0FBQyxVQUFVO1FBQUUsT0FBTztJQUV4QixNQUFNLGlCQUFpQixHQUFHLE1BQU0sOERBQWUsRUFBRSxDQUFDO0lBQ2xELElBQUksaUJBQWlCLEVBQUUsU0FBUyxFQUFFLENBQUM7UUFDakMsVUFBVSxDQUFDLGtCQUFrQixDQUFDLFdBQVcsRUFBRSxzR0FBc0csQ0FBQyxDQUFDO0lBQ3JKLENBQUM7SUFFRCxVQUFVLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLEtBQUssSUFBSSxFQUFFO1FBQzlDLE1BQU0sQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDN0IsTUFBTSxhQUFhLEdBQUcsTUFBTSwyREFBWSxFQUFFLENBQUM7UUFDM0MsTUFBTSxpQkFBaUIsR0FBRyxNQUFNLDhEQUFlLEVBQUUsQ0FBQztRQUVsRCxJQUFJLGFBQWEsSUFBSSxpQkFBaUIsRUFBRSxDQUFDO1lBQ3ZDLGlFQUFrQixDQUFDLGFBQWEsRUFBRSxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNqRSxDQUFDO2FBQU0sQ0FBQztZQUNOLE1BQU0sQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDNUIsQ0FBQztJQUNILENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvdWkvbW9kYWxzL3ZlcnNpb25DaGVja2VyLnRzPyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyB1aS9tb2RhbHMvdmVyc2lvbkNoZWNrZXIudHNcclxuXHJcbmltcG9ydCB7IGNoZWNrRm9yVXBkYXRlcywgZ2V0Q2hhbmdlbG9nLCBzaG93Q2hhbmdlbG9nTW9kYWwgfSBmcm9tICcuLi8uLi9jb3JlL3ZlcnNpb24nO1xyXG5cclxuZGVjbGFyZSBjb25zdCB0b2FzdHI6IGFueTtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0VmVyc2lvbkNoZWNrZXIoKSB7XHJcbiAgY29uc3QgdmVyc2lvbkJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2ZXJzaW9uLWluZm8tYnRuJyk7XHJcbiAgaWYgKCF2ZXJzaW9uQnRuKSByZXR1cm47XHJcblxyXG4gIGNvbnN0IGluaXRpYWxVcGRhdGVJbmZvID0gYXdhaXQgY2hlY2tGb3JVcGRhdGVzKCk7XHJcbiAgaWYgKGluaXRpYWxVcGRhdGVJbmZvPy5oYXNVcGRhdGUpIHtcclxuICAgIHZlcnNpb25CdG4uaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCAnPHNwYW4gY2xhc3M9XCJhYnNvbHV0ZSB0b3AtMCByaWdodC0wIGJsb2NrIGgtMiB3LTIgcm91bmRlZC1mdWxsIHJpbmctMiByaW5nLXdoaXRlIGJnLXJlZC01MDBcIj48L3NwYW4+Jyk7XHJcbiAgfVxyXG5cclxuICB2ZXJzaW9uQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgdG9hc3RyLmluZm8oJ+ato+WcqOiOt+WPluacgOaWsOabtOaWsOaXpeW/ly4uLicpO1xyXG4gICAgY29uc3QgY2hhbmdlbG9nSHRtbCA9IGF3YWl0IGdldENoYW5nZWxvZygpO1xyXG4gICAgY29uc3QgY3VycmVudFVwZGF0ZUluZm8gPSBhd2FpdCBjaGVja0ZvclVwZGF0ZXMoKTtcclxuICAgIFxyXG4gICAgaWYgKGNoYW5nZWxvZ0h0bWwgJiYgY3VycmVudFVwZGF0ZUluZm8pIHtcclxuICAgICAgc2hvd0NoYW5nZWxvZ01vZGFsKGNoYW5nZWxvZ0h0bWwsIGN1cnJlbnRVcGRhdGVJbmZvLmhhc1VwZGF0ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0b2FzdHIuZXJyb3IoJ+aXoOazleaYvuekuuabtOaWsOaXpeW/l+OAgicpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/ui/modals/versionChecker.ts\n\n}");
  },
  "./src/什么我要在玄幻修仙世界种田-0楼版本/ui/sidePanel.ts": 
  /*!************************************************!*\
  !*** ./src/什么我要在玄幻修仙世界种田-0楼版本/ui/sidePanel.ts ***!
  \************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initSidePanelTabs: () => (/* binding */ initSidePanelTabs)\n/* harmony export */ });\n// ui/sidePanel.ts\nfunction initSidePanelTabs() {\n    const tabButtons = document.querySelectorAll('#tab-navigation .side-tab-btn');\n    const tabContents = document.querySelectorAll('#tab-content-container .side-tab-content');\n    tabButtons.forEach(button => {\n        button.addEventListener('click', () => {\n            const tabName = button.getAttribute('data-tab');\n            tabButtons.forEach(btn => btn.classList.remove('active'));\n            button.classList.add('active');\n            tabContents.forEach(content => {\n                if (content.id === `${tabName}-tab`) {\n                    content.classList.remove('hidden');\n                }\n                else {\n                    content.classList.add('hidden');\n                }\n            });\n        });\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwLTDmpbzniYjmnKwvdWkvc2lkZVBhbmVsLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxrQkFBa0I7QUFFWCxTQUFTLGlCQUFpQjtJQUMvQixNQUFNLFVBQVUsR0FBRyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsK0JBQStCLENBQUMsQ0FBQztJQUM5RSxNQUFNLFdBQVcsR0FBRyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsMENBQTBDLENBQUMsQ0FBQztJQUUxRixVQUFVLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFO1FBQzFCLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFO1lBQ3BDLE1BQU0sT0FBTyxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDLENBQUM7WUFFaEQsVUFBVSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDMUQsTUFBTSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7WUFFL0IsV0FBVyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsRUFBRTtnQkFDNUIsSUFBSSxPQUFPLENBQUMsRUFBRSxLQUFLLEdBQUcsT0FBTyxNQUFNLEVBQUUsQ0FBQztvQkFDcEMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ3JDLENBQUM7cUJBQU0sQ0FBQztvQkFDTixPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDbEMsQ0FBQztZQUNILENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlLy4vc3JjL+S7gOS5iOaIkeimgeWcqOeOhOW5u+S/ruS7meS4lueVjOenjeeUsC0w5qW854mI5pysL3VpL3NpZGVQYW5lbC50cz8iXSwic291cmNlc0NvbnRlbnQiOlsiLy8gdWkvc2lkZVBhbmVsLnRzXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdFNpZGVQYW5lbFRhYnMoKSB7XHJcbiAgY29uc3QgdGFiQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyN0YWItbmF2aWdhdGlvbiAuc2lkZS10YWItYnRuJyk7XHJcbiAgY29uc3QgdGFiQ29udGVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjdGFiLWNvbnRlbnQtY29udGFpbmVyIC5zaWRlLXRhYi1jb250ZW50Jyk7XHJcblxyXG4gIHRhYkJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4ge1xyXG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCB0YWJOYW1lID0gYnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YS10YWInKTtcclxuXHJcbiAgICAgIHRhYkJ1dHRvbnMuZm9yRWFjaChidG4gPT4gYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTtcclxuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG5cclxuICAgICAgdGFiQ29udGVudHMuZm9yRWFjaChjb250ZW50ID0+IHtcclxuICAgICAgICBpZiAoY29udGVudC5pZCA9PT0gYCR7dGFiTmFtZX0tdGFiYCkge1xyXG4gICAgICAgICAgY29udGVudC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29udGVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田-0楼版本/ui/sidePanel.ts\n\n}");
  },
  lodash: 
  /*!********************!*\
  !*** external "_" ***!
  \********************/ module => {
    module.exports = _;
  },
  toastr: 
  /*!*************************!*\
  !*** external "toastr" ***!
  \*************************/ module => {
    module.exports = toastr;
  }
};

var __webpack_module_cache__ = {};

function __webpack_require__(moduleId) {
  var cachedModule = __webpack_module_cache__[moduleId];
  if (cachedModule !== undefined) {
    return cachedModule.exports;
  }
  var module = __webpack_module_cache__[moduleId] = {
    exports: {}
  };
  __webpack_modules__[moduleId](module, module.exports, __webpack_require__);
  return module.exports;
}

(() => {
  __webpack_require__.n = module => {
    var getter = module && module.__esModule ? () => module["default"] : () => module;
    __webpack_require__.d(getter, {
      a: getter
    });
    return getter;
  };
})();

(() => {
  __webpack_require__.d = (exports, definition) => {
    for (var key in definition) {
      if (__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
        Object.defineProperty(exports, key, {
          enumerable: true,
          get: definition[key]
        });
      }
    }
  };
})();

(() => {
  __webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);
})();

(() => {
  __webpack_require__.r = exports => {
    if (typeof Symbol !== "undefined" && Symbol.toStringTag) {
      Object.defineProperty(exports, Symbol.toStringTag, {
        value: "Module"
      });
    }
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
  };
})();

var __webpack_exports__ = __webpack_require__("./src/什么我要在玄幻修仙世界种田-0楼版本/index.ts");</script><style>/*!***********************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/css-loader/dist/cjs.js??clonedRuleSet-26.use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/什么我要在玄幻修仙世界种田-0楼版本/index.scss ***!
  \***********************************************************************************************************************************************************************************************/
@import url(https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&display=swap);
/*!***************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/css-loader/dist/cjs.js??clonedRuleSet-26.use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/什么我要在玄幻修仙世界种田-0楼版本/index.scss (1) ***!
  \***************************************************************************************************************************************************************************************************/
/*! tailwindcss v4.1.11 | MIT License | https://tailwindcss.com */
@charset "UTF-8";
@layer properties;
.collapse {
  visibility: collapse;
}
.invisible {
  visibility: hidden;
}
.visible {
  visibility: visible;
}
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}
.absolute {
  position: absolute;
}
.fixed {
  position: fixed;
}
.relative {
  position: relative;
}
.static {
  position: static;
}
.sticky {
  position: sticky;
}
.top-1\/2 {
  top: calc(1/2 * 100%);
}
.z-10 {
  z-index: 10;
}
.z-40 {
  z-index: 40;
}
.z-50 {
  z-index: 50;
}
.z-\[1010\] {
  z-index: 1010;
}
.container {
  width: 100%;
}
.mx-auto {
  margin-inline: auto;
}
.mt-auto {
  margin-top: auto;
}
.mr-auto {
  margin-right: auto;
}
.ml-auto {
  margin-left: auto;
}
.block {
  display: block;
}
.contents {
  display: contents;
}
.flex {
  display: flex;
}
.grid {
  display: grid;
}
.hidden {
  display: none;
}
.inline-block {
  display: inline-block;
}
.table {
  display: table;
}
.h-\[1000px\] {
  height: 1000px;
}
.h-full {
  height: 100%;
}
.h-screen {
  height: 100vh;
}
.max-h-\[70vh\] {
  max-height: 70vh;
}
.min-h-\[8rem\] {
  min-height: 8rem;
}
.w-full {
  width: 100%;
}
.max-w-none {
  max-width: none;
}
.flex-1 {
  flex: 1;
}
.flex-shrink {
  flex-shrink: 1;
}
.flex-shrink-0 {
  flex-shrink: 0;
}
.flex-grow {
  flex-grow: 1;
}
.border-collapse {
  border-collapse: collapse;
}
.-translate-y-1\/2 {
  --tw-translate-y: calc(calc(1/2 * 100%) * -1);
  translate: var(--tw-translate-x) var(--tw-translate-y);
}
.transform {
  transform: var(--tw-rotate-x,) var(--tw-rotate-y,) var(--tw-rotate-z,) var(--tw-skew-x,) var(--tw-skew-y,);
}
.cursor-not-allowed {
  cursor: not-allowed;
}
.cursor-pointer {
  cursor: pointer;
}
.resize {
  resize: both;
}
.list-inside {
  list-style-position: inside;
}
.list-disc {
  list-style-type: disc;
}
.appearance-none {
  -webkit-appearance: none;
          appearance: none;
}
.grid-cols-1 {
  grid-template-columns: repeat(1, minmax(0, 1fr));
}
.grid-cols-7 {
  grid-template-columns: repeat(7, minmax(0, 1fr));
}
.flex-col {
  flex-direction: column;
}
.flex-row {
  flex-direction: row;
}
.flex-nowrap {
  flex-wrap: nowrap;
}
.flex-wrap {
  flex-wrap: wrap;
}
.items-center {
  align-items: center;
}
.items-start {
  align-items: flex-start;
}
.justify-between {
  justify-content: space-between;
}
.justify-center {
  justify-content: center;
}
.justify-end {
  justify-content: flex-end;
}
.truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.overflow-auto {
  overflow: auto;
}
.overflow-hidden {
  overflow: hidden;
}
.overflow-x-auto {
  overflow-x: auto;
}
.overflow-y-auto {
  overflow-y: auto;
}
.rounded-full {
  border-radius: calc(infinity * 1px);
}
.border {
  border-style: var(--tw-border-style);
  border-width: 1px;
}
.border-2 {
  border-style: var(--tw-border-style);
  border-width: 2px;
}
.border-4 {
  border-style: var(--tw-border-style);
  border-width: 4px;
}
.border-t {
  border-top-style: var(--tw-border-style);
  border-top-width: 1px;
}
.border-t-2 {
  border-top-style: var(--tw-border-style);
  border-top-width: 2px;
}
.border-b {
  border-bottom-style: var(--tw-border-style);
  border-bottom-width: 1px;
}
.border-b-2 {
  border-bottom-style: var(--tw-border-style);
  border-bottom-width: 2px;
}
.border-l {
  border-left-style: var(--tw-border-style);
  border-left-width: 1px;
}
.border-l-2 {
  border-left-style: var(--tw-border-style);
  border-left-width: 2px;
}
.border-transparent {
  border-color: transparent;
}
.bg-\[\#fdf6e3\] {
  background-color: #fdf6e3;
}
.text-center {
  text-align: center;
}
.text-left {
  text-align: left;
}
.text-right {
  text-align: right;
}
.align-middle {
  vertical-align: middle;
}
.whitespace-nowrap {
  white-space: nowrap;
}
.whitespace-pre-wrap {
  white-space: pre-wrap;
}
.text-\[\#583e26\] {
  color: #583e26;
}
.capitalize {
  text-transform: capitalize;
}
.italic {
  font-style: italic;
}
.line-through {
  text-decoration-line: line-through;
}
.underline {
  text-decoration-line: underline;
}
.antialiased {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
.ring-2 {
  --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);
  box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
}
.ring-offset-2 {
  --tw-ring-offset-width: 2px;
  --tw-ring-offset-shadow: var(--tw-ring-inset,) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);
}
.outline {
  outline-style: var(--tw-outline-style);
  outline-width: 1px;
}
.filter {
  filter: var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,);
}
.backdrop-filter {
  backdrop-filter: var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);
}
.transition {
  transition-property: color, background-color, border-color, outline-color, text-decoration-color, fill, stroke, --tw-gradient-from, --tw-gradient-via, --tw-gradient-to, opacity, box-shadow, transform, translate, scale, rotate, filter, backdrop-filter, display, visibility, content-visibility, overlay, pointer-events;
  transition-timing-function: var(--tw-ease, ease);
  transition-duration: var(--tw-duration, 0s);
}
.transition-all {
  transition-property: all;
  transition-timing-function: var(--tw-ease, ease);
  transition-duration: var(--tw-duration, 0s);
}
.transition-colors {
  transition-property: color, background-color, border-color, outline-color, text-decoration-color, fill, stroke, --tw-gradient-from, --tw-gradient-via, --tw-gradient-to;
  transition-timing-function: var(--tw-ease, ease);
  transition-duration: var(--tw-duration, 0s);
}
.transition-transform {
  transition-property: transform, translate, scale, rotate;
  transition-timing-function: var(--tw-ease, ease);
  transition-duration: var(--tw-duration, 0s);
}
.duration-200 {
  --tw-duration: 200ms;
  transition-duration: 200ms;
}
.duration-300 {
  --tw-duration: 300ms;
  transition-duration: 300ms;
}
.duration-500 {
  --tw-duration: 500ms;
  transition-duration: 500ms;
}
.select-none {
  -webkit-user-select: none;
  user-select: none;
}
.group-open\:rotate-180:is(:where(.group):is([open], :popover-open, :open) *) {
  rotate: 180deg;
}
@media (hover: hover) {
  .hover\:scale-105:hover {
    --tw-scale-x: 105%;
    --tw-scale-y: 105%;
    --tw-scale-z: 105%;
    scale: var(--tw-scale-x) var(--tw-scale-y);
  }
}
@media (hover: hover) {
  .hover\:underline:hover {
    text-decoration-line: underline;
  }
}
.focus\:ring-0:focus {
  --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);
  box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
}
.focus\:ring-2:focus {
  --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);
  box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
}
.focus\:outline-none:focus {
  --tw-outline-style: none;
  outline-style: none;
}
.disabled\:cursor-not-allowed:disabled {
  cursor: not-allowed;
}
.disabled\:opacity-50:disabled {
  opacity: 50%;
}
.hidden {
  display: none !important;
}
body {
  font-family: "Noto Serif SC", serif;
  background-color: var(--bg-primary);
  color: var(--text-primary);
  height: 1000px;
  padding: 40px 0 0 0;
  overflow: auto;
}
:root {
  --bg-primary: #1a1a1a;
  --bg-secondary: #2a2a2a;
  --bg-card: #222222;
  --text-primary: #e5e7eb;
  --text-secondary: #9ca3af;
  --border-color: #4b5563;
  --accent-color: #818cf8;
  --accent-color-hover: #6366f1;
}
body.day-mode {
  --bg-primary: #f3f4f6;
  --bg-secondary: #e5e7eb;
  --bg-card: #ffffff;
  --text-primary: #1f2937;
  --text-secondary: #4b5563;
  --border-color: #d1d5db;
}
body.jade-mode {
  --bg-primary: #f0fdf4;
  --bg-secondary: #dcfce7;
  --bg-card: #ffffff;
  --text-primary: #14532d;
  --text-secondary: #166534;
  --border-color: #86efac;
  --accent-color: #22c55e;
  --accent-color-hover: #16a34a;
}
body.classic-mode {
  background-image: url("https://www.transparenttextures.com/patterns/old-paper.png");
  --bg-primary: #fdf6e3;
  --bg-secondary: #f5eeda;
  --bg-card: rgba(245, 238, 218, 0.8);
  --text-primary: #583e26;
  --text-secondary: #6e553c;
  --border-color: #c9bda4;
  --accent-color: #b58900;
  --accent-color-hover: #856703;
}
.theme-transition {
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}
.card-hover {
  transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
}
.card-hover:hover {
  transform: translateY(-4px);
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.2), 0 4px 6px -2px rgba(0, 0, 0, 0.1);
}
.bg-main {
  background-color: var(--bg-card);
}
.text-accent {
  color: var(--accent-color);
}
.border-dim {
  border-color: var(--border-color);
}
@supports (color: color-mix(in lab, red, red)) {
  .border-dim {
    border-color: color-mix(in srgb, var(--border-color) 30%, transparent);
  }
}
.text-secondary {
  color: var(--text-secondary);
}
details[open] > summary .group-open\:rotate-180 {
  transform: rotate(180deg);
}
#action-owner {
  color: var(--accent-color);
}
.theme-btn {
  width: 3rem;
  height: 3rem;
  margin: 0 0.5rem;
  transition: all 0.3s ease;
}
.theme-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}
.inner-box {
  padding: 1rem;
}
.flex.flex-col.sm\:flex-row.justify-between.items-start.sm\:items-center {
  margin-bottom: 1.5rem;
}
details.group {
  margin-bottom: 1.5rem;
}
#options-list li {
  background-color: var(--bg-secondary);
}
@supports (color: color-mix(in lab, red, red)) {
  #options-list li {
    background-color: color-mix(in srgb, var(--bg-secondary) 50%, transparent);
  }
}
#options-list li {
  padding: 0.75rem 1rem;
  border-radius: 0.5rem;
  transition: all 0.2s ease-in-out;
}
#options-list li:hover {
  background-color: var(--accent-color);
  color: var(--bg-card);
  transform: translateX(4px);
}
.progress-bar-bg {
  background-color: var(--bg-secondary);
}
@supports (color: color-mix(in lab, red, red)) {
  .progress-bar-bg {
    background-color: color-mix(in srgb, var(--bg-secondary) 70%, transparent);
  }
}
.progress-bar-bg {
  border: 1px solid var(--border-color);
}
.progress-bar-fg {
  transition: width 0.5s ease-in-out;
}
#custom-action-modal {
  margin-top: 0.75rem;
  transition: all 0.5s ease-in-out;
  max-height: 0;
  opacity: 0;
  transform: translateY(-10px);
  overflow: hidden;
}
#custom-action-modal.is-open {
  max-height: 500px;
  opacity: 1;
  transform: translateY(0);
}
.bg-secondary {
  background-color: var(--bg-secondary);
}
.bg-accent {
  background-color: var(--accent-color);
}
.hover\:bg-accent-hover:hover {
  background-color: var(--accent-color-hover);
}
#custom-action-input {
  color: var(--text-primary);
}
#custom-action-input::placeholder {
  color: var(--text-secondary);
}
#details-modal {
  z-index: 1050;
}
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s ease;
  backdrop-filter: blur(5px);
}
.modal-overlay:not(.hidden) {
  opacity: 1;
  pointer-events: auto;
}
.modal-content {
  background-color: var(--bg-card);
  color: var(--text-primary);
  padding: 1.5rem 2rem;
  border-radius: 1rem;
  border: 1px solid var(--border-color);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
  width: 90%;
  max-width: 500px;
  max-height: 80vh;
  overflow-y: auto;
  position: relative;
  transform: scale(0.95);
  transition: transform 0.3s ease;
}
.modal-overlay:not(.hidden) .modal-content {
  transform: scale(1);
}
.modal-content-wide {
  max-width: 90vw;
}
@media (max-width: 768px) {
  .modal-content-wide {
    width: 95vw;
    max-width: 95vw;
    padding: 1rem 1.25rem;
  }
}
.modal-close-btn {
  position: absolute;
  top: 0.5rem;
  right: 0.75rem;
  background: none;
  border: none;
  font-size: 2rem;
  line-height: 1;
  color: var(--text-secondary);
  cursor: pointer;
  transition: color 0.2s ease;
}
.modal-close-btn:hover {
  color: var(--text-primary);
}
.modal-title {
  display: flex;
  align-items: center;
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--accent-color);
  margin-bottom: 1rem;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid var(--border-color);
}
.modal-title .help-btn {
  width: 1.25rem;
  height: 1.25rem;
  font-size: 0.7rem;
  margin-left: 0.5rem;
  border-radius: 50%;
  background-color: var(--bg-secondary);
  color: var(--text-secondary);
  border: 1px solid var(--border-color);
  cursor: pointer;
  transition: all 0.2s ease;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}
.modal-title .help-btn:hover {
  background-color: var(--accent-color);
  color: var(--bg-card);
  border-color: var(--accent-color);
}
.modal-title .help-btn.active {
  background-color: var(--accent-color-hover);
  color: var(--bg-card);
  border-color: var(--accent-color-hover);
}
.modal-body {
  font-size: 0.95rem;
  line-height: 1.6;
}
.modal-body ul {
  list-style-type: none;
  padding-left: 0;
}
.modal-body li {
  padding: 0.5rem 0;
  border-bottom: 1px solid var(--border-color);
}
@supports (color: color-mix(in lab, red, red)) {
  .modal-body li {
    border-bottom: 1px solid color-mix(in srgb, var(--border-color) 20%, transparent);
  }
}
.modal-body li:last-child {
  border-bottom: none;
}
.modal-body .item-key {
  font-weight: 600;
  color: var(--accent-color);
}
.clickable-item {
  cursor: pointer;
  transition: color 0.2s ease;
}
.clickable-item:hover {
  color: var(--accent-color-hover);
  text-decoration: underline;
}
.global-controls {
  position: static;
  display: flex;
  align-items: center;
  gap: 1rem;
}
.control-btn {
  width: 2.5rem;
  height: 2.5rem;
  background-color: var(--bg-card);
  color: var(--text-secondary);
  border: 1px solid var(--border-color);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}
.control-btn:hover {
  background-color: var(--bg-secondary);
  color: var(--accent-color);
  transform: translateY(-2px);
}
.icon-btn {
  background: none;
  border: none;
  color: var(--text-secondary);
  cursor: pointer;
  padding: 0.25rem;
  border-radius: 0.25rem;
  transition: all 0.2s ease;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}
.icon-btn:hover {
  background-color: var(--bg-secondary);
  color: var(--accent-color);
}
.theme-switcher-dropdown {
  position: relative;
}
.dropdown-content {
  position: absolute;
  top: 100%;
  right: 0;
  margin-top: 0.5rem;
  background-color: var(--bg-card);
  border: 1px solid var(--border-color);
  border-radius: 0.5rem;
  padding: 0.5rem;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.25);
  flex-direction: column;
  gap: 0.25rem;
  width: 120px;
}
.dropdown-content:not(.hidden) {
  display: flex;
}
.dropdown-content .theme-btn {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  padding: 0.5rem;
  border-radius: 0.25rem;
  background: none;
  border: none;
  color: var(--text-primary);
  text-align: left;
}
.dropdown-content .theme-btn:hover {
  background-color: var(--bg-secondary);
  color: var(--accent-color);
}
.tab-btn,
.main-tab-btn {
  padding: 0.5rem 1rem;
  cursor: pointer;
  background: none;
  border: none;
  color: var(--text-secondary);
  border-bottom: 2px solid transparent;
  transition: all 0.2s ease;
  white-space: nowrap;
}
.tab-btn:hover,
.main-tab-btn:hover {
  color: var(--text-primary);
}
.tab-btn.active,
.main-tab-btn.active {
  color: var(--accent-color);
  border-bottom-color: var(--accent-color);
}
.form-field-row {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}
.form-field-row input {
  flex-grow: 1;
  background-color: var(--bg-secondary);
  border: 1px solid var(--border-color);
  border-radius: 0.25rem;
  padding: 0.25rem 0.5rem;
  color: var(--text-primary);
  font-size: 0.875rem;
}
.form-field-row .remove-field-btn {
  background: none;
  border: none;
  color: var(--text-secondary);
  cursor: pointer;
  padding: 0.25rem;
  transition: color 0.2s ease;
}
.form-field-row .remove-field-btn:hover {
  color: #ef4444;
}
.btn-primary {
  padding: 0.5rem 1rem;
  border-radius: 0.5rem;
  font-weight: 600;
  color: var(--bg-card);
  background: linear-gradient(145deg, var(--accent-color), var(--accent-color-hover));
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2), inset 0 1px 1px rgba(255, 255, 255, 0.2);
  transition: all 0.2s ease-in-out;
  cursor: pointer;
}
.btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3), inset 0 1px 1px rgba(255, 255, 255, 0.2);
}
.btn-primary:active {
  transform: translateY(0);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2), inset 0 1px 1px rgba(255, 255, 255, 0.2);
}
.btn-primary:disabled {
  background: var(--bg-secondary);
}
@supports (color: color-mix(in lab, red, red)) {
  .btn-primary:disabled {
    background: color-mix(in srgb, var(--bg-secondary) 50%, #888);
  }
}
.btn-primary:disabled {
  color: var(--text-secondary);
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}
.btn-secondary {
  padding: 0.5rem 1rem;
  border-radius: 0.5rem;
  font-weight: 600;
  color: var(--text-secondary);
  background-color: var(--bg-secondary);
  border: 1px solid var(--border-color);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: all 0.2s ease-in-out;
  cursor: pointer;
}
.btn-secondary:hover {
  background-color: var(--bg-secondary);
}
@supports (color: color-mix(in lab, red, red)) {
  .btn-secondary:hover {
    background-color: color-mix(in srgb, var(--bg-secondary) 80%, #fff 20%);
  }
}
.btn-secondary:hover {
  color: var(--text-primary);
  border-color: var(--accent-color);
}
.custom-slider {
  position: relative;
  overflow: hidden;
  width: 100%;
}
.custom-slider-track {
  display: flex;
  transition: transform 0.3s ease-in-out;
}
.custom-slider-slide {
  flex: 0 0 100%;
  width: 100%;
  padding: 0.25rem;
  box-sizing: border-box;
}
.slider-controls {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 1rem;
  margin-top: 1rem;
}
.slider-nav-btn {
  width: 2.5rem;
  height: 2.5rem;
  background-color: var(--bg-secondary);
  color: var(--text-secondary);
  border: 1px solid var(--border-color);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s ease;
}
.slider-nav-btn:hover:not(:disabled) {
  background-color: var(--accent-color);
  color: var(--bg-card);
}
.slider-nav-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}
.slider-counter {
  font-size: 0.875rem;
  color: var(--text-secondary);
  font-variant-numeric: tabular-nums;
}
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
::-webkit-scrollbar-track {
  background: var(--bg-secondary);
}
@supports (color: color-mix(in lab, red, red)) {
  ::-webkit-scrollbar-track {
    background: color-mix(in srgb, var(--bg-secondary) 50%, transparent);
  }
}
::-webkit-scrollbar-track {
  border-radius: 10px;
}
::-webkit-scrollbar-thumb {
  background-color: var(--accent-color);
  border-radius: 10px;
  border: 2px solid transparent;
  background-clip: content-box;
}
::-webkit-scrollbar-thumb:hover {
  background-color: var(--accent-color-hover);
}
#main-container {
  height: 100%;
  max-height: 100vh;
  overflow: auto;
}
#game-panel {
  display: grid;
  gap: 1.5rem;
  height: 100%;
  width: 100%;
}
@media (min-width: 1024px) {
  #game-panel {
    grid-template-columns: 2fr 1fr;
  }
}
.panel-box {
  background-color: var(--bg-card);
  border-radius: 1rem;
  border: 1px solid var(--border-color);
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
  overflow: hidden;
}
.panel-title {
  font-size: 1.25rem;
  font-weight: 700;
  color: var(--accent-color);
  padding: 1rem 1.5rem;
  border-bottom: 1px solid var(--border-color);
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.panel-body {
  padding: 1.5rem;
  max-height: 50vh;
  overflow-y: auto;
}
@media (max-width: 1024px) {
  .side-panel-body {
    padding: 1.5rem;
    max-height: 50vh;
    overflow-y: auto;
  }
}
.side-panel-body {
  padding: 1.5rem;
  max-height: 100vh;
  overflow-y: auto;
}
#story-panel {
  display: flex;
  flex-direction: column;
}
#story-content {
  line-height: 1.7;
  font-size: 1.05rem;
  flex-grow: 1;
}
#swipe-controls {
  display: flex;
  justify-content: center;
  padding: 0.75rem 0;
}
#history-message-content {
  background-color: var(--bg-primary);
  border: 1px solid var(--border-color);
  border-radius: 0.5rem;
  padding: 1rem;
  min-height: 200px;
  max-height: 40vh;
  overflow-y: auto;
}
#history-message-content p:first-child {
  margin-top: 0;
}
#history-message-content p:last-child {
  margin-bottom: 0;
}
.side-tab-btn {
  flex-grow: 1;
  padding: 0.75rem 0.5rem;
  cursor: pointer;
  background: none;
  border: none;
  color: var(--text-secondary);
  border-bottom: 3px solid transparent;
  transition: all 0.2s ease;
  font-size: 1.25rem;
}
.side-tab-btn:hover {
  background-color: var(--bg-secondary);
}
.side-tab-btn.active {
  color: var(--accent-color);
  border-bottom-color: var(--accent-color);
}
.history-entry {
  border: 1px solid var(--border-color);
  border-radius: 0.75rem;
  margin-bottom: 0.5rem;
  overflow: hidden;
  transition: all 0.3s ease;
}
.history-user-message {
  background-color: var(--accent-color);
}
@supports (color: color-mix(in lab, red, red)) {
  .history-user-message {
    background-color: color-mix(in srgb, var(--accent-color) 10%, transparent);
  }
}
.history-assistant-message {
  background-color: transparent;
}
.history-entry[open] {
  background-color: var(--bg-secondary);
}
.history-summary {
  display: flex;
  align-items: center;
  padding: 0.75rem 1rem;
  cursor: pointer;
  background-color: var(--bg-secondary);
}
@supports (color: color-mix(in lab, red, red)) {
  .history-summary {
    background-color: color-mix(in srgb, var(--bg-secondary) 50%, transparent);
  }
}
.history-summary {
  transition: background-color 0.2s ease;
  list-style: none;
}
.history-summary::-webkit-details-marker {
  display: none;
}
.history-summary:hover {
  background-color: var(--bg-secondary);
}
.history-summary .summary-arrow {
  margin-left: auto;
  transition: transform 0.3s ease;
}
.history-entry[open] .summary-arrow {
  transform: rotate(180deg);
}
.history-content {
  padding: 1rem;
  border-top: 1px solid var(--border-color);
}
.history-controls {
  margin-top: 0.75rem;
  padding-top: 0.75rem;
  border-top: 1px dashed var(--border-color);
}
.history-edit-container {
  gap: 0.75rem;
  align-items: flex-start;
}
.history-edit-container textarea {
  flex-grow: 1;
}
.branch-tab {
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
}
.btn-sm {
  padding: 0.25rem 0.75rem;
  font-size: 0.875rem;
}
#debug-modal .modal-content {
  width: 80vw;
  max-width: 95vw;
  height: 80vh;
  max-height: 95vh;
  min-width: 400px;
  min-height: 300px;
  resize: both;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}
#debug-modal .modal-body {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  padding-top: 0;
}
#debug-modal #debug-tab-content {
  flex-grow: 1;
  overflow-y: auto;
  max-height: none;
}
#debug-modal #debug-log-container {
  height: 100%;
  max-height: none;
}
.toggle-checkbox:checked {
  right: 0;
  border-color: var(--accent-color);
}
.toggle-checkbox:checked + .toggle-label {
  background-color: var(--accent-color);
}
.toggle-label {
  transition: background-color 0.2s ease-in-out;
}
.toggle-checkbox {
  transition: all 0.2s ease-in-out;
}
.debug-log-entry {
  padding: 0.25rem 0.5rem;
  border-bottom: 1px solid var(--border-color);
  word-break: break-all;
}
.debug-log-entry:last-child {
  border-bottom: none;
}
.log-expand-btn {
  color: #60a5fa;
  text-decoration: underline;
  cursor: pointer;
  margin-left: 0.5rem;
  font-weight: bold;
}
.log-expand-btn:hover {
  color: #3b82f6;
}
.debug-tab-btn {
  padding: 0.5rem 1rem;
  cursor: pointer;
  background: none;
  border: none;
  color: var(--text-secondary);
  border-bottom: 2px solid transparent;
  transition: all 0.2s ease;
  white-space: nowrap;
  font-size: 0.875rem;
}
.debug-tab-btn:hover {
  color: var(--text-primary);
}
.debug-tab-btn.active {
  color: var(--accent-color);
  border-bottom-color: var(--accent-color);
}
.json-list {
  list-style-type: none;
  padding-left: 1.5em;
  border-left: 1px dotted var(--border-color);
}
.json-details {
  display: inline-block;
}
.json-summary {
  cursor: pointer;
  display: inline-block;
}
.json-summary:focus {
  outline: none;
}
.json-key {
  color: var(--accent-color);
}
.json-string {
  color: #a5d6a7;
}
.json-number {
  color: #81d4fa;
}
.json-boolean {
  color: #ce93d8;
}
.json-null {
  color: var(--text-secondary);
}
.state-card {
  background-color: var(--bg-secondary);
  border: 1px solid var(--border-color);
  border-radius: 0.75rem;
  padding: 1rem;
  margin-bottom: 1rem;
}
.state-card.main-character {
  border-left: 3px solid var(--accent-color);
}
.state-card h2 {
  font-size: 1.5rem;
  font-weight: bold;
  color: var(--accent-color);
  margin-top: 0;
  margin-bottom: 1rem;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid var(--border-color);
}
.state-card h3 {
  font-size: 1.25rem;
  font-weight: bold;
  margin-top: 0;
  margin-bottom: 0.75rem;
}
.state-card h4 {
  font-size: 1.1rem;
  font-weight: bold;
  margin-top: 1rem;
  margin-bottom: 0.5rem;
  color: var(--text-secondary);
}
.state-table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 0.5rem;
}
.state-table th,
.state-table td {
  padding: 0.5rem;
  text-align: left;
  border-bottom: 1px solid var(--border-color);
}
.state-table th {
  background-color: var(--bg-card);
}
@supports (color: color-mix(in lab, red, red)) {
  .state-table th {
    background-color: color-mix(in srgb, var(--bg-card) 50%, transparent);
  }
}
.item-list {
  list-style-type: none;
  padding-left: 0;
}
.item-list li {
  padding: 0.25rem 0;
}
.top-bar {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1001;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.5rem 1rem;
  background-color: var(--bg-secondary);
  border-bottom: 2px solid var(--accent-color);
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}
.card-radio-label,
.card-checkbox-label {
  display: block;
  padding: 1rem;
  border: 1px solid var(--border-color);
  border-radius: 0.75rem;
  background-color: var(--bg-secondary);
}
@supports (color: color-mix(in lab, red, red)) {
  .card-radio-label,
.card-checkbox-label {
    background-color: color-mix(in srgb, var(--bg-secondary) 50%, transparent);
  }
}
.card-radio-label,
.card-checkbox-label {
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  position: relative;
}
.card-radio-label:hover,
.card-checkbox-label:hover {
  border-color: var(--accent-color);
  background-color: var(--bg-secondary);
}
.card-radio-content,
.card-checkbox-content {
  padding-left: 2.25rem;
  position: relative;
  min-height: 1.5rem;
}
.card-radio-content::before {
  content: "";
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%);
  width: 1.5rem;
  height: 1.5rem;
  border: 2px solid var(--border-color);
  border-radius: 50%;
  transition: all 0.2s ease;
  background-color: var(--bg-card);
}
.card-checkbox-content::before {
  content: "";
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%);
  width: 1.5rem;
  height: 1.5rem;
  border: 2px solid var(--border-color);
  border-radius: 0.375rem;
  transition: all 0.2s ease;
  background-color: var(--bg-card);
}
input[type=radio]:checked + .card-radio-content::before {
  border-color: var(--accent-color);
  background-color: var(--accent-color);
  box-shadow: inset 0 0 0 4px var(--bg-card);
}
input[type=checkbox]:checked + .card-checkbox-content::before {
  border-color: var(--accent-color);
  background-color: var(--accent-color);
  content: "✔️";
  color: var(--bg-card);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1rem;
  font-weight: bold;
}
.card-radio-label:has(input:checked),
.card-checkbox-label:has(input:checked) {
  border-color: var(--accent-color);
  box-shadow: 0 0 0 1px var(--accent-color);
}
#history-graph-container {
  width: 100%;
  height: 100%;
  background-color: var(--bg-primary);
  border-radius: 0.5rem;
}
.form-checkbox {
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  width: 1.25rem;
  height: 1.25rem;
  border: 2px solid var(--border-color);
  border-radius: 0.375rem;
  background-color: var(--bg-secondary);
  position: relative;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  flex-shrink: 0;
}
.form-checkbox:hover {
  border-color: var(--accent-color);
}
.form-checkbox:checked {
  background-color: var(--accent-color);
  border-color: var(--accent-color-hover);
}
.text-highlight-quote {
  color: var(--text-secondary);
  font-style: italic;
}
.text-highlight-special {
  color: var(--accent-color);
  font-weight: 600;
}
.text-highlight-thought {
  color: var(--text-secondary);
}
@supports (color: color-mix(in lab, red, red)) {
  .text-highlight-thought {
    color: color-mix(in srgb, var(--text-secondary) 80%, var(--bg-primary) 20%);
  }
}
.text-highlight-thought {
  opacity: 0.9;
}
.text-highlight-narration {
  color: var(--text-secondary);
}
@supports (color: color-mix(in lab, red, red)) {
  .text-highlight-narration {
    color: color-mix(in srgb, var(--text-secondary) 90%, var(--bg-primary) 10%);
  }
}
.text-highlight-emphasis {
  color: var(--accent-color);
}
.state-namespace-card {
  background-color: var(--bg-secondary);
  border: 1px solid var(--border-color);
  border-radius: 0.75rem;
  margin-bottom: 1rem;
  overflow: hidden;
}
.state-namespace-card > details > summary {
  padding: 0.75rem 1.25rem;
  cursor: pointer;
  list-style: none;
  font-size: 1.25rem;
  font-weight: 700;
  color: var(--accent-color);
  transition: background-color 0.2s ease;
}
.state-namespace-card > details > summary::-webkit-details-marker {
  display: none;
}
.state-namespace-card > details > summary:hover {
  background-color: var(--bg-card);
}
@supports (color: color-mix(in lab, red, red)) {
  .state-namespace-card > details > summary:hover {
    background-color: color-mix(in srgb, var(--bg-card) 50%, transparent);
  }
}
.state-namespace-card > details[open] > summary {
  border-bottom: 1px solid var(--border-color);
}
.namespace-content {
  padding: 1rem 1.25rem;
}
.variable-details {
  margin-left: 1rem;
  border-left: 1px dashed var(--border-color);
}
@supports (color: color-mix(in lab, red, red)) {
  .variable-details {
    border-left: 1px dashed color-mix(in srgb, var(--border-color) 50%, transparent);
  }
}
.variable-details[open] > .variable-summary {
  margin-bottom: 0.25rem;
}
.variable-summary {
  cursor: pointer;
  list-style: none;
  padding: 0.2rem 0.5rem;
  border-radius: 0.25rem;
}
.variable-summary::-webkit-details-marker {
  display: none;
}
.variable-summary:hover {
  background-color: var(--bg-card);
}
@supports (color: color-mix(in lab, red, red)) {
  .variable-summary:hover {
    background-color: color-mix(in srgb, var(--bg-card) 30%, transparent);
  }
}
.variable-key {
  font-weight: 600;
  color: var(--text-secondary);
  margin-right: 0.5rem;
}
.variable-details > .variable-summary > .variable-key {
  color: var(--text-primary);
}
.variable-preview {
  color: var(--text-secondary);
  font-style: italic;
  font-size: 0.8rem;
}
.variable-details:not([open]) > .variable-summary > .variable-preview {
  display: inline;
}
.variable-details[open] > .variable-summary > .variable-preview {
  display: none;
}
.variable-content {
  padding-left: 1rem;
}
.variable-entry {
  padding: 0.2rem 0.5rem;
}
.variable-value {
  font-family: monospace;
}
@property --tw-translate-x {
  syntax: "*";
  inherits: false;
  initial-value: 0;
}
@property --tw-translate-y {
  syntax: "*";
  inherits: false;
  initial-value: 0;
}
@property --tw-translate-z {
  syntax: "*";
  inherits: false;
  initial-value: 0;
}
@property --tw-rotate-x {
  syntax: "*";
  inherits: false;
}
@property --tw-rotate-y {
  syntax: "*";
  inherits: false;
}
@property --tw-rotate-z {
  syntax: "*";
  inherits: false;
}
@property --tw-skew-x {
  syntax: "*";
  inherits: false;
}
@property --tw-skew-y {
  syntax: "*";
  inherits: false;
}
@property --tw-border-style {
  syntax: "*";
  inherits: false;
  initial-value: solid;
}
@property --tw-shadow {
  syntax: "*";
  inherits: false;
  initial-value: 0 0 #0000;
}
@property --tw-shadow-color {
  syntax: "*";
  inherits: false;
}
@property --tw-shadow-alpha {
  syntax: "<percentage>";
  inherits: false;
  initial-value: 100%;
}
@property --tw-inset-shadow {
  syntax: "*";
  inherits: false;
  initial-value: 0 0 #0000;
}
@property --tw-inset-shadow-color {
  syntax: "*";
  inherits: false;
}
@property --tw-inset-shadow-alpha {
  syntax: "<percentage>";
  inherits: false;
  initial-value: 100%;
}
@property --tw-ring-color {
  syntax: "*";
  inherits: false;
}
@property --tw-ring-shadow {
  syntax: "*";
  inherits: false;
  initial-value: 0 0 #0000;
}
@property --tw-inset-ring-color {
  syntax: "*";
  inherits: false;
}
@property --tw-inset-ring-shadow {
  syntax: "*";
  inherits: false;
  initial-value: 0 0 #0000;
}
@property --tw-ring-inset {
  syntax: "*";
  inherits: false;
}
@property --tw-ring-offset-width {
  syntax: "<length>";
  inherits: false;
  initial-value: 0px;
}
@property --tw-ring-offset-color {
  syntax: "*";
  inherits: false;
  initial-value: #fff;
}
@property --tw-ring-offset-shadow {
  syntax: "*";
  inherits: false;
  initial-value: 0 0 #0000;
}
@property --tw-outline-style {
  syntax: "*";
  inherits: false;
  initial-value: solid;
}
@property --tw-blur {
  syntax: "*";
  inherits: false;
}
@property --tw-brightness {
  syntax: "*";
  inherits: false;
}
@property --tw-contrast {
  syntax: "*";
  inherits: false;
}
@property --tw-grayscale {
  syntax: "*";
  inherits: false;
}
@property --tw-hue-rotate {
  syntax: "*";
  inherits: false;
}
@property --tw-invert {
  syntax: "*";
  inherits: false;
}
@property --tw-opacity {
  syntax: "*";
  inherits: false;
}
@property --tw-saturate {
  syntax: "*";
  inherits: false;
}
@property --tw-sepia {
  syntax: "*";
  inherits: false;
}
@property --tw-drop-shadow {
  syntax: "*";
  inherits: false;
}
@property --tw-drop-shadow-color {
  syntax: "*";
  inherits: false;
}
@property --tw-drop-shadow-alpha {
  syntax: "<percentage>";
  inherits: false;
  initial-value: 100%;
}
@property --tw-drop-shadow-size {
  syntax: "*";
  inherits: false;
}
@property --tw-backdrop-blur {
  syntax: "*";
  inherits: false;
}
@property --tw-backdrop-brightness {
  syntax: "*";
  inherits: false;
}
@property --tw-backdrop-contrast {
  syntax: "*";
  inherits: false;
}
@property --tw-backdrop-grayscale {
  syntax: "*";
  inherits: false;
}
@property --tw-backdrop-hue-rotate {
  syntax: "*";
  inherits: false;
}
@property --tw-backdrop-invert {
  syntax: "*";
  inherits: false;
}
@property --tw-backdrop-opacity {
  syntax: "*";
  inherits: false;
}
@property --tw-backdrop-saturate {
  syntax: "*";
  inherits: false;
}
@property --tw-backdrop-sepia {
  syntax: "*";
  inherits: false;
}
@property --tw-duration {
  syntax: "*";
  inherits: false;
}
@property --tw-scale-x {
  syntax: "*";
  inherits: false;
  initial-value: 1;
}
@property --tw-scale-y {
  syntax: "*";
  inherits: false;
  initial-value: 1;
}
@property --tw-scale-z {
  syntax: "*";
  inherits: false;
  initial-value: 1;
}
@layer properties {
  @supports ((-webkit-hyphens: none) and (not (margin-trim: inline))) or ((-moz-orient: inline) and (not (color:rgb(from red r g b)))) {
    *, ::before, ::after, ::backdrop {
      --tw-translate-x: 0;
      --tw-translate-y: 0;
      --tw-translate-z: 0;
      --tw-rotate-x: initial;
      --tw-rotate-y: initial;
      --tw-rotate-z: initial;
      --tw-skew-x: initial;
      --tw-skew-y: initial;
      --tw-border-style: solid;
      --tw-shadow: 0 0 #0000;
      --tw-shadow-color: initial;
      --tw-shadow-alpha: 100%;
      --tw-inset-shadow: 0 0 #0000;
      --tw-inset-shadow-color: initial;
      --tw-inset-shadow-alpha: 100%;
      --tw-ring-color: initial;
      --tw-ring-shadow: 0 0 #0000;
      --tw-inset-ring-color: initial;
      --tw-inset-ring-shadow: 0 0 #0000;
      --tw-ring-inset: initial;
      --tw-ring-offset-width: 0px;
      --tw-ring-offset-color: #fff;
      --tw-ring-offset-shadow: 0 0 #0000;
      --tw-outline-style: solid;
      --tw-blur: initial;
      --tw-brightness: initial;
      --tw-contrast: initial;
      --tw-grayscale: initial;
      --tw-hue-rotate: initial;
      --tw-invert: initial;
      --tw-opacity: initial;
      --tw-saturate: initial;
      --tw-sepia: initial;
      --tw-drop-shadow: initial;
      --tw-drop-shadow-color: initial;
      --tw-drop-shadow-alpha: 100%;
      --tw-drop-shadow-size: initial;
      --tw-backdrop-blur: initial;
      --tw-backdrop-brightness: initial;
      --tw-backdrop-contrast: initial;
      --tw-backdrop-grayscale: initial;
      --tw-backdrop-hue-rotate: initial;
      --tw-backdrop-invert: initial;
      --tw-backdrop-opacity: initial;
      --tw-backdrop-saturate: initial;
      --tw-backdrop-sepia: initial;
      --tw-duration: initial;
      --tw-scale-x: 1;
      --tw-scale-y: 1;
      --tw-scale-z: 1;
    }
  }
}
</style></head>

<body class="theme-transition">

  <!-- 主容器 -->
  <div id="main-container" class="relative h-[1000px] flex flex-col p-4 sm:p-6 md:p-8">

    <!-- 新增：主菜单容器 -->
    <div id="main-menu-container" class="flex flex-col items-start justify-center h-full w-full pl-12">
      <!-- 标题 -->
      <div class="text-left">
        <h1 class="text-4xl sm:text-5xl md:text-6xl font-bold tracking-tight text-primary">什么？我要在<br>玄幻修仙世界种田？</h1>
        <p class="mt-4 text-lg text-secondary">0楼版本</p>
      </div>

      <div class="w-full max-w-sm mt-12">
        <!-- 主菜单按钮 -->
        <div id="main-menu" class="grid grid-cols-1 gap-6">
          <button id="menu-start-game-btn" class="w-full text-lg py-3 px-6 bg-indigo-600 text-white font-semibold rounded-lg shadow-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:ring-opacity-75 transition-all duration-200 ease-in-out transform hover:-translate-y-1">开始游戏</button>
          <button id="menu-overview-btn" class="w-full text-lg py-3 px-6 bg-gray-500/20 text-gray-200 font-semibold rounded-lg shadow-md hover:bg-gray-500/40 hover:text-white focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-opacity-75 transition-all duration-200 ease-in-out transform hover:-translate-y-1">设定概览</button>
          <button id="menu-about-btn" class="w-full text-lg py-3 px-6 bg-gray-500/20 text-gray-200 font-semibold rounded-lg shadow-md hover:bg-gray-500/40 hover:text-white focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-opacity-75 transition-all duration-200 ease-in-out transform hover:-translate-y-1">关于</button>
        </div>
  
        <!-- “开始游戏”子菜单 (默认隐藏) -->
        <div id="start-game-submenu" class="hidden grid grid-cols-1 gap-4">
          <button id="submenu-new-game-btn" class="w-full text-lg py-3 px-6 bg-indigo-600 text-white font-semibold rounded-lg shadow-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:ring-opacity-75 transition-all duration-200 ease-in-out transform hover:-translate-y-1">开始新游戏</button>
          <button id="submenu-continue-game-btn" class="w-full text-lg py-3 px-6 font-semibold rounded-lg transition-all duration-200 ease-in-out transform hover:-translate-y-1 btn-secondary" disabled>继续游戏</button>
          <button id="submenu-load-game-btn" class="w-full text-lg py-3 px-6 bg-gray-500/20 text-gray-200 font-semibold rounded-lg shadow-md hover:bg-gray-500/40 hover:text-white focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-opacity-75 transition-all duration-200 ease-in-out transform hover:-translate-y-1">加载存档</button>
          <button id="submenu-back-btn" class="w-full text-lg py-3 px-6 bg-gray-500/20 text-gray-200 font-semibold rounded-lg shadow-md hover:bg-gray-500/40 hover:text-white focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-opacity-75 transition-all duration-200 ease-in-out transform hover:-translate-y-1 mt-4">返回</button>
        </div>
      </div>
      <input type="file" id="load-game-input" class="hidden" accept=".json">
    </div>

    <!-- 新增：设定概览面板 -->
    <div id="overview-panel" class="hidden h-full w-full overflow-y-auto">
        <button id="back-to-menu-btn" class="btn-secondary mb-6"><i class="fas fa-arrow-left mr-2"></i>返回菜单</button>
        <div class="relative rounded-xl overflow-hidden p-6 sm:p-8 md:p-12 world-bg panel-box">
          <div class="relative z-10 prose-custom max-w-none">
            <h2 class="text-2xl sm:text-3xl font-bold panel-title" style="border-bottom: none;">元初界</h2>
            <p class="text-secondary">这是一个以“灵气”为万物本源与唯一修炼能量的玄幻修仙世界。大道至简，修行者专注于“道”与“法”的感悟，而非繁杂的等级突破。</p>

            <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 mt-8 md:mt-10">
              <!-- 境界设定 -->
              <div class="card rounded-lg p-6">
                <h3 class="font-bold text-xl mb-3 flex items-center"><i class="fas fa-layer-group text-blue-400 mr-3"></i>核心境界</h3>
                <ul class="space-y-2 text-secondary">
                  <li><span class="font-semibold text-primary">淬体境:</span> 凡躯打磨，仙凡之隔。</li>
                  <li><span class="font-semibold text-primary">炼气境:</span> 引气入体，初窥门径。</li>
                  <li><span class="font-semibold text-primary">筑基境:</span> 铸就道基，神识初醒。</li>
                  <li><span class="font-semibold text-primary">金丹境:</span> 丹成大道，御器飞行。</li>
                  <li><span class="font-semibold text-primary">元婴境:</span> 婴变不灭，瞬移千里。</li>
                  <li><span class="font-semibold text-primary">化神境:</span> 法则言随，神游太虚。</li>
                </ul>
              </div>
              <!-- 职业体系 -->
              <div class="card rounded-lg p-6">
                <h3 class="font-bold text-xl mb-3 flex items-center"><i class="fas fa-briefcase text-green-400 mr-3"></i>多元职业</h3>
                <div class="space-y-3">
                  <div>
                    <h4 class="font-semibold text-primary">战斗类</h4>
                    <p class="text-secondary text-sm">剑修、法修、体修、魂修</p>
                  </div>
                  <div>
                    <h4 class="font-semibold text-primary">辅佐类</h4>
                    <p class="text-secondary text-sm">丹师、器师、阵师</p>
                  </div>
                  <div>
                    <h4 class="font-semibold text-primary">奇门类</h4>
                    <p class="text-secondary text-sm">符师、灵植师、御兽师</p>
                  </div>
                </div>
              </div>
              <!-- 开场舞台 -->
              <div class="card rounded-lg p-6 md:col-span-2 lg:col-span-1">
                <h3 class="font-bold text-xl mb-3 flex items-center"><i class="fas fa-map-marked-alt text-purple-400 mr-3"></i>开场舞台：洄潮屿</h3>
                <p class="text-secondary">位于无妄海东部，洋流交汇之地的隐秘洞天。表象平凡，内藏玄机。</p>
                <ul class="mt-3 space-y-2 text-secondary">
                  <li><i class="fas fa-leaf text-green-500 mr-2"></i><b>息壤灵田:</b> 加速灵植生长，点化凡物。</li>
                  <li><i class="fas fa-water text-cyan-500 mr-2"></i><b>洋流宝库:</b> 海滩随机刷新资源与遗物。</li>
                  <li><i class="fas fa-skull-crossbones text-red-500 mr-2"></i><b>水下杀机:</b> 深海暗藏巨兽与上古遗迹。</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
    </div>

    <!-- 新增：关于面板 -->
    <div id="about-panel" class="hidden h-full w-full">
        <button id="back-to-menu-from-about-btn" class="mb-6"><i class="fas fa-arrow-left mr-2"></i>返回菜单</button>
        <div class="panel-box p-8 text-center">
            <h2 class="text-3xl font-bold panel-title" style="border-bottom: none;">关于</h2>
            <p class="mt-4 text-secondary">《什么？我要在玄幻修仙世界种田？》</p>
            <p class="mt-2 text-sm text-secondary">作者：goddess_boreas</p>
            <p class="mt-6 max-w-prose mx-auto text-base text-gray-400">
              一个基于TavernAI的模块化框架，旨在为用户提供高度可定制的、动态的、沉浸式的文字冒险体验。
            </p>
            <a href="https://github.com/HerSophia/Verdant-Spirit-Dao" target="_blank" rel="noopener noreferrer" class="inline-block mt-6 bg-gray-800 text-white font-semibold py-2 px-4 rounded-lg hover:bg-gray-900 transition-colors duration-200">
              <i class="fab fa-github mr-2"></i>查看源码
            </a>
            
            <!-- 版本检查与更新区域 -->
            <div class="mt-8 border-t border-dim pt-6">
                <p class="text-sm text-secondary">当前版本: <span id="local-version-display">v0.3.1</span></p>
                <div id="remote-version-container" class="text-sm text-secondary mt-1 hidden">
                    最新版本: <span id="remote-version-display"></span>
                </div>
                <button id="check-for-updates-btn" class="mt-4">
                    <i class="fas fa-sync-alt mr-2"></i>检查更新
                </button>
            </div>
        </div>
    </div>

    <!-- 新增：游戏主面板 (初始隐藏) -->
    <div id="game-panel" class="hidden w-full h-full">
      <!-- 开局设定界面 (初始隐藏) -->
      <div id="setup-container" class="fixed inset-0 z-[1010] bg-background text-primary overflow-y-auto">
        <div class="container mx-auto px-4 py-12 max-w-7xl">
          <!-- 标题区域 -->
        <header class="text-center mb-12">
          <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold tracking-tight">什么？我要在玄幻修仙世界种田？</h1>
          <p class="mt-4 text-base md:text-lg text-secondary">
            自定义你的开局
          </p>
          </header>

          <!-- 主体内容 -->
          <main class="panel-box max-w-5xl mx-auto">
            <div class="p-6 sm:p-8 md:p-12">
              <h2 class="panel-title">天赋与家世</h2>
            <!-- 角色名称编辑 -->
            <div class="mb-6">
                <h3 class="font-bold text-lg sm:text-xl mb-4 text-accent">角色档案</h3>
                <div id="character-name-display" class="flex items-center">
                    <h4 class="text-2xl sm:text-3xl font-serif text-blue-400">萧栖雪</h4>
                    <button id="edit-name-button" class="ml-4 text-secondary hover:text-primary transition"><i class="fas fa-pencil-alt"></i></button>
                </div>
                <div id="character-name-edit" class="hidden mt-2">
                    <input type="text" id="character-name-input" class="form-input bg-secondary text-primary text-2xl font-serif rounded px-2 py-1 w-full max-w-xs">
                    <div class="mt-2">
                        <button id="confirm-name-button" class="btn-primary text-sm py-1 px-3">确认</button>
                        <button id="cancel-name-button" class="btn-secondary text-sm py-1 px-3 ml-2">取消</button>
                    </div>
                </div>
            </div>
            <p class="text-secondary mb-8">你将有10点天赋点，自由分配在以下各项中，以决定你的开局。这将影响你的初始资源、功法、以及可能遇到的奇遇。</p>

            <!-- 新增：自定义角色设定表单 -->
            <details class="collapsible-section">
              <summary class="font-bold text-lg sm:text-xl mb-4 cursor-pointer text-accent">自定义角色设定</summary>
              <div class="space-y-6 mt-4 p-4 border border-dim rounded-lg">
                <!-- 基础信息 -->
                <div>
                  <h4 class="font-semibold text-primary mb-2">一、基础信息</h4>
                  <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    <div>
                      <label for="char-gender" class="block text-sm font-medium text-secondary">性别</label>
                      <select id="char-gender" name="char-gender" class="mt-1 block w-full rounded-md border-gray-600 bg-secondary shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm text-primary">
                        <option>女</option>
                        <option>男</option>
                      </select>
                    </div>
                    <div>
                      <label for="char-age" class="block text-sm font-medium text-secondary">年龄 (穿越时)</label>
                      <input type="number" name="char-age" id="char-age" value="22" class="mt-1 block w-full rounded-md border-gray-600 bg-secondary shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm text-primary">
                    </div>
                    <div class="sm:col-span-2">
                      <label for="char-appearance" class="block text-sm font-medium text-secondary">外貌特征</label>
                      <textarea id="char-appearance" name="char-appearance" rows="3" class="mt-1 block w-full rounded-md border-gray-600 bg-secondary shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm text-primary">清秀耐看型。五官柔和，不具攻击性，带有一种天然的、专注于某事时的书卷气。在现代社会属于会被称赞“干净”、“有气质”的类型。</textarea>
                    </div>
                  </div>
                </div>
                <!-- 核心设定 -->
                <div>
                  <h4 class="font-semibold text-primary mb-2">二、核心设定与背景</h4>
                  <div class="space-y-4">
                    <div>
                      <label for="char-background-earth" class="block text-sm font-medium text-secondary">前世 (地球) 身份</label>
                      <input type="text" name="char-background-earth" id="char-background-earth" value="一名普通的农业大学应届毕业生。" class="mt-1 block w-full rounded-md border-gray-600 bg-secondary shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm text-primary">
                    </div>
                    <div>
                      <label for="char-background-world" class="block text-sm font-medium text-secondary">现世 (元初界) 身份</label>
                      <input type="text" name="char-background-world" id="char-background-world" value="意外的穿越者，散修。" class="mt-1 block w-full rounded-md border-gray-600 bg-secondary shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm text-primary">
                    </div>
                  </div>
                </div>
                <!-- 性格特点 -->
                <div>
                  <h4 class="font-semibold text-primary mb-2">三、性格与能力</h4>
                  <div class="space-y-4">
                    <div>
                      <label for="char-personality" class="block text-sm font-medium text-secondary">核心性格</label>
                      <input type="text" name="char-personality" id="char-personality" value="谨慎务实" class="mt-1 block w-full rounded-md border-gray-600 bg-secondary shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm text-primary">
                    </div>
                    <div>
                      <label for="char-habits" class="block text-sm font-medium text-secondary">学者气质/习惯</label>
                      <input type="text" name="char-habits" id="char-habits" value="对未知事物抱有强烈的好奇心和探索欲" class="mt-1 block w-full rounded-md border-gray-600 bg-secondary shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm text-primary">
                    </div>
                  </div>
                </div>
              </div>
            </details>

            <div class="space-y-8 md:space-y-12">
              <!-- 初始地点 -->
              <details class="collapsible-section">
                <summary class="font-bold text-lg sm:text-xl mb-4 cursor-pointer text-accent">初始地点 (选择你的降落点)</summary>
                <div id="initial-locations-container" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mt-4">
                  <!-- 地点选项将由JS动态填充 -->
                </div>
              </details>

              <!-- 开局时间 -->
              <details class="collapsible-section">
                <summary class="font-bold text-lg sm:text-xl mb-4 cursor-pointer text-accent">开局时间 (选择你的初始季节)</summary>
                <div id="seasons-container" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mt-4">
                  <!-- 季节选项将由JS动态填充 -->
                </div>
              </details>

              <!-- 海岛环境 -->
              <details class="collapsible-section">
                <summary class="font-bold text-lg sm:text-xl mb-4 cursor-pointer text-accent">海岛环境 (选择恶劣环境可获得<span class="text-yellow-400">额外点数</span>)</summary>
                <div class="space-y-6 mt-4">
                  <div>
                    <h4 class="font-semibold text-primary mb-2">息壤灵田</h4>
                    <div id="farmland-container" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"></div>
                  </div>
                  <div>
                    <h4 class="font-semibold text-primary mb-2">淡水资源</h4>
                    <div id="water-container" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"></div>
                  </div>
                  <div>
                    <h4 class="font-semibold text-primary mb-2">生物环境</h4>
                    <div id="creature-container" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"></div>
                  </div>
                </div>
              </details>

              <!-- 海域环境 -->
              <details class="collapsible-section">
                <summary class="font-bold text-lg sm:text-xl mb-4 cursor-pointer text-accent">海域环境 (选择恶劣环境可获得<span class="text-yellow-400">额外点数</span>)</summary>
                <div class="space-y-6 mt-4">
                  <div>
                    <h4 class="font-semibold text-primary mb-2">海底状况</h4>
                    <div id="seabed-container" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"></div>
                  </div>
                  <div>
                    <h4 class="font-semibold text-primary mb-2">风暴频率</h4>
                    <div id="storm-container" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"></div>
                  </div>
                  <div>
                    <h4 class="font-semibold text-primary mb-2">周边岛屿</h4>
                    <div id="islands-container" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"></div>
                  </div>
                </div>
              </details>

              <!-- 穿越者心态 -->
              <details class="collapsible-section">
                <summary class="font-bold text-lg sm:text-xl mb-4 cursor-pointer text-accent">穿越者心态 (选择你的初始目标)</summary>
                <div id="mindsets-container" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mt-4">
                  <!-- 心态选项将由JS动态填充 -->
                </div>
              </details>

              <!-- 凡人根基 -->
              <details class="collapsible-section">
                <summary class="font-bold text-lg sm:text-xl mb-4 cursor-pointer text-accent">凡人根基</summary>
                <div class="grid md:grid-cols-3 gap-4 mt-4">
                  <div class="card rounded-lg p-4 border border-green-700 bg-green-900/30">
                      <span class="font-semibold text-green-300">固定背景：农学世家</span>
                      <p class="text-xs text-gray-400 mt-1">你出身于农业世家，对植物的习性有天生的亲和力。</p>
                  </div>
                  <div id="traits-container" class="md:col-span-2">
                    <!-- 可选特长将由JS动态填充 -->
                  </div>
                </div>
              </details>

              <!-- 属性分配 -->
              <details class="collapsible-section">
                <summary class="font-bold text-lg sm:text-xl mb-4 cursor-pointer text-accent">
                  天赋分配 (剩余天赋点: <span id="points-talent-remaining" class="text-blue-400 font-bold">10</span> / <span class="text-gray-400">10</span>)
                </summary>
                <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 md:gap-6 mt-4">
                  <div class="card rounded-lg p-6 bg-secondary/30">
                    <label class="font-semibold flex items-center justify-between">
                      <span><i class="fas fa-bone text-yellow-400 mr-2"></i>根骨</span>
                      <span id="talent-gen-gu-value" class="text-lg font-bold text-blue-400">0</span>
                    </label>
                    <p class="text-sm text-secondary mt-1 mb-3">影响你的修炼速度与肉身强度。</p>
                    <input id="talent-gen-gu" type="range" min="0" max="10" value="0" class="form-range w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer talent-slider">
                  </div>
                  <div class="card rounded-lg p-6 bg-secondary/30">
                    <label class="font-semibold flex items-center justify-between">
                      <span><i class="fas fa-brain text-purple-400 mr-2"></i>悟性</span>
                      <span id="talent-wu-xing-value" class="text-lg font-bold text-blue-400">0</span>
                    </label>
                    <p class="text-sm text-secondary mt-1 mb-3">决定你领悟功法、破解禁制的能力。</p>
                    <input id="talent-wu-xing" type="range" min="0" max="10" value="0" class="form-range w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer talent-slider">
                  </div>
                  <div class="card rounded-lg p-6 bg-secondary/30">
                    <label class="font-semibold flex items-center justify-between">
                      <span><i class="fas fa-clover text-green-400 mr-2"></i>气运</span>
                      <span id="talent-qi-yun-value" class="text-lg font-bold text-blue-400">0</span>
                    </label>
                    <p class="text-sm text-secondary mt-1 mb-3">影响你遇到奇遇、拾取宝物的概率。</p>
                    <input id="talent-qi-yun" type="range" min="0" max="10" value="0" class="form-range w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer talent-slider">
                  </div>
                </div>
              </details>

              <!-- 物品选择 -->
              <details class="collapsible-section">
                <summary class="font-bold text-lg sm:text-xl mb-4 cursor-pointer text-accent">物品选择</summary>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8 mt-4">
                  <div>
                    <h3 class="font-bold text-base mb-2">背包/仓库 (仙缘点: <span id="points-inventory-remaining" class="text-green-400 font-bold">5</span> / <span class="text-gray-400">5</span>)</h3>
                    <div class="card rounded-lg p-4 sm:p-6 bg-secondary/30">
                      <div id="inventory-items-container" class="space-y-3 max-h-60 sm:max-h-72 overflow-y-auto pr-2"></div>
                    </div>
                  </div>
                  <div>
                    <h3 class="font-bold text-base mb-2">帆布包 (遗物点: <span id="points-bag-remaining" class="text-cyan-400 font-bold">5</span> / <span class="text-gray-400">5</span>)</h3>
                    <div class="card rounded-lg p-4 sm:p-6 bg-secondary/30">
                      <div id="bag-items-container" class="space-y-3 max-h-60 sm:max-h-72 overflow-y-auto pr-2"></div>
                    </div>
                  </div>
                </div>
              </details>

              <!-- 高级设置 -->
              <details class="collapsible-section">
                <summary class="font-bold text-lg sm:text-xl mb-4 cursor-pointer text-accent">高级设置</summary>
                <div class="space-y-6 mt-4">
                  <div>
                    <h4 class="font-semibold text-primary mb-2">绑定系统</h4>
                    <div id="systems-container" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4">
                      <!-- 系统选项将由JS动态填充 -->
                    </div>
                  </div>
                </div>
              </details>

              <!-- 点数总览 -->
              <div class="text-center p-4 card rounded-lg bg-secondary/30">
                <h3 class="font-bold text-lg">点数结算</h3>
                <p class="text-sm text-secondary">天赋、仙缘、遗物点数超出部分将自动从环境提供的额外点数中扣除。若额外点数不足，则无法开局。</p>
                <p class="text-lg mt-2">最终剩余点数: <span id="points-extra-remaining" class="text-yellow-400 font-bold">0</span></p>
              </div>

              <!-- 确认按钮 -->
              <div class="text-center flex justify-center items-center space-x-4">
                <button id="load-previous-button" class="btn-secondary py-3 px-8">
                  <i class="fas fa-history mr-2"></i>读取上次
                </button>
                <button id="confirm-start-button" class="btn-primary py-3 px-8 disabled:opacity-50 disabled:cursor-not-allowed">
                  <i class="fas fa-check-circle mr-2"></i>确认开局
                </button>
              </div>
            </div>
          </main>
        </div>
      </div>

      <!-- 顶部栏 -->
      <div class="top-bar">
        <!-- 菜单按钮 -->
        <button id="menu-btn" class="control-btn" title="菜单"><i class="fas fa-bars"></i></button>

      <!-- 右上角全局控制器 -->
      <div class="global-controls">
        <button id="manage-pokedex-btn" class="control-btn" title="图鉴管理"><i class="fas fa-book-open"></i></button>

        <div class="theme-switcher-dropdown">
        <button id="theme-dropdown-btn" class="control-btn" title="切换主题"><i class="fas fa-palette"></i></button>
        <div id="theme-options" class="dropdown-content hidden">
          <button data-theme="night" class="theme-btn"><i class="fas fa-moon mr-2"></i> 夜晚</button>
          <button data-theme="day" class="theme-btn"><i class="fas fa-sun mr-2"></i> 白天</button>
          <button data-theme="jade" class="theme-btn"><i class="fas fa-leaf mr-2"></i> 翠玉</button>
          <button data-theme="classic" class="theme-btn"><i class="fas fa-scroll mr-2"></i> 古典</button>
        </div>
        </div>
        <button id="version-info-btn" class="control-btn" title="版本信息"><i class="fas fa-code-branch"></i></button>
        <button id="debug-settings-btn" class="control-btn" title="调试设置"><i class="fas fa-bug"></i></button>
        <button id="modal-mode-btn" class="control-btn" title="模态框模式" style="display: none;"><i class="fas fa-window-maximize"></i></button>
      </div>
    </div>

    <!-- 左侧主面板 - 交互区 -->
    <div id="main-panel">
      <!-- 故事/事件显示窗口 -->
      <div id="story-panel" class="panel-box mb-6">
        <h2 class="panel-title">
          <div class="flex items-center">
            <i class="fas fa-scroll mr-2"></i>
            <span>当前情节</span>
            <div class="ml-2 flex items-center space-x-1">
              <button id="edit-story-btn" class="icon-btn text-sm" title="编辑"><i class="fas fa-pen"></i></button>
              <button id="save-story-btn" class="icon-btn text-sm invisible" title="保存"><i class="fas fa-save"></i></button>
              <button id="cancel-edit-btn" class="icon-btn text-sm invisible" title="取消"><i class="fas fa-times"></i></button>
            </div>
          </div>
          <div class="flex items-center space-x-2">
            <button id="history-btn" class="control-btn text-sm" title="查看历史消息"><i class="fas fa-history"></i></button>
            <button id="settings-btn" class="control-btn text-sm" title="设置"><i class="fas fa-cog"></i></button>
          </div>
        </h2>
        <div id="story-content" class="panel-body">
          <p class="text-secondary">正在加载故事...</p>
        </div>
        <!-- Swipe Controls -->
        <div id="swipe-controls" class="items-center space-x-2 text-sm">
          <button id="prev-swipe-btn" class="control-btn" title="上一个回应"><i class="fas fa-chevron-left"></i></button>
          <span id="swipe-counter" class="font-mono text-secondary">1 / 1</span>
          <button id="next-swipe-btn" class="control-btn" title="下一个回应"><i class="fas fa-chevron-right"></i></button>
        </div>
      </div>

      <!-- 行动选项 -->
      <div id="action-panel" class="panel-box">
        <h2 class="panel-title">
          <i class="fas fa-tasks mr-2"></i>
          <span id="action-owner" class="text-accent"></span>
          <span>的行动选项</span>
        </h2>
        <div class="panel-body">
          <ul id="options-list" class="space-y-3 cursor-pointer">
            <!-- JS动态填充选项列表 -->
          </ul>
          <!-- 自定义行动输入对话框 (将被JS移动) -->
          <div id="custom-action-modal" class="hidden">
            <div class="bg-main rounded-lg shadow-xl p-4 border border-dim mt-4">
              <h4 class="font-bold text-md mb-3 text-accent flex items-center"><i class="fas fa-pen-nib mr-2"></i>输入你的行动</h4>
              <textarea id="custom-action-input" class="w-full bg-secondary rounded border border-dim p-2 text-primary focus:ring-2 focus:ring-accent focus:outline-none theme-transition" rows="3" placeholder="你想做什么..."></textarea>
              <div class="flex justify-end space-x-3 mt-3">
                <button id="cancel-action-btn" class="px-4 py-2 rounded bg-gray-600 hover:bg-gray-700 transition-colors theme-transition text-sm">取消</button>
                <button id="confirm-action-btn" class="px-4 py-2 rounded bg-accent hover:bg-accent-hover transition-colors theme-transition text-white text-sm">确认行动</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- 右侧副面板 - 信息区 -->
    <div id="side-panel">
      <div class="panel-box">
        <!-- 标签页导航 -->
        <div id="tab-navigation" class="flex border-b border-dim mb-4">
          <button data-tab="team" class="side-tab-btn active"><i class="fas fa-users"></i></button>
          <button data-tab="relations" class="side-tab-btn"><i class="fas fa-users-cog"></i></button>
          <button data-tab="pokedex" class="side-tab-btn"><i class="fas fa-book"></i></button>
          <button data-tab="world" class="side-tab-btn"><i class="fas fa-globe-asia"></i></button>
          <button data-tab="system" class="side-tab-btn"><i class="fas fa-cogs"></i></button>
        </div>

        <!-- 标签页内容 -->
        <div id="tab-content-container" class="side-panel-body">
          <!-- 队伍标签页 -->
          <div id="team-tab" class="side-tab-content">
            <div id="characters-container" class="grid grid-cols-1 gap-4"></div>
          </div>
          <!-- 关系标签页 -->
          <div id="relations-tab" class="side-tab-content hidden">
            <div id="relations-container" class="grid grid-cols-1 gap-4"></div>
          </div>
          <!-- 图鉴标签页 -->
          <div id="pokedex-tab" class="side-tab-content hidden">
            <div id="bestiary-container"></div>
            <hr class="my-4 border-t border-dim theme-transition">
            <div id="herbology-container"></div>
            <hr class="my-4 border-t border-dim theme-transition">
            <div id="books-container"></div>
            <hr class="my-4 border-t border-dim theme-transition">
            <div id="inventory-container"></div>
          </div>
          <!-- 世界标签页 -->
          <div id="world-tab" class="side-tab-content hidden">
            <div class="mb-4">
              <span class="flex items-center"><span class="emoji mr-2"></span><span id="time-display"></span></span>
              <span class="flex items-center"><span class="emoji mr-2"></span><span id="location-display"></span></span>
              <span class="flex items-center" title="当前天气"><span class="emoji mr-2"></span><span id="weather-display"></span></span>
            </div>
            <hr class="my-4 border-t border-dim theme-transition">
            <div id="shelter-container"></div>
          </div>
          <!-- 系统标签页 -->
          <div id="system-tab" class="side-tab-content hidden">
            <div id="system-container"></div>
            </div>
          </div>
        </div>
      </div>
    </div> <!-- game-panel 的结束标签 -->

  <!-- 详情展示模态框 -->
  <div id="details-modal" class="modal-overlay hidden">
    <div class="modal-content">
      <button id="modal-close-btn" class="modal-close-btn">&times;</button>
      <h3 id="modal-title" class="modal-title">详情</h3>
      <div id="modal-body" class="modal-body">
        <!-- JS动态填充内容 -->
      </div>
    </div>
  </div>

  <!-- 图鉴管理模态框 -->
  <div id="pokedex-manager-modal" class="modal-overlay hidden">
    <div class="modal-content">
      <button id="pokedex-manager-close-btn" class="modal-close-btn">&times;</button>
      <h3 class="modal-title">
        <span>图鉴管理</span>
        <button id="pokedex-help-btn" class="help-btn" title="帮助">
          <i class="fas fa-question"></i>
        </button>
      </h3>
      <div class="modal-body">
        <!-- 帮助信息容器 -->
        <div id="pokedex-help-content" class="hidden p-3 mb-4 text-xs rounded-lg bg-secondary/50 text-secondary border border-dim">
          <p class="font-bold mb-2 text-primary/80">图鉴管理功能说明:</p>
          <ul class="list-disc list-inside space-y-1">
            <li><b>图鉴总览:</b> 查看、编辑或删除已收录的所有图鉴条目。勾选条目后，点击下方的“注入选中项”按钮，可以将这些信息添加到当前楼层的变量中，让AI在下一次回应时“知道”这些内容。</li>
            <li><b>添加条目:</b> 通过表单或JSON模式，手动向你的全局图鉴数据库中添加新的条目。</li>
            <li><b>待收录条目:</b> 这里会自动列出当前楼层新出现的、但尚未被收录到全局图鉴的条目，方便你一键收录。</li>
            <li><b>远程同步:</b> 与社区服务器进行数据交换，可以分享你独有的条目，也可以从社区获取他人分享的内容来丰富你的图鉴。</li>
          </ul>
        </div>
        <!-- 主功能切换Tabs -->
        <div class="flex border-b border-dim mb-4">
          <button data-tab="view" class="main-tab-btn active">图鉴总览</button>
          <button data-tab="add" class="main-tab-btn">添加条目</button>
        </div>

        <!-- 查看 & 注入 Tab -->
        <div id="pokedex-view-tab" class="main-tab-content">
          <!-- New Discoveries Section -->
          <div id="new-discoveries-section" class="mb-4">
            <h4 class="font-bold text-lg mb-2 text-accent flex justify-between items-center">
              <span><i class="fas fa-lightbulb mr-2"></i>待收录条目</span>
              <button id="approve-discoveries-btn" class="btn-secondary text-xs py-1 px-2">
                <i class="fas fa-check-double mr-1"></i>一键收录选中项
              </button>
            </h4>
            <div id="new-discoveries-list" class="max-h-40 overflow-y-auto pr-2 border border-dim rounded-lg p-2 bg-secondary/30">
              <p class="text-center text-secondary p-4 text-sm">正在检查新发现...</p>
            </div>
          </div>

          <!-- Pending Review Section -->
          <div id="pending-review-section" class="mb-4">
            <h4 class="font-bold text-lg mb-2 text-yellow-400 flex justify-between items-center">
              <span><i class="fas fa-gavel mr-2"></i>待审核条目</span>
            </h4>
            <div id="pending-review-list" class="max-h-40 overflow-y-auto pr-2 border border-dim rounded-lg p-2 bg-secondary/30">
              <p class="text-center text-secondary p-4 text-sm">正在加载待审核列表...</p>
            </div>
          </div>

          <hr class="my-4 border-t border-dim theme-transition">
          <div id="existing-pokedex-list">
            <p class="text-center text-secondary p-4">正在加载图鉴...</p>
          </div>
          <hr class="my-4 border-t border-dim theme-transition">
          <div id="achievements-pokedex-list">
          </div>
        </div>

        <!-- 添加新条目 Tab -->
        <div id="pokedex-add-tab" class="main-tab-content hidden">
          <!-- 模式切换Tabs -->
          <div class="flex border-b border-dim mb-4">
            <button data-mode="form" class="tab-btn active">表单模式</button>
            <button data-mode="json" class="tab-btn">JSON模式</button>
          </div>

          <!-- 表单模式内容 -->
          <div id="form-mode-content" class="tab-content">
            <div class="mb-4">
              <label class="block mb-2 text-sm font-medium">图鉴类型:</label>
              <div class="flex space-x-4">
                <label class="flex items-center">
                  <input type="radio" name="entryType" value="妖兽" class="mr-2" checked> 妖兽
                </label>
                <label class="flex items-center">
                  <input type="radio" name="entryType" value="植物" class="mr-2"> 植物
                </label>
                <label class="flex items-center">
                  <input type="radio" name="entryType" value="物品" class="mr-2"> 物品
                </label>
                <label class="flex items-center">
                  <input type="radio" name="entryType" value="成就" class="mr-2"> 成就
                </label>
              </div>
            </div>
            <div id="form-fields-container" class="space-y-3 max-h-60 overflow-y-auto pr-2">
            </div>
            <div class="mt-3">
              <button id="add-field-btn" class="text-sm text-accent hover:text-accent-hover transition-colors p-1 rounded hover:bg-secondary">
                <i class="fas fa-plus mr-1"></i>添加字段
              </button>
            </div>
          </div>

          <!-- JSON模式内容 -->
          <div id="json-mode-content" class="tab-content hidden">
            <div class="mb-4">
              <label class="block mb-2 text-sm font-medium">图鉴类型 (将应用于所有条目):</label>
              <div class="flex space-x-4">
                <label class="flex items-center">
                  <input type="radio" name="jsonEntryType" value="妖兽" class="mr-2" checked> 妖兽
                </label>
                <label class="flex items-center">
                  <input type="radio" name="jsonEntryType" value="植物" class="mr-2"> 植物
                </label>
                <label class="flex items-center">
                  <input type="radio" name="jsonEntryType" value="物品" class="mr-2"> 物品
                </label>
                <label class="flex items-center">
                  <input type="radio" name="jsonEntryType" value="成就" class="mr-2"> 成就
                </label>
              </div>
            </div>
            <div>
              <label for="json-input" class="block mb-2 text-sm font-medium">JSON数据:</label>
              <textarea id="json-input" class="w-full bg-secondary rounded border border-dim p-2 text-primary focus:ring-2 focus:ring-accent focus:outline-none theme-transition font-mono" rows="8" placeholder='[&#10;  { "名称": "xxx", "等级": "xxx" },&#10;  { "名称": "yyy", "习性": "yyy" }&#10;]'></textarea>
            </div>
          </div>
        </div>
      </div>
      <div class="flex justify-end mt-4 pt-4 border-t border-dim">
        <button id="remote-sync-btn" class="btn-secondary mr-auto">
          <i class="fas fa-cloud-upload-alt mr-2"></i>远程同步
        </button>
        <button id="inject-pokedex-btn" class="btn-primary">
          <i class="fas fa-sign-in-alt mr-2"></i>注入选中项
        </button>
        <button id="submit-entry-btn" class="btn-primary hidden">
          <i class="fas fa-plus mr-2"></i>确认添加
        </button>
      </div>
    </div>
  </div>

  <!-- 远程同步模态框 -->
  <div id="remote-sync-modal" class="modal-overlay hidden">
    <div class="modal-content">
      <button id="remote-sync-close-btn" class="modal-close-btn">&times;</button>
      <h3 class="modal-title">远程同步</h3>
      <div class="modal-body">
        <div class="p-2 mb-4 text-xs text-center rounded-lg bg-secondary/50 text-secondary">
          <i class="fas fa-info-circle mr-1"></i>
          分享功能旨在共建一个丰富的图鉴数据库。请确保您分享的内容准确、无害。
        </div>
        <div class="flex border-b border-dim mb-4">
          <button data-tab="submit" class="main-tab-btn active">分享至社区</button>
          <button data-tab="fetch" class="main-tab-btn">从社区获取</button>
        </div>
        <div id="remote-submit-tab" class="main-tab-content">
          <p class="text-sm text-secondary mb-2">以下是您本地独有、尚未分享的条目。请选择要分享到社区的内容：</p>
          <div class="mb-2">
            <label for="provider-name-input" class="block mb-1 text-xs font-medium text-secondary">贡献者署名 (可选):</label>
            <input type="text" id="provider-name-input" class="w-full bg-secondary rounded border border-dim p-1.5 text-sm text-primary focus:ring-2 focus:ring-accent focus:outline-none theme-transition" placeholder="留下你的大名">
          </div>
          <div id="local-diff-list" class="max-h-60 overflow-y-auto pr-2 border border-dim rounded-lg p-2 bg-secondary/30">
            <p class="text-center text-secondary p-4">正在计算差异...</p>
          </div>
        </div>
        <div id="remote-fetch-tab" class="main-tab-content hidden">
          <p class="text-sm text-secondary mb-2">以下是社区拥有、但您本地没有的条目。请选择要获取的内容：</p>
          <div id="remote-diff-list" class="max-h-60 overflow-y-auto pr-2 border border-dim rounded-lg p-2 bg-secondary/30">
            <p class="text-center text-secondary p-4">请先点击下方按钮从社区获取列表。</p>
          </div>
        </div>
      </div>
      <div class="flex justify-between items-center mt-4 pt-4 border-t border-dim">
        <button id="fetch-from-remote-btn" class="btn-secondary hidden">
          <i class="fas fa-cloud-download-alt mr-2"></i>获取社区列表
        </button>
        <div id="submit-to-remote-controls">
          <button id="submit-to-remote-btn" class="btn-primary">
            <i class="fas fa-paper-plane mr-2"></i>分享选中项
          </button>
        </div>
        <div id="import-from-remote-controls" class="hidden">
          <button id="import-from-remote-btn" class="btn-primary">
            <i class="fas fa-download mr-2"></i>导入选中项
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- 成就奖励模态框 -->
  <div id="rewards-modal" class="modal-overlay hidden">
    <div class="modal-content">
      <button id="rewards-modal-close-btn" class="modal-close-btn">&times;</button>
      <div class="flex justify-between items-center mb-4 pb-2 border-b border-dim">
        <h3 class="modal-title" style="border-bottom: none; margin-bottom: 0;">兑换奖励</h3>
        <button id="refresh-rewards-btn" class="text-sm text-accent hover:text-accent-hover transition-colors p-1 rounded hover:bg-secondary" title="刷新奖励列表">
          <i class="fas fa-sync-alt"></i> 刷新
        </button>
      </div>
      <div id="rewards-modal-body" class="modal-body">
      </div>
      <p class="text-xs text-secondary mt-4 text-center">每日仅可刷新一次，请谨慎选择。</p>
    </div>
  </div>

  <!-- 历史记录模态框 -->
  <div id="history-modal" class="modal-overlay hidden">
    <div class="modal-content modal-content-wide">
      <button id="history-modal-close-btn" class="modal-close-btn">&times;</button>
      <h3 class="modal-title">历史记录</h3>
      <div class="modal-body" style="padding-top: 0;">
        <!-- 标签页容器 -->
        <div class="flex border-b border-dim mb-2 overflow-x-auto">
          <!-- 分支标签页将由JS动态填充到这里 -->
          <div id="history-branch-tabs" class="flex flex-nowrap"></div>
          <!-- 关系图标签 -->
          <div id="history-graph-tab" class="main-tab-btn ml-auto hidden">关系图</div>
        </div>

        <!-- 消息内容容器 -->
        <div id="history-messages-container" class="max-h-[70vh] overflow-y-auto pr-2">
          <div id="message-content" class="space-y-3 p-1">
            <p class="text-secondary text-center p-4">没有找到历史记录。</p>
          </div>
        </div>
        
        <!-- 关系图容器 -->
        <div id="history-graph-container" class="hidden" style="height: 70vh;">
          <!-- Cytoscape graph will be rendered here -->
        </div>
      </div>
    </div>
  </div>

  <!-- 上下文设置与摘要模态框 -->
  <div id="settings-modal" class="modal-overlay hidden">
    <div class="modal-content">
      <button id="settings-modal-close-btn" class="modal-close-btn">&times;</button>
      <h3 class="modal-title">上下文管理</h3>
      <div class="modal-body">
        <!-- 标签页导航 -->
        <div class="flex border-b border-dim mb-4">
          <button data-tab="params" class="main-tab-btn active">参数设置</button>
          <button data-tab="summary" class="main-tab-btn">摘要管理</button>
        </div>

        <!-- 参数设置标签页 -->
        <div id="settings-params-tab" class="main-tab-content">
          <div class="space-y-4">
            <div>
              <label for="context-limit-input" class="block mb-2 text-sm font-medium">上下文消息数</label>
              <input type="range" id="context-limit-slider" min="10" max="100" value="20" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700">
              <div class="text-right text-sm text-secondary mt-1">
                当前值: <span id="context-limit-value">20</span> 条
              </div>
              <p class="text-xs text-secondary mt-1">设置每次请求时，携带的最近历史消息数量。</p>
            </div>
            <div>
              <label for="summary-trigger-input" class="block mb-2 text-sm font-medium">自动总结触发数</label>
              <input type="range" id="summary-trigger-slider" min="20" max="200" value="30" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700">
              <div class="text-right text-sm text-secondary mt-1">
                当前值: <span id="summary-trigger-value">30</span> 条
              </div>
              <p class="text-xs text-secondary mt-1">当总消息数达到此值时，会自动在后台进行一次“迭代式精炼”总结。此值不能大于上下文消息数。</p>
            </div>
            <div class="flex justify-between items-center">
              <div>
                <label for="streaming-response-toggle" class="text-sm font-medium">流式响应</label>
                <p class="text-xs text-secondary mt-1">启用后，AI的回复将逐字显示。</p>
              </div>
              <div class="relative inline-block w-10 align-middle select-none transition duration-200 ease-in">
                <input type="checkbox" id="streaming-response-toggle" class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer"/>
                <label for="streaming-response-toggle" class="toggle-label block overflow-hidden h-6 rounded-full bg-gray-300 cursor-pointer"></label>
              </div>
            </div>
          </div>
        </div>

        <!-- 摘要管理标签页 -->
        <div id="settings-summary-tab" class="main-tab-content hidden">
          <div class="space-y-4">
            <div>
              <h4 class="font-bold text-md mb-2">最新摘要</h4>
              <div id="latest-summary-content" class="text-sm p-3 bg-secondary/30 rounded-lg max-h-40 overflow-y-auto border border-dim">
                <p class="text-secondary">暂无摘要。</p>
              </div>
            </div>
            <div>
              <div class="flex justify-between items-center mb-2">
                <h4 class="font-bold text-md">自定义总结提示词</h4>
                <button id="restore-default-prompt-btn" class="text-xs text-accent hover:text-accent-hover transition-colors">恢复默认</button>
              </div>
              <textarea id="summary-prompt-input" class="w-full bg-secondary rounded border border-dim p-2 text-primary focus:ring-2 focus:ring-accent focus:outline-none theme-transition font-mono text-sm" rows="6"></textarea>
              <p class="text-xs text-secondary mt-1">
                可用占位符: <code>{{PREVIOUS_SUMMARY}}</code> (过往摘要), <code>{{NEW_HISTORY}}</code> (新对话)。
              </p>
            </div>
            <button id="force-summary-btn" class="btn-secondary w-full">
              <i class="fas fa-brain mr-2"></i>立即在后台生成一次精炼摘要
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 调试模态框 -->
  <div id="debug-modal" class="modal-overlay hidden">
    <div class="modal-content">
      <button id="debug-modal-close-btn" class="modal-close-btn">&times;</button>
      <h3 class="modal-title" style="cursor: move;">调试控制台</h3>
      <div class="modal-body" style="padding-top: 0;">
        <!-- 控制栏 -->
        <div class="flex flex-wrap items-center gap-4 py-2 border-b border-dim mb-2">
          <!-- 开关 -->
          <div class="flex items-center">
            <label for="debug-mode-toggle" class="text-sm font-medium mr-2">调试模式</label>
            <div class="relative inline-block w-10 align-middle select-none transition duration-200 ease-in">
              <input type="checkbox" name="debug-mode-toggle" id="debug-mode-toggle" class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer"/>
              <label for="debug-mode-toggle" class="toggle-label block overflow-hidden h-6 rounded-full bg-gray-300 cursor-pointer"></label>
            </div>
          </div>
          <!-- 搜索框 -->
          <div class="relative flex-grow">
            <i class="fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-secondary"></i>
            <input type="text" id="debug-search-input" placeholder="搜索日志..." class="w-full bg-secondary rounded-full border border-dim p-1.5 pl-8 text-sm text-primary focus:ring-2 focus:ring-accent focus:outline-none theme-transition">
          </div>
          <!-- 过滤器 -->
          <div class="flex items-center gap-x-3 text-sm">
            <label><input type="checkbox" class="debug-level-filter" value="log" checked> Log</label>
            <label><input type="checkbox" class="debug-level-filter" value="info" checked> Info</label>
            <label><input type="checkbox" class="debug-level-filter" value="warn" checked> Warn</label>
            <label><input type="checkbox" class="debug-level-filter" value="error" checked> Error</label>
          </div>
          <!-- 刷新按钮 -->
          <button id="debug-clear-btn" class="btn-secondary btn-sm" title="清空日志"><i class="fas fa-trash-alt"></i></button>
          <!-- 下载按钮 -->
          <button id="debug-download-btn" class="btn-secondary btn-sm" title="下载日志"><i class="fas fa-download"></i></button>
        </div>
        <!-- Tab 导航 -->
        <div class="flex border-b border-dim mb-2">
          <button data-tab="logs" class="debug-tab-btn active">日志查看器</button>
          <button data-tab="state" class="debug-tab-btn">状态监视器</button>
          <button data-tab="events" class="debug-tab-btn">事件注入器</button>
          <button data-tab="prompt" class="debug-tab-btn"><i class="fas fa-file-alt mr-2"></i>提示词查看器</button>
        </div>

        <!-- Tab 内容 -->
        <div id="debug-tab-content" class="max-h-80 overflow-y-auto pr-2">
          <!-- 日志查看器 Tab -->
          <div id="debug-logs-tab" class="debug-tab-content">
            <div id="debug-log-container" class="font-mono text-xs">
              <!-- 日志将通过JS动态插入 -->
            </div>
          </div>

          <!-- 状态监视器 Tab -->
          <div id="debug-state-tab" class="debug-tab-content hidden">
            <div class="flex items-center gap-2 mb-2">
              <button id="refresh-state-btn" class="btn-primary btn-sm">
                <i class="fas fa-sync-alt mr-1"></i> 刷新变量
              </button>
              <button id="download-state-btn" class="btn-secondary btn-sm">
                <i class="fas fa-download mr-1"></i> 下载变量 (JSON)
              </button>
            </div>
            <div id="state-tree-container" class="font-mono text-xs p-2 bg-secondary/30 rounded border border-dim">
              <p class="text-secondary">点击“刷新变量”以查看当前状态。</p>
            </div>
          </div>

          <!-- 事件注入器 Tab -->
          <div id="debug-events-tab" class="debug-tab-content hidden">
            <p class="text-xs text-secondary mb-2">在此处粘贴事件的JSON，然后点击注入。事件将通过 `syncVariables` 函数处理。</p>
            <div class="mb-2">
              <label class="text-xs font-bold text-secondary">事件模板预设:</label>
              <div id="event-presets-container" class="flex flex-wrap gap-2 mt-1">
                <button class="btn-secondary btn-sm preset-btn" data-preset="itemChange">物品变化</button>
                <button class="btn-secondary btn-sm preset-btn" data-preset="characterUpdate">角色更新</button>
                <button class="btn-secondary btn-sm preset-btn" data-preset="unlockTestAchievement">解锁测试成就</button>
                <button class="btn-secondary btn-sm preset-btn" data-preset="newQuest">新任务</button>
                <button class="btn-secondary btn-sm preset-btn" data-preset="questProgress">任务进度</button>
                <button class="btn-secondary btn-sm preset-btn" data-preset="questCompletion">任务完成</button>
                <button class="btn-secondary btn-sm preset-btn" data-preset="questFailure">任务失败</button>
                <button class="btn-secondary btn-sm preset-btn" data-preset="systemUpdate">系统更新</button>
                <button class="btn-secondary btn-sm preset-btn" data-preset="shelterUpgrade">庇护所升级</button>
                <button class="btn-secondary btn-sm preset-btn" data-preset="weatherChange">天气变化</button>
                <button class="btn-secondary btn-sm preset-btn" data-preset="signIn">签到</button>
              </div>
            </div>
            <textarea id="event-json-input" class="w-full bg-secondary rounded border border-dim p-2 text-primary focus:ring-2 focus:ring-accent focus:outline-none theme-transition font-mono text-sm" rows="6" placeholder='{ "事件": "...", "数据": { ... } }'></textarea>
            <button id="inject-event-btn" class="btn-primary btn-sm mt-2">
              <i class="fas fa-syringe mr-1"></i> 注入事件
            </button>
          </div>

          <!-- 提示词查看器 Tab -->
          <div id="debug-prompt-tab" class="debug-tab-content hidden">
            <div class="flex items-center gap-2 mb-2">
              <button id="refresh-prompt-btn" class="btn-primary btn-sm">
                <i class="fas fa-sync-alt mr-1"></i> 刷新提示词
              </button>
            </div>
            <div id="prompt-display-container" class="font-mono text-xs p-2 bg-secondary/30 rounded border border-dim whitespace-pre-wrap">
              <p class="text-secondary">点击“刷新提示词”以查看发送给LLM的最新系统提示词。</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 菜单模态框 -->
  <div id="menu-modal" class="modal-overlay hidden">
    <div class="modal-content">
      <button id="menu-modal-close-btn" class="modal-close-btn">&times;</button>
      <h3 class="modal-title">菜单</h3>
      <div class="modal-body">
        <div class="grid grid-cols-1 gap-4">
          <button id="new-game-btn" class="btn-primary w-full"><i class="fas fa-plus-circle mr-2"></i>新游戏</button>
          <button id="load-game-btn" class="btn-secondary w-full"><i class="fas fa-upload mr-2"></i>加载存档</button>
          <button id="save-game-btn" class="btn-secondary w-full"><i class="fas fa-download mr-2"></i>下载存档</button>
        </div>
      </div>
    </div>
  </div>

</body>
