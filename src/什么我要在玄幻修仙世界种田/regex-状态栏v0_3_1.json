{
    "id": "e434b266-69bb-46aa-a648-0117642d8a9a",
    "scriptName": "状态栏v0.3.1",
    "findRegex": "<statusbar>([\\s\\S]*?)</statusbar>",
    "replaceString": "```\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>《什么？我要在玄幻修仙世界种田》 - 状态栏</title>\n  <!-- 引入Font Awesome图标库 -->\n  <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\n  <script src=\"https://cdn.tailwindcss.com\"></script>\n<style>/*!*******************************************************************************************************************************************************************************************************************************************!*\\\n  !*** css ./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[0].oneOf[5].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[0].oneOf[5].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/什么我要在玄幻修仙世界种田/index.scss ***!\n  \\*******************************************************************************************************************************************************************************************************************************************/\n@import url(https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&display=swap);\n/*!***********************************************************************************************************************************************************************************************************************************************!*\\\n  !*** css ./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[0].oneOf[5].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[0].oneOf[5].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/什么我要在玄幻修仙世界种田/index.scss (1) ***!\n  \\***********************************************************************************************************************************************************************************************************************************************/\n/*! tailwindcss v4.1.11 | MIT License | https://tailwindcss.com */\n@charset \"UTF-8\";\n@layer properties;\n.collapse {\n  visibility: collapse;\n}\n.visible {\n  visibility: visible;\n}\n.absolute {\n  position: absolute;\n}\n.fixed {\n  position: fixed;\n}\n.relative {\n  position: relative;\n}\n.static {\n  position: static;\n}\n.sticky {\n  position: sticky;\n}\n.z-10 {\n  z-index: 10;\n}\n.container {\n  width: 100%;\n}\n.mx-auto {\n  margin-inline: auto;\n}\n.mt-auto {\n  margin-top: auto;\n}\n.mr-auto {\n  margin-right: auto;\n}\n.block {\n  display: block;\n}\n.contents {\n  display: contents;\n}\n.flex {\n  display: flex;\n}\n.grid {\n  display: grid;\n}\n.hidden {\n  display: none;\n}\n.h-full {\n  height: 100%;\n}\n.min-h-\\[8rem\\] {\n  min-height: 8rem;\n}\n.w-full {\n  width: 100%;\n}\n.max-w-none {\n  max-width: none;\n}\n.flex-1 {\n  flex: 1;\n}\n.flex-shrink {\n  flex-shrink: 1;\n}\n.flex-shrink-0 {\n  flex-shrink: 0;\n}\n.flex-grow {\n  flex-grow: 1;\n}\n.transform {\n  transform: var(--tw-rotate-x,) var(--tw-rotate-y,) var(--tw-rotate-z,) var(--tw-skew-x,) var(--tw-skew-y,);\n}\n.cursor-pointer {\n  cursor: pointer;\n}\n.resize {\n  resize: both;\n}\n.list-inside {\n  list-style-position: inside;\n}\n.list-disc {\n  list-style-type: disc;\n}\n.appearance-none {\n  -webkit-appearance: none;\n          appearance: none;\n}\n.grid-cols-1 {\n  grid-template-columns: repeat(1, minmax(0, 1fr));\n}\n.grid-cols-7 {\n  grid-template-columns: repeat(7, minmax(0, 1fr));\n}\n.flex-col {\n  flex-direction: column;\n}\n.flex-wrap {\n  flex-wrap: wrap;\n}\n.items-center {\n  align-items: center;\n}\n.items-start {\n  align-items: flex-start;\n}\n.justify-between {\n  justify-content: space-between;\n}\n.justify-center {\n  justify-content: center;\n}\n.justify-end {\n  justify-content: flex-end;\n}\n.truncate {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.overflow-hidden {\n  overflow: hidden;\n}\n.overflow-y-auto {\n  overflow-y: auto;\n}\n.rounded-full {\n  border-radius: calc(infinity * 1px);\n}\n.border {\n  border-style: var(--tw-border-style);\n  border-width: 1px;\n}\n.border-2 {\n  border-style: var(--tw-border-style);\n  border-width: 2px;\n}\n.border-t {\n  border-top-style: var(--tw-border-style);\n  border-top-width: 1px;\n}\n.border-t-2 {\n  border-top-style: var(--tw-border-style);\n  border-top-width: 2px;\n}\n.border-b {\n  border-bottom-style: var(--tw-border-style);\n  border-bottom-width: 1px;\n}\n.border-b-2 {\n  border-bottom-style: var(--tw-border-style);\n  border-bottom-width: 2px;\n}\n.border-l-2 {\n  border-left-style: var(--tw-border-style);\n  border-left-width: 2px;\n}\n.border-transparent {\n  border-color: transparent;\n}\n.bg-\\[\\#fdf6e3\\] {\n  background-color: #fdf6e3;\n}\n.text-center {\n  text-align: center;\n}\n.text-right {\n  text-align: right;\n}\n.whitespace-nowrap {\n  white-space: nowrap;\n}\n.whitespace-pre-wrap {\n  white-space: pre-wrap;\n}\n.text-\\[\\#583e26\\] {\n  color: #583e26;\n}\n.italic {\n  font-style: italic;\n}\n.antialiased {\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.ring-2 {\n  --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);\n  box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n}\n.ring-offset-2 {\n  --tw-ring-offset-width: 2px;\n  --tw-ring-offset-shadow: var(--tw-ring-inset,) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n}\n.outline {\n  outline-style: var(--tw-outline-style);\n  outline-width: 1px;\n}\n.filter {\n  filter: var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,);\n}\n.backdrop-filter {\n  backdrop-filter: var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);\n}\n.transition {\n  transition-property: color, background-color, border-color, outline-color, text-decoration-color, fill, stroke, --tw-gradient-from, --tw-gradient-via, --tw-gradient-to, opacity, box-shadow, transform, translate, scale, rotate, filter, backdrop-filter, display, visibility, content-visibility, overlay, pointer-events;\n  transition-timing-function: var(--tw-ease, ease);\n  transition-duration: var(--tw-duration, 0s);\n}\n.transition-all {\n  transition-property: all;\n  transition-timing-function: var(--tw-ease, ease);\n  transition-duration: var(--tw-duration, 0s);\n}\n.transition-colors {\n  transition-property: color, background-color, border-color, outline-color, text-decoration-color, fill, stroke, --tw-gradient-from, --tw-gradient-via, --tw-gradient-to;\n  transition-timing-function: var(--tw-ease, ease);\n  transition-duration: var(--tw-duration, 0s);\n}\n.transition-transform {\n  transition-property: transform, translate, scale, rotate;\n  transition-timing-function: var(--tw-ease, ease);\n  transition-duration: var(--tw-duration, 0s);\n}\n.duration-300 {\n  --tw-duration: 300ms;\n  transition-duration: 300ms;\n}\n.duration-500 {\n  --tw-duration: 500ms;\n  transition-duration: 500ms;\n}\n.group-open\\:rotate-180:is(:where(.group):is([open], :popover-open, :open) *) {\n  rotate: 180deg;\n}\n@media (hover: hover) {\n  .hover\\:scale-105:hover {\n    --tw-scale-x: 105%;\n    --tw-scale-y: 105%;\n    --tw-scale-z: 105%;\n    scale: var(--tw-scale-x) var(--tw-scale-y);\n  }\n}\n.focus\\:ring-2:focus {\n  --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);\n  box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n}\n.focus\\:outline-none:focus {\n  --tw-outline-style: none;\n  outline-style: none;\n}\n.disabled\\:cursor-not-allowed:disabled {\n  cursor: not-allowed;\n}\nbody {\n  font-family: \"Noto Serif SC\", serif;\n  background-color: var(--bg-primary);\n  color: var(--text-primary);\n}\n:root {\n  --bg-primary: #1a1a1a;\n  --bg-secondary: #2a2a2a;\n  --bg-card: #222222;\n  --text-primary: #e5e7eb;\n  --text-secondary: #9ca3af;\n  --border-color: #4b5563;\n  --accent-color: #818cf8;\n  --accent-color-hover: #6366f1;\n}\nbody.day-mode {\n  --bg-primary: #f3f4f6;\n  --bg-secondary: #e5e7eb;\n  --bg-card: #ffffff;\n  --text-primary: #1f2937;\n  --text-secondary: #4b5563;\n  --border-color: #d1d5db;\n}\nbody.jade-mode {\n  --bg-primary: #f0fdf4;\n  --bg-secondary: #dcfce7;\n  --bg-card: #ffffff;\n  --text-primary: #14532d;\n  --text-secondary: #166534;\n  --border-color: #86efac;\n  --accent-color: #22c55e;\n  --accent-color-hover: #16a34a;\n}\nbody.classic-mode {\n  background-image: url(\"https://www.transparenttextures.com/patterns/old-paper.png\");\n  --bg-primary: #fdf6e3;\n  --bg-secondary: #f5eeda;\n  --bg-card: rgba(245, 238, 218, 0.8);\n  --text-primary: #583e26;\n  --text-secondary: #6e553c;\n  --border-color: #c9bda4;\n  --accent-color: #b58900;\n  --accent-color-hover: #856703;\n}\n.theme-transition {\n  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;\n}\n.card-hover {\n  transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;\n}\n.card-hover:hover {\n  transform: translateY(-4px);\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.2), 0 4px 6px -2px rgba(0, 0, 0, 0.1);\n}\n.bg-main {\n  background-color: var(--bg-card);\n}\n.text-accent {\n  color: var(--accent-color);\n}\n.border-dim {\n  border-color: var(--border-color);\n}\n@supports (color: color-mix(in lab, red, red)) {\n  .border-dim {\n    border-color: color-mix(in srgb, var(--border-color) 30%, transparent);\n  }\n}\n.text-secondary {\n  color: var(--text-secondary);\n}\ndetails[open] > summary .group-open\\:rotate-180 {\n  transform: rotate(180deg);\n}\n#action-owner {\n  color: var(--accent-color);\n}\n.theme-btn {\n  width: 3rem;\n  height: 3rem;\n  margin: 0 0.5rem;\n  transition: all 0.3s ease;\n}\n.theme-btn:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n}\n.inner-box {\n  padding: 1rem;\n}\n.flex.flex-col.sm\\:flex-row.justify-between.items-start.sm\\:items-center {\n  margin-bottom: 1.5rem;\n}\ndetails.group {\n  margin-bottom: 1.5rem;\n}\n#options-list li {\n  background-color: var(--bg-secondary);\n}\n@supports (color: color-mix(in lab, red, red)) {\n  #options-list li {\n    background-color: color-mix(in srgb, var(--bg-secondary) 50%, transparent);\n  }\n}\n#options-list li {\n  padding: 0.75rem 1rem;\n  border-radius: 0.5rem;\n  transition: all 0.2s ease-in-out;\n}\n#options-list li:hover {\n  background-color: var(--accent-color);\n  color: var(--bg-card);\n  transform: translateX(4px);\n}\n.progress-bar-bg {\n  background-color: var(--bg-secondary);\n}\n@supports (color: color-mix(in lab, red, red)) {\n  .progress-bar-bg {\n    background-color: color-mix(in srgb, var(--bg-secondary) 70%, transparent);\n  }\n}\n.progress-bar-bg {\n  border: 1px solid var(--border-color);\n}\n.progress-bar-fg {\n  transition: width 0.5s ease-in-out;\n}\n#custom-action-modal {\n  margin-top: 0.75rem;\n  transition: all 0.5s ease-in-out;\n  max-height: 0;\n  opacity: 0;\n  transform: translateY(-10px);\n  overflow: hidden;\n}\n#custom-action-modal.is-open {\n  max-height: 500px;\n  opacity: 1;\n  transform: translateY(0);\n}\n.bg-secondary {\n  background-color: var(--bg-secondary);\n}\n.bg-accent {\n  background-color: var(--accent-color);\n}\n.hover\\:bg-accent-hover:hover {\n  background-color: var(--accent-color-hover);\n}\n#custom-action-input {\n  color: var(--text-primary);\n}\n#custom-action-input::placeholder {\n  color: var(--text-secondary);\n}\n#details-modal {\n  z-index: 1050;\n}\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.7);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  opacity: 0;\n  pointer-events: none;\n  transition: opacity 0.3s ease;\n  backdrop-filter: blur(5px);\n}\n.modal-overlay:not(.hidden) {\n  opacity: 1;\n  pointer-events: auto;\n}\n.modal-content {\n  background-color: var(--bg-card);\n  color: var(--text-primary);\n  padding: 1.5rem 2rem;\n  border-radius: 1rem;\n  border: 1px solid var(--border-color);\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);\n  width: 90%;\n  max-width: 500px;\n  max-height: 80vh;\n  overflow-y: auto;\n  position: relative;\n  transform: scale(0.95);\n  transition: transform 0.3s ease;\n}\n.modal-overlay:not(.hidden) .modal-content {\n  transform: scale(1);\n}\n.modal-close-btn {\n  position: absolute;\n  top: 0.5rem;\n  right: 0.75rem;\n  background: none;\n  border: none;\n  font-size: 2rem;\n  line-height: 1;\n  color: var(--text-secondary);\n  cursor: pointer;\n  transition: color 0.2s ease;\n}\n.modal-close-btn:hover {\n  color: var(--text-primary);\n}\n.modal-title {\n  display: flex;\n  align-items: center;\n  font-size: 1.5rem;\n  font-weight: 700;\n  color: var(--accent-color);\n  margin-bottom: 1rem;\n  padding-bottom: 0.5rem;\n  border-bottom: 1px solid var(--border-color);\n}\n.modal-title .help-btn {\n  width: 1.25rem;\n  height: 1.25rem;\n  font-size: 0.7rem;\n  margin-left: 0.5rem;\n  border-radius: 50%;\n  background-color: var(--bg-secondary);\n  color: var(--text-secondary);\n  border: 1px solid var(--border-color);\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n}\n.modal-title .help-btn:hover {\n  background-color: var(--accent-color);\n  color: var(--bg-card);\n  border-color: var(--accent-color);\n}\n.modal-title .help-btn.active {\n  background-color: var(--accent-color-hover);\n  color: var(--bg-card);\n  border-color: var(--accent-color-hover);\n}\n.modal-body {\n  font-size: 0.95rem;\n  line-height: 1.6;\n}\n.modal-body ul {\n  list-style-type: none;\n  padding-left: 0;\n}\n.modal-body li {\n  padding: 0.5rem 0;\n  border-bottom: 1px solid var(--border-color);\n}\n@supports (color: color-mix(in lab, red, red)) {\n  .modal-body li {\n    border-bottom: 1px solid color-mix(in srgb, var(--border-color) 20%, transparent);\n  }\n}\n.modal-body li:last-child {\n  border-bottom: none;\n}\n.modal-body .item-key {\n  font-weight: 600;\n  color: var(--accent-color);\n}\n.clickable-item {\n  cursor: pointer;\n  transition: color 0.2s ease;\n}\n.clickable-item:hover {\n  color: var(--accent-color-hover);\n  text-decoration: underline;\n}\n.global-controls {\n  position: fixed;\n  top: 1rem;\n  right: 1rem;\n  z-index: 1001;\n  display: flex;\n  gap: 0.5rem;\n}\n.control-btn {\n  width: 2.5rem;\n  height: 2.5rem;\n  background-color: var(--bg-card);\n  color: var(--text-secondary);\n  border: 1px solid var(--border-color);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\n}\n.control-btn:hover {\n  background-color: var(--bg-secondary);\n  color: var(--accent-color);\n  transform: translateY(-2px);\n}\n.theme-switcher-dropdown {\n  position: relative;\n}\n.dropdown-content {\n  position: absolute;\n  top: 100%;\n  right: 0;\n  margin-top: 0.5rem;\n  background-color: var(--bg-card);\n  border: 1px solid var(--border-color);\n  border-radius: 0.5rem;\n  padding: 0.5rem;\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.25);\n  flex-direction: column;\n  gap: 0.25rem;\n  width: 120px;\n}\n.dropdown-content:not(.hidden) {\n  display: flex;\n}\n.dropdown-content .theme-btn {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  padding: 0.5rem;\n  border-radius: 0.25rem;\n  background: none;\n  border: none;\n  color: var(--text-primary);\n  text-align: left;\n}\n.dropdown-content .theme-btn:hover {\n  background-color: var(--bg-secondary);\n  color: var(--accent-color);\n}\n.tab-btn,\n.main-tab-btn {\n  padding: 0.5rem 1rem;\n  cursor: pointer;\n  background: none;\n  border: none;\n  color: var(--text-secondary);\n  border-bottom: 2px solid transparent;\n  transition: all 0.2s ease;\n  white-space: nowrap;\n}\n.tab-btn:hover,\n.main-tab-btn:hover {\n  color: var(--text-primary);\n}\n.tab-btn.active,\n.main-tab-btn.active {\n  color: var(--accent-color);\n  border-bottom-color: var(--accent-color);\n}\n.form-field-row {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.form-field-row input {\n  flex-grow: 1;\n  background-color: var(--bg-secondary);\n  border: 1px solid var(--border-color);\n  border-radius: 0.25rem;\n  padding: 0.25rem 0.5rem;\n  color: var(--text-primary);\n  font-size: 0.875rem;\n}\n.form-field-row .remove-field-btn {\n  background: none;\n  border: none;\n  color: var(--text-secondary);\n  cursor: pointer;\n  padding: 0.25rem;\n  transition: color 0.2s ease;\n}\n.form-field-row .remove-field-btn:hover {\n  color: #ef4444;\n}\n.btn-primary {\n  padding: 0.5rem 1rem;\n  border-radius: 0.5rem;\n  font-weight: 600;\n  color: var(--bg-card);\n  background: linear-gradient(145deg, var(--accent-color), var(--accent-color-hover));\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2), inset 0 1px 1px rgba(255, 255, 255, 0.2);\n  transition: all 0.2s ease-in-out;\n  cursor: pointer;\n}\n.btn-primary:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3), inset 0 1px 1px rgba(255, 255, 255, 0.2);\n}\n.btn-primary:active {\n  transform: translateY(0);\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2), inset 0 1px 1px rgba(255, 255, 255, 0.2);\n}\n.btn-primary:disabled {\n  background: var(--bg-secondary);\n}\n@supports (color: color-mix(in lab, red, red)) {\n  .btn-primary:disabled {\n    background: color-mix(in srgb, var(--bg-secondary) 50%, #888);\n  }\n}\n.btn-primary:disabled {\n  color: var(--text-secondary);\n  cursor: not-allowed;\n  transform: none;\n  box-shadow: none;\n}\n.btn-secondary {\n  padding: 0.5rem 1rem;\n  border-radius: 0.5rem;\n  font-weight: 600;\n  color: var(--text-secondary);\n  background-color: var(--bg-secondary);\n  border: 1px solid var(--border-color);\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  transition: all 0.2s ease-in-out;\n  cursor: pointer;\n}\n.btn-secondary:hover {\n  background-color: var(--bg-secondary);\n}\n@supports (color: color-mix(in lab, red, red)) {\n  .btn-secondary:hover {\n    background-color: color-mix(in srgb, var(--bg-secondary) 80%, #fff 20%);\n  }\n}\n.btn-secondary:hover {\n  color: var(--text-primary);\n  border-color: var(--accent-color);\n}\n.custom-slider {\n  position: relative;\n  overflow: hidden;\n  width: 100%;\n}\n.custom-slider-track {\n  display: flex;\n  transition: transform 0.3s ease-in-out;\n}\n.custom-slider-slide {\n  flex: 0 0 100%;\n  width: 100%;\n  padding: 0.25rem;\n  box-sizing: border-box;\n}\n.slider-controls {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 1rem;\n  margin-top: 1rem;\n}\n.slider-nav-btn {\n  width: 2.5rem;\n  height: 2.5rem;\n  background-color: var(--bg-secondary);\n  color: var(--text-secondary);\n  border: 1px solid var(--border-color);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.slider-nav-btn:hover:not(:disabled) {\n  background-color: var(--accent-color);\n  color: var(--bg-card);\n}\n.slider-nav-btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.slider-counter {\n  font-size: 0.875rem;\n  color: var(--text-secondary);\n  font-variant-numeric: tabular-nums;\n}\n::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n}\n::-webkit-scrollbar-track {\n  background: var(--bg-secondary);\n}\n@supports (color: color-mix(in lab, red, red)) {\n  ::-webkit-scrollbar-track {\n    background: color-mix(in srgb, var(--bg-secondary) 50%, transparent);\n  }\n}\n::-webkit-scrollbar-track {\n  border-radius: 10px;\n}\n::-webkit-scrollbar-thumb {\n  background-color: var(--accent-color);\n  border-radius: 10px;\n  border: 2px solid transparent;\n  background-clip: content-box;\n}\n::-webkit-scrollbar-thumb:hover {\n  background-color: var(--accent-color-hover);\n}\n@property --tw-rotate-x {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-rotate-y {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-rotate-z {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-skew-x {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-skew-y {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-border-style {\n  syntax: \"*\";\n  inherits: false;\n  initial-value: solid;\n}\n@property --tw-shadow {\n  syntax: \"*\";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-shadow-color {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-shadow-alpha {\n  syntax: \"<percentage>\";\n  inherits: false;\n  initial-value: 100%;\n}\n@property --tw-inset-shadow {\n  syntax: \"*\";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-inset-shadow-color {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-inset-shadow-alpha {\n  syntax: \"<percentage>\";\n  inherits: false;\n  initial-value: 100%;\n}\n@property --tw-ring-color {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-ring-shadow {\n  syntax: \"*\";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-inset-ring-color {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-inset-ring-shadow {\n  syntax: \"*\";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-ring-inset {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-ring-offset-width {\n  syntax: \"<length>\";\n  inherits: false;\n  initial-value: 0px;\n}\n@property --tw-ring-offset-color {\n  syntax: \"*\";\n  inherits: false;\n  initial-value: #fff;\n}\n@property --tw-ring-offset-shadow {\n  syntax: \"*\";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-outline-style {\n  syntax: \"*\";\n  inherits: false;\n  initial-value: solid;\n}\n@property --tw-blur {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-brightness {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-contrast {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-grayscale {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-hue-rotate {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-invert {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-opacity {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-saturate {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-sepia {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-drop-shadow {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-drop-shadow-color {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-drop-shadow-alpha {\n  syntax: \"<percentage>\";\n  inherits: false;\n  initial-value: 100%;\n}\n@property --tw-drop-shadow-size {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-backdrop-blur {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-backdrop-brightness {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-backdrop-contrast {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-backdrop-grayscale {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-backdrop-hue-rotate {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-backdrop-invert {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-backdrop-opacity {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-backdrop-saturate {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-backdrop-sepia {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-duration {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-scale-x {\n  syntax: \"*\";\n  inherits: false;\n  initial-value: 1;\n}\n@property --tw-scale-y {\n  syntax: \"*\";\n  inherits: false;\n  initial-value: 1;\n}\n@property --tw-scale-z {\n  syntax: \"*\";\n  inherits: false;\n  initial-value: 1;\n}\n@layer properties {\n  @supports ((-webkit-hyphens: none) and (not (margin-trim: inline))) or ((-moz-orient: inline) and (not (color:rgb(from red r g b)))) {\n    *, ::before, ::after, ::backdrop {\n      --tw-rotate-x: initial;\n      --tw-rotate-y: initial;\n      --tw-rotate-z: initial;\n      --tw-skew-x: initial;\n      --tw-skew-y: initial;\n      --tw-border-style: solid;\n      --tw-shadow: 0 0 #0000;\n      --tw-shadow-color: initial;\n      --tw-shadow-alpha: 100%;\n      --tw-inset-shadow: 0 0 #0000;\n      --tw-inset-shadow-color: initial;\n      --tw-inset-shadow-alpha: 100%;\n      --tw-ring-color: initial;\n      --tw-ring-shadow: 0 0 #0000;\n      --tw-inset-ring-color: initial;\n      --tw-inset-ring-shadow: 0 0 #0000;\n      --tw-ring-inset: initial;\n      --tw-ring-offset-width: 0px;\n      --tw-ring-offset-color: #fff;\n      --tw-ring-offset-shadow: 0 0 #0000;\n      --tw-outline-style: solid;\n      --tw-blur: initial;\n      --tw-brightness: initial;\n      --tw-contrast: initial;\n      --tw-grayscale: initial;\n      --tw-hue-rotate: initial;\n      --tw-invert: initial;\n      --tw-opacity: initial;\n      --tw-saturate: initial;\n      --tw-sepia: initial;\n      --tw-drop-shadow: initial;\n      --tw-drop-shadow-color: initial;\n      --tw-drop-shadow-alpha: 100%;\n      --tw-drop-shadow-size: initial;\n      --tw-backdrop-blur: initial;\n      --tw-backdrop-brightness: initial;\n      --tw-backdrop-contrast: initial;\n      --tw-backdrop-grayscale: initial;\n      --tw-backdrop-hue-rotate: initial;\n      --tw-backdrop-invert: initial;\n      --tw-backdrop-opacity: initial;\n      --tw-backdrop-saturate: initial;\n      --tw-backdrop-sepia: initial;\n      --tw-duration: initial;\n      --tw-scale-x: 1;\n      --tw-scale-y: 1;\n      --tw-scale-z: 1;\n    }\n  }\n}\n</style></head>\n\n<body class=\"p-4 sm:p-6 md:p-8 theme-transition\">\n\n  <!-- 右上角全局控制器 -->\n  <div class=\"global-controls\">\n    <!-- 图鉴管理按钮 -->\n    <button id=\"manage-pokedex-btn\" class=\"control-btn\" title=\"图鉴管理\">\n      <i class=\"fas fa-book-open\"></i>\n    </button>\n\n\n    <!-- 主题切换下拉菜单 -->\n    <div class=\"theme-switcher-dropdown\">\n      <button id=\"theme-dropdown-btn\" class=\"control-btn\" title=\"切换主题\">\n        <i class=\"fas fa-palette\"></i>\n      </button>\n      <div id=\"theme-options\" class=\"dropdown-content hidden\">\n        <button data-theme=\"night\" class=\"theme-btn\"><i class=\"fas fa-moon mr-2\"></i> 夜晚</button>\n        <button data-theme=\"day\" class=\"theme-btn\"><i class=\"fas fa-sun mr-2\"></i> 白天</button>\n        <button data-theme=\"jade\" class=\"theme-btn\"><i class=\"fas fa-leaf mr-2\"></i> 翠玉</button>\n        <button data-theme=\"classic\" class=\"theme-btn\"><i class=\"fas fa-scroll mr-2\"></i> 古典</button>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"max-w-4xl mx-auto space-y-6\">\n\n    <!-- 整个状态栏容器 -->\n    <div class=\"bg-main rounded-2xl border border-dim p-4 sm:p-6 shadow-2xl theme-transition\">\n      <div class=\"inner-box\">\n        <!-- 头部信息 -->\n        <div class=\"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 pb-4 border-b border-dim theme-transition\">\n          <h2 id=\"status-bar-title\" class=\"text-2xl font-bold text-accent mb-2 sm:mb-0\">\n            加载中...\n          </h2>\n          <div class=\"text-sm text-secondary space-y-1 sm:space-y-0 sm:space-x-4 sm:flex theme-transition\">\n            <span class=\"flex items-center\"><span class=\"emoji mr-2\"></span><span id=\"time-display\"></span></span>\n            <span class=\"flex items-center\"><span class=\"emoji mr-2\"></span><span id=\"location-display\"></span></span>\n          </div>\n        </div>\n\n        <!-- 可折叠的状态总览区域 -->\n        <details class=\"group\" open>\n          <summary class=\"font-bold text-lg cursor-pointer hover:text-accent transition-colors theme-transition flex justify-between items-center\">\n            <span class=\"flex items-center\"><i class=\"fas fa-users mr-2\"></i>状态总览</span>\n            <i class=\"fas fa-chevron-down transition-transform duration-300 group-open:rotate-180\"></i>\n          </summary>\n          <div id=\"characters-container\" class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 overflow-hidden transition-all duration-500 ease-in-out\">\n            <!-- JS动态填充角色卡片 -->\n          </div>\n        </details>\n\n        <!-- 分隔线 -->\n        <hr class=\"my-6 border-t border-dim theme-transition\">\n\n        <!-- 可折叠的庇护所区域 -->\n        <details class=\"group\">\n          <summary class=\"font-bold text-lg cursor-pointer hover:text-accent transition-colors theme-transition flex justify-between items-center\">\n            <span class=\"flex items-center\"><i class=\"fas fa-home mr-2\"></i>庇护所</span>\n            <i class=\"fas fa-chevron-down transition-transform duration-300 group-open:rotate-180\"></i>\n          </summary>\n          <div id=\"shelter-container\" class=\"mt-4 overflow-hidden transition-all duration-500 ease-in-out\">\n            <!-- JS动态填充庇护所信息 -->\n          </div>\n        </details>\n\n        <!-- 分隔线 -->\n        <hr class=\"my-6 border-t border-dim theme-transition\">\n\n        <!-- 可折叠的妖兽图鉴区域 -->\n        <details class=\"group\">\n          <summary class=\"font-bold text-lg cursor-pointer hover:text-accent transition-colors theme-transition flex justify-between items-center\">\n            <span class=\"flex items-center\"><i class=\"fas fa-paw mr-2\"></i>妖兽图鉴</span>\n            <i class=\"fas fa-chevron-down transition-transform duration-300 group-open:rotate-180\"></i>\n          </summary>\n          <div id=\"bestiary-container\" class=\"mt-4 overflow-hidden transition-all duration-500 ease-in-out\">\n            <!-- JS动态填充妖兽图鉴信息 -->\n          </div>\n        </details>\n\n        <!-- 分隔线 -->\n        <hr class=\"my-6 border-t border-dim theme-transition\">\n\n        <!-- 可折叠的植物图鉴区域 -->\n        <details class=\"group\">\n          <summary class=\"font-bold text-lg cursor-pointer hover:text-accent transition-colors theme-transition flex justify-between items-center\">\n            <span class=\"flex items-center\"><i class=\"fas fa-seedling mr-2\"></i>植物图鉴</span>\n            <i class=\"fas fa-chevron-down transition-transform duration-300 group-open:rotate-180\"></i>\n          </summary>\n          <div id=\"herbology-container\" class=\"mt-4 overflow-hidden transition-all duration-500 ease-in-out\">\n            <!-- JS动态填充植物图鉴信息 -->\n          </div>\n        </details>\n\n        <!-- 分隔线 -->\n        <hr class=\"my-6 border-t border-dim theme-transition\">\n\n        <!-- 可折叠的物品图鉴区域 -->\n        <details class=\"group\">\n          <summary class=\"font-bold text-lg cursor-pointer hover:text-accent transition-colors theme-transition flex justify-between items-center\">\n            <span class=\"flex items-center\"><i class=\"fas fa-box-open mr-2\"></i>物品图鉴</span>\n            <i class=\"fas fa-chevron-down transition-transform duration-300 group-open:rotate-180\"></i>\n          </summary>\n          <div id=\"inventory-container\" class=\"mt-4 overflow-hidden transition-all duration-500 ease-in-out\">\n            <!-- JS动态填充物品图鉴信息 -->\n          </div>\n        </details>\n\n        <!-- 分隔线 -->\n        <hr class=\"my-6 border-t border-dim theme-transition\">\n\n        <!-- 可折叠的系统区域 -->\n        <details class=\"group\">\n          <summary class=\"font-bold text-lg cursor-pointer hover:text-accent transition-colors theme-transition flex justify-between items-center\">\n            <span class=\"flex items-center\"><i class=\"fas fa-cogs mr-2\"></i>系统</span>\n            <i class=\"fas fa-chevron-down transition-transform duration-300 group-open:rotate-180\"></i>\n          </summary>\n          <div id=\"system-container\" class=\"mt-4 overflow-hidden transition-all duration-500 ease-in-out\">\n            <!-- JS动态填充系统信息 -->\n          </div>\n        </details>\n\n        <!-- 分隔线 -->\n        <hr class=\"my-6 border-t border-dim theme-transition\">\n\n        <!-- 行动选项 -->\n        <div>\n          <h3 class=\"font-bold text-lg mb-3 flex items-center\">\n            <i class=\"fas fa-tasks mr-2\"></i><span id=\"action-owner\" class=\"text-accent\"><!-- JS填充 --></span><span>的行动选项</span>\n          </h3>\n\n          <ul id=\"options-list\" class=\"space-y-3 cursor-pointer\">\n            <!-- JS动态填充选项列表 -->\n          </ul>\n\n          <!-- 自定义行动输入对话框 (将被JS移动) -->\n          <div id=\"custom-action-modal\" class=\"hidden\">\n            <div class=\"bg-main rounded-lg shadow-xl p-4 border border-dim\">\n              <h4 class=\"font-bold text-md mb-3 text-accent flex items-center\"><i class=\"fas fa-pen-nib mr-2\"></i>输入你的行动</h4>\n              <textarea id=\"custom-action-input\" class=\"w-full bg-secondary rounded border border-dim p-2 text-primary focus:ring-2 focus:ring-accent focus:outline-none theme-transition\" rows=\"3\" placeholder=\"你想做什么...\"></textarea>\n              <div class=\"flex justify-end space-x-3 mt-3\">\n                <button id=\"cancel-action-btn\" class=\"px-4 py-2 rounded bg-gray-600 hover:bg-gray-700 transition-colors theme-transition text-sm\">取消</button>\n                <button id=\"confirm-action-btn\" class=\"px-4 py-2 rounded bg-accent hover:bg-accent-hover transition-colors theme-transition text-white text-sm\">确认行动</button>\n              </div>\n            </div>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- 详情展示模态框 -->\n  <div id=\"details-modal\" class=\"modal-overlay hidden\">\n    <div class=\"modal-content\">\n      <button id=\"modal-close-btn\" class=\"modal-close-btn\">&times;</button>\n      <h3 id=\"modal-title\" class=\"modal-title\">详情</h3>\n      <div id=\"modal-body\" class=\"modal-body\">\n        <!-- JS动态填充内容 -->\n      </div>\n    </div>\n  </div>\n\n  <!-- 图鉴管理模态框 -->\n  <div id=\"pokedex-manager-modal\" class=\"modal-overlay hidden\">\n    <div class=\"modal-content\">\n      <button id=\"pokedex-manager-close-btn\" class=\"modal-close-btn\">&times;</button>\n      <h3 class=\"modal-title\">\n        <span>图鉴管理</span>\n        <button id=\"pokedex-help-btn\" class=\"help-btn\" title=\"帮助\">\n          <i class=\"fas fa-question\"></i>\n        </button>\n      </h3>\n      <div class=\"modal-body\">\n        <!-- 帮助信息容器 -->\n        <div id=\"pokedex-help-content\" class=\"hidden p-3 mb-4 text-xs rounded-lg bg-secondary/50 text-secondary border border-dim\">\n          <p class=\"font-bold mb-2 text-primary/80\">图鉴管理功能说明:</p>\n          <ul class=\"list-disc list-inside space-y-1\">\n            <li><b>图鉴总览:</b> 查看、编辑或删除已收录的所有图鉴条目。勾选条目后，点击下方的“注入选中项”按钮，可以将这些信息添加到当前楼层的变量中，让AI在下一次回应时“知道”这些内容。</li>\n            <li><b>添加条目:</b> 通过表单或JSON模式，手动向你的全局图鉴数据库中添加新的条目。</li>\n            <li><b>待收录条目:</b> 这里会自动列出当前楼层新出现的、但尚未被收录到全局图鉴的条目，方便你一键收录。</li>\n            <li><b>远程同步:</b> 与社区服务器进行数据交换，可以分享你独有的条目，也可以从社区获取他人分享的内容来丰富你的图鉴。</li>\n          </ul>\n        </div>\n        <!-- 主功能切换Tabs -->\n        <div class=\"flex border-b border-dim mb-4\">\n          <button data-tab=\"view\" class=\"main-tab-btn active\">图鉴总览</button>\n          <button data-tab=\"add\" class=\"main-tab-btn\">添加条目</button>\n        </div>\n\n        <!-- 查看 & 注入 Tab -->\n        <div id=\"pokedex-view-tab\" class=\"main-tab-content\">\n          <!-- New Discoveries Section -->\n          <div id=\"new-discoveries-section\" class=\"mb-4\">\n            <h4 class=\"font-bold text-lg mb-2 text-accent flex justify-between items-center\">\n              <span><i class=\"fas fa-lightbulb mr-2\"></i>待收录条目</span>\n              <button id=\"approve-discoveries-btn\" class=\"btn-secondary text-xs py-1 px-2\">\n                <i class=\"fas fa-check-double mr-1\"></i>一键收录选中项\n              </button>\n            </h4>\n            <div id=\"new-discoveries-list\" class=\"max-h-40 overflow-y-auto pr-2 border border-dim rounded-lg p-2 bg-secondary/30\">\n              <p class=\"text-center text-secondary p-4 text-sm\">正在检查新发现...</p>\n            </div>\n          </div>\n          <hr class=\"my-4 border-t border-dim theme-transition\">\n          <!-- \n            JS动态生成条目示例:\n            <li class=\"p-2 rounded-lg bg-secondary/50 flex justify-between items-center\">\n              <label class=\"flex items-center cursor-pointer flex-grow mr-4\">\n                <input type=\"checkbox\" class=\"mr-3\" data-type=\"妖兽\" data-name=\"示例妖兽\">\n                <span class=\"truncate\" title=\"示例妖兽\">示例妖兽</span>\n              </label>\n              <div class=\"space-x-2 flex-shrink-0\">\n                <button class=\"pokedex-edit-btn text-sm text-accent hover:text-accent-hover\" data-type=\"妖兽\" data-name=\"示例妖兽\" title=\"编辑\"><i class=\"fas fa-pencil-alt\"></i></button>\n                <button class=\"pokedex-delete-btn text-sm text-red-500 hover:text-red-400\" data-type=\"妖兽\" data-name=\"示例妖兽\" title=\"删除\"><i class=\"fas fa-trash\"></i></button>\n              </div>\n            </li> \n          -->\n          <div id=\"existing-pokedex-list\">\n            <p class=\"text-center text-secondary p-4\">正在加载图鉴...</p>\n          </div>\n          <hr class=\"my-4 border-t border-dim theme-transition\">\n          <div id=\"achievements-pokedex-list\">\n            <!-- JS将在此处填充成就的 <details> 块 -->\n          </div>\n        </div>\n\n        <!-- 添加新条目 Tab -->\n        <div id=\"pokedex-add-tab\" class=\"main-tab-content hidden\">\n          <!-- 模式切换Tabs -->\n          <div class=\"flex border-b border-dim mb-4\">\n            <button data-mode=\"form\" class=\"tab-btn active\">表单模式</button>\n            <button data-mode=\"json\" class=\"tab-btn\">JSON模式</button>\n          </div>\n\n          <!-- 表单模式内容 -->\n          <div id=\"form-mode-content\" class=\"tab-content\">\n            <div class=\"mb-4\">\n              <label class=\"block mb-2 text-sm font-medium\">图鉴类型:</label>\n              <div class=\"flex space-x-4\">\n                <label class=\"flex items-center\">\n                  <input type=\"radio\" name=\"entryType\" value=\"妖兽\" class=\"mr-2\" checked> 妖兽\n                </label>\n                <label class=\"flex items-center\">\n                  <input type=\"radio\" name=\"entryType\" value=\"植物\" class=\"mr-2\"> 植物\n                </label>\n                <label class=\"flex items-center\">\n                  <input type=\"radio\" name=\"entryType\" value=\"物品\" class=\"mr-2\"> 物品\n                </label>\n                <label class=\"flex items-center\">\n                  <input type=\"radio\" name=\"entryType\" value=\"成就\" class=\"mr-2\"> 成就\n                </label>\n              </div>\n            </div>\n            <div id=\"form-fields-container\" class=\"space-y-3 max-h-60 overflow-y-auto pr-2\">\n              <!-- JS will populate this with key-value input fields -->\n            </div>\n            <div class=\"mt-3\">\n              <button id=\"add-field-btn\" class=\"text-sm text-accent hover:text-accent-hover transition-colors p-1 rounded hover:bg-secondary\">\n                <i class=\"fas fa-plus mr-1\"></i>添加字段\n              </button>\n            </div>\n          </div>\n\n          <!-- JSON模式内容 -->\n          <div id=\"json-mode-content\" class=\"tab-content hidden\">\n            <div class=\"mb-4\">\n              <label class=\"block mb-2 text-sm font-medium\">图鉴类型 (将应用于所有条目):</label>\n              <div class=\"flex space-x-4\">\n                <label class=\"flex items-center\">\n                  <input type=\"radio\" name=\"jsonEntryType\" value=\"妖兽\" class=\"mr-2\" checked> 妖兽\n                </label>\n                <label class=\"flex items-center\">\n                  <input type=\"radio\" name=\"jsonEntryType\" value=\"植物\" class=\"mr-2\"> 植物\n                </label>\n                <label class=\"flex items-center\">\n                  <input type=\"radio\" name=\"jsonEntryType\" value=\"物品\" class=\"mr-2\"> 物品\n                </label>\n                <label class=\"flex items-center\">\n                  <input type=\"radio\" name=\"jsonEntryType\" value=\"成就\" class=\"mr-2\"> 成就\n                </label>\n              </div>\n            </div>\n            <div>\n              <label for=\"json-input\" class=\"block mb-2 text-sm font-medium\">JSON数据:</label>\n              <textarea id=\"json-input\" class=\"w-full bg-secondary rounded border border-dim p-2 text-primary focus:ring-2 focus:ring-accent focus:outline-none theme-transition font-mono\" rows=\"8\" placeholder='[&#10;  { \"名称\": \"xxx\", \"等级\": \"xxx\" },&#10;  { \"名称\": \"yyy\", \"习性\": \"yyy\" }&#10;]'></textarea>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"flex justify-end mt-4 pt-4 border-t border-dim\">\n        <button id=\"remote-sync-btn\" class=\"btn-secondary mr-auto\">\n          <i class=\"fas fa-cloud-upload-alt mr-2\"></i>远程同步\n        </button>\n        <button id=\"inject-pokedex-btn\" class=\"btn-primary\">\n          <i class=\"fas fa-sign-in-alt mr-2\"></i>注入选中项\n        </button>\n        <!-- \n          “确认添加” / “确认更新”按钮。\n          该按钮在“添加新条目”标签页下显示。\n          JS会根据是新建条目还是编辑条目，动态修改其文本。\n        -->\n        <button id=\"submit-entry-btn\" class=\"btn-primary hidden\">\n          <i class=\"fas fa-plus mr-2\"></i>确认添加\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <!-- 远程同步模态框 -->\n  <div id=\"remote-sync-modal\" class=\"modal-overlay hidden\">\n    <div class=\"modal-content\">\n      <button id=\"remote-sync-close-btn\" class=\"modal-close-btn\">&times;</button>\n      <h3 class=\"modal-title\">远程同步</h3>\n      <div class=\"modal-body\">\n        <div class=\"p-2 mb-4 text-xs text-center rounded-lg bg-secondary/50 text-secondary\">\n          <i class=\"fas fa-info-circle mr-1\"></i>\n          分享功能旨在共建一个丰富的图鉴数据库。请确保您分享的内容准确、无害。\n        </div>\n        <!-- Tabs for Submit/Fetch -->\n        <div class=\"flex border-b border-dim mb-4\">\n          <button data-tab=\"submit\" class=\"main-tab-btn active\">分享至社区</button>\n          <button data-tab=\"fetch\" class=\"main-tab-btn\">从社区获取</button>\n        </div>\n\n        <!-- Submit Tab -->\n        <div id=\"remote-submit-tab\" class=\"main-tab-content\">\n          <p class=\"text-sm text-secondary mb-2\">以下是您本地独有、尚未分享的条目。请选择要分享到社区的内容：</p>\n          <div class=\"mb-2\">\n            <label for=\"provider-name-input\" class=\"block mb-1 text-xs font-medium text-secondary\">贡献者署名 (可选):</label>\n            <input type=\"text\" id=\"provider-name-input\" class=\"w-full bg-secondary rounded border border-dim p-1.5 text-sm text-primary focus:ring-2 focus:ring-accent focus:outline-none theme-transition\" placeholder=\"留下你的大名\">\n          </div>\n          <div id=\"local-diff-list\" class=\"max-h-60 overflow-y-auto pr-2 border border-dim rounded-lg p-2 bg-secondary/30\">\n            <p class=\"text-center text-secondary p-4\">正在计算差异...</p>\n          </div>\n        </div>\n\n        <!-- Fetch Tab -->\n        <div id=\"remote-fetch-tab\" class=\"main-tab-content hidden\">\n          <p class=\"text-sm text-secondary mb-2\">以下是社区拥有、但您本地没有的条目。请选择要获取的内容：</p>\n          <div id=\"remote-diff-list\" class=\"max-h-60 overflow-y-auto pr-2 border border-dim rounded-lg p-2 bg-secondary/30\">\n            <p class=\"text-center text-secondary p-4\">请先点击下方按钮从社区获取列表。</p>\n          </div>\n        </div>\n      </div>\n      <div class=\"flex justify-between items-center mt-4 pt-4 border-t border-dim\">\n        <!-- This button will be shown/hidden by JS -->\n        <button id=\"fetch-from-remote-btn\" class=\"btn-secondary hidden\">\n          <i class=\"fas fa-cloud-download-alt mr-2\"></i>获取社区列表\n        </button>\n        \n        <!-- These containers will be toggled by JS -->\n        <div id=\"submit-to-remote-controls\">\n          <button id=\"submit-to-remote-btn\" class=\"btn-primary\">\n            <i class=\"fas fa-paper-plane mr-2\"></i>分享选中项\n          </button>\n        </div>\n        <div id=\"import-from-remote-controls\" class=\"hidden\">\n          <button id=\"import-from-remote-btn\" class=\"btn-primary\">\n            <i class=\"fas fa-download mr-2\"></i>导入选中项\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- 成就奖励模态框 -->\n  <div id=\"rewards-modal\" class=\"modal-overlay hidden\">\n    <div class=\"modal-content\">\n      <button id=\"rewards-modal-close-btn\" class=\"modal-close-btn\">&times;</button>\n      <div class=\"flex justify-between items-center mb-4 pb-2 border-b border-dim\">\n        <h3 class=\"modal-title\" style=\"border-bottom: none; margin-bottom: 0;\">兑换奖励</h3>\n        <button id=\"refresh-rewards-btn\" class=\"text-sm text-accent hover:text-accent-hover transition-colors p-1 rounded hover:bg-secondary\" title=\"刷新奖励列表\">\n          <i class=\"fas fa-sync-alt\"></i> 刷新\n        </button>\n      </div>\n      <div id=\"rewards-modal-body\" class=\"modal-body\">\n        <!-- JS动态填充奖励内容 -->\n      </div>\n      <p class=\"text-xs text-secondary mt-4 text-center\">每日仅可刷新一次，请谨慎选择。</p>\n    </div>\n  </div>\n\n<script>var __webpack_modules__ = {\n  \"./src/什么我要在玄幻修仙世界种田/index.scss\": \n  /*!**************************************!*\\\n  !*** ./src/什么我要在玄幻修仙世界种田/index.scss ***!\n  \\**************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n    eval(\"{__webpack_require__.r(__webpack_exports__);\\n// extracted by mini-css-extract-plugin\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwL2luZGV4LnNjc3MiLCJtYXBwaW5ncyI6IjtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS8uL3NyYy/ku4DkuYjmiJHopoHlnKjnjoTlubvkv67ku5nkuJbnlYznp43nlLAvaW5kZXguc2Nzcz8iXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQge307Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田/index.scss\\n\\n}\");\n  },\n  \"./src/什么我要在玄幻修仙世界种田/index.ts\": \n  /*!************************************!*\\\n  !*** ./src/什么我要在玄幻修仙世界种田/index.ts ***!\n  \\************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n    eval(\"{__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ \\\"./src/什么我要在玄幻修仙世界种田/index.scss\\\");\\n/* harmony import */ var _parser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parser */ \\\"./src/什么我要在玄幻修仙世界种田/parser.ts\\\");\\n/* harmony import */ var _pokedex__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pokedex */ \\\"./src/什么我要在玄幻修仙世界种田/pokedex.ts\\\");\\n/* harmony import */ var _systems__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./systems */ \\\"./src/什么我要在玄幻修仙世界种田/systems.ts\\\");\\n\\n\\n\\n\\nconst triggerAction = async (text, index) => {\\n    if (!text || text.trim().length === 0)\\n        return;\\n    try {\\n        // 获取当前楼层的变量\\n        const messageId = getCurrentMessageId();\\n        const variables = getVariables({ type: 'message', message_id: messageId });\\n        // 将行动选择也添加到变量中\\n        variables['行动选择'] = index + 1;\\n        // 将变量转换为字符串\\n        const variablesString = JSON.stringify(variables, null, 2);\\n        // 准备发送给AI的引导文本\\n        const preamble = `[OOC: 以下是发送给你的、用于驱动剧情的完整游戏状态。请仔细阅读并依据此状态和我选择的行动来生成后续情节。]\\\\n\\\\n**当前游戏状态**:\\\\n这是当前楼层的所有变量信息，它代表了游戏世界的完整快照，包括角色状态、物品、图鉴、系统进度等。请将这些信息作为你生成回应的唯一真实来源。`;\\n        // 将引导文本和变量JSON都包裹起来\\n        const wrappedContent = `<variables>\\\\n${preamble}\\\\n\\\\n${variablesString}\\\\n</variables>`;\\n        // 准备最终要发送的消息\\n        const messageToSend = `${wrappedContent}\\\\n\\\\n${text}`;\\n        // 使用 /send 命令发送消息\\n        const command = `/send ${messageToSend} | /trigger`;\\n        await triggerSlash(command);\\n        toastr.success(`已选择行动: ${text}`);\\n    }\\n    catch (error) {\\n        console.error(\\\"行动失败:\\\", error);\\n        toastr.error(\\\"行动失败，请查看控制台日志。\\\");\\n        // 如果失败，需要恢复选项列表\\n        const optionsList = $('#options-list');\\n        if (optionsList.hasClass('disabled')) {\\n            // 这里需要一个函数来重新渲染选项，暂时先移除disabled状态\\n            // 实际应用中可能需要调用 storyRenderer.renderActionOptions()\\n            optionsList.removeClass('disabled');\\n        }\\n    }\\n};\\nfunction initGlobalControls() {\\n    const bodyElement = document.body;\\n    const themeDropdownBtn = document.getElementById('theme-dropdown-btn');\\n    const themeOptions = document.getElementById('theme-options');\\n    const themeButtons = document.querySelectorAll('#theme-options .theme-btn');\\n    const savedTheme = localStorage.getItem('storyTheme') || 'night';\\n    const switchToTheme = (theme) => {\\n        bodyElement.classList.remove('day-mode', 'jade-mode', 'classic-mode');\\n        if (theme !== 'night') {\\n            bodyElement.classList.add(`${theme}-mode`);\\n        }\\n        localStorage.setItem('storyTheme', theme);\\n    };\\n    switchToTheme(savedTheme);\\n    themeDropdownBtn?.addEventListener('click', (e) => {\\n        e.stopPropagation();\\n        themeOptions?.classList.toggle('hidden');\\n    });\\n    themeButtons.forEach(button => {\\n        button.addEventListener('click', () => {\\n            const theme = button.getAttribute('data-theme');\\n            if (theme)\\n                switchToTheme(theme);\\n            themeOptions?.classList.add('hidden');\\n        });\\n    });\\n    document.addEventListener('click', (e) => {\\n        const dropdownContainer = document.querySelector('.theme-switcher-dropdown');\\n        if (dropdownContainer && !dropdownContainer.contains(e.target)) {\\n            themeOptions?.classList.add('hidden');\\n        }\\n    });\\n}\\nfunction initPokedexManager(storyRenderer, showModalWithData) {\\n    const managerBtn = document.getElementById('manage-pokedex-btn');\\n    const modal = document.getElementById('pokedex-manager-modal');\\n    const closeModalBtn = document.getElementById('pokedex-manager-close-btn');\\n    const mainTabs = modal?.querySelectorAll('.main-tab-btn');\\n    const viewTabContent = document.getElementById('pokedex-view-tab');\\n    const addTabContent = document.getElementById('pokedex-add-tab');\\n    const injectBtn = document.getElementById('inject-pokedex-btn');\\n    const submitEntryBtn = document.getElementById('submit-entry-btn');\\n    const helpBtn = document.getElementById('pokedex-help-btn');\\n    const helpContent = document.getElementById('pokedex-help-content');\\n    const formModeContent = document.getElementById('form-mode-content');\\n    const jsonModeContent = document.getElementById('json-mode-content');\\n    const addTabModeButtons = addTabContent?.querySelectorAll('.tab-btn');\\n    let currentAddMode = 'form';\\n    const formFieldsContainer = document.getElementById('form-fields-container');\\n    const addFieldBtn = document.getElementById('add-field-btn');\\n    const entryTypeRadios = document.querySelectorAll('input[name=\\\"entryType\\\"]');\\n    const jsonInput = document.getElementById('json-input');\\n    const createFormFieldRow = (key = '', value = '') => {\\n        const row = document.createElement('div');\\n        row.className = 'form-field-row';\\n        row.innerHTML = `\\n      <input type=\\\"text\\\" class=\\\"form-key-input\\\" placeholder=\\\"属性\\\" value=\\\"${key}\\\">\\n      <input type=\\\"text\\\" class=\\\"form-value-input\\\" placeholder=\\\"值\\\" value=\\\"${value}\\\">\\n      <button class=\\\"remove-field-btn\\\" title=\\\"移除此字段\\\"><i class=\\\"fas fa-times\\\"></i></button>\\n    `;\\n        row.querySelector('.remove-field-btn')?.addEventListener('click', () => row.remove());\\n        return row;\\n    };\\n    const addField = (key = '', value = '') => {\\n        formFieldsContainer?.appendChild(createFormFieldRow(key, value));\\n    };\\n    const updateFormFields = (type) => {\\n        if (!formFieldsContainer)\\n            return;\\n        formFieldsContainer.innerHTML = '';\\n        switch (type) {\\n            case '妖兽':\\n                addField('名称', '');\\n                addField('等级', '');\\n                addField('习性', '');\\n                break;\\n            case '植物':\\n                addField('名称', '');\\n                addField('品阶', '');\\n                addField('功效', '');\\n                break;\\n            case '物品':\\n                addField('名称', '');\\n                addField('品阶', '');\\n                addField('描述', '');\\n                break;\\n            case '成就':\\n                addField('名称', '');\\n                addField('描述', '');\\n                addField('日期', '');\\n                addField('点数', '0');\\n                break;\\n            default:\\n                addField('名称', '');\\n                break;\\n        }\\n    };\\n    const resetAddForm = () => {\\n        if (!submitEntryBtn)\\n            return;\\n        submitEntryBtn.innerHTML = '<i class=\\\"fas fa-plus mr-2\\\"></i>确认添加';\\n        delete submitEntryBtn.dataset.updateMode;\\n        delete submitEntryBtn.dataset.originalName;\\n        delete submitEntryBtn.dataset.originalType;\\n        const checkedRadio = document.querySelector('input[name=\\\"entryType\\\"]:checked');\\n        if (checkedRadio)\\n            updateFormFields(checkedRadio.value);\\n    };\\n    const populateViewTab = async () => {\\n        if (!viewTabContent)\\n            return;\\n        const discoveriesSection = document.getElementById('new-discoveries-section');\\n        const discoveriesList = document.getElementById('new-discoveries-list');\\n        // 1. Populate New Discoveries\\n        if (discoveriesList && discoveriesSection) {\\n            discoveriesList.innerHTML = `<p class=\\\"text-center text-secondary p-4 text-sm\\\">正在检查新发现...</p>`;\\n            const messageId = getCurrentMessageId();\\n            const messageVars = getVariables({ type: 'message', message_id: messageId });\\n            const messagePokedex = _.get(messageVars, '世界.图鉴', {});\\n            const globalPokedex = await _pokedex__WEBPACK_IMPORTED_MODULE_2__.getPokedexData();\\n            let diffHtml = '';\\n            let diffCount = 0;\\n            const types = ['妖兽', '植物', '物品'];\\n            types.forEach(type => {\\n                const messageEntries = messagePokedex[type] || [];\\n                const globalNames = new Set(globalPokedex[type].map(e => e.名称));\\n                const diffEntries = messageEntries.filter((e) => e.名称 && !globalNames.has(e.名称));\\n                if (diffEntries.length > 0) {\\n                    diffCount += diffEntries.length;\\n                    diffHtml += `<h4 class=\\\"font-semibold text-primary/90 mt-2 first:mt-0\\\">${type}</h4><ul>`;\\n                    diffEntries.forEach((entry) => {\\n                        diffHtml += `<li class=\\\"p-2 rounded-lg bg-main/50\\\"><label class=\\\"flex items-center cursor-pointer\\\"><input type=\\\"checkbox\\\" class=\\\"mr-3\\\" data-type=\\\"${type}\\\" data-name=\\\"${entry.名称}\\\" checked><span>${entry.名称}</span></label></li>`;\\n                    });\\n                    diffHtml += `</ul>`;\\n                }\\n            });\\n            if (diffCount === 0) {\\n                discoveriesSection.style.display = 'none';\\n            }\\n            else {\\n                discoveriesSection.style.display = 'block';\\n                discoveriesList.innerHTML = diffHtml;\\n            }\\n        }\\n        // 2. Populate Existing Pokedex\\n        const existingPokedexContainer = document.getElementById('existing-pokedex-list');\\n        if (!existingPokedexContainer)\\n            return;\\n        existingPokedexContainer.innerHTML = `<div class=\\\"flex justify-center items-center p-4\\\"><div class=\\\"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-400\\\"></div></div>`;\\n        const pokedexData = await _pokedex__WEBPACK_IMPORTED_MODULE_2__.getPokedexData();\\n        let html = '';\\n        const types = ['妖兽', '植物', '物品'];\\n        types.forEach(type => {\\n            const entries = pokedexData[type];\\n            html += `<details class=\\\"group\\\" open><summary class=\\\"font-bold text-lg cursor-pointer hover:text-accent transition-colors theme-transition flex justify-between items-center py-2\\\">${type}图鉴 (${entries.length})<i class=\\\"fas fa-chevron-down transition-transform duration-300 group-open:rotate-180\\\"></i></summary><ul class=\\\"space-y-2 mt-2\\\">`;\\n            if (entries.length > 0) {\\n                entries.forEach(entry => {\\n                    html += `\\n            <li class=\\\"p-2 rounded-lg bg-secondary/50 flex justify-between items-center\\\">\\n              <label class=\\\"flex items-center cursor-pointer flex-grow mr-4\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"mr-3\\\" data-type=\\\"${type}\\\" data-name=\\\"${entry.名称}\\\">\\n                <span class=\\\"truncate\\\" title=\\\"${entry.名称}\\\">${entry.名称}</span>\\n              </label>\\n              <div class=\\\"space-x-2 flex-shrink-0\\\">\\n                <button class=\\\"pokedex-view-btn text-sm text-blue-400 hover:text-blue-300 transition-colors p-1\\\" data-type=\\\"${type}\\\" data-name=\\\"${entry.名称}\\\" title=\\\"查看\\\"><i class=\\\"fas fa-eye\\\"></i></button>\\n                <button class=\\\"pokedex-edit-btn text-sm text-accent hover:text-accent-hover transition-colors p-1\\\" data-type=\\\"${type}\\\" data-name=\\\"${entry.名称}\\\" title=\\\"编辑\\\"><i class=\\\"fas fa-pencil-alt\\\"></i></button>\\n                <button class=\\\"pokedex-delete-btn text-sm text-red-500 hover:text-red-400 transition-colors p-1\\\" data-type=\\\"${type}\\\" data-name=\\\"${entry.名称}\\\" title=\\\"删除\\\"><i class=\\\"fas fa-trash\\\"></i></button>\\n              </div>\\n            </li>`;\\n                });\\n            }\\n            else {\\n                html += `<li class=\\\"text-secondary text-sm italic p-2\\\">暂无条目</li>`;\\n            }\\n            html += `</ul></details>`;\\n        });\\n        existingPokedexContainer.innerHTML = html;\\n        // 3. Populate Achievements\\n        const achievementsContainer = document.getElementById('achievements-pokedex-list');\\n        if (achievementsContainer) {\\n            const systemData = await _pokedex__WEBPACK_IMPORTED_MODULE_2__.getSystemData();\\n            const achievements = systemData.已完成 || [];\\n            const points = systemData.成就点数 || 0;\\n            let achievementsHtml = `\\n        <details class=\\\"group\\\" open>\\n          <summary class=\\\"font-bold text-lg cursor-pointer hover:text-accent transition-colors theme-transition flex justify-between items-center py-2\\\">\\n            成就图鉴 (已解锁 ${achievements.length}, 共 ${points} 点)\\n            <i class=\\\"fas fa-chevron-down transition-transform duration-300 group-open:rotate-180\\\"></i>\\n          </summary>\\n          <ul class=\\\"space-y-2 mt-2\\\">\\n      `;\\n            if (achievements.length > 0) {\\n                achievements.forEach((ach) => {\\n                    const achName = ach['名称'];\\n                    achievementsHtml += `\\n            <li class=\\\"p-3 rounded-lg bg-secondary/50 border border-dim flex justify-between items-center\\\">\\n              <div class=\\\"flex-grow\\\">\\n                <p class=\\\"font-semibold text-primary flex justify-between items-center\\\">\\n                  <span><i class=\\\"fas fa-trophy mr-2 text-yellow-400\\\"></i>${achName}</span>\\n                  <span class=\\\"text-xs font-normal text-secondary\\\">${ach['日期'] || ''}</span>\\n                </p>\\n                <p class=\\\"text-sm text-secondary mt-1 pl-6\\\">${ach['描述'] || '没有描述。'}</p>\\n              </div>\\n              <div class=\\\"space-x-2 flex-shrink-0 ml-4\\\">\\n                <button class=\\\"pokedex-edit-btn text-sm text-accent hover:text-accent-hover transition-colors p-1\\\" data-type=\\\"成就\\\" data-name=\\\"${achName}\\\" title=\\\"编辑\\\"><i class=\\\"fas fa-pencil-alt\\\"></i></button>\\n                <button class=\\\"pokedex-delete-btn text-sm text-red-500 hover:text-red-400 transition-colors p-1\\\" data-type=\\\"成就\\\" data-name=\\\"${achName}\\\" title=\\\"删除\\\"><i class=\\\"fas fa-trash\\\"></i></button>\\n              </div>\\n            </li>\\n          `;\\n                });\\n            }\\n            else {\\n                achievementsHtml += `<li class=\\\"text-secondary text-sm italic p-2\\\">尚未解锁任何成就</li>`;\\n            }\\n            achievementsHtml += `</ul></details>`;\\n            achievementsContainer.innerHTML = achievementsHtml;\\n        }\\n    };\\n    const showModal = async () => {\\n        await populateViewTab();\\n        modal?.classList.remove('hidden');\\n    };\\n    const hideModal = () => modal?.classList.add('hidden');\\n    managerBtn?.addEventListener('click', showModal);\\n    closeModalBtn?.addEventListener('click', hideModal);\\n    modal?.addEventListener('click', (e) => {\\n        if (e.target === modal)\\n            hideModal();\\n    });\\n    helpBtn?.addEventListener('click', () => {\\n        helpContent?.classList.toggle('hidden');\\n        helpBtn.classList.toggle('active');\\n    });\\n    document.getElementById('approve-discoveries-btn')?.addEventListener('click', async () => {\\n        const checkboxes = document.querySelectorAll('#new-discoveries-list input[type=\\\"checkbox\\\"]:checked');\\n        if (checkboxes.length === 0) {\\n            toastr.warning('请至少选择一个要收录的条目。');\\n            return;\\n        }\\n        const messageId = getCurrentMessageId();\\n        const messageVars = getVariables({ type: 'message', message_id: messageId });\\n        const messagePokedex = _.get(messageVars, '世界.图鉴', {});\\n        let successCount = 0;\\n        for (const cb of checkboxes) {\\n            const type = cb.dataset.type;\\n            const name = cb.dataset.name;\\n            if (type && name && messagePokedex[type]) {\\n                const entry = messagePokedex[type].find((e) => e.名称 === name);\\n                if (entry) {\\n                    if (await _pokedex__WEBPACK_IMPORTED_MODULE_2__.createPokedexEntry(type, entry)) {\\n                        successCount++;\\n                    }\\n                }\\n            }\\n        }\\n        if (successCount > 0) {\\n            toastr.success(`成功收录了 ${successCount} 个新条目！`);\\n            await populateViewTab();\\n        }\\n    });\\n    mainTabs?.forEach(button => {\\n        button.addEventListener('click', () => {\\n            const tab = button.getAttribute('data-tab');\\n            mainTabs.forEach(btn => btn.classList.remove('active'));\\n            button.classList.add('active');\\n            resetAddForm();\\n            viewTabContent?.classList.add('hidden');\\n            addTabContent?.classList.add('hidden');\\n            injectBtn?.classList.add('hidden');\\n            submitEntryBtn?.classList.add('hidden');\\n            if (tab === 'view') {\\n                viewTabContent?.classList.remove('hidden');\\n                injectBtn?.classList.remove('hidden');\\n            }\\n            else if (tab === 'add') {\\n                addTabContent?.classList.remove('hidden');\\n                submitEntryBtn?.classList.remove('hidden');\\n            }\\n        });\\n    });\\n    injectBtn?.addEventListener('click', async () => {\\n        const selectedEntries = {};\\n        const checkboxes = modal?.querySelectorAll('#pokedex-view-tab input[type=\\\"checkbox\\\"]:checked');\\n        if (!checkboxes || checkboxes.length === 0) {\\n            toastr.warning('请至少选择一个要注入的条目。');\\n            return;\\n        }\\n        const pokedexData = await _pokedex__WEBPACK_IMPORTED_MODULE_2__.getPokedexData();\\n        checkboxes.forEach(cb => {\\n            const type = cb.dataset.type;\\n            const name = cb.dataset.name;\\n            if (type && name) {\\n                const entry = pokedexData[type].find(e => e.名称 === name);\\n                if (entry) {\\n                    if (!selectedEntries[type]) {\\n                        selectedEntries[type] = [];\\n                    }\\n                    selectedEntries[type].push(entry);\\n                }\\n            }\\n        });\\n        if (_.isEmpty(selectedEntries))\\n            return;\\n        const messageId = getCurrentMessageId();\\n        const currentVars = getVariables({ type: 'message', message_id: messageId });\\n        const updates = {};\\n        for (const [type, entries] of Object.entries(selectedEntries)) {\\n            const path = `世界.图鉴.${type}`;\\n            const existingEntries = _.get(currentVars, path, []);\\n            const newEntries = _.unionBy(existingEntries, entries, '名称');\\n            _.set(updates, path, newEntries);\\n        }\\n        await insertOrAssignVariables(updates, { type: 'message', message_id: messageId });\\n        toastr.success('成功注入图鉴到当前楼层！');\\n        hideModal();\\n        storyRenderer.init();\\n    });\\n    addTabModeButtons?.forEach(button => {\\n        button.addEventListener('click', () => {\\n            const mode = button.getAttribute('data-mode');\\n            if (!mode || mode === currentAddMode)\\n                return;\\n            currentAddMode = mode;\\n            addTabModeButtons.forEach(btn => btn.classList.remove('active'));\\n            button.classList.add('active');\\n            if (mode === 'form') {\\n                formModeContent?.classList.remove('hidden');\\n                jsonModeContent?.classList.add('hidden');\\n            }\\n            else {\\n                formModeContent?.classList.add('hidden');\\n                jsonModeContent?.classList.remove('hidden');\\n            }\\n        });\\n    });\\n    const checkedRadio = document.querySelector('input[name=\\\"entryType\\\"]:checked');\\n    if (checkedRadio)\\n        updateFormFields(checkedRadio.value);\\n    addFieldBtn?.addEventListener('click', () => addField());\\n    entryTypeRadios.forEach(radio => {\\n        radio.addEventListener('change', (e) => {\\n            updateFormFields(e.target.value);\\n        });\\n    });\\n    submitEntryBtn?.addEventListener('click', async () => {\\n        const isUpdate = submitEntryBtn.dataset.updateMode === 'true';\\n        if (currentAddMode === 'form') {\\n            const type = document.querySelector('input[name=\\\"entryType\\\"]:checked')?.value;\\n            const newEntry = { '名称': '' };\\n            const rows = formFieldsContainer?.querySelectorAll('.form-field-row');\\n            rows?.forEach(row => {\\n                const key = row.querySelector('.form-key-input')?.value.trim();\\n                const value = row.querySelector('.form-value-input')?.value.trim();\\n                if (key)\\n                    newEntry[key] = value;\\n            });\\n            if (!newEntry.名称) {\\n                toastr.warning('“名称”是必填字段！');\\n                return;\\n            }\\n            if (isUpdate) {\\n                const originalName = submitEntryBtn.dataset.originalName;\\n                const originalType = submitEntryBtn.dataset.originalType;\\n                if (!originalName || !originalType || !type) {\\n                    toastr.error('更新失败：缺少必要信息。');\\n                    return;\\n                }\\n                if (originalType === type) {\\n                    // Type hasn't changed, just update\\n                    if (type === '成就') {\\n                        await _pokedex__WEBPACK_IMPORTED_MODULE_2__.updateAchievement(originalName, newEntry);\\n                    }\\n                    else {\\n                        await _pokedex__WEBPACK_IMPORTED_MODULE_2__.updatePokedexEntry(type, originalName, newEntry);\\n                    }\\n                }\\n                else {\\n                    // Type has changed, so we delete the old and create a new one\\n                    if (originalType === '成就') {\\n                        await _pokedex__WEBPACK_IMPORTED_MODULE_2__.deleteAchievement(originalName);\\n                    }\\n                    else {\\n                        await _pokedex__WEBPACK_IMPORTED_MODULE_2__.deletePokedexEntry(originalType, originalName);\\n                    }\\n                    if (type === '成就') {\\n                        await _pokedex__WEBPACK_IMPORTED_MODULE_2__.createAchievement(newEntry);\\n                    }\\n                    else {\\n                        await _pokedex__WEBPACK_IMPORTED_MODULE_2__.createPokedexEntry(type, newEntry);\\n                    }\\n                    toastr.info(`条目已从“${originalType}”移动到“${type}”`);\\n                }\\n                resetAddForm();\\n            }\\n            else {\\n                // Create new entry\\n                if (!type) {\\n                    toastr.warning('请选择条目类型！');\\n                    return;\\n                }\\n                if (type === '成就') {\\n                    const success = await _pokedex__WEBPACK_IMPORTED_MODULE_2__.createAchievement(newEntry);\\n                    if (success)\\n                        updateFormFields(type);\\n                }\\n                else {\\n                    const success = await _pokedex__WEBPACK_IMPORTED_MODULE_2__.createPokedexEntry(type, newEntry);\\n                    if (success) {\\n                        updateFormFields(type);\\n                    }\\n                }\\n            }\\n        }\\n        else if (currentAddMode === 'json') { // JSON mode\\n            const type = document.querySelector('input[name=\\\"jsonEntryType\\\"]:checked')?.value;\\n            const jsonString = jsonInput?.value.trim();\\n            if (!jsonString) {\\n                toastr.warning('请输入JSON数据！');\\n                return;\\n            }\\n            try {\\n                const data = JSON.parse(jsonString);\\n                const entries = Array.isArray(data) ? data : [data];\\n                let successCount = 0;\\n                if (type === '成就') {\\n                    for (const entry of entries) {\\n                        if (await _pokedex__WEBPACK_IMPORTED_MODULE_2__.createAchievement(entry)) {\\n                            successCount++;\\n                        }\\n                    }\\n                    if (successCount > 0) {\\n                        toastr.success(`成功处理 ${successCount} 个新成就！`);\\n                        jsonInput.value = '';\\n                    }\\n                }\\n                else {\\n                    for (const entry of entries) {\\n                        if (await _pokedex__WEBPACK_IMPORTED_MODULE_2__.createPokedexEntry(type, entry)) {\\n                            successCount++;\\n                        }\\n                    }\\n                    if (successCount > 0)\\n                        jsonInput.value = '';\\n                }\\n            }\\n            catch (error) {\\n                toastr.error('JSON解析失败，请检查格式！');\\n                console.error(\\\"JSON parsing failed:\\\", error);\\n            }\\n        }\\n        await populateViewTab();\\n    });\\n    viewTabContent?.addEventListener('click', async (e) => {\\n        const target = e.target;\\n        const deleteButton = target.closest('.pokedex-delete-btn');\\n        const editButton = target.closest('.pokedex-edit-btn');\\n        const viewButton = target.closest('.pokedex-view-btn');\\n        if (viewButton) {\\n            const type = viewButton.getAttribute('data-type');\\n            const name = viewButton.getAttribute('data-name');\\n            if (type && name) {\\n                if (type === '成就') {\\n                    const achievements = await _pokedex__WEBPACK_IMPORTED_MODULE_2__.getAchievements();\\n                    const entry = achievements.find((ach) => ach['名称'] === name);\\n                    if (entry)\\n                        showModalWithData(entry);\\n                }\\n                else {\\n                    const entry = await _pokedex__WEBPACK_IMPORTED_MODULE_2__.readPokedexEntry(type, name);\\n                    if (entry) {\\n                        showModalWithData(entry);\\n                    }\\n                }\\n            }\\n        }\\n        if (deleteButton) {\\n            const type = deleteButton.getAttribute('data-type');\\n            const name = deleteButton.getAttribute('data-name');\\n            if (type && name) {\\n                if (confirm(`确定要删除 ${type} 图鉴中的 “${name}” 吗？此操作不可撤销。`)) {\\n                    let success = false;\\n                    if (type === '成就') {\\n                        success = await _pokedex__WEBPACK_IMPORTED_MODULE_2__.deleteAchievement(name);\\n                    }\\n                    else {\\n                        success = await _pokedex__WEBPACK_IMPORTED_MODULE_2__.deletePokedexEntry(type, name);\\n                    }\\n                    if (success) {\\n                        await populateViewTab();\\n                    }\\n                }\\n            }\\n        }\\n        if (editButton) {\\n            const type = editButton.getAttribute('data-type');\\n            const name = editButton.getAttribute('data-name');\\n            if (type && name) {\\n                let entry = null;\\n                if (type === '成就') {\\n                    const achievements = await _pokedex__WEBPACK_IMPORTED_MODULE_2__.getAchievements();\\n                    entry = achievements.find((ach) => ach['名称'] === name) ?? null;\\n                }\\n                else {\\n                    entry = (await _pokedex__WEBPACK_IMPORTED_MODULE_2__.readPokedexEntry(type, name)) ?? null;\\n                }\\n                if (entry) {\\n                    mainTabs?.forEach(btn => btn.classList.toggle('active', btn.getAttribute('data-tab') === 'add'));\\n                    viewTabContent?.classList.add('hidden');\\n                    addTabContent?.classList.remove('hidden');\\n                    injectBtn?.classList.add('hidden');\\n                    submitEntryBtn?.classList.remove('hidden');\\n                    addTabModeButtons?.forEach(btn => btn.classList.toggle('active', btn.getAttribute('data-mode') === 'form'));\\n                    formModeContent?.classList.remove('hidden');\\n                    jsonModeContent?.classList.add('hidden');\\n                    currentAddMode = 'form';\\n                    document.querySelector(`input[name=\\\"entryType\\\"][value=\\\"${type}\\\"]`).checked = true;\\n                    if (formFieldsContainer)\\n                        formFieldsContainer.innerHTML = '';\\n                    Object.entries(entry).forEach(([key, value]) => {\\n                        addField(key, String(value));\\n                    });\\n                    submitEntryBtn.innerHTML = '<i class=\\\"fas fa-check mr-2\\\"></i>确认更新';\\n                    submitEntryBtn.dataset.updateMode = 'true';\\n                    submitEntryBtn.dataset.originalName = name;\\n                    submitEntryBtn.dataset.originalType = type;\\n                }\\n            }\\n        }\\n    });\\n}\\nclass StoryRenderer {\\n    yamlData;\\n    rawYamlContent;\\n    rootNodeKey;\\n    elements;\\n    rawJsonContent = null;\\n    jsonData = null;\\n    constructor() {\\n        this.yamlData = null;\\n        this.rawYamlContent = \\\"\\\";\\n        this.rootNodeKey = null;\\n        this.elements = {\\n            statusBarTitle: document.getElementById('status-bar-title'),\\n            timeDisplay: document.getElementById('time-display'),\\n            locationDisplay: document.getElementById('location-display'),\\n            charactersContainer: document.getElementById('characters-container'),\\n            actionOwner: document.getElementById('action-owner'),\\n            optionsList: document.getElementById('options-list'),\\n            systemContainer: document.getElementById('system-container'),\\n            shelterContainer: document.getElementById('shelter-container'),\\n            bestiaryContainer: document.getElementById('bestiary-container'),\\n            herbologyContainer: document.getElementById('herbology-container'),\\n            inventoryContainer: document.getElementById('inventory-container')\\n        };\\n    }\\n    handleCompatibility() {\\n        if (!this.rootNodeKey || !this.jsonData)\\n            return;\\n        const rootData = this.jsonData[this.rootNodeKey];\\n        let modified = false;\\n        if (!this.findFieldByKeywords(rootData, ['庇护所'])) {\\n            rootData['🏡 庇护所'] = {};\\n            modified = true;\\n        }\\n        if (!this.findFieldByKeywords(rootData, ['妖兽图鉴'])) {\\n            rootData['🐾 妖兽图鉴'] = { '已发现': 0, '已收录': [] };\\n            modified = true;\\n        }\\n        if (!this.findFieldByKeywords(rootData, ['植物图鉴'])) {\\n            rootData['🌿 植物图鉴'] = { '已发现': 0, '已种植': [] };\\n            modified = true;\\n        }\\n        if (modified) {\\n            toastr.info('检测到旧版状态栏，已自动补充缺失的字段以兼容。');\\n        }\\n    }\\n    async init() {\\n        console.log('[StoryRenderer] Initializing...');\\n        this.setLoadingState();\\n        try {\\n            this.rawJsonContent = this.getRawContentFromChatMessage();\\n            console.log('[StoryRenderer] Raw JSON content loaded:', this.rawJsonContent);\\n            if (!this.rawJsonContent) {\\n                toastr.error('未能在最新消息中找到JSON数据。');\\n                return;\\n            }\\n            let parsedJson;\\n            try {\\n                parsedJson = JSON.parse(this.rawJsonContent);\\n            }\\n            catch (error) {\\n                console.error('JSON parsing failed:', error);\\n                this.handleParsingFailure(this.rawJsonContent, error);\\n                return;\\n            }\\n            this.jsonData = parsedJson;\\n            if (!this.jsonData) {\\n                toastr.error('JSON数据格式不正确');\\n                return;\\n            }\\n            this.findRootNodeKey();\\n            this.handleCompatibility();\\n            await this.syncVariables();\\n            this.renderAll();\\n            const savedTheme = localStorage.getItem('storyTheme') || 'night';\\n            const themeButton = document.querySelector(`.theme-btn[data-theme=\\\"${savedTheme}\\\"]`);\\n            if (themeButton)\\n                themeButton.click();\\n            toastr.success('状态栏已成功加载并渲染！');\\n        }\\n        catch (error) {\\n            console.error('渲染失败:', error);\\n            this.handleError(error);\\n        }\\n    }\\n    getRawContentFromChatMessage() {\\n        try {\\n            const messageId = getCurrentMessageId();\\n            if (messageId === null || messageId === undefined) {\\n                toastr.error('无法获取当前消息 ID。');\\n                return '';\\n            }\\n            const message = getChatMessages(messageId)[0];\\n            if (!message || !message.message)\\n                return '';\\n            return (0,_parser__WEBPACK_IMPORTED_MODULE_1__.extractJsonFromStatusBar)(message.message);\\n        }\\n        catch (e) {\\n            console.error(\\\"获取聊天消息失败:\\\", e);\\n            toastr.error('获取或处理聊天消息时出错，请检查控制台。');\\n            return '';\\n        }\\n    }\\n    setLoadingState() {\\n        if (this.elements.charactersContainer)\\n            this.elements.charactersContainer.innerHTML = this.createSpinner();\\n        if (this.elements.optionsList)\\n            this.elements.optionsList.innerHTML = `<li>${this.createSpinner()}</li>`;\\n    }\\n    createSpinner() {\\n        return `<div class=\\\"flex justify-center items-center p-4\\\"><div class=\\\"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-400\\\"></div></div>`;\\n    }\\n    findRootNodeKey() {\\n        const keys = Object.keys(this.jsonData);\\n        this.rootNodeKey = keys.find(key => key.includes('状态总览') || key.includes('角色状态总览')) || keys[0];\\n        if (!this.rootNodeKey) {\\n            toastr.error('未找到根节点');\\n            return;\\n        }\\n        if (this.elements.statusBarTitle)\\n            this.elements.statusBarTitle.textContent = \\\"状态总览\\\";\\n    }\\n    findFieldByKeywords(data, keywords) {\\n        if (!data || typeof data !== 'object')\\n            return null;\\n        const fields = Object.keys(data);\\n        for (const field of fields) {\\n            for (const keyword of keywords) {\\n                if (field.toLowerCase().includes(keyword.toLowerCase()))\\n                    return field;\\n            }\\n        }\\n        return null;\\n    }\\n    renderAll() {\\n        if (!this.rootNodeKey)\\n            return;\\n        const rootData = this.jsonData[this.rootNodeKey];\\n        this.renderHeaderInfo(rootData);\\n        this.renderCharacters(rootData);\\n        this.renderShelter(rootData);\\n        this.renderPokedexFromMessageVars();\\n        this.renderSystem(rootData);\\n        this.renderActionOptions(rootData);\\n    }\\n    renderHeaderInfo(data) {\\n        const dateTimeField = this.findFieldByKeywords(data, ['日期', '时间']);\\n        const locationField = this.findFieldByKeywords(data, ['地点', '环境']);\\n        const timeDisplayParent = this.elements.timeDisplay?.parentNode;\\n        const locationDisplayParent = this.elements.locationDisplay?.parentNode;\\n        if (dateTimeField && this.elements.timeDisplay && timeDisplayParent) {\\n            this.elements.timeDisplay.textContent = this.formatNodeName(data[dateTimeField], true);\\n            const emojiEl = timeDisplayParent.querySelector('.emoji');\\n            if (emojiEl)\\n                emojiEl.textContent = this.extractEmojis(data[dateTimeField])[0] || '🗓️';\\n        }\\n        if (locationField && this.elements.locationDisplay && locationDisplayParent) {\\n            this.elements.locationDisplay.textContent = this.formatNodeName(data[locationField], true);\\n            const emojiEl = locationDisplayParent.querySelector('.emoji');\\n            if (emojiEl)\\n                emojiEl.textContent = this.extractEmojis(data[locationField])[0] || '🏞️';\\n        }\\n    }\\n    renderCharacters(data) {\\n        const charListKey = this.findFieldByKeywords(data, ['角色', '列表', '人物']);\\n        if (this.elements.charactersContainer) {\\n            this.elements.charactersContainer.innerHTML = '';\\n            if (charListKey && Array.isArray(data[charListKey])) {\\n                data[charListKey].forEach((charData) => {\\n                    const card = this.createCharacterCard(charData);\\n                    if (card)\\n                        this.elements.charactersContainer.appendChild(card);\\n                });\\n            }\\n            else {\\n                this.elements.charactersContainer.innerHTML = this.createEmptyState('没有角色数据');\\n            }\\n        }\\n    }\\n    renderSystem(data) {\\n        const systemContainer = this.elements.systemContainer;\\n        if (systemContainer) {\\n            const messageId = getCurrentMessageId();\\n            const variables = getVariables({ type: 'message', message_id: messageId });\\n            const systemData = _.get(variables, '世界.系统', null);\\n            (0,_systems__WEBPACK_IMPORTED_MODULE_3__.renderSystem)(systemData, systemContainer);\\n        }\\n    }\\n    renderShelter(data) {\\n        const shelterKey = this.findFieldByKeywords(data, ['庇护所']);\\n        if (this.elements.shelterContainer) {\\n            this.elements.shelterContainer.innerHTML = '';\\n            if (shelterKey && typeof data[shelterKey] === 'object' && data[shelterKey] !== null) {\\n                const shelterData = data[shelterKey];\\n                const card = this.createCharacterCard({ [shelterKey]: shelterData });\\n                if (card)\\n                    this.elements.shelterContainer.appendChild(card);\\n            }\\n            else {\\n                this.elements.shelterContainer.innerHTML = this.createEmptyState('暂无庇护所信息');\\n            }\\n        }\\n    }\\n    renderPokedexFromMessageVars() {\\n        const messageId = getCurrentMessageId();\\n        const variables = getVariables({ type: 'message', message_id: messageId });\\n        const pokedexData = _.get(variables, '世界.图鉴', {});\\n        const renderSinglePokedex = (container, data, name, emptyText) => {\\n            if (container) {\\n                container.innerHTML = '';\\n                if (data && data.length > 0) {\\n                    const card = this.createCharacterCard({ [`${name}图鉴 (已发现 ${data.length})`]: data });\\n                    if (card)\\n                        container.appendChild(card);\\n                }\\n                else {\\n                    container.innerHTML = this.createEmptyState(emptyText);\\n                }\\n            }\\n        };\\n        renderSinglePokedex(this.elements.bestiaryContainer, pokedexData['妖兽'], '妖兽', '妖兽图鉴待解锁');\\n        renderSinglePokedex(this.elements.herbologyContainer, pokedexData['植物'], '植物', '植物图鉴待解锁');\\n        renderSinglePokedex(this.elements.inventoryContainer, pokedexData['物品'], '物品', '物品图鉴是空的');\\n    }\\n    async syncVariables() {\\n        if (!this.rootNodeKey || !this.jsonData)\\n            return;\\n        try {\\n            const currentMessageId = getCurrentMessageId();\\n            if (currentMessageId === null) {\\n                console.warn('[StoryRenderer] 无法获取当前消息ID，跳过同步。');\\n                return;\\n            }\\n            const rootData = this.jsonData[this.rootNodeKey];\\n            const currentVars = getVariables({ type: 'message', message_id: currentMessageId });\\n            const lastSyncId = _.get(currentVars, '世界.lastSyncMessageId', -1);\\n            // 核心逻辑：只有当当前消息ID大于等于最后同步ID时才执行更新\\n            if (currentMessageId >= lastSyncId) {\\n                const updates = {};\\n                const sectionsToSync = [\\n                    { keyWords: ['庇护所'], varPath: '世界.庇护所' },\\n                    { keyWords: ['妖兽图鉴'], varPath: '世界.图鉴.妖兽' },\\n                    { keyWords: ['植物图鉴'], varPath: '世界.图鉴.植物' },\\n                    { keyWords: ['物品图鉴'], varPath: '世界.图鉴.物品' }\\n                ];\\n                // 单独处理系统，确保它只在变量不存在时从JSON初始化一次\\n                const systemDataInJson = this.findFieldByKeywords(rootData, ['系统']);\\n                if (systemDataInJson && rootData[systemDataInJson]) {\\n                    const newSystemData = rootData[systemDataInJson];\\n                    const currentSystemData = _.get(currentVars, '世界.系统', {});\\n                    // 检查是否有新成就解锁\\n                    if (newSystemData['新成就']) {\\n                        const newAchievements = Array.isArray(newSystemData['新成就']) ? newSystemData['新成就'] : [newSystemData['新成就']];\\n                        const updatedAchievements = _.cloneDeep(_.get(currentSystemData, '已完成', []));\\n                        let updatedPoints = _.get(currentSystemData, '成就点数', 0);\\n                        newAchievements.forEach((ach) => {\\n                            // 避免重复添加\\n                            if (!updatedAchievements.some((existingAch) => existingAch['名称'] === ach['名称'])) {\\n                                // 动态地将所有字段添加进去，除了点数\\n                                const achievementData = { ...ach };\\n                                delete achievementData['点数'];\\n                                updatedAchievements.push(achievementData);\\n                                updatedPoints += ach['点数'] || 0;\\n                                toastr.success(`解锁新成就：${ach['名称']}`, '恭喜！');\\n                            }\\n                        });\\n                        // 更新系统数据\\n                        currentSystemData['已完成'] = updatedAchievements;\\n                        currentSystemData['成就点数'] = updatedPoints;\\n                        if (newSystemData['提示'])\\n                            currentSystemData['提示'] = newSystemData['提示'];\\n                        updates['世界.系统'] = currentSystemData;\\n                        console.log(`[StoryRenderer] 检测到新成就，已合并并更新系统变量。`);\\n                    }\\n                    else if (newSystemData['今日已签到'] === true) {\\n                        const today = new Date().getDate();\\n                        const yesterday = new Date();\\n                        yesterday.setDate(today - 1);\\n                        const signedInDays = _.cloneDeep(_.get(currentSystemData, '已签到', []));\\n                        if (!signedInDays.includes(today)) {\\n                            signedInDays.push(today);\\n                        }\\n                        let consecutiveDays = _.get(currentSystemData, '连续签到', 0);\\n                        if (signedInDays.includes(yesterday.getDate())) {\\n                            consecutiveDays++;\\n                        }\\n                        else {\\n                            consecutiveDays = 1;\\n                        }\\n                        currentSystemData['已签到'] = signedInDays;\\n                        currentSystemData['连续签到'] = consecutiveDays;\\n                        if (newSystemData['提示'])\\n                            currentSystemData['提示'] = newSystemData['提示'];\\n                        // 处理签到奖励\\n                        if (newSystemData['奖励']) {\\n                            const rewardText = newSystemData['奖励'];\\n                            const match = rewardText.match(/【(.+?)】x(\\\\d+)/);\\n                            if (match) {\\n                                const itemName = match[1];\\n                                const itemAmount = parseInt(match[2], 10);\\n                                // 假设只有一个角色，找到角色数据并更新物品\\n                                const charListKey = this.findFieldByKeywords(rootData, ['角色', '列表', '人物']);\\n                                if (charListKey && Array.isArray(rootData[charListKey]) && rootData[charListKey].length > 0) {\\n                                    const charContainer = rootData[charListKey][0];\\n                                    const charDataKey = Object.keys(charContainer)[0];\\n                                    const charData = charContainer[charDataKey];\\n                                    const nameKey = this.findFieldByKeywords(charData, ['姓名', '名称']);\\n                                    if (nameKey) {\\n                                        const charName = this.formatNodeName(charData[nameKey], true);\\n                                        const itemsVarPath = `角色.${charName}.物品`;\\n                                        const currentItems = _.cloneDeep(_.get(currentVars, itemsVarPath, []));\\n                                        // 检查物品是否已存在\\n                                        const existingItemIndex = currentItems.findIndex((item) => item.includes(itemName));\\n                                        if (existingItemIndex > -1) {\\n                                            // 更新数量\\n                                            const existingItemText = currentItems[existingItemIndex];\\n                                            const existingAmountMatch = existingItemText.match(/x(\\\\d+)/);\\n                                            const existingAmount = existingAmountMatch ? parseInt(existingAmountMatch[1], 10) : 1;\\n                                            const newAmount = existingAmount + itemAmount;\\n                                            currentItems[existingItemIndex] = `【${itemName}】x${newAmount}`;\\n                                        }\\n                                        else {\\n                                            // 添加新物品\\n                                            currentItems.push(`【${itemName}】x${itemAmount}`);\\n                                        }\\n                                        updates[itemsVarPath] = currentItems;\\n                                        console.log(`[StoryRenderer] 已将签到奖励“${rewardText}”添加到角色“${charName}”的物品变量中。`);\\n                                    }\\n                                }\\n                            }\\n                        }\\n                        updates['世界.系统'] = currentSystemData;\\n                        console.log(`[StoryRenderer] 检测到签到事件，已更新签到数据。`);\\n                    }\\n                    else if (newSystemData['技能提升']) {\\n                        const skillUpdates = Array.isArray(newSystemData['技能提升']) ? newSystemData['技能提升'] : [newSystemData['技能提升']];\\n                        const currentSkills = _.cloneDeep(_.get(currentSystemData, '技能', []));\\n                        skillUpdates.forEach((update) => {\\n                            const skillIndex = currentSkills.findIndex((s) => s['名称'] === update['名称']);\\n                            if (skillIndex > -1) {\\n                                // 更新现有技能\\n                                const skill = currentSkills[skillIndex];\\n                                const currentExp = skill['熟练度'] || { value: 0, max: 100 };\\n                                currentExp.value += update['熟练度增加'] || 0;\\n                                // 处理升级\\n                                while (currentExp.value >= currentExp.max) {\\n                                    currentExp.value -= currentExp.max;\\n                                    skill['等级'] = (skill['等级'] || 1) + 1;\\n                                    // 升级后熟练度上限可能会增加，这里简化处理，实际可扩展\\n                                    currentExp.max = Math.floor(currentExp.max * 1.5);\\n                                    toastr.success(`你的技能【${skill['名称']}】升级了！`, '恭喜！');\\n                                }\\n                                skill['熟练度'] = currentExp;\\n                            }\\n                            else {\\n                                // 添加新技能\\n                                currentSkills.push({\\n                                    '名称': update['名称'],\\n                                    '等级': 1,\\n                                    '熟练度': { value: update['熟练度增加'] || 0, max: 100 }\\n                                });\\n                                toastr.info(`你学会了新技能：【${update['名称']}】！`);\\n                            }\\n                        });\\n                        currentSystemData['技能'] = currentSkills;\\n                        if (newSystemData['提示'])\\n                            currentSystemData['提示'] = newSystemData['提示'];\\n                        updates['世界.系统'] = currentSystemData;\\n                        console.log(`[StoryRenderer] 检测到技能提升事件，已更新技能数据。`);\\n                    }\\n                    else if (newSystemData['物品交换']) {\\n                        const exchange = newSystemData['物品交换'];\\n                        if (exchange['成功']) {\\n                            const charListKey = this.findFieldByKeywords(rootData, ['角色', '列表', '人物']);\\n                            if (charListKey && Array.isArray(rootData[charListKey]) && rootData[charListKey].length > 0) {\\n                                const charContainer = rootData[charListKey][0];\\n                                const charDataKey = Object.keys(charContainer)[0];\\n                                const charData = charContainer[charDataKey];\\n                                const nameKey = this.findFieldByKeywords(charData, ['姓名', '名称']);\\n                                if (nameKey) {\\n                                    const charName = this.formatNodeName(charData[nameKey], true);\\n                                    const itemsVarPath = `角色.${charName}.物品`;\\n                                    const currentItems = _.cloneDeep(_.get(currentVars, itemsVarPath, []));\\n                                    // 处理失去的物品\\n                                    (exchange['交换物品']['失去'] || []).forEach((itemText) => {\\n                                        const match = itemText.match(/【(.+?)】x(\\\\d+)/);\\n                                        if (match) {\\n                                            const itemName = match[1];\\n                                            const amountToRemove = parseInt(match[2], 10);\\n                                            const existingItemIndex = currentItems.findIndex((item) => item.includes(itemName));\\n                                            if (existingItemIndex > -1) {\\n                                                const existingItemText = currentItems[existingItemIndex];\\n                                                const existingAmountMatch = existingItemText.match(/x(\\\\d+)/);\\n                                                const existingAmount = existingAmountMatch ? parseInt(existingAmountMatch[1], 10) : 1;\\n                                                const newAmount = existingAmount - amountToRemove;\\n                                                if (newAmount > 0) {\\n                                                    currentItems[existingItemIndex] = `【${itemName}】x${newAmount}`;\\n                                                }\\n                                                else {\\n                                                    currentItems.splice(existingItemIndex, 1);\\n                                                }\\n                                            }\\n                                        }\\n                                    });\\n                                    // 处理获得的物品\\n                                    (exchange['交换物品']['获得'] || []).forEach((itemText) => {\\n                                        const match = itemText.match(/【(.+?)】x(\\\\d+)/);\\n                                        if (match) {\\n                                            const itemName = match[1];\\n                                            const amountToAdd = parseInt(match[2], 10);\\n                                            const existingItemIndex = currentItems.findIndex((item) => item.includes(itemName));\\n                                            if (existingItemIndex > -1) {\\n                                                const existingItemText = currentItems[existingItemIndex];\\n                                                const existingAmountMatch = existingItemText.match(/x(\\\\d+)/);\\n                                                const existingAmount = existingAmountMatch ? parseInt(existingAmountMatch[1], 10) : 1;\\n                                                const newAmount = existingAmount + amountToAdd;\\n                                                currentItems[existingItemIndex] = `【${itemName}】x${newAmount}`;\\n                                            }\\n                                            else {\\n                                                currentItems.push(`【${itemName}】x${amountToAdd}`);\\n                                            }\\n                                        }\\n                                    });\\n                                    updates[itemsVarPath] = currentItems;\\n                                }\\n                            }\\n                            toastr.success(exchange['提示'] || '交换成功！');\\n                        }\\n                        else {\\n                            toastr.warning(exchange['提示'] || '交换失败。');\\n                        }\\n                        // 不管成功与否，都更新系统提示\\n                        if (newSystemData['提示'])\\n                            currentSystemData['提示'] = newSystemData['提示'];\\n                        updates['世界.系统'] = currentSystemData;\\n                        console.log(`[StoryRenderer] 检测到物品交换事件，已处理。`);\\n                    }\\n                    else if (newSystemData['新物品发现']) {\\n                        const newItems = Array.isArray(newSystemData['新物品发现']) ? newSystemData['新物品发现'] : [newSystemData['新物品发现']];\\n                        const currentPokedex = _.cloneDeep(_.get(currentVars, '世界.图鉴.物品', []));\\n                        newItems.forEach((item) => {\\n                            if (!currentPokedex.some((existing) => existing['名称'] === item['名称'])) {\\n                                currentPokedex.push(item);\\n                                toastr.info(`新的物品“${item['名称']}”已添加到图鉴！`);\\n                            }\\n                        });\\n                        updates['世界.图鉴.物品'] = currentPokedex;\\n                        console.log(`[StoryRenderer] 检测到新物品发现事件，已更新物品图鉴。`);\\n                    }\\n                    else if (!_.has(currentVars, '世界.系统')) {\\n                        // 如果变量中没有系统数据，则尝试从JSON进行初始化\\n                        const systemDataInJson = this.findFieldByKeywords(rootData, ['系统']);\\n                        if (systemDataInJson && rootData[systemDataInJson]) {\\n                            updates['世界.系统'] = rootData[systemDataInJson];\\n                            console.log(`[StoryRenderer] '世界.系统' 变量不存在，从JSON进行初始化。`);\\n                        }\\n                    }\\n                }\\n                for (const section of sectionsToSync) {\\n                    const dataKey = this.findFieldByKeywords(rootData, section.keyWords);\\n                    if (dataKey && rootData[dataKey]) {\\n                        const newData = rootData[dataKey];\\n                        // For pokedex, we need to merge arrays, not replace them\\n                        if (section.varPath.includes('图鉴')) {\\n                            const oldData = _.get(currentVars, section.varPath, []);\\n                            const combinedData = _.unionBy(oldData, newData['已收录'] || [], '名称');\\n                            if (!_.isEqual(oldData, combinedData)) {\\n                                _.set(updates, section.varPath, combinedData);\\n                            }\\n                        }\\n                        else {\\n                            const oldData = _.get(currentVars, section.varPath);\\n                            if (!_.isEqual(newData, oldData)) {\\n                                _.set(updates, section.varPath, newData);\\n                            }\\n                        }\\n                    }\\n                }\\n                // 同步角色物品\\n                const charListKey = this.findFieldByKeywords(rootData, ['角色', '列表', '人物']);\\n                if (charListKey && Array.isArray(rootData[charListKey])) {\\n                    rootData[charListKey].forEach((charContainer) => {\\n                        const charDataKey = Object.keys(charContainer)[0];\\n                        const charData = charContainer[charDataKey];\\n                        if (charData && typeof charData === 'object') {\\n                            const nameKey = this.findFieldByKeywords(charData, ['姓名', '名称']);\\n                            const itemsKey = this.findFieldByKeywords(charData, ['物品', '核心物品']);\\n                            if (nameKey && itemsKey && charData[nameKey] && Array.isArray(charData[itemsKey])) {\\n                                const charName = this.formatNodeName(charData[nameKey], true);\\n                                const newItems = charData[itemsKey];\\n                                const varPath = `角色.${charName}.物品`;\\n                                const oldItems = _.get(currentVars, varPath);\\n                                if (!_.isEqual(newItems, oldItems)) {\\n                                    _.set(updates, varPath, newItems);\\n                                }\\n                            }\\n                        }\\n                    });\\n                }\\n                if (!_.isEmpty(updates)) {\\n                    console.log(`[StoryRenderer] Message ${currentMessageId} > ${lastSyncId}. 检测到变量变化，正在更新:`, updates);\\n                    // 将 lastSyncMessageId 也加入到更新中\\n                    updates['世界.lastSyncMessageId'] = currentMessageId;\\n                    await insertOrAssignVariables(updates, { type: 'message', message_id: currentMessageId });\\n                    toastr.info(`状态栏(M${currentMessageId})已同步楼层变量。`);\\n                }\\n                else {\\n                    console.log(`[StoryRenderer] Message ${currentMessageId} >= ${lastSyncId}. 未检测到变量变化。`);\\n                }\\n            }\\n            else {\\n                console.log(`[StoryRenderer] 跳过旧的状态栏(M${currentMessageId})同步，最新记录为 M${lastSyncId}。`);\\n            }\\n        }\\n        catch (error) {\\n            console.error('变量同步失败:', error);\\n            toastr.error('变量同步失败，请查看控制台。');\\n        }\\n    }\\n    createCharacterCard(charData) {\\n        const titleKey = Object.keys(charData)[0];\\n        const attributes = charData[titleKey];\\n        if (!titleKey || !attributes)\\n            return null;\\n        const card = document.createElement('div');\\n        card.className = 'bg-main rounded-xl border border-dim p-3.5 shadow-sm card-hover theme-transition';\\n        const h3 = document.createElement('h3');\\n        h3.className = 'font-bold text-lg mb-2 pb-1 border-b border-dim theme-transition';\\n        h3.innerHTML = `${this.extractEmojis(titleKey)[0] || ''} ${this.formatNodeName(titleKey, true)}`;\\n        card.appendChild(h3);\\n        const list = document.createElement('ul');\\n        list.className = 'space-y-2 text-sm';\\n        card.appendChild(list);\\n        if (typeof attributes === 'object' && attributes !== null && !Array.isArray(attributes)) {\\n            Object.entries(attributes).forEach(([key, value]) => {\\n                list.appendChild(this.createAttributeItem(key, value));\\n            });\\n        }\\n        else if (Array.isArray(attributes)) { // Handle case where attributes is an array of entries\\n            attributes.forEach(entry => {\\n                const entryName = entry['名称'] || '未知条目';\\n                const li = document.createElement('li');\\n                li.className = 'clickable-item';\\n                li.dataset.details = JSON.stringify(entry);\\n                li.innerHTML = `• ${this.formatNodeName(entryName)}`;\\n                list.appendChild(li);\\n            });\\n        }\\n        return card;\\n    }\\n    createAttributeItem(key, value) {\\n        const item = document.createElement('li');\\n        const emoji = this.extractEmojis(key)[0] || '🔸';\\n        const keyHtml = `<span class=\\\"font-medium text-accent\\\">${emoji} ${this.formatNodeName(key, true)}:</span>`;\\n        if (typeof value === 'object' && value !== null && !Array.isArray(value) && 'value' in value && 'max' in value && typeof value.value === 'number' && typeof value.max === 'number') {\\n            item.innerHTML = keyHtml;\\n            const percentage = (value.value / value.max) * 100;\\n            const container = document.createElement('div');\\n            container.className = 'flex items-center space-x-2 mt-1';\\n            const progressBarWrapper = document.createElement('div');\\n            progressBarWrapper.className = 'progress-bar-bg w-full rounded-full h-2.5';\\n            const progressBar = document.createElement('div');\\n            progressBar.className = 'progress-bar-fg h-2.5 rounded-full';\\n            progressBar.style.width = `${percentage}%`;\\n            if (percentage < 25)\\n                progressBar.classList.add('bg-red-500');\\n            else if (percentage < 50)\\n                progressBar.classList.add('bg-yellow-500');\\n            else\\n                progressBar.classList.add('bg-green-500');\\n            progressBarWrapper.appendChild(progressBar);\\n            const progressText = document.createElement('span');\\n            progressText.className = 'text-xs text-secondary font-mono';\\n            progressText.textContent = `${value.value} / ${value.max}`;\\n            container.appendChild(progressBarWrapper);\\n            container.appendChild(progressText);\\n            item.appendChild(container);\\n        }\\n        else if (typeof value === 'object' && value !== null) {\\n            item.innerHTML = keyHtml;\\n            const subList = document.createElement('ul');\\n            subList.className = 'list-disc list-inside ml-4 mt-1 space-y-1';\\n            if (Array.isArray(value)) {\\n                value.forEach(subValue => {\\n                    const subItem = document.createElement('li');\\n                    let text;\\n                    subItem.classList.add('clickable-item');\\n                    subItem.dataset.details = JSON.stringify(subValue);\\n                    if (typeof subValue === 'object' && subValue !== null) {\\n                        const nameKey = Object.keys(subValue).find(k => k.includes('名称') || k.includes('姓名'));\\n                        text = nameKey ? this.formatNodeName(String(subValue[nameKey])) : '点击查看详情';\\n                    }\\n                    else {\\n                        text = this.formatNodeName(String(subValue));\\n                    }\\n                    subItem.innerHTML = `${this.extractEmojis(text)[0] || '•'} ${this.formatNodeName(text, true)}`;\\n                    subList.appendChild(subItem);\\n                });\\n            }\\n            else {\\n                Object.entries(value).forEach(([subKey, subValue]) => {\\n                    const subItem = this.createAttributeItem(subKey, subValue);\\n                    subList.appendChild(subItem);\\n                });\\n            }\\n            item.appendChild(subList);\\n        }\\n        else {\\n            item.innerHTML = `${keyHtml} ${this.formatNodeName(String(value))}`;\\n        }\\n        return item;\\n    }\\n    renderActionOptions(data) {\\n        const actionKey = this.findFieldByKeywords(data, ['行动']);\\n        if (this.elements.optionsList) {\\n            this.elements.optionsList.innerHTML = '';\\n            if (actionKey && data[actionKey]) {\\n                const actionData = data[actionKey];\\n                const ownerKey = this.findFieldByKeywords(actionData, ['行动人', '角色']);\\n                const optionsKey = this.findFieldByKeywords(actionData, ['可选行动', '选项']);\\n                if (ownerKey && this.elements.actionOwner) {\\n                    this.elements.actionOwner.textContent = this.formatNodeName(actionData[ownerKey]);\\n                }\\n                if (optionsKey && Array.isArray(actionData[optionsKey])) {\\n                    actionData[optionsKey].forEach((optionText, index) => {\\n                        const item = document.createElement('li');\\n                        item.className = 'pl-2 py-1 border-l-2 border-dim ml-1 hover:border-indigo-400/70 transition-colors theme-transition';\\n                        const cleanText = this.formatNodeName(optionText, true);\\n                        item.innerHTML = `${this.extractEmojis(optionText)[0] || '▶️'} ${cleanText}`;\\n                        item.dataset.optionIndex = index.toString();\\n                        item.dataset.optionText = cleanText;\\n                        this.elements.optionsList.appendChild(item);\\n                    });\\n                }\\n                const customActionItem = document.createElement('li');\\n                customActionItem.className = 'pl-2 py-1 border-l-2 border-dim ml-1 hover:border-indigo-400/70 transition-colors theme-transition mt-4';\\n                customActionItem.innerHTML = `<i class=\\\"fas fa-pen-nib mr-2 text-accent\\\"></i> 自定义行动...`;\\n                customActionItem.dataset.actionType = 'custom';\\n                this.elements.optionsList.appendChild(customActionItem);\\n            }\\n            else {\\n                this.elements.optionsList.innerHTML = this.createEmptyState('没有可用行动');\\n            }\\n        }\\n    }\\n    createEmptyState(message) {\\n        return `<li class=\\\"text-center py-4 text-secondary theme-transition\\\"><i class=\\\"fas fa-info-circle mr-1\\\"></i>${message}</li>`;\\n    }\\n    handleError(error) {\\n        console.error('渲染错误:', error);\\n        const errorHtml = `<div class=\\\"bg-red-900/20 border border-red-800/30 text-red-400 px-4 py-3 rounded relative\\\" role=\\\"alert\\\">\\n            <strong class=\\\"font-bold\\\">加载失败: </strong>\\n            <span class=\\\"block sm:inline\\\">${error.message}</span>\\n        </div>`;\\n        if (this.elements.charactersContainer)\\n            this.elements.charactersContainer.innerHTML = errorHtml;\\n        if (this.elements.optionsList)\\n            this.elements.optionsList.innerHTML = `<li>${errorHtml}</li>`;\\n        const actionOwnerParent = this.elements.actionOwner?.parentElement;\\n        if (actionOwnerParent)\\n            actionOwnerParent.style.display = 'none';\\n    }\\n    handleParsingFailure(rawText, error) {\\n        if (this.elements.statusBarTitle)\\n            this.elements.statusBarTitle.textContent = 'JSON解析失败';\\n        const safeRawText = String(rawText || '');\\n        let errorMessage = \\\"未知错误\\\";\\n        if (error instanceof Error) {\\n            errorMessage = error.message;\\n        }\\n        else {\\n            errorMessage = String(error);\\n        }\\n        const errorHtml = `\\n            <div class=\\\"bg-orange-800/20 border border-orange-700/30 text-orange-300 px-4 py-3 rounded-lg relative\\\" role=\\\"alert\\\">\\n                <strong class=\\\"font-bold\\\">解析失败:</strong>\\n                <span class=\\\"block sm:inline\\\">${errorMessage}</span>\\n                <p class=\\\"mt-2 text-sm\\\">已为您显示原始输出内容，请检查格式：</p>\\n            </div>\\n            <pre class=\\\"bg-gray-900/50 text-white p-4 rounded-lg mt-2 whitespace-pre-wrap text-xs leading-relaxed\\\"><code>${safeRawText.replace(/</g, '<').replace(/>/g, '>')}</code></pre>\\n        `;\\n        if (this.elements.charactersContainer) {\\n            this.elements.charactersContainer.innerHTML = errorHtml;\\n            this.elements.charactersContainer.classList.remove('md:grid-cols-2');\\n        }\\n        if (this.elements.optionsList)\\n            this.elements.optionsList.innerHTML = '';\\n        const actionOwnerParent = this.elements.actionOwner?.parentElement;\\n        if (actionOwnerParent)\\n            actionOwnerParent.style.display = 'none';\\n    }\\n    extractEmojis(text) {\\n        if (!_.isString(text)) {\\n            return [];\\n        }\\n        const emojiRegex = /[\\\\u{1F600}-\\\\u{1F64F}\\\\u{1F300}-\\\\u{1F5FF}\\\\u{1F900}-\\\\u{1F9FF}\\\\u{1FA70}-\\\\u{1FAFF}\\\\u{1F680}-\\\\u{1F6FF}\\\\u{1F1E0}-\\\\u{1F1FF}\\\\u{2600}-\\\\u{26FF}\\\\u{2700}-\\\\u{27BF}]/gu;\\n        return text.match(emojiRegex) || [];\\n    }\\n    formatNodeName(name, removeAllEmoji = false) {\\n        if (!_.isString(name) && !_.isNumber(name)) {\\n            return '';\\n        }\\n        let cleanName = _.toString(name);\\n        cleanName = _.replace(cleanName, /^\\\\d+\\\\.\\\\s*/, '');\\n        if (removeAllEmoji) {\\n            const emojiRegex = /[\\\\u{1F600}-\\\\u{1F64F}\\\\u{1F300}-\\\\u{1F5FF}\\\\u{1F680}-\\\\u{1F6FF}\\\\u{1F1E0}-\\\\u{1F1FF}\\\\u{2600}-\\\\u{26FF}\\\\u{2700}-\\\\u{27BF}]/gu;\\n            cleanName = _.replace(cleanName, emojiRegex, '');\\n        }\\n        return _.trim(cleanName);\\n    }\\n}\\nfunction initCustomActionModal() {\\n    const modal = $('#custom-action-modal');\\n    const input = $('#custom-action-input');\\n    const confirmBtn = $('#confirm-action-btn');\\n    const cancelBtn = $('#cancel-action-btn');\\n    const optionsList = $('#options-list');\\n    let currentTarget = null;\\n    const showModal = (target) => {\\n        currentTarget = target;\\n        modal.insertAfter(target);\\n        modal.removeClass('hidden').addClass('is-open');\\n        input.val('').trigger('focus');\\n    };\\n    const hideModal = () => {\\n        if (currentTarget) {\\n            modal.removeClass('is-open').addClass('hidden');\\n            optionsList.append(modal);\\n            currentTarget = null;\\n        }\\n    };\\n    const confirmAction = async () => {\\n        const userInput = input.val().trim();\\n        if (userInput) {\\n            hideModal();\\n            const messageId = getCurrentMessageId();\\n            const variables = getVariables({ type: 'message', message_id: messageId });\\n            const variablesString = JSON.stringify(variables, null, 2);\\n            const command = `/send ${userInput}\\\\n\\\\n<variables>\\\\n${variablesString}\\\\n</variables> | /trigger`;\\n            toastr.info('正在执行自定义行动...');\\n            await triggerSlash(command);\\n            toastr.success('自定义行动已发送！');\\n        }\\n        else {\\n            toastr.warning('请输入行动内容。');\\n        }\\n    };\\n    cancelBtn.on('click', hideModal);\\n    confirmBtn.on('click', confirmAction);\\n    return { showModal };\\n}\\nfunction initDetailsModal() {\\n    const modalOverlay = document.getElementById('details-modal');\\n    const modalTitle = document.getElementById('modal-title');\\n    const modalBody = document.getElementById('modal-body');\\n    const closeModalBtn = document.getElementById('modal-close-btn');\\n    if (!modalOverlay || !modalTitle || !modalBody || !closeModalBtn) {\\n        throw new Error('详情模态框的必要DOM元素未找到！');\\n    }\\n    const hideModal = () => modalOverlay.classList.add('hidden');\\n    closeModalBtn.addEventListener('click', hideModal);\\n    modalOverlay.addEventListener('click', (e) => {\\n        if (e.target === modalOverlay)\\n            hideModal();\\n    });\\n    const showModalWithData = (data) => {\\n        if (typeof data === 'object' && data !== null) {\\n            const titleKey = Object.keys(data).find(k => k.includes('名称') || k.includes('姓名'));\\n            modalTitle.textContent = titleKey ? data[titleKey] : '详情';\\n            let bodyHtml = '<ul>';\\n            for (const [key, value] of Object.entries(data)) {\\n                bodyHtml += `<li><span class=\\\"item-key\\\">${key}:</span> ${value}</li>`;\\n            }\\n            bodyHtml += '</ul>';\\n            modalBody.innerHTML = bodyHtml;\\n        }\\n        else {\\n            modalTitle.textContent = '详情';\\n            modalBody.textContent = String(data);\\n        }\\n        modalOverlay.classList.remove('hidden');\\n    };\\n    document.body.addEventListener('click', (e) => {\\n        const target = e.target;\\n        const clickableItem = target.closest('.clickable-item');\\n        if (clickableItem) {\\n            const dataString = clickableItem.dataset.details;\\n            if (dataString) {\\n                try {\\n                    const data = JSON.parse(dataString);\\n                    showModalWithData(data);\\n                }\\n                catch (err) {\\n                    console.error(\\\"解析详情数据失败:\\\", err);\\n                    toastr.error(\\\"无法显示详情。\\\");\\n                }\\n            }\\n        }\\n    });\\n    return { showModalWithData };\\n}\\nasync function requestSystemRefresh(systemName, button) {\\n    const originalContent = button.html();\\n    button.prop('disabled', true).find('i').addClass('fa-spin');\\n    const command = `/send [SYSTEM] 【${systemName}系统】：“让我看看……有什么新东西可以给你……”（玩家请求刷新${systemName}列表） | /trigger`;\\n    toastr.info(`正在请求刷新${systemName}...`);\\n    try {\\n        await triggerSlash(command);\\n        toastr.success(`刷新请求已发送！`);\\n    }\\n    catch (error) {\\n        console.error(`刷新${systemName}失败:`, error);\\n        toastr.error(\\\"请求失败，请查看控制台。\\\");\\n    }\\n    finally {\\n        setTimeout(() => {\\n            button.prop('disabled', false).html(originalContent);\\n        }, 1000);\\n    }\\n}\\nfunction initRewardsModal() {\\n    const modal = document.getElementById('rewards-modal');\\n    const closeModalBtn = document.getElementById('rewards-modal-close-btn');\\n    const modalBody = document.getElementById('rewards-modal-body');\\n    const refreshBtn = document.getElementById('refresh-rewards-btn');\\n    const hideModal = () => modal?.classList.add('hidden');\\n    closeModalBtn?.addEventListener('click', hideModal);\\n    modal?.addEventListener('click', (e) => {\\n        if (e.target === modal)\\n            hideModal();\\n    });\\n    refreshBtn?.addEventListener('click', (e) => {\\n        requestSystemRefresh('成就奖励', $(e.currentTarget));\\n    });\\n    const showModalWithRewards = (rewardsJsonString, currentPoints) => {\\n        if (!modalBody)\\n            return;\\n        try {\\n            const rewardsData = JSON.parse(rewardsJsonString);\\n            let html = `<p class=\\\"text-sm text-secondary mb-4\\\">${rewardsData.description || ''}</p>`;\\n            const isMobile = window.innerWidth < 768;\\n            rewardsData.tiers?.forEach((tier) => {\\n                html += `\\n          <details class=\\\"group border-t border-dim mt-4 pt-2\\\" ${isMobile ? '' : 'open'}>\\n            <summary class=\\\"font-bold text-lg cursor-pointer hover:text-accent transition-colors theme-transition flex justify-between items-center py-2\\\">\\n              <span>${tier.tier_name || '奖励'} <span class=\\\"text-sm text-secondary font-normal\\\">(${tier.cost_range || ''})</span></span>\\n              <i class=\\\"fas fa-chevron-down transition-transform duration-300 group-open:rotate-180\\\"></i>\\n            </summary>\\n            <ul class=\\\"space-y-3 mt-2\\\">\\n        `;\\n                tier.rewards?.forEach((reward) => {\\n                    const canAfford = currentPoints >= reward.cost;\\n                    html += `\\n            <li class=\\\"p-4 rounded-lg bg-secondary border border-dim\\\">\\n              <div class=\\\"flex justify-between items-start\\\">\\n                <div>\\n                  <p class=\\\"font-semibold text-primary\\\">${reward.name || '未知奖励'}</p>\\n                  <p class=\\\"text-xs text-secondary mt-1\\\">${reward.description || ''}</p>\\n                </div>\\n                <button \\n                  class=\\\"btn-primary redeem-btn whitespace-nowrap ml-4 text-sm\\\"\\n                  data-name=\\\"${reward.name}\\\" \\n                  data-cost=\\\"${reward.cost}\\\"\\n                  ${!canAfford ? 'disabled' : ''}\\n                >\\n                  ${reward.cost} <i class=\\\"fas fa-star text-xs\\\"></i>\\n                </button>\\n              </div>\\n            </li>\\n          `;\\n                });\\n                html += '</ul></details>';\\n            });\\n            modalBody.innerHTML = html;\\n        }\\n        catch (error) {\\n            console.error(\\\"解析奖励JSON失败:\\\", error);\\n            toastr.error(\\\"无法解析奖励列表。\\\");\\n            modalBody.innerHTML = `<p class=\\\"text-red-400\\\">加载奖励失败，请检查世界书条目格式。</p>`;\\n        }\\n        modal?.classList.remove('hidden');\\n    };\\n    modalBody?.addEventListener('click', async (e) => {\\n        const target = e.target;\\n        if (target.classList.contains('redeem-btn')) {\\n            const itemName = target.dataset.name;\\n            const itemCost = parseInt(target.dataset.cost || '0', 10);\\n            const command = `/send [SYSTEM] Player wants to redeem the reward: \\\"${itemName}\\\" (Cost: ${itemCost} points). | /trigger`;\\n            toastr.info(`正在尝试兑换: ${itemName}...`);\\n            try {\\n                await triggerSlash(command);\\n                toastr.success(`兑换请求已发送！`);\\n                hideModal();\\n            }\\n            catch (error) {\\n                console.error(\\\"兑换失败:\\\", error);\\n                toastr.error(\\\"兑换失败，请查看控制台。\\\");\\n            }\\n        }\\n    });\\n    return { showModalWithRewards };\\n}\\nfunction initRemoteSyncModal(showModalWithData) {\\n    const openModalBtn = document.getElementById('remote-sync-btn');\\n    const modal = document.getElementById('remote-sync-modal');\\n    const closeModalBtn = document.getElementById('remote-sync-close-btn');\\n    const tabs = modal?.querySelectorAll('.main-tab-btn');\\n    const submitTab = document.getElementById('remote-submit-tab');\\n    const fetchTab = document.getElementById('remote-fetch-tab');\\n    const localDiffList = document.getElementById('local-diff-list');\\n    const remoteDiffList = document.getElementById('remote-diff-list');\\n    const fetchRemoteBtn = document.getElementById('fetch-from-remote-btn');\\n    const submitControls = document.getElementById('submit-to-remote-controls');\\n    const importControls = document.getElementById('import-from-remote-controls');\\n    const submitToRemoteBtn = document.getElementById('submit-to-remote-btn');\\n    const importFromRemoteBtn = document.getElementById('import-from-remote-btn');\\n    let remoteDataCache = null;\\n    const showModal = async () => {\\n        modal?.classList.remove('hidden');\\n        // Default to submit tab\\n        tabs?.forEach(t => t.getAttribute('data-tab') === 'submit' ? t.classList.add('active') : t.classList.remove('active'));\\n        submitTab?.classList.remove('hidden');\\n        fetchTab?.classList.add('hidden');\\n        submitControls?.classList.remove('hidden');\\n        importControls?.classList.add('hidden');\\n        fetchRemoteBtn?.classList.add('hidden');\\n        await populateSubmitList();\\n    };\\n    const hideModal = () => modal?.classList.add('hidden');\\n    const populateSubmitList = async () => {\\n        if (!localDiffList)\\n            return;\\n        localDiffList.innerHTML = `<p class=\\\"text-center text-secondary p-4\\\">正在计算差异...</p>`;\\n        const localPokedex = await _pokedex__WEBPACK_IMPORTED_MODULE_2__.getPokedexData();\\n        const localAchievements = await _pokedex__WEBPACK_IMPORTED_MODULE_2__.getAchievements();\\n        const remote = remoteDataCache || await _pokedex__WEBPACK_IMPORTED_MODULE_2__.getRemotePokedex();\\n        if (remote)\\n            remoteDataCache = remote;\\n        let diffHtml = '';\\n        let diffCount = 0;\\n        const types = ['妖兽', '植物', '物品', '成就'];\\n        types.forEach(type => {\\n            const localEntries = type === '成就' ? localAchievements : localPokedex[type];\\n            const remoteEntries = remote ? (remote[type] || []) : [];\\n            const remoteNames = new Set(remoteEntries.map(e => e.名称));\\n            const diffEntries = localEntries.filter(e => !remoteNames.has(e.名称));\\n            if (diffEntries.length > 0) {\\n                diffCount += diffEntries.length;\\n                diffHtml += `<h4 class=\\\"font-semibold text-primary/90 mt-2 first:mt-0\\\">${type}</h4><ul>`;\\n                diffEntries.forEach(entry => {\\n                    diffHtml += `\\n            <li class=\\\"p-2 rounded-lg bg-main/50 flex justify-between items-center\\\">\\n              <label class=\\\"flex items-center cursor-pointer flex-grow mr-4\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"mr-3\\\" data-type=\\\"${type}\\\" data-name=\\\"${entry.名称}\\\">\\n                <span class=\\\"truncate\\\" title=\\\"${entry.名称}\\\">${entry.名称}</span>\\n              </label>\\n              <div class=\\\"space-x-2 flex-shrink-0\\\">\\n                <button class=\\\"pokedex-view-btn text-sm text-blue-400 hover:text-blue-300 transition-colors p-1\\\" data-type=\\\"${type}\\\" data-name=\\\"${entry.名称}\\\" data-source=\\\"local\\\" title=\\\"查看\\\"><i class=\\\"fas fa-eye\\\"></i></button>\\n              </div>\\n            </li>`;\\n                });\\n                diffHtml += `</ul>`;\\n            }\\n        });\\n        if (diffCount === 0) {\\n            localDiffList.innerHTML = `<p class=\\\"text-center text-secondary p-4\\\">恭喜！您的本地图鉴已全部同步至社区。</p>`;\\n        }\\n        else {\\n            localDiffList.innerHTML = diffHtml;\\n        }\\n    };\\n    openModalBtn?.addEventListener('click', showModal);\\n    closeModalBtn?.addEventListener('click', hideModal);\\n    modal?.addEventListener('click', async (e) => {\\n        if (e.target === modal) {\\n            hideModal();\\n            return;\\n        }\\n        const target = e.target;\\n        const viewButton = target.closest('.pokedex-view-btn');\\n        if (viewButton) {\\n            const type = viewButton.getAttribute('data-type');\\n            const name = viewButton.getAttribute('data-name');\\n            const source = viewButton.getAttribute('data-source');\\n            if (type && name && source) {\\n                let entry;\\n                if (source === 'local') {\\n                    if (type === '成就') {\\n                        const localAchievements = await _pokedex__WEBPACK_IMPORTED_MODULE_2__.getAchievements();\\n                        entry = localAchievements.find(e => e.名称 === name);\\n                    }\\n                    else {\\n                        const localPokedex = await _pokedex__WEBPACK_IMPORTED_MODULE_2__.getPokedexData();\\n                        entry = localPokedex[type]?.find(e => e.名称 === name);\\n                    }\\n                }\\n                else if (source === 'remote' && remoteDataCache) {\\n                    entry = (remoteDataCache[type] || []).find(e => e.名称 === name);\\n                }\\n                if (entry) {\\n                    showModalWithData(entry);\\n                }\\n                else {\\n                    toastr.warning('无法找到该条目的详细信息。');\\n                }\\n            }\\n        }\\n    });\\n    tabs?.forEach(button => {\\n        button.addEventListener('click', () => {\\n            tabs.forEach(btn => btn.classList.remove('active'));\\n            button.classList.add('active');\\n            const tab = button.getAttribute('data-tab');\\n            if (tab === 'submit') {\\n                submitTab?.classList.remove('hidden');\\n                fetchTab?.classList.add('hidden');\\n                submitControls?.classList.remove('hidden');\\n                importControls?.classList.add('hidden');\\n                fetchRemoteBtn?.classList.add('hidden');\\n                populateSubmitList();\\n            }\\n            else {\\n                submitTab?.classList.add('hidden');\\n                fetchTab?.classList.remove('hidden');\\n                submitControls?.classList.add('hidden');\\n                importControls?.classList.remove('hidden');\\n                fetchRemoteBtn?.classList.remove('hidden');\\n                if (remoteDiffList)\\n                    remoteDiffList.innerHTML = `<p class=\\\"text-center text-secondary p-4\\\">请先点击下方按钮从社区获取列表。</p>`;\\n            }\\n        });\\n    });\\n    fetchRemoteBtn?.addEventListener('click', async () => {\\n        if (!remoteDiffList)\\n            return;\\n        remoteDiffList.innerHTML = `<p class=\\\"text-center text-secondary p-4\\\">正在从社区获取...</p>`;\\n        const localPokedex = await _pokedex__WEBPACK_IMPORTED_MODULE_2__.getPokedexData();\\n        const localAchievements = await _pokedex__WEBPACK_IMPORTED_MODULE_2__.getAchievements();\\n        const remote = await _pokedex__WEBPACK_IMPORTED_MODULE_2__.getRemotePokedex();\\n        if (!remote) {\\n            remoteDiffList.innerHTML = `<p class=\\\"text-center text-red-400 p-4\\\">获取失败，请检查服务器连接或查看控制台。</p>`;\\n            return;\\n        }\\n        remoteDataCache = remote;\\n        let diffHtml = '';\\n        let diffCount = 0;\\n        const types = ['妖兽', '植物', '物品', '成就'];\\n        types.forEach(type => {\\n            const localEntries = type === '成就' ? localAchievements : localPokedex[type];\\n            const localNames = new Set(localEntries.map(e => e.名称));\\n            const remoteEntries = remote[type] || [];\\n            const diffEntries = remoteEntries.filter(e => !localNames.has(e.名称));\\n            if (diffEntries.length > 0) {\\n                diffCount += diffEntries.length;\\n                diffHtml += `<h4 class=\\\"font-semibold text-primary/90 mt-2 first:mt-0\\\">${type}</h4><ul>`;\\n                diffEntries.forEach(entry => {\\n                    diffHtml += `\\n            <li class=\\\"p-2 rounded-lg bg-main/50 flex justify-between items-center\\\">\\n              <label class=\\\"flex items-center cursor-pointer flex-grow mr-4\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"mr-3\\\" data-type=\\\"${type}\\\" data-name=\\\"${entry.名称}\\\">\\n                <span class=\\\"truncate\\\" title=\\\"${entry.名称}\\\">${entry.名称}</span>\\n              </label>\\n              <div class=\\\"space-x-2 flex-shrink-0\\\">\\n                <button class=\\\"pokedex-view-btn text-sm text-blue-400 hover:text-blue-300 transition-colors p-1\\\" data-type=\\\"${type}\\\" data-name=\\\"${entry.名称}\\\" data-source=\\\"remote\\\" title=\\\"查看\\\"><i class=\\\"fas fa-eye\\\"></i></button>\\n              </div>\\n            </li>`;\\n                });\\n                diffHtml += `</ul>`;\\n            }\\n        });\\n        if (diffCount === 0) {\\n            remoteDiffList.innerHTML = `<p class=\\\"text-center text-secondary p-4\\\">恭喜！您的本地图鉴与社区保持同步。</p>`;\\n        }\\n        else {\\n            remoteDiffList.innerHTML = diffHtml;\\n        }\\n    });\\n    submitToRemoteBtn?.addEventListener('click', async () => {\\n        const checkboxes = localDiffList?.querySelectorAll('input[type=\\\"checkbox\\\"]:checked');\\n        if (!checkboxes || checkboxes.length === 0) {\\n            toastr.warning('请至少选择一个要分享的条目。');\\n            return;\\n        }\\n        const providerInput = document.getElementById('provider-name-input');\\n        const providerName = providerInput?.value.trim() || undefined; // Use undefined if empty\\n        const localPokedex = await _pokedex__WEBPACK_IMPORTED_MODULE_2__.getPokedexData();\\n        const localAchievements = await _pokedex__WEBPACK_IMPORTED_MODULE_2__.getAchievements();\\n        let successCount = 0;\\n        for (const cb of checkboxes) {\\n            const type = cb.dataset.type;\\n            const name = cb.dataset.name;\\n            if (type && name) {\\n                const entry = type === '成就'\\n                    ? localAchievements.find(e => e.名称 === name)\\n                    : localPokedex[type].find(e => e.名称 === name);\\n                if (entry) {\\n                    await _pokedex__WEBPACK_IMPORTED_MODULE_2__.submitToHuggingFace(type, entry, providerName);\\n                    successCount++;\\n                }\\n            }\\n        }\\n        if (successCount > 0) {\\n            toastr.success(`成功分享了 ${successCount} 个条目！`);\\n            remoteDataCache = null; // Invalidate cache\\n            await populateSubmitList();\\n        }\\n    });\\n    importFromRemoteBtn?.addEventListener('click', async () => {\\n        const checkboxes = remoteDiffList?.querySelectorAll('input[type=\\\"checkbox\\\"]:checked');\\n        if (!checkboxes || checkboxes.length === 0 || !remoteDataCache) {\\n            toastr.warning('请至少选择一个要导入的条目。');\\n            return;\\n        }\\n        let successCount = 0;\\n        for (const cb of checkboxes) {\\n            const type = cb.dataset.type;\\n            const name = cb.dataset.name;\\n            if (type && name) {\\n                const entry = (remoteDataCache[type] || []).find(e => e.名称 === name);\\n                if (entry) {\\n                    let success = false;\\n                    if (type === '成就') {\\n                        success = await _pokedex__WEBPACK_IMPORTED_MODULE_2__.createAchievement(entry);\\n                    }\\n                    else {\\n                        success = await _pokedex__WEBPACK_IMPORTED_MODULE_2__.createPokedexEntry(type, entry);\\n                    }\\n                    if (success) {\\n                        successCount++;\\n                    }\\n                }\\n            }\\n        }\\n        if (successCount > 0) {\\n            toastr.success(`成功导入了 ${successCount} 个新条目到您的本地图鉴！`);\\n            hideModal();\\n        }\\n    });\\n}\\n$(() => {\\n    initGlobalControls();\\n    const storyRenderer = new StoryRenderer();\\n    const { showModalWithData } = initDetailsModal();\\n    initPokedexManager(storyRenderer, showModalWithData);\\n    initRemoteSyncModal(showModalWithData);\\n    storyRenderer.init();\\n    const customActionModal = initCustomActionModal();\\n    const rewardsModal = initRewardsModal();\\n    $(document).on('click', '#redeem-rewards-btn', async () => {\\n        try {\\n            toastr.info('正在获取奖励列表...');\\n            const bookName = \\\"什么？我要在玄幻修仙世界种田？\\\";\\n            const entryKey = \\\"成就系统的奖励\\\";\\n            const worldbook = await getWorldbook(bookName);\\n            const entry = worldbook.find(e => e.name === entryKey);\\n            if (entry && entry.content) {\\n                const messageId = getCurrentMessageId();\\n                const currentVars = getVariables({ type: 'message', message_id: messageId });\\n                const currentPoints = _.get(currentVars, '世界.系统.成就点数', 0);\\n                rewardsModal.showModalWithRewards(entry.content, currentPoints);\\n            }\\n            else {\\n                toastr.warning('未找到可兑换的奖励信息。');\\n            }\\n        }\\n        catch (error) {\\n            console.error(\\\"获取奖励失败:\\\", error);\\n            toastr.error(\\\"获取奖励列表失败，请查看控制台。\\\");\\n        }\\n    });\\n    $(document).on('click', '#sign-in-btn', async (e) => {\\n        const target = $(e.currentTarget);\\n        target.prop('disabled', true);\\n        const messageId = getCurrentMessageId();\\n        const variables = getVariables({ type: 'message', message_id: messageId });\\n        const systemData = _.get(variables, '世界.系统', {});\\n        const consecutiveDays = systemData['连续签到'] || 0;\\n        const monthlyCard = systemData['月卡'] || '未激活';\\n        let signInMessage = `[SYSTEM] 玩家要进行每日签到。`;\\n        if (monthlyCard !== '未激活') {\\n            signInMessage += `\\\\n当前月卡状态: ${monthlyCard}。`;\\n        }\\n        signInMessage += `\\\\n当前已连续签到: ${consecutiveDays}天。`;\\n        const command = `/send ${signInMessage} | /trigger`;\\n        try {\\n            await triggerSlash(command);\\n            toastr.success(`签到请求已发送！`);\\n            const today = new Date().getDate();\\n            const calendarGrid = $('#calendar-grid');\\n            const todayCell = calendarGrid.find(`[data-day=\\\"${today}\\\"]`);\\n            if (todayCell.length) {\\n                todayCell.removeClass('bg-accent/30 text-accent font-bold ring-2 ring-accent')\\n                    .addClass('bg-green-500/50 text-white')\\n                    .html('<i class=\\\"fas fa-check\\\"></i>')\\n                    .attr('title', `第${today}天：已签到`);\\n            }\\n            target.html('<i class=\\\"fas fa-calendar-check mr-2\\\"></i>今日已签到');\\n        }\\n        catch (error) {\\n            console.error(\\\"签到失败:\\\", error);\\n            toastr.error(\\\"签到失败，请查看控制台。\\\");\\n            target.prop('disabled', false);\\n        }\\n    });\\n    $(document).on('click', '#activate-monthly-card-btn', async (e) => {\\n        const target = $(e.currentTarget);\\n        target.prop('disabled', true).text('询问中...');\\n        const command = `/send [SYSTEM] 玩家想要激活签到系统的月卡，请告知激活条件和效果。 | /trigger`;\\n        toastr.info(`正在询问激活条件...`);\\n        try {\\n            await triggerSlash(command);\\n            toastr.success(`请求已发送！`);\\n        }\\n        catch (error) {\\n            console.error(\\\"激活月卡失败:\\\", error);\\n            toastr.error(\\\"请求失败，请查看控制台。\\\");\\n            target.prop('disabled', false).text('激活');\\n        }\\n    });\\n    $('#options-list').on('click', async (e) => {\\n        const targetLi = $(e.target).closest('li');\\n        if (!targetLi.length)\\n            return;\\n        const optionsList = $('#options-list');\\n        if (optionsList.hasClass('disabled')) {\\n            toastr.info('正在等待回应，请稍后...');\\n            return;\\n        }\\n        const actionType = targetLi.data('actionType');\\n        if (actionType === 'custom') {\\n            customActionModal.showModal(targetLi);\\n        }\\n        else {\\n            const optionText = targetLi.data('optionText');\\n            const optionIndex = parseInt(targetLi.data('optionIndex'), 10);\\n            if (optionText && !isNaN(optionIndex)) {\\n                // 禁用所有选项并显示加载状态\\n                optionsList.addClass('disabled').html(`\\n          <li class=\\\"text-center py-4 text-secondary theme-transition\\\">\\n            <div class=\\\"flex justify-center items-center\\\">\\n              <div class=\\\"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-indigo-400 mr-3\\\"></div>\\n              <span>等待彼界的回应...</span>\\n            </div>\\n          </li>\\n        `);\\n                await triggerAction(optionText, optionIndex);\\n                // 此时不需要做任何事，因为界面将随新消息一起重新渲染\\n            }\\n        }\\n    });\\n    $(document).on('click', '.barter-btn', async (e) => {\\n        const target = $(e.currentTarget);\\n        target.prop('disabled', true);\\n        const originalText = target.html();\\n        target.html('<i class=\\\"fas fa-spinner fa-spin\\\"></i>');\\n        const itemName = target.data('name');\\n        const itemCost = parseInt(target.data('cost') || '0', 10);\\n        if (!itemName || isNaN(itemCost)) {\\n            toastr.error('无法获取物品信息。');\\n            target.prop('disabled', false).html(originalText);\\n            return;\\n        }\\n        const messageId = getCurrentMessageId();\\n        const variables = getVariables({ type: 'message', message_id: messageId });\\n        const myItems = _.get(variables, '世界.系统.我的物品', []);\\n        const totalValue = _.sumBy(myItems, (item) => (item['数量'] || 0) * (item['价值'] || 0));\\n        const command = `/send [SYSTEM] 【以物换物系统】：“嘿，朋友！我看到你想用你那堆价值 ${totalValue} 的宝贝，来换我的【${itemName}】（价值 ${itemCost}）。让我想想……” | /trigger`;\\n        toastr.info(`正在尝试换取: ${itemName}...`);\\n        try {\\n            await triggerSlash(command);\\n            toastr.success(`换取请求已发送！`);\\n        }\\n        catch (error) {\\n            console.error(\\\"换取失败:\\\", error);\\n            toastr.error(\\\"换取失败，请查看控制台。\\\");\\n            target.prop('disabled', false).html(originalText);\\n        }\\n    });\\n    $(document).on('click', '#refresh-barter-btn', async (e) => {\\n        requestSystemRefresh('以物换物', $(e.currentTarget));\\n    });\\n});\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXNCO0FBQzhCO0FBRWY7QUFDSTtBQUV6QyxNQUFNLGFBQWEsR0FBRyxLQUFLLEVBQUUsSUFBWSxFQUFFLEtBQWEsRUFBRSxFQUFFO0lBQzFELElBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLE1BQU0sS0FBSyxDQUFDO1FBQUUsT0FBTztJQUU5QyxJQUFJLENBQUM7UUFDSCxZQUFZO1FBQ1osTUFBTSxTQUFTLEdBQUcsbUJBQW1CLEVBQUUsQ0FBQztRQUN4QyxNQUFNLFNBQVMsR0FBRyxZQUFZLENBQUMsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxTQUFTLEVBQUUsQ0FBQyxDQUFDO1FBRTNFLGVBQWU7UUFDZixTQUFTLENBQUMsTUFBTSxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsQ0FBQztRQUU5QixZQUFZO1FBQ1osTUFBTSxlQUFlLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBRTNELGVBQWU7UUFDZixNQUFNLFFBQVEsR0FBRywrSUFBK0ksQ0FBQztRQUVqSyxvQkFBb0I7UUFDcEIsTUFBTSxjQUFjLEdBQUcsZ0JBQWdCLFFBQVEsT0FBTyxlQUFlLGdCQUFnQixDQUFDO1FBRXRGLGFBQWE7UUFDYixNQUFNLGFBQWEsR0FBRyxHQUFHLGNBQWMsT0FBTyxJQUFJLEVBQUUsQ0FBQztRQUVyRCxrQkFBa0I7UUFDbEIsTUFBTSxPQUFPLEdBQUcsU0FBUyxhQUFhLGFBQWEsQ0FBQztRQUNwRCxNQUFNLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUU1QixNQUFNLENBQUMsT0FBTyxDQUFDLFVBQVUsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUNuQyxDQUFDO0lBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztRQUNmLE9BQU8sQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQzlCLE1BQU0sQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUMvQixnQkFBZ0I7UUFDaEIsTUFBTSxXQUFXLEdBQUcsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBQ3ZDLElBQUksV0FBVyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDO1lBQ3JDLGtDQUFrQztZQUNsQyxrREFBa0Q7WUFDbEQsV0FBVyxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUN0QyxDQUFDO0lBQ0gsQ0FBQztBQUNILENBQUMsQ0FBQztBQUVGLFNBQVMsa0JBQWtCO0lBQ3pCLE1BQU0sV0FBVyxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUM7SUFDbEMsTUFBTSxnQkFBZ0IsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLG9CQUFvQixDQUFDLENBQUM7SUFDdkUsTUFBTSxZQUFZLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUM5RCxNQUFNLFlBQVksR0FBRyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsMkJBQTJCLENBQUMsQ0FBQztJQUM1RSxNQUFNLFVBQVUsR0FBRyxZQUFZLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxJQUFJLE9BQU8sQ0FBQztJQUVqRSxNQUFNLGFBQWEsR0FBRyxDQUFDLEtBQWEsRUFBRSxFQUFFO1FBQ3RDLFdBQVcsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxXQUFXLEVBQUUsY0FBYyxDQUFDLENBQUM7UUFDdEUsSUFBSSxLQUFLLEtBQUssT0FBTyxFQUFFLENBQUM7WUFDdEIsV0FBVyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLE9BQU8sQ0FBQyxDQUFDO1FBQzdDLENBQUM7UUFDRCxZQUFZLENBQUMsT0FBTyxDQUFDLFlBQVksRUFBRSxLQUFLLENBQUMsQ0FBQztJQUM1QyxDQUFDLENBQUM7SUFFRixhQUFhLENBQUMsVUFBVSxDQUFDLENBQUM7SUFFMUIsZ0JBQWdCLEVBQUUsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUU7UUFDaEQsQ0FBQyxDQUFDLGVBQWUsRUFBRSxDQUFDO1FBQ3BCLFlBQVksRUFBRSxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzNDLENBQUMsQ0FBQyxDQUFDO0lBRUgsWUFBWSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRTtRQUM1QixNQUFNLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRTtZQUNwQyxNQUFNLEtBQUssR0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDLFlBQVksQ0FBQyxDQUFDO1lBQ2hELElBQUksS0FBSztnQkFBRSxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDaEMsWUFBWSxFQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDeEMsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRTtRQUN2QyxNQUFNLGlCQUFpQixHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsMEJBQTBCLENBQUMsQ0FBQztRQUM3RSxJQUFJLGlCQUFpQixJQUFJLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxNQUFjLENBQUMsRUFBRSxDQUFDO1lBQ3ZFLFlBQVksRUFBRSxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3hDLENBQUM7SUFDSCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUM7QUFFRCxTQUFTLGtCQUFrQixDQUFDLGFBQTRCLEVBQUUsaUJBQXNDO0lBQzlGLE1BQU0sVUFBVSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsb0JBQW9CLENBQUMsQ0FBQztJQUNqRSxNQUFNLEtBQUssR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLHVCQUF1QixDQUFDLENBQUM7SUFDL0QsTUFBTSxhQUFhLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO0lBQzNFLE1BQU0sUUFBUSxHQUFHLEtBQUssRUFBRSxnQkFBZ0IsQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUMxRCxNQUFNLGNBQWMsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDbkUsTUFBTSxhQUFhLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0lBQ2pFLE1BQU0sU0FBUyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsb0JBQW9CLENBQUMsQ0FBQztJQUNoRSxNQUFNLGNBQWMsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGtCQUFrQixDQUFzQixDQUFDO0lBQ3hGLE1BQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUM1RCxNQUFNLFdBQVcsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLHNCQUFzQixDQUFDLENBQUM7SUFFcEUsTUFBTSxlQUFlLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO0lBQ3JFLE1BQU0sZUFBZSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsbUJBQW1CLENBQUMsQ0FBQztJQUNyRSxNQUFNLGlCQUFpQixHQUFHLGFBQWEsRUFBRSxnQkFBZ0IsQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUN0RSxJQUFJLGNBQWMsR0FBRyxNQUFNLENBQUM7SUFFNUIsTUFBTSxtQkFBbUIsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLHVCQUF1QixDQUFDLENBQUM7SUFDN0UsTUFBTSxXQUFXLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUM3RCxNQUFNLGVBQWUsR0FBRyxRQUFRLENBQUMsZ0JBQWdCLENBQUMseUJBQXlCLENBQUMsQ0FBQztJQUM3RSxNQUFNLFNBQVMsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBd0IsQ0FBQztJQUUvRSxNQUFNLGtCQUFrQixHQUFHLENBQUMsR0FBRyxHQUFHLEVBQUUsRUFBRSxLQUFLLEdBQUcsRUFBRSxFQUFlLEVBQUU7UUFDL0QsTUFBTSxHQUFHLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMxQyxHQUFHLENBQUMsU0FBUyxHQUFHLGdCQUFnQixDQUFDO1FBQ2pDLEdBQUcsQ0FBQyxTQUFTLEdBQUc7MEVBQ3NELEdBQUc7MkVBQ0YsS0FBSzs7S0FFM0UsQ0FBQztRQUNGLEdBQUcsQ0FBQyxhQUFhLENBQUMsbUJBQW1CLENBQUMsRUFBRSxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUM7UUFDdEYsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDLENBQUM7SUFFRixNQUFNLFFBQVEsR0FBRyxDQUFDLEdBQUcsR0FBRyxFQUFFLEVBQUUsS0FBSyxHQUFHLEVBQUUsRUFBRSxFQUFFO1FBQ3hDLG1CQUFtQixFQUFFLFdBQVcsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUNuRSxDQUFDLENBQUM7SUFFRixNQUFNLGdCQUFnQixHQUFHLENBQUMsSUFBWSxFQUFFLEVBQUU7UUFDeEMsSUFBSSxDQUFDLG1CQUFtQjtZQUFFLE9BQU87UUFDakMsbUJBQW1CLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztRQUNuQyxRQUFRLElBQUksRUFBRSxDQUFDO1lBQ2IsS0FBSyxJQUFJO2dCQUFFLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7Z0JBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQztnQkFBQyxRQUFRLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDO2dCQUFDLE1BQU07WUFDN0UsS0FBSyxJQUFJO2dCQUFFLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7Z0JBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQztnQkFBQyxRQUFRLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDO2dCQUFDLE1BQU07WUFDN0UsS0FBSyxJQUFJO2dCQUFFLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7Z0JBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQztnQkFBQyxRQUFRLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDO2dCQUFDLE1BQU07WUFDN0UsS0FBSyxJQUFJO2dCQUFFLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7Z0JBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQztnQkFBQyxRQUFRLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDO2dCQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUM7Z0JBQUMsTUFBTTtZQUNsRztnQkFBUyxRQUFRLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDO2dCQUFDLE1BQU07UUFDckMsQ0FBQztJQUNILENBQUMsQ0FBQztJQUVGLE1BQU0sWUFBWSxHQUFHLEdBQUcsRUFBRTtRQUN4QixJQUFJLENBQUMsY0FBYztZQUFFLE9BQU87UUFDNUIsY0FBYyxDQUFDLFNBQVMsR0FBRyxzQ0FBc0MsQ0FBQztRQUNsRSxPQUFPLGNBQWMsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDO1FBQ3pDLE9BQU8sY0FBYyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUM7UUFDM0MsT0FBTyxjQUFjLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQztRQUMzQyxNQUFNLFlBQVksR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLGlDQUFpQyxDQUFxQixDQUFDO1FBQ25HLElBQUksWUFBWTtZQUFFLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN6RCxDQUFDLENBQUM7SUFFRixNQUFNLGVBQWUsR0FBRyxLQUFLLElBQUksRUFBRTtRQUNqQyxJQUFJLENBQUMsY0FBYztZQUFFLE9BQU87UUFFNUIsTUFBTSxrQkFBa0IsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLHlCQUF5QixDQUFDLENBQUM7UUFDOUUsTUFBTSxlQUFlLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO1FBRXhFLDhCQUE4QjtRQUM5QixJQUFJLGVBQWUsSUFBSSxrQkFBa0IsRUFBRSxDQUFDO1lBQzFDLGVBQWUsQ0FBQyxTQUFTLEdBQUcsa0VBQWtFLENBQUM7WUFDL0YsTUFBTSxTQUFTLEdBQUcsbUJBQW1CLEVBQUUsQ0FBQztZQUN4QyxNQUFNLFdBQVcsR0FBRyxZQUFZLENBQUMsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxTQUFTLEVBQUUsQ0FBQyxDQUFDO1lBQzdFLE1BQU0sY0FBYyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUMsQ0FBQztZQUN2RCxNQUFNLGFBQWEsR0FBRyxNQUFNLG9EQUFzQixFQUFFLENBQUM7WUFFckQsSUFBSSxRQUFRLEdBQUcsRUFBRSxDQUFDO1lBQ2xCLElBQUksU0FBUyxHQUFHLENBQUMsQ0FBQztZQUNsQixNQUFNLEtBQUssR0FBa0IsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1lBRWhELEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7Z0JBQ25CLE1BQU0sY0FBYyxHQUFHLGNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7Z0JBQ2xELE1BQU0sV0FBVyxHQUFHLElBQUksR0FBRyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDaEUsTUFBTSxXQUFXLEdBQUcsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQWUsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBRS9GLElBQUksV0FBVyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQztvQkFDM0IsU0FBUyxJQUFJLFdBQVcsQ0FBQyxNQUFNLENBQUM7b0JBQ2hDLFFBQVEsSUFBSSw2REFBNkQsSUFBSSxXQUFXLENBQUM7b0JBQ3pGLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFtQixFQUFFLEVBQUU7d0JBQzFDLFFBQVEsSUFBSSx3SUFBd0ksSUFBSSxnQkFBZ0IsS0FBSyxDQUFDLEVBQUUsbUJBQW1CLEtBQUssQ0FBQyxFQUFFLHNCQUFzQixDQUFDO29CQUNwTyxDQUFDLENBQUMsQ0FBQztvQkFDSCxRQUFRLElBQUksT0FBTyxDQUFDO2dCQUN0QixDQUFDO1lBQ0gsQ0FBQyxDQUFDLENBQUM7WUFFSCxJQUFJLFNBQVMsS0FBSyxDQUFDLEVBQUUsQ0FBQztnQkFDcEIsa0JBQWtCLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7WUFDNUMsQ0FBQztpQkFBTSxDQUFDO2dCQUNOLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO2dCQUMzQyxlQUFlLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQztZQUN2QyxDQUFDO1FBQ0gsQ0FBQztRQUVELCtCQUErQjtRQUMvQixNQUFNLHdCQUF3QixHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsdUJBQXVCLENBQUMsQ0FBQztRQUNsRixJQUFJLENBQUMsd0JBQXdCO1lBQUUsT0FBTztRQUN0Qyx3QkFBd0IsQ0FBQyxTQUFTLEdBQUcsdUpBQXVKLENBQUM7UUFDN0wsTUFBTSxXQUFXLEdBQUcsTUFBTSxvREFBc0IsRUFBRSxDQUFDO1FBQ25ELElBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUNkLE1BQU0sS0FBSyxHQUFrQixDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFaEQsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUNuQixNQUFNLE9BQU8sR0FBRyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDbEMsSUFBSSxJQUFJLDZLQUE2SyxJQUFJLE9BQU8sT0FBTyxDQUFDLE1BQU0sbUlBQW1JLENBQUM7WUFDbFYsSUFBSSxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDO2dCQUN2QixPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO29CQUN0QixJQUFJLElBQUk7OztpRUFHK0MsSUFBSSxnQkFBZ0IsS0FBSyxDQUFDLEVBQUU7Z0RBQzdDLEtBQUssQ0FBQyxFQUFFLEtBQUssS0FBSyxDQUFDLEVBQUU7Ozs4SEFHeUQsSUFBSSxnQkFBZ0IsS0FBSyxDQUFDLEVBQUU7Z0lBQzFCLElBQUksZ0JBQWdCLEtBQUssQ0FBQyxFQUFFOzhIQUM5QixJQUFJLGdCQUFnQixLQUFLLENBQUMsRUFBRTs7a0JBRXhJLENBQUM7Z0JBQ1gsQ0FBQyxDQUFDLENBQUM7WUFDTCxDQUFDO2lCQUFNLENBQUM7Z0JBQ04sSUFBSSxJQUFJLHlEQUF5RCxDQUFDO1lBQ3BFLENBQUM7WUFDRCxJQUFJLElBQUksaUJBQWlCLENBQUM7UUFDNUIsQ0FBQyxDQUFDLENBQUM7UUFDSCx3QkFBd0IsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1FBRTFDLDJCQUEyQjtRQUMzQixNQUFNLHFCQUFxQixHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsMkJBQTJCLENBQUMsQ0FBQztRQUNuRixJQUFJLHFCQUFxQixFQUFFLENBQUM7WUFDMUIsTUFBTSxVQUFVLEdBQUcsTUFBTSxtREFBcUIsRUFBRSxDQUFDO1lBQ2pELE1BQU0sWUFBWSxHQUFHLFVBQVUsQ0FBQyxHQUFHLElBQUksRUFBRSxDQUFDO1lBQzFDLE1BQU0sTUFBTSxHQUFHLFVBQVUsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDO1lBRXBDLElBQUksZ0JBQWdCLEdBQUc7Ozt3QkFHTCxZQUFZLENBQUMsTUFBTSxPQUFPLE1BQU07Ozs7T0FJakQsQ0FBQztZQUVGLElBQUksWUFBWSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQztnQkFDNUIsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQVEsRUFBRSxFQUFFO29CQUNoQyxNQUFNLE9BQU8sR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7b0JBQzFCLGdCQUFnQixJQUFJOzs7OzRFQUk4QyxPQUFPO3FFQUNkLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFOzs4REFFdEIsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLE9BQU87OzsrSUFHNkQsT0FBTzs2SUFDVCxPQUFPOzs7V0FHekksQ0FBQztnQkFDSixDQUFDLENBQUMsQ0FBQztZQUNMLENBQUM7aUJBQU0sQ0FBQztnQkFDTixnQkFBZ0IsSUFBSSw2REFBNkQsQ0FBQztZQUNwRixDQUFDO1lBRUQsZ0JBQWdCLElBQUksaUJBQWlCLENBQUM7WUFDdEMscUJBQXFCLENBQUMsU0FBUyxHQUFHLGdCQUFnQixDQUFDO1FBQ3JELENBQUM7SUFDSCxDQUFDLENBQUM7SUFFRixNQUFNLFNBQVMsR0FBRyxLQUFLLElBQUksRUFBRTtRQUMzQixNQUFNLGVBQWUsRUFBRSxDQUFDO1FBQ3hCLEtBQUssRUFBRSxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3BDLENBQUMsQ0FBQztJQUNGLE1BQU0sU0FBUyxHQUFHLEdBQUcsRUFBRSxDQUFDLEtBQUssRUFBRSxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBRXZELFVBQVUsRUFBRSxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDakQsYUFBYSxFQUFFLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxTQUFTLENBQUMsQ0FBQztJQUNwRCxLQUFLLEVBQUUsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUU7UUFDckMsSUFBSSxDQUFDLENBQUMsTUFBTSxLQUFLLEtBQUs7WUFBRSxTQUFTLEVBQUUsQ0FBQztJQUN0QyxDQUFDLENBQUMsQ0FBQztJQUVILE9BQU8sRUFBRSxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFO1FBQ3RDLFdBQVcsRUFBRSxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3hDLE9BQU8sQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3JDLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLGNBQWMsQ0FBQyx5QkFBeUIsQ0FBQyxFQUFFLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxLQUFLLElBQUksRUFBRTtRQUN2RixNQUFNLFVBQVUsR0FBRyxRQUFRLENBQUMsZ0JBQWdCLENBQW1CLHNEQUFzRCxDQUFDLENBQUM7UUFDdkgsSUFBSSxVQUFVLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRSxDQUFDO1lBQzVCLE1BQU0sQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUNqQyxPQUFPO1FBQ1QsQ0FBQztRQUVELE1BQU0sU0FBUyxHQUFHLG1CQUFtQixFQUFFLENBQUM7UUFDeEMsTUFBTSxXQUFXLEdBQUcsWUFBWSxDQUFDLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsU0FBUyxFQUFFLENBQUMsQ0FBQztRQUM3RSxNQUFNLGNBQWMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDdkQsSUFBSSxZQUFZLEdBQUcsQ0FBQyxDQUFDO1FBRXJCLEtBQUssTUFBTSxFQUFFLElBQUksVUFBVSxFQUFFLENBQUM7WUFDNUIsTUFBTSxJQUFJLEdBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxJQUFtQixDQUFDO1lBQzVDLE1BQU0sSUFBSSxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDO1lBQzdCLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxjQUFjLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztnQkFDekMsTUFBTSxLQUFLLEdBQUcsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQWUsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxJQUFJLENBQUMsQ0FBQztnQkFDNUUsSUFBSSxLQUFLLEVBQUUsQ0FBQztvQkFDVixJQUFJLE1BQU0sd0RBQTBCLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxFQUFFLENBQUM7d0JBQ2xELFlBQVksRUFBRSxDQUFDO29CQUNqQixDQUFDO2dCQUNILENBQUM7WUFDSCxDQUFDO1FBQ0gsQ0FBQztRQUVELElBQUksWUFBWSxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQ3JCLE1BQU0sQ0FBQyxPQUFPLENBQUMsU0FBUyxZQUFZLFFBQVEsQ0FBQyxDQUFDO1lBQzlDLE1BQU0sZUFBZSxFQUFFLENBQUM7UUFDMUIsQ0FBQztJQUNILENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxFQUFFLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRTtRQUN6QixNQUFNLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRTtZQUNwQyxNQUFNLEdBQUcsR0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQzVDLFFBQVEsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1lBQ3hELE1BQU0sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBRS9CLFlBQVksRUFBRSxDQUFDO1lBRWYsY0FBYyxFQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDeEMsYUFBYSxFQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDdkMsU0FBUyxFQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDbkMsY0FBYyxFQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7WUFFeEMsSUFBSSxHQUFHLEtBQUssTUFBTSxFQUFFLENBQUM7Z0JBQ25CLGNBQWMsRUFBRSxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUMzQyxTQUFTLEVBQUUsU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUN4QyxDQUFDO2lCQUFNLElBQUksR0FBRyxLQUFLLEtBQUssRUFBRSxDQUFDO2dCQUN6QixhQUFhLEVBQUUsU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDMUMsY0FBYyxFQUFFLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDN0MsQ0FBQztRQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxTQUFTLEVBQUUsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLEtBQUssSUFBSSxFQUFFO1FBQzlDLE1BQU0sZUFBZSxHQUE4QyxFQUFFLENBQUM7UUFDdEUsTUFBTSxVQUFVLEdBQUcsS0FBSyxFQUFFLGdCQUFnQixDQUFtQixrREFBa0QsQ0FBQyxDQUFDO1FBRWpILElBQUksQ0FBQyxVQUFVLElBQUksVUFBVSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUUsQ0FBQztZQUMzQyxNQUFNLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDakMsT0FBTztRQUNULENBQUM7UUFFRCxNQUFNLFdBQVcsR0FBRyxNQUFNLG9EQUFzQixFQUFFLENBQUM7UUFFbkQsVUFBVSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsRUFBRTtZQUN0QixNQUFNLElBQUksR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLElBQW1CLENBQUM7WUFDNUMsTUFBTSxJQUFJLEdBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUM7WUFDN0IsSUFBSSxJQUFJLElBQUksSUFBSSxFQUFFLENBQUM7Z0JBQ2pCLE1BQU0sS0FBSyxHQUFHLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLElBQUksQ0FBQyxDQUFDO2dCQUN6RCxJQUFJLEtBQUssRUFBRSxDQUFDO29CQUNWLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQzt3QkFDM0IsZUFBZSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztvQkFDN0IsQ0FBQztvQkFDRCxlQUFlLENBQUMsSUFBSSxDQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUNyQyxDQUFDO1lBQ0gsQ0FBQztRQUNILENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQztZQUFFLE9BQU87UUFFdkMsTUFBTSxTQUFTLEdBQUcsbUJBQW1CLEVBQUUsQ0FBQztRQUN4QyxNQUFNLFdBQVcsR0FBRyxZQUFZLENBQUMsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxTQUFTLEVBQUUsQ0FBQyxDQUFDO1FBRTdFLE1BQU0sT0FBTyxHQUFHLEVBQUUsQ0FBQztRQUNuQixLQUFLLE1BQU0sQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsRUFBRSxDQUFDO1lBQzVELE1BQU0sSUFBSSxHQUFHLFNBQVMsSUFBSSxFQUFFLENBQUM7WUFDN0IsTUFBTSxlQUFlLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ3JELE1BQU0sVUFBVSxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsZUFBZSxFQUFFLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztZQUM3RCxDQUFDLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDckMsQ0FBQztRQUVELE1BQU0sdUJBQXVCLENBQUMsT0FBTyxFQUFFLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsU0FBUyxFQUFFLENBQUMsQ0FBQztRQUNuRixNQUFNLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQy9CLFNBQVMsRUFBRSxDQUFDO1FBQ1osYUFBYSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ3ZCLENBQUMsQ0FBQyxDQUFDO0lBRUgsaUJBQWlCLEVBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFO1FBQ2xDLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFO1lBQ3BDLE1BQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDOUMsSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLEtBQUssY0FBYztnQkFBRSxPQUFPO1lBQzdDLGNBQWMsR0FBRyxJQUFJLENBQUM7WUFDdEIsaUJBQWlCLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztZQUNqRSxNQUFNLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUMvQixJQUFJLElBQUksS0FBSyxNQUFNLEVBQUUsQ0FBQztnQkFDcEIsZUFBZSxFQUFFLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQzVDLGVBQWUsRUFBRSxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQzNDLENBQUM7aUJBQU0sQ0FBQztnQkFDTixlQUFlLEVBQUUsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDekMsZUFBZSxFQUFFLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDOUMsQ0FBQztRQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxNQUFNLFlBQVksR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLGlDQUFpQyxDQUFxQixDQUFDO0lBQ25HLElBQUksWUFBWTtRQUFFLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUV2RCxXQUFXLEVBQUUsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7SUFDekQsZUFBZSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUM5QixLQUFLLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUU7WUFDckMsZ0JBQWdCLENBQUUsQ0FBQyxDQUFDLE1BQTJCLENBQUMsS0FBSyxDQUFDO1FBQ3hELENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxjQUFjLEVBQUUsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLEtBQUssSUFBSSxFQUFFO1FBQ25ELE1BQU0sUUFBUSxHQUFHLGNBQWMsQ0FBQyxPQUFPLENBQUMsVUFBVSxLQUFLLE1BQU0sQ0FBQztRQUU5RCxJQUFJLGNBQWMsS0FBSyxNQUFNLEVBQUUsQ0FBQztZQUM5QixNQUFNLElBQUksR0FBSSxRQUFRLENBQUMsYUFBYSxDQUFDLGlDQUFpQyxDQUFzQixFQUFFLEtBQUssQ0FBQztZQUNwRyxNQUFNLFFBQVEsR0FBaUIsRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLENBQUM7WUFDNUMsTUFBTSxJQUFJLEdBQUcsbUJBQW1CLEVBQUUsZ0JBQWdCLENBQUMsaUJBQWlCLENBQUMsQ0FBQztZQUN0RSxJQUFJLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFO2dCQUNsQixNQUFNLEdBQUcsR0FBSSxHQUFHLENBQUMsYUFBYSxDQUFDLGlCQUFpQixDQUFzQixFQUFFLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztnQkFDckYsTUFBTSxLQUFLLEdBQUksR0FBRyxDQUFDLGFBQWEsQ0FBQyxtQkFBbUIsQ0FBc0IsRUFBRSxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUM7Z0JBQ3pGLElBQUksR0FBRztvQkFBRSxRQUFRLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDO1lBQ2pDLENBQUMsQ0FBQyxDQUFDO1lBRUgsSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFLEVBQUUsQ0FBQztnQkFDakIsTUFBTSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQztnQkFDN0IsT0FBTztZQUNULENBQUM7WUFFRCxJQUFJLFFBQVEsRUFBRSxDQUFDO2dCQUNiLE1BQU0sWUFBWSxHQUFHLGNBQWMsQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDO2dCQUN6RCxNQUFNLFlBQVksR0FBRyxjQUFjLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQztnQkFFekQsSUFBSSxDQUFDLFlBQVksSUFBSSxDQUFDLFlBQVksSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO29CQUM1QyxNQUFNLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxDQUFDO29CQUM3QixPQUFPO2dCQUNULENBQUM7Z0JBRUQsSUFBSSxZQUFZLEtBQUssSUFBSSxFQUFFLENBQUM7b0JBQzFCLG1DQUFtQztvQkFDbkMsSUFBSSxJQUFJLEtBQUssSUFBSSxFQUFFLENBQUM7d0JBQ2xCLE1BQU0sdURBQXlCLENBQUMsWUFBWSxFQUFFLFFBQVEsQ0FBQyxDQUFDO29CQUMxRCxDQUFDO3lCQUFNLENBQUM7d0JBQ04sTUFBTSx3REFBMEIsQ0FBQyxJQUFtQixFQUFFLFlBQVksRUFBRSxRQUFRLENBQUMsQ0FBQztvQkFDaEYsQ0FBQztnQkFDSCxDQUFDO3FCQUFNLENBQUM7b0JBQ04sOERBQThEO29CQUM5RCxJQUFJLFlBQVksS0FBSyxJQUFJLEVBQUUsQ0FBQzt3QkFDMUIsTUFBTSx1REFBeUIsQ0FBQyxZQUFZLENBQUMsQ0FBQztvQkFDaEQsQ0FBQzt5QkFBTSxDQUFDO3dCQUNOLE1BQU0sd0RBQTBCLENBQUMsWUFBMkIsRUFBRSxZQUFZLENBQUMsQ0FBQztvQkFDOUUsQ0FBQztvQkFFRCxJQUFJLElBQUksS0FBSyxJQUFJLEVBQUUsQ0FBQzt3QkFDbEIsTUFBTSx1REFBeUIsQ0FBQyxRQUFRLENBQUMsQ0FBQztvQkFDNUMsQ0FBQzt5QkFBTSxDQUFDO3dCQUNOLE1BQU0sd0RBQTBCLENBQUMsSUFBbUIsRUFBRSxRQUFRLENBQUMsQ0FBQztvQkFDbEUsQ0FBQztvQkFDRCxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsWUFBWSxRQUFRLElBQUksR0FBRyxDQUFDLENBQUM7Z0JBQ25ELENBQUM7Z0JBQ0QsWUFBWSxFQUFFLENBQUM7WUFDakIsQ0FBQztpQkFBTSxDQUFDO2dCQUNOLG1CQUFtQjtnQkFDbkIsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO29CQUNWLE1BQU0sQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUM7b0JBQzNCLE9BQU87Z0JBQ1QsQ0FBQztnQkFDRCxJQUFJLElBQUksS0FBSyxJQUFJLEVBQUUsQ0FBQztvQkFDbEIsTUFBTSxPQUFPLEdBQUcsTUFBTSx1REFBeUIsQ0FBQyxRQUFRLENBQUMsQ0FBQztvQkFDMUQsSUFBSSxPQUFPO3dCQUFFLGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUN0QyxDQUFDO3FCQUFNLENBQUM7b0JBQ04sTUFBTSxPQUFPLEdBQUcsTUFBTSx3REFBMEIsQ0FBQyxJQUFtQixFQUFFLFFBQVEsQ0FBQyxDQUFDO29CQUNoRixJQUFJLE9BQU8sRUFBRSxDQUFDO3dCQUNaLGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDO29CQUN6QixDQUFDO2dCQUNILENBQUM7WUFDSCxDQUFDO1FBQ0gsQ0FBQzthQUFNLElBQUksY0FBYyxLQUFLLE1BQU0sRUFBRSxDQUFDLENBQUMsWUFBWTtZQUNsRCxNQUFNLElBQUksR0FBSSxRQUFRLENBQUMsYUFBYSxDQUFDLHFDQUFxQyxDQUFzQixFQUFFLEtBQTJCLENBQUM7WUFDOUgsTUFBTSxVQUFVLEdBQUcsU0FBUyxFQUFFLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUMzQyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7Z0JBQ2hCLE1BQU0sQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUM7Z0JBQzdCLE9BQU87WUFDVCxDQUFDO1lBQ0QsSUFBSSxDQUFDO2dCQUNILE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBQ3BDLE1BQU0sT0FBTyxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDcEQsSUFBSSxZQUFZLEdBQUcsQ0FBQyxDQUFDO2dCQUVyQixJQUFJLElBQUksS0FBSyxJQUFJLEVBQUUsQ0FBQztvQkFDbEIsS0FBSyxNQUFNLEtBQUssSUFBSSxPQUFPLEVBQUUsQ0FBQzt3QkFDNUIsSUFBSSxNQUFNLHVEQUF5QixDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7NEJBQzNDLFlBQVksRUFBRSxDQUFDO3dCQUNqQixDQUFDO29CQUNILENBQUM7b0JBQ0QsSUFBSSxZQUFZLEdBQUcsQ0FBQyxFQUFFLENBQUM7d0JBQ3JCLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxZQUFZLFFBQVEsQ0FBQyxDQUFDO3dCQUM3QyxTQUFTLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQztvQkFDdkIsQ0FBQztnQkFDSCxDQUFDO3FCQUFNLENBQUM7b0JBQ04sS0FBSyxNQUFNLEtBQUssSUFBSSxPQUFPLEVBQUUsQ0FBQzt3QkFDNUIsSUFBSSxNQUFNLHdEQUEwQixDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDOzRCQUNsRCxZQUFZLEVBQUUsQ0FBQzt3QkFDakIsQ0FBQztvQkFDSCxDQUFDO29CQUNELElBQUksWUFBWSxHQUFHLENBQUM7d0JBQUUsU0FBUyxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7Z0JBQzdDLENBQUM7WUFDSCxDQUFDO1lBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztnQkFDZixNQUFNLENBQUMsS0FBSyxDQUFDLGlCQUFpQixDQUFDLENBQUM7Z0JBQ2hDLE9BQU8sQ0FBQyxLQUFLLENBQUMsc0JBQXNCLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDL0MsQ0FBQztRQUNILENBQUM7UUFDRCxNQUFNLGVBQWUsRUFBRSxDQUFDO0lBQzFCLENBQUMsQ0FBQyxDQUFDO0lBRUgsY0FBYyxFQUFFLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFDcEQsTUFBTSxNQUFNLEdBQUcsQ0FBQyxDQUFDLE1BQXFCLENBQUM7UUFDdkMsTUFBTSxZQUFZLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO1FBQzNELE1BQU0sVUFBVSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsbUJBQW1CLENBQUMsQ0FBQztRQUN2RCxNQUFNLFVBQVUsR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUM7UUFFdkQsSUFBSSxVQUFVLEVBQUUsQ0FBQztZQUNmLE1BQU0sSUFBSSxHQUFHLFVBQVUsQ0FBQyxZQUFZLENBQUMsV0FBVyxDQUF1QixDQUFDO1lBQ3hFLE1BQU0sSUFBSSxHQUFHLFVBQVUsQ0FBQyxZQUFZLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDbEQsSUFBSSxJQUFJLElBQUksSUFBSSxFQUFFLENBQUM7Z0JBQ2pCLElBQUksSUFBSSxLQUFLLElBQUksRUFBRSxDQUFDO29CQUNsQixNQUFNLFlBQVksR0FBRyxNQUFNLHFEQUF1QixFQUFFLENBQUM7b0JBQ3JELE1BQU0sS0FBSyxHQUFHLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFRLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFJLENBQUMsQ0FBQztvQkFDbEUsSUFBSSxLQUFLO3dCQUFFLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUN0QyxDQUFDO3FCQUFNLENBQUM7b0JBQ04sTUFBTSxLQUFLLEdBQUcsTUFBTSxzREFBd0IsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7b0JBQ3pELElBQUksS0FBSyxFQUFFLENBQUM7d0JBQ1YsaUJBQWlCLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQzNCLENBQUM7Z0JBQ0gsQ0FBQztZQUNILENBQUM7UUFDSCxDQUFDO1FBRUQsSUFBSSxZQUFZLEVBQUUsQ0FBQztZQUNqQixNQUFNLElBQUksR0FBRyxZQUFZLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBdUIsQ0FBQztZQUMxRSxNQUFNLElBQUksR0FBRyxZQUFZLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQ3BELElBQUksSUFBSSxJQUFJLElBQUksRUFBRSxDQUFDO2dCQUNqQixJQUFJLE9BQU8sQ0FBQyxTQUFTLElBQUksVUFBVSxJQUFJLGNBQWMsQ0FBQyxFQUFFLENBQUM7b0JBQ3ZELElBQUksT0FBTyxHQUFHLEtBQUssQ0FBQztvQkFDcEIsSUFBSSxJQUFJLEtBQUssSUFBSSxFQUFFLENBQUM7d0JBQ2xCLE9BQU8sR0FBRyxNQUFNLHVEQUF5QixDQUFDLElBQUksQ0FBQyxDQUFDO29CQUNsRCxDQUFDO3lCQUFNLENBQUM7d0JBQ04sT0FBTyxHQUFHLE1BQU0sd0RBQTBCLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO29CQUN6RCxDQUFDO29CQUNELElBQUksT0FBTyxFQUFFLENBQUM7d0JBQ1osTUFBTSxlQUFlLEVBQUUsQ0FBQztvQkFDMUIsQ0FBQztnQkFDSCxDQUFDO1lBQ0gsQ0FBQztRQUNILENBQUM7UUFFRCxJQUFJLFVBQVUsRUFBRSxDQUFDO1lBQ2YsTUFBTSxJQUFJLEdBQUcsVUFBVSxDQUFDLFlBQVksQ0FBQyxXQUFXLENBQXVCLENBQUM7WUFDeEUsTUFBTSxJQUFJLEdBQUcsVUFBVSxDQUFDLFlBQVksQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUNsRCxJQUFJLElBQUksSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDakIsSUFBSSxLQUFLLEdBQXdCLElBQUksQ0FBQztnQkFDdEMsSUFBSSxJQUFJLEtBQUssSUFBSSxFQUFFLENBQUM7b0JBQ2xCLE1BQU0sWUFBWSxHQUFHLE1BQU0scURBQXVCLEVBQUUsQ0FBQztvQkFDckQsS0FBSyxHQUFHLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFRLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUM7Z0JBQ3RFLENBQUM7cUJBQU0sQ0FBQztvQkFDTixLQUFLLEdBQUcsQ0FBQyxNQUFNLHNEQUF3QixDQUFDLElBQW1CLEVBQUUsSUFBSSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUM7Z0JBQzlFLENBQUM7Z0JBRUQsSUFBSSxLQUFLLEVBQUUsQ0FBQztvQkFDVixRQUFRLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQztvQkFDakcsY0FBYyxFQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7b0JBQ3hDLGFBQWEsRUFBRSxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO29CQUMxQyxTQUFTLEVBQUUsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztvQkFDbkMsY0FBYyxFQUFFLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7b0JBRTNDLGlCQUFpQixFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxLQUFLLE1BQU0sQ0FBQyxDQUFDLENBQUM7b0JBQzVHLGVBQWUsRUFBRSxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO29CQUM1QyxlQUFlLEVBQUUsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztvQkFDekMsY0FBYyxHQUFHLE1BQU0sQ0FBQztvQkFFdkIsUUFBUSxDQUFDLGFBQWEsQ0FBQyxrQ0FBa0MsSUFBSSxJQUFJLENBQXNCLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztvQkFFeEcsSUFBSSxtQkFBbUI7d0JBQUUsbUJBQW1CLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztvQkFDNUQsTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsRUFBRSxFQUFFO3dCQUM3QyxRQUFRLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO29CQUMvQixDQUFDLENBQUMsQ0FBQztvQkFFSCxjQUFjLENBQUMsU0FBUyxHQUFHLHVDQUF1QyxDQUFDO29CQUNuRSxjQUFjLENBQUMsT0FBTyxDQUFDLFVBQVUsR0FBRyxNQUFNLENBQUM7b0JBQzNDLGNBQWMsQ0FBQyxPQUFPLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQztvQkFDM0MsY0FBYyxDQUFDLE9BQU8sQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDO2dCQUM3QyxDQUFDO1lBQ0gsQ0FBQztRQUNILENBQUM7SUFDSCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUM7QUFFRCxNQUFNLGFBQWE7SUFDVCxRQUFRLENBQU07SUFDZCxjQUFjLENBQVM7SUFDdkIsV0FBVyxDQUFnQjtJQUMzQixRQUFRLENBWWQ7SUFDTSxjQUFjLEdBQVEsSUFBSSxDQUFDO0lBQzNCLFFBQVEsR0FBUSxJQUFJLENBQUM7SUFFN0I7UUFDRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztRQUNyQixJQUFJLENBQUMsY0FBYyxHQUFHLEVBQUUsQ0FBQztRQUN6QixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztRQUN4QixJQUFJLENBQUMsUUFBUSxHQUFHO1lBQ2QsY0FBYyxFQUFFLFFBQVEsQ0FBQyxjQUFjLENBQUMsa0JBQWtCLENBQUM7WUFDM0QsV0FBVyxFQUFFLFFBQVEsQ0FBQyxjQUFjLENBQUMsY0FBYyxDQUFDO1lBQ3BELGVBQWUsRUFBRSxRQUFRLENBQUMsY0FBYyxDQUFDLGtCQUFrQixDQUFDO1lBQzVELG1CQUFtQixFQUFFLFFBQVEsQ0FBQyxjQUFjLENBQUMsc0JBQXNCLENBQUM7WUFDcEUsV0FBVyxFQUFFLFFBQVEsQ0FBQyxjQUFjLENBQUMsY0FBYyxDQUFDO1lBQ3BELFdBQVcsRUFBRSxRQUFRLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBQztZQUN0RCxlQUFlLEVBQUUsUUFBUSxDQUFDLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBQztZQUM1RCxnQkFBZ0IsRUFBRSxRQUFRLENBQUMsY0FBYyxDQUFDLG1CQUFtQixDQUFDO1lBQzlELGlCQUFpQixFQUFFLFFBQVEsQ0FBQyxjQUFjLENBQUMsb0JBQW9CLENBQUM7WUFDaEUsa0JBQWtCLEVBQUUsUUFBUSxDQUFDLGNBQWMsQ0FBQyxxQkFBcUIsQ0FBQztZQUNsRSxrQkFBa0IsRUFBRSxRQUFRLENBQUMsY0FBYyxDQUFDLHFCQUFxQixDQUFDO1NBQ2pFLENBQUM7SUFDSixDQUFDO0lBRU8sbUJBQW1CO1FBQ3pCLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVE7WUFBRSxPQUFPO1FBQ2hELE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ2pELElBQUksUUFBUSxHQUFHLEtBQUssQ0FBQztRQUVyQixJQUFJLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFFBQVEsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUNqRCxRQUFRLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQ3hCLFFBQVEsR0FBRyxJQUFJLENBQUM7UUFDbEIsQ0FBQztRQUNELElBQUksQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsUUFBUSxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDO1lBQ2xELFFBQVEsQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxDQUFDO1lBQzlDLFFBQVEsR0FBRyxJQUFJLENBQUM7UUFDbEIsQ0FBQztRQUNELElBQUksQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsUUFBUSxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDO1lBQ2xELFFBQVEsQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxDQUFDO1lBQzlDLFFBQVEsR0FBRyxJQUFJLENBQUM7UUFDbEIsQ0FBQztRQUNELElBQUksUUFBUSxFQUFFLENBQUM7WUFDYixNQUFNLENBQUMsSUFBSSxDQUFDLHlCQUF5QixDQUFDLENBQUM7UUFDekMsQ0FBQztJQUNILENBQUM7SUFFRCxLQUFLLENBQUMsSUFBSTtRQUNSLE9BQU8sQ0FBQyxHQUFHLENBQUMsaUNBQWlDLENBQUMsQ0FBQztRQUMvQyxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDdkIsSUFBSSxDQUFDO1lBQ0gsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsNEJBQTRCLEVBQUUsQ0FBQztZQUMxRCxPQUFPLENBQUMsR0FBRyxDQUFDLDBDQUEwQyxFQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUU3RSxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO2dCQUN6QixNQUFNLENBQUMsS0FBSyxDQUFDLG1CQUFtQixDQUFDLENBQUM7Z0JBQ2xDLE9BQU87WUFDVCxDQUFDO1lBRUQsSUFBSSxVQUFVLENBQUM7WUFDZixJQUFJLENBQUM7Z0JBQ0gsVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1lBQy9DLENBQUM7WUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO2dCQUNmLE9BQU8sQ0FBQyxLQUFLLENBQUMsc0JBQXNCLEVBQUUsS0FBSyxDQUFDLENBQUM7Z0JBQzdDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLEtBQWMsQ0FBQyxDQUFDO2dCQUMvRCxPQUFPO1lBQ1QsQ0FBQztZQUVELElBQUksQ0FBQyxRQUFRLEdBQUcsVUFBVSxDQUFDO1lBQzNCLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7Z0JBQ2pCLE1BQU0sQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLENBQUM7Z0JBQzVCLE9BQU87WUFDWCxDQUFDO1lBRUQsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1lBQ3ZCLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1lBQzNCLE1BQU0sSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1lBQzNCLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUVqQixNQUFNLFVBQVUsR0FBRyxZQUFZLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxJQUFJLE9BQU8sQ0FBQztZQUNqRSxNQUFNLFdBQVcsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLDBCQUEwQixVQUFVLElBQUksQ0FBZ0IsQ0FBQztZQUNwRyxJQUFJLFdBQVc7Z0JBQUUsV0FBVyxDQUFDLEtBQUssRUFBRSxDQUFDO1lBRXJDLE1BQU0sQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDakMsQ0FBQztRQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7WUFDZixPQUFPLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztZQUM5QixJQUFJLENBQUMsV0FBVyxDQUFDLEtBQWMsQ0FBQyxDQUFDO1FBQ25DLENBQUM7SUFDSCxDQUFDO0lBRUQsNEJBQTRCO1FBQzFCLElBQUksQ0FBQztZQUNILE1BQU0sU0FBUyxHQUFHLG1CQUFtQixFQUFFLENBQUM7WUFDeEMsSUFBSSxTQUFTLEtBQUssSUFBSSxJQUFJLFNBQVMsS0FBSyxTQUFTLEVBQUUsQ0FBQztnQkFDbEQsTUFBTSxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQztnQkFDN0IsT0FBTyxFQUFFLENBQUM7WUFDWixDQUFDO1lBQ0QsTUFBTSxPQUFPLEdBQUcsZUFBZSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzlDLElBQUksQ0FBQyxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTztnQkFBRSxPQUFPLEVBQUUsQ0FBQztZQUM1QyxPQUFPLGlFQUF3QixDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNuRCxDQUFDO1FBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQztZQUNYLE9BQU8sQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQzlCLE1BQU0sQ0FBQyxLQUFLLENBQUMsc0JBQXNCLENBQUMsQ0FBQztZQUNyQyxPQUFPLEVBQUUsQ0FBQztRQUNaLENBQUM7SUFDSCxDQUFDO0lBRUQsZUFBZTtRQUNiLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxtQkFBbUI7WUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLG1CQUFtQixDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDMUcsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLFdBQVc7WUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxTQUFTLEdBQUcsT0FBTyxJQUFJLENBQUMsYUFBYSxFQUFFLE9BQU8sQ0FBQztJQUMxRyxDQUFDO0lBRUQsYUFBYTtRQUNYLE9BQU8sdUpBQXVKLENBQUM7SUFDakssQ0FBQztJQUVELGVBQWU7UUFDYixNQUFNLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN4QyxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEdBQUcsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDL0YsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUNwQixNQUFNLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ3ZCLE9BQU87UUFDWCxDQUFDO1FBQ0QsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLGNBQWM7WUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxXQUFXLEdBQUcsTUFBTSxDQUFDO0lBQ3RGLENBQUM7SUFFRCxtQkFBbUIsQ0FBQyxJQUFTLEVBQUUsUUFBa0I7UUFDL0MsSUFBSSxDQUFDLElBQUksSUFBSSxPQUFPLElBQUksS0FBSyxRQUFRO1lBQUUsT0FBTyxJQUFJLENBQUM7UUFDbkQsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNqQyxLQUFLLE1BQU0sS0FBSyxJQUFJLE1BQU0sRUFBRSxDQUFDO1lBQzNCLEtBQUssTUFBTSxPQUFPLElBQUksUUFBUSxFQUFFLENBQUM7Z0JBQy9CLElBQUksS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLENBQUM7b0JBQUUsT0FBTyxLQUFLLENBQUM7WUFDeEUsQ0FBQztRQUNILENBQUM7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCxTQUFTO1FBQ1AsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXO1lBQUUsT0FBTztRQUM5QixNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNqRCxJQUFJLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDaEMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDN0IsSUFBSSxDQUFDLDRCQUE0QixFQUFFLENBQUM7UUFDcEMsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUM1QixJQUFJLENBQUMsbUJBQW1CLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUVELGdCQUFnQixDQUFDLElBQVM7UUFDeEIsTUFBTSxhQUFhLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ25FLE1BQU0sYUFBYSxHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUNuRSxNQUFNLGlCQUFpQixHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxFQUFFLFVBQVUsQ0FBQztRQUNoRSxNQUFNLHFCQUFxQixHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsZUFBZSxFQUFFLFVBQVUsQ0FBQztRQUV4RSxJQUFJLGFBQWEsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsSUFBSSxpQkFBaUIsRUFBRSxDQUFDO1lBQ3BFLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztZQUN2RixNQUFNLE9BQU8sR0FBRyxpQkFBaUIsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDMUQsSUFBSSxPQUFPO2dCQUFFLE9BQU8sQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLENBQUM7UUFDekYsQ0FBQztRQUNELElBQUksYUFBYSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsZUFBZSxJQUFJLHFCQUFxQixFQUFFLENBQUM7WUFDNUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxlQUFlLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1lBQzNGLE1BQU0sT0FBTyxHQUFHLHFCQUFxQixDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUM5RCxJQUFJLE9BQU87Z0JBQUUsT0FBTyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssQ0FBQztRQUN6RixDQUFDO0lBQ0gsQ0FBQztJQUVELGdCQUFnQixDQUFDLElBQVM7UUFDeEIsTUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUN2RSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztZQUN0QyxJQUFJLENBQUMsUUFBUSxDQUFDLG1CQUFtQixDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7WUFDakQsSUFBSSxXQUFXLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBRSxDQUFDO2dCQUNwRCxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsUUFBYSxFQUFFLEVBQUU7b0JBQzFDLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxRQUFRLENBQUMsQ0FBQztvQkFDaEQsSUFBSSxJQUFJO3dCQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsbUJBQW9CLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNqRSxDQUFDLENBQUMsQ0FBQztZQUNMLENBQUM7aUJBQU0sQ0FBQztnQkFDTixJQUFJLENBQUMsUUFBUSxDQUFDLG1CQUFtQixDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDaEYsQ0FBQztRQUNILENBQUM7SUFDSCxDQUFDO0lBRUQsWUFBWSxDQUFDLElBQVM7UUFDcEIsTUFBTSxlQUFlLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxlQUFlLENBQUM7UUFDdEQsSUFBSSxlQUFlLEVBQUUsQ0FBQztZQUNwQixNQUFNLFNBQVMsR0FBRyxtQkFBbUIsRUFBRSxDQUFDO1lBQ3hDLE1BQU0sU0FBUyxHQUFHLFlBQVksQ0FBQyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxDQUFDLENBQUM7WUFDM0UsTUFBTSxVQUFVLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO1lBQ25ELHNEQUFZLENBQUMsVUFBVSxFQUFFLGVBQWUsQ0FBQyxDQUFDO1FBQzVDLENBQUM7SUFDSCxDQUFDO0lBRUQsYUFBYSxDQUFDLElBQVM7UUFDckIsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixDQUFDLElBQUksRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDM0QsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLGdCQUFnQixFQUFFLENBQUM7WUFDbkMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO1lBQzlDLElBQUksVUFBVSxJQUFJLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLFFBQVEsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssSUFBSSxFQUFFLENBQUM7Z0JBQ3BGLE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztnQkFDckMsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxXQUFXLEVBQUUsQ0FBQyxDQUFDO2dCQUNyRSxJQUFJLElBQUk7b0JBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDN0QsQ0FBQztpQkFBTSxDQUFDO2dCQUNOLElBQUksQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUM5RSxDQUFDO1FBQ0gsQ0FBQztJQUNILENBQUM7SUFFRCw0QkFBNEI7UUFDMUIsTUFBTSxTQUFTLEdBQUcsbUJBQW1CLEVBQUUsQ0FBQztRQUN4QyxNQUFNLFNBQVMsR0FBRyxZQUFZLENBQUMsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxTQUFTLEVBQUUsQ0FBQyxDQUFDO1FBQzNFLE1BQU0sV0FBVyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUMsQ0FBQztRQUVsRCxNQUFNLG1CQUFtQixHQUFHLENBQUMsU0FBNkIsRUFBRSxJQUFTLEVBQUUsSUFBWSxFQUFFLFNBQWlCLEVBQUUsRUFBRTtZQUN4RyxJQUFJLFNBQVMsRUFBRSxDQUFDO2dCQUNkLFNBQVMsQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO2dCQUN6QixJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDO29CQUM1QixNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxXQUFXLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7b0JBQ3BGLElBQUksSUFBSTt3QkFBRSxTQUFTLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUN4QyxDQUFDO3FCQUFNLENBQUM7b0JBQ04sU0FBUyxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLENBQUM7Z0JBQ3pELENBQUM7WUFDSCxDQUFDO1FBQ0gsQ0FBQyxDQUFDO1FBRUYsbUJBQW1CLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxpQkFBaUIsRUFBRSxXQUFXLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBQ3pGLG1CQUFtQixDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsa0JBQWtCLEVBQUUsV0FBVyxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUksRUFBRSxTQUFTLENBQUMsQ0FBQztRQUMxRixtQkFBbUIsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLGtCQUFrQixFQUFFLFdBQVcsQ0FBQyxJQUFJLENBQUMsRUFBRSxJQUFJLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDNUYsQ0FBQztJQUVPLEtBQUssQ0FBQyxhQUFhO1FBQ3pCLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVE7WUFBRSxPQUFPO1FBRWhELElBQUksQ0FBQztZQUNILE1BQU0sZ0JBQWdCLEdBQUcsbUJBQW1CLEVBQUUsQ0FBQztZQUMvQyxJQUFJLGdCQUFnQixLQUFLLElBQUksRUFBRSxDQUFDO2dCQUM5QixPQUFPLENBQUMsSUFBSSxDQUFDLGtDQUFrQyxDQUFDLENBQUM7Z0JBQ2pELE9BQU87WUFDVCxDQUFDO1lBRUQsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDakQsTUFBTSxXQUFXLEdBQUcsWUFBWSxDQUFDLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDO1lBQ3BGLE1BQU0sVUFBVSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLHNCQUFzQixFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFFbEUsaUNBQWlDO1lBQ2pDLElBQUksZ0JBQWdCLElBQUksVUFBVSxFQUFFLENBQUM7Z0JBQ25DLE1BQU0sT0FBTyxHQUF3QixFQUFFLENBQUM7Z0JBRXhDLE1BQU0sY0FBYyxHQUFHO29CQUNyQixFQUFFLFFBQVEsRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUU7b0JBQ3hDLEVBQUUsUUFBUSxFQUFFLENBQUMsTUFBTSxDQUFDLEVBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRTtvQkFDM0MsRUFBRSxRQUFRLEVBQUUsQ0FBQyxNQUFNLENBQUMsRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFO29CQUMzQyxFQUFFLFFBQVEsRUFBRSxDQUFDLE1BQU0sQ0FBQyxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUU7aUJBQzVDLENBQUM7Z0JBRUYsK0JBQStCO2dCQUMvQixNQUFNLGdCQUFnQixHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUNwRSxJQUFJLGdCQUFnQixJQUFJLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFLENBQUM7b0JBQ25ELE1BQU0sYUFBYSxHQUFHLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO29CQUNqRCxNQUFNLGlCQUFpQixHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUMsQ0FBQztvQkFFMUQsYUFBYTtvQkFDYixJQUFJLGFBQWEsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDO3dCQUN6QixNQUFNLGVBQWUsR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7d0JBRTVHLE1BQU0sbUJBQW1CLEdBQUcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLGlCQUFpQixFQUFFLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO3dCQUM3RSxJQUFJLGFBQWEsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLGlCQUFpQixFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUMsQ0FBQzt3QkFFeEQsZUFBZSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQVEsRUFBRSxFQUFFOzRCQUNuQyxTQUFTOzRCQUNULElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsQ0FBQyxXQUFnQixFQUFFLEVBQUUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQztnQ0FDckYsb0JBQW9CO2dDQUNwQixNQUFNLGVBQWUsR0FBd0IsRUFBRSxHQUFHLEdBQUcsRUFBRSxDQUFDO2dDQUN4RCxPQUFPLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQztnQ0FDN0IsbUJBQW1CLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO2dDQUUxQyxhQUFhLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztnQ0FDaEMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFDOzRCQUM5QyxDQUFDO3dCQUNILENBQUMsQ0FBQyxDQUFDO3dCQUVILFNBQVM7d0JBQ1QsaUJBQWlCLENBQUMsS0FBSyxDQUFDLEdBQUcsbUJBQW1CLENBQUM7d0JBQy9DLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxHQUFHLGFBQWEsQ0FBQzt3QkFDMUMsSUFBRyxhQUFhLENBQUMsSUFBSSxDQUFDOzRCQUFFLGlCQUFpQixDQUFDLElBQUksQ0FBQyxHQUFHLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDdEUsT0FBTyxDQUFDLE9BQU8sQ0FBQyxHQUFHLGlCQUFpQixDQUFDO3dCQUNyQyxPQUFPLENBQUMsR0FBRyxDQUFDLG9DQUFvQyxDQUFDLENBQUM7b0JBRXBELENBQUM7eUJBQU0sSUFBSSxhQUFhLENBQUMsT0FBTyxDQUFDLEtBQUssSUFBSSxFQUFFLENBQUM7d0JBQzNDLE1BQU0sS0FBSyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7d0JBQ25DLE1BQU0sU0FBUyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7d0JBQzdCLFNBQVMsQ0FBQyxPQUFPLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDO3dCQUU3QixNQUFNLFlBQVksR0FBRyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsaUJBQWlCLEVBQUUsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7d0JBQ3RFLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7NEJBQ2xDLFlBQVksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7d0JBQzNCLENBQUM7d0JBRUQsSUFBSSxlQUFlLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUM7d0JBQzFELElBQUksWUFBWSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFFLENBQUMsRUFBRSxDQUFDOzRCQUMvQyxlQUFlLEVBQUUsQ0FBQzt3QkFDcEIsQ0FBQzs2QkFBTSxDQUFDOzRCQUNOLGVBQWUsR0FBRyxDQUFDLENBQUM7d0JBQ3RCLENBQUM7d0JBRUQsaUJBQWlCLENBQUMsS0FBSyxDQUFDLEdBQUcsWUFBWSxDQUFDO3dCQUN4QyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsR0FBRyxlQUFlLENBQUM7d0JBQzVDLElBQUcsYUFBYSxDQUFDLElBQUksQ0FBQzs0QkFBRSxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsR0FBRyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7d0JBRXRFLFNBQVM7d0JBQ1QsSUFBSSxhQUFhLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQzs0QkFDeEIsTUFBTSxVQUFVLEdBQUcsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDOzRCQUN2QyxNQUFNLEtBQUssR0FBRyxVQUFVLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxDQUFDOzRCQUNoRCxJQUFJLEtBQUssRUFBRSxDQUFDO2dDQUNWLE1BQU0sUUFBUSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztnQ0FDMUIsTUFBTSxVQUFVLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztnQ0FFMUMsdUJBQXVCO2dDQUN2QixNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsUUFBUSxFQUFFLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO2dDQUMzRSxJQUFJLFdBQVcsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7b0NBQzVGLE1BQU0sYUFBYSxHQUFHLFFBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQ0FDL0MsTUFBTSxXQUFXLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQ0FDbEQsTUFBTSxRQUFRLEdBQUcsYUFBYSxDQUFDLFdBQVcsQ0FBQyxDQUFDO29DQUM1QyxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsUUFBUSxFQUFFLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7b0NBRWpFLElBQUksT0FBTyxFQUFFLENBQUM7d0NBQ1osTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7d0NBQzlELE1BQU0sWUFBWSxHQUFHLE1BQU0sUUFBUSxLQUFLLENBQUM7d0NBQ3pDLE1BQU0sWUFBWSxHQUFHLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUUsWUFBWSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7d0NBRXZFLFlBQVk7d0NBQ1osTUFBTSxpQkFBaUIsR0FBRyxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBWSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7d0NBQzVGLElBQUksaUJBQWlCLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQzs0Q0FDM0IsT0FBTzs0Q0FDUCxNQUFNLGdCQUFnQixHQUFHLFlBQVksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDOzRDQUN6RCxNQUFNLG1CQUFtQixHQUFHLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQzs0Q0FDN0QsTUFBTSxjQUFjLEdBQUcsbUJBQW1CLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDOzRDQUN0RixNQUFNLFNBQVMsR0FBRyxjQUFjLEdBQUcsVUFBVSxDQUFDOzRDQUM5QyxZQUFZLENBQUMsaUJBQWlCLENBQUMsR0FBRyxJQUFJLFFBQVEsS0FBSyxTQUFTLEVBQUUsQ0FBQzt3Q0FDakUsQ0FBQzs2Q0FBTSxDQUFDOzRDQUNOLFFBQVE7NENBQ1IsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLFFBQVEsS0FBSyxVQUFVLEVBQUUsQ0FBQyxDQUFDO3dDQUNuRCxDQUFDO3dDQUNELE9BQU8sQ0FBQyxZQUFZLENBQUMsR0FBRyxZQUFZLENBQUM7d0NBQ3JDLE9BQU8sQ0FBQyxHQUFHLENBQUMsMEJBQTBCLFVBQVUsVUFBVSxRQUFRLFVBQVUsQ0FBQyxDQUFDO29DQUNoRixDQUFDO2dDQUNILENBQUM7NEJBQ0gsQ0FBQzt3QkFDSCxDQUFDO3dCQUVELE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FBRyxpQkFBaUIsQ0FBQzt3QkFDckMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxrQ0FBa0MsQ0FBQyxDQUFDO29CQUVsRCxDQUFDO3lCQUFNLElBQUksYUFBYSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUM7d0JBQ2pDLE1BQU0sWUFBWSxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQzt3QkFDNUcsTUFBTSxhQUFhLEdBQUcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLGlCQUFpQixFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO3dCQUV0RSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBVyxFQUFFLEVBQUU7NEJBQ25DLE1BQU0sVUFBVSxHQUFHLGFBQWEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFNLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQzs0QkFDakYsSUFBSSxVQUFVLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQztnQ0FDcEIsU0FBUztnQ0FDVCxNQUFNLEtBQUssR0FBRyxhQUFhLENBQUMsVUFBVSxDQUFDLENBQUM7Z0NBQ3hDLE1BQU0sVUFBVSxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDO2dDQUMxRCxVQUFVLENBQUMsS0FBSyxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7Z0NBRXpDLE9BQU87Z0NBQ1AsT0FBTyxVQUFVLENBQUMsS0FBSyxJQUFJLFVBQVUsQ0FBQyxHQUFHLEVBQUUsQ0FBQztvQ0FDMUMsVUFBVSxDQUFDLEtBQUssSUFBSSxVQUFVLENBQUMsR0FBRyxDQUFDO29DQUNuQyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO29DQUNyQyw2QkFBNkI7b0NBQzdCLFVBQVUsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO29DQUNsRCxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7Z0NBQ3BELENBQUM7Z0NBQ0QsS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLFVBQVUsQ0FBQzs0QkFDNUIsQ0FBQztpQ0FBTSxDQUFDO2dDQUNOLFFBQVE7Z0NBQ1IsYUFBYSxDQUFDLElBQUksQ0FBQztvQ0FDakIsSUFBSSxFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUM7b0NBQ2xCLElBQUksRUFBRSxDQUFDO29DQUNQLEtBQUssRUFBRSxFQUFFLEtBQUssRUFBRSxNQUFNLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUU7aUNBQ2pELENBQUMsQ0FBQztnQ0FDSCxNQUFNLENBQUMsSUFBSSxDQUFDLFlBQVksTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQzs0QkFDNUMsQ0FBQzt3QkFDSCxDQUFDLENBQUMsQ0FBQzt3QkFFSCxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsR0FBRyxhQUFhLENBQUM7d0JBQ3hDLElBQUcsYUFBYSxDQUFDLElBQUksQ0FBQzs0QkFBRSxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsR0FBRyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7d0JBQ3RFLE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FBRyxpQkFBaUIsQ0FBQzt3QkFDckMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxvQ0FBb0MsQ0FBQyxDQUFDO29CQUVwRCxDQUFDO3lCQUFNLElBQUksYUFBYSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUM7d0JBQ2pDLE1BQU0sUUFBUSxHQUFHLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQzt3QkFDdkMsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQzs0QkFDbkIsTUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFFBQVEsRUFBRSxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQzs0QkFDM0UsSUFBSSxXQUFXLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUMsSUFBSSxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDO2dDQUM1RixNQUFNLGFBQWEsR0FBRyxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0NBQy9DLE1BQU0sV0FBVyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0NBQ2xELE1BQU0sUUFBUSxHQUFHLGFBQWEsQ0FBQyxXQUFXLENBQUMsQ0FBQztnQ0FDNUMsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFFBQVEsRUFBRSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO2dDQUVqRSxJQUFJLE9BQU8sRUFBRSxDQUFDO29DQUNaLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO29DQUM5RCxNQUFNLFlBQVksR0FBRyxNQUFNLFFBQVEsS0FBSyxDQUFDO29DQUN6QyxNQUFNLFlBQVksR0FBRyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLFlBQVksRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO29DQUV2RSxVQUFVO29DQUNWLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFFBQWdCLEVBQUUsRUFBRTt3Q0FDMUQsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsQ0FBQzt3Q0FDOUMsSUFBSSxLQUFLLEVBQUUsQ0FBQzs0Q0FDVixNQUFNLFFBQVEsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7NENBQzFCLE1BQU0sY0FBYyxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7NENBQzlDLE1BQU0saUJBQWlCLEdBQUcsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQVksRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDOzRDQUM1RixJQUFJLGlCQUFpQixHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUM7Z0RBQzNCLE1BQU0sZ0JBQWdCLEdBQUcsWUFBWSxDQUFDLGlCQUFpQixDQUFDLENBQUM7Z0RBQ3pELE1BQU0sbUJBQW1CLEdBQUcsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dEQUM3RCxNQUFNLGNBQWMsR0FBRyxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0RBQ3RGLE1BQU0sU0FBUyxHQUFHLGNBQWMsR0FBRyxjQUFjLENBQUM7Z0RBQ2xELElBQUksU0FBUyxHQUFHLENBQUMsRUFBRSxDQUFDO29EQUNsQixZQUFZLENBQUMsaUJBQWlCLENBQUMsR0FBRyxJQUFJLFFBQVEsS0FBSyxTQUFTLEVBQUUsQ0FBQztnREFDakUsQ0FBQztxREFBTSxDQUFDO29EQUNOLFlBQVksQ0FBQyxNQUFNLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0RBQzVDLENBQUM7NENBQ0gsQ0FBQzt3Q0FDSCxDQUFDO29DQUNILENBQUMsQ0FBQyxDQUFDO29DQUVILFVBQVU7b0NBQ1YsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsUUFBZ0IsRUFBRSxFQUFFO3dDQUMxRCxNQUFNLEtBQUssR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxDQUFDO3dDQUM5QyxJQUFJLEtBQUssRUFBRSxDQUFDOzRDQUNWLE1BQU0sUUFBUSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQzs0Q0FDMUIsTUFBTSxXQUFXLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQzs0Q0FDM0MsTUFBTSxpQkFBaUIsR0FBRyxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBWSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7NENBQzVGLElBQUksaUJBQWlCLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQztnREFDM0IsTUFBTSxnQkFBZ0IsR0FBRyxZQUFZLENBQUMsaUJBQWlCLENBQUMsQ0FBQztnREFDekQsTUFBTSxtQkFBbUIsR0FBRyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7Z0RBQzdELE1BQU0sY0FBYyxHQUFHLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnREFDdEYsTUFBTSxTQUFTLEdBQUcsY0FBYyxHQUFHLFdBQVcsQ0FBQztnREFDL0MsWUFBWSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsSUFBSSxRQUFRLEtBQUssU0FBUyxFQUFFLENBQUM7NENBQ2pFLENBQUM7aURBQU0sQ0FBQztnREFDTixZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksUUFBUSxLQUFLLFdBQVcsRUFBRSxDQUFDLENBQUM7NENBQ3BELENBQUM7d0NBQ0gsQ0FBQztvQ0FDSCxDQUFDLENBQUMsQ0FBQztvQ0FDSCxPQUFPLENBQUMsWUFBWSxDQUFDLEdBQUcsWUFBWSxDQUFDO2dDQUN2QyxDQUFDOzRCQUNILENBQUM7NEJBQ0QsTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksT0FBTyxDQUFDLENBQUM7d0JBQzVDLENBQUM7NkJBQU0sQ0FBQzs0QkFDTixNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxPQUFPLENBQUMsQ0FBQzt3QkFDNUMsQ0FBQzt3QkFDRCxpQkFBaUI7d0JBQ2pCLElBQUcsYUFBYSxDQUFDLElBQUksQ0FBQzs0QkFBRSxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsR0FBRyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7d0JBQ3RFLE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FBRyxpQkFBaUIsQ0FBQzt3QkFDckMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDO29CQUVoRCxDQUFDO3lCQUFNLElBQUksYUFBYSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUM7d0JBQ2xDLE1BQU0sUUFBUSxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQzt3QkFDM0csTUFBTSxjQUFjLEdBQUcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxVQUFVLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQzt3QkFFdkUsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQVMsRUFBRSxFQUFFOzRCQUM3QixJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDLFFBQWEsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUM7Z0NBQzNFLGNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Z0NBQzFCLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDOzRCQUM1QyxDQUFDO3dCQUNILENBQUMsQ0FBQyxDQUFDO3dCQUNILE9BQU8sQ0FBQyxVQUFVLENBQUMsR0FBRyxjQUFjLENBQUM7d0JBQ3JDLE9BQU8sQ0FBQyxHQUFHLENBQUMscUNBQXFDLENBQUMsQ0FBQztvQkFFckQsQ0FBQzt5QkFBTSxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUUsT0FBTyxDQUFDLEVBQUUsQ0FBQzt3QkFDeEMsNEJBQTRCO3dCQUM1QixNQUFNLGdCQUFnQixHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO3dCQUNwRSxJQUFJLGdCQUFnQixJQUFJLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFLENBQUM7NEJBQ2pELE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FBRyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsQ0FBQzs0QkFDOUMsT0FBTyxDQUFDLEdBQUcsQ0FBQywyQ0FBMkMsQ0FBQyxDQUFDO3dCQUM3RCxDQUFDO29CQUNILENBQUM7Z0JBQ0gsQ0FBQztnQkFFRCxLQUFLLE1BQU0sT0FBTyxJQUFJLGNBQWMsRUFBRSxDQUFDO29CQUNyQyxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztvQkFDckUsSUFBSSxPQUFPLElBQUksUUFBUSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUM7d0JBQ2pDLE1BQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQzt3QkFDbEMseURBQXlEO3dCQUN6RCxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7NEJBQ2pDLE1BQU0sT0FBTyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLE9BQU8sQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLENBQUM7NEJBQ3hELE1BQU0sWUFBWSxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUM7NEJBQ3BFLElBQUksQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxZQUFZLENBQUMsRUFBRSxDQUFDO2dDQUNwQyxDQUFDLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsT0FBTyxFQUFFLFlBQVksQ0FBQyxDQUFDOzRCQUNsRCxDQUFDO3dCQUNMLENBQUM7NkJBQU0sQ0FBQzs0QkFDSixNQUFNLE9BQU8sR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7NEJBQ3BELElBQUksQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsRUFBRSxDQUFDO2dDQUMvQixDQUFDLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDOzRCQUM3QyxDQUFDO3dCQUNMLENBQUM7b0JBQ0gsQ0FBQztnQkFDSCxDQUFDO2dCQUVELFNBQVM7Z0JBQ1QsTUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFFBQVEsRUFBRSxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDM0UsSUFBSSxXQUFXLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBRSxDQUFDO29CQUN4RCxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsYUFBa0IsRUFBRSxFQUFFO3dCQUNuRCxNQUFNLFdBQVcsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO3dCQUNsRCxNQUFNLFFBQVEsR0FBRyxhQUFhLENBQUMsV0FBVyxDQUFDLENBQUM7d0JBRTVDLElBQUksUUFBUSxJQUFJLE9BQU8sUUFBUSxLQUFLLFFBQVEsRUFBRSxDQUFDOzRCQUM3QyxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsUUFBUSxFQUFFLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7NEJBQ2pFLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQzs0QkFFcEUsSUFBSSxPQUFPLElBQUksUUFBUSxJQUFJLFFBQVEsQ0FBQyxPQUFPLENBQUMsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUM7Z0NBQ2xGLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO2dDQUM5RCxNQUFNLFFBQVEsR0FBRyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7Z0NBQ3BDLE1BQU0sT0FBTyxHQUFHLE1BQU0sUUFBUSxLQUFLLENBQUM7Z0NBQ3BDLE1BQU0sUUFBUSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLE9BQU8sQ0FBQyxDQUFDO2dDQUU3QyxJQUFJLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLEVBQUUsQ0FBQztvQ0FDbkMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDO2dDQUNwQyxDQUFDOzRCQUNILENBQUM7d0JBQ0gsQ0FBQztvQkFDSCxDQUFDLENBQUMsQ0FBQztnQkFDTCxDQUFDO2dCQUVELElBQUksQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUM7b0JBQ3hCLE9BQU8sQ0FBQyxHQUFHLENBQUMsMkJBQTJCLGdCQUFnQixNQUFNLFVBQVUsaUJBQWlCLEVBQUUsT0FBTyxDQUFDLENBQUM7b0JBQ25HLDhCQUE4QjtvQkFDOUIsT0FBTyxDQUFDLHNCQUFzQixDQUFDLEdBQUcsZ0JBQWdCLENBQUM7b0JBQ25ELE1BQU0sdUJBQXVCLENBQUMsT0FBTyxFQUFFLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDO29CQUMxRixNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsZ0JBQWdCLFdBQVcsQ0FBQyxDQUFDO2dCQUNuRCxDQUFDO3FCQUFNLENBQUM7b0JBQ04sT0FBTyxDQUFDLEdBQUcsQ0FBQywyQkFBMkIsZ0JBQWdCLE9BQU8sVUFBVSxhQUFhLENBQUMsQ0FBQztnQkFDekYsQ0FBQztZQUNILENBQUM7aUJBQU0sQ0FBQztnQkFDTixPQUFPLENBQUMsR0FBRyxDQUFDLDRCQUE0QixnQkFBZ0IsY0FBYyxVQUFVLEdBQUcsQ0FBQyxDQUFDO1lBQ3ZGLENBQUM7UUFDSCxDQUFDO1FBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztZQUNmLE9BQU8sQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQyxDQUFDO1lBQ2hDLE1BQU0sQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUNqQyxDQUFDO0lBQ0gsQ0FBQztJQUVELG1CQUFtQixDQUFDLFFBQWE7UUFDL0IsTUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMxQyxNQUFNLFVBQVUsR0FBRyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDdEMsSUFBSSxDQUFDLFFBQVEsSUFBSSxDQUFDLFVBQVU7WUFBRSxPQUFPLElBQUksQ0FBQztRQUUxQyxNQUFNLElBQUksR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzNDLElBQUksQ0FBQyxTQUFTLEdBQUcsa0ZBQWtGLENBQUM7UUFFcEcsTUFBTSxFQUFFLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN4QyxFQUFFLENBQUMsU0FBUyxHQUFHLGtFQUFrRSxDQUFDO1FBQ2xGLEVBQUUsQ0FBQyxTQUFTLEdBQUcsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxJQUFJLENBQUMsY0FBYyxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDO1FBQ2pHLElBQUksQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUM7UUFFckIsTUFBTSxJQUFJLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMxQyxJQUFJLENBQUMsU0FBUyxHQUFHLG1CQUFtQixDQUFDO1FBQ3JDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFdkIsSUFBSSxPQUFPLFVBQVUsS0FBSyxRQUFRLElBQUksVUFBVSxLQUFLLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQztZQUN4RixNQUFNLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxFQUFFLEVBQUU7Z0JBQ2xELElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQ3pELENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQzthQUFNLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLENBQUMsc0RBQXNEO1lBQzFGLFVBQVUsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUU7Z0JBQ3ZCLE1BQU0sU0FBUyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxNQUFNLENBQUM7Z0JBQ3hDLE1BQU0sRUFBRSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ3hDLEVBQUUsQ0FBQyxTQUFTLEdBQUcsZ0JBQWdCLENBQUM7Z0JBQ2hDLEVBQUUsQ0FBQyxPQUFPLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQzNDLEVBQUUsQ0FBQyxTQUFTLEdBQUcsS0FBSyxJQUFJLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUM7Z0JBQ3JELElBQUksQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDekIsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRUQsbUJBQW1CLENBQUMsR0FBVyxFQUFFLEtBQVU7UUFDekMsTUFBTSxJQUFJLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMxQyxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQztRQUNqRCxNQUFNLE9BQU8sR0FBRyx5Q0FBeUMsS0FBSyxJQUFJLElBQUksQ0FBQyxjQUFjLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUM7UUFFM0csSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLElBQUksS0FBSyxLQUFLLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksT0FBTyxJQUFJLEtBQUssSUFBSSxLQUFLLElBQUksS0FBSyxJQUFJLE9BQU8sS0FBSyxDQUFDLEtBQUssS0FBSyxRQUFRLElBQUksT0FBTyxLQUFLLENBQUMsR0FBRyxLQUFLLFFBQVEsRUFBRSxDQUFDO1lBQ25MLElBQUksQ0FBQyxTQUFTLEdBQUcsT0FBTyxDQUFDO1lBQ3pCLE1BQU0sVUFBVSxHQUFHLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDO1lBQ25ELE1BQU0sU0FBUyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDaEQsU0FBUyxDQUFDLFNBQVMsR0FBRyxrQ0FBa0MsQ0FBQztZQUN6RCxNQUFNLGtCQUFrQixHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDekQsa0JBQWtCLENBQUMsU0FBUyxHQUFHLDJDQUEyQyxDQUFDO1lBQzNFLE1BQU0sV0FBVyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDbEQsV0FBVyxDQUFDLFNBQVMsR0FBRyxvQ0FBb0MsQ0FBQztZQUM3RCxXQUFXLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxHQUFHLFVBQVUsR0FBRyxDQUFDO1lBQzNDLElBQUksVUFBVSxHQUFHLEVBQUU7Z0JBQUUsV0FBVyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUM7aUJBQ3hELElBQUksVUFBVSxHQUFHLEVBQUU7Z0JBQUUsV0FBVyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsZUFBZSxDQUFDLENBQUM7O2dCQUNoRSxXQUFXLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUMvQyxrQkFBa0IsQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDNUMsTUFBTSxZQUFZLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNwRCxZQUFZLENBQUMsU0FBUyxHQUFHLGtDQUFrQyxDQUFDO1lBQzVELFlBQVksQ0FBQyxXQUFXLEdBQUcsR0FBRyxLQUFLLENBQUMsS0FBSyxNQUFNLEtBQUssQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUMzRCxTQUFTLENBQUMsV0FBVyxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDMUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUNwQyxJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzlCLENBQUM7YUFBTSxJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsSUFBSSxLQUFLLEtBQUssSUFBSSxFQUFFLENBQUM7WUFDdkQsSUFBSSxDQUFDLFNBQVMsR0FBRyxPQUFPLENBQUM7WUFDekIsTUFBTSxPQUFPLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUM3QyxPQUFPLENBQUMsU0FBUyxHQUFHLDJDQUEyQyxDQUFDO1lBQ2hFLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDO2dCQUN6QixLQUFLLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxFQUFFO29CQUN2QixNQUFNLE9BQU8sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO29CQUM3QyxJQUFJLElBQUksQ0FBQztvQkFDVCxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO29CQUN4QyxPQUFPLENBQUMsT0FBTyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDO29CQUNuRCxJQUFJLE9BQU8sUUFBUSxLQUFLLFFBQVEsSUFBSSxRQUFRLEtBQUssSUFBSSxFQUFFLENBQUM7d0JBQ3RELE1BQU0sT0FBTyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7d0JBQ3RGLElBQUksR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQztvQkFDN0UsQ0FBQzt5QkFBTSxDQUFDO3dCQUNOLElBQUksR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO29CQUMvQyxDQUFDO29CQUNELE9BQU8sQ0FBQyxTQUFTLEdBQUcsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDO29CQUMvRixPQUFPLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUMvQixDQUFDLENBQUMsQ0FBQztZQUNMLENBQUM7aUJBQU0sQ0FBQztnQkFDTixNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxFQUFFLEVBQUU7b0JBQ25ELE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQUM7b0JBQzNELE9BQU8sQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQy9CLENBQUMsQ0FBQyxDQUFDO1lBQ0wsQ0FBQztZQUNELElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDNUIsQ0FBQzthQUFNLENBQUM7WUFDTixJQUFJLENBQUMsU0FBUyxHQUFHLEdBQUcsT0FBTyxJQUFJLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQztRQUN0RSxDQUFDO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRUQsbUJBQW1CLENBQUMsSUFBUztRQUMzQixNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUN6RCxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDOUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztZQUN6QyxJQUFJLFNBQVMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQztnQkFDakMsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUNuQyxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsVUFBVSxFQUFFLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7Z0JBQ3JFLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFFeEUsSUFBSSxRQUFRLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQztvQkFDMUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7Z0JBQ3BGLENBQUM7Z0JBQ0QsSUFBSSxVQUFVLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLENBQUMsRUFBRSxDQUFDO29CQUN4RCxVQUFVLENBQUMsVUFBVSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsVUFBa0IsRUFBRSxLQUFhLEVBQUUsRUFBRTt3QkFDbkUsTUFBTSxJQUFJLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDMUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxvR0FBb0csQ0FBQzt3QkFDdEgsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUM7d0JBQ3hELElBQUksQ0FBQyxTQUFTLEdBQUcsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLElBQUksSUFBSSxTQUFTLEVBQUUsQ0FBQzt3QkFDN0UsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDO3dCQUM1QyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsR0FBRyxTQUFTLENBQUM7d0JBQ3BDLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBWSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztvQkFDL0MsQ0FBQyxDQUFDLENBQUM7Z0JBQ0wsQ0FBQztnQkFFRCxNQUFNLGdCQUFnQixHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ3RELGdCQUFnQixDQUFDLFNBQVMsR0FBRyx5R0FBeUcsQ0FBQztnQkFDdkksZ0JBQWdCLENBQUMsU0FBUyxHQUFHLDBEQUEwRCxDQUFDO2dCQUN4RixnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsVUFBVSxHQUFHLFFBQVEsQ0FBQztnQkFDL0MsSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFZLENBQUMsV0FBVyxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFFM0QsQ0FBQztpQkFBTSxDQUFDO2dCQUNOLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDeEUsQ0FBQztRQUNILENBQUM7SUFDSCxDQUFDO0lBRUQsZ0JBQWdCLENBQUMsT0FBZTtRQUM5QixPQUFPLHVHQUF1RyxPQUFPLE9BQU8sQ0FBQztJQUMvSCxDQUFDO0lBRUQsV0FBVyxDQUFDLEtBQVk7UUFDdEIsT0FBTyxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDOUIsTUFBTSxTQUFTLEdBQUc7OzRDQUVzQixLQUFLLENBQUMsT0FBTztlQUMxQyxDQUFDO1FBQ1osSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLG1CQUFtQjtZQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsbUJBQW1CLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztRQUMvRixJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVztZQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLFNBQVMsR0FBRyxPQUFPLFNBQVMsT0FBTyxDQUFDO1FBQzdGLE1BQU0saUJBQWlCLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLEVBQUUsYUFBYSxDQUFDO1FBQ25FLElBQUksaUJBQWlCO1lBQUUsaUJBQWlCLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7SUFDbEUsQ0FBQztJQUNELG9CQUFvQixDQUFDLE9BQWUsRUFBRSxLQUFjO1FBQ2xELElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxjQUFjO1lBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsV0FBVyxHQUFHLFVBQVUsQ0FBQztRQUN4RixNQUFNLFdBQVcsR0FBRyxNQUFNLENBQUMsT0FBTyxJQUFJLEVBQUUsQ0FBQyxDQUFDO1FBRTFDLElBQUksWUFBWSxHQUFHLE1BQU0sQ0FBQztRQUMxQixJQUFJLEtBQUssWUFBWSxLQUFLLEVBQUUsQ0FBQztZQUN6QixZQUFZLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQztRQUNqQyxDQUFDO2FBQU0sQ0FBQztZQUNKLFlBQVksR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDakMsQ0FBQztRQUVELE1BQU0sU0FBUyxHQUFHOzs7Z0RBRzBCLFlBQVk7OzsySEFHK0QsV0FBVyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUM7U0FDbkssQ0FBQztRQUNOLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1lBQ3RDLElBQUksQ0FBQyxRQUFRLENBQUMsbUJBQW1CLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztZQUN4RCxJQUFJLENBQUMsUUFBUSxDQUFDLG1CQUFtQixDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUN2RSxDQUFDO1FBQ0QsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLFdBQVc7WUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO1FBQ3hFLE1BQU0saUJBQWlCLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLEVBQUUsYUFBYSxDQUFDO1FBQ25FLElBQUksaUJBQWlCO1lBQUUsaUJBQWlCLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7SUFDbEUsQ0FBQztJQUVELGFBQWEsQ0FBQyxJQUFTO1FBQ3JCLElBQUksQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7WUFDdEIsT0FBTyxFQUFFLENBQUM7UUFDWixDQUFDO1FBQ0QsTUFBTSxVQUFVLEdBQUcsMEpBQTBKLENBQUM7UUFDOUssT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUN0QyxDQUFDO0lBRUQsY0FBYyxDQUFDLElBQVMsRUFBRSxjQUFjLEdBQUcsS0FBSztRQUM5QyxJQUFJLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztZQUMzQyxPQUFPLEVBQUUsQ0FBQztRQUNaLENBQUM7UUFDRCxJQUFJLFNBQVMsR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2pDLFNBQVMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRSxXQUFXLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDbEQsSUFBSSxjQUFjLEVBQUUsQ0FBQztZQUNuQixNQUFNLFVBQVUsR0FBRyxvSEFBb0gsQ0FBQztZQUN4SSxTQUFTLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsVUFBVSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ25ELENBQUM7UUFDRCxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDM0IsQ0FBQztDQUNGO0FBRUQsU0FBUyxxQkFBcUI7SUFDNUIsTUFBTSxLQUFLLEdBQUcsQ0FBQyxDQUFDLHNCQUFzQixDQUFDLENBQUM7SUFDeEMsTUFBTSxLQUFLLEdBQUcsQ0FBQyxDQUFDLHNCQUFzQixDQUFDLENBQUM7SUFDeEMsTUFBTSxVQUFVLEdBQUcsQ0FBQyxDQUFDLHFCQUFxQixDQUFDLENBQUM7SUFDNUMsTUFBTSxTQUFTLEdBQUcsQ0FBQyxDQUFDLG9CQUFvQixDQUFDLENBQUM7SUFDMUMsTUFBTSxXQUFXLEdBQUcsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0lBQ3ZDLElBQUksYUFBYSxHQUErQixJQUFJLENBQUM7SUFFckQsTUFBTSxTQUFTLEdBQUcsQ0FBQyxNQUEyQixFQUFFLEVBQUU7UUFDaEQsYUFBYSxHQUFHLE1BQU0sQ0FBQztRQUN2QixLQUFLLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzFCLEtBQUssQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ2hELEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ2pDLENBQUMsQ0FBQztJQUVGLE1BQU0sU0FBUyxHQUFHLEdBQUcsRUFBRTtRQUNyQixJQUFJLGFBQWEsRUFBRSxDQUFDO1lBQ2xCLEtBQUssQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ2hELFdBQVcsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDMUIsYUFBYSxHQUFHLElBQUksQ0FBQztRQUN2QixDQUFDO0lBQ0gsQ0FBQyxDQUFDO0lBRUYsTUFBTSxhQUFhLEdBQUcsS0FBSyxJQUFJLEVBQUU7UUFDL0IsTUFBTSxTQUFTLEdBQUksS0FBSyxDQUFDLEdBQUcsRUFBYSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ2pELElBQUksU0FBUyxFQUFFLENBQUM7WUFDZCxTQUFTLEVBQUUsQ0FBQztZQUNaLE1BQU0sU0FBUyxHQUFHLG1CQUFtQixFQUFFLENBQUM7WUFDeEMsTUFBTSxTQUFTLEdBQUcsWUFBWSxDQUFDLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsU0FBUyxFQUFFLENBQUMsQ0FBQztZQUMzRSxNQUFNLGVBQWUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDM0QsTUFBTSxPQUFPLEdBQUcsU0FBUyxTQUFTLG9CQUFvQixlQUFlLDJCQUEyQixDQUFDO1lBRWpHLE1BQU0sQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7WUFDNUIsTUFBTSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDNUIsTUFBTSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUM5QixDQUFDO2FBQU0sQ0FBQztZQUNOLE1BQU0sQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDN0IsQ0FBQztJQUNILENBQUMsQ0FBQztJQUVGLFNBQVMsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQ2pDLFVBQVUsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBRXRDLE9BQU8sRUFBRSxTQUFTLEVBQUUsQ0FBQztBQUN2QixDQUFDO0FBRUQsU0FBUyxnQkFBZ0I7SUFDdkIsTUFBTSxZQUFZLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUM5RCxNQUFNLFVBQVUsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQzFELE1BQU0sU0FBUyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDeEQsTUFBTSxhQUFhLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0lBRWpFLElBQUksQ0FBQyxZQUFZLElBQUksQ0FBQyxVQUFVLElBQUksQ0FBQyxTQUFTLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUNqRSxNQUFNLElBQUksS0FBSyxDQUFDLG1CQUFtQixDQUFDLENBQUM7SUFDdkMsQ0FBQztJQUVELE1BQU0sU0FBUyxHQUFHLEdBQUcsRUFBRSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBRTdELGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDbkQsWUFBWSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFO1FBQzNDLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxZQUFZO1lBQUUsU0FBUyxFQUFFLENBQUM7SUFDN0MsQ0FBQyxDQUFDLENBQUM7SUFFSCxNQUFNLGlCQUFpQixHQUFHLENBQUMsSUFBUyxFQUFFLEVBQUU7UUFDdEMsSUFBSSxPQUFPLElBQUksS0FBSyxRQUFRLElBQUksSUFBSSxLQUFLLElBQUksRUFBRSxDQUFDO1lBQzlDLE1BQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDbkYsVUFBVSxDQUFDLFdBQVcsR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1lBRTFELElBQUksUUFBUSxHQUFHLE1BQU0sQ0FBQztZQUN0QixLQUFLLE1BQU0sQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO2dCQUNoRCxRQUFRLElBQUksOEJBQThCLEdBQUcsWUFBWSxLQUFLLE9BQU8sQ0FBQztZQUN4RSxDQUFDO1lBQ0QsUUFBUSxJQUFJLE9BQU8sQ0FBQztZQUNwQixTQUFTLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQztRQUVqQyxDQUFDO2FBQU0sQ0FBQztZQUNOLFVBQVUsQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO1lBQzlCLFNBQVMsQ0FBQyxXQUFXLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3ZDLENBQUM7UUFDRCxZQUFZLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUMxQyxDQUFDLENBQUM7SUFFRixRQUFRLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFO1FBQzVDLE1BQU0sTUFBTSxHQUFHLENBQUMsQ0FBQyxNQUFxQixDQUFDO1FBQ3ZDLE1BQU0sYUFBYSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUN4RCxJQUFJLGFBQWEsRUFBRSxDQUFDO1lBQ2xCLE1BQU0sVUFBVSxHQUFJLGFBQTZCLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQztZQUNsRSxJQUFJLFVBQVUsRUFBRSxDQUFDO2dCQUNmLElBQUksQ0FBQztvQkFDSCxNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDO29CQUNwQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDMUIsQ0FBQztnQkFBQyxPQUFPLEdBQUcsRUFBRSxDQUFDO29CQUNiLE9BQU8sQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLEdBQUcsQ0FBQyxDQUFDO29CQUNoQyxNQUFNLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUMxQixDQUFDO1lBQ0gsQ0FBQztRQUNILENBQUM7SUFDSCxDQUFDLENBQUMsQ0FBQztJQUVILE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxDQUFDO0FBQy9CLENBQUM7QUFFRCxLQUFLLFVBQVUsb0JBQW9CLENBQUMsVUFBa0IsRUFBRSxNQUEyQjtJQUNqRixNQUFNLGVBQWUsR0FBRyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDdEMsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUU1RCxNQUFNLE9BQU8sR0FBRyxtQkFBbUIsVUFBVSxrQ0FBa0MsVUFBVSxnQkFBZ0IsQ0FBQztJQUMxRyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsVUFBVSxLQUFLLENBQUMsQ0FBQztJQUN0QyxJQUFJLENBQUM7UUFDSCxNQUFNLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM1QixNQUFNLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQzdCLENBQUM7SUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1FBQ2YsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLFVBQVUsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQzNDLE1BQU0sQ0FBQyxLQUFLLENBQUMsY0FBYyxDQUFDLENBQUM7SUFDL0IsQ0FBQztZQUFTLENBQUM7UUFDVCxVQUFVLENBQUMsR0FBRyxFQUFFO1lBQ2QsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBQ3ZELENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNYLENBQUM7QUFDSCxDQUFDO0FBRUQsU0FBUyxnQkFBZ0I7SUFDdkIsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUN2RCxNQUFNLGFBQWEsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLHlCQUF5QixDQUFDLENBQUM7SUFDekUsTUFBTSxTQUFTLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0lBQ2hFLE1BQU0sVUFBVSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMscUJBQXFCLENBQUMsQ0FBQztJQUVsRSxNQUFNLFNBQVMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxLQUFLLEVBQUUsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUV2RCxhQUFhLEVBQUUsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQ3BELEtBQUssRUFBRSxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRTtRQUNyQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssS0FBSztZQUFFLFNBQVMsRUFBRSxDQUFDO0lBQ3RDLENBQUMsQ0FBQyxDQUFDO0lBRUgsVUFBVSxFQUFFLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFO1FBQzFDLG9CQUFvQixDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLGFBQTRCLENBQUMsQ0FBQyxDQUFDO0lBQ2xFLENBQUMsQ0FBQyxDQUFDO0lBRUgsTUFBTSxvQkFBb0IsR0FBRyxDQUFDLGlCQUF5QixFQUFFLGFBQXFCLEVBQUUsRUFBRTtRQUNoRixJQUFJLENBQUMsU0FBUztZQUFFLE9BQU87UUFFdkIsSUFBSSxDQUFDO1lBQ0gsTUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1lBQ2xELElBQUksSUFBSSxHQUFHLDBDQUEwQyxXQUFXLENBQUMsV0FBVyxJQUFJLEVBQUUsTUFBTSxDQUFDO1lBQ3pGLE1BQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDO1lBRXpDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUMsSUFBUyxFQUFFLEVBQUU7Z0JBQ3ZDLElBQUksSUFBSTtpRUFDaUQsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU07O3NCQUVqRSxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksc0RBQXNELElBQUksQ0FBQyxVQUFVLElBQUksRUFBRTs7OztTQUk5RyxDQUFDO2dCQUVGLElBQUksQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUMsTUFBVyxFQUFFLEVBQUU7b0JBQ3BDLE1BQU0sU0FBUyxHQUFHLGFBQWEsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDO29CQUMvQyxJQUFJLElBQUk7Ozs7MERBSXdDLE1BQU0sQ0FBQyxJQUFJLElBQUksTUFBTTsyREFDcEIsTUFBTSxDQUFDLFdBQVcsSUFBSSxFQUFFOzs7OytCQUlwRCxNQUFNLENBQUMsSUFBSTsrQkFDWCxNQUFNLENBQUMsSUFBSTtvQkFDdEIsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRTs7b0JBRTVCLE1BQU0sQ0FBQyxJQUFJOzs7O1dBSXBCLENBQUM7Z0JBQ0osQ0FBQyxDQUFDLENBQUM7Z0JBQ0gsSUFBSSxJQUFJLGlCQUFpQixDQUFDO1lBQzVCLENBQUMsQ0FBQyxDQUFDO1lBRUgsU0FBUyxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7UUFDN0IsQ0FBQztRQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7WUFDZixPQUFPLENBQUMsS0FBSyxDQUFDLGFBQWEsRUFBRSxLQUFLLENBQUMsQ0FBQztZQUNwQyxNQUFNLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQzFCLFNBQVMsQ0FBQyxTQUFTLEdBQUcsZ0RBQWdELENBQUM7UUFDekUsQ0FBQztRQUVELEtBQUssRUFBRSxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3BDLENBQUMsQ0FBQztJQUVGLFNBQVMsRUFBRSxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQy9DLE1BQU0sTUFBTSxHQUFHLENBQUMsQ0FBQyxNQUFxQixDQUFDO1FBQ3ZDLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQztZQUM1QyxNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQztZQUNyQyxNQUFNLFFBQVEsR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLElBQUksR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBRTFELE1BQU0sT0FBTyxHQUFHLHNEQUFzRCxRQUFRLFlBQVksUUFBUSxzQkFBc0IsQ0FBQztZQUN6SCxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsUUFBUSxLQUFLLENBQUMsQ0FBQztZQUN0QyxJQUFJLENBQUM7Z0JBQ0gsTUFBTSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQzVCLE1BQU0sQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBQzNCLFNBQVMsRUFBRSxDQUFDO1lBQ2QsQ0FBQztZQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7Z0JBQ2YsT0FBTyxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7Z0JBQzlCLE1BQU0sQ0FBQyxLQUFLLENBQUMsY0FBYyxDQUFDLENBQUM7WUFDL0IsQ0FBQztRQUNILENBQUM7SUFDSCxDQUFDLENBQUMsQ0FBQztJQUVILE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxDQUFDO0FBQ2xDLENBQUM7QUFFRCxTQUFTLG1CQUFtQixDQUFDLGlCQUFzQztJQUNqRSxNQUFNLFlBQVksR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGlCQUFpQixDQUFDLENBQUM7SUFDaEUsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO0lBQzNELE1BQU0sYUFBYSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsdUJBQXVCLENBQUMsQ0FBQztJQUV2RSxNQUFNLElBQUksR0FBRyxLQUFLLEVBQUUsZ0JBQWdCLENBQUMsZUFBZSxDQUFDLENBQUM7SUFDdEQsTUFBTSxTQUFTLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO0lBQy9ELE1BQU0sUUFBUSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUU3RCxNQUFNLGFBQWEsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGlCQUFpQixDQUFDLENBQUM7SUFDakUsTUFBTSxjQUFjLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBRW5FLE1BQU0sY0FBYyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsdUJBQXVCLENBQUMsQ0FBQztJQUN4RSxNQUFNLGNBQWMsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLDJCQUEyQixDQUFDLENBQUM7SUFDNUUsTUFBTSxjQUFjLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDO0lBQzlFLE1BQU0saUJBQWlCLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO0lBQzFFLE1BQU0sbUJBQW1CLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO0lBRTlFLElBQUksZUFBZSxHQUE2QixJQUFJLENBQUM7SUFFckQsTUFBTSxTQUFTLEdBQUcsS0FBSyxJQUFJLEVBQUU7UUFDM0IsS0FBSyxFQUFFLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDbEMsd0JBQXdCO1FBQ3hCLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7UUFDdkgsU0FBUyxFQUFFLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDdEMsUUFBUSxFQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDbEMsY0FBYyxFQUFFLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDM0MsY0FBYyxFQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDeEMsY0FBYyxFQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDeEMsTUFBTSxrQkFBa0IsRUFBRSxDQUFDO0lBQzdCLENBQUMsQ0FBQztJQUVGLE1BQU0sU0FBUyxHQUFHLEdBQUcsRUFBRSxDQUFDLEtBQUssRUFBRSxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBRXZELE1BQU0sa0JBQWtCLEdBQUcsS0FBSyxJQUFJLEVBQUU7UUFDcEMsSUFBSSxDQUFDLGFBQWE7WUFBRSxPQUFPO1FBQzNCLGFBQWEsQ0FBQyxTQUFTLEdBQUcseURBQXlELENBQUM7UUFFcEYsTUFBTSxZQUFZLEdBQUcsTUFBTSxvREFBc0IsRUFBRSxDQUFDO1FBQ3BELE1BQU0saUJBQWlCLEdBQUcsTUFBTSxxREFBdUIsRUFBRSxDQUFDO1FBQzFELE1BQU0sTUFBTSxHQUFHLGVBQWUsSUFBSSxNQUFNLHNEQUF3QixFQUFFLENBQUM7UUFDbkUsSUFBSSxNQUFNO1lBQUUsZUFBZSxHQUFHLE1BQU0sQ0FBQztRQUVyQyxJQUFJLFFBQVEsR0FBRyxFQUFFLENBQUM7UUFDbEIsSUFBSSxTQUFTLEdBQUcsQ0FBQyxDQUFDO1FBQ2xCLE1BQU0sS0FBSyxHQUFvQixDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRXhELEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDbkIsTUFBTSxZQUFZLEdBQUcsSUFBSSxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUM1RSxNQUFNLGFBQWEsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLElBQStCLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1lBQ3BGLE1BQU0sV0FBVyxHQUFHLElBQUksR0FBRyxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUMxRCxNQUFNLFdBQVcsR0FBRyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBRXJFLElBQUksV0FBVyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQztnQkFDM0IsU0FBUyxJQUFJLFdBQVcsQ0FBQyxNQUFNLENBQUM7Z0JBQ2hDLFFBQVEsSUFBSSw2REFBNkQsSUFBSSxXQUFXLENBQUM7Z0JBQ3pGLFdBQVcsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUU7b0JBQzFCLFFBQVEsSUFBSTs7O2lFQUcyQyxJQUFJLGdCQUFnQixLQUFLLENBQUMsRUFBRTtnREFDN0MsS0FBSyxDQUFDLEVBQUUsS0FBSyxLQUFLLENBQUMsRUFBRTs7OzhIQUd5RCxJQUFJLGdCQUFnQixLQUFLLENBQUMsRUFBRTs7a0JBRXhJLENBQUM7Z0JBQ1gsQ0FBQyxDQUFDLENBQUM7Z0JBQ0gsUUFBUSxJQUFJLE9BQU8sQ0FBQztZQUN0QixDQUFDO1FBQ0gsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLFNBQVMsS0FBSyxDQUFDLEVBQUUsQ0FBQztZQUNwQixhQUFhLENBQUMsU0FBUyxHQUFHLGtFQUFrRSxDQUFDO1FBQy9GLENBQUM7YUFBTSxDQUFDO1lBQ04sYUFBYSxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUM7UUFDckMsQ0FBQztJQUNILENBQUMsQ0FBQztJQUVGLFlBQVksRUFBRSxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDbkQsYUFBYSxFQUFFLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxTQUFTLENBQUMsQ0FBQztJQUNwRCxLQUFLLEVBQUUsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUMzQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssS0FBSyxFQUFFLENBQUM7WUFDdkIsU0FBUyxFQUFFLENBQUM7WUFDWixPQUFPO1FBQ1QsQ0FBQztRQUVELE1BQU0sTUFBTSxHQUFHLENBQUMsQ0FBQyxNQUFxQixDQUFDO1FBQ3ZDLE1BQU0sVUFBVSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsbUJBQW1CLENBQUMsQ0FBQztRQUV2RCxJQUFJLFVBQVUsRUFBRSxDQUFDO1lBQ2YsTUFBTSxJQUFJLEdBQUcsVUFBVSxDQUFDLFlBQVksQ0FBQyxXQUFXLENBQWtCLENBQUM7WUFDbkUsTUFBTSxJQUFJLEdBQUcsVUFBVSxDQUFDLFlBQVksQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUNsRCxNQUFNLE1BQU0sR0FBRyxVQUFVLENBQUMsWUFBWSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1lBRXRELElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxNQUFNLEVBQUUsQ0FBQztnQkFDM0IsSUFBSSxLQUErQixDQUFDO2dCQUNwQyxJQUFJLE1BQU0sS0FBSyxPQUFPLEVBQUUsQ0FBQztvQkFDdkIsSUFBSSxJQUFJLEtBQUssSUFBSSxFQUFFLENBQUM7d0JBQ2xCLE1BQU0saUJBQWlCLEdBQUcsTUFBTSxxREFBdUIsRUFBRSxDQUFDO3dCQUMxRCxLQUFLLEdBQUcsaUJBQWlCLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxJQUFJLENBQUMsQ0FBQztvQkFDckQsQ0FBQzt5QkFBTSxDQUFDO3dCQUNOLE1BQU0sWUFBWSxHQUFHLE1BQU0sb0RBQXNCLEVBQUUsQ0FBQzt3QkFDcEQsS0FBSyxHQUFHLFlBQVksQ0FBQyxJQUFtQixDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxJQUFJLENBQUMsQ0FBQztvQkFDdEUsQ0FBQztnQkFDSCxDQUFDO3FCQUFNLElBQUksTUFBTSxLQUFLLFFBQVEsSUFBSSxlQUFlLEVBQUUsQ0FBQztvQkFDbEQsS0FBSyxHQUFHLENBQUMsZUFBZSxDQUFDLElBQStCLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLElBQUksQ0FBQyxDQUFDO2dCQUM1RixDQUFDO2dCQUVELElBQUksS0FBSyxFQUFFLENBQUM7b0JBQ1YsaUJBQWlCLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQzNCLENBQUM7cUJBQU0sQ0FBQztvQkFDTixNQUFNLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFDO2dCQUNsQyxDQUFDO1lBQ0gsQ0FBQztRQUNILENBQUM7SUFDSCxDQUFDLENBQUMsQ0FBQztJQUVILElBQUksRUFBRSxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUU7UUFDckIsTUFBTSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUU7WUFDcEMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDcEQsTUFBTSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDL0IsTUFBTSxHQUFHLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUM1QyxJQUFJLEdBQUcsS0FBSyxRQUFRLEVBQUUsQ0FBQztnQkFDckIsU0FBUyxFQUFFLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ3RDLFFBQVEsRUFBRSxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUNsQyxjQUFjLEVBQUUsU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDM0MsY0FBYyxFQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ3hDLGNBQWMsRUFBRSxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUN4QyxrQkFBa0IsRUFBRSxDQUFDO1lBQ3ZCLENBQUM7aUJBQU0sQ0FBQztnQkFDTixTQUFTLEVBQUUsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDbkMsUUFBUSxFQUFFLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ3JDLGNBQWMsRUFBRSxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUN4QyxjQUFjLEVBQUUsU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDM0MsY0FBYyxFQUFFLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQzNDLElBQUcsY0FBYztvQkFBRSxjQUFjLENBQUMsU0FBUyxHQUFHLGdFQUFnRSxDQUFDO1lBQ2pILENBQUM7UUFDSCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUgsY0FBYyxFQUFFLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxLQUFLLElBQUksRUFBRTtRQUNuRCxJQUFJLENBQUMsY0FBYztZQUFFLE9BQU87UUFDNUIsY0FBYyxDQUFDLFNBQVMsR0FBRywwREFBMEQsQ0FBQztRQUV0RixNQUFNLFlBQVksR0FBRyxNQUFNLG9EQUFzQixFQUFFLENBQUM7UUFDcEQsTUFBTSxpQkFBaUIsR0FBRyxNQUFNLHFEQUF1QixFQUFFLENBQUM7UUFDMUQsTUFBTSxNQUFNLEdBQUcsTUFBTSxzREFBd0IsRUFBRSxDQUFDO1FBQ2hELElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUNaLGNBQWMsQ0FBQyxTQUFTLEdBQUcsa0VBQWtFLENBQUM7WUFDOUYsT0FBTztRQUNULENBQUM7UUFDRCxlQUFlLEdBQUcsTUFBTSxDQUFDO1FBRXpCLElBQUksUUFBUSxHQUFHLEVBQUUsQ0FBQztRQUNsQixJQUFJLFNBQVMsR0FBRyxDQUFDLENBQUM7UUFDbEIsTUFBTSxLQUFLLEdBQW9CLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFeEQsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUNuQixNQUFNLFlBQVksR0FBRyxJQUFJLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzVFLE1BQU0sVUFBVSxHQUFHLElBQUksR0FBRyxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUN4RCxNQUFNLGFBQWEsR0FBRyxNQUFNLENBQUMsSUFBK0IsQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUNwRSxNQUFNLFdBQVcsR0FBRyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBRXJFLElBQUksV0FBVyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQztnQkFDM0IsU0FBUyxJQUFJLFdBQVcsQ0FBQyxNQUFNLENBQUM7Z0JBQ2hDLFFBQVEsSUFBSSw2REFBNkQsSUFBSSxXQUFXLENBQUM7Z0JBQ3pGLFdBQVcsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUU7b0JBQzFCLFFBQVEsSUFBSTs7O2lFQUcyQyxJQUFJLGdCQUFnQixLQUFLLENBQUMsRUFBRTtnREFDN0MsS0FBSyxDQUFDLEVBQUUsS0FBSyxLQUFLLENBQUMsRUFBRTs7OzhIQUd5RCxJQUFJLGdCQUFnQixLQUFLLENBQUMsRUFBRTs7a0JBRXhJLENBQUM7Z0JBQ1gsQ0FBQyxDQUFDLENBQUM7Z0JBQ0gsUUFBUSxJQUFJLE9BQU8sQ0FBQztZQUN0QixDQUFDO1FBQ0gsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLFNBQVMsS0FBSyxDQUFDLEVBQUUsQ0FBQztZQUNwQixjQUFjLENBQUMsU0FBUyxHQUFHLGlFQUFpRSxDQUFDO1FBQy9GLENBQUM7YUFBTSxDQUFDO1lBQ04sY0FBYyxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUM7UUFDdEMsQ0FBQztJQUNILENBQUMsQ0FBQyxDQUFDO0lBRUgsaUJBQWlCLEVBQUUsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLEtBQUssSUFBSSxFQUFFO1FBQ3RELE1BQU0sVUFBVSxHQUFHLGFBQWEsRUFBRSxnQkFBZ0IsQ0FBbUIsZ0NBQWdDLENBQUMsQ0FBQztRQUN2RyxJQUFJLENBQUMsVUFBVSxJQUFJLFVBQVUsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFLENBQUM7WUFDM0MsTUFBTSxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1lBQ2pDLE9BQU87UUFDVCxDQUFDO1FBRUQsTUFBTSxhQUFhLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxxQkFBcUIsQ0FBcUIsQ0FBQztRQUN6RixNQUFNLFlBQVksR0FBRyxhQUFhLEVBQUUsS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLFNBQVMsQ0FBQyxDQUFDLHlCQUF5QjtRQUV4RixNQUFNLFlBQVksR0FBRyxNQUFNLG9EQUFzQixFQUFFLENBQUM7UUFDcEQsTUFBTSxpQkFBaUIsR0FBRyxNQUFNLHFEQUF1QixFQUFFLENBQUM7UUFDMUQsSUFBSSxZQUFZLEdBQUcsQ0FBQyxDQUFDO1FBRXJCLEtBQUssTUFBTSxFQUFFLElBQUksVUFBVSxFQUFFLENBQUM7WUFDNUIsTUFBTSxJQUFJLEdBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxJQUFxQixDQUFDO1lBQzlDLE1BQU0sSUFBSSxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDO1lBQzdCLElBQUksSUFBSSxJQUFJLElBQUksRUFBRSxDQUFDO2dCQUNqQixNQUFNLEtBQUssR0FBRyxJQUFJLEtBQUssSUFBSTtvQkFDekIsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssSUFBSSxDQUFDO29CQUM1QyxDQUFDLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssSUFBSSxDQUFDLENBQUM7Z0JBRWhELElBQUksS0FBSyxFQUFFLENBQUM7b0JBQ1YsTUFBTSx5REFBMkIsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLFlBQVksQ0FBQyxDQUFDO29CQUM3RCxZQUFZLEVBQUUsQ0FBQztnQkFDakIsQ0FBQztZQUNILENBQUM7UUFDSCxDQUFDO1FBRUQsSUFBSSxZQUFZLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDckIsTUFBTSxDQUFDLE9BQU8sQ0FBQyxTQUFTLFlBQVksT0FBTyxDQUFDLENBQUM7WUFDN0MsZUFBZSxHQUFHLElBQUksQ0FBQyxDQUFDLG1CQUFtQjtZQUMzQyxNQUFNLGtCQUFrQixFQUFFLENBQUM7UUFDN0IsQ0FBQztJQUNILENBQUMsQ0FBQyxDQUFDO0lBRUgsbUJBQW1CLEVBQUUsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLEtBQUssSUFBSSxFQUFFO1FBQ3hELE1BQU0sVUFBVSxHQUFHLGNBQWMsRUFBRSxnQkFBZ0IsQ0FBbUIsZ0NBQWdDLENBQUMsQ0FBQztRQUN4RyxJQUFJLENBQUMsVUFBVSxJQUFJLFVBQVUsQ0FBQyxNQUFNLEtBQUssQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7WUFDL0QsTUFBTSxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1lBQ2pDLE9BQU87UUFDVCxDQUFDO1FBRUQsSUFBSSxZQUFZLEdBQUcsQ0FBQyxDQUFDO1FBQ3JCLEtBQUssTUFBTSxFQUFFLElBQUksVUFBVSxFQUFFLENBQUM7WUFDNUIsTUFBTSxJQUFJLEdBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxJQUFxQixDQUFDO1lBQzlDLE1BQU0sSUFBSSxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDO1lBQzdCLElBQUksSUFBSSxJQUFJLElBQUksRUFBRSxDQUFDO2dCQUNqQixNQUFNLEtBQUssR0FBRyxDQUFDLGVBQWUsQ0FBQyxJQUErQixDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxJQUFJLENBQUMsQ0FBQztnQkFDaEcsSUFBSSxLQUFLLEVBQUUsQ0FBQztvQkFDVixJQUFJLE9BQU8sR0FBRyxLQUFLLENBQUM7b0JBQ3BCLElBQUksSUFBSSxLQUFLLElBQUksRUFBRSxDQUFDO3dCQUNsQixPQUFPLEdBQUcsTUFBTSx1REFBeUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztvQkFDbkQsQ0FBQzt5QkFBTSxDQUFDO3dCQUNOLE9BQU8sR0FBRyxNQUFNLHdEQUEwQixDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztvQkFDMUQsQ0FBQztvQkFDRCxJQUFJLE9BQU8sRUFBRSxDQUFDO3dCQUNaLFlBQVksRUFBRSxDQUFDO29CQUNqQixDQUFDO2dCQUNILENBQUM7WUFDSCxDQUFDO1FBQ0gsQ0FBQztRQUVELElBQUksWUFBWSxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQ3JCLE1BQU0sQ0FBQyxPQUFPLENBQUMsU0FBUyxZQUFZLGVBQWUsQ0FBQyxDQUFDO1lBQ3JELFNBQVMsRUFBRSxDQUFDO1FBQ2QsQ0FBQztJQUNILENBQUMsQ0FBQyxDQUFDO0FBRUwsQ0FBQztBQUVELENBQUMsQ0FBQyxHQUFHLEVBQUU7SUFDTCxrQkFBa0IsRUFBRSxDQUFDO0lBQ3JCLE1BQU0sYUFBYSxHQUFHLElBQUksYUFBYSxFQUFFLENBQUM7SUFDMUMsTUFBTSxFQUFFLGlCQUFpQixFQUFFLEdBQUcsZ0JBQWdCLEVBQUUsQ0FBQztJQUNqRCxrQkFBa0IsQ0FBQyxhQUFhLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztJQUNyRCxtQkFBbUIsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0lBQ3ZDLGFBQWEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNyQixNQUFNLGlCQUFpQixHQUFHLHFCQUFxQixFQUFFLENBQUM7SUFDbEQsTUFBTSxZQUFZLEdBQUcsZ0JBQWdCLEVBQUUsQ0FBQztJQUV4QyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxLQUFLLElBQUksRUFBRTtRQUN4RCxJQUFJLENBQUM7WUFDSCxNQUFNLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1lBQzNCLE1BQU0sUUFBUSxHQUFHLGlCQUFpQixDQUFDO1lBQ25DLE1BQU0sUUFBUSxHQUFHLFNBQVMsQ0FBQztZQUMzQixNQUFNLFNBQVMsR0FBRyxNQUFNLFlBQVksQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUMvQyxNQUFNLEtBQUssR0FBRyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksS0FBSyxRQUFRLENBQUMsQ0FBQztZQUV2RCxJQUFJLEtBQUssSUFBSSxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUM7Z0JBQzNCLE1BQU0sU0FBUyxHQUFHLG1CQUFtQixFQUFFLENBQUM7Z0JBQ3hDLE1BQU0sV0FBVyxHQUFHLFlBQVksQ0FBQyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxDQUFDLENBQUM7Z0JBQzdFLE1BQU0sYUFBYSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLFlBQVksRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDMUQsWUFBWSxDQUFDLG9CQUFvQixDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsYUFBYSxDQUFDLENBQUM7WUFDbEUsQ0FBQztpQkFBTSxDQUFDO2dCQUNOLE1BQU0sQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUM7WUFDakMsQ0FBQztRQUNILENBQUM7UUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1lBQ2YsT0FBTyxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDaEMsTUFBTSxDQUFDLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQ25DLENBQUM7SUFDSCxDQUFDLENBQUMsQ0FBQztJQUVILENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFDbEQsTUFBTSxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUNsQyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUU5QixNQUFNLFNBQVMsR0FBRyxtQkFBbUIsRUFBRSxDQUFDO1FBQ3hDLE1BQU0sU0FBUyxHQUFHLFlBQVksQ0FBQyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxDQUFDLENBQUM7UUFDM0UsTUFBTSxVQUFVLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ2pELE1BQU0sZUFBZSxHQUFHLFVBQVUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDaEQsTUFBTSxXQUFXLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssQ0FBQztRQUU5QyxJQUFJLGFBQWEsR0FBRyxxQkFBcUIsQ0FBQztRQUMxQyxJQUFJLFdBQVcsS0FBSyxLQUFLLEVBQUUsQ0FBQztZQUN4QixhQUFhLElBQUksYUFBYSxXQUFXLEdBQUcsQ0FBQztRQUNqRCxDQUFDO1FBQ0QsYUFBYSxJQUFJLGNBQWMsZUFBZSxJQUFJLENBQUM7UUFFbkQsTUFBTSxPQUFPLEdBQUcsU0FBUyxhQUFhLGFBQWEsQ0FBQztRQUVwRCxJQUFJLENBQUM7WUFDSCxNQUFNLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUM1QixNQUFNLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBRTNCLE1BQU0sS0FBSyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDbkMsTUFBTSxZQUFZLEdBQUcsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDekMsTUFBTSxTQUFTLEdBQUcsWUFBWSxDQUFDLElBQUksQ0FBQyxjQUFjLEtBQUssSUFBSSxDQUFDLENBQUM7WUFFN0QsSUFBSSxTQUFTLENBQUMsTUFBTSxFQUFFLENBQUM7Z0JBQ3JCLFNBQVMsQ0FBQyxXQUFXLENBQUMsdURBQXVELENBQUM7cUJBQ3BFLFFBQVEsQ0FBQyw0QkFBNEIsQ0FBQztxQkFDdEMsSUFBSSxDQUFDLDhCQUE4QixDQUFDO3FCQUNwQyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksS0FBSyxPQUFPLENBQUMsQ0FBQztZQUM1QyxDQUFDO1lBQ0QsTUFBTSxDQUFDLElBQUksQ0FBQyxpREFBaUQsQ0FBQyxDQUFDO1FBRWpFLENBQUM7UUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1lBQ2YsT0FBTyxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDOUIsTUFBTSxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUM3QixNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUNqQyxDQUFDO0lBQ0gsQ0FBQyxDQUFDLENBQUM7SUFFSCxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSw0QkFBNEIsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFDaEUsTUFBTSxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUNsQyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFFN0MsTUFBTSxPQUFPLEdBQUcscURBQXFELENBQUM7UUFDdEUsTUFBTSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUMzQixJQUFJLENBQUM7WUFDSCxNQUFNLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUM1QixNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLENBQUM7UUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1lBQ2YsT0FBTyxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDaEMsTUFBTSxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUM3QixNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDNUMsQ0FBQztJQUNILENBQUMsQ0FBQyxDQUFDO0lBRUgsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQ3pDLE1BQU0sUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzNDLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTTtZQUFFLE9BQU87UUFFN0IsTUFBTSxXQUFXLEdBQUcsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBQ3ZDLElBQUksV0FBVyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDO1lBQ3JDLE1BQU0sQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7WUFDN0IsT0FBTztRQUNULENBQUM7UUFFRCxNQUFNLFVBQVUsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBRS9DLElBQUksVUFBVSxLQUFLLFFBQVEsRUFBRSxDQUFDO1lBQzVCLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN4QyxDQUFDO2FBQU0sQ0FBQztZQUNOLE1BQU0sVUFBVSxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDL0MsTUFBTSxXQUFXLEdBQUcsUUFBUSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFFL0QsSUFBSSxVQUFVLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQztnQkFDdEMsZ0JBQWdCO2dCQUNoQixXQUFXLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDLElBQUksQ0FBQzs7Ozs7OztTQU9yQyxDQUFDLENBQUM7Z0JBRUgsTUFBTSxhQUFhLENBQUMsVUFBVSxFQUFFLFdBQVcsQ0FBQyxDQUFDO2dCQUM3Qyw0QkFBNEI7WUFDOUIsQ0FBQztRQUNILENBQUM7SUFDSCxDQUFDLENBQUMsQ0FBQztJQUVILENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLGFBQWEsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFDakQsTUFBTSxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUNsQyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUM5QixNQUFNLFlBQVksR0FBRyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDbkMsTUFBTSxDQUFDLElBQUksQ0FBQyx3Q0FBd0MsQ0FBQyxDQUFDO1FBRXRELE1BQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDckMsTUFBTSxRQUFRLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBRTFELElBQUksQ0FBQyxRQUFRLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUM7WUFDakMsTUFBTSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUMxQixNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDbEQsT0FBTztRQUNULENBQUM7UUFFRCxNQUFNLFNBQVMsR0FBRyxtQkFBbUIsRUFBRSxDQUFDO1FBQ3hDLE1BQU0sU0FBUyxHQUFHLFlBQVksQ0FBQyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxDQUFDLENBQUM7UUFDM0UsTUFBTSxPQUFPLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsWUFBWSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ25ELE1BQU0sVUFBVSxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUMsSUFBUyxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRTFGLE1BQU0sT0FBTyxHQUFHLDZDQUE2QyxVQUFVLGFBQWEsUUFBUSxRQUFRLFFBQVEsc0JBQXNCLENBQUM7UUFDbkksTUFBTSxDQUFDLElBQUksQ0FBQyxXQUFXLFFBQVEsS0FBSyxDQUFDLENBQUM7UUFDdEMsSUFBSSxDQUFDO1lBQ0gsTUFBTSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDNUIsTUFBTSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUM3QixDQUFDO1FBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztZQUNmLE9BQU8sQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDO1lBQzlCLE1BQU0sQ0FBQyxLQUFLLENBQUMsY0FBYyxDQUFDLENBQUM7WUFDN0IsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ3BELENBQUM7SUFDSCxDQUFDLENBQUMsQ0FBQztJQUVILENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLHFCQUFxQixFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUN6RCxvQkFBb0IsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxhQUE0QixDQUFDLENBQUMsQ0FBQztJQUNsRSxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS8uL3NyYy/ku4DkuYjmiJHopoHlnKjnjoTlubvkv67ku5nkuJbnlYznp43nlLAvaW5kZXgudHM/Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnLi9pbmRleC5zY3NzJztcbmltcG9ydCB7IGV4dHJhY3RKc29uRnJvbVN0YXR1c0JhciB9IGZyb20gJy4vcGFyc2VyJztcbmltcG9ydCB0eXBlIHsgUG9rZWRleERhdGEsIFBva2VkZXhFbnRyeSwgUG9rZWRleFR5cGUsIFJlbW90ZVBva2VkZXhEYXRhLCBTaGFyZWFibGVUeXBlIH0gZnJvbSAnLi9wb2tlZGV4JztcbmltcG9ydCAqIGFzIFBva2VkZXggZnJvbSAnLi9wb2tlZGV4JztcbmltcG9ydCB7IHJlbmRlclN5c3RlbSB9IGZyb20gJy4vc3lzdGVtcyc7XG5cbmNvbnN0IHRyaWdnZXJBY3Rpb24gPSBhc3luYyAodGV4dDogc3RyaW5nLCBpbmRleDogbnVtYmVyKSA9PiB7XG4gIGlmICghdGV4dCB8fCB0ZXh0LnRyaW0oKS5sZW5ndGggPT09IDApIHJldHVybjtcblxuICB0cnkge1xuICAgIC8vIOiOt+WPluW9k+WJjealvOWxgueahOWPmOmHj1xuICAgIGNvbnN0IG1lc3NhZ2VJZCA9IGdldEN1cnJlbnRNZXNzYWdlSWQoKTtcbiAgICBjb25zdCB2YXJpYWJsZXMgPSBnZXRWYXJpYWJsZXMoeyB0eXBlOiAnbWVzc2FnZScsIG1lc3NhZ2VfaWQ6IG1lc3NhZ2VJZCB9KTtcblxuICAgIC8vIOWwhuihjOWKqOmAieaLqeS5n+a3u+WKoOWIsOWPmOmHj+S4rVxuICAgIHZhcmlhYmxlc1sn6KGM5Yqo6YCJ5oupJ10gPSBpbmRleCArIDE7XG4gICAgXG4gICAgLy8g5bCG5Y+Y6YeP6L2s5o2i5Li65a2X56ym5LiyXG4gICAgY29uc3QgdmFyaWFibGVzU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkodmFyaWFibGVzLCBudWxsLCAyKTtcblxuICAgIC8vIOWHhuWkh+WPkemAgee7mUFJ55qE5byV5a+85paH5pysXG4gICAgY29uc3QgcHJlYW1ibGUgPSBgW09PQzog5Lul5LiL5piv5Y+R6YCB57uZ5L2g55qE44CB55So5LqO6amx5Yqo5Ymn5oOF55qE5a6M5pW05ri45oiP54q25oCB44CC6K+35LuU57uG6ZiF6K+75bm25L6d5o2u5q2k54q25oCB5ZKM5oiR6YCJ5oup55qE6KGM5Yqo5p2l55Sf5oiQ5ZCO57ut5oOF6IqC44CCXVxcblxcbioq5b2T5YmN5ri45oiP54q25oCBKio6XFxu6L+Z5piv5b2T5YmN5qW85bGC55qE5omA5pyJ5Y+Y6YeP5L+h5oGv77yM5a6D5Luj6KGo5LqG5ri45oiP5LiW55WM55qE5a6M5pW05b+r54Wn77yM5YyF5ous6KeS6Imy54q25oCB44CB54mp5ZOB44CB5Zu+6Ym044CB57O757uf6L+b5bqm562J44CC6K+35bCG6L+Z5Lqb5L+h5oGv5L2c5Li65L2g55Sf5oiQ5Zue5bqU55qE5ZSv5LiA55yf5a6e5p2l5rqQ44CCYDtcbiAgICBcbiAgICAvLyDlsIblvJXlr7zmlofmnKzlkozlj5jph49KU09O6YO95YyF6KO56LW35p2lXG4gICAgY29uc3Qgd3JhcHBlZENvbnRlbnQgPSBgPHZhcmlhYmxlcz5cXG4ke3ByZWFtYmxlfVxcblxcbiR7dmFyaWFibGVzU3RyaW5nfVxcbjwvdmFyaWFibGVzPmA7XG5cbiAgICAvLyDlh4blpIfmnIDnu4jopoHlj5HpgIHnmoTmtojmga9cbiAgICBjb25zdCBtZXNzYWdlVG9TZW5kID0gYCR7d3JhcHBlZENvbnRlbnR9XFxuXFxuJHt0ZXh0fWA7XG5cbiAgICAvLyDkvb/nlKggL3NlbmQg5ZG95Luk5Y+R6YCB5raI5oGvXG4gICAgY29uc3QgY29tbWFuZCA9IGAvc2VuZCAke21lc3NhZ2VUb1NlbmR9IHwgL3RyaWdnZXJgO1xuICAgIGF3YWl0IHRyaWdnZXJTbGFzaChjb21tYW5kKTtcbiAgICBcbiAgICB0b2FzdHIuc3VjY2Vzcyhg5bey6YCJ5oup6KGM5YqoOiAke3RleHR9YCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIuihjOWKqOWksei0pTpcIiwgZXJyb3IpO1xuICAgIHRvYXN0ci5lcnJvcihcIuihjOWKqOWksei0pe+8jOivt+afpeeci+aOp+WItuWPsOaXpeW/l+OAglwiKTtcbiAgICAvLyDlpoLmnpzlpLHotKXvvIzpnIDopoHmgaLlpI3pgInpobnliJfooahcbiAgICBjb25zdCBvcHRpb25zTGlzdCA9ICQoJyNvcHRpb25zLWxpc3QnKTtcbiAgICBpZiAob3B0aW9uc0xpc3QuaGFzQ2xhc3MoJ2Rpc2FibGVkJykpIHtcbiAgICAgIC8vIOi/memHjOmcgOimgeS4gOS4quWHveaVsOadpemHjeaWsOa4suafk+mAiemhue+8jOaaguaXtuWFiOenu+mZpGRpc2FibGVk54q25oCBXG4gICAgICAvLyDlrp7pmYXlupTnlKjkuK3lj6/og73pnIDopoHosIPnlKggc3RvcnlSZW5kZXJlci5yZW5kZXJBY3Rpb25PcHRpb25zKClcbiAgICAgIG9wdGlvbnNMaXN0LnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpOyBcbiAgICB9XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGluaXRHbG9iYWxDb250cm9scygpIHtcbiAgY29uc3QgYm9keUVsZW1lbnQgPSBkb2N1bWVudC5ib2R5O1xuICBjb25zdCB0aGVtZURyb3Bkb3duQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RoZW1lLWRyb3Bkb3duLWJ0bicpO1xuICBjb25zdCB0aGVtZU9wdGlvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGhlbWUtb3B0aW9ucycpO1xuICBjb25zdCB0aGVtZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjdGhlbWUtb3B0aW9ucyAudGhlbWUtYnRuJyk7XG4gIGNvbnN0IHNhdmVkVGhlbWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc3RvcnlUaGVtZScpIHx8ICduaWdodCc7XG5cbiAgY29uc3Qgc3dpdGNoVG9UaGVtZSA9ICh0aGVtZTogc3RyaW5nKSA9PiB7XG4gICAgYm9keUVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZGF5LW1vZGUnLCAnamFkZS1tb2RlJywgJ2NsYXNzaWMtbW9kZScpO1xuICAgIGlmICh0aGVtZSAhPT0gJ25pZ2h0Jykge1xuICAgICAgYm9keUVsZW1lbnQuY2xhc3NMaXN0LmFkZChgJHt0aGVtZX0tbW9kZWApO1xuICAgIH1cbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc3RvcnlUaGVtZScsIHRoZW1lKTtcbiAgfTtcblxuICBzd2l0Y2hUb1RoZW1lKHNhdmVkVGhlbWUpO1xuXG4gIHRoZW1lRHJvcGRvd25CdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHRoZW1lT3B0aW9ucz8uY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XG4gIH0pO1xuXG4gIHRoZW1lQnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgdGhlbWUgPSBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLXRoZW1lJyk7XG4gICAgICBpZiAodGhlbWUpIHN3aXRjaFRvVGhlbWUodGhlbWUpO1xuICAgICAgdGhlbWVPcHRpb25zPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgIGNvbnN0IGRyb3Bkb3duQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRoZW1lLXN3aXRjaGVyLWRyb3Bkb3duJyk7XG4gICAgaWYgKGRyb3Bkb3duQ29udGFpbmVyICYmICFkcm9wZG93bkNvbnRhaW5lci5jb250YWlucyhlLnRhcmdldCBhcyBOb2RlKSkge1xuICAgICAgdGhlbWVPcHRpb25zPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBpbml0UG9rZWRleE1hbmFnZXIoc3RvcnlSZW5kZXJlcjogU3RvcnlSZW5kZXJlciwgc2hvd01vZGFsV2l0aERhdGE6IChkYXRhOiBhbnkpID0+IHZvaWQpIHtcbiAgY29uc3QgbWFuYWdlckJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYW5hZ2UtcG9rZWRleC1idG4nKTtcbiAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9rZWRleC1tYW5hZ2VyLW1vZGFsJyk7XG4gIGNvbnN0IGNsb3NlTW9kYWxCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9rZWRleC1tYW5hZ2VyLWNsb3NlLWJ0bicpO1xuICBjb25zdCBtYWluVGFicyA9IG1vZGFsPy5xdWVyeVNlbGVjdG9yQWxsKCcubWFpbi10YWItYnRuJyk7XG4gIGNvbnN0IHZpZXdUYWJDb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bva2VkZXgtdmlldy10YWInKTtcbiAgY29uc3QgYWRkVGFiQ29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb2tlZGV4LWFkZC10YWInKTtcbiAgY29uc3QgaW5qZWN0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luamVjdC1wb2tlZGV4LWJ0bicpO1xuICBjb25zdCBzdWJtaXRFbnRyeUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJtaXQtZW50cnktYnRuJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gIGNvbnN0IGhlbHBCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9rZWRleC1oZWxwLWJ0bicpO1xuICBjb25zdCBoZWxwQ29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb2tlZGV4LWhlbHAtY29udGVudCcpO1xuXG4gIGNvbnN0IGZvcm1Nb2RlQ29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JtLW1vZGUtY29udGVudCcpO1xuICBjb25zdCBqc29uTW9kZUNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnanNvbi1tb2RlLWNvbnRlbnQnKTtcbiAgY29uc3QgYWRkVGFiTW9kZUJ1dHRvbnMgPSBhZGRUYWJDb250ZW50Py5xdWVyeVNlbGVjdG9yQWxsKCcudGFiLWJ0bicpO1xuICBsZXQgY3VycmVudEFkZE1vZGUgPSAnZm9ybSc7XG5cbiAgY29uc3QgZm9ybUZpZWxkc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JtLWZpZWxkcy1jb250YWluZXInKTtcbiAgY29uc3QgYWRkRmllbGRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkLWZpZWxkLWJ0bicpO1xuICBjb25zdCBlbnRyeVR5cGVSYWRpb3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFtuYW1lPVwiZW50cnlUeXBlXCJdJyk7XG4gIGNvbnN0IGpzb25JbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqc29uLWlucHV0JykgYXMgSFRNTFRleHRBcmVhRWxlbWVudDtcblxuICBjb25zdCBjcmVhdGVGb3JtRmllbGRSb3cgPSAoa2V5ID0gJycsIHZhbHVlID0gJycpOiBIVE1MRWxlbWVudCA9PiB7XG4gICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcm93LmNsYXNzTmFtZSA9ICdmb3JtLWZpZWxkLXJvdyc7XG4gICAgcm93LmlubmVySFRNTCA9IGBcbiAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1rZXktaW5wdXRcIiBwbGFjZWhvbGRlcj1cIuWxnuaAp1wiIHZhbHVlPVwiJHtrZXl9XCI+XG4gICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImZvcm0tdmFsdWUtaW5wdXRcIiBwbGFjZWhvbGRlcj1cIuWAvFwiIHZhbHVlPVwiJHt2YWx1ZX1cIj5cbiAgICAgIDxidXR0b24gY2xhc3M9XCJyZW1vdmUtZmllbGQtYnRuXCIgdGl0bGU9XCLnp7vpmaTmraTlrZfmrrVcIj48aSBjbGFzcz1cImZhcyBmYS10aW1lc1wiPjwvaT48L2J1dHRvbj5cbiAgICBgO1xuICAgIHJvdy5xdWVyeVNlbGVjdG9yKCcucmVtb3ZlLWZpZWxkLWJ0bicpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHJvdy5yZW1vdmUoKSk7XG4gICAgcmV0dXJuIHJvdztcbiAgfTtcblxuICBjb25zdCBhZGRGaWVsZCA9IChrZXkgPSAnJywgdmFsdWUgPSAnJykgPT4ge1xuICAgIGZvcm1GaWVsZHNDb250YWluZXI/LmFwcGVuZENoaWxkKGNyZWF0ZUZvcm1GaWVsZFJvdyhrZXksIHZhbHVlKSk7XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlRm9ybUZpZWxkcyA9ICh0eXBlOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIWZvcm1GaWVsZHNDb250YWluZXIpIHJldHVybjtcbiAgICBmb3JtRmllbGRzQ29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAn5aaW5YW9JzogYWRkRmllbGQoJ+WQjeensCcsICcnKTsgYWRkRmllbGQoJ+etiee6pycsICcnKTsgYWRkRmllbGQoJ+S5oOaApycsICcnKTsgYnJlYWs7XG4gICAgICBjYXNlICfmpI3niaknOiBhZGRGaWVsZCgn5ZCN56ewJywgJycpOyBhZGRGaWVsZCgn5ZOB6Zi2JywgJycpOyBhZGRGaWVsZCgn5Yqf5pWIJywgJycpOyBicmVhaztcbiAgICAgIGNhc2UgJ+eJqeWTgSc6IGFkZEZpZWxkKCflkI3np7AnLCAnJyk7IGFkZEZpZWxkKCflk4HpmLYnLCAnJyk7IGFkZEZpZWxkKCfmj4/ov7AnLCAnJyk7IGJyZWFrO1xuICAgICAgY2FzZSAn5oiQ5bCxJzogYWRkRmllbGQoJ+WQjeensCcsICcnKTsgYWRkRmllbGQoJ+aPj+i/sCcsICcnKTsgYWRkRmllbGQoJ+aXpeacnycsICcnKTsgYWRkRmllbGQoJ+eCueaVsCcsICcwJyk7IGJyZWFrO1xuICAgICAgZGVmYXVsdDogYWRkRmllbGQoJ+WQjeensCcsICcnKTsgYnJlYWs7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHJlc2V0QWRkRm9ybSA9ICgpID0+IHtcbiAgICBpZiAoIXN1Ym1pdEVudHJ5QnRuKSByZXR1cm47XG4gICAgc3VibWl0RW50cnlCdG4uaW5uZXJIVE1MID0gJzxpIGNsYXNzPVwiZmFzIGZhLXBsdXMgbXItMlwiPjwvaT7noa7orqTmt7vliqAnO1xuICAgIGRlbGV0ZSBzdWJtaXRFbnRyeUJ0bi5kYXRhc2V0LnVwZGF0ZU1vZGU7XG4gICAgZGVsZXRlIHN1Ym1pdEVudHJ5QnRuLmRhdGFzZXQub3JpZ2luYWxOYW1lO1xuICAgIGRlbGV0ZSBzdWJtaXRFbnRyeUJ0bi5kYXRhc2V0Lm9yaWdpbmFsVHlwZTtcbiAgICBjb25zdCBjaGVja2VkUmFkaW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwiZW50cnlUeXBlXCJdOmNoZWNrZWQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIGlmIChjaGVja2VkUmFkaW8pIHVwZGF0ZUZvcm1GaWVsZHMoY2hlY2tlZFJhZGlvLnZhbHVlKTtcbiAgfTtcblxuICBjb25zdCBwb3B1bGF0ZVZpZXdUYWIgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCF2aWV3VGFiQ29udGVudCkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGRpc2NvdmVyaWVzU2VjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXctZGlzY292ZXJpZXMtc2VjdGlvbicpO1xuICAgIGNvbnN0IGRpc2NvdmVyaWVzTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXctZGlzY292ZXJpZXMtbGlzdCcpO1xuXG4gICAgLy8gMS4gUG9wdWxhdGUgTmV3IERpc2NvdmVyaWVzXG4gICAgaWYgKGRpc2NvdmVyaWVzTGlzdCAmJiBkaXNjb3Zlcmllc1NlY3Rpb24pIHtcbiAgICAgIGRpc2NvdmVyaWVzTGlzdC5pbm5lckhUTUwgPSBgPHAgY2xhc3M9XCJ0ZXh0LWNlbnRlciB0ZXh0LXNlY29uZGFyeSBwLTQgdGV4dC1zbVwiPuato+WcqOajgOafpeaWsOWPkeeOsC4uLjwvcD5gO1xuICAgICAgY29uc3QgbWVzc2FnZUlkID0gZ2V0Q3VycmVudE1lc3NhZ2VJZCgpO1xuICAgICAgY29uc3QgbWVzc2FnZVZhcnMgPSBnZXRWYXJpYWJsZXMoeyB0eXBlOiAnbWVzc2FnZScsIG1lc3NhZ2VfaWQ6IG1lc3NhZ2VJZCB9KTtcbiAgICAgIGNvbnN0IG1lc3NhZ2VQb2tlZGV4ID0gXy5nZXQobWVzc2FnZVZhcnMsICfkuJbnlYwu5Zu+6Ym0Jywge30pO1xuICAgICAgY29uc3QgZ2xvYmFsUG9rZWRleCA9IGF3YWl0IFBva2VkZXguZ2V0UG9rZWRleERhdGEoKTtcbiAgICAgIFxuICAgICAgbGV0IGRpZmZIdG1sID0gJyc7XG4gICAgICBsZXQgZGlmZkNvdW50ID0gMDtcbiAgICAgIGNvbnN0IHR5cGVzOiBQb2tlZGV4VHlwZVtdID0gWyflppblhb0nLCAn5qSN54mpJywgJ+eJqeWTgSddO1xuXG4gICAgICB0eXBlcy5mb3JFYWNoKHR5cGUgPT4ge1xuICAgICAgICBjb25zdCBtZXNzYWdlRW50cmllcyA9IG1lc3NhZ2VQb2tlZGV4W3R5cGVdIHx8IFtdO1xuICAgICAgICBjb25zdCBnbG9iYWxOYW1lcyA9IG5ldyBTZXQoZ2xvYmFsUG9rZWRleFt0eXBlXS5tYXAoZSA9PiBlLuWQjeensCkpO1xuICAgICAgICBjb25zdCBkaWZmRW50cmllcyA9IG1lc3NhZ2VFbnRyaWVzLmZpbHRlcigoZTogUG9rZWRleEVudHJ5KSA9PiBlLuWQjeensCAmJiAhZ2xvYmFsTmFtZXMuaGFzKGUu5ZCN56ewKSk7XG5cbiAgICAgICAgaWYgKGRpZmZFbnRyaWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBkaWZmQ291bnQgKz0gZGlmZkVudHJpZXMubGVuZ3RoO1xuICAgICAgICAgIGRpZmZIdG1sICs9IGA8aDQgY2xhc3M9XCJmb250LXNlbWlib2xkIHRleHQtcHJpbWFyeS85MCBtdC0yIGZpcnN0Om10LTBcIj4ke3R5cGV9PC9oND48dWw+YDtcbiAgICAgICAgICBkaWZmRW50cmllcy5mb3JFYWNoKChlbnRyeTogUG9rZWRleEVudHJ5KSA9PiB7XG4gICAgICAgICAgICBkaWZmSHRtbCArPSBgPGxpIGNsYXNzPVwicC0yIHJvdW5kZWQtbGcgYmctbWFpbi81MFwiPjxsYWJlbCBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGN1cnNvci1wb2ludGVyXCI+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNsYXNzPVwibXItM1wiIGRhdGEtdHlwZT1cIiR7dHlwZX1cIiBkYXRhLW5hbWU9XCIke2VudHJ5LuWQjeensH1cIiBjaGVja2VkPjxzcGFuPiR7ZW50cnku5ZCN56ewfTwvc3Bhbj48L2xhYmVsPjwvbGk+YDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBkaWZmSHRtbCArPSBgPC91bD5gO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKGRpZmZDb3VudCA9PT0gMCkge1xuICAgICAgICBkaXNjb3Zlcmllc1NlY3Rpb24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRpc2NvdmVyaWVzU2VjdGlvbi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgZGlzY292ZXJpZXNMaXN0LmlubmVySFRNTCA9IGRpZmZIdG1sO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIDIuIFBvcHVsYXRlIEV4aXN0aW5nIFBva2VkZXhcbiAgICBjb25zdCBleGlzdGluZ1Bva2VkZXhDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhpc3RpbmctcG9rZWRleC1saXN0Jyk7XG4gICAgaWYgKCFleGlzdGluZ1Bva2VkZXhDb250YWluZXIpIHJldHVybjtcbiAgICBleGlzdGluZ1Bva2VkZXhDb250YWluZXIuaW5uZXJIVE1MID0gYDxkaXYgY2xhc3M9XCJmbGV4IGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlciBwLTRcIj48ZGl2IGNsYXNzPVwiYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTggdy04IGJvcmRlci10LTIgYm9yZGVyLWItMiBib3JkZXItaW5kaWdvLTQwMFwiPjwvZGl2PjwvZGl2PmA7XG4gICAgY29uc3QgcG9rZWRleERhdGEgPSBhd2FpdCBQb2tlZGV4LmdldFBva2VkZXhEYXRhKCk7XG4gICAgbGV0IGh0bWwgPSAnJztcbiAgICBjb25zdCB0eXBlczogUG9rZWRleFR5cGVbXSA9IFsn5aaW5YW9JywgJ+akjeeJqScsICfnianlk4EnXTtcbiAgICBcbiAgICB0eXBlcy5mb3JFYWNoKHR5cGUgPT4ge1xuICAgICAgY29uc3QgZW50cmllcyA9IHBva2VkZXhEYXRhW3R5cGVdO1xuICAgICAgaHRtbCArPSBgPGRldGFpbHMgY2xhc3M9XCJncm91cFwiIG9wZW4+PHN1bW1hcnkgY2xhc3M9XCJmb250LWJvbGQgdGV4dC1sZyBjdXJzb3ItcG9pbnRlciBob3Zlcjp0ZXh0LWFjY2VudCB0cmFuc2l0aW9uLWNvbG9ycyB0aGVtZS10cmFuc2l0aW9uIGZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBweS0yXCI+JHt0eXBlfeWbvumJtCAoJHtlbnRyaWVzLmxlbmd0aH0pPGkgY2xhc3M9XCJmYXMgZmEtY2hldnJvbi1kb3duIHRyYW5zaXRpb24tdHJhbnNmb3JtIGR1cmF0aW9uLTMwMCBncm91cC1vcGVuOnJvdGF0ZS0xODBcIj48L2k+PC9zdW1tYXJ5Pjx1bCBjbGFzcz1cInNwYWNlLXktMiBtdC0yXCI+YDtcbiAgICAgIGlmIChlbnRyaWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZW50cmllcy5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICAgICAgICBodG1sICs9IGBcbiAgICAgICAgICAgIDxsaSBjbGFzcz1cInAtMiByb3VuZGVkLWxnIGJnLXNlY29uZGFyeS81MCBmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgY3Vyc29yLXBvaW50ZXIgZmxleC1ncm93IG1yLTRcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCJtci0zXCIgZGF0YS10eXBlPVwiJHt0eXBlfVwiIGRhdGEtbmFtZT1cIiR7ZW50cnku5ZCN56ewfVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidHJ1bmNhdGVcIiB0aXRsZT1cIiR7ZW50cnku5ZCN56ewfVwiPiR7ZW50cnku5ZCN56ewfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNwYWNlLXgtMiBmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInBva2VkZXgtdmlldy1idG4gdGV4dC1zbSB0ZXh0LWJsdWUtNDAwIGhvdmVyOnRleHQtYmx1ZS0zMDAgdHJhbnNpdGlvbi1jb2xvcnMgcC0xXCIgZGF0YS10eXBlPVwiJHt0eXBlfVwiIGRhdGEtbmFtZT1cIiR7ZW50cnku5ZCN56ewfVwiIHRpdGxlPVwi5p+l55yLXCI+PGkgY2xhc3M9XCJmYXMgZmEtZXllXCI+PC9pPjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJwb2tlZGV4LWVkaXQtYnRuIHRleHQtc20gdGV4dC1hY2NlbnQgaG92ZXI6dGV4dC1hY2NlbnQtaG92ZXIgdHJhbnNpdGlvbi1jb2xvcnMgcC0xXCIgZGF0YS10eXBlPVwiJHt0eXBlfVwiIGRhdGEtbmFtZT1cIiR7ZW50cnku5ZCN56ewfVwiIHRpdGxlPVwi57yW6L6RXCI+PGkgY2xhc3M9XCJmYXMgZmEtcGVuY2lsLWFsdFwiPjwvaT48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicG9rZWRleC1kZWxldGUtYnRuIHRleHQtc20gdGV4dC1yZWQtNTAwIGhvdmVyOnRleHQtcmVkLTQwMCB0cmFuc2l0aW9uLWNvbG9ycyBwLTFcIiBkYXRhLXR5cGU9XCIke3R5cGV9XCIgZGF0YS1uYW1lPVwiJHtlbnRyeS7lkI3np7B9XCIgdGl0bGU9XCLliKDpmaRcIj48aSBjbGFzcz1cImZhcyBmYS10cmFzaFwiPjwvaT48L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2xpPmA7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaHRtbCArPSBgPGxpIGNsYXNzPVwidGV4dC1zZWNvbmRhcnkgdGV4dC1zbSBpdGFsaWMgcC0yXCI+5pqC5peg5p2h55uuPC9saT5gO1xuICAgICAgfVxuICAgICAgaHRtbCArPSBgPC91bD48L2RldGFpbHM+YDtcbiAgICB9KTtcbiAgICBleGlzdGluZ1Bva2VkZXhDb250YWluZXIuaW5uZXJIVE1MID0gaHRtbDtcblxuICAgIC8vIDMuIFBvcHVsYXRlIEFjaGlldmVtZW50c1xuICAgIGNvbnN0IGFjaGlldmVtZW50c0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY2hpZXZlbWVudHMtcG9rZWRleC1saXN0Jyk7XG4gICAgaWYgKGFjaGlldmVtZW50c0NvbnRhaW5lcikge1xuICAgICAgY29uc3Qgc3lzdGVtRGF0YSA9IGF3YWl0IFBva2VkZXguZ2V0U3lzdGVtRGF0YSgpO1xuICAgICAgY29uc3QgYWNoaWV2ZW1lbnRzID0gc3lzdGVtRGF0YS7lt7LlrozmiJAgfHwgW107XG4gICAgICBjb25zdCBwb2ludHMgPSBzeXN0ZW1EYXRhLuaIkOWwseeCueaVsCB8fCAwO1xuXG4gICAgICBsZXQgYWNoaWV2ZW1lbnRzSHRtbCA9IGBcbiAgICAgICAgPGRldGFpbHMgY2xhc3M9XCJncm91cFwiIG9wZW4+XG4gICAgICAgICAgPHN1bW1hcnkgY2xhc3M9XCJmb250LWJvbGQgdGV4dC1sZyBjdXJzb3ItcG9pbnRlciBob3Zlcjp0ZXh0LWFjY2VudCB0cmFuc2l0aW9uLWNvbG9ycyB0aGVtZS10cmFuc2l0aW9uIGZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBweS0yXCI+XG4gICAgICAgICAgICDmiJDlsLHlm77pibQgKOW3suino+mUgSAke2FjaGlldmVtZW50cy5sZW5ndGh9LCDlhbEgJHtwb2ludHN9IOeCuSlcbiAgICAgICAgICAgIDxpIGNsYXNzPVwiZmFzIGZhLWNoZXZyb24tZG93biB0cmFuc2l0aW9uLXRyYW5zZm9ybSBkdXJhdGlvbi0zMDAgZ3JvdXAtb3Blbjpyb3RhdGUtMTgwXCI+PC9pPlxuICAgICAgICAgIDwvc3VtbWFyeT5cbiAgICAgICAgICA8dWwgY2xhc3M9XCJzcGFjZS15LTIgbXQtMlwiPlxuICAgICAgYDtcblxuICAgICAgaWYgKGFjaGlldmVtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGFjaGlldmVtZW50cy5mb3JFYWNoKChhY2g6IGFueSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGFjaE5hbWUgPSBhY2hbJ+WQjeensCddO1xuICAgICAgICAgIGFjaGlldmVtZW50c0h0bWwgKz0gYFxuICAgICAgICAgICAgPGxpIGNsYXNzPVwicC0zIHJvdW5kZWQtbGcgYmctc2Vjb25kYXJ5LzUwIGJvcmRlciBib3JkZXItZGltIGZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC1ncm93XCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJmb250LXNlbWlib2xkIHRleHQtcHJpbWFyeSBmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPjxpIGNsYXNzPVwiZmFzIGZhLXRyb3BoeSBtci0yIHRleHQteWVsbG93LTQwMFwiPjwvaT4ke2FjaE5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtbm9ybWFsIHRleHQtc2Vjb25kYXJ5XCI+JHthY2hbJ+aXpeacnyddIHx8ICcnfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtc2Vjb25kYXJ5IG10LTEgcGwtNlwiPiR7YWNoWyfmj4/ov7AnXSB8fCAn5rKh5pyJ5o+P6L+w44CCJ308L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3BhY2UteC0yIGZsZXgtc2hyaW5rLTAgbWwtNFwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJwb2tlZGV4LWVkaXQtYnRuIHRleHQtc20gdGV4dC1hY2NlbnQgaG92ZXI6dGV4dC1hY2NlbnQtaG92ZXIgdHJhbnNpdGlvbi1jb2xvcnMgcC0xXCIgZGF0YS10eXBlPVwi5oiQ5bCxXCIgZGF0YS1uYW1lPVwiJHthY2hOYW1lfVwiIHRpdGxlPVwi57yW6L6RXCI+PGkgY2xhc3M9XCJmYXMgZmEtcGVuY2lsLWFsdFwiPjwvaT48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicG9rZWRleC1kZWxldGUtYnRuIHRleHQtc20gdGV4dC1yZWQtNTAwIGhvdmVyOnRleHQtcmVkLTQwMCB0cmFuc2l0aW9uLWNvbG9ycyBwLTFcIiBkYXRhLXR5cGU9XCLmiJDlsLFcIiBkYXRhLW5hbWU9XCIke2FjaE5hbWV9XCIgdGl0bGU9XCLliKDpmaRcIj48aSBjbGFzcz1cImZhcyBmYS10cmFzaFwiPjwvaT48L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgIGA7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWNoaWV2ZW1lbnRzSHRtbCArPSBgPGxpIGNsYXNzPVwidGV4dC1zZWNvbmRhcnkgdGV4dC1zbSBpdGFsaWMgcC0yXCI+5bCa5pyq6Kej6ZSB5Lu75L2V5oiQ5bCxPC9saT5gO1xuICAgICAgfVxuXG4gICAgICBhY2hpZXZlbWVudHNIdG1sICs9IGA8L3VsPjwvZGV0YWlscz5gO1xuICAgICAgYWNoaWV2ZW1lbnRzQ29udGFpbmVyLmlubmVySFRNTCA9IGFjaGlldmVtZW50c0h0bWw7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHNob3dNb2RhbCA9IGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBwb3B1bGF0ZVZpZXdUYWIoKTtcbiAgICBtb2RhbD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gIH07XG4gIGNvbnN0IGhpZGVNb2RhbCA9ICgpID0+IG1vZGFsPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcblxuICBtYW5hZ2VyQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNob3dNb2RhbCk7XG4gIGNsb3NlTW9kYWxCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGlkZU1vZGFsKTtcbiAgbW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBpZiAoZS50YXJnZXQgPT09IG1vZGFsKSBoaWRlTW9kYWwoKTtcbiAgfSk7XG5cbiAgaGVscEJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgaGVscENvbnRlbnQ/LmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicpO1xuICAgIGhlbHBCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG4gIH0pO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcHByb3ZlLWRpc2NvdmVyaWVzLWJ0bicpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBjaGVja2JveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbDxIVE1MSW5wdXRFbGVtZW50PignI25ldy1kaXNjb3Zlcmllcy1saXN0IGlucHV0W3R5cGU9XCJjaGVja2JveFwiXTpjaGVja2VkJyk7XG4gICAgaWYgKGNoZWNrYm94ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0b2FzdHIud2FybmluZygn6K+36Iez5bCR6YCJ5oup5LiA5Liq6KaB5pS25b2V55qE5p2h55uu44CCJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbWVzc2FnZUlkID0gZ2V0Q3VycmVudE1lc3NhZ2VJZCgpO1xuICAgIGNvbnN0IG1lc3NhZ2VWYXJzID0gZ2V0VmFyaWFibGVzKHsgdHlwZTogJ21lc3NhZ2UnLCBtZXNzYWdlX2lkOiBtZXNzYWdlSWQgfSk7XG4gICAgY29uc3QgbWVzc2FnZVBva2VkZXggPSBfLmdldChtZXNzYWdlVmFycywgJ+S4lueVjC7lm77pibQnLCB7fSk7XG4gICAgbGV0IHN1Y2Nlc3NDb3VudCA9IDA7XG5cbiAgICBmb3IgKGNvbnN0IGNiIG9mIGNoZWNrYm94ZXMpIHtcbiAgICAgIGNvbnN0IHR5cGUgPSBjYi5kYXRhc2V0LnR5cGUgYXMgUG9rZWRleFR5cGU7XG4gICAgICBjb25zdCBuYW1lID0gY2IuZGF0YXNldC5uYW1lO1xuICAgICAgaWYgKHR5cGUgJiYgbmFtZSAmJiBtZXNzYWdlUG9rZWRleFt0eXBlXSkge1xuICAgICAgICBjb25zdCBlbnRyeSA9IG1lc3NhZ2VQb2tlZGV4W3R5cGVdLmZpbmQoKGU6IFBva2VkZXhFbnRyeSkgPT4gZS7lkI3np7AgPT09IG5hbWUpO1xuICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICBpZiAoYXdhaXQgUG9rZWRleC5jcmVhdGVQb2tlZGV4RW50cnkodHlwZSwgZW50cnkpKSB7XG4gICAgICAgICAgICBzdWNjZXNzQ291bnQrKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3VjY2Vzc0NvdW50ID4gMCkge1xuICAgICAgdG9hc3RyLnN1Y2Nlc3MoYOaIkOWKn+aUtuW9leS6hiAke3N1Y2Nlc3NDb3VudH0g5Liq5paw5p2h55uu77yBYCk7XG4gICAgICBhd2FpdCBwb3B1bGF0ZVZpZXdUYWIoKTtcbiAgICB9XG4gIH0pO1xuXG4gIG1haW5UYWJzPy5mb3JFYWNoKGJ1dHRvbiA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgdGFiID0gYnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YS10YWInKTtcbiAgICAgIG1haW5UYWJzLmZvckVhY2goYnRuID0+IGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSk7XG4gICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICBcbiAgICAgIHJlc2V0QWRkRm9ybSgpO1xuXG4gICAgICB2aWV3VGFiQ29udGVudD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBhZGRUYWJDb250ZW50Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGluamVjdEJ0bj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBzdWJtaXRFbnRyeUJ0bj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG5cbiAgICAgIGlmICh0YWIgPT09ICd2aWV3Jykge1xuICAgICAgICB2aWV3VGFiQ29udGVudD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGluamVjdEJ0bj8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICB9IGVsc2UgaWYgKHRhYiA9PT0gJ2FkZCcpIHtcbiAgICAgICAgYWRkVGFiQ29udGVudD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIHN1Ym1pdEVudHJ5QnRuPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgaW5qZWN0QnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBzZWxlY3RlZEVudHJpZXM6IHsgW2tleSBpbiBQb2tlZGV4VHlwZV0/OiBQb2tlZGV4RW50cnlbXSB9ID0ge307XG4gICAgY29uc3QgY2hlY2tib3hlcyA9IG1vZGFsPy5xdWVyeVNlbGVjdG9yQWxsPEhUTUxJbnB1dEVsZW1lbnQ+KCcjcG9rZWRleC12aWV3LXRhYiBpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl06Y2hlY2tlZCcpO1xuICAgIFxuICAgIGlmICghY2hlY2tib3hlcyB8fCBjaGVja2JveGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdG9hc3RyLndhcm5pbmcoJ+ivt+iHs+WwkemAieaLqeS4gOS4quimgeazqOWFpeeahOadoeebruOAgicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBva2VkZXhEYXRhID0gYXdhaXQgUG9rZWRleC5nZXRQb2tlZGV4RGF0YSgpO1xuXG4gICAgY2hlY2tib3hlcy5mb3JFYWNoKGNiID0+IHtcbiAgICAgIGNvbnN0IHR5cGUgPSBjYi5kYXRhc2V0LnR5cGUgYXMgUG9rZWRleFR5cGU7XG4gICAgICBjb25zdCBuYW1lID0gY2IuZGF0YXNldC5uYW1lO1xuICAgICAgaWYgKHR5cGUgJiYgbmFtZSkge1xuICAgICAgICBjb25zdCBlbnRyeSA9IHBva2VkZXhEYXRhW3R5cGVdLmZpbmQoZSA9PiBlLuWQjeensCA9PT0gbmFtZSk7XG4gICAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICAgIGlmICghc2VsZWN0ZWRFbnRyaWVzW3R5cGVdKSB7XG4gICAgICAgICAgICBzZWxlY3RlZEVudHJpZXNbdHlwZV0gPSBbXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VsZWN0ZWRFbnRyaWVzW3R5cGVdIS5wdXNoKGVudHJ5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKF8uaXNFbXB0eShzZWxlY3RlZEVudHJpZXMpKSByZXR1cm47XG5cbiAgICBjb25zdCBtZXNzYWdlSWQgPSBnZXRDdXJyZW50TWVzc2FnZUlkKCk7XG4gICAgY29uc3QgY3VycmVudFZhcnMgPSBnZXRWYXJpYWJsZXMoeyB0eXBlOiAnbWVzc2FnZScsIG1lc3NhZ2VfaWQ6IG1lc3NhZ2VJZCB9KTtcbiAgICBcbiAgICBjb25zdCB1cGRhdGVzID0ge307XG4gICAgZm9yIChjb25zdCBbdHlwZSwgZW50cmllc10gb2YgT2JqZWN0LmVudHJpZXMoc2VsZWN0ZWRFbnRyaWVzKSkge1xuICAgICAgICBjb25zdCBwYXRoID0gYOS4lueVjC7lm77pibQuJHt0eXBlfWA7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nRW50cmllcyA9IF8uZ2V0KGN1cnJlbnRWYXJzLCBwYXRoLCBbXSk7XG4gICAgICAgIGNvbnN0IG5ld0VudHJpZXMgPSBfLnVuaW9uQnkoZXhpc3RpbmdFbnRyaWVzLCBlbnRyaWVzLCAn5ZCN56ewJyk7XG4gICAgICAgIF8uc2V0KHVwZGF0ZXMsIHBhdGgsIG5ld0VudHJpZXMpO1xuICAgIH1cblxuICAgIGF3YWl0IGluc2VydE9yQXNzaWduVmFyaWFibGVzKHVwZGF0ZXMsIHsgdHlwZTogJ21lc3NhZ2UnLCBtZXNzYWdlX2lkOiBtZXNzYWdlSWQgfSk7XG4gICAgdG9hc3RyLnN1Y2Nlc3MoJ+aIkOWKn+azqOWFpeWbvumJtOWIsOW9k+WJjealvOWxgu+8gScpO1xuICAgIGhpZGVNb2RhbCgpO1xuICAgIHN0b3J5UmVuZGVyZXIuaW5pdCgpO1xuICB9KTtcblxuICBhZGRUYWJNb2RlQnV0dG9ucz8uZm9yRWFjaChidXR0b24gPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vZGUgPSBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLW1vZGUnKTtcbiAgICAgIGlmICghbW9kZSB8fCBtb2RlID09PSBjdXJyZW50QWRkTW9kZSkgcmV0dXJuO1xuICAgICAgY3VycmVudEFkZE1vZGUgPSBtb2RlO1xuICAgICAgYWRkVGFiTW9kZUJ1dHRvbnMuZm9yRWFjaChidG4gPT4gYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTtcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIGlmIChtb2RlID09PSAnZm9ybScpIHtcbiAgICAgICAgZm9ybU1vZGVDb250ZW50Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAganNvbk1vZGVDb250ZW50Py5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvcm1Nb2RlQ29udGVudD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGpzb25Nb2RlQ29udGVudD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuICBcbiAgY29uc3QgY2hlY2tlZFJhZGlvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cImVudHJ5VHlwZVwiXTpjaGVja2VkJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgaWYgKGNoZWNrZWRSYWRpbykgdXBkYXRlRm9ybUZpZWxkcyhjaGVja2VkUmFkaW8udmFsdWUpO1xuXG4gIGFkZEZpZWxkQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGFkZEZpZWxkKCkpO1xuICBlbnRyeVR5cGVSYWRpb3MuZm9yRWFjaChyYWRpbyA9PiB7XG4gICAgcmFkaW8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHtcbiAgICAgIHVwZGF0ZUZvcm1GaWVsZHMoKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlKVxuICAgIH0pO1xuICB9KTtcblxuICBzdWJtaXRFbnRyeUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgaXNVcGRhdGUgPSBzdWJtaXRFbnRyeUJ0bi5kYXRhc2V0LnVwZGF0ZU1vZGUgPT09ICd0cnVlJztcblxuICAgIGlmIChjdXJyZW50QWRkTW9kZSA9PT0gJ2Zvcm0nKSB7XG4gICAgICBjb25zdCB0eXBlID0gKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJlbnRyeVR5cGVcIl06Y2hlY2tlZCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQpPy52YWx1ZTtcbiAgICAgIGNvbnN0IG5ld0VudHJ5OiBQb2tlZGV4RW50cnkgPSB7ICflkI3np7AnOiAnJyB9O1xuICAgICAgY29uc3Qgcm93cyA9IGZvcm1GaWVsZHNDb250YWluZXI/LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtLWZpZWxkLXJvdycpO1xuICAgICAgcm93cz8uZm9yRWFjaChyb3cgPT4ge1xuICAgICAgICBjb25zdCBrZXkgPSAocm93LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtLWtleS1pbnB1dCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQpPy52YWx1ZS50cmltKCk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gKHJvdy5xdWVyeVNlbGVjdG9yKCcuZm9ybS12YWx1ZS1pbnB1dCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQpPy52YWx1ZS50cmltKCk7XG4gICAgICAgIGlmIChrZXkpIG5ld0VudHJ5W2tleV0gPSB2YWx1ZTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIW5ld0VudHJ5LuWQjeensCkge1xuICAgICAgICB0b2FzdHIud2FybmluZygn4oCc5ZCN56ew4oCd5piv5b+F5aGr5a2X5q6177yBJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzVXBkYXRlKSB7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsTmFtZSA9IHN1Ym1pdEVudHJ5QnRuLmRhdGFzZXQub3JpZ2luYWxOYW1lO1xuICAgICAgICBjb25zdCBvcmlnaW5hbFR5cGUgPSBzdWJtaXRFbnRyeUJ0bi5kYXRhc2V0Lm9yaWdpbmFsVHlwZTtcblxuICAgICAgICBpZiAoIW9yaWdpbmFsTmFtZSB8fCAhb3JpZ2luYWxUeXBlIHx8ICF0eXBlKSB7XG4gICAgICAgICAgdG9hc3RyLmVycm9yKCfmm7TmlrDlpLHotKXvvJrnvLrlsJHlv4XopoHkv6Hmga/jgIInKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3JpZ2luYWxUeXBlID09PSB0eXBlKSB7XG4gICAgICAgICAgLy8gVHlwZSBoYXNuJ3QgY2hhbmdlZCwganVzdCB1cGRhdGVcbiAgICAgICAgICBpZiAodHlwZSA9PT0gJ+aIkOWwsScpIHtcbiAgICAgICAgICAgIGF3YWl0IFBva2VkZXgudXBkYXRlQWNoaWV2ZW1lbnQob3JpZ2luYWxOYW1lLCBuZXdFbnRyeSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IFBva2VkZXgudXBkYXRlUG9rZWRleEVudHJ5KHR5cGUgYXMgUG9rZWRleFR5cGUsIG9yaWdpbmFsTmFtZSwgbmV3RW50cnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBUeXBlIGhhcyBjaGFuZ2VkLCBzbyB3ZSBkZWxldGUgdGhlIG9sZCBhbmQgY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgICAgIGlmIChvcmlnaW5hbFR5cGUgPT09ICfmiJDlsLEnKSB7XG4gICAgICAgICAgICBhd2FpdCBQb2tlZGV4LmRlbGV0ZUFjaGlldmVtZW50KG9yaWdpbmFsTmFtZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IFBva2VkZXguZGVsZXRlUG9rZWRleEVudHJ5KG9yaWdpbmFsVHlwZSBhcyBQb2tlZGV4VHlwZSwgb3JpZ2luYWxOYW1lKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodHlwZSA9PT0gJ+aIkOWwsScpIHtcbiAgICAgICAgICAgIGF3YWl0IFBva2VkZXguY3JlYXRlQWNoaWV2ZW1lbnQobmV3RW50cnkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCBQb2tlZGV4LmNyZWF0ZVBva2VkZXhFbnRyeSh0eXBlIGFzIFBva2VkZXhUeXBlLCBuZXdFbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRvYXN0ci5pbmZvKGDmnaHnm67lt7Lku47igJwke29yaWdpbmFsVHlwZX3igJ3np7vliqjliLDigJwke3R5cGV94oCdYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzZXRBZGRGb3JtKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDcmVhdGUgbmV3IGVudHJ5XG4gICAgICAgIGlmICghdHlwZSkge1xuICAgICAgICAgIHRvYXN0ci53YXJuaW5nKCfor7fpgInmi6nmnaHnm67nsbvlnovvvIEnKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgPT09ICfmiJDlsLEnKSB7XG4gICAgICAgICAgY29uc3Qgc3VjY2VzcyA9IGF3YWl0IFBva2VkZXguY3JlYXRlQWNoaWV2ZW1lbnQobmV3RW50cnkpO1xuICAgICAgICAgIGlmIChzdWNjZXNzKSB1cGRhdGVGb3JtRmllbGRzKHR5cGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCBQb2tlZGV4LmNyZWF0ZVBva2VkZXhFbnRyeSh0eXBlIGFzIFBva2VkZXhUeXBlLCBuZXdFbnRyeSk7XG4gICAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHVwZGF0ZUZvcm1GaWVsZHModHlwZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjdXJyZW50QWRkTW9kZSA9PT0gJ2pzb24nKSB7IC8vIEpTT04gbW9kZVxuICAgICAgY29uc3QgdHlwZSA9IChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwianNvbkVudHJ5VHlwZVwiXTpjaGVja2VkJykgYXMgSFRNTElucHV0RWxlbWVudCk/LnZhbHVlIGFzIFBva2VkZXhUeXBlIHwgJ+aIkOWwsSc7XG4gICAgICBjb25zdCBqc29uU3RyaW5nID0ganNvbklucHV0Py52YWx1ZS50cmltKCk7XG4gICAgICBpZiAoIWpzb25TdHJpbmcpIHtcbiAgICAgICAgdG9hc3RyLndhcm5pbmcoJ+ivt+i+k+WFpUpTT07mlbDmja7vvIEnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoanNvblN0cmluZyk7XG4gICAgICAgIGNvbnN0IGVudHJpZXMgPSBBcnJheS5pc0FycmF5KGRhdGEpID8gZGF0YSA6IFtkYXRhXTtcbiAgICAgICAgbGV0IHN1Y2Nlc3NDb3VudCA9IDA7XG5cbiAgICAgICAgaWYgKHR5cGUgPT09ICfmiJDlsLEnKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBlbnRyaWVzKSB7XG4gICAgICAgICAgICBpZiAoYXdhaXQgUG9rZWRleC5jcmVhdGVBY2hpZXZlbWVudChlbnRyeSkpIHtcbiAgICAgICAgICAgICAgc3VjY2Vzc0NvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzdWNjZXNzQ291bnQgPiAwKSB7XG4gICAgICAgICAgICB0b2FzdHIuc3VjY2Vzcyhg5oiQ5Yqf5aSE55CGICR7c3VjY2Vzc0NvdW50fSDkuKrmlrDmiJDlsLHvvIFgKTtcbiAgICAgICAgICAgIGpzb25JbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcbiAgICAgICAgICAgIGlmIChhd2FpdCBQb2tlZGV4LmNyZWF0ZVBva2VkZXhFbnRyeSh0eXBlLCBlbnRyeSkpIHtcbiAgICAgICAgICAgICAgc3VjY2Vzc0NvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzdWNjZXNzQ291bnQgPiAwKSBqc29uSW5wdXQudmFsdWUgPSAnJztcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdG9hc3RyLmVycm9yKCdKU09O6Kej5p6Q5aSx6LSl77yM6K+35qOA5p+l5qC85byP77yBJyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJKU09OIHBhcnNpbmcgZmFpbGVkOlwiLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICAgIGF3YWl0IHBvcHVsYXRlVmlld1RhYigpO1xuICB9KTtcblxuICB2aWV3VGFiQ29udGVudD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZSkgPT4ge1xuICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IHRhcmdldC5jbG9zZXN0KCcucG9rZWRleC1kZWxldGUtYnRuJyk7XG4gICAgY29uc3QgZWRpdEJ1dHRvbiA9IHRhcmdldC5jbG9zZXN0KCcucG9rZWRleC1lZGl0LWJ0bicpO1xuICAgIGNvbnN0IHZpZXdCdXR0b24gPSB0YXJnZXQuY2xvc2VzdCgnLnBva2VkZXgtdmlldy1idG4nKTtcblxuICAgIGlmICh2aWV3QnV0dG9uKSB7XG4gICAgICBjb25zdCB0eXBlID0gdmlld0J1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtdHlwZScpIGFzIFBva2VkZXhUeXBlIHwgJ+aIkOWwsSc7XG4gICAgICBjb25zdCBuYW1lID0gdmlld0J1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtbmFtZScpO1xuICAgICAgaWYgKHR5cGUgJiYgbmFtZSkge1xuICAgICAgICBpZiAodHlwZSA9PT0gJ+aIkOWwsScpIHtcbiAgICAgICAgICBjb25zdCBhY2hpZXZlbWVudHMgPSBhd2FpdCBQb2tlZGV4LmdldEFjaGlldmVtZW50cygpO1xuICAgICAgICAgIGNvbnN0IGVudHJ5ID0gYWNoaWV2ZW1lbnRzLmZpbmQoKGFjaDogYW55KSA9PiBhY2hbJ+WQjeensCddID09PSBuYW1lKTtcbiAgICAgICAgICBpZiAoZW50cnkpIHNob3dNb2RhbFdpdGhEYXRhKGVudHJ5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBlbnRyeSA9IGF3YWl0IFBva2VkZXgucmVhZFBva2VkZXhFbnRyeSh0eXBlLCBuYW1lKTtcbiAgICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICAgIHNob3dNb2RhbFdpdGhEYXRhKGVudHJ5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZGVsZXRlQnV0dG9uKSB7XG4gICAgICBjb25zdCB0eXBlID0gZGVsZXRlQnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YS10eXBlJykgYXMgUG9rZWRleFR5cGUgfCAn5oiQ5bCxJztcbiAgICAgIGNvbnN0IG5hbWUgPSBkZWxldGVCdXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLW5hbWUnKTtcbiAgICAgIGlmICh0eXBlICYmIG5hbWUpIHtcbiAgICAgICAgaWYgKGNvbmZpcm0oYOehruWumuimgeWIoOmZpCAke3R5cGV9IOWbvumJtOS4reeahCDigJwke25hbWV94oCdIOWQl++8n+atpOaTjeS9nOS4jeWPr+aSpOmUgOOAgmApKSB7XG4gICAgICAgICAgbGV0IHN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgICBpZiAodHlwZSA9PT0gJ+aIkOWwsScpIHtcbiAgICAgICAgICAgIHN1Y2Nlc3MgPSBhd2FpdCBQb2tlZGV4LmRlbGV0ZUFjaGlldmVtZW50KG5hbWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdWNjZXNzID0gYXdhaXQgUG9rZWRleC5kZWxldGVQb2tlZGV4RW50cnkodHlwZSwgbmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICBhd2FpdCBwb3B1bGF0ZVZpZXdUYWIoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZWRpdEJ1dHRvbikge1xuICAgICAgY29uc3QgdHlwZSA9IGVkaXRCdXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLXR5cGUnKSBhcyBQb2tlZGV4VHlwZSB8ICfmiJDlsLEnO1xuICAgICAgY29uc3QgbmFtZSA9IGVkaXRCdXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLW5hbWUnKTtcbiAgICAgIGlmICh0eXBlICYmIG5hbWUpIHtcbiAgICAgICAgbGV0IGVudHJ5OiBQb2tlZGV4RW50cnkgfCBudWxsID0gbnVsbDtcbiAgICAgICAgaWYgKHR5cGUgPT09ICfmiJDlsLEnKSB7XG4gICAgICAgICAgY29uc3QgYWNoaWV2ZW1lbnRzID0gYXdhaXQgUG9rZWRleC5nZXRBY2hpZXZlbWVudHMoKTtcbiAgICAgICAgICBlbnRyeSA9IGFjaGlldmVtZW50cy5maW5kKChhY2g6IGFueSkgPT4gYWNoWyflkI3np7AnXSA9PT0gbmFtZSkgPz8gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbnRyeSA9IChhd2FpdCBQb2tlZGV4LnJlYWRQb2tlZGV4RW50cnkodHlwZSBhcyBQb2tlZGV4VHlwZSwgbmFtZSkpID8/IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICBtYWluVGFicz8uZm9yRWFjaChidG4gPT4gYnRuLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScsIGJ0bi5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGFiJykgPT09ICdhZGQnKSk7XG4gICAgICAgICAgdmlld1RhYkNvbnRlbnQ/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIGFkZFRhYkNvbnRlbnQ/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIGluamVjdEJ0bj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgc3VibWl0RW50cnlCdG4/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuXG4gICAgICAgICAgYWRkVGFiTW9kZUJ1dHRvbnM/LmZvckVhY2goYnRuID0+IGJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnLCBidG4uZ2V0QXR0cmlidXRlKCdkYXRhLW1vZGUnKSA9PT0gJ2Zvcm0nKSk7XG4gICAgICAgICAgZm9ybU1vZGVDb250ZW50Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICBqc29uTW9kZUNvbnRlbnQ/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIGN1cnJlbnRBZGRNb2RlID0gJ2Zvcm0nO1xuXG4gICAgICAgICAgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGlucHV0W25hbWU9XCJlbnRyeVR5cGVcIl1bdmFsdWU9XCIke3R5cGV9XCJdYCkgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGZvcm1GaWVsZHNDb250YWluZXIpIGZvcm1GaWVsZHNDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgT2JqZWN0LmVudHJpZXMoZW50cnkpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgYWRkRmllbGQoa2V5LCBTdHJpbmcodmFsdWUpKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHN1Ym1pdEVudHJ5QnRuLmlubmVySFRNTCA9ICc8aSBjbGFzcz1cImZhcyBmYS1jaGVjayBtci0yXCI+PC9pPuehruiupOabtOaWsCc7XG4gICAgICAgICAgc3VibWl0RW50cnlCdG4uZGF0YXNldC51cGRhdGVNb2RlID0gJ3RydWUnO1xuICAgICAgICAgIHN1Ym1pdEVudHJ5QnRuLmRhdGFzZXQub3JpZ2luYWxOYW1lID0gbmFtZTtcbiAgICAgICAgICBzdWJtaXRFbnRyeUJ0bi5kYXRhc2V0Lm9yaWdpbmFsVHlwZSA9IHR5cGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG5jbGFzcyBTdG9yeVJlbmRlcmVyIHtcbiAgcHJpdmF0ZSB5YW1sRGF0YTogYW55O1xuICBwcml2YXRlIHJhd1lhbWxDb250ZW50OiBzdHJpbmc7XG4gIHByaXZhdGUgcm9vdE5vZGVLZXk6IHN0cmluZyB8IG51bGw7XG4gIHByaXZhdGUgZWxlbWVudHM6IHtcbiAgICBzdGF0dXNCYXJUaXRsZTogSFRNTEVsZW1lbnQgfCBudWxsO1xuICAgIHRpbWVEaXNwbGF5OiBIVE1MRWxlbWVudCB8IG51bGw7XG4gICAgbG9jYXRpb25EaXNwbGF5OiBIVE1MRWxlbWVudCB8IG51bGw7XG4gICAgY2hhcmFjdGVyc0NvbnRhaW5lcjogSFRNTEVsZW1lbnQgfCBudWxsO1xuICAgIGFjdGlvbk93bmVyOiBIVE1MRWxlbWVudCB8IG51bGw7XG4gICAgb3B0aW9uc0xpc3Q6IEhUTUxFbGVtZW50IHwgbnVsbDtcbiAgICBzeXN0ZW1Db250YWluZXI6IEhUTUxFbGVtZW50IHwgbnVsbDtcbiAgICBzaGVsdGVyQ29udGFpbmVyOiBIVE1MRWxlbWVudCB8IG51bGw7XG4gICAgYmVzdGlhcnlDb250YWluZXI6IEhUTUxFbGVtZW50IHwgbnVsbDtcbiAgICBoZXJib2xvZ3lDb250YWluZXI6IEhUTUxFbGVtZW50IHwgbnVsbDtcbiAgICBpbnZlbnRvcnlDb250YWluZXI6IEhUTUxFbGVtZW50IHwgbnVsbDtcbiAgfTtcbiAgcHJpdmF0ZSByYXdKc29uQ29udGVudDogYW55ID0gbnVsbDtcbiAgcHJpdmF0ZSBqc29uRGF0YTogYW55ID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnlhbWxEYXRhID0gbnVsbDtcbiAgICB0aGlzLnJhd1lhbWxDb250ZW50ID0gXCJcIjtcbiAgICB0aGlzLnJvb3ROb2RlS2V5ID0gbnVsbDtcbiAgICB0aGlzLmVsZW1lbnRzID0ge1xuICAgICAgc3RhdHVzQmFyVGl0bGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGF0dXMtYmFyLXRpdGxlJyksXG4gICAgICB0aW1lRGlzcGxheTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpbWUtZGlzcGxheScpLFxuICAgICAgbG9jYXRpb25EaXNwbGF5OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9jYXRpb24tZGlzcGxheScpLFxuICAgICAgY2hhcmFjdGVyc0NvbnRhaW5lcjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXJhY3RlcnMtY29udGFpbmVyJyksXG4gICAgICBhY3Rpb25Pd25lcjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjdGlvbi1vd25lcicpLFxuICAgICAgb3B0aW9uc0xpc3Q6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcHRpb25zLWxpc3QnKSxcbiAgICBzeXN0ZW1Db250YWluZXI6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzeXN0ZW0tY29udGFpbmVyJyksXG4gICAgc2hlbHRlckNvbnRhaW5lcjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NoZWx0ZXItY29udGFpbmVyJyksXG4gICAgYmVzdGlhcnlDb250YWluZXI6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiZXN0aWFyeS1jb250YWluZXInKSxcbiAgICBoZXJib2xvZ3lDb250YWluZXI6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoZXJib2xvZ3ktY29udGFpbmVyJyksXG4gICAgaW52ZW50b3J5Q29udGFpbmVyOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW52ZW50b3J5LWNvbnRhaW5lcicpXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlQ29tcGF0aWJpbGl0eSgpIHtcbiAgICBpZiAoIXRoaXMucm9vdE5vZGVLZXkgfHwgIXRoaXMuanNvbkRhdGEpIHJldHVybjtcbiAgICBjb25zdCByb290RGF0YSA9IHRoaXMuanNvbkRhdGFbdGhpcy5yb290Tm9kZUtleV07XG4gICAgbGV0IG1vZGlmaWVkID0gZmFsc2U7XG5cbiAgICBpZiAoIXRoaXMuZmluZEZpZWxkQnlLZXl3b3Jkcyhyb290RGF0YSwgWyfluofmiqTmiYAnXSkpIHtcbiAgICAgIHJvb3REYXRhWyfwn4+hIOW6h+aKpOaJgCddID0ge307XG4gICAgICBtb2RpZmllZCA9IHRydWU7XG4gICAgfVxuICAgIGlmICghdGhpcy5maW5kRmllbGRCeUtleXdvcmRzKHJvb3REYXRhLCBbJ+WmluWFveWbvumJtCddKSkge1xuICAgICAgcm9vdERhdGFbJ/CfkL4g5aaW5YW95Zu+6Ym0J10gPSB7ICflt7Llj5HnjrAnOiAwLCAn5bey5pS25b2VJzogW10gfTtcbiAgICAgIG1vZGlmaWVkID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmZpbmRGaWVsZEJ5S2V5d29yZHMocm9vdERhdGEsIFsn5qSN54mp5Zu+6Ym0J10pKSB7XG4gICAgICByb290RGF0YVsn8J+MvyDmpI3nianlm77pibQnXSA9IHsgJ+W3suWPkeeOsCc6IDAsICflt7Lnp43mpI0nOiBbXSB9O1xuICAgICAgbW9kaWZpZWQgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAobW9kaWZpZWQpIHtcbiAgICAgIHRvYXN0ci5pbmZvKCfmo4DmtYvliLDml6fniYjnirbmgIHmoI/vvIzlt7Loh6rliqjooaXlhYXnvLrlpLHnmoTlrZfmrrXku6XlhbzlrrnjgIInKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBpbml0KCkge1xuICAgIGNvbnNvbGUubG9nKCdbU3RvcnlSZW5kZXJlcl0gSW5pdGlhbGl6aW5nLi4uJyk7XG4gICAgdGhpcy5zZXRMb2FkaW5nU3RhdGUoKTtcbiAgICB0cnkge1xuICAgICAgdGhpcy5yYXdKc29uQ29udGVudCA9IHRoaXMuZ2V0UmF3Q29udGVudEZyb21DaGF0TWVzc2FnZSgpO1xuICAgICAgY29uc29sZS5sb2coJ1tTdG9yeVJlbmRlcmVyXSBSYXcgSlNPTiBjb250ZW50IGxvYWRlZDonLCB0aGlzLnJhd0pzb25Db250ZW50KTtcblxuICAgICAgaWYgKCF0aGlzLnJhd0pzb25Db250ZW50KSB7XG4gICAgICAgIHRvYXN0ci5lcnJvcign5pyq6IO95Zyo5pyA5paw5raI5oGv5Lit5om+5YiwSlNPTuaVsOaNruOAgicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGxldCBwYXJzZWRKc29uO1xuICAgICAgdHJ5IHtcbiAgICAgICAgcGFyc2VkSnNvbiA9IEpTT04ucGFyc2UodGhpcy5yYXdKc29uQ29udGVudCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdKU09OIHBhcnNpbmcgZmFpbGVkOicsIGVycm9yKTtcbiAgICAgICAgdGhpcy5oYW5kbGVQYXJzaW5nRmFpbHVyZSh0aGlzLnJhd0pzb25Db250ZW50LCBlcnJvciBhcyBFcnJvcik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5qc29uRGF0YSA9IHBhcnNlZEpzb247XG4gICAgICBpZiAoIXRoaXMuanNvbkRhdGEpIHtcbiAgICAgICAgICB0b2FzdHIuZXJyb3IoJ0pTT07mlbDmja7moLzlvI/kuI3mraPnoa4nKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZmluZFJvb3ROb2RlS2V5KCk7XG4gICAgICB0aGlzLmhhbmRsZUNvbXBhdGliaWxpdHkoKTtcbiAgICAgIGF3YWl0IHRoaXMuc3luY1ZhcmlhYmxlcygpO1xuICAgICAgdGhpcy5yZW5kZXJBbGwoKTtcblxuICAgICAgY29uc3Qgc2F2ZWRUaGVtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzdG9yeVRoZW1lJykgfHwgJ25pZ2h0JztcbiAgICAgIGNvbnN0IHRoZW1lQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnRoZW1lLWJ0bltkYXRhLXRoZW1lPVwiJHtzYXZlZFRoZW1lfVwiXWApIGFzIEhUTUxFbGVtZW50O1xuICAgICAgaWYgKHRoZW1lQnV0dG9uKSB0aGVtZUJ1dHRvbi5jbGljaygpO1xuXG4gICAgICB0b2FzdHIuc3VjY2Vzcygn54q25oCB5qCP5bey5oiQ5Yqf5Yqg6L295bm25riy5p+T77yBJyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+a4suafk+Wksei0pTonLCBlcnJvcik7XG4gICAgICB0aGlzLmhhbmRsZUVycm9yKGVycm9yIGFzIEVycm9yKTtcbiAgICB9XG4gIH1cblxuICBnZXRSYXdDb250ZW50RnJvbUNoYXRNZXNzYWdlKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBtZXNzYWdlSWQgPSBnZXRDdXJyZW50TWVzc2FnZUlkKCk7XG4gICAgICBpZiAobWVzc2FnZUlkID09PSBudWxsIHx8IG1lc3NhZ2VJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRvYXN0ci5lcnJvcign5peg5rOV6I635Y+W5b2T5YmN5raI5oGvIElE44CCJyk7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBnZXRDaGF0TWVzc2FnZXMobWVzc2FnZUlkKVswXTtcbiAgICAgIGlmICghbWVzc2FnZSB8fCAhbWVzc2FnZS5tZXNzYWdlKSByZXR1cm4gJyc7XG4gICAgICByZXR1cm4gZXh0cmFjdEpzb25Gcm9tU3RhdHVzQmFyKG1lc3NhZ2UubWVzc2FnZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcihcIuiOt+WPluiBiuWkqea2iOaBr+Wksei0pTpcIiwgZSk7XG4gICAgICB0b2FzdHIuZXJyb3IoJ+iOt+WPluaIluWkhOeQhuiBiuWkqea2iOaBr+aXtuWHuumUme+8jOivt+ajgOafpeaOp+WItuWPsOOAgicpO1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgfVxuXG4gIHNldExvYWRpbmdTdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5lbGVtZW50cy5jaGFyYWN0ZXJzQ29udGFpbmVyKSB0aGlzLmVsZW1lbnRzLmNoYXJhY3RlcnNDb250YWluZXIuaW5uZXJIVE1MID0gdGhpcy5jcmVhdGVTcGlubmVyKCk7XG4gICAgaWYgKHRoaXMuZWxlbWVudHMub3B0aW9uc0xpc3QpIHRoaXMuZWxlbWVudHMub3B0aW9uc0xpc3QuaW5uZXJIVE1MID0gYDxsaT4ke3RoaXMuY3JlYXRlU3Bpbm5lcigpfTwvbGk+YDtcbiAgfVxuXG4gIGNyZWF0ZVNwaW5uZXIoKSB7XG4gICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwiZmxleCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXIgcC00XCI+PGRpdiBjbGFzcz1cImFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC04IHctOCBib3JkZXItdC0yIGJvcmRlci1iLTIgYm9yZGVyLWluZGlnby00MDBcIj48L2Rpdj48L2Rpdj5gO1xuICB9XG5cbiAgZmluZFJvb3ROb2RlS2V5KCkge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLmpzb25EYXRhKTtcbiAgICB0aGlzLnJvb3ROb2RlS2V5ID0ga2V5cy5maW5kKGtleSA9PiBrZXkuaW5jbHVkZXMoJ+eKtuaAgeaAu+iniCcpIHx8IGtleS5pbmNsdWRlcygn6KeS6Imy54q25oCB5oC76KeIJykpIHx8IGtleXNbMF07XG4gICAgaWYgKCF0aGlzLnJvb3ROb2RlS2V5KSB7XG4gICAgICAgIHRvYXN0ci5lcnJvcign5pyq5om+5Yiw5qC56IqC54K5Jyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuZWxlbWVudHMuc3RhdHVzQmFyVGl0bGUpIHRoaXMuZWxlbWVudHMuc3RhdHVzQmFyVGl0bGUudGV4dENvbnRlbnQgPSBcIueKtuaAgeaAu+iniFwiO1xuICB9XG5cbiAgZmluZEZpZWxkQnlLZXl3b3JkcyhkYXRhOiBhbnksIGtleXdvcmRzOiBzdHJpbmdbXSkge1xuICAgIGlmICghZGF0YSB8fCB0eXBlb2YgZGF0YSAhPT0gJ29iamVjdCcpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IGZpZWxkcyA9IE9iamVjdC5rZXlzKGRhdGEpO1xuICAgIGZvciAoY29uc3QgZmllbGQgb2YgZmllbGRzKSB7XG4gICAgICBmb3IgKGNvbnN0IGtleXdvcmQgb2Yga2V5d29yZHMpIHtcbiAgICAgICAgaWYgKGZpZWxkLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoa2V5d29yZC50b0xvd2VyQ2FzZSgpKSkgcmV0dXJuIGZpZWxkO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJlbmRlckFsbCgpIHtcbiAgICBpZiAoIXRoaXMucm9vdE5vZGVLZXkpIHJldHVybjtcbiAgICBjb25zdCByb290RGF0YSA9IHRoaXMuanNvbkRhdGFbdGhpcy5yb290Tm9kZUtleV07XG4gICAgdGhpcy5yZW5kZXJIZWFkZXJJbmZvKHJvb3REYXRhKTtcbiAgICB0aGlzLnJlbmRlckNoYXJhY3RlcnMocm9vdERhdGEpO1xuICAgIHRoaXMucmVuZGVyU2hlbHRlcihyb290RGF0YSk7XG4gICAgdGhpcy5yZW5kZXJQb2tlZGV4RnJvbU1lc3NhZ2VWYXJzKCk7XG4gICAgdGhpcy5yZW5kZXJTeXN0ZW0ocm9vdERhdGEpO1xuICAgIHRoaXMucmVuZGVyQWN0aW9uT3B0aW9ucyhyb290RGF0YSk7XG4gIH1cblxuICByZW5kZXJIZWFkZXJJbmZvKGRhdGE6IGFueSkge1xuICAgIGNvbnN0IGRhdGVUaW1lRmllbGQgPSB0aGlzLmZpbmRGaWVsZEJ5S2V5d29yZHMoZGF0YSwgWyfml6XmnJ8nLCAn5pe26Ze0J10pO1xuICAgIGNvbnN0IGxvY2F0aW9uRmllbGQgPSB0aGlzLmZpbmRGaWVsZEJ5S2V5d29yZHMoZGF0YSwgWyflnLDngrknLCAn546v5aKDJ10pO1xuICAgIGNvbnN0IHRpbWVEaXNwbGF5UGFyZW50ID0gdGhpcy5lbGVtZW50cy50aW1lRGlzcGxheT8ucGFyZW50Tm9kZTtcbiAgICBjb25zdCBsb2NhdGlvbkRpc3BsYXlQYXJlbnQgPSB0aGlzLmVsZW1lbnRzLmxvY2F0aW9uRGlzcGxheT8ucGFyZW50Tm9kZTtcblxuICAgIGlmIChkYXRlVGltZUZpZWxkICYmIHRoaXMuZWxlbWVudHMudGltZURpc3BsYXkgJiYgdGltZURpc3BsYXlQYXJlbnQpIHtcbiAgICAgIHRoaXMuZWxlbWVudHMudGltZURpc3BsYXkudGV4dENvbnRlbnQgPSB0aGlzLmZvcm1hdE5vZGVOYW1lKGRhdGFbZGF0ZVRpbWVGaWVsZF0sIHRydWUpO1xuICAgICAgY29uc3QgZW1vamlFbCA9IHRpbWVEaXNwbGF5UGFyZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbW9qaScpO1xuICAgICAgaWYgKGVtb2ppRWwpIGVtb2ppRWwudGV4dENvbnRlbnQgPSB0aGlzLmV4dHJhY3RFbW9qaXMoZGF0YVtkYXRlVGltZUZpZWxkXSlbMF0gfHwgJ/Cfl5PvuI8nO1xuICAgIH1cbiAgICBpZiAobG9jYXRpb25GaWVsZCAmJiB0aGlzLmVsZW1lbnRzLmxvY2F0aW9uRGlzcGxheSAmJiBsb2NhdGlvbkRpc3BsYXlQYXJlbnQpIHtcbiAgICAgIHRoaXMuZWxlbWVudHMubG9jYXRpb25EaXNwbGF5LnRleHRDb250ZW50ID0gdGhpcy5mb3JtYXROb2RlTmFtZShkYXRhW2xvY2F0aW9uRmllbGRdLCB0cnVlKTtcbiAgICAgIGNvbnN0IGVtb2ppRWwgPSBsb2NhdGlvbkRpc3BsYXlQYXJlbnQucXVlcnlTZWxlY3RvcignLmVtb2ppJyk7XG4gICAgICBpZiAoZW1vamlFbCkgZW1vamlFbC50ZXh0Q29udGVudCA9IHRoaXMuZXh0cmFjdEVtb2ppcyhkYXRhW2xvY2F0aW9uRmllbGRdKVswXSB8fCAn8J+Pnu+4jyc7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyQ2hhcmFjdGVycyhkYXRhOiBhbnkpIHtcbiAgICBjb25zdCBjaGFyTGlzdEtleSA9IHRoaXMuZmluZEZpZWxkQnlLZXl3b3JkcyhkYXRhLCBbJ+inkuiJsicsICfliJfooagnLCAn5Lq654mpJ10pO1xuICAgIGlmICh0aGlzLmVsZW1lbnRzLmNoYXJhY3RlcnNDb250YWluZXIpIHtcbiAgICAgIHRoaXMuZWxlbWVudHMuY2hhcmFjdGVyc0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmIChjaGFyTGlzdEtleSAmJiBBcnJheS5pc0FycmF5KGRhdGFbY2hhckxpc3RLZXldKSkge1xuICAgICAgICBkYXRhW2NoYXJMaXN0S2V5XS5mb3JFYWNoKChjaGFyRGF0YTogYW55KSA9PiB7XG4gICAgICAgICAgY29uc3QgY2FyZCA9IHRoaXMuY3JlYXRlQ2hhcmFjdGVyQ2FyZChjaGFyRGF0YSk7XG4gICAgICAgICAgaWYgKGNhcmQpIHRoaXMuZWxlbWVudHMuY2hhcmFjdGVyc0NvbnRhaW5lciEuYXBwZW5kQ2hpbGQoY2FyZCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5lbGVtZW50cy5jaGFyYWN0ZXJzQ29udGFpbmVyLmlubmVySFRNTCA9IHRoaXMuY3JlYXRlRW1wdHlTdGF0ZSgn5rKh5pyJ6KeS6Imy5pWw5o2uJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyU3lzdGVtKGRhdGE6IGFueSkge1xuICAgIGNvbnN0IHN5c3RlbUNvbnRhaW5lciA9IHRoaXMuZWxlbWVudHMuc3lzdGVtQ29udGFpbmVyO1xuICAgIGlmIChzeXN0ZW1Db250YWluZXIpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2VJZCA9IGdldEN1cnJlbnRNZXNzYWdlSWQoKTtcbiAgICAgIGNvbnN0IHZhcmlhYmxlcyA9IGdldFZhcmlhYmxlcyh7IHR5cGU6ICdtZXNzYWdlJywgbWVzc2FnZV9pZDogbWVzc2FnZUlkIH0pO1xuICAgICAgY29uc3Qgc3lzdGVtRGF0YSA9IF8uZ2V0KHZhcmlhYmxlcywgJ+S4lueVjC7ns7vnu58nLCBudWxsKTtcbiAgICAgIHJlbmRlclN5c3RlbShzeXN0ZW1EYXRhLCBzeXN0ZW1Db250YWluZXIpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlclNoZWx0ZXIoZGF0YTogYW55KSB7XG4gICAgY29uc3Qgc2hlbHRlcktleSA9IHRoaXMuZmluZEZpZWxkQnlLZXl3b3JkcyhkYXRhLCBbJ+W6h+aKpOaJgCddKTtcbiAgICBpZiAodGhpcy5lbGVtZW50cy5zaGVsdGVyQ29udGFpbmVyKSB7XG4gICAgICB0aGlzLmVsZW1lbnRzLnNoZWx0ZXJDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpZiAoc2hlbHRlcktleSAmJiB0eXBlb2YgZGF0YVtzaGVsdGVyS2V5XSA9PT0gJ29iamVjdCcgJiYgZGF0YVtzaGVsdGVyS2V5XSAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBzaGVsdGVyRGF0YSA9IGRhdGFbc2hlbHRlcktleV07XG4gICAgICAgIGNvbnN0IGNhcmQgPSB0aGlzLmNyZWF0ZUNoYXJhY3RlckNhcmQoeyBbc2hlbHRlcktleV06IHNoZWx0ZXJEYXRhIH0pO1xuICAgICAgICBpZiAoY2FyZCkgdGhpcy5lbGVtZW50cy5zaGVsdGVyQ29udGFpbmVyLmFwcGVuZENoaWxkKGNhcmQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5lbGVtZW50cy5zaGVsdGVyQ29udGFpbmVyLmlubmVySFRNTCA9IHRoaXMuY3JlYXRlRW1wdHlTdGF0ZSgn5pqC5peg5bqH5oqk5omA5L+h5oGvJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyUG9rZWRleEZyb21NZXNzYWdlVmFycygpIHtcbiAgICBjb25zdCBtZXNzYWdlSWQgPSBnZXRDdXJyZW50TWVzc2FnZUlkKCk7XG4gICAgY29uc3QgdmFyaWFibGVzID0gZ2V0VmFyaWFibGVzKHsgdHlwZTogJ21lc3NhZ2UnLCBtZXNzYWdlX2lkOiBtZXNzYWdlSWQgfSk7XG4gICAgY29uc3QgcG9rZWRleERhdGEgPSBfLmdldCh2YXJpYWJsZXMsICfkuJbnlYwu5Zu+6Ym0Jywge30pO1xuXG4gICAgY29uc3QgcmVuZGVyU2luZ2xlUG9rZWRleCA9IChjb250YWluZXI6IEhUTUxFbGVtZW50IHwgbnVsbCwgZGF0YTogYW55LCBuYW1lOiBzdHJpbmcsIGVtcHR5VGV4dDogc3RyaW5nKSA9PiB7XG4gICAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgY2FyZCA9IHRoaXMuY3JlYXRlQ2hhcmFjdGVyQ2FyZCh7IFtgJHtuYW1lfeWbvumJtCAo5bey5Y+R546wICR7ZGF0YS5sZW5ndGh9KWBdOiBkYXRhIH0pO1xuICAgICAgICAgIGlmIChjYXJkKSBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2FyZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9IHRoaXMuY3JlYXRlRW1wdHlTdGF0ZShlbXB0eVRleHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJlbmRlclNpbmdsZVBva2VkZXgodGhpcy5lbGVtZW50cy5iZXN0aWFyeUNvbnRhaW5lciwgcG9rZWRleERhdGFbJ+WmluWFvSddLCAn5aaW5YW9JywgJ+WmluWFveWbvumJtOW+heino+mUgScpO1xuICAgIHJlbmRlclNpbmdsZVBva2VkZXgodGhpcy5lbGVtZW50cy5oZXJib2xvZ3lDb250YWluZXIsIHBva2VkZXhEYXRhWyfmpI3niaknXSwgJ+akjeeJqScsICfmpI3nianlm77pibTlvoXop6PplIEnKTtcbiAgICByZW5kZXJTaW5nbGVQb2tlZGV4KHRoaXMuZWxlbWVudHMuaW52ZW50b3J5Q29udGFpbmVyLCBwb2tlZGV4RGF0YVsn54mp5ZOBJ10sICfnianlk4EnLCAn54mp5ZOB5Zu+6Ym05piv56m655qEJyk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHN5bmNWYXJpYWJsZXMoKSB7XG4gICAgaWYgKCF0aGlzLnJvb3ROb2RlS2V5IHx8ICF0aGlzLmpzb25EYXRhKSByZXR1cm47XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgY3VycmVudE1lc3NhZ2VJZCA9IGdldEN1cnJlbnRNZXNzYWdlSWQoKTtcbiAgICAgIGlmIChjdXJyZW50TWVzc2FnZUlkID09PSBudWxsKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignW1N0b3J5UmVuZGVyZXJdIOaXoOazleiOt+WPluW9k+WJjea2iOaBr0lE77yM6Lez6L+H5ZCM5q2l44CCJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgcm9vdERhdGEgPSB0aGlzLmpzb25EYXRhW3RoaXMucm9vdE5vZGVLZXldO1xuICAgICAgY29uc3QgY3VycmVudFZhcnMgPSBnZXRWYXJpYWJsZXMoeyB0eXBlOiAnbWVzc2FnZScsIG1lc3NhZ2VfaWQ6IGN1cnJlbnRNZXNzYWdlSWQgfSk7XG4gICAgICBjb25zdCBsYXN0U3luY0lkID0gXy5nZXQoY3VycmVudFZhcnMsICfkuJbnlYwubGFzdFN5bmNNZXNzYWdlSWQnLCAtMSk7XG5cbiAgICAgIC8vIOaguOW/g+mAu+i+ke+8muWPquacieW9k+W9k+WJjea2iOaBr0lE5aSn5LqO562J5LqO5pyA5ZCO5ZCM5q2lSUTml7bmiY3miafooYzmm7TmlrBcbiAgICAgIGlmIChjdXJyZW50TWVzc2FnZUlkID49IGxhc3RTeW5jSWQpIHtcbiAgICAgICAgY29uc3QgdXBkYXRlczogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuXG4gICAgICAgIGNvbnN0IHNlY3Rpb25zVG9TeW5jID0gW1xuICAgICAgICAgIHsga2V5V29yZHM6IFsn5bqH5oqk5omAJ10sIHZhclBhdGg6ICfkuJbnlYwu5bqH5oqk5omAJyB9LFxuICAgICAgICAgIHsga2V5V29yZHM6IFsn5aaW5YW95Zu+6Ym0J10sIHZhclBhdGg6ICfkuJbnlYwu5Zu+6Ym0LuWmluWFvScgfSxcbiAgICAgICAgICB7IGtleVdvcmRzOiBbJ+akjeeJqeWbvumJtCddLCB2YXJQYXRoOiAn5LiW55WMLuWbvumJtC7mpI3niaknIH0sXG4gICAgICAgICAgeyBrZXlXb3JkczogWyfnianlk4Hlm77pibQnXSwgdmFyUGF0aDogJ+S4lueVjC7lm77pibQu54mp5ZOBJyB9XG4gICAgICAgIF07XG5cbiAgICAgICAgLy8g5Y2V54us5aSE55CG57O757uf77yM56Gu5L+d5a6D5Y+q5Zyo5Y+Y6YeP5LiN5a2Y5Zyo5pe25LuOSlNPTuWIneWni+WMluS4gOasoVxuICAgICAgICBjb25zdCBzeXN0ZW1EYXRhSW5Kc29uID0gdGhpcy5maW5kRmllbGRCeUtleXdvcmRzKHJvb3REYXRhLCBbJ+ezu+e7nyddKTtcbiAgICAgICAgaWYgKHN5c3RlbURhdGFJbkpzb24gJiYgcm9vdERhdGFbc3lzdGVtRGF0YUluSnNvbl0pIHtcbiAgICAgICAgICBjb25zdCBuZXdTeXN0ZW1EYXRhID0gcm9vdERhdGFbc3lzdGVtRGF0YUluSnNvbl07XG4gICAgICAgICAgY29uc3QgY3VycmVudFN5c3RlbURhdGEgPSBfLmdldChjdXJyZW50VmFycywgJ+S4lueVjC7ns7vnu58nLCB7fSk7XG5cbiAgICAgICAgICAvLyDmo4Dmn6XmmK/lkKbmnInmlrDmiJDlsLHop6PplIFcbiAgICAgICAgICBpZiAobmV3U3lzdGVtRGF0YVsn5paw5oiQ5bCxJ10pIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0FjaGlldmVtZW50cyA9IEFycmF5LmlzQXJyYXkobmV3U3lzdGVtRGF0YVsn5paw5oiQ5bCxJ10pID8gbmV3U3lzdGVtRGF0YVsn5paw5oiQ5bCxJ10gOiBbbmV3U3lzdGVtRGF0YVsn5paw5oiQ5bCxJ11dO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkQWNoaWV2ZW1lbnRzID0gXy5jbG9uZURlZXAoXy5nZXQoY3VycmVudFN5c3RlbURhdGEsICflt7LlrozmiJAnLCBbXSkpO1xuICAgICAgICAgICAgbGV0IHVwZGF0ZWRQb2ludHMgPSBfLmdldChjdXJyZW50U3lzdGVtRGF0YSwgJ+aIkOWwseeCueaVsCcsIDApO1xuXG4gICAgICAgICAgICBuZXdBY2hpZXZlbWVudHMuZm9yRWFjaCgoYWNoOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgLy8g6YG/5YWN6YeN5aSN5re75YqgXG4gICAgICAgICAgICAgIGlmICghdXBkYXRlZEFjaGlldmVtZW50cy5zb21lKChleGlzdGluZ0FjaDogYW55KSA9PiBleGlzdGluZ0FjaFsn5ZCN56ewJ10gPT09IGFjaFsn5ZCN56ewJ10pKSB7XG4gICAgICAgICAgICAgICAgLy8g5Yqo5oCB5Zyw5bCG5omA5pyJ5a2X5q615re75Yqg6L+b5Y6777yM6Zmk5LqG54K55pWwXG4gICAgICAgICAgICAgICAgY29uc3QgYWNoaWV2ZW1lbnREYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0geyAuLi5hY2ggfTtcbiAgICAgICAgICAgICAgICBkZWxldGUgYWNoaWV2ZW1lbnREYXRhWyfngrnmlbAnXTtcbiAgICAgICAgICAgICAgICB1cGRhdGVkQWNoaWV2ZW1lbnRzLnB1c2goYWNoaWV2ZW1lbnREYXRhKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB1cGRhdGVkUG9pbnRzICs9IGFjaFsn54K55pWwJ10gfHwgMDtcbiAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2Vzcyhg6Kej6ZSB5paw5oiQ5bCx77yaJHthY2hbJ+WQjeensCddfWAsICfmga3llpzvvIEnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIOabtOaWsOezu+e7n+aVsOaNrlxuICAgICAgICAgICAgY3VycmVudFN5c3RlbURhdGFbJ+W3suWujOaIkCddID0gdXBkYXRlZEFjaGlldmVtZW50cztcbiAgICAgICAgICAgIGN1cnJlbnRTeXN0ZW1EYXRhWyfmiJDlsLHngrnmlbAnXSA9IHVwZGF0ZWRQb2ludHM7XG4gICAgICAgICAgICBpZihuZXdTeXN0ZW1EYXRhWyfmj5DnpLonXSkgY3VycmVudFN5c3RlbURhdGFbJ+aPkOekuiddID0gbmV3U3lzdGVtRGF0YVsn5o+Q56S6J107XG4gICAgICAgICAgICB1cGRhdGVzWyfkuJbnlYwu57O757ufJ10gPSBjdXJyZW50U3lzdGVtRGF0YTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbU3RvcnlSZW5kZXJlcl0g5qOA5rWL5Yiw5paw5oiQ5bCx77yM5bey5ZCI5bm25bm25pu05paw57O757uf5Y+Y6YeP44CCYCk7XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKG5ld1N5c3RlbURhdGFbJ+S7iuaXpeW3suetvuWIsCddID09PSB0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCkuZ2V0RGF0ZSgpO1xuICAgICAgICAgICAgY29uc3QgeWVzdGVyZGF5ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIHllc3RlcmRheS5zZXREYXRlKHRvZGF5IC0gMSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNpZ25lZEluRGF5cyA9IF8uY2xvbmVEZWVwKF8uZ2V0KGN1cnJlbnRTeXN0ZW1EYXRhLCAn5bey562+5YiwJywgW10pKTtcbiAgICAgICAgICAgIGlmICghc2lnbmVkSW5EYXlzLmluY2x1ZGVzKHRvZGF5KSkge1xuICAgICAgICAgICAgICBzaWduZWRJbkRheXMucHVzaCh0b2RheSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBjb25zZWN1dGl2ZURheXMgPSBfLmdldChjdXJyZW50U3lzdGVtRGF0YSwgJ+i/nue7reetvuWIsCcsIDApO1xuICAgICAgICAgICAgaWYgKHNpZ25lZEluRGF5cy5pbmNsdWRlcyh5ZXN0ZXJkYXkuZ2V0RGF0ZSgpKSkge1xuICAgICAgICAgICAgICBjb25zZWN1dGl2ZURheXMrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnNlY3V0aXZlRGF5cyA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGN1cnJlbnRTeXN0ZW1EYXRhWyflt7Lnrb7liLAnXSA9IHNpZ25lZEluRGF5cztcbiAgICAgICAgICAgIGN1cnJlbnRTeXN0ZW1EYXRhWyfov57nu63nrb7liLAnXSA9IGNvbnNlY3V0aXZlRGF5cztcbiAgICAgICAgICAgIGlmKG5ld1N5c3RlbURhdGFbJ+aPkOekuiddKSBjdXJyZW50U3lzdGVtRGF0YVsn5o+Q56S6J10gPSBuZXdTeXN0ZW1EYXRhWyfmj5DnpLonXTtcblxuICAgICAgICAgICAgLy8g5aSE55CG562+5Yiw5aWW5YqxXG4gICAgICAgICAgICBpZiAobmV3U3lzdGVtRGF0YVsn5aWW5YqxJ10pIHtcbiAgICAgICAgICAgICAgY29uc3QgcmV3YXJkVGV4dCA9IG5ld1N5c3RlbURhdGFbJ+WlluWKsSddO1xuICAgICAgICAgICAgICBjb25zdCBtYXRjaCA9IHJld2FyZFRleHQubWF0Y2goL+OAkCguKz8p44CReChcXGQrKS8pO1xuICAgICAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtTmFtZSA9IG1hdGNoWzFdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1BbW91bnQgPSBwYXJzZUludChtYXRjaFsyXSwgMTApO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIOWBh+iuvuWPquacieS4gOS4quinkuiJsu+8jOaJvuWIsOinkuiJsuaVsOaNruW5tuabtOaWsOeJqeWTgVxuICAgICAgICAgICAgICAgIGNvbnN0IGNoYXJMaXN0S2V5ID0gdGhpcy5maW5kRmllbGRCeUtleXdvcmRzKHJvb3REYXRhLCBbJ+inkuiJsicsICfliJfooagnLCAn5Lq654mpJ10pO1xuICAgICAgICAgICAgICAgIGlmIChjaGFyTGlzdEtleSAmJiBBcnJheS5pc0FycmF5KHJvb3REYXRhW2NoYXJMaXN0S2V5XSkgJiYgcm9vdERhdGFbY2hhckxpc3RLZXldLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXJDb250YWluZXIgPSByb290RGF0YVtjaGFyTGlzdEtleV1bMF07XG4gICAgICAgICAgICAgICAgICBjb25zdCBjaGFyRGF0YUtleSA9IE9iamVjdC5rZXlzKGNoYXJDb250YWluZXIpWzBdO1xuICAgICAgICAgICAgICAgICAgY29uc3QgY2hhckRhdGEgPSBjaGFyQ29udGFpbmVyW2NoYXJEYXRhS2V5XTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWVLZXkgPSB0aGlzLmZpbmRGaWVsZEJ5S2V5d29yZHMoY2hhckRhdGEsIFsn5aeT5ZCNJywgJ+WQjeensCddKTtcbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgaWYgKG5hbWVLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhck5hbWUgPSB0aGlzLmZvcm1hdE5vZGVOYW1lKGNoYXJEYXRhW25hbWVLZXldLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbXNWYXJQYXRoID0gYOinkuiJsi4ke2NoYXJOYW1lfS7nianlk4FgO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50SXRlbXMgPSBfLmNsb25lRGVlcChfLmdldChjdXJyZW50VmFycywgaXRlbXNWYXJQYXRoLCBbXSkpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8g5qOA5p+l54mp5ZOB5piv5ZCm5bey5a2Y5ZyoXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nSXRlbUluZGV4ID0gY3VycmVudEl0ZW1zLmZpbmRJbmRleCgoaXRlbTogc3RyaW5nKSA9PiBpdGVtLmluY2x1ZGVzKGl0ZW1OYW1lKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ0l0ZW1JbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8g5pu05paw5pWw6YePXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdJdGVtVGV4dCA9IGN1cnJlbnRJdGVtc1tleGlzdGluZ0l0ZW1JbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdBbW91bnRNYXRjaCA9IGV4aXN0aW5nSXRlbVRleHQubWF0Y2goL3goXFxkKykvKTtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ0Ftb3VudCA9IGV4aXN0aW5nQW1vdW50TWF0Y2ggPyBwYXJzZUludChleGlzdGluZ0Ftb3VudE1hdGNoWzFdLCAxMCkgOiAxO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0Ftb3VudCA9IGV4aXN0aW5nQW1vdW50ICsgaXRlbUFtb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50SXRlbXNbZXhpc3RpbmdJdGVtSW5kZXhdID0gYOOAkCR7aXRlbU5hbWV944CReCR7bmV3QW1vdW50fWA7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8g5re75Yqg5paw54mp5ZOBXG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudEl0ZW1zLnB1c2goYOOAkCR7aXRlbU5hbWV944CReCR7aXRlbUFtb3VudH1gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVzW2l0ZW1zVmFyUGF0aF0gPSBjdXJyZW50SXRlbXM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbU3RvcnlSZW5kZXJlcl0g5bey5bCG562+5Yiw5aWW5Yqx4oCcJHtyZXdhcmRUZXh0feKAnea3u+WKoOWIsOinkuiJsuKAnCR7Y2hhck5hbWV94oCd55qE54mp5ZOB5Y+Y6YeP5Lit44CCYCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHVwZGF0ZXNbJ+S4lueVjC7ns7vnu58nXSA9IGN1cnJlbnRTeXN0ZW1EYXRhO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFtTdG9yeVJlbmRlcmVyXSDmo4DmtYvliLDnrb7liLDkuovku7bvvIzlt7Lmm7TmlrDnrb7liLDmlbDmja7jgIJgKTtcblxuICAgICAgICAgIH0gZWxzZSBpZiAobmV3U3lzdGVtRGF0YVsn5oqA6IO95o+Q5Y2HJ10pIHtcbiAgICAgICAgICAgIGNvbnN0IHNraWxsVXBkYXRlcyA9IEFycmF5LmlzQXJyYXkobmV3U3lzdGVtRGF0YVsn5oqA6IO95o+Q5Y2HJ10pID8gbmV3U3lzdGVtRGF0YVsn5oqA6IO95o+Q5Y2HJ10gOiBbbmV3U3lzdGVtRGF0YVsn5oqA6IO95o+Q5Y2HJ11dO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFNraWxscyA9IF8uY2xvbmVEZWVwKF8uZ2V0KGN1cnJlbnRTeXN0ZW1EYXRhLCAn5oqA6IO9JywgW10pKTtcblxuICAgICAgICAgICAgc2tpbGxVcGRhdGVzLmZvckVhY2goKHVwZGF0ZTogYW55KSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHNraWxsSW5kZXggPSBjdXJyZW50U2tpbGxzLmZpbmRJbmRleCgoczogYW55KSA9PiBzWyflkI3np7AnXSA9PT0gdXBkYXRlWyflkI3np7AnXSk7XG4gICAgICAgICAgICAgIGlmIChza2lsbEluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICAvLyDmm7TmlrDnjrDmnInmioDog71cbiAgICAgICAgICAgICAgICBjb25zdCBza2lsbCA9IGN1cnJlbnRTa2lsbHNbc2tpbGxJbmRleF07XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudEV4cCA9IHNraWxsWyfnhp/nu4PluqYnXSB8fCB7IHZhbHVlOiAwLCBtYXg6IDEwMCB9O1xuICAgICAgICAgICAgICAgIGN1cnJlbnRFeHAudmFsdWUgKz0gdXBkYXRlWyfnhp/nu4Pluqblop7liqAnXSB8fCAwO1xuXG4gICAgICAgICAgICAgICAgLy8g5aSE55CG5Y2H57qnXG4gICAgICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnRFeHAudmFsdWUgPj0gY3VycmVudEV4cC5tYXgpIHtcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRFeHAudmFsdWUgLT0gY3VycmVudEV4cC5tYXg7XG4gICAgICAgICAgICAgICAgICBza2lsbFsn562J57qnJ10gPSAoc2tpbGxbJ+etiee6pyddIHx8IDEpICsgMTtcbiAgICAgICAgICAgICAgICAgIC8vIOWNh+e6p+WQjueGn+e7g+W6puS4iumZkOWPr+iDveS8muWinuWKoO+8jOi/memHjOeugOWMluWkhOeQhu+8jOWunumZheWPr+aJqeWxlVxuICAgICAgICAgICAgICAgICAgY3VycmVudEV4cC5tYXggPSBNYXRoLmZsb29yKGN1cnJlbnRFeHAubWF4ICogMS41KTsgXG4gICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2Vzcyhg5L2g55qE5oqA6IO944CQJHtza2lsbFsn5ZCN56ewJ11944CR5Y2H57qn5LqG77yBYCwgJ+aBreWWnO+8gScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBza2lsbFsn54af57uD5bqmJ10gPSBjdXJyZW50RXhwO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIOa3u+WKoOaWsOaKgOiDvVxuICAgICAgICAgICAgICAgIGN1cnJlbnRTa2lsbHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAn5ZCN56ewJzogdXBkYXRlWyflkI3np7AnXSxcbiAgICAgICAgICAgICAgICAgICfnrYnnuqcnOiAxLFxuICAgICAgICAgICAgICAgICAgJ+eGn+e7g+W6pic6IHsgdmFsdWU6IHVwZGF0ZVsn54af57uD5bqm5aKe5YqgJ10gfHwgMCwgbWF4OiAxMDAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRvYXN0ci5pbmZvKGDkvaDlrabkvJrkuobmlrDmioDog73vvJrjgJAke3VwZGF0ZVsn5ZCN56ewJ11944CR77yBYCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjdXJyZW50U3lzdGVtRGF0YVsn5oqA6IO9J10gPSBjdXJyZW50U2tpbGxzO1xuICAgICAgICAgICAgaWYobmV3U3lzdGVtRGF0YVsn5o+Q56S6J10pIGN1cnJlbnRTeXN0ZW1EYXRhWyfmj5DnpLonXSA9IG5ld1N5c3RlbURhdGFbJ+aPkOekuiddO1xuICAgICAgICAgICAgdXBkYXRlc1sn5LiW55WMLuezu+e7nyddID0gY3VycmVudFN5c3RlbURhdGE7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgW1N0b3J5UmVuZGVyZXJdIOajgOa1i+WIsOaKgOiDveaPkOWNh+S6i+S7tu+8jOW3suabtOaWsOaKgOiDveaVsOaNruOAgmApO1xuXG4gICAgICAgICAgfSBlbHNlIGlmIChuZXdTeXN0ZW1EYXRhWyfnianlk4HkuqTmjaInXSkge1xuICAgICAgICAgICAgY29uc3QgZXhjaGFuZ2UgPSBuZXdTeXN0ZW1EYXRhWyfnianlk4HkuqTmjaInXTtcbiAgICAgICAgICAgIGlmIChleGNoYW5nZVsn5oiQ5YqfJ10pIHtcbiAgICAgICAgICAgICAgY29uc3QgY2hhckxpc3RLZXkgPSB0aGlzLmZpbmRGaWVsZEJ5S2V5d29yZHMocm9vdERhdGEsIFsn6KeS6ImyJywgJ+WIl+ihqCcsICfkurrniaknXSk7XG4gICAgICAgICAgICAgIGlmIChjaGFyTGlzdEtleSAmJiBBcnJheS5pc0FycmF5KHJvb3REYXRhW2NoYXJMaXN0S2V5XSkgJiYgcm9vdERhdGFbY2hhckxpc3RLZXldLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGFyQ29udGFpbmVyID0gcm9vdERhdGFbY2hhckxpc3RLZXldWzBdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoYXJEYXRhS2V5ID0gT2JqZWN0LmtleXMoY2hhckNvbnRhaW5lcilbMF07XG4gICAgICAgICAgICAgICAgY29uc3QgY2hhckRhdGEgPSBjaGFyQ29udGFpbmVyW2NoYXJEYXRhS2V5XTtcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lS2V5ID0gdGhpcy5maW5kRmllbGRCeUtleXdvcmRzKGNoYXJEYXRhLCBbJ+Wnk+WQjScsICflkI3np7AnXSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKG5hbWVLZXkpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXJOYW1lID0gdGhpcy5mb3JtYXROb2RlTmFtZShjaGFyRGF0YVtuYW1lS2V5XSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICBjb25zdCBpdGVtc1ZhclBhdGggPSBg6KeS6ImyLiR7Y2hhck5hbWV9LueJqeWTgWA7XG4gICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50SXRlbXMgPSBfLmNsb25lRGVlcChfLmdldChjdXJyZW50VmFycywgaXRlbXNWYXJQYXRoLCBbXSkpO1xuXG4gICAgICAgICAgICAgICAgICAvLyDlpITnkIblpLHljrvnmoTnianlk4FcbiAgICAgICAgICAgICAgICAgIChleGNoYW5nZVsn5Lqk5o2i54mp5ZOBJ11bJ+WkseWOuyddIHx8IFtdKS5mb3JFYWNoKChpdGVtVGV4dDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gaXRlbVRleHQubWF0Y2goL+OAkCguKz8p44CReChcXGQrKS8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtTmFtZSA9IG1hdGNoWzFdO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFtb3VudFRvUmVtb3ZlID0gcGFyc2VJbnQobWF0Y2hbMl0sIDEwKTtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ0l0ZW1JbmRleCA9IGN1cnJlbnRJdGVtcy5maW5kSW5kZXgoKGl0ZW06IHN0cmluZykgPT4gaXRlbS5pbmNsdWRlcyhpdGVtTmFtZSkpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ0l0ZW1JbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ0l0ZW1UZXh0ID0gY3VycmVudEl0ZW1zW2V4aXN0aW5nSXRlbUluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nQW1vdW50TWF0Y2ggPSBleGlzdGluZ0l0ZW1UZXh0Lm1hdGNoKC94KFxcZCspLyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ0Ftb3VudCA9IGV4aXN0aW5nQW1vdW50TWF0Y2ggPyBwYXJzZUludChleGlzdGluZ0Ftb3VudE1hdGNoWzFdLCAxMCkgOiAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3QW1vdW50ID0gZXhpc3RpbmdBbW91bnQgLSBhbW91bnRUb1JlbW92ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdBbW91bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVtc1tleGlzdGluZ0l0ZW1JbmRleF0gPSBg44CQJHtpdGVtTmFtZX3jgJF4JHtuZXdBbW91bnR9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVtcy5zcGxpY2UoZXhpc3RpbmdJdGVtSW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgIC8vIOWkhOeQhuiOt+W+l+eahOeJqeWTgVxuICAgICAgICAgICAgICAgICAgKGV4Y2hhbmdlWyfkuqTmjaLnianlk4EnXVsn6I635b6XJ10gfHwgW10pLmZvckVhY2goKGl0ZW1UZXh0OiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBpdGVtVGV4dC5tYXRjaCgv44CQKC4rPynjgJF4KFxcZCspLyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1OYW1lID0gbWF0Y2hbMV07XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgYW1vdW50VG9BZGQgPSBwYXJzZUludChtYXRjaFsyXSwgMTApO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nSXRlbUluZGV4ID0gY3VycmVudEl0ZW1zLmZpbmRJbmRleCgoaXRlbTogc3RyaW5nKSA9PiBpdGVtLmluY2x1ZGVzKGl0ZW1OYW1lKSk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nSXRlbUluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nSXRlbVRleHQgPSBjdXJyZW50SXRlbXNbZXhpc3RpbmdJdGVtSW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdBbW91bnRNYXRjaCA9IGV4aXN0aW5nSXRlbVRleHQubWF0Y2goL3goXFxkKykvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nQW1vdW50ID0gZXhpc3RpbmdBbW91bnRNYXRjaCA/IHBhcnNlSW50KGV4aXN0aW5nQW1vdW50TWF0Y2hbMV0sIDEwKSA6IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdBbW91bnQgPSBleGlzdGluZ0Ftb3VudCArIGFtb3VudFRvQWRkO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEl0ZW1zW2V4aXN0aW5nSXRlbUluZGV4XSA9IGDjgJAke2l0ZW1OYW1lfeOAkXgke25ld0Ftb3VudH1gO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50SXRlbXMucHVzaChg44CQJHtpdGVtTmFtZX3jgJF4JHthbW91bnRUb0FkZH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgdXBkYXRlc1tpdGVtc1ZhclBhdGhdID0gY3VycmVudEl0ZW1zO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhleGNoYW5nZVsn5o+Q56S6J10gfHwgJ+S6pOaNouaIkOWKn++8gScpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdG9hc3RyLndhcm5pbmcoZXhjaGFuZ2VbJ+aPkOekuiddIHx8ICfkuqTmjaLlpLHotKXjgIInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIOS4jeeuoeaIkOWKn+S4juWQpu+8jOmDveabtOaWsOezu+e7n+aPkOekulxuICAgICAgICAgICAgaWYobmV3U3lzdGVtRGF0YVsn5o+Q56S6J10pIGN1cnJlbnRTeXN0ZW1EYXRhWyfmj5DnpLonXSA9IG5ld1N5c3RlbURhdGFbJ+aPkOekuiddO1xuICAgICAgICAgICAgdXBkYXRlc1sn5LiW55WMLuezu+e7nyddID0gY3VycmVudFN5c3RlbURhdGE7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgW1N0b3J5UmVuZGVyZXJdIOajgOa1i+WIsOeJqeWTgeS6pOaNouS6i+S7tu+8jOW3suWkhOeQhuOAgmApO1xuXG4gICAgICAgICAgfSBlbHNlIGlmIChuZXdTeXN0ZW1EYXRhWyfmlrDnianlk4Hlj5HnjrAnXSkge1xuICAgICAgICAgICAgY29uc3QgbmV3SXRlbXMgPSBBcnJheS5pc0FycmF5KG5ld1N5c3RlbURhdGFbJ+aWsOeJqeWTgeWPkeeOsCddKSA/IG5ld1N5c3RlbURhdGFbJ+aWsOeJqeWTgeWPkeeOsCddIDogW25ld1N5c3RlbURhdGFbJ+aWsOeJqeWTgeWPkeeOsCddXTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQb2tlZGV4ID0gXy5jbG9uZURlZXAoXy5nZXQoY3VycmVudFZhcnMsICfkuJbnlYwu5Zu+6Ym0LueJqeWTgScsIFtdKSk7XG5cbiAgICAgICAgICAgIG5ld0l0ZW1zLmZvckVhY2goKGl0ZW06IGFueSkgPT4ge1xuICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRQb2tlZGV4LnNvbWUoKGV4aXN0aW5nOiBhbnkpID0+IGV4aXN0aW5nWyflkI3np7AnXSA9PT0gaXRlbVsn5ZCN56ewJ10pKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFBva2VkZXgucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICB0b2FzdHIuaW5mbyhg5paw55qE54mp5ZOB4oCcJHtpdGVtWyflkI3np7AnXX3igJ3lt7Lmt7vliqDliLDlm77pibTvvIFgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB1cGRhdGVzWyfkuJbnlYwu5Zu+6Ym0LueJqeWTgSddID0gY3VycmVudFBva2VkZXg7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgW1N0b3J5UmVuZGVyZXJdIOajgOa1i+WIsOaWsOeJqeWTgeWPkeeOsOS6i+S7tu+8jOW3suabtOaWsOeJqeWTgeWbvumJtOOAgmApO1xuXG4gICAgICAgICAgfSBlbHNlIGlmICghXy5oYXMoY3VycmVudFZhcnMsICfkuJbnlYwu57O757ufJykpIHtcbiAgICAgICAgICAgIC8vIOWmguaenOWPmOmHj+S4reayoeacieezu+e7n+aVsOaNru+8jOWImeWwneivleS7jkpTT07ov5vooYzliJ3lp4vljJZcbiAgICAgICAgICAgIGNvbnN0IHN5c3RlbURhdGFJbkpzb24gPSB0aGlzLmZpbmRGaWVsZEJ5S2V5d29yZHMocm9vdERhdGEsIFsn57O757ufJ10pO1xuICAgICAgICAgICAgaWYgKHN5c3RlbURhdGFJbkpzb24gJiYgcm9vdERhdGFbc3lzdGVtRGF0YUluSnNvbl0pIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVzWyfkuJbnlYwu57O757ufJ10gPSByb290RGF0YVtzeXN0ZW1EYXRhSW5Kc29uXTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgW1N0b3J5UmVuZGVyZXJdICfkuJbnlYwu57O757ufJyDlj5jph4/kuI3lrZjlnKjvvIzku45KU09O6L+b6KGM5Yid5aeL5YyW44CCYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBzZWN0aW9uIG9mIHNlY3Rpb25zVG9TeW5jKSB7XG4gICAgICAgICAgY29uc3QgZGF0YUtleSA9IHRoaXMuZmluZEZpZWxkQnlLZXl3b3Jkcyhyb290RGF0YSwgc2VjdGlvbi5rZXlXb3Jkcyk7XG4gICAgICAgICAgaWYgKGRhdGFLZXkgJiYgcm9vdERhdGFbZGF0YUtleV0pIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0RhdGEgPSByb290RGF0YVtkYXRhS2V5XTtcbiAgICAgICAgICAgIC8vIEZvciBwb2tlZGV4LCB3ZSBuZWVkIHRvIG1lcmdlIGFycmF5cywgbm90IHJlcGxhY2UgdGhlbVxuICAgICAgICAgICAgaWYgKHNlY3Rpb24udmFyUGF0aC5pbmNsdWRlcygn5Zu+6Ym0JykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvbGREYXRhID0gXy5nZXQoY3VycmVudFZhcnMsIHNlY3Rpb24udmFyUGF0aCwgW10pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbWJpbmVkRGF0YSA9IF8udW5pb25CeShvbGREYXRhLCBuZXdEYXRhWyflt7LmlLblvZUnXSB8fCBbXSwgJ+WQjeensCcpO1xuICAgICAgICAgICAgICAgIGlmICghXy5pc0VxdWFsKG9sZERhdGEsIGNvbWJpbmVkRGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgXy5zZXQodXBkYXRlcywgc2VjdGlvbi52YXJQYXRoLCBjb21iaW5lZERhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2xkRGF0YSA9IF8uZ2V0KGN1cnJlbnRWYXJzLCBzZWN0aW9uLnZhclBhdGgpO1xuICAgICAgICAgICAgICAgIGlmICghXy5pc0VxdWFsKG5ld0RhdGEsIG9sZERhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIF8uc2V0KHVwZGF0ZXMsIHNlY3Rpb24udmFyUGF0aCwgbmV3RGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOWQjOatpeinkuiJsueJqeWTgVxuICAgICAgICBjb25zdCBjaGFyTGlzdEtleSA9IHRoaXMuZmluZEZpZWxkQnlLZXl3b3Jkcyhyb290RGF0YSwgWyfop5LoibInLCAn5YiX6KGoJywgJ+S6uueJqSddKTtcbiAgICAgICAgaWYgKGNoYXJMaXN0S2V5ICYmIEFycmF5LmlzQXJyYXkocm9vdERhdGFbY2hhckxpc3RLZXldKSkge1xuICAgICAgICAgIHJvb3REYXRhW2NoYXJMaXN0S2V5XS5mb3JFYWNoKChjaGFyQ29udGFpbmVyOiBhbnkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNoYXJEYXRhS2V5ID0gT2JqZWN0LmtleXMoY2hhckNvbnRhaW5lcilbMF07XG4gICAgICAgICAgICBjb25zdCBjaGFyRGF0YSA9IGNoYXJDb250YWluZXJbY2hhckRhdGFLZXldO1xuXG4gICAgICAgICAgICBpZiAoY2hhckRhdGEgJiYgdHlwZW9mIGNoYXJEYXRhID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICBjb25zdCBuYW1lS2V5ID0gdGhpcy5maW5kRmllbGRCeUtleXdvcmRzKGNoYXJEYXRhLCBbJ+Wnk+WQjScsICflkI3np7AnXSk7XG4gICAgICAgICAgICAgIGNvbnN0IGl0ZW1zS2V5ID0gdGhpcy5maW5kRmllbGRCeUtleXdvcmRzKGNoYXJEYXRhLCBbJ+eJqeWTgScsICfmoLjlv4Pnianlk4EnXSk7XG5cbiAgICAgICAgICAgICAgaWYgKG5hbWVLZXkgJiYgaXRlbXNLZXkgJiYgY2hhckRhdGFbbmFtZUtleV0gJiYgQXJyYXkuaXNBcnJheShjaGFyRGF0YVtpdGVtc0tleV0pKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hhck5hbWUgPSB0aGlzLmZvcm1hdE5vZGVOYW1lKGNoYXJEYXRhW25hbWVLZXldLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdJdGVtcyA9IGNoYXJEYXRhW2l0ZW1zS2V5XTtcbiAgICAgICAgICAgICAgICBjb25zdCB2YXJQYXRoID0gYOinkuiJsi4ke2NoYXJOYW1lfS7nianlk4FgO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9sZEl0ZW1zID0gXy5nZXQoY3VycmVudFZhcnMsIHZhclBhdGgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFfLmlzRXF1YWwobmV3SXRlbXMsIG9sZEl0ZW1zKSkge1xuICAgICAgICAgICAgICAgICAgXy5zZXQodXBkYXRlcywgdmFyUGF0aCwgbmV3SXRlbXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFfLmlzRW1wdHkodXBkYXRlcykpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgW1N0b3J5UmVuZGVyZXJdIE1lc3NhZ2UgJHtjdXJyZW50TWVzc2FnZUlkfSA+ICR7bGFzdFN5bmNJZH0uIOajgOa1i+WIsOWPmOmHj+WPmOWMlu+8jOato+WcqOabtOaWsDpgLCB1cGRhdGVzKTtcbiAgICAgICAgICAvLyDlsIYgbGFzdFN5bmNNZXNzYWdlSWQg5Lmf5Yqg5YWl5Yiw5pu05paw5LitXG4gICAgICAgICAgdXBkYXRlc1sn5LiW55WMLmxhc3RTeW5jTWVzc2FnZUlkJ10gPSBjdXJyZW50TWVzc2FnZUlkO1xuICAgICAgICAgIGF3YWl0IGluc2VydE9yQXNzaWduVmFyaWFibGVzKHVwZGF0ZXMsIHsgdHlwZTogJ21lc3NhZ2UnLCBtZXNzYWdlX2lkOiBjdXJyZW50TWVzc2FnZUlkIH0pO1xuICAgICAgICAgIHRvYXN0ci5pbmZvKGDnirbmgIHmoI8oTSR7Y3VycmVudE1lc3NhZ2VJZH0p5bey5ZCM5q2l5qW85bGC5Y+Y6YeP44CCYCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYFtTdG9yeVJlbmRlcmVyXSBNZXNzYWdlICR7Y3VycmVudE1lc3NhZ2VJZH0gPj0gJHtsYXN0U3luY0lkfS4g5pyq5qOA5rWL5Yiw5Y+Y6YeP5Y+Y5YyW44CCYCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBbU3RvcnlSZW5kZXJlcl0g6Lez6L+H5pen55qE54q25oCB5qCPKE0ke2N1cnJlbnRNZXNzYWdlSWR9KeWQjOatpe+8jOacgOaWsOiusOW9leS4uiBNJHtsYXN0U3luY0lkfeOAgmApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCflj5jph4/lkIzmraXlpLHotKU6JywgZXJyb3IpO1xuICAgICAgdG9hc3RyLmVycm9yKCflj5jph4/lkIzmraXlpLHotKXvvIzor7fmn6XnnIvmjqfliLblj7DjgIInKTtcbiAgICB9XG4gIH1cblxuICBjcmVhdGVDaGFyYWN0ZXJDYXJkKGNoYXJEYXRhOiBhbnkpIHtcbiAgICBjb25zdCB0aXRsZUtleSA9IE9iamVjdC5rZXlzKGNoYXJEYXRhKVswXTtcbiAgICBjb25zdCBhdHRyaWJ1dGVzID0gY2hhckRhdGFbdGl0bGVLZXldO1xuICAgIGlmICghdGl0bGVLZXkgfHwgIWF0dHJpYnV0ZXMpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgY2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNhcmQuY2xhc3NOYW1lID0gJ2JnLW1haW4gcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLWRpbSBwLTMuNSBzaGFkb3ctc20gY2FyZC1ob3ZlciB0aGVtZS10cmFuc2l0aW9uJztcblxuICAgIGNvbnN0IGgzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICBoMy5jbGFzc05hbWUgPSAnZm9udC1ib2xkIHRleHQtbGcgbWItMiBwYi0xIGJvcmRlci1iIGJvcmRlci1kaW0gdGhlbWUtdHJhbnNpdGlvbic7XG4gICAgaDMuaW5uZXJIVE1MID0gYCR7dGhpcy5leHRyYWN0RW1vamlzKHRpdGxlS2V5KVswXSB8fCAnJ30gJHt0aGlzLmZvcm1hdE5vZGVOYW1lKHRpdGxlS2V5LCB0cnVlKX1gO1xuICAgIGNhcmQuYXBwZW5kQ2hpbGQoaDMpO1xuXG4gICAgY29uc3QgbGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG4gICAgbGlzdC5jbGFzc05hbWUgPSAnc3BhY2UteS0yIHRleHQtc20nO1xuICAgIGNhcmQuYXBwZW5kQ2hpbGQobGlzdCk7XG5cbiAgICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMgPT09ICdvYmplY3QnICYmIGF0dHJpYnV0ZXMgIT09IG51bGwgJiYgIUFycmF5LmlzQXJyYXkoYXR0cmlidXRlcykpIHtcbiAgICAgIE9iamVjdC5lbnRyaWVzKGF0dHJpYnV0ZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICBsaXN0LmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlQXR0cmlidXRlSXRlbShrZXksIHZhbHVlKSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYXR0cmlidXRlcykpIHsgLy8gSGFuZGxlIGNhc2Ugd2hlcmUgYXR0cmlidXRlcyBpcyBhbiBhcnJheSBvZiBlbnRyaWVzXG4gICAgICAgIGF0dHJpYnV0ZXMuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbnRyeU5hbWUgPSBlbnRyeVsn5ZCN56ewJ10gfHwgJ+acquefpeadoeebric7XG4gICAgICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgICAgICBsaS5jbGFzc05hbWUgPSAnY2xpY2thYmxlLWl0ZW0nO1xuICAgICAgICAgICAgbGkuZGF0YXNldC5kZXRhaWxzID0gSlNPTi5zdHJpbmdpZnkoZW50cnkpO1xuICAgICAgICAgICAgbGkuaW5uZXJIVE1MID0gYOKAoiAke3RoaXMuZm9ybWF0Tm9kZU5hbWUoZW50cnlOYW1lKX1gO1xuICAgICAgICAgICAgbGlzdC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gY2FyZDtcbiAgfVxuXG4gIGNyZWF0ZUF0dHJpYnV0ZUl0ZW0oa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpOiBIVE1MTElFbGVtZW50IHtcbiAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICBjb25zdCBlbW9qaSA9IHRoaXMuZXh0cmFjdEVtb2ppcyhrZXkpWzBdIHx8ICfwn5S4JztcbiAgICBjb25zdCBrZXlIdG1sID0gYDxzcGFuIGNsYXNzPVwiZm9udC1tZWRpdW0gdGV4dC1hY2NlbnRcIj4ke2Vtb2ppfSAke3RoaXMuZm9ybWF0Tm9kZU5hbWUoa2V5LCB0cnVlKX06PC9zcGFuPmA7XG5cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgJ3ZhbHVlJyBpbiB2YWx1ZSAmJiAnbWF4JyBpbiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUudmFsdWUgPT09ICdudW1iZXInICYmIHR5cGVvZiB2YWx1ZS5tYXggPT09ICdudW1iZXInKSB7XG4gICAgICBpdGVtLmlubmVySFRNTCA9IGtleUh0bWw7XG4gICAgICBjb25zdCBwZXJjZW50YWdlID0gKHZhbHVlLnZhbHVlIC8gdmFsdWUubWF4KSAqIDEwMDtcbiAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgY29udGFpbmVyLmNsYXNzTmFtZSA9ICdmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTIgbXQtMSc7XG4gICAgICBjb25zdCBwcm9ncmVzc0JhcldyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHByb2dyZXNzQmFyV3JhcHBlci5jbGFzc05hbWUgPSAncHJvZ3Jlc3MtYmFyLWJnIHctZnVsbCByb3VuZGVkLWZ1bGwgaC0yLjUnO1xuICAgICAgY29uc3QgcHJvZ3Jlc3NCYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHByb2dyZXNzQmFyLmNsYXNzTmFtZSA9ICdwcm9ncmVzcy1iYXItZmcgaC0yLjUgcm91bmRlZC1mdWxsJztcbiAgICAgIHByb2dyZXNzQmFyLnN0eWxlLndpZHRoID0gYCR7cGVyY2VudGFnZX0lYDtcbiAgICAgIGlmIChwZXJjZW50YWdlIDwgMjUpIHByb2dyZXNzQmFyLmNsYXNzTGlzdC5hZGQoJ2JnLXJlZC01MDAnKTtcbiAgICAgIGVsc2UgaWYgKHBlcmNlbnRhZ2UgPCA1MCkgcHJvZ3Jlc3NCYXIuY2xhc3NMaXN0LmFkZCgnYmcteWVsbG93LTUwMCcpO1xuICAgICAgZWxzZSBwcm9ncmVzc0Jhci5jbGFzc0xpc3QuYWRkKCdiZy1ncmVlbi01MDAnKTtcbiAgICAgIHByb2dyZXNzQmFyV3JhcHBlci5hcHBlbmRDaGlsZChwcm9ncmVzc0Jhcik7XG4gICAgICBjb25zdCBwcm9ncmVzc1RleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICBwcm9ncmVzc1RleHQuY2xhc3NOYW1lID0gJ3RleHQteHMgdGV4dC1zZWNvbmRhcnkgZm9udC1tb25vJztcbiAgICAgIHByb2dyZXNzVGV4dC50ZXh0Q29udGVudCA9IGAke3ZhbHVlLnZhbHVlfSAvICR7dmFsdWUubWF4fWA7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocHJvZ3Jlc3NCYXJXcmFwcGVyKTtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChwcm9ncmVzc1RleHQpO1xuICAgICAgaXRlbS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgaXRlbS5pbm5lckhUTUwgPSBrZXlIdG1sO1xuICAgICAgY29uc3Qgc3ViTGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG4gICAgICBzdWJMaXN0LmNsYXNzTmFtZSA9ICdsaXN0LWRpc2MgbGlzdC1pbnNpZGUgbWwtNCBtdC0xIHNwYWNlLXktMSc7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUuZm9yRWFjaChzdWJWYWx1ZSA9PiB7XG4gICAgICAgICAgY29uc3Qgc3ViSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgICAgbGV0IHRleHQ7XG4gICAgICAgICAgc3ViSXRlbS5jbGFzc0xpc3QuYWRkKCdjbGlja2FibGUtaXRlbScpO1xuICAgICAgICAgIHN1Ykl0ZW0uZGF0YXNldC5kZXRhaWxzID0gSlNPTi5zdHJpbmdpZnkoc3ViVmFsdWUpO1xuICAgICAgICAgIGlmICh0eXBlb2Ygc3ViVmFsdWUgPT09ICdvYmplY3QnICYmIHN1YlZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBuYW1lS2V5ID0gT2JqZWN0LmtleXMoc3ViVmFsdWUpLmZpbmQoayA9PiBrLmluY2x1ZGVzKCflkI3np7AnKSB8fCBrLmluY2x1ZGVzKCflp5PlkI0nKSk7XG4gICAgICAgICAgICB0ZXh0ID0gbmFtZUtleSA/IHRoaXMuZm9ybWF0Tm9kZU5hbWUoU3RyaW5nKHN1YlZhbHVlW25hbWVLZXldKSkgOiAn54K55Ye75p+l55yL6K+m5oOFJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGV4dCA9IHRoaXMuZm9ybWF0Tm9kZU5hbWUoU3RyaW5nKHN1YlZhbHVlKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN1Ykl0ZW0uaW5uZXJIVE1MID0gYCR7dGhpcy5leHRyYWN0RW1vamlzKHRleHQpWzBdIHx8ICfigKInfSAke3RoaXMuZm9ybWF0Tm9kZU5hbWUodGV4dCwgdHJ1ZSl9YDtcbiAgICAgICAgICBzdWJMaXN0LmFwcGVuZENoaWxkKHN1Ykl0ZW0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHZhbHVlKS5mb3JFYWNoKChbc3ViS2V5LCBzdWJWYWx1ZV0pID0+IHtcbiAgICAgICAgICBjb25zdCBzdWJJdGVtID0gdGhpcy5jcmVhdGVBdHRyaWJ1dGVJdGVtKHN1YktleSwgc3ViVmFsdWUpO1xuICAgICAgICAgIHN1Ykxpc3QuYXBwZW5kQ2hpbGQoc3ViSXRlbSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaXRlbS5hcHBlbmRDaGlsZChzdWJMaXN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaXRlbS5pbm5lckhUTUwgPSBgJHtrZXlIdG1sfSAke3RoaXMuZm9ybWF0Tm9kZU5hbWUoU3RyaW5nKHZhbHVlKSl9YDtcbiAgICB9XG4gICAgcmV0dXJuIGl0ZW07XG4gIH1cblxuICByZW5kZXJBY3Rpb25PcHRpb25zKGRhdGE6IGFueSkge1xuICAgIGNvbnN0IGFjdGlvbktleSA9IHRoaXMuZmluZEZpZWxkQnlLZXl3b3JkcyhkYXRhLCBbJ+ihjOWKqCddKTtcbiAgICBpZiAodGhpcy5lbGVtZW50cy5vcHRpb25zTGlzdCkge1xuICAgICAgdGhpcy5lbGVtZW50cy5vcHRpb25zTGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGlmIChhY3Rpb25LZXkgJiYgZGF0YVthY3Rpb25LZXldKSB7XG4gICAgICAgIGNvbnN0IGFjdGlvbkRhdGEgPSBkYXRhW2FjdGlvbktleV07XG4gICAgICAgIGNvbnN0IG93bmVyS2V5ID0gdGhpcy5maW5kRmllbGRCeUtleXdvcmRzKGFjdGlvbkRhdGEsIFsn6KGM5Yqo5Lq6JywgJ+inkuiJsiddKTtcbiAgICAgICAgY29uc3Qgb3B0aW9uc0tleSA9IHRoaXMuZmluZEZpZWxkQnlLZXl3b3JkcyhhY3Rpb25EYXRhLCBbJ+WPr+mAieihjOWKqCcsICfpgInpobknXSk7XG5cbiAgICAgICAgaWYgKG93bmVyS2V5ICYmIHRoaXMuZWxlbWVudHMuYWN0aW9uT3duZXIpIHtcbiAgICAgICAgICB0aGlzLmVsZW1lbnRzLmFjdGlvbk93bmVyLnRleHRDb250ZW50ID0gdGhpcy5mb3JtYXROb2RlTmFtZShhY3Rpb25EYXRhW293bmVyS2V5XSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnNLZXkgJiYgQXJyYXkuaXNBcnJheShhY3Rpb25EYXRhW29wdGlvbnNLZXldKSkge1xuICAgICAgICAgIGFjdGlvbkRhdGFbb3B0aW9uc0tleV0uZm9yRWFjaCgob3B0aW9uVGV4dDogc3RyaW5nLCBpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgICAgIGl0ZW0uY2xhc3NOYW1lID0gJ3BsLTIgcHktMSBib3JkZXItbC0yIGJvcmRlci1kaW0gbWwtMSBob3Zlcjpib3JkZXItaW5kaWdvLTQwMC83MCB0cmFuc2l0aW9uLWNvbG9ycyB0aGVtZS10cmFuc2l0aW9uJztcbiAgICAgICAgICAgIGNvbnN0IGNsZWFuVGV4dCA9IHRoaXMuZm9ybWF0Tm9kZU5hbWUob3B0aW9uVGV4dCwgdHJ1ZSk7XG4gICAgICAgICAgICBpdGVtLmlubmVySFRNTCA9IGAke3RoaXMuZXh0cmFjdEVtb2ppcyhvcHRpb25UZXh0KVswXSB8fCAn4pa277iPJ30gJHtjbGVhblRleHR9YDtcbiAgICAgICAgICAgIGl0ZW0uZGF0YXNldC5vcHRpb25JbmRleCA9IGluZGV4LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBpdGVtLmRhdGFzZXQub3B0aW9uVGV4dCA9IGNsZWFuVGV4dDtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHMub3B0aW9uc0xpc3QhLmFwcGVuZENoaWxkKGl0ZW0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCBjdXN0b21BY3Rpb25JdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgY3VzdG9tQWN0aW9uSXRlbS5jbGFzc05hbWUgPSAncGwtMiBweS0xIGJvcmRlci1sLTIgYm9yZGVyLWRpbSBtbC0xIGhvdmVyOmJvcmRlci1pbmRpZ28tNDAwLzcwIHRyYW5zaXRpb24tY29sb3JzIHRoZW1lLXRyYW5zaXRpb24gbXQtNCc7XG4gICAgICAgIGN1c3RvbUFjdGlvbkl0ZW0uaW5uZXJIVE1MID0gYDxpIGNsYXNzPVwiZmFzIGZhLXBlbi1uaWIgbXItMiB0ZXh0LWFjY2VudFwiPjwvaT4g6Ieq5a6a5LmJ6KGM5YqoLi4uYDtcbiAgICAgICAgY3VzdG9tQWN0aW9uSXRlbS5kYXRhc2V0LmFjdGlvblR5cGUgPSAnY3VzdG9tJztcbiAgICAgICAgdGhpcy5lbGVtZW50cy5vcHRpb25zTGlzdCEuYXBwZW5kQ2hpbGQoY3VzdG9tQWN0aW9uSXRlbSk7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZWxlbWVudHMub3B0aW9uc0xpc3QuaW5uZXJIVE1MID0gdGhpcy5jcmVhdGVFbXB0eVN0YXRlKCfmsqHmnInlj6/nlKjooYzliqgnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjcmVhdGVFbXB0eVN0YXRlKG1lc3NhZ2U6IHN0cmluZykge1xuICAgIHJldHVybiBgPGxpIGNsYXNzPVwidGV4dC1jZW50ZXIgcHktNCB0ZXh0LXNlY29uZGFyeSB0aGVtZS10cmFuc2l0aW9uXCI+PGkgY2xhc3M9XCJmYXMgZmEtaW5mby1jaXJjbGUgbXItMVwiPjwvaT4ke21lc3NhZ2V9PC9saT5gO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IoZXJyb3I6IEVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign5riy5p+T6ZSZ6K+vOicsIGVycm9yKTtcbiAgICBjb25zdCBlcnJvckh0bWwgPSBgPGRpdiBjbGFzcz1cImJnLXJlZC05MDAvMjAgYm9yZGVyIGJvcmRlci1yZWQtODAwLzMwIHRleHQtcmVkLTQwMCBweC00IHB5LTMgcm91bmRlZCByZWxhdGl2ZVwiIHJvbGU9XCJhbGVydFwiPlxuICAgICAgICAgICAgPHN0cm9uZyBjbGFzcz1cImZvbnQtYm9sZFwiPuWKoOi9veWksei0pTogPC9zdHJvbmc+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImJsb2NrIHNtOmlubGluZVwiPiR7ZXJyb3IubWVzc2FnZX08L3NwYW4+XG4gICAgICAgIDwvZGl2PmA7XG4gICAgaWYgKHRoaXMuZWxlbWVudHMuY2hhcmFjdGVyc0NvbnRhaW5lcikgdGhpcy5lbGVtZW50cy5jaGFyYWN0ZXJzQ29udGFpbmVyLmlubmVySFRNTCA9IGVycm9ySHRtbDtcbiAgICBpZiAodGhpcy5lbGVtZW50cy5vcHRpb25zTGlzdCkgdGhpcy5lbGVtZW50cy5vcHRpb25zTGlzdC5pbm5lckhUTUwgPSBgPGxpPiR7ZXJyb3JIdG1sfTwvbGk+YDtcbiAgICBjb25zdCBhY3Rpb25Pd25lclBhcmVudCA9IHRoaXMuZWxlbWVudHMuYWN0aW9uT3duZXI/LnBhcmVudEVsZW1lbnQ7XG4gICAgaWYgKGFjdGlvbk93bmVyUGFyZW50KSBhY3Rpb25Pd25lclBhcmVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9XG4gIGhhbmRsZVBhcnNpbmdGYWlsdXJlKHJhd1RleHQ6IHN0cmluZywgZXJyb3I6IHVua25vd24pIHtcbiAgICBpZiAodGhpcy5lbGVtZW50cy5zdGF0dXNCYXJUaXRsZSkgdGhpcy5lbGVtZW50cy5zdGF0dXNCYXJUaXRsZS50ZXh0Q29udGVudCA9ICdKU09O6Kej5p6Q5aSx6LSlJztcbiAgICBjb25zdCBzYWZlUmF3VGV4dCA9IFN0cmluZyhyYXdUZXh0IHx8ICcnKTtcbiAgICBcbiAgICBsZXQgZXJyb3JNZXNzYWdlID0gXCLmnKrnn6XplJnor69cIjtcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IFN0cmluZyhlcnJvcik7XG4gICAgfVxuXG4gICAgY29uc3QgZXJyb3JIdG1sID0gYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJnLW9yYW5nZS04MDAvMjAgYm9yZGVyIGJvcmRlci1vcmFuZ2UtNzAwLzMwIHRleHQtb3JhbmdlLTMwMCBweC00IHB5LTMgcm91bmRlZC1sZyByZWxhdGl2ZVwiIHJvbGU9XCJhbGVydFwiPlxuICAgICAgICAgICAgICAgIDxzdHJvbmcgY2xhc3M9XCJmb250LWJvbGRcIj7op6PmnpDlpLHotKU6PC9zdHJvbmc+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJibG9jayBzbTppbmxpbmVcIj4ke2Vycm9yTWVzc2FnZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJtdC0yIHRleHQtc21cIj7lt7LkuLrmgqjmmL7npLrljp/lp4vovpPlh7rlhoXlrrnvvIzor7fmo4Dmn6XmoLzlvI/vvJo8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxwcmUgY2xhc3M9XCJiZy1ncmF5LTkwMC81MCB0ZXh0LXdoaXRlIHAtNCByb3VuZGVkLWxnIG10LTIgd2hpdGVzcGFjZS1wcmUtd3JhcCB0ZXh0LXhzIGxlYWRpbmctcmVsYXhlZFwiPjxjb2RlPiR7c2FmZVJhd1RleHQucmVwbGFjZSgvPC9nLCAnPCcpLnJlcGxhY2UoLz4vZywgJz4nKX08L2NvZGU+PC9wcmU+XG4gICAgICAgIGA7XG4gICAgaWYgKHRoaXMuZWxlbWVudHMuY2hhcmFjdGVyc0NvbnRhaW5lcikge1xuICAgICAgdGhpcy5lbGVtZW50cy5jaGFyYWN0ZXJzQ29udGFpbmVyLmlubmVySFRNTCA9IGVycm9ySHRtbDtcbiAgICAgIHRoaXMuZWxlbWVudHMuY2hhcmFjdGVyc0NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdtZDpncmlkLWNvbHMtMicpO1xuICAgIH1cbiAgICBpZiAodGhpcy5lbGVtZW50cy5vcHRpb25zTGlzdCkgdGhpcy5lbGVtZW50cy5vcHRpb25zTGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICBjb25zdCBhY3Rpb25Pd25lclBhcmVudCA9IHRoaXMuZWxlbWVudHMuYWN0aW9uT3duZXI/LnBhcmVudEVsZW1lbnQ7XG4gICAgaWYgKGFjdGlvbk93bmVyUGFyZW50KSBhY3Rpb25Pd25lclBhcmVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9XG5cbiAgZXh0cmFjdEVtb2ppcyh0ZXh0OiBhbnkpOiBzdHJpbmdbXSB7XG4gICAgaWYgKCFfLmlzU3RyaW5nKHRleHQpKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGNvbnN0IGVtb2ppUmVnZXggPSAvW1xcdXsxRjYwMH0tXFx1ezFGNjRGfVxcdXsxRjMwMH0tXFx1ezFGNUZGfVxcdXsxRjkwMH0tXFx1ezFGOUZGfVxcdXsxRkE3MH0tXFx1ezFGQUZGfVxcdXsxRjY4MH0tXFx1ezFGNkZGfVxcdXsxRjFFMH0tXFx1ezFGMUZGfVxcdXsyNjAwfS1cXHV7MjZGRn1cXHV7MjcwMH0tXFx1ezI3QkZ9XS9ndTtcbiAgICByZXR1cm4gdGV4dC5tYXRjaChlbW9qaVJlZ2V4KSB8fCBbXTtcbiAgfVxuXG4gIGZvcm1hdE5vZGVOYW1lKG5hbWU6IGFueSwgcmVtb3ZlQWxsRW1vamkgPSBmYWxzZSk6IHN0cmluZyB7XG4gICAgaWYgKCFfLmlzU3RyaW5nKG5hbWUpICYmICFfLmlzTnVtYmVyKG5hbWUpKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGxldCBjbGVhbk5hbWUgPSBfLnRvU3RyaW5nKG5hbWUpO1xuICAgIGNsZWFuTmFtZSA9IF8ucmVwbGFjZShjbGVhbk5hbWUsIC9eXFxkK1xcLlxccyovLCAnJyk7XG4gICAgaWYgKHJlbW92ZUFsbEVtb2ppKSB7XG4gICAgICBjb25zdCBlbW9qaVJlZ2V4ID0gL1tcXHV7MUY2MDB9LVxcdXsxRjY0Rn1cXHV7MUYzMDB9LVxcdXsxRjVGRn1cXHV7MUY2ODB9LVxcdXsxRjZGRn1cXHV7MUYxRTB9LVxcdXsxRjFGRn1cXHV7MjYwMH0tXFx1ezI2RkZ9XFx1ezI3MDB9LVxcdXsyN0JGfV0vZ3U7XG4gICAgICBjbGVhbk5hbWUgPSBfLnJlcGxhY2UoY2xlYW5OYW1lLCBlbW9qaVJlZ2V4LCAnJyk7XG4gICAgfVxuICAgIHJldHVybiBfLnRyaW0oY2xlYW5OYW1lKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0Q3VzdG9tQWN0aW9uTW9kYWwoKSB7XG4gIGNvbnN0IG1vZGFsID0gJCgnI2N1c3RvbS1hY3Rpb24tbW9kYWwnKTtcbiAgY29uc3QgaW5wdXQgPSAkKCcjY3VzdG9tLWFjdGlvbi1pbnB1dCcpO1xuICBjb25zdCBjb25maXJtQnRuID0gJCgnI2NvbmZpcm0tYWN0aW9uLWJ0bicpO1xuICBjb25zdCBjYW5jZWxCdG4gPSAkKCcjY2FuY2VsLWFjdGlvbi1idG4nKTtcbiAgY29uc3Qgb3B0aW9uc0xpc3QgPSAkKCcjb3B0aW9ucy1saXN0Jyk7XG4gIGxldCBjdXJyZW50VGFyZ2V0OiBKUXVlcnk8SFRNTEVsZW1lbnQ+IHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3Qgc2hvd01vZGFsID0gKHRhcmdldDogSlF1ZXJ5PEhUTUxFbGVtZW50PikgPT4ge1xuICAgIGN1cnJlbnRUYXJnZXQgPSB0YXJnZXQ7XG4gICAgbW9kYWwuaW5zZXJ0QWZ0ZXIodGFyZ2V0KTtcbiAgICBtb2RhbC5yZW1vdmVDbGFzcygnaGlkZGVuJykuYWRkQ2xhc3MoJ2lzLW9wZW4nKTtcbiAgICBpbnB1dC52YWwoJycpLnRyaWdnZXIoJ2ZvY3VzJyk7XG4gIH07XG5cbiAgY29uc3QgaGlkZU1vZGFsID0gKCkgPT4ge1xuICAgIGlmIChjdXJyZW50VGFyZ2V0KSB7XG4gICAgICBtb2RhbC5yZW1vdmVDbGFzcygnaXMtb3BlbicpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgIG9wdGlvbnNMaXN0LmFwcGVuZChtb2RhbCk7XG4gICAgICBjdXJyZW50VGFyZ2V0ID0gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgY29uZmlybUFjdGlvbiA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB1c2VySW5wdXQgPSAoaW5wdXQudmFsKCkgYXMgc3RyaW5nKS50cmltKCk7XG4gICAgaWYgKHVzZXJJbnB1dCkge1xuICAgICAgaGlkZU1vZGFsKCk7XG4gICAgICBjb25zdCBtZXNzYWdlSWQgPSBnZXRDdXJyZW50TWVzc2FnZUlkKCk7XG4gICAgICBjb25zdCB2YXJpYWJsZXMgPSBnZXRWYXJpYWJsZXMoeyB0eXBlOiAnbWVzc2FnZScsIG1lc3NhZ2VfaWQ6IG1lc3NhZ2VJZCB9KTtcbiAgICAgIGNvbnN0IHZhcmlhYmxlc1N0cmluZyA9IEpTT04uc3RyaW5naWZ5KHZhcmlhYmxlcywgbnVsbCwgMik7XG4gICAgICBjb25zdCBjb21tYW5kID0gYC9zZW5kICR7dXNlcklucHV0fVxcblxcbjx2YXJpYWJsZXM+XFxuJHt2YXJpYWJsZXNTdHJpbmd9XFxuPC92YXJpYWJsZXM+IHwgL3RyaWdnZXJgO1xuICAgICAgXG4gICAgICB0b2FzdHIuaW5mbygn5q2j5Zyo5omn6KGM6Ieq5a6a5LmJ6KGM5YqoLi4uJyk7XG4gICAgICBhd2FpdCB0cmlnZ2VyU2xhc2goY29tbWFuZCk7XG4gICAgICB0b2FzdHIuc3VjY2Vzcygn6Ieq5a6a5LmJ6KGM5Yqo5bey5Y+R6YCB77yBJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRvYXN0ci53YXJuaW5nKCfor7fovpPlhaXooYzliqjlhoXlrrnjgIInKTtcbiAgICB9XG4gIH07XG5cbiAgY2FuY2VsQnRuLm9uKCdjbGljaycsIGhpZGVNb2RhbCk7XG4gIGNvbmZpcm1CdG4ub24oJ2NsaWNrJywgY29uZmlybUFjdGlvbik7XG5cbiAgcmV0dXJuIHsgc2hvd01vZGFsIH07XG59XG5cbmZ1bmN0aW9uIGluaXREZXRhaWxzTW9kYWwoKTogeyBzaG93TW9kYWxXaXRoRGF0YTogKGRhdGE6IGFueSkgPT4gdm9pZCB9IHtcbiAgY29uc3QgbW9kYWxPdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RldGFpbHMtbW9kYWwnKTtcbiAgY29uc3QgbW9kYWxUaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbC10aXRsZScpO1xuICBjb25zdCBtb2RhbEJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kYWwtYm9keScpO1xuICBjb25zdCBjbG9zZU1vZGFsQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsLWNsb3NlLWJ0bicpO1xuXG4gIGlmICghbW9kYWxPdmVybGF5IHx8ICFtb2RhbFRpdGxlIHx8ICFtb2RhbEJvZHkgfHwgIWNsb3NlTW9kYWxCdG4pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ+ivpuaDheaooeaAgeahhueahOW/heimgURPTeWFg+e0oOacquaJvuWIsO+8gScpO1xuICB9XG5cbiAgY29uc3QgaGlkZU1vZGFsID0gKCkgPT4gbW9kYWxPdmVybGF5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuXG4gIGNsb3NlTW9kYWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWRlTW9kYWwpO1xuICBtb2RhbE92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgIGlmIChlLnRhcmdldCA9PT0gbW9kYWxPdmVybGF5KSBoaWRlTW9kYWwoKTtcbiAgfSk7XG5cbiAgY29uc3Qgc2hvd01vZGFsV2l0aERhdGEgPSAoZGF0YTogYW55KSA9PiB7XG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnb2JqZWN0JyAmJiBkYXRhICE9PSBudWxsKSB7XG4gICAgICBjb25zdCB0aXRsZUtleSA9IE9iamVjdC5rZXlzKGRhdGEpLmZpbmQoayA9PiBrLmluY2x1ZGVzKCflkI3np7AnKSB8fCBrLmluY2x1ZGVzKCflp5PlkI0nKSk7XG4gICAgICBtb2RhbFRpdGxlLnRleHRDb250ZW50ID0gdGl0bGVLZXkgPyBkYXRhW3RpdGxlS2V5XSA6ICfor6bmg4UnO1xuICAgICAgXG4gICAgICBsZXQgYm9keUh0bWwgPSAnPHVsPic7XG4gICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhkYXRhKSkge1xuICAgICAgICBib2R5SHRtbCArPSBgPGxpPjxzcGFuIGNsYXNzPVwiaXRlbS1rZXlcIj4ke2tleX06PC9zcGFuPiAke3ZhbHVlfTwvbGk+YDtcbiAgICAgIH1cbiAgICAgIGJvZHlIdG1sICs9ICc8L3VsPic7XG4gICAgICBtb2RhbEJvZHkuaW5uZXJIVE1MID0gYm9keUh0bWw7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgbW9kYWxUaXRsZS50ZXh0Q29udGVudCA9ICfor6bmg4UnO1xuICAgICAgbW9kYWxCb2R5LnRleHRDb250ZW50ID0gU3RyaW5nKGRhdGEpO1xuICAgIH1cbiAgICBtb2RhbE92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gIH07XG5cbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgY29uc3QgY2xpY2thYmxlSXRlbSA9IHRhcmdldC5jbG9zZXN0KCcuY2xpY2thYmxlLWl0ZW0nKTtcbiAgICBpZiAoY2xpY2thYmxlSXRlbSkge1xuICAgICAgY29uc3QgZGF0YVN0cmluZyA9IChjbGlja2FibGVJdGVtIGFzIEhUTUxFbGVtZW50KS5kYXRhc2V0LmRldGFpbHM7XG4gICAgICBpZiAoZGF0YVN0cmluZykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGRhdGFTdHJpbmcpO1xuICAgICAgICAgIHNob3dNb2RhbFdpdGhEYXRhKGRhdGEpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwi6Kej5p6Q6K+m5oOF5pWw5o2u5aSx6LSlOlwiLCBlcnIpO1xuICAgICAgICAgIHRvYXN0ci5lcnJvcihcIuaXoOazleaYvuekuuivpuaDheOAglwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHsgc2hvd01vZGFsV2l0aERhdGEgfTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gcmVxdWVzdFN5c3RlbVJlZnJlc2goc3lzdGVtTmFtZTogc3RyaW5nLCBidXR0b246IEpRdWVyeTxIVE1MRWxlbWVudD4pIHtcbiAgY29uc3Qgb3JpZ2luYWxDb250ZW50ID0gYnV0dG9uLmh0bWwoKTtcbiAgYnV0dG9uLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSkuZmluZCgnaScpLmFkZENsYXNzKCdmYS1zcGluJyk7XG4gIFxuICBjb25zdCBjb21tYW5kID0gYC9zZW5kIFtTWVNURU1dIOOAkCR7c3lzdGVtTmFtZX3ns7vnu5/jgJHvvJrigJzorqnmiJHnnIvnnIvigKbigKbmnInku4DkuYjmlrDkuJzopb/lj6/ku6Xnu5nkvaDigKbigKbigJ3vvIjnjqnlrrbor7fmsYLliLfmlrAke3N5c3RlbU5hbWV95YiX6KGo77yJIHwgL3RyaWdnZXJgO1xuICB0b2FzdHIuaW5mbyhg5q2j5Zyo6K+35rGC5Yi35pawJHtzeXN0ZW1OYW1lfS4uLmApO1xuICB0cnkge1xuICAgIGF3YWl0IHRyaWdnZXJTbGFzaChjb21tYW5kKTtcbiAgICB0b2FzdHIuc3VjY2Vzcyhg5Yi35paw6K+35rGC5bey5Y+R6YCB77yBYCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihg5Yi35pawJHtzeXN0ZW1OYW1lfeWksei0pTpgLCBlcnJvcik7XG4gICAgdG9hc3RyLmVycm9yKFwi6K+35rGC5aSx6LSl77yM6K+35p+l55yL5o6n5Yi25Y+w44CCXCIpO1xuICB9IGZpbmFsbHkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgYnV0dG9uLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpLmh0bWwob3JpZ2luYWxDb250ZW50KTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0UmV3YXJkc01vZGFsKCkge1xuICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXdhcmRzLW1vZGFsJyk7XG4gIGNvbnN0IGNsb3NlTW9kYWxCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmV3YXJkcy1tb2RhbC1jbG9zZS1idG4nKTtcbiAgY29uc3QgbW9kYWxCb2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jld2FyZHMtbW9kYWwtYm9keScpO1xuICBjb25zdCByZWZyZXNoQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlZnJlc2gtcmV3YXJkcy1idG4nKTtcblxuICBjb25zdCBoaWRlTW9kYWwgPSAoKSA9PiBtb2RhbD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG5cbiAgY2xvc2VNb2RhbEJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWRlTW9kYWwpO1xuICBtb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgIGlmIChlLnRhcmdldCA9PT0gbW9kYWwpIGhpZGVNb2RhbCgpO1xuICB9KTtcblxuICByZWZyZXNoQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgcmVxdWVzdFN5c3RlbVJlZnJlc2goJ+aIkOWwseWlluWKsScsICQoZS5jdXJyZW50VGFyZ2V0IGFzIEhUTUxFbGVtZW50KSk7XG4gIH0pO1xuXG4gIGNvbnN0IHNob3dNb2RhbFdpdGhSZXdhcmRzID0gKHJld2FyZHNKc29uU3RyaW5nOiBzdHJpbmcsIGN1cnJlbnRQb2ludHM6IG51bWJlcikgPT4ge1xuICAgIGlmICghbW9kYWxCb2R5KSByZXR1cm47XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmV3YXJkc0RhdGEgPSBKU09OLnBhcnNlKHJld2FyZHNKc29uU3RyaW5nKTtcbiAgICAgIGxldCBodG1sID0gYDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXNlY29uZGFyeSBtYi00XCI+JHtyZXdhcmRzRGF0YS5kZXNjcmlwdGlvbiB8fCAnJ308L3A+YDtcbiAgICAgIGNvbnN0IGlzTW9iaWxlID0gd2luZG93LmlubmVyV2lkdGggPCA3Njg7XG5cbiAgICAgIHJld2FyZHNEYXRhLnRpZXJzPy5mb3JFYWNoKCh0aWVyOiBhbnkpID0+IHtcbiAgICAgICAgaHRtbCArPSBgXG4gICAgICAgICAgPGRldGFpbHMgY2xhc3M9XCJncm91cCBib3JkZXItdCBib3JkZXItZGltIG10LTQgcHQtMlwiICR7aXNNb2JpbGUgPyAnJyA6ICdvcGVuJ30+XG4gICAgICAgICAgICA8c3VtbWFyeSBjbGFzcz1cImZvbnQtYm9sZCB0ZXh0LWxnIGN1cnNvci1wb2ludGVyIGhvdmVyOnRleHQtYWNjZW50IHRyYW5zaXRpb24tY29sb3JzIHRoZW1lLXRyYW5zaXRpb24gZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIHB5LTJcIj5cbiAgICAgICAgICAgICAgPHNwYW4+JHt0aWVyLnRpZXJfbmFtZSB8fCAn5aWW5YqxJ30gPHNwYW4gY2xhc3M9XCJ0ZXh0LXNtIHRleHQtc2Vjb25kYXJ5IGZvbnQtbm9ybWFsXCI+KCR7dGllci5jb3N0X3JhbmdlIHx8ICcnfSk8L3NwYW4+PC9zcGFuPlxuICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhcyBmYS1jaGV2cm9uLWRvd24gdHJhbnNpdGlvbi10cmFuc2Zvcm0gZHVyYXRpb24tMzAwIGdyb3VwLW9wZW46cm90YXRlLTE4MFwiPjwvaT5cbiAgICAgICAgICAgIDwvc3VtbWFyeT5cbiAgICAgICAgICAgIDx1bCBjbGFzcz1cInNwYWNlLXktMyBtdC0yXCI+XG4gICAgICAgIGA7XG4gICAgICAgIFxuICAgICAgICB0aWVyLnJld2FyZHM/LmZvckVhY2goKHJld2FyZDogYW55KSA9PiB7XG4gICAgICAgICAgY29uc3QgY2FuQWZmb3JkID0gY3VycmVudFBvaW50cyA+PSByZXdhcmQuY29zdDtcbiAgICAgICAgICBodG1sICs9IGBcbiAgICAgICAgICAgIDxsaSBjbGFzcz1cInAtNCByb3VuZGVkLWxnIGJnLXNlY29uZGFyeSBib3JkZXIgYm9yZGVyLWRpbVwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtc3RhcnRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJmb250LXNlbWlib2xkIHRleHQtcHJpbWFyeVwiPiR7cmV3YXJkLm5hbWUgfHwgJ+acquefpeWlluWKsSd9PC9wPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2Vjb25kYXJ5IG10LTFcIj4ke3Jld2FyZC5kZXNjcmlwdGlvbiB8fCAnJ308L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnRuLXByaW1hcnkgcmVkZWVtLWJ0biB3aGl0ZXNwYWNlLW5vd3JhcCBtbC00IHRleHQtc21cIlxuICAgICAgICAgICAgICAgICAgZGF0YS1uYW1lPVwiJHtyZXdhcmQubmFtZX1cIiBcbiAgICAgICAgICAgICAgICAgIGRhdGEtY29zdD1cIiR7cmV3YXJkLmNvc3R9XCJcbiAgICAgICAgICAgICAgICAgICR7IWNhbkFmZm9yZCA/ICdkaXNhYmxlZCcgOiAnJ31cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAke3Jld2FyZC5jb3N0fSA8aSBjbGFzcz1cImZhcyBmYS1zdGFyIHRleHQteHNcIj48L2k+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICBgO1xuICAgICAgICB9KTtcbiAgICAgICAgaHRtbCArPSAnPC91bD48L2RldGFpbHM+JztcbiAgICAgIH0pO1xuXG4gICAgICBtb2RhbEJvZHkuaW5uZXJIVE1MID0gaHRtbDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIuino+aekOWlluWKsUpTT07lpLHotKU6XCIsIGVycm9yKTtcbiAgICAgIHRvYXN0ci5lcnJvcihcIuaXoOazleino+aekOWlluWKseWIl+ihqOOAglwiKTtcbiAgICAgIG1vZGFsQm9keS5pbm5lckhUTUwgPSBgPHAgY2xhc3M9XCJ0ZXh0LXJlZC00MDBcIj7liqDovb3lpZblirHlpLHotKXvvIzor7fmo4Dmn6XkuJbnlYzkuabmnaHnm67moLzlvI/jgII8L3A+YDtcbiAgICB9XG4gICAgXG4gICAgbW9kYWw/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICB9O1xuXG4gIG1vZGFsQm9keT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZSkgPT4ge1xuICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyZWRlZW0tYnRuJykpIHtcbiAgICAgIGNvbnN0IGl0ZW1OYW1lID0gdGFyZ2V0LmRhdGFzZXQubmFtZTtcbiAgICAgIGNvbnN0IGl0ZW1Db3N0ID0gcGFyc2VJbnQodGFyZ2V0LmRhdGFzZXQuY29zdCB8fCAnMCcsIDEwKTtcbiAgICAgIFxuICAgICAgY29uc3QgY29tbWFuZCA9IGAvc2VuZCBbU1lTVEVNXSBQbGF5ZXIgd2FudHMgdG8gcmVkZWVtIHRoZSByZXdhcmQ6IFwiJHtpdGVtTmFtZX1cIiAoQ29zdDogJHtpdGVtQ29zdH0gcG9pbnRzKS4gfCAvdHJpZ2dlcmA7XG4gICAgICB0b2FzdHIuaW5mbyhg5q2j5Zyo5bCd6K+V5YWR5o2iOiAke2l0ZW1OYW1lfS4uLmApO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdHJpZ2dlclNsYXNoKGNvbW1hbmQpO1xuICAgICAgICB0b2FzdHIuc3VjY2Vzcyhg5YWR5o2i6K+35rGC5bey5Y+R6YCB77yBYCk7XG4gICAgICAgIGhpZGVNb2RhbCgpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIuWFkeaNouWksei0pTpcIiwgZXJyb3IpO1xuICAgICAgICB0b2FzdHIuZXJyb3IoXCLlhZHmjaLlpLHotKXvvIzor7fmn6XnnIvmjqfliLblj7DjgIJcIik7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4geyBzaG93TW9kYWxXaXRoUmV3YXJkcyB9O1xufVxuXG5mdW5jdGlvbiBpbml0UmVtb3RlU3luY01vZGFsKHNob3dNb2RhbFdpdGhEYXRhOiAoZGF0YTogYW55KSA9PiB2b2lkKSB7XG4gIGNvbnN0IG9wZW5Nb2RhbEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZW1vdGUtc3luYy1idG4nKTtcbiAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVtb3RlLXN5bmMtbW9kYWwnKTtcbiAgY29uc3QgY2xvc2VNb2RhbEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZW1vdGUtc3luYy1jbG9zZS1idG4nKTtcbiAgXG4gIGNvbnN0IHRhYnMgPSBtb2RhbD8ucXVlcnlTZWxlY3RvckFsbCgnLm1haW4tdGFiLWJ0bicpO1xuICBjb25zdCBzdWJtaXRUYWIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVtb3RlLXN1Ym1pdC10YWInKTtcbiAgY29uc3QgZmV0Y2hUYWIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVtb3RlLWZldGNoLXRhYicpO1xuICBcbiAgY29uc3QgbG9jYWxEaWZmTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2NhbC1kaWZmLWxpc3QnKTtcbiAgY29uc3QgcmVtb3RlRGlmZkxpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVtb3RlLWRpZmYtbGlzdCcpO1xuXG4gIGNvbnN0IGZldGNoUmVtb3RlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZldGNoLWZyb20tcmVtb3RlLWJ0bicpO1xuICBjb25zdCBzdWJtaXRDb250cm9scyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJtaXQtdG8tcmVtb3RlLWNvbnRyb2xzJyk7XG4gIGNvbnN0IGltcG9ydENvbnRyb2xzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltcG9ydC1mcm9tLXJlbW90ZS1jb250cm9scycpO1xuICBjb25zdCBzdWJtaXRUb1JlbW90ZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJtaXQtdG8tcmVtb3RlLWJ0bicpO1xuICBjb25zdCBpbXBvcnRGcm9tUmVtb3RlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltcG9ydC1mcm9tLXJlbW90ZS1idG4nKTtcblxuICBsZXQgcmVtb3RlRGF0YUNhY2hlOiBSZW1vdGVQb2tlZGV4RGF0YSB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0IHNob3dNb2RhbCA9IGFzeW5jICgpID0+IHtcbiAgICBtb2RhbD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgLy8gRGVmYXVsdCB0byBzdWJtaXQgdGFiXG4gICAgdGFicz8uZm9yRWFjaCh0ID0+IHQuZ2V0QXR0cmlidXRlKCdkYXRhLXRhYicpID09PSAnc3VibWl0JyA/IHQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJykgOiB0LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTtcbiAgICBzdWJtaXRUYWI/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIGZldGNoVGFiPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICBzdWJtaXRDb250cm9scz8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgaW1wb3J0Q29udHJvbHM/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIGZldGNoUmVtb3RlQnRuPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICBhd2FpdCBwb3B1bGF0ZVN1Ym1pdExpc3QoKTtcbiAgfTtcblxuICBjb25zdCBoaWRlTW9kYWwgPSAoKSA9PiBtb2RhbD8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG5cbiAgY29uc3QgcG9wdWxhdGVTdWJtaXRMaXN0ID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghbG9jYWxEaWZmTGlzdCkgcmV0dXJuO1xuICAgIGxvY2FsRGlmZkxpc3QuaW5uZXJIVE1MID0gYDxwIGNsYXNzPVwidGV4dC1jZW50ZXIgdGV4dC1zZWNvbmRhcnkgcC00XCI+5q2j5Zyo6K6h566X5beu5byCLi4uPC9wPmA7XG4gICAgXG4gICAgY29uc3QgbG9jYWxQb2tlZGV4ID0gYXdhaXQgUG9rZWRleC5nZXRQb2tlZGV4RGF0YSgpO1xuICAgIGNvbnN0IGxvY2FsQWNoaWV2ZW1lbnRzID0gYXdhaXQgUG9rZWRleC5nZXRBY2hpZXZlbWVudHMoKTtcbiAgICBjb25zdCByZW1vdGUgPSByZW1vdGVEYXRhQ2FjaGUgfHwgYXdhaXQgUG9rZWRleC5nZXRSZW1vdGVQb2tlZGV4KCk7XG4gICAgaWYgKHJlbW90ZSkgcmVtb3RlRGF0YUNhY2hlID0gcmVtb3RlO1xuXG4gICAgbGV0IGRpZmZIdG1sID0gJyc7XG4gICAgbGV0IGRpZmZDb3VudCA9IDA7XG4gICAgY29uc3QgdHlwZXM6IFNoYXJlYWJsZVR5cGVbXSA9IFsn5aaW5YW9JywgJ+akjeeJqScsICfnianlk4EnLCAn5oiQ5bCxJ107XG5cbiAgICB0eXBlcy5mb3JFYWNoKHR5cGUgPT4ge1xuICAgICAgY29uc3QgbG9jYWxFbnRyaWVzID0gdHlwZSA9PT0gJ+aIkOWwsScgPyBsb2NhbEFjaGlldmVtZW50cyA6IGxvY2FsUG9rZWRleFt0eXBlXTtcbiAgICAgIGNvbnN0IHJlbW90ZUVudHJpZXMgPSByZW1vdGUgPyAocmVtb3RlW3R5cGUgYXMga2V5b2YgUmVtb3RlUG9rZWRleERhdGFdIHx8IFtdKSA6IFtdO1xuICAgICAgY29uc3QgcmVtb3RlTmFtZXMgPSBuZXcgU2V0KHJlbW90ZUVudHJpZXMubWFwKGUgPT4gZS7lkI3np7ApKTtcbiAgICAgIGNvbnN0IGRpZmZFbnRyaWVzID0gbG9jYWxFbnRyaWVzLmZpbHRlcihlID0+ICFyZW1vdGVOYW1lcy5oYXMoZS7lkI3np7ApKTtcbiAgICAgIFxuICAgICAgaWYgKGRpZmZFbnRyaWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZGlmZkNvdW50ICs9IGRpZmZFbnRyaWVzLmxlbmd0aDtcbiAgICAgICAgZGlmZkh0bWwgKz0gYDxoNCBjbGFzcz1cImZvbnQtc2VtaWJvbGQgdGV4dC1wcmltYXJ5LzkwIG10LTIgZmlyc3Q6bXQtMFwiPiR7dHlwZX08L2g0Pjx1bD5gO1xuICAgICAgICBkaWZmRW50cmllcy5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICAgICAgICBkaWZmSHRtbCArPSBgXG4gICAgICAgICAgICA8bGkgY2xhc3M9XCJwLTIgcm91bmRlZC1sZyBiZy1tYWluLzUwIGZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBjdXJzb3ItcG9pbnRlciBmbGV4LWdyb3cgbXItNFwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cIm1yLTNcIiBkYXRhLXR5cGU9XCIke3R5cGV9XCIgZGF0YS1uYW1lPVwiJHtlbnRyeS7lkI3np7B9XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0cnVuY2F0ZVwiIHRpdGxlPVwiJHtlbnRyeS7lkI3np7B9XCI+JHtlbnRyeS7lkI3np7B9PC9zcGFuPlxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3BhY2UteC0yIGZsZXgtc2hyaW5rLTBcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicG9rZWRleC12aWV3LWJ0biB0ZXh0LXNtIHRleHQtYmx1ZS00MDAgaG92ZXI6dGV4dC1ibHVlLTMwMCB0cmFuc2l0aW9uLWNvbG9ycyBwLTFcIiBkYXRhLXR5cGU9XCIke3R5cGV9XCIgZGF0YS1uYW1lPVwiJHtlbnRyeS7lkI3np7B9XCIgZGF0YS1zb3VyY2U9XCJsb2NhbFwiIHRpdGxlPVwi5p+l55yLXCI+PGkgY2xhc3M9XCJmYXMgZmEtZXllXCI+PC9pPjwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvbGk+YDtcbiAgICAgICAgfSk7XG4gICAgICAgIGRpZmZIdG1sICs9IGA8L3VsPmA7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoZGlmZkNvdW50ID09PSAwKSB7XG4gICAgICBsb2NhbERpZmZMaXN0LmlubmVySFRNTCA9IGA8cCBjbGFzcz1cInRleHQtY2VudGVyIHRleHQtc2Vjb25kYXJ5IHAtNFwiPuaBreWWnO+8geaCqOeahOacrOWcsOWbvumJtOW3suWFqOmDqOWQjOatpeiHs+ekvuWMuuOAgjwvcD5gO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhbERpZmZMaXN0LmlubmVySFRNTCA9IGRpZmZIdG1sO1xuICAgIH1cbiAgfTtcblxuICBvcGVuTW9kYWxCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvd01vZGFsKTtcbiAgY2xvc2VNb2RhbEJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWRlTW9kYWwpO1xuICBtb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZSkgPT4ge1xuICAgIGlmIChlLnRhcmdldCA9PT0gbW9kYWwpIHtcbiAgICAgIGhpZGVNb2RhbCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgIGNvbnN0IHZpZXdCdXR0b24gPSB0YXJnZXQuY2xvc2VzdCgnLnBva2VkZXgtdmlldy1idG4nKTtcblxuICAgIGlmICh2aWV3QnV0dG9uKSB7XG4gICAgICBjb25zdCB0eXBlID0gdmlld0J1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtdHlwZScpIGFzIFNoYXJlYWJsZVR5cGU7XG4gICAgICBjb25zdCBuYW1lID0gdmlld0J1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtbmFtZScpO1xuICAgICAgY29uc3Qgc291cmNlID0gdmlld0J1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtc291cmNlJyk7XG5cbiAgICAgIGlmICh0eXBlICYmIG5hbWUgJiYgc291cmNlKSB7XG4gICAgICAgIGxldCBlbnRyeTogUG9rZWRleEVudHJ5IHwgdW5kZWZpbmVkO1xuICAgICAgICBpZiAoc291cmNlID09PSAnbG9jYWwnKSB7XG4gICAgICAgICAgaWYgKHR5cGUgPT09ICfmiJDlsLEnKSB7XG4gICAgICAgICAgICBjb25zdCBsb2NhbEFjaGlldmVtZW50cyA9IGF3YWl0IFBva2VkZXguZ2V0QWNoaWV2ZW1lbnRzKCk7XG4gICAgICAgICAgICBlbnRyeSA9IGxvY2FsQWNoaWV2ZW1lbnRzLmZpbmQoZSA9PiBlLuWQjeensCA9PT0gbmFtZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsUG9rZWRleCA9IGF3YWl0IFBva2VkZXguZ2V0UG9rZWRleERhdGEoKTtcbiAgICAgICAgICAgIGVudHJ5ID0gbG9jYWxQb2tlZGV4W3R5cGUgYXMgUG9rZWRleFR5cGVdPy5maW5kKGUgPT4gZS7lkI3np7AgPT09IG5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzb3VyY2UgPT09ICdyZW1vdGUnICYmIHJlbW90ZURhdGFDYWNoZSkge1xuICAgICAgICAgIGVudHJ5ID0gKHJlbW90ZURhdGFDYWNoZVt0eXBlIGFzIGtleW9mIFJlbW90ZVBva2VkZXhEYXRhXSB8fCBbXSkuZmluZChlID0+IGUu5ZCN56ewID09PSBuYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICAgIHNob3dNb2RhbFdpdGhEYXRhKGVudHJ5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0b2FzdHIud2FybmluZygn5peg5rOV5om+5Yiw6K+l5p2h55uu55qE6K+m57uG5L+h5oGv44CCJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHRhYnM/LmZvckVhY2goYnV0dG9uID0+IHtcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0YWJzLmZvckVhY2goYnRuID0+IGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSk7XG4gICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICBjb25zdCB0YWIgPSBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLXRhYicpO1xuICAgICAgaWYgKHRhYiA9PT0gJ3N1Ym1pdCcpIHtcbiAgICAgICAgc3VibWl0VGFiPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgZmV0Y2hUYWI/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBzdWJtaXRDb250cm9scz8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGltcG9ydENvbnRyb2xzPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgZmV0Y2hSZW1vdGVCdG4/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBwb3B1bGF0ZVN1Ym1pdExpc3QoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN1Ym1pdFRhYj8uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGZldGNoVGFiPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgc3VibWl0Q29udHJvbHM/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBpbXBvcnRDb250cm9scz8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGZldGNoUmVtb3RlQnRuPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgaWYocmVtb3RlRGlmZkxpc3QpIHJlbW90ZURpZmZMaXN0LmlubmVySFRNTCA9IGA8cCBjbGFzcz1cInRleHQtY2VudGVyIHRleHQtc2Vjb25kYXJ5IHAtNFwiPuivt+WFiOeCueWHu+S4i+aWueaMiemSruS7juekvuWMuuiOt+WPluWIl+ihqOOAgjwvcD5gO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICBmZXRjaFJlbW90ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFyZW1vdGVEaWZmTGlzdCkgcmV0dXJuO1xuICAgIHJlbW90ZURpZmZMaXN0LmlubmVySFRNTCA9IGA8cCBjbGFzcz1cInRleHQtY2VudGVyIHRleHQtc2Vjb25kYXJ5IHAtNFwiPuato+WcqOS7juekvuWMuuiOt+WPli4uLjwvcD5gO1xuICAgIFxuICAgIGNvbnN0IGxvY2FsUG9rZWRleCA9IGF3YWl0IFBva2VkZXguZ2V0UG9rZWRleERhdGEoKTtcbiAgICBjb25zdCBsb2NhbEFjaGlldmVtZW50cyA9IGF3YWl0IFBva2VkZXguZ2V0QWNoaWV2ZW1lbnRzKCk7XG4gICAgY29uc3QgcmVtb3RlID0gYXdhaXQgUG9rZWRleC5nZXRSZW1vdGVQb2tlZGV4KCk7XG4gICAgaWYgKCFyZW1vdGUpIHtcbiAgICAgIHJlbW90ZURpZmZMaXN0LmlubmVySFRNTCA9IGA8cCBjbGFzcz1cInRleHQtY2VudGVyIHRleHQtcmVkLTQwMCBwLTRcIj7ojrflj5blpLHotKXvvIzor7fmo4Dmn6XmnI3liqHlmajov57mjqXmiJbmn6XnnIvmjqfliLblj7DjgII8L3A+YDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmVtb3RlRGF0YUNhY2hlID0gcmVtb3RlO1xuXG4gICAgbGV0IGRpZmZIdG1sID0gJyc7XG4gICAgbGV0IGRpZmZDb3VudCA9IDA7XG4gICAgY29uc3QgdHlwZXM6IFNoYXJlYWJsZVR5cGVbXSA9IFsn5aaW5YW9JywgJ+akjeeJqScsICfnianlk4EnLCAn5oiQ5bCxJ107XG5cbiAgICB0eXBlcy5mb3JFYWNoKHR5cGUgPT4ge1xuICAgICAgY29uc3QgbG9jYWxFbnRyaWVzID0gdHlwZSA9PT0gJ+aIkOWwsScgPyBsb2NhbEFjaGlldmVtZW50cyA6IGxvY2FsUG9rZWRleFt0eXBlXTtcbiAgICAgIGNvbnN0IGxvY2FsTmFtZXMgPSBuZXcgU2V0KGxvY2FsRW50cmllcy5tYXAoZSA9PiBlLuWQjeensCkpO1xuICAgICAgY29uc3QgcmVtb3RlRW50cmllcyA9IHJlbW90ZVt0eXBlIGFzIGtleW9mIFJlbW90ZVBva2VkZXhEYXRhXSB8fCBbXTtcbiAgICAgIGNvbnN0IGRpZmZFbnRyaWVzID0gcmVtb3RlRW50cmllcy5maWx0ZXIoZSA9PiAhbG9jYWxOYW1lcy5oYXMoZS7lkI3np7ApKTtcbiAgICAgIFxuICAgICAgaWYgKGRpZmZFbnRyaWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZGlmZkNvdW50ICs9IGRpZmZFbnRyaWVzLmxlbmd0aDtcbiAgICAgICAgZGlmZkh0bWwgKz0gYDxoNCBjbGFzcz1cImZvbnQtc2VtaWJvbGQgdGV4dC1wcmltYXJ5LzkwIG10LTIgZmlyc3Q6bXQtMFwiPiR7dHlwZX08L2g0Pjx1bD5gO1xuICAgICAgICBkaWZmRW50cmllcy5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICAgICAgICBkaWZmSHRtbCArPSBgXG4gICAgICAgICAgICA8bGkgY2xhc3M9XCJwLTIgcm91bmRlZC1sZyBiZy1tYWluLzUwIGZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBjdXJzb3ItcG9pbnRlciBmbGV4LWdyb3cgbXItNFwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cIm1yLTNcIiBkYXRhLXR5cGU9XCIke3R5cGV9XCIgZGF0YS1uYW1lPVwiJHtlbnRyeS7lkI3np7B9XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0cnVuY2F0ZVwiIHRpdGxlPVwiJHtlbnRyeS7lkI3np7B9XCI+JHtlbnRyeS7lkI3np7B9PC9zcGFuPlxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3BhY2UteC0yIGZsZXgtc2hyaW5rLTBcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicG9rZWRleC12aWV3LWJ0biB0ZXh0LXNtIHRleHQtYmx1ZS00MDAgaG92ZXI6dGV4dC1ibHVlLTMwMCB0cmFuc2l0aW9uLWNvbG9ycyBwLTFcIiBkYXRhLXR5cGU9XCIke3R5cGV9XCIgZGF0YS1uYW1lPVwiJHtlbnRyeS7lkI3np7B9XCIgZGF0YS1zb3VyY2U9XCJyZW1vdGVcIiB0aXRsZT1cIuafpeeci1wiPjxpIGNsYXNzPVwiZmFzIGZhLWV5ZVwiPjwvaT48L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2xpPmA7XG4gICAgICAgIH0pO1xuICAgICAgICBkaWZmSHRtbCArPSBgPC91bD5gO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKGRpZmZDb3VudCA9PT0gMCkge1xuICAgICAgcmVtb3RlRGlmZkxpc3QuaW5uZXJIVE1MID0gYDxwIGNsYXNzPVwidGV4dC1jZW50ZXIgdGV4dC1zZWNvbmRhcnkgcC00XCI+5oGt5Zac77yB5oKo55qE5pys5Zyw5Zu+6Ym05LiO56S+5Yy65L+d5oyB5ZCM5q2l44CCPC9wPmA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW90ZURpZmZMaXN0LmlubmVySFRNTCA9IGRpZmZIdG1sO1xuICAgIH1cbiAgfSk7XG5cbiAgc3VibWl0VG9SZW1vdGVCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGNoZWNrYm94ZXMgPSBsb2NhbERpZmZMaXN0Py5xdWVyeVNlbGVjdG9yQWxsPEhUTUxJbnB1dEVsZW1lbnQ+KCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl06Y2hlY2tlZCcpO1xuICAgIGlmICghY2hlY2tib3hlcyB8fCBjaGVja2JveGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdG9hc3RyLndhcm5pbmcoJ+ivt+iHs+WwkemAieaLqeS4gOS4quimgeWIhuS6q+eahOadoeebruOAgicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBwcm92aWRlcklucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb3ZpZGVyLW5hbWUtaW5wdXQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIGNvbnN0IHByb3ZpZGVyTmFtZSA9IHByb3ZpZGVySW5wdXQ/LnZhbHVlLnRyaW0oKSB8fCB1bmRlZmluZWQ7IC8vIFVzZSB1bmRlZmluZWQgaWYgZW1wdHlcblxuICAgIGNvbnN0IGxvY2FsUG9rZWRleCA9IGF3YWl0IFBva2VkZXguZ2V0UG9rZWRleERhdGEoKTtcbiAgICBjb25zdCBsb2NhbEFjaGlldmVtZW50cyA9IGF3YWl0IFBva2VkZXguZ2V0QWNoaWV2ZW1lbnRzKCk7XG4gICAgbGV0IHN1Y2Nlc3NDb3VudCA9IDA7XG5cbiAgICBmb3IgKGNvbnN0IGNiIG9mIGNoZWNrYm94ZXMpIHtcbiAgICAgIGNvbnN0IHR5cGUgPSBjYi5kYXRhc2V0LnR5cGUgYXMgU2hhcmVhYmxlVHlwZTtcbiAgICAgIGNvbnN0IG5hbWUgPSBjYi5kYXRhc2V0Lm5hbWU7XG4gICAgICBpZiAodHlwZSAmJiBuYW1lKSB7XG4gICAgICAgIGNvbnN0IGVudHJ5ID0gdHlwZSA9PT0gJ+aIkOWwsSdcbiAgICAgICAgICA/IGxvY2FsQWNoaWV2ZW1lbnRzLmZpbmQoZSA9PiBlLuWQjeensCA9PT0gbmFtZSlcbiAgICAgICAgICA6IGxvY2FsUG9rZWRleFt0eXBlXS5maW5kKGUgPT4gZS7lkI3np7AgPT09IG5hbWUpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgICAgYXdhaXQgUG9rZWRleC5zdWJtaXRUb0h1Z2dpbmdGYWNlKHR5cGUsIGVudHJ5LCBwcm92aWRlck5hbWUpO1xuICAgICAgICAgIHN1Y2Nlc3NDb3VudCsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGlmIChzdWNjZXNzQ291bnQgPiAwKSB7XG4gICAgICB0b2FzdHIuc3VjY2Vzcyhg5oiQ5Yqf5YiG5Lqr5LqGICR7c3VjY2Vzc0NvdW50fSDkuKrmnaHnm67vvIFgKTtcbiAgICAgIHJlbW90ZURhdGFDYWNoZSA9IG51bGw7IC8vIEludmFsaWRhdGUgY2FjaGVcbiAgICAgIGF3YWl0IHBvcHVsYXRlU3VibWl0TGlzdCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgaW1wb3J0RnJvbVJlbW90ZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgY2hlY2tib3hlcyA9IHJlbW90ZURpZmZMaXN0Py5xdWVyeVNlbGVjdG9yQWxsPEhUTUxJbnB1dEVsZW1lbnQ+KCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl06Y2hlY2tlZCcpO1xuICAgIGlmICghY2hlY2tib3hlcyB8fCBjaGVja2JveGVzLmxlbmd0aCA9PT0gMCB8fCAhcmVtb3RlRGF0YUNhY2hlKSB7XG4gICAgICB0b2FzdHIud2FybmluZygn6K+36Iez5bCR6YCJ5oup5LiA5Liq6KaB5a+85YWl55qE5p2h55uu44CCJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHN1Y2Nlc3NDb3VudCA9IDA7XG4gICAgZm9yIChjb25zdCBjYiBvZiBjaGVja2JveGVzKSB7XG4gICAgICBjb25zdCB0eXBlID0gY2IuZGF0YXNldC50eXBlIGFzIFNoYXJlYWJsZVR5cGU7XG4gICAgICBjb25zdCBuYW1lID0gY2IuZGF0YXNldC5uYW1lO1xuICAgICAgaWYgKHR5cGUgJiYgbmFtZSkge1xuICAgICAgICBjb25zdCBlbnRyeSA9IChyZW1vdGVEYXRhQ2FjaGVbdHlwZSBhcyBrZXlvZiBSZW1vdGVQb2tlZGV4RGF0YV0gfHwgW10pLmZpbmQoZSA9PiBlLuWQjeensCA9PT0gbmFtZSk7XG4gICAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICAgIGxldCBzdWNjZXNzID0gZmFsc2U7XG4gICAgICAgICAgaWYgKHR5cGUgPT09ICfmiJDlsLEnKSB7XG4gICAgICAgICAgICBzdWNjZXNzID0gYXdhaXQgUG9rZWRleC5jcmVhdGVBY2hpZXZlbWVudChlbnRyeSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN1Y2Nlc3MgPSBhd2FpdCBQb2tlZGV4LmNyZWF0ZVBva2VkZXhFbnRyeSh0eXBlLCBlbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICBzdWNjZXNzQ291bnQrKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3VjY2Vzc0NvdW50ID4gMCkge1xuICAgICAgdG9hc3RyLnN1Y2Nlc3MoYOaIkOWKn+WvvOWFpeS6hiAke3N1Y2Nlc3NDb3VudH0g5Liq5paw5p2h55uu5Yiw5oKo55qE5pys5Zyw5Zu+6Ym077yBYCk7XG4gICAgICBoaWRlTW9kYWwoKTtcbiAgICB9XG4gIH0pO1xuXG59XG5cbiQoKCkgPT4ge1xuICBpbml0R2xvYmFsQ29udHJvbHMoKTtcbiAgY29uc3Qgc3RvcnlSZW5kZXJlciA9IG5ldyBTdG9yeVJlbmRlcmVyKCk7XG4gIGNvbnN0IHsgc2hvd01vZGFsV2l0aERhdGEgfSA9IGluaXREZXRhaWxzTW9kYWwoKTtcbiAgaW5pdFBva2VkZXhNYW5hZ2VyKHN0b3J5UmVuZGVyZXIsIHNob3dNb2RhbFdpdGhEYXRhKTtcbiAgaW5pdFJlbW90ZVN5bmNNb2RhbChzaG93TW9kYWxXaXRoRGF0YSk7XG4gIHN0b3J5UmVuZGVyZXIuaW5pdCgpO1xuICBjb25zdCBjdXN0b21BY3Rpb25Nb2RhbCA9IGluaXRDdXN0b21BY3Rpb25Nb2RhbCgpO1xuICBjb25zdCByZXdhcmRzTW9kYWwgPSBpbml0UmV3YXJkc01vZGFsKCk7XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJyNyZWRlZW0tcmV3YXJkcy1idG4nLCBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHRvYXN0ci5pbmZvKCfmraPlnKjojrflj5blpZblirHliJfooaguLi4nKTtcbiAgICAgIGNvbnN0IGJvb2tOYW1lID0gXCLku4DkuYjvvJ/miJHopoHlnKjnjoTlubvkv67ku5nkuJbnlYznp43nlLDvvJ9cIjtcbiAgICAgIGNvbnN0IGVudHJ5S2V5ID0gXCLmiJDlsLHns7vnu5/nmoTlpZblirFcIjtcbiAgICAgIGNvbnN0IHdvcmxkYm9vayA9IGF3YWl0IGdldFdvcmxkYm9vayhib29rTmFtZSk7XG4gICAgICBjb25zdCBlbnRyeSA9IHdvcmxkYm9vay5maW5kKGUgPT4gZS5uYW1lID09PSBlbnRyeUtleSk7XG4gICAgICBcbiAgICAgIGlmIChlbnRyeSAmJiBlbnRyeS5jb250ZW50KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VJZCA9IGdldEN1cnJlbnRNZXNzYWdlSWQoKTtcbiAgICAgICAgY29uc3QgY3VycmVudFZhcnMgPSBnZXRWYXJpYWJsZXMoeyB0eXBlOiAnbWVzc2FnZScsIG1lc3NhZ2VfaWQ6IG1lc3NhZ2VJZCB9KTtcbiAgICAgICAgY29uc3QgY3VycmVudFBvaW50cyA9IF8uZ2V0KGN1cnJlbnRWYXJzLCAn5LiW55WMLuezu+e7ny7miJDlsLHngrnmlbAnLCAwKTtcbiAgICAgICAgcmV3YXJkc01vZGFsLnNob3dNb2RhbFdpdGhSZXdhcmRzKGVudHJ5LmNvbnRlbnQsIGN1cnJlbnRQb2ludHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9hc3RyLndhcm5pbmcoJ+acquaJvuWIsOWPr+WFkeaNoueahOWlluWKseS/oeaBr+OAgicpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwi6I635Y+W5aWW5Yqx5aSx6LSlOlwiLCBlcnJvcik7XG4gICAgICB0b2FzdHIuZXJyb3IoXCLojrflj5blpZblirHliJfooajlpLHotKXvvIzor7fmn6XnnIvmjqfliLblj7DjgIJcIik7XG4gICAgfVxuICB9KTtcblxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnI3NpZ24taW4tYnRuJywgYXN5bmMgKGUpID0+IHtcbiAgICBjb25zdCB0YXJnZXQgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgdGFyZ2V0LnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cbiAgICBjb25zdCBtZXNzYWdlSWQgPSBnZXRDdXJyZW50TWVzc2FnZUlkKCk7XG4gICAgY29uc3QgdmFyaWFibGVzID0gZ2V0VmFyaWFibGVzKHsgdHlwZTogJ21lc3NhZ2UnLCBtZXNzYWdlX2lkOiBtZXNzYWdlSWQgfSk7XG4gICAgY29uc3Qgc3lzdGVtRGF0YSA9IF8uZ2V0KHZhcmlhYmxlcywgJ+S4lueVjC7ns7vnu58nLCB7fSk7XG4gICAgY29uc3QgY29uc2VjdXRpdmVEYXlzID0gc3lzdGVtRGF0YVsn6L+e57ut562+5YiwJ10gfHwgMDtcbiAgICBjb25zdCBtb250aGx5Q2FyZCA9IHN5c3RlbURhdGFbJ+aciOWNoSddIHx8ICfmnKrmv4DmtLsnO1xuXG4gICAgbGV0IHNpZ25Jbk1lc3NhZ2UgPSBgW1NZU1RFTV0g546p5a626KaB6L+b6KGM5q+P5pel562+5Yiw44CCYDtcbiAgICBpZiAobW9udGhseUNhcmQgIT09ICfmnKrmv4DmtLsnKSB7XG4gICAgICAgIHNpZ25Jbk1lc3NhZ2UgKz0gYFxcbuW9k+WJjeaciOWNoeeKtuaAgTogJHttb250aGx5Q2FyZH3jgIJgO1xuICAgIH1cbiAgICBzaWduSW5NZXNzYWdlICs9IGBcXG7lvZPliY3lt7Lov57nu63nrb7liLA6ICR7Y29uc2VjdXRpdmVEYXlzfeWkqeOAgmA7XG5cbiAgICBjb25zdCBjb21tYW5kID0gYC9zZW5kICR7c2lnbkluTWVzc2FnZX0gfCAvdHJpZ2dlcmA7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRyaWdnZXJTbGFzaChjb21tYW5kKTtcbiAgICAgIHRvYXN0ci5zdWNjZXNzKGDnrb7liLDor7fmsYLlt7Llj5HpgIHvvIFgKTtcbiAgICAgIFxuICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpLmdldERhdGUoKTtcbiAgICAgIGNvbnN0IGNhbGVuZGFyR3JpZCA9ICQoJyNjYWxlbmRhci1ncmlkJyk7XG4gICAgICBjb25zdCB0b2RheUNlbGwgPSBjYWxlbmRhckdyaWQuZmluZChgW2RhdGEtZGF5PVwiJHt0b2RheX1cIl1gKTtcbiAgICAgIFxuICAgICAgaWYgKHRvZGF5Q2VsbC5sZW5ndGgpIHtcbiAgICAgICAgdG9kYXlDZWxsLnJlbW92ZUNsYXNzKCdiZy1hY2NlbnQvMzAgdGV4dC1hY2NlbnQgZm9udC1ib2xkIHJpbmctMiByaW5nLWFjY2VudCcpXG4gICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnYmctZ3JlZW4tNTAwLzUwIHRleHQtd2hpdGUnKVxuICAgICAgICAgICAgICAgICAuaHRtbCgnPGkgY2xhc3M9XCJmYXMgZmEtY2hlY2tcIj48L2k+JylcbiAgICAgICAgICAgICAgICAgLmF0dHIoJ3RpdGxlJywgYOesrCR7dG9kYXl95aSp77ya5bey562+5YiwYCk7XG4gICAgICB9XG4gICAgICB0YXJnZXQuaHRtbCgnPGkgY2xhc3M9XCJmYXMgZmEtY2FsZW5kYXItY2hlY2sgbXItMlwiPjwvaT7ku4rml6Xlt7Lnrb7liLAnKTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwi562+5Yiw5aSx6LSlOlwiLCBlcnJvcik7XG4gICAgICB0b2FzdHIuZXJyb3IoXCLnrb7liLDlpLHotKXvvIzor7fmn6XnnIvmjqfliLblj7DjgIJcIik7XG4gICAgICB0YXJnZXQucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG4gICAgfVxuICB9KTtcblxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnI2FjdGl2YXRlLW1vbnRobHktY2FyZC1idG4nLCBhc3luYyAoZSkgPT4ge1xuICAgIGNvbnN0IHRhcmdldCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICB0YXJnZXQucHJvcCgnZGlzYWJsZWQnLCB0cnVlKS50ZXh0KCfor6Lpl67kuK0uLi4nKTtcblxuICAgIGNvbnN0IGNvbW1hbmQgPSBgL3NlbmQgW1NZU1RFTV0g546p5a625oOz6KaB5r+A5rS7562+5Yiw57O757uf55qE5pyI5Y2h77yM6K+35ZGK55+l5r+A5rS75p2h5Lu25ZKM5pWI5p6c44CCIHwgL3RyaWdnZXJgO1xuICAgIHRvYXN0ci5pbmZvKGDmraPlnKjor6Lpl67mv4DmtLvmnaHku7YuLi5gKTtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdHJpZ2dlclNsYXNoKGNvbW1hbmQpO1xuICAgICAgdG9hc3RyLnN1Y2Nlc3MoYOivt+axguW3suWPkemAge+8gWApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwi5r+A5rS75pyI5Y2h5aSx6LSlOlwiLCBlcnJvcik7XG4gICAgICB0b2FzdHIuZXJyb3IoXCLor7fmsYLlpLHotKXvvIzor7fmn6XnnIvmjqfliLblj7DjgIJcIik7XG4gICAgICB0YXJnZXQucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSkudGV4dCgn5r+A5rS7Jyk7XG4gICAgfVxuICB9KTtcblxuICAkKCcjb3B0aW9ucy1saXN0Jykub24oJ2NsaWNrJywgYXN5bmMgKGUpID0+IHtcbiAgICBjb25zdCB0YXJnZXRMaSA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJ2xpJyk7XG4gICAgaWYgKCF0YXJnZXRMaS5sZW5ndGgpIHJldHVybjtcblxuICAgIGNvbnN0IG9wdGlvbnNMaXN0ID0gJCgnI29wdGlvbnMtbGlzdCcpO1xuICAgIGlmIChvcHRpb25zTGlzdC5oYXNDbGFzcygnZGlzYWJsZWQnKSkge1xuICAgICAgdG9hc3RyLmluZm8oJ+ato+WcqOetieW+heWbnuW6lO+8jOivt+eojeWQji4uLicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGFjdGlvblR5cGUgPSB0YXJnZXRMaS5kYXRhKCdhY3Rpb25UeXBlJyk7XG5cbiAgICBpZiAoYWN0aW9uVHlwZSA9PT0gJ2N1c3RvbScpIHtcbiAgICAgIGN1c3RvbUFjdGlvbk1vZGFsLnNob3dNb2RhbCh0YXJnZXRMaSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG9wdGlvblRleHQgPSB0YXJnZXRMaS5kYXRhKCdvcHRpb25UZXh0Jyk7XG4gICAgICBjb25zdCBvcHRpb25JbmRleCA9IHBhcnNlSW50KHRhcmdldExpLmRhdGEoJ29wdGlvbkluZGV4JyksIDEwKTtcblxuICAgICAgaWYgKG9wdGlvblRleHQgJiYgIWlzTmFOKG9wdGlvbkluZGV4KSkge1xuICAgICAgICAvLyDnpoHnlKjmiYDmnInpgInpobnlubbmmL7npLrliqDovb3nirbmgIFcbiAgICAgICAgb3B0aW9uc0xpc3QuYWRkQ2xhc3MoJ2Rpc2FibGVkJykuaHRtbChgXG4gICAgICAgICAgPGxpIGNsYXNzPVwidGV4dC1jZW50ZXIgcHktNCB0ZXh0LXNlY29uZGFyeSB0aGVtZS10cmFuc2l0aW9uXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC01IHctNSBib3JkZXItdC0yIGJvcmRlci1iLTIgYm9yZGVyLWluZGlnby00MDAgbXItM1wiPjwvZGl2PlxuICAgICAgICAgICAgICA8c3Bhbj7nrYnlvoXlvbznlYznmoTlm57lupQuLi48L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICBgKTtcbiAgICAgICAgXG4gICAgICAgIGF3YWl0IHRyaWdnZXJBY3Rpb24ob3B0aW9uVGV4dCwgb3B0aW9uSW5kZXgpO1xuICAgICAgICAvLyDmraTml7bkuI3pnIDopoHlgZrku7vkvZXkuovvvIzlm6DkuLrnlYzpnaLlsIbpmo/mlrDmtojmga/kuIDotbfph43mlrDmuLLmn5NcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuYmFydGVyLWJ0bicsIGFzeW5jIChlKSA9PiB7XG4gICAgY29uc3QgdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIHRhcmdldC5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgIGNvbnN0IG9yaWdpbmFsVGV4dCA9IHRhcmdldC5odG1sKCk7XG4gICAgdGFyZ2V0Lmh0bWwoJzxpIGNsYXNzPVwiZmFzIGZhLXNwaW5uZXIgZmEtc3BpblwiPjwvaT4nKTtcblxuICAgIGNvbnN0IGl0ZW1OYW1lID0gdGFyZ2V0LmRhdGEoJ25hbWUnKTtcbiAgICBjb25zdCBpdGVtQ29zdCA9IHBhcnNlSW50KHRhcmdldC5kYXRhKCdjb3N0JykgfHwgJzAnLCAxMCk7XG5cbiAgICBpZiAoIWl0ZW1OYW1lIHx8IGlzTmFOKGl0ZW1Db3N0KSkge1xuICAgICAgdG9hc3RyLmVycm9yKCfml6Dms5Xojrflj5bnianlk4Hkv6Hmga/jgIInKTtcbiAgICAgIHRhcmdldC5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKS5odG1sKG9yaWdpbmFsVGV4dCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbWVzc2FnZUlkID0gZ2V0Q3VycmVudE1lc3NhZ2VJZCgpO1xuICAgIGNvbnN0IHZhcmlhYmxlcyA9IGdldFZhcmlhYmxlcyh7IHR5cGU6ICdtZXNzYWdlJywgbWVzc2FnZV9pZDogbWVzc2FnZUlkIH0pO1xuICAgIGNvbnN0IG15SXRlbXMgPSBfLmdldCh2YXJpYWJsZXMsICfkuJbnlYwu57O757ufLuaIkeeahOeJqeWTgScsIFtdKTtcbiAgICBjb25zdCB0b3RhbFZhbHVlID0gXy5zdW1CeShteUl0ZW1zLCAoaXRlbTogYW55KSA9PiAoaXRlbVsn5pWw6YePJ10gfHwgMCkgKiAoaXRlbVsn5Lu35YC8J10gfHwgMCkpO1xuXG4gICAgY29uc3QgY29tbWFuZCA9IGAvc2VuZCBbU1lTVEVNXSDjgJDku6XnianmjaLnianns7vnu5/jgJHvvJrigJzlmL/vvIzmnIvlj4vvvIHmiJHnnIvliLDkvaDmg7PnlKjkvaDpgqPloIbku7flgLwgJHt0b3RhbFZhbHVlfSDnmoTlrp3otJ3vvIzmnaXmjaLmiJHnmoTjgJAke2l0ZW1OYW1lfeOAke+8iOS7t+WAvCAke2l0ZW1Db3N0fe+8ieOAguiuqeaIkeaDs+aDs+KApuKApuKAnSB8IC90cmlnZ2VyYDtcbiAgICB0b2FzdHIuaW5mbyhg5q2j5Zyo5bCd6K+V5o2i5Y+WOiAke2l0ZW1OYW1lfS4uLmApO1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0cmlnZ2VyU2xhc2goY29tbWFuZCk7XG4gICAgICB0b2FzdHIuc3VjY2Vzcyhg5o2i5Y+W6K+35rGC5bey5Y+R6YCB77yBYCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCLmjaLlj5blpLHotKU6XCIsIGVycm9yKTtcbiAgICAgIHRvYXN0ci5lcnJvcihcIuaNouWPluWksei0pe+8jOivt+afpeeci+aOp+WItuWPsOOAglwiKTtcbiAgICAgIHRhcmdldC5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKS5odG1sKG9yaWdpbmFsVGV4dCk7XG4gICAgfVxuICB9KTtcblxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnI3JlZnJlc2gtYmFydGVyLWJ0bicsIGFzeW5jIChlKSA9PiB7XG4gICAgcmVxdWVzdFN5c3RlbVJlZnJlc2goJ+S7peeJqeaNoueJqScsICQoZS5jdXJyZW50VGFyZ2V0IGFzIEhUTUxFbGVtZW50KSk7XG4gIH0pO1xufSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田/index.ts\\n\\n}\");\n  },\n  \"./src/什么我要在玄幻修仙世界种田/parser.ts\": \n  /*!*************************************!*\\\n  !*** ./src/什么我要在玄幻修仙世界种田/parser.ts ***!\n  \\*************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n    eval(\"{__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   extractJsonFromStatusBar: () => (/* binding */ extractJsonFromStatusBar)\\n/* harmony export */ });\\n/**\\n * 从完整的消息文本中严格提取 <statusbar>...</statusbar> 块内的 JSON 内容。\\n * @param messageContent - 完整的聊天消息字符串。\\n * @returns 清理后的 JSON 字符串，如果找不到或无效则返回空字符串。\\n */\\nfunction extractJsonFromStatusBar(messageContent) {\\n    if (!messageContent) {\\n        return '';\\n    }\\n    // 第一层过滤: 严格查找并提取 <statusbar>...</statusbar> 之间的内容\\n    const startIndex = messageContent.indexOf('<statusbar>');\\n    const endIndex = messageContent.indexOf('</statusbar>');\\n    if (startIndex === -1 || endIndex === -1 || endIndex <= startIndex) {\\n        console.error('未在消息中找到有效的 <statusbar>...</statusbar> 结构。');\\n        return '';\\n    }\\n    const contentToProcess = messageContent.substring(startIndex + '<statusbar>'.length, endIndex);\\n    // 从 <statusbar> 块内初步提取可能包含 JSON 的字符串\\n    let potentialJsonString;\\n    const jsonRegex = /```json\\\\s*([\\\\s\\\\S]*?)\\\\s*```/;\\n    const match = contentToProcess.match(jsonRegex);\\n    if (match && match[1]) {\\n        potentialJsonString = match[1].trim();\\n    }\\n    else {\\n        potentialJsonString = contentToProcess.trim();\\n    }\\n    // 第二层保险: 从初步提取的字符串中，精确地只获取第一个 '{' 和最后一个 '}' 之间的内容\\n    const firstBracket = potentialJsonString.indexOf('{');\\n    const lastBracket = potentialJsonString.lastIndexOf('}');\\n    if (firstBracket === -1 || lastBracket === -1 || lastBracket <= firstBracket) {\\n        console.error('在 <statusbar> 块内未找到有效的JSON对象结构。内容:', contentToProcess);\\n        return '';\\n    }\\n    const finalJsonString = potentialJsonString.substring(firstBracket, lastBracket + 1);\\n    // 清理并返回最终的 JSON 字符串 (移除尾随逗号)\\n    return finalJsonString.replace(/,(?=\\\\s*?[\\\\]}])/g, '');\\n}\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwL3BhcnNlci50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7Ozs7R0FJRztBQUNJLFNBQVMsd0JBQXdCLENBQUMsY0FBc0I7SUFDN0QsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3BCLE9BQU8sRUFBRSxDQUFDO0lBQ1osQ0FBQztJQUVELGtEQUFrRDtJQUNsRCxNQUFNLFVBQVUsR0FBRyxjQUFjLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQ3pELE1BQU0sUUFBUSxHQUFHLGNBQWMsQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUM7SUFFeEQsSUFBSSxVQUFVLEtBQUssQ0FBQyxDQUFDLElBQUksUUFBUSxLQUFLLENBQUMsQ0FBQyxJQUFJLFFBQVEsSUFBSSxVQUFVLEVBQUUsQ0FBQztRQUNuRSxPQUFPLENBQUMsS0FBSyxDQUFDLDJDQUEyQyxDQUFDLENBQUM7UUFDM0QsT0FBTyxFQUFFLENBQUM7SUFDWixDQUFDO0lBRUQsTUFBTSxnQkFBZ0IsR0FBRyxjQUFjLENBQUMsU0FBUyxDQUFDLFVBQVUsR0FBRyxhQUFhLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBRS9GLHFDQUFxQztJQUNyQyxJQUFJLG1CQUFtQixDQUFDO0lBQ3hCLE1BQU0sU0FBUyxHQUFHLDRCQUE0QixDQUFDO0lBQy9DLE1BQU0sS0FBSyxHQUFHLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUVoRCxJQUFJLEtBQUssSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztRQUN0QixtQkFBbUIsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDeEMsQ0FBQztTQUFNLENBQUM7UUFDTixtQkFBbUIsR0FBRyxnQkFBZ0IsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNoRCxDQUFDO0lBRUQsa0RBQWtEO0lBQ2xELE1BQU0sWUFBWSxHQUFHLG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUN0RCxNQUFNLFdBQVcsR0FBRyxtQkFBbUIsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7SUFFekQsSUFBSSxZQUFZLEtBQUssQ0FBQyxDQUFDLElBQUksV0FBVyxLQUFLLENBQUMsQ0FBQyxJQUFJLFdBQVcsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUM3RSxPQUFPLENBQUMsS0FBSyxDQUFDLG9DQUFvQyxFQUFFLGdCQUFnQixDQUFDLENBQUM7UUFDdEUsT0FBTyxFQUFFLENBQUM7SUFDWixDQUFDO0lBRUQsTUFBTSxlQUFlLEdBQUcsbUJBQW1CLENBQUMsU0FBUyxDQUFDLFlBQVksRUFBRSxXQUFXLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFFckYsNkJBQTZCO0lBQzdCLE9BQU8sZUFBZSxDQUFDLE9BQU8sQ0FBQyxpQkFBaUIsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUN4RCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS8uL3NyYy/ku4DkuYjmiJHopoHlnKjnjoTlubvkv67ku5nkuJbnlYznp43nlLAvcGFyc2VyLnRzPyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIOS7juWujOaVtOeahOa2iOaBr+aWh+acrOS4reS4peagvOaPkOWPliA8c3RhdHVzYmFyPi4uLjwvc3RhdHVzYmFyPiDlnZflhoXnmoQgSlNPTiDlhoXlrrnjgIJcbiAqIEBwYXJhbSBtZXNzYWdlQ29udGVudCAtIOWujOaVtOeahOiBiuWkqea2iOaBr+Wtl+espuS4suOAglxuICogQHJldHVybnMg5riF55CG5ZCO55qEIEpTT04g5a2X56ym5Liy77yM5aaC5p6c5om+5LiN5Yiw5oiW5peg5pWI5YiZ6L+U5Zue56m65a2X56ym5Liy44CCXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0SnNvbkZyb21TdGF0dXNCYXIobWVzc2FnZUNvbnRlbnQ6IHN0cmluZyk6IHN0cmluZyB7XG4gIGlmICghbWVzc2FnZUNvbnRlbnQpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICAvLyDnrKzkuIDlsYLov4fmu6Q6IOS4peagvOafpeaJvuW5tuaPkOWPliA8c3RhdHVzYmFyPi4uLjwvc3RhdHVzYmFyPiDkuYvpl7TnmoTlhoXlrrlcbiAgY29uc3Qgc3RhcnRJbmRleCA9IG1lc3NhZ2VDb250ZW50LmluZGV4T2YoJzxzdGF0dXNiYXI+Jyk7XG4gIGNvbnN0IGVuZEluZGV4ID0gbWVzc2FnZUNvbnRlbnQuaW5kZXhPZignPC9zdGF0dXNiYXI+Jyk7XG5cbiAgaWYgKHN0YXJ0SW5kZXggPT09IC0xIHx8IGVuZEluZGV4ID09PSAtMSB8fCBlbmRJbmRleCA8PSBzdGFydEluZGV4KSB7XG4gICAgY29uc29sZS5lcnJvcign5pyq5Zyo5raI5oGv5Lit5om+5Yiw5pyJ5pWI55qEIDxzdGF0dXNiYXI+Li4uPC9zdGF0dXNiYXI+IOe7k+aehOOAgicpO1xuICAgIHJldHVybiAnJztcbiAgfVxuICBcbiAgY29uc3QgY29udGVudFRvUHJvY2VzcyA9IG1lc3NhZ2VDb250ZW50LnN1YnN0cmluZyhzdGFydEluZGV4ICsgJzxzdGF0dXNiYXI+Jy5sZW5ndGgsIGVuZEluZGV4KTtcblxuICAvLyDku44gPHN0YXR1c2Jhcj4g5Z2X5YaF5Yid5q2l5o+Q5Y+W5Y+v6IO95YyF5ZCrIEpTT04g55qE5a2X56ym5LiyXG4gIGxldCBwb3RlbnRpYWxKc29uU3RyaW5nO1xuICBjb25zdCBqc29uUmVnZXggPSAvYGBganNvblxccyooW1xcc1xcU10qPylcXHMqYGBgLztcbiAgY29uc3QgbWF0Y2ggPSBjb250ZW50VG9Qcm9jZXNzLm1hdGNoKGpzb25SZWdleCk7XG5cbiAgaWYgKG1hdGNoICYmIG1hdGNoWzFdKSB7XG4gICAgcG90ZW50aWFsSnNvblN0cmluZyA9IG1hdGNoWzFdLnRyaW0oKTtcbiAgfSBlbHNlIHtcbiAgICBwb3RlbnRpYWxKc29uU3RyaW5nID0gY29udGVudFRvUHJvY2Vzcy50cmltKCk7XG4gIH1cblxuICAvLyDnrKzkuozlsYLkv53pmak6IOS7juWIneatpeaPkOWPlueahOWtl+espuS4suS4re+8jOeyvuehruWcsOWPquiOt+WPluesrOS4gOS4qiAneycg5ZKM5pyA5ZCO5LiA5LiqICd9JyDkuYvpl7TnmoTlhoXlrrlcbiAgY29uc3QgZmlyc3RCcmFja2V0ID0gcG90ZW50aWFsSnNvblN0cmluZy5pbmRleE9mKCd7Jyk7XG4gIGNvbnN0IGxhc3RCcmFja2V0ID0gcG90ZW50aWFsSnNvblN0cmluZy5sYXN0SW5kZXhPZignfScpO1xuXG4gIGlmIChmaXJzdEJyYWNrZXQgPT09IC0xIHx8IGxhc3RCcmFja2V0ID09PSAtMSB8fCBsYXN0QnJhY2tldCA8PSBmaXJzdEJyYWNrZXQpIHtcbiAgICBjb25zb2xlLmVycm9yKCflnKggPHN0YXR1c2Jhcj4g5Z2X5YaF5pyq5om+5Yiw5pyJ5pWI55qESlNPTuWvueixoee7k+aehOOAguWGheWuuTonLCBjb250ZW50VG9Qcm9jZXNzKTtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICBjb25zdCBmaW5hbEpzb25TdHJpbmcgPSBwb3RlbnRpYWxKc29uU3RyaW5nLnN1YnN0cmluZyhmaXJzdEJyYWNrZXQsIGxhc3RCcmFja2V0ICsgMSk7XG4gIFxuICAvLyDmuIXnkIblubbov5Tlm57mnIDnu4jnmoQgSlNPTiDlrZfnrKbkuLIgKOenu+mZpOWwvumaj+mAl+WPtylcbiAgcmV0dXJuIGZpbmFsSnNvblN0cmluZy5yZXBsYWNlKC8sKD89XFxzKj9bXFxdfV0pL2csICcnKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田/parser.ts\\n\\n}\");\n  },\n  \"./src/什么我要在玄幻修仙世界种田/pokedex.ts\": \n  /*!**************************************!*\\\n  !*** ./src/什么我要在玄幻修仙世界种田/pokedex.ts ***!\n  \\**************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n    eval(\"{__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   createAchievement: () => (/* binding */ createAchievement),\\n/* harmony export */   createPokedexEntry: () => (/* binding */ createPokedexEntry),\\n/* harmony export */   deleteAchievement: () => (/* binding */ deleteAchievement),\\n/* harmony export */   deletePokedexEntry: () => (/* binding */ deletePokedexEntry),\\n/* harmony export */   getAchievements: () => (/* binding */ getAchievements),\\n/* harmony export */   getPokedexData: () => (/* binding */ getPokedexData),\\n/* harmony export */   getRemotePokedex: () => (/* binding */ getRemotePokedex),\\n/* harmony export */   getSystemData: () => (/* binding */ getSystemData),\\n/* harmony export */   readPokedexEntry: () => (/* binding */ readPokedexEntry),\\n/* harmony export */   submitToHuggingFace: () => (/* binding */ submitToHuggingFace),\\n/* harmony export */   updateAchievement: () => (/* binding */ updateAchievement),\\n/* harmony export */   updatePokedexEntry: () => (/* binding */ updatePokedexEntry)\\n/* harmony export */ });\\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ \\\"lodash\\\");\\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);\\n\\nconst POKEDEX_VARIABLE_PATH = '世界.图鉴';\\n/**\\n * 从全局变量中获取完整的图鉴数据\\n * @returns {Promise<PokedexData>}\\n */\\nasync function getPokedexData() {\\n    const variables = getVariables({ type: 'global' });\\n    return lodash__WEBPACK_IMPORTED_MODULE_0___default().get(variables, POKEDEX_VARIABLE_PATH, { 妖兽: [], 植物: [], 物品: [] });\\n}\\n/**\\n * 将完整的图鉴数据保存回全局变量\\n * @param {PokedexData} data - The full pokedex data object.\\n */\\nasync function savePokedexData(data) {\\n    await insertOrAssignVariables({ [POKEDEX_VARIABLE_PATH]: data }, { type: 'global' });\\n}\\n/**\\n * 创建一个新的图鉴条目\\n * @param {PokedexType} type - The type of the entry ('妖兽', '植物', '物品').\\n * @param {PokedexEntry} entryData - The data for the new entry.\\n * @returns {Promise<boolean>} - True if creation was successful, false otherwise.\\n */\\nasync function createPokedexEntry(type, entryData) {\\n    if (!entryData.名称) {\\n        toastr.error('创建失败：条目必须包含“名称”字段。');\\n        return false;\\n    }\\n    const pokedex = await getPokedexData();\\n    if (pokedex[type].some(entry => entry.名称 === entryData.名称)) {\\n        toastr.warning(`创建失败：名为“${entryData.名称}”的${type}已存在。`);\\n        return false;\\n    }\\n    pokedex[type].push(entryData);\\n    await savePokedexData(pokedex);\\n    toastr.success(`成功添加【${entryData.名称}】到${type}图鉴！`);\\n    return true;\\n}\\n/**\\n * 根据名称读取一个特定的图鉴条目\\n * @param {PokedexType} type - The type of the entry.\\n * @param {string} name - The name of the entry to read.\\n * @returns {Promise<PokedexEntry | undefined>}\\n */\\nasync function readPokedexEntry(type, name) {\\n    const pokedex = await getPokedexData();\\n    return pokedex[type].find(entry => entry.名称 === name);\\n}\\n/**\\n * 更新一个现有的图鉴条目\\n * @param {PokedexType} type - The type of the entry.\\n * @param {string} originalName - The original name of the entry to update.\\n * @param {PokedexEntry} updatedData - The new data for the entry.\\n * @returns {Promise<boolean>} - True if update was successful, false otherwise.\\n */\\nasync function updatePokedexEntry(type, originalName, updatedData) {\\n    if (!updatedData.名称) {\\n        toastr.error('更新失败：条目必须包含“名称”字段。');\\n        return false;\\n    }\\n    const pokedex = await getPokedexData();\\n    const entryIndex = pokedex[type].findIndex(entry => entry.名称 === originalName);\\n    if (entryIndex === -1) {\\n        toastr.error(`更新失败：未找到名为“${originalName}”的${type}。`);\\n        return false;\\n    }\\n    // Check for name collision if the name is changed\\n    if (originalName !== updatedData.名称 && pokedex[type].some(entry => entry.名称 === updatedData.名称)) {\\n        toastr.warning(`更新失败：名为“${updatedData.名称}”的${type}已存在。`);\\n        return false;\\n    }\\n    pokedex[type][entryIndex] = updatedData;\\n    await savePokedexData(pokedex);\\n    toastr.success(`成功更新【${updatedData.名称}】！`);\\n    return true;\\n}\\n/**\\n * 删除一个图鉴条目\\n * @param {PokedexType} type - The type of the entry.\\n * @param {string} name - The name of the entry to delete.\\n * @returns {Promise<boolean>} - True if deletion was successful, false otherwise.\\n */\\nasync function deletePokedexEntry(type, name) {\\n    let deleteOccurred = false;\\n    await updateVariablesWith(variables => {\\n        const pokedex = lodash__WEBPACK_IMPORTED_MODULE_0___default().get(variables, POKEDEX_VARIABLE_PATH, { 妖兽: [], 植物: [], 物品: [] });\\n        const initialLength = pokedex[type].length;\\n        pokedex[type] = pokedex[type].filter((entry) => entry.名称 !== name);\\n        if (pokedex[type].length < initialLength) {\\n            deleteOccurred = true;\\n            lodash__WEBPACK_IMPORTED_MODULE_0___default().set(variables, POKEDEX_VARIABLE_PATH, pokedex);\\n        }\\n        return variables;\\n    }, { type: 'global' });\\n    if (deleteOccurred) {\\n        toastr.success(`成功删除【${name}】！`);\\n    }\\n    else {\\n        toastr.warning(`删除失败：未找到名为“${name}”的${type}。`);\\n    }\\n    return deleteOccurred;\\n}\\n/**\\n * 提交新条目到后端服务器\\n * @param {PokedexType} type - The type of the entry.\\n * @param {PokedexEntry} entryData - The data of the new entry.\\n * @param {string} [provider] - Optional name of the provider.\\n */\\nasync function submitToHuggingFace(type, entryData, provider) {\\n    const HUGGING_FACE_API_ENDPOINT = 'https://www-api-forum.rc6s3wcue.nyat.app:59690/api/pokedex';\\n    try {\\n        // 如果有提供者，则添加到条目数据中\\n        const entryWithProvider = provider ? { ...entryData, '贡献者': provider } : entryData;\\n        // 构造与服务器Zod schema匹配的数据格式\\n        const payload = {\\n            type: type,\\n            entry: entryWithProvider,\\n        };\\n        console.log('[Pokedex] Submitting to server:', payload);\\n        const response = await fetch(HUGGING_FACE_API_ENDPOINT, {\\n            method: 'POST',\\n            headers: {\\n                'Content-Type': 'application/json',\\n            },\\n            body: JSON.stringify(payload),\\n        });\\n        if (!response.ok) {\\n            const errorData = await response.json();\\n            console.error('Server responded with an error:', errorData);\\n            throw new Error(`服务器返回错误: ${response.status} - ${errorData.message || '未知错误'}`);\\n        }\\n        const result = await response.json();\\n        console.log('[Pokedex] Submission successful:', result);\\n        toastr.info('新条目已成功分享到社区！');\\n    }\\n    catch (error) {\\n        console.error('[Pokedex] Failed to submit to server:', error);\\n        toastr.error(`分享新条目失败: ${error instanceof Error ? error.message : '请查看控制台'}`);\\n    }\\n}\\n/**\\n * 从后端服务器获取完整的图鉴数据\\n * @returns {Promise<RemotePokedexData | null>}\\n */\\nasync function getRemotePokedex() {\\n    const HUGGING_FACE_API_ENDPOINT = 'https://www-api-forum.rc6s3wcue.nyat.app:59690/api/pokedex';\\n    try {\\n        const response = await fetch(HUGGING_FACE_API_ENDPOINT, {\\n            method: 'GET',\\n            headers: {\\n                'Content-Type': 'application/json',\\n            },\\n        });\\n        if (!response.ok) {\\n            throw new Error(`服务器返回错误: ${response.status}`);\\n        }\\n        const data = await response.json();\\n        // 为空数据提供默认值\\n        const validatedData = {\\n            妖兽: data['妖兽'] || [],\\n            植物: data['植物'] || [],\\n            物品: data['物品'] || [],\\n            成就: data['成就'] || [],\\n        };\\n        return validatedData;\\n    }\\n    catch (error) {\\n        console.error('[Pokedex] Failed to fetch from server:', error);\\n        toastr.error(`从社区获取数据失败: ${error instanceof Error ? error.message : '请查看控制台'}`);\\n        return null;\\n    }\\n}\\nconst ACHIEVEMENT_VARIABLE_PATH = '世界.系统';\\n/**\\n * 从全局变量中获取完整的系统数据\\n * @returns {Promise<any>}\\n */\\nasync function getSystemData() {\\n    const variables = getVariables({ type: 'global' });\\n    return lodash__WEBPACK_IMPORTED_MODULE_0___default().get(variables, ACHIEVEMENT_VARIABLE_PATH, { 已完成: [], 成就点数: 0 });\\n}\\n/**\\n * 将完整的系统数据保存回全局变量\\n * @param {any} data - The full system data object.\\n */\\nasync function saveSystemData(data) {\\n    await insertOrAssignVariables({ [ACHIEVEMENT_VARIABLE_PATH]: data }, { type: 'global' });\\n}\\n/**\\n * 从全局变量中获取所有成就\\n * @returns {Promise<PokedexEntry[]>}\\n */\\nasync function getAchievements() {\\n    const systemData = await getSystemData();\\n    return systemData.已完成 || [];\\n}\\n/**\\n * 创建一个新成就\\n * @param {PokedexEntry} entryData - The data for the new achievement.\\n * @returns {Promise<boolean>} - True if creation was successful, false otherwise.\\n */\\nasync function createAchievement(entryData) {\\n    if (!entryData.名称) {\\n        toastr.error('创建失败：成就必须包含“名称”字段。');\\n        return false;\\n    }\\n    const systemData = await getSystemData();\\n    const achievements = systemData.已完成 || [];\\n    if (achievements.some((ach) => ach.名称 === entryData.名称)) {\\n        toastr.warning(`创建失败：名为“${entryData.名称}”的成就已存在。`);\\n        return false;\\n    }\\n    achievements.push(entryData);\\n    systemData.已完成 = achievements;\\n    // 如果条目数据中有点数，则增加总点数\\n    const pointsToAdd = Number(entryData['点数'] || 0);\\n    if (!isNaN(pointsToAdd)) {\\n        systemData.成就点数 = (systemData.成就点数 || 0) + pointsToAdd;\\n    }\\n    await saveSystemData(systemData);\\n    toastr.success(`成功添加新成就【${entryData.名称}】！`);\\n    return true;\\n}\\n/**\\n * 更新一个现有的成就\\n * @param {string} originalName - The original name of the achievement to update.\\n * @param {PokedexEntry} updatedData - The new data for the achievement.\\n * @returns {Promise<boolean>} - True if update was successful, false otherwise.\\n */\\nasync function updateAchievement(originalName, updatedData) {\\n    if (!updatedData.名称) {\\n        toastr.error('更新失败：成就必须包含“名称”字段。');\\n        return false;\\n    }\\n    const systemData = await getSystemData();\\n    const achievements = systemData.已完成 || [];\\n    const entryIndex = achievements.findIndex((ach) => ach.名称 === originalName);\\n    if (entryIndex === -1) {\\n        toastr.error(`更新失败：未找到名为“${originalName}”的成就。`);\\n        return false;\\n    }\\n    if (originalName !== updatedData.名称 && achievements.some((ach) => ach.名称 === updatedData.名称)) {\\n        toastr.warning(`更新失败：名为“${updatedData.名称}”的成就已存在。`);\\n        return false;\\n    }\\n    const oldEntry = achievements[entryIndex];\\n    const oldPoints = Number(oldEntry['点数'] || 0);\\n    const newPoints = Number(updatedData['点数'] || 0);\\n    achievements[entryIndex] = updatedData;\\n    systemData.已完成 = achievements;\\n    // 更新总点数\\n    if (!isNaN(oldPoints) && !isNaN(newPoints)) {\\n        systemData.成就点数 = (systemData.成就点数 || 0) - oldPoints + newPoints;\\n    }\\n    await saveSystemData(systemData);\\n    toastr.success(`成功更新成就【${updatedData.名称}】！`);\\n    return true;\\n}\\n/**\\n * 删除一个成就\\n * @param {string} name - The name of the achievement to delete.\\n * @returns {Promise<boolean>} - True if deletion was successful, false otherwise.\\n */\\nasync function deleteAchievement(name) {\\n    let deleteOccurred = false;\\n    await updateVariablesWith(variables => {\\n        const systemData = lodash__WEBPACK_IMPORTED_MODULE_0___default().get(variables, ACHIEVEMENT_VARIABLE_PATH, { 已完成: [], 成就点数: 0 });\\n        const achievements = systemData.已完成 || [];\\n        const initialLength = achievements.length;\\n        const entryToDelete = achievements.find((ach) => ach.名称 === name);\\n        if (!entryToDelete) {\\n            return variables; // No change\\n        }\\n        systemData.已完成 = achievements.filter((ach) => ach.名称 !== name);\\n        if (systemData.已完成.length < initialLength) {\\n            deleteOccurred = true;\\n            const pointsToRemove = Number(entryToDelete['点数'] || 0);\\n            if (!isNaN(pointsToRemove)) {\\n                systemData.成就点数 = (systemData.成就点数 || 0) - pointsToRemove;\\n            }\\n            lodash__WEBPACK_IMPORTED_MODULE_0___default().set(variables, ACHIEVEMENT_VARIABLE_PATH, systemData);\\n        }\\n        return variables;\\n    }, { type: 'global' });\\n    if (deleteOccurred) {\\n        toastr.success(`成功删除成就【${name}】！`);\\n    }\\n    else {\\n        toastr.warning(`删除失败：未找到名为“${name}”的成就。`);\\n    }\\n    return deleteOccurred;\\n}\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwL3Bva2VkZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBdUI7QUFldkIsTUFBTSxxQkFBcUIsR0FBRyxPQUFPLENBQUM7QUFFdEM7OztHQUdHO0FBQ0ksS0FBSyxVQUFVLGNBQWM7SUFDbEMsTUFBTSxTQUFTLEdBQUcsWUFBWSxDQUFDLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7SUFDbkQsT0FBTyxpREFBSyxDQUFDLFNBQVMsRUFBRSxxQkFBcUIsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUM3RSxDQUFDO0FBRUQ7OztHQUdHO0FBQ0gsS0FBSyxVQUFVLGVBQWUsQ0FBQyxJQUFpQjtJQUM5QyxNQUFNLHVCQUF1QixDQUFDLEVBQUUsQ0FBQyxxQkFBcUIsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7QUFDdkYsQ0FBQztBQUVEOzs7OztHQUtHO0FBQ0ksS0FBSyxVQUFVLGtCQUFrQixDQUFDLElBQWlCLEVBQUUsU0FBdUI7SUFDakYsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEVBQUUsQ0FBQztRQUNsQixNQUFNLENBQUMsS0FBSyxDQUFDLG9CQUFvQixDQUFDLENBQUM7UUFDbkMsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDO0lBQ0QsTUFBTSxPQUFPLEdBQUcsTUFBTSxjQUFjLEVBQUUsQ0FBQztJQUN2QyxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsRUFBRSxLQUFLLFNBQVMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO1FBQzNELE1BQU0sQ0FBQyxPQUFPLENBQUMsV0FBVyxTQUFTLENBQUMs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QUMsQ0FBQztJQUM1QyxDQUFDO0lBQ0QsT0FBTyxjQUFjLENBQUM7QUFDeEIsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwL3Bva2VkZXgudHM/Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XHJcblxyXG4vLyDlrprkuYnlm77pibTmnaHnm67lkoznsbvlnovnmoTln7rmnKznu5PmnoRcclxuZXhwb3J0IHR5cGUgUG9rZWRleEVudHJ5ID0geyBba2V5OiBzdHJpbmddOiBhbnk7IOWQjeensDogc3RyaW5nIH07XHJcbmV4cG9ydCB0eXBlIFBva2VkZXhUeXBlID0gJ+WmluWFvScgfCAn5qSN54mpJyB8ICfnianlk4EnO1xyXG5leHBvcnQgdHlwZSBTaGFyZWFibGVUeXBlID0gUG9rZWRleFR5cGUgfCAn5oiQ5bCxJztcclxuZXhwb3J0IHR5cGUgUG9rZWRleERhdGEgPSB7XHJcbiAg5aaW5YW9OiBQb2tlZGV4RW50cnlbXTtcclxuICDmpI3niak6IFBva2VkZXhFbnRyeVtdO1xyXG4gIOeJqeWTgTogUG9rZWRleEVudHJ5W107XHJcbn07XHJcbmV4cG9ydCB0eXBlIFJlbW90ZVBva2VkZXhEYXRhID0gUG9rZWRleERhdGEgJiB7XHJcbiAg5oiQ5bCxOiBQb2tlZGV4RW50cnlbXTtcclxufTtcclxuXHJcbmNvbnN0IFBPS0VERVhfVkFSSUFCTEVfUEFUSCA9ICfkuJbnlYwu5Zu+6Ym0JztcclxuXHJcbi8qKlxyXG4gKiDku47lhajlsYDlj5jph4/kuK3ojrflj5blrozmlbTnmoTlm77pibTmlbDmja5cclxuICogQHJldHVybnMge1Byb21pc2U8UG9rZWRleERhdGE+fVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFBva2VkZXhEYXRhKCk6IFByb21pc2U8UG9rZWRleERhdGE+IHtcclxuICBjb25zdCB2YXJpYWJsZXMgPSBnZXRWYXJpYWJsZXMoeyB0eXBlOiAnZ2xvYmFsJyB9KTtcclxuICByZXR1cm4gXy5nZXQodmFyaWFibGVzLCBQT0tFREVYX1ZBUklBQkxFX1BBVEgsIHsg5aaW5YW9OiBbXSwg5qSN54mpOiBbXSwg54mp5ZOBOiBbXSB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOWwhuWujOaVtOeahOWbvumJtOaVsOaNruS/neWtmOWbnuWFqOWxgOWPmOmHj1xyXG4gKiBAcGFyYW0ge1Bva2VkZXhEYXRhfSBkYXRhIC0gVGhlIGZ1bGwgcG9rZWRleCBkYXRhIG9iamVjdC5cclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIHNhdmVQb2tlZGV4RGF0YShkYXRhOiBQb2tlZGV4RGF0YSk6IFByb21pc2U8dm9pZD4ge1xyXG4gIGF3YWl0IGluc2VydE9yQXNzaWduVmFyaWFibGVzKHsgW1BPS0VERVhfVkFSSUFCTEVfUEFUSF06IGRhdGEgfSwgeyB0eXBlOiAnZ2xvYmFsJyB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOWIm+W7uuS4gOS4quaWsOeahOWbvumJtOadoeebrlxyXG4gKiBAcGFyYW0ge1Bva2VkZXhUeXBlfSB0eXBlIC0gVGhlIHR5cGUgb2YgdGhlIGVudHJ5ICgn5aaW5YW9JywgJ+akjeeJqScsICfnianlk4EnKS5cclxuICogQHBhcmFtIHtQb2tlZGV4RW50cnl9IGVudHJ5RGF0YSAtIFRoZSBkYXRhIGZvciB0aGUgbmV3IGVudHJ5LlxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn0gLSBUcnVlIGlmIGNyZWF0aW9uIHdhcyBzdWNjZXNzZnVsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlUG9rZWRleEVudHJ5KHR5cGU6IFBva2VkZXhUeXBlLCBlbnRyeURhdGE6IFBva2VkZXhFbnRyeSk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gIGlmICghZW50cnlEYXRhLuWQjeensCkge1xyXG4gICAgdG9hc3RyLmVycm9yKCfliJvlu7rlpLHotKXvvJrmnaHnm67lv4XpobvljIXlkKvigJzlkI3np7DigJ3lrZfmrrXjgIInKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgY29uc3QgcG9rZWRleCA9IGF3YWl0IGdldFBva2VkZXhEYXRhKCk7XHJcbiAgaWYgKHBva2VkZXhbdHlwZV0uc29tZShlbnRyeSA9PiBlbnRyeS7lkI3np7AgPT09IGVudHJ5RGF0YS7lkI3np7ApKSB7XHJcbiAgICB0b2FzdHIud2FybmluZyhg5Yib5bu65aSx6LSl77ya5ZCN5Li64oCcJHtlbnRyeURhdGEu5ZCN56ewfeKAneeahCR7dHlwZX3lt7LlrZjlnKjjgIJgKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgcG9rZWRleFt0eXBlXS5wdXNoKGVudHJ5RGF0YSk7XHJcbiAgYXdhaXQgc2F2ZVBva2VkZXhEYXRhKHBva2VkZXgpO1xyXG4gIHRvYXN0ci5zdWNjZXNzKGDmiJDlip/mt7vliqDjgJAke2VudHJ5RGF0YS7lkI3np7B944CR5YiwJHt0eXBlfeWbvumJtO+8gWApO1xyXG4gIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG4vKipcclxuICog5qC55o2u5ZCN56ew6K+75Y+W5LiA5Liq54m55a6a55qE5Zu+6Ym05p2h55uuXHJcbiAqIEBwYXJhbSB7UG9rZWRleFR5cGV9IHR5cGUgLSBUaGUgdHlwZSBvZiB0aGUgZW50cnkuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGVudHJ5IHRvIHJlYWQuXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPFBva2VkZXhFbnRyeSB8IHVuZGVmaW5lZD59XHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVhZFBva2VkZXhFbnRyeSh0eXBlOiBQb2tlZGV4VHlwZSwgbmFtZTogc3RyaW5nKTogUHJvbWlzZTxQb2tlZGV4RW50cnkgfCB1bmRlZmluZWQ+IHtcclxuICBjb25zdCBwb2tlZGV4ID0gYXdhaXQgZ2V0UG9rZWRleERhdGEoKTtcclxuICByZXR1cm4gcG9rZWRleFt0eXBlXS5maW5kKGVudHJ5ID0+IGVudHJ5LuWQjeensCA9PT0gbmFtZSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmm7TmlrDkuIDkuKrnjrDmnInnmoTlm77pibTmnaHnm65cclxuICogQHBhcmFtIHtQb2tlZGV4VHlwZX0gdHlwZSAtIFRoZSB0eXBlIG9mIHRoZSBlbnRyeS5cclxuICogQHBhcmFtIHtzdHJpbmd9IG9yaWdpbmFsTmFtZSAtIFRoZSBvcmlnaW5hbCBuYW1lIG9mIHRoZSBlbnRyeSB0byB1cGRhdGUuXHJcbiAqIEBwYXJhbSB7UG9rZWRleEVudHJ5fSB1cGRhdGVkRGF0YSAtIFRoZSBuZXcgZGF0YSBmb3IgdGhlIGVudHJ5LlxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn0gLSBUcnVlIGlmIHVwZGF0ZSB3YXMgc3VjY2Vzc2Z1bCwgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVBva2VkZXhFbnRyeSh0eXBlOiBQb2tlZGV4VHlwZSwgb3JpZ2luYWxOYW1lOiBzdHJpbmcsIHVwZGF0ZWREYXRhOiBQb2tlZGV4RW50cnkpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICBpZiAoIXVwZGF0ZWREYXRhLuWQjeensCkge1xyXG4gICAgdG9hc3RyLmVycm9yKCfmm7TmlrDlpLHotKXvvJrmnaHnm67lv4XpobvljIXlkKvigJzlkI3np7DigJ3lrZfmrrXjgIInKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgY29uc3QgcG9rZWRleCA9IGF3YWl0IGdldFBva2VkZXhEYXRhKCk7XHJcbiAgY29uc3QgZW50cnlJbmRleCA9IHBva2VkZXhbdHlwZV0uZmluZEluZGV4KGVudHJ5ID0+IGVudHJ5LuWQjeensCA9PT0gb3JpZ2luYWxOYW1lKTtcclxuXHJcbiAgaWYgKGVudHJ5SW5kZXggPT09IC0xKSB7XHJcbiAgICB0b2FzdHIuZXJyb3IoYOabtOaWsOWksei0pe+8muacquaJvuWIsOWQjeS4uuKAnCR7b3JpZ2luYWxOYW1lfeKAneeahCR7dHlwZX3jgIJgKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8vIENoZWNrIGZvciBuYW1lIGNvbGxpc2lvbiBpZiB0aGUgbmFtZSBpcyBjaGFuZ2VkXHJcbiAgaWYgKG9yaWdpbmFsTmFtZSAhPT0gdXBkYXRlZERhdGEu5ZCN56ewICYmIHBva2VkZXhbdHlwZV0uc29tZShlbnRyeSA9PiBlbnRyeS7lkI3np7AgPT09IHVwZGF0ZWREYXRhLuWQjeensCkpIHtcclxuICAgIHRvYXN0ci53YXJuaW5nKGDmm7TmlrDlpLHotKXvvJrlkI3kuLrigJwke3VwZGF0ZWREYXRhLuWQjeensH3igJ3nmoQke3R5cGV95bey5a2Y5Zyo44CCYCk7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBwb2tlZGV4W3R5cGVdW2VudHJ5SW5kZXhdID0gdXBkYXRlZERhdGE7XHJcbiAgYXdhaXQgc2F2ZVBva2VkZXhEYXRhKHBva2VkZXgpO1xyXG4gIHRvYXN0ci5zdWNjZXNzKGDmiJDlip/mm7TmlrDjgJAke3VwZGF0ZWREYXRhLuWQjeensH3jgJHvvIFgKTtcclxuICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOWIoOmZpOS4gOS4quWbvumJtOadoeebrlxyXG4gKiBAcGFyYW0ge1Bva2VkZXhUeXBlfSB0eXBlIC0gVGhlIHR5cGUgb2YgdGhlIGVudHJ5LlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBlbnRyeSB0byBkZWxldGUuXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fSAtIFRydWUgaWYgZGVsZXRpb24gd2FzIHN1Y2Nlc3NmdWwsIGZhbHNlIG90aGVyd2lzZS5cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVQb2tlZGV4RW50cnkodHlwZTogUG9rZWRleFR5cGUsIG5hbWU6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gIGxldCBkZWxldGVPY2N1cnJlZCA9IGZhbHNlO1xyXG4gIGF3YWl0IHVwZGF0ZVZhcmlhYmxlc1dpdGgodmFyaWFibGVzID0+IHtcclxuICAgIGNvbnN0IHBva2VkZXggPSBfLmdldCh2YXJpYWJsZXMsIFBPS0VERVhfVkFSSUFCTEVfUEFUSCwgeyDlppblhb06IFtdLCDmpI3niak6IFtdLCDnianlk4E6IFtdIH0pO1xyXG4gICAgY29uc3QgaW5pdGlhbExlbmd0aCA9IHBva2VkZXhbdHlwZV0ubGVuZ3RoO1xyXG4gICAgcG9rZWRleFt0eXBlXSA9IHBva2VkZXhbdHlwZV0uZmlsdGVyKChlbnRyeTogUG9rZWRleEVudHJ5KSA9PiBlbnRyeS7lkI3np7AgIT09IG5hbWUpO1xyXG4gICAgaWYgKHBva2VkZXhbdHlwZV0ubGVuZ3RoIDwgaW5pdGlhbExlbmd0aCkge1xyXG4gICAgICBkZWxldGVPY2N1cnJlZCA9IHRydWU7XHJcbiAgICAgIF8uc2V0KHZhcmlhYmxlcywgUE9LRURFWF9WQVJJQUJMRV9QQVRILCBwb2tlZGV4KTtcclxuICAgIH1cclxuICAgIHJldHVybiB2YXJpYWJsZXM7XHJcbiAgfSwgeyB0eXBlOiAnZ2xvYmFsJyB9KTtcclxuXHJcbiAgaWYgKGRlbGV0ZU9jY3VycmVkKSB7XHJcbiAgICB0b2FzdHIuc3VjY2Vzcyhg5oiQ5Yqf5Yig6Zmk44CQJHtuYW1lfeOAke+8gWApO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0b2FzdHIud2FybmluZyhg5Yig6Zmk5aSx6LSl77ya5pyq5om+5Yiw5ZCN5Li64oCcJHtuYW1lfeKAneeahCR7dHlwZX3jgIJgKTtcclxuICB9XHJcbiAgcmV0dXJuIGRlbGV0ZU9jY3VycmVkO1xyXG59XHJcblxyXG4vKipcclxuICog5o+Q5Lqk5paw5p2h55uu5Yiw5ZCO56uv5pyN5Yqh5ZmoXHJcbiAqIEBwYXJhbSB7UG9rZWRleFR5cGV9IHR5cGUgLSBUaGUgdHlwZSBvZiB0aGUgZW50cnkuXHJcbiAqIEBwYXJhbSB7UG9rZWRleEVudHJ5fSBlbnRyeURhdGEgLSBUaGUgZGF0YSBvZiB0aGUgbmV3IGVudHJ5LlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gW3Byb3ZpZGVyXSAtIE9wdGlvbmFsIG5hbWUgb2YgdGhlIHByb3ZpZGVyLlxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN1Ym1pdFRvSHVnZ2luZ0ZhY2UodHlwZTogU2hhcmVhYmxlVHlwZSwgZW50cnlEYXRhOiBQb2tlZGV4RW50cnksIHByb3ZpZGVyPzogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgY29uc3QgSFVHR0lOR19GQUNFX0FQSV9FTkRQT0lOVCA9ICdodHRwczovL3d3dy1hcGktZm9ydW0ucmM2czN3Y3VlLm55YXQuYXBwOjU5NjkwL2FwaS9wb2tlZGV4JztcclxuXHJcbiAgdHJ5IHtcclxuICAgIC8vIOWmguaenOacieaPkOS+m+iAhe+8jOWImea3u+WKoOWIsOadoeebruaVsOaNruS4rVxyXG4gICAgY29uc3QgZW50cnlXaXRoUHJvdmlkZXIgPSBwcm92aWRlciA/IHsgLi4uZW50cnlEYXRhLCAn6LSh54yu6ICFJzogcHJvdmlkZXIgfSA6IGVudHJ5RGF0YTtcclxuXHJcbiAgICAvLyDmnoTpgKDkuI7mnI3liqHlmahab2Qgc2NoZW1h5Yy56YWN55qE5pWw5o2u5qC85byPXHJcbiAgICBjb25zdCBwYXlsb2FkID0ge1xyXG4gICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICBlbnRyeTogZW50cnlXaXRoUHJvdmlkZXIsXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnNvbGUubG9nKCdbUG9rZWRleF0gU3VibWl0dGluZyB0byBzZXJ2ZXI6JywgcGF5bG9hZCk7XHJcblxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChIVUdHSU5HX0ZBQ0VfQVBJX0VORFBPSU5ULCB7XHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgY29uc29sZS5lcnJvcignU2VydmVyIHJlc3BvbmRlZCB3aXRoIGFuIGVycm9yOicsIGVycm9yRGF0YSk7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihg5pyN5Yqh5Zmo6L+U5Zue6ZSZ6K+vOiAke3Jlc3BvbnNlLnN0YXR1c30gLSAke2Vycm9yRGF0YS5tZXNzYWdlIHx8ICfmnKrnn6XplJnor68nfWApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIGNvbnNvbGUubG9nKCdbUG9rZWRleF0gU3VibWlzc2lvbiBzdWNjZXNzZnVsOicsIHJlc3VsdCk7XHJcbiAgICB0b2FzdHIuaW5mbygn5paw5p2h55uu5bey5oiQ5Yqf5YiG5Lqr5Yiw56S+5Yy677yBJyk7XHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdbUG9rZWRleF0gRmFpbGVkIHRvIHN1Ym1pdCB0byBzZXJ2ZXI6JywgZXJyb3IpO1xyXG4gICAgdG9hc3RyLmVycm9yKGDliIbkuqvmlrDmnaHnm67lpLHotKU6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAn6K+35p+l55yL5o6n5Yi25Y+wJ31gKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDku47lkI7nq6/mnI3liqHlmajojrflj5blrozmlbTnmoTlm77pibTmlbDmja5cclxuICogQHJldHVybnMge1Byb21pc2U8UmVtb3RlUG9rZWRleERhdGEgfCBudWxsPn1cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRSZW1vdGVQb2tlZGV4KCk6IFByb21pc2U8UmVtb3RlUG9rZWRleERhdGEgfCBudWxsPiB7XHJcbiAgY29uc3QgSFVHR0lOR19GQUNFX0FQSV9FTkRQT0lOVCA9ICdodHRwczovL3d3dy1hcGktZm9ydW0ucmM2czN3Y3VlLm55YXQuYXBwOjU5NjkwL2FwaS9wb2tlZGV4JztcclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goSFVHR0lOR19GQUNFX0FQSV9FTkRQT0lOVCwge1xyXG4gICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGDmnI3liqHlmajov5Tlm57plJnor686ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAvLyDkuLrnqbrmlbDmja7mj5Dkvpvpu5jorqTlgLxcclxuICAgIGNvbnN0IHZhbGlkYXRlZERhdGE6IFJlbW90ZVBva2VkZXhEYXRhID0ge1xyXG4gICAgICDlppblhb06IGRhdGFbJ+WmluWFvSddIHx8IFtdLFxyXG4gICAgICDmpI3niak6IGRhdGFbJ+akjeeJqSddIHx8IFtdLFxyXG4gICAgICDnianlk4E6IGRhdGFbJ+eJqeWTgSddIHx8IFtdLFxyXG4gICAgICDmiJDlsLE6IGRhdGFbJ+aIkOWwsSddIHx8IFtdLFxyXG4gICAgfTtcclxuICAgIHJldHVybiB2YWxpZGF0ZWREYXRhO1xyXG5cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignW1Bva2VkZXhdIEZhaWxlZCB0byBmZXRjaCBmcm9tIHNlcnZlcjonLCBlcnJvcik7XHJcbiAgICB0b2FzdHIuZXJyb3IoYOS7juekvuWMuuiOt+WPluaVsOaNruWksei0pTogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICfor7fmn6XnnIvmjqfliLblj7AnfWApO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBBQ0hJRVZFTUVOVF9WQVJJQUJMRV9QQVRIID0gJ+S4lueVjC7ns7vnu58nO1xyXG5cclxuLyoqXHJcbiAqIOS7juWFqOWxgOWPmOmHj+S4reiOt+WPluWujOaVtOeahOezu+e7n+aVsOaNrlxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFN5c3RlbURhdGEoKTogUHJvbWlzZTxhbnk+IHtcclxuICBjb25zdCB2YXJpYWJsZXMgPSBnZXRWYXJpYWJsZXMoeyB0eXBlOiAnZ2xvYmFsJyB9KTtcclxuICByZXR1cm4gXy5nZXQodmFyaWFibGVzLCBBQ0hJRVZFTUVOVF9WQVJJQUJMRV9QQVRILCB7IOW3suWujOaIkDogW10sIOaIkOWwseeCueaVsDogMCB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOWwhuWujOaVtOeahOezu+e7n+aVsOaNruS/neWtmOWbnuWFqOWxgOWPmOmHj1xyXG4gKiBAcGFyYW0ge2FueX0gZGF0YSAtIFRoZSBmdWxsIHN5c3RlbSBkYXRhIG9iamVjdC5cclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIHNhdmVTeXN0ZW1EYXRhKGRhdGE6IGFueSk6IFByb21pc2U8dm9pZD4ge1xyXG4gIGF3YWl0IGluc2VydE9yQXNzaWduVmFyaWFibGVzKHsgW0FDSElFVkVNRU5UX1ZBUklBQkxFX1BBVEhdOiBkYXRhIH0sIHsgdHlwZTogJ2dsb2JhbCcgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDku47lhajlsYDlj5jph4/kuK3ojrflj5bmiYDmnInmiJDlsLFcclxuICogQHJldHVybnMge1Byb21pc2U8UG9rZWRleEVudHJ5W10+fVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFjaGlldmVtZW50cygpOiBQcm9taXNlPFBva2VkZXhFbnRyeVtdPiB7XHJcbiAgY29uc3Qgc3lzdGVtRGF0YSA9IGF3YWl0IGdldFN5c3RlbURhdGEoKTtcclxuICByZXR1cm4gc3lzdGVtRGF0YS7lt7LlrozmiJAgfHwgW107XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDliJvlu7rkuIDkuKrmlrDmiJDlsLFcclxuICogQHBhcmFtIHtQb2tlZGV4RW50cnl9IGVudHJ5RGF0YSAtIFRoZSBkYXRhIGZvciB0aGUgbmV3IGFjaGlldmVtZW50LlxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn0gLSBUcnVlIGlmIGNyZWF0aW9uIHdhcyBzdWNjZXNzZnVsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlQWNoaWV2ZW1lbnQoZW50cnlEYXRhOiBQb2tlZGV4RW50cnkpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICBpZiAoIWVudHJ5RGF0YS7lkI3np7ApIHtcclxuICAgIHRvYXN0ci5lcnJvcign5Yib5bu65aSx6LSl77ya5oiQ5bCx5b+F6aG75YyF5ZCr4oCc5ZCN56ew4oCd5a2X5q6144CCJyk7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIGNvbnN0IHN5c3RlbURhdGEgPSBhd2FpdCBnZXRTeXN0ZW1EYXRhKCk7XHJcbiAgY29uc3QgYWNoaWV2ZW1lbnRzID0gc3lzdGVtRGF0YS7lt7LlrozmiJAgfHwgW107XHJcblxyXG4gIGlmIChhY2hpZXZlbWVudHMuc29tZSgoYWNoOiBQb2tlZGV4RW50cnkpID0+IGFjaC7lkI3np7AgPT09IGVudHJ5RGF0YS7lkI3np7ApKSB7XHJcbiAgICB0b2FzdHIud2FybmluZyhg5Yib5bu65aSx6LSl77ya5ZCN5Li64oCcJHtlbnRyeURhdGEu5ZCN56ewfeKAneeahOaIkOWwseW3suWtmOWcqOOAgmApO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuICBcclxuICBhY2hpZXZlbWVudHMucHVzaChlbnRyeURhdGEpO1xyXG4gIHN5c3RlbURhdGEu5bey5a6M5oiQID0gYWNoaWV2ZW1lbnRzO1xyXG4gIFxyXG4gIC8vIOWmguaenOadoeebruaVsOaNruS4reacieeCueaVsO+8jOWImeWinuWKoOaAu+eCueaVsFxyXG4gIGNvbnN0IHBvaW50c1RvQWRkID0gTnVtYmVyKGVudHJ5RGF0YVsn54K55pWwJ10gfHwgMCk7XHJcbiAgaWYgKCFpc05hTihwb2ludHNUb0FkZCkpIHtcclxuICAgICAgc3lzdGVtRGF0YS7miJDlsLHngrnmlbAgPSAoc3lzdGVtRGF0YS7miJDlsLHngrnmlbAgfHwgMCkgKyBwb2ludHNUb0FkZDtcclxuICB9XHJcblxyXG4gIGF3YWl0IHNhdmVTeXN0ZW1EYXRhKHN5c3RlbURhdGEpO1xyXG4gIHRvYXN0ci5zdWNjZXNzKGDmiJDlip/mt7vliqDmlrDmiJDlsLHjgJAke2VudHJ5RGF0YS7lkI3np7B944CR77yBYCk7XHJcbiAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmm7TmlrDkuIDkuKrnjrDmnInnmoTmiJDlsLFcclxuICogQHBhcmFtIHtzdHJpbmd9IG9yaWdpbmFsTmFtZSAtIFRoZSBvcmlnaW5hbCBuYW1lIG9mIHRoZSBhY2hpZXZlbWVudCB0byB1cGRhdGUuXHJcbiAqIEBwYXJhbSB7UG9rZWRleEVudHJ5fSB1cGRhdGVkRGF0YSAtIFRoZSBuZXcgZGF0YSBmb3IgdGhlIGFjaGlldmVtZW50LlxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn0gLSBUcnVlIGlmIHVwZGF0ZSB3YXMgc3VjY2Vzc2Z1bCwgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUFjaGlldmVtZW50KG9yaWdpbmFsTmFtZTogc3RyaW5nLCB1cGRhdGVkRGF0YTogUG9rZWRleEVudHJ5KTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgaWYgKCF1cGRhdGVkRGF0YS7lkI3np7ApIHtcclxuICAgIHRvYXN0ci5lcnJvcign5pu05paw5aSx6LSl77ya5oiQ5bCx5b+F6aG75YyF5ZCr4oCc5ZCN56ew4oCd5a2X5q6144CCJyk7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIGNvbnN0IHN5c3RlbURhdGEgPSBhd2FpdCBnZXRTeXN0ZW1EYXRhKCk7XHJcbiAgY29uc3QgYWNoaWV2ZW1lbnRzID0gc3lzdGVtRGF0YS7lt7LlrozmiJAgfHwgW107XHJcbiAgY29uc3QgZW50cnlJbmRleCA9IGFjaGlldmVtZW50cy5maW5kSW5kZXgoKGFjaDogUG9rZWRleEVudHJ5KSA9PiBhY2gu5ZCN56ewID09PSBvcmlnaW5hbE5hbWUpO1xyXG5cclxuICBpZiAoZW50cnlJbmRleCA9PT0gLTEpIHtcclxuICAgIHRvYXN0ci5lcnJvcihg5pu05paw5aSx6LSl77ya5pyq5om+5Yiw5ZCN5Li64oCcJHtvcmlnaW5hbE5hbWV94oCd55qE5oiQ5bCx44CCYCk7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBpZiAob3JpZ2luYWxOYW1lICE9PSB1cGRhdGVkRGF0YS7lkI3np7AgJiYgYWNoaWV2ZW1lbnRzLnNvbWUoKGFjaDogUG9rZWRleEVudHJ5KSA9PiBhY2gu5ZCN56ewID09PSB1cGRhdGVkRGF0YS7lkI3np7ApKSB7XHJcbiAgICB0b2FzdHIud2FybmluZyhg5pu05paw5aSx6LSl77ya5ZCN5Li64oCcJHt1cGRhdGVkRGF0YS7lkI3np7B94oCd55qE5oiQ5bCx5bey5a2Y5Zyo44CCYCk7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIFxyXG4gIGNvbnN0IG9sZEVudHJ5ID0gYWNoaWV2ZW1lbnRzW2VudHJ5SW5kZXhdO1xyXG4gIGNvbnN0IG9sZFBvaW50cyA9IE51bWJlcihvbGRFbnRyeVsn54K55pWwJ10gfHwgMCk7XHJcbiAgY29uc3QgbmV3UG9pbnRzID0gTnVtYmVyKHVwZGF0ZWREYXRhWyfngrnmlbAnXSB8fCAwKTtcclxuXHJcbiAgYWNoaWV2ZW1lbnRzW2VudHJ5SW5kZXhdID0gdXBkYXRlZERhdGE7XHJcbiAgc3lzdGVtRGF0YS7lt7LlrozmiJAgPSBhY2hpZXZlbWVudHM7XHJcbiAgXHJcbiAgLy8g5pu05paw5oC754K55pWwXHJcbiAgaWYgKCFpc05hTihvbGRQb2ludHMpICYmICFpc05hTihuZXdQb2ludHMpKSB7XHJcbiAgICAgIHN5c3RlbURhdGEu5oiQ5bCx54K55pWwID0gKHN5c3RlbURhdGEu5oiQ5bCx54K55pWwIHx8IDApIC0gb2xkUG9pbnRzICsgbmV3UG9pbnRzO1xyXG4gIH1cclxuXHJcbiAgYXdhaXQgc2F2ZVN5c3RlbURhdGEoc3lzdGVtRGF0YSk7XHJcbiAgdG9hc3RyLnN1Y2Nlc3MoYOaIkOWKn+abtOaWsOaIkOWwseOAkCR7dXBkYXRlZERhdGEu5ZCN56ewfeOAke+8gWApO1xyXG4gIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG4vKipcclxuICog5Yig6Zmk5LiA5Liq5oiQ5bCxXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGFjaGlldmVtZW50IHRvIGRlbGV0ZS5cclxuICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59IC0gVHJ1ZSBpZiBkZWxldGlvbiB3YXMgc3VjY2Vzc2Z1bCwgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUFjaGlldmVtZW50KG5hbWU6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gIGxldCBkZWxldGVPY2N1cnJlZCA9IGZhbHNlO1xyXG4gIGF3YWl0IHVwZGF0ZVZhcmlhYmxlc1dpdGgodmFyaWFibGVzID0+IHtcclxuICAgIGNvbnN0IHN5c3RlbURhdGEgPSBfLmdldCh2YXJpYWJsZXMsIEFDSElFVkVNRU5UX1ZBUklBQkxFX1BBVEgsIHsg5bey5a6M5oiQOiBbXSwg5oiQ5bCx54K55pWwOiAwIH0pO1xyXG4gICAgY29uc3QgYWNoaWV2ZW1lbnRzID0gc3lzdGVtRGF0YS7lt7LlrozmiJAgfHwgW107XHJcbiAgICBjb25zdCBpbml0aWFsTGVuZ3RoID0gYWNoaWV2ZW1lbnRzLmxlbmd0aDtcclxuICAgIFxyXG4gICAgY29uc3QgZW50cnlUb0RlbGV0ZSA9IGFjaGlldmVtZW50cy5maW5kKChhY2g6IFBva2VkZXhFbnRyeSkgPT4gYWNoLuWQjeensCA9PT0gbmFtZSk7XHJcbiAgICBpZiAoIWVudHJ5VG9EZWxldGUpIHtcclxuICAgICAgcmV0dXJuIHZhcmlhYmxlczsgLy8gTm8gY2hhbmdlXHJcbiAgICB9XHJcblxyXG4gICAgc3lzdGVtRGF0YS7lt7LlrozmiJAgPSBhY2hpZXZlbWVudHMuZmlsdGVyKChhY2g6IFBva2VkZXhFbnRyeSkgPT4gYWNoLuWQjeensCAhPT0gbmFtZSk7XHJcbiAgICBcclxuICAgIGlmIChzeXN0ZW1EYXRhLuW3suWujOaIkC5sZW5ndGggPCBpbml0aWFsTGVuZ3RoKSB7XHJcbiAgICAgIGRlbGV0ZU9jY3VycmVkID0gdHJ1ZTtcclxuICAgICAgY29uc3QgcG9pbnRzVG9SZW1vdmUgPSBOdW1iZXIoZW50cnlUb0RlbGV0ZVsn54K55pWwJ10gfHwgMCk7XHJcbiAgICAgIGlmICghaXNOYU4ocG9pbnRzVG9SZW1vdmUpKSB7XHJcbiAgICAgICAgc3lzdGVtRGF0YS7miJDlsLHngrnmlbAgPSAoc3lzdGVtRGF0YS7miJDlsLHngrnmlbAgfHwgMCkgLSBwb2ludHNUb1JlbW92ZTtcclxuICAgICAgfVxyXG4gICAgICBfLnNldCh2YXJpYWJsZXMsIEFDSElFVkVNRU5UX1ZBUklBQkxFX1BBVEgsIHN5c3RlbURhdGEpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhcmlhYmxlcztcclxuICB9LCB7IHR5cGU6ICdnbG9iYWwnIH0pO1xyXG5cclxuICBpZiAoZGVsZXRlT2NjdXJyZWQpIHtcclxuICAgIHRvYXN0ci5zdWNjZXNzKGDmiJDlip/liKDpmaTmiJDlsLHjgJAke25hbWV944CR77yBYCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRvYXN0ci53YXJuaW5nKGDliKDpmaTlpLHotKXvvJrmnKrmib7liLDlkI3kuLrigJwke25hbWV94oCd55qE5oiQ5bCx44CCYCk7XHJcbiAgfVxyXG4gIHJldHVybiBkZWxldGVPY2N1cnJlZDtcclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田/pokedex.ts\\n\\n}\");\n  },\n  \"./src/什么我要在玄幻修仙世界种田/systems.ts\": \n  /*!**************************************!*\\\n  !*** ./src/什么我要在玄幻修仙世界种田/systems.ts ***!\n  \\**************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n    eval('{__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   renderSystem: () => (/* binding */ renderSystem)\\n/* harmony export */ });\\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ \"lodash\");\\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);\\n\\nfunction initCustomSlider() {\\n    const slider = document.querySelector(\\'.custom-slider\\');\\n    if (!slider)\\n        return;\\n    const track = slider.querySelector(\\'.custom-slider-track\\');\\n    const slides = Array.from(track.children);\\n    const nextButton = slider.querySelector(\\'.slider-nav-btn.next\\');\\n    const prevButton = slider.querySelector(\\'.slider-nav-btn.prev\\');\\n    const counter = slider.querySelector(\\'.slider-counter\\');\\n    if (!track || slides.length === 0 || !nextButton || !prevButton || !counter)\\n        return;\\n    let currentIndex = 0;\\n    const totalSlides = slides.length;\\n    const updateSlider = () => {\\n        const slideWidth = slides[0].offsetWidth;\\n        track.style.transform = `translateX(-${currentIndex * slideWidth}px)`;\\n        // Update counter\\n        counter.textContent = `${currentIndex + 1} / ${totalSlides}`;\\n        // Update button states\\n        prevButton.disabled = currentIndex === 0;\\n        nextButton.disabled = currentIndex === totalSlides - 1;\\n    };\\n    nextButton.addEventListener(\\'click\\', () => {\\n        if (currentIndex < totalSlides - 1) {\\n            currentIndex++;\\n            updateSlider();\\n        }\\n    });\\n    prevButton.addEventListener(\\'click\\', () => {\\n        if (currentIndex > 0) {\\n            currentIndex--;\\n            updateSlider();\\n        }\\n    });\\n    // Initial setup\\n    updateSlider();\\n    // Recalculate on resize\\n    new ResizeObserver(updateSlider).observe(slider);\\n}\\n/**\\n * 渲染技能面板系统\\n * @param systemData - 从变量中获取的系统数据\\n * @param container - 用于渲染的HTML容器元素\\n */\\nfunction renderSkillPanel(systemData, container) {\\n    const skills = systemData[\\'技能\\'] || [];\\n    let contentHtml = \\'\\';\\n    if (skills.length === 0) {\\n        contentHtml = `<p class=\"text-secondary text-sm italic\">${systemData[\\'提示\\'] || \\'尚未获得任何技能。\\'}</p>`;\\n    }\\n    else {\\n        contentHtml = \\'<ul class=\"space-y-3\">\\';\\n        skills.forEach((skill) => {\\n            const name = skill[\\'名称\\'] || \\'未知技能\\';\\n            const level = skill[\\'等级\\'] || 1;\\n            const exp = skill[\\'熟练度\\'] || { value: 0, max: 100 };\\n            const percentage = (exp.value / exp.max) * 100;\\n            contentHtml += `\\r\\n        <li>\\r\\n          <div class=\"flex justify-between items-center mb-1\">\\r\\n            <span class=\"font-semibold text-primary\">${name}</span>\\r\\n            <span class=\"text-sm font-mono text-secondary\">Lv. ${level}</span>\\r\\n          </div>\\r\\n          <div class=\"progress-bar-bg w-full rounded-full h-2.5\">\\r\\n            <div class=\"progress-bar-fg bg-accent h-2.5 rounded-full\" style=\"width: ${percentage}%\"></div>\\r\\n          </div>\\r\\n          <div class=\"text-right text-xs font-mono text-secondary mt-1\">${exp.value} / ${exp.max}</div>\\r\\n        </li>\\r\\n      `;\\n        });\\n        contentHtml += \\'</ul>\\';\\n    }\\n    container.innerHTML = `\\r\\n    <div class=\"bg-main rounded-xl border border-dim p-3.5 shadow-sm card-hover theme-transition\">\\r\\n      <h3 class=\"font-bold text-lg mb-2 pb-1 border-b border-dim theme-transition\">\\r\\n        ⚙️ ${systemData[\\'名称\\'] || \\'技能面板\\'}\\r\\n      </h3>\\r\\n      ${contentHtml}\\r\\n    </div>\\r\\n  `;\\n}\\n/**\\n * 渲染成就系统\\n * @param systemData - 从变量中获取的系统数据\\n * @param container - 用于渲染的HTML容器元素\\n */\\nfunction renderAchievementSystem(systemData, container) {\\n    const points = systemData[\\'成就点数\\'] || 0;\\n    const completed = systemData[\\'已完成\\'] || [];\\n    let achievementsHtml = \\'\\';\\n    if (completed.length === 0) {\\n        achievementsHtml = `<p class=\"text-secondary text-sm italic\">尚未解锁任何成就。</p>`;\\n    }\\n    else {\\n        achievementsHtml = \\'<ul class=\"space-y-3\">\\';\\n        completed.forEach((ach) => {\\n            const name = ach[\\'名称\\'] || \\'未知成就\\';\\n            const desc = ach[\\'描述\\'] || \\'没有描述。\\';\\n            // 将整个成就对象字符串化以用于 data-details\\n            const details = JSON.stringify(ach);\\n            achievementsHtml += `\\r\\n        <li class=\"clickable-item rounded-lg p-3 hover:bg-secondary transition-colors\" data-details=\\'${details}\\'>\\r\\n          <div class=\"flex items-center\">\\r\\n            <i class=\"fas fa-trophy text-yellow-400 mr-3 fa-lg\"></i>\\r\\n            <p class=\"font-semibold text-primary\">${name}</p>\\r\\n          </div>\\r\\n          <p class=\"text-sm text-secondary pl-8 mt-1\">${desc}</p>\\r\\n        </li>\\r\\n      `;\\n        });\\n        achievementsHtml += \\'</ul>\\';\\n    }\\n    container.innerHTML = `\\r\\n    <div class=\"bg-main rounded-xl border border-dim p-3.5 shadow-sm card-hover theme-transition\">\\r\\n      <div class=\"flex justify-between items-center mb-2 pb-1 border-b border-dim\">\\r\\n        <h3 class=\"font-bold text-lg theme-transition\">\\r\\n          🏆 ${systemData[\\'名称\\'] || \\'成就系统\\'}\\r\\n        </h3>\\r\\n        <div class=\"font-bold text-accent text-lg\" title=\"成就点数\">\\r\\n          ${points} <i class=\"fas fa-star text-xs\"></i>\\r\\n        </div>\\r\\n      </div>\\r\\n      ${achievementsHtml}\\r\\n      <div class=\"mt-4 pt-3 border-t border-dim text-center\">\\r\\n        <button id=\"redeem-rewards-btn\" class=\"btn-primary w-full sm:w-auto\">\\r\\n          <i class=\"fas fa-gift mr-2\"></i>兑换奖励\\r\\n        </button>\\r\\n      </div>\\r\\n    </div>\\r\\n  `;\\n}\\nfunction renderBarterSystem(systemData, container) {\\n    const myItems = systemData[\\'我的物品\\'] || [];\\n    const availableItems = systemData[\\'可换取的物品\\'] || [];\\n    const totalValue = lodash__WEBPACK_IMPORTED_MODULE_0___default().sumBy(myItems, (item) => (item[\\'数量\\'] || 0) * (item[\\'价值\\'] || 0));\\n    // --- My Items Section ---\\n    let myItemsHtml = `<div class=\"bg-secondary/30 rounded-lg p-3 shadow-inner\">`;\\n    if (myItems.length > 0) {\\n        myItemsHtml += `<ul class=\"space-y-2 text-sm\">`;\\n        myItems.forEach((item) => {\\n            myItemsHtml += `\\r\\n        <li class=\"flex justify-between items-center p-2 rounded-md bg-main/30\">\\r\\n          <div>\\r\\n            <span class=\"font-semibold text-primary\">${item[\\'名称\\']}</span>\\r\\n            <span class=\"text-xs text-secondary ml-2\">(价值: ${item[\\'价值\\']})</span>\\r\\n          </div>\\r\\n          <span class=\"font-mono text-accent font-semibold\">x ${item[\\'数量\\']}</span>\\r\\n        </li>\\r\\n      `;\\n        });\\n        myItemsHtml += `</ul>`;\\n    }\\n    else {\\n        myItemsHtml += `<p class=\"text-secondary text-sm italic text-center p-4\">你没有可用于交换的物品。</p>`;\\n    }\\n    myItemsHtml += \\'</div>\\';\\n    // --- Available Items Section ---\\n    let availableItemsHtml = `\\r\\n    <div class=\"custom-slider\">\\r\\n      <div class=\"custom-slider-track\">\\r\\n  `;\\n    if (availableItems.length > 0) {\\n        availableItems.forEach((item) => {\\n            const canAfford = totalValue >= (item[\\'价值\\'] || 0);\\n            availableItemsHtml += `\\r\\n        <div class=\"custom-slider-slide\">\\r\\n          <div class=\"bg-main rounded-xl border border-dim shadow-lg overflow-hidden flex flex-col h-full\">\\r\\n            <div class=\"p-4 bg-secondary/30 min-h-[8rem] flex items-center\">\\r\\n                <p class=\"text-secondary text-sm\">${item[\\'描述\\'] || \\'暂无描述\\'}</p>\\r\\n            </div>\\r\\n            <div class=\"p-4 flex flex-col flex-grow\">\\r\\n                <h5 class=\"font-bold text-primary text-lg flex-grow mb-2\">${item[\\'名称\\']}</h5>\\r\\n                <div class=\"flex justify-between items-center mb-4\">\\r\\n                    <span class=\"text-2xl font-bold text-accent\">${item[\\'价值\\']} <i class=\"fas fa-coins text-lg\"></i></span>\\r\\n                    <span class=\"bg-accent/20 text-accent text-xs font-bold px-2 py-1 rounded-full\">库存: ${item[\\'库存\\']}</span>\\r\\n                </div>\\r\\n                <button \\r\\n                    class=\"barter-btn w-full mt-auto bg-accent hover:bg-accent-hover text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 disabled:bg-gray-600 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\\r\\n                    data-name=\"${item[\\'名称\\']}\" \\r\\n                    data-cost=\"${item[\\'价值\\']}\"\\r\\n                    ${!canAfford ? \\'disabled\\' : \\'\\'}\\r\\n                    title=\"${canAfford ? `兑换 ${item[\\'名称\\']}` : `价值不足 (需要 ${item[\\'价值\\']})`}\"\\r\\n                >\\r\\n                    <i class=\"fas fa-exchange-alt\"></i>\\r\\n                    <span>${canAfford ? \\'兑换\\' : \\'价值不足\\'}</span>\\r\\n                </button>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      `;\\n        });\\n    }\\n    else {\\n        availableItemsHtml += `<div class=\"custom-slider-slide\"><p class=\"text-secondary text-sm italic text-center p-4\">当前没有可换取的物品。</p></div>`;\\n    }\\n    availableItemsHtml += `\\r\\n      </div>\\r\\n      <div class=\"slider-controls\">\\r\\n        <button class=\"slider-nav-btn prev\"><i class=\"fas fa-chevron-left\"></i></button>\\r\\n        <span class=\"slider-counter\"></span>\\r\\n        <button class=\"slider-nav-btn next\"><i class=\"fas fa-chevron-right\"></i></button>\\r\\n      </div>\\r\\n    </div>\\r\\n  `;\\n    container.innerHTML = `\\r\\n    <div class=\"bg-main rounded-xl border border-dim p-4 shadow-sm card-hover theme-transition\">\\r\\n      <div class=\"flex justify-between items-center mb-3 pb-2 border-b border-dim\">\\r\\n        <h3 class=\"font-bold text-lg theme-transition flex items-center\">\\r\\n          <i class=\"fas fa-store mr-2 text-accent\"></i> ${systemData[\\'名称\\'] || \\'以物换物\\'}\\r\\n        </h3>\\r\\n        <div class=\"font-bold text-accent text-lg\" title=\"我的总价值\">\\r\\n          ${totalValue} <i class=\"fas fa-coins text-xs\"></i>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\"space-y-6 mt-4\">\\r\\n        <div>\\r\\n          <h4 class=\"font-semibold text-base mb-2 text-primary/80\">我的物品</h4>\\r\\n          ${myItemsHtml}\\r\\n        </div>\\r\\n        <div>\\r\\n          <div class=\"flex justify-between items-center mb-2\">\\r\\n            <h4 class=\"font-semibold text-base text-primary/80\">可换取的物品</h4>\\r\\n            <button id=\"refresh-barter-btn\" class=\"text-sm text-accent hover:text-accent-hover transition-colors p-1 rounded hover:bg-secondary\" title=\"刷新可换取物品\">\\r\\n              <i class=\"fas fa-sync-alt\"></i> 刷新\\r\\n            </button>\\r\\n          </div>\\r\\n          ${availableItemsHtml}\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\"mt-4 pt-3 border-t border-dim text-center\">\\r\\n        <p class=\"text-xs text-secondary\">${systemData[\\'提示\\'] || \\'用你的物品积累价值，换取所需之物。\\'}</p>\\r\\n      </div>\\r\\n    </div>\\r\\n  `;\\n    setTimeout(() => initCustomSlider(), 0);\\n}\\n/**\\n * 渲染签到系统\\n * @param systemData - 从变量中获取的系统数据\\n * @param container - 用于渲染的HTML容器元素\\n */\\nfunction renderSignInSystem(systemData, container) {\\n    const today = new Date().getDate();\\n    const signedInDays = systemData[\\'已签到\\'] || [];\\n    const canSignIn = !signedInDays.includes(today);\\n    const consecutiveDays = systemData[\\'连续签到\\'] || 0;\\n    const monthlyCard = systemData[\\'月卡\\'] || \\'未激活\\';\\n    const monthlyCardHTML = monthlyCard === \\'未激活\\'\\n        ? `${monthlyCard} <button id=\"activate-monthly-card-btn\" class=\"text-xs ml-2 px-2 py-0.5 rounded bg-accent/20 hover:bg-accent/40 text-accent transition-colors\" title=\"向AI询问激活月卡的条件\">激活</button>`\\n        : monthlyCard;\\n    let calendarHtml = \\'<div id=\"calendar-grid\" class=\"grid grid-cols-7 gap-1 text-center text-xs\">\\';\\n    const daysInMonth = new Date(new Date().getFullYear(), new Date().getMonth() + 1, 0).getDate();\\n    for (let i = 1; i <= daysInMonth; i++) {\\n        const isToday = i === today;\\n        const isSignedIn = signedInDays.includes(i);\\n        let dayClass = \\'w-8 h-8 flex items-center justify-center rounded-full transition-colors duration-300 \\';\\n        if (isToday && !isSignedIn) { // Only apply special style if it\\'s today AND not signed in yet\\n            dayClass += \\'bg-accent/30 text-accent font-bold ring-2 ring-accent \\';\\n        }\\n        else {\\n            dayClass += \\'bg-secondary/50 \\';\\n        }\\n        if (isSignedIn) {\\n            dayClass += \\'bg-green-500/50 text-white\\';\\n            calendarHtml += `<div class=\"${dayClass}\" title=\"第${i}天：已签到\" data-day=\"${i}\"><i class=\"fas fa-check\"></i></div>`;\\n        }\\n        else {\\n            calendarHtml += `<div class=\"${dayClass}\" title=\"第${i}天：未签到\" data-day=\"${i}\">${i}</div>`;\\n        }\\n    }\\n    calendarHtml += \\'</div>\\';\\n    container.innerHTML = `\\r\\n    <div class=\"bg-main rounded-xl border border-dim p-3.5 shadow-sm card-hover theme-transition\">\\r\\n      <h3 class=\"font-bold text-lg mb-3 pb-2 border-b border-dim theme-transition\">\\r\\n        🗓️ ${systemData[\\'名称\\'] || \\'签到系统\\'}\\r\\n      </h3>\\r\\n      <div class=\"space-y-4\">\\r\\n        ${calendarHtml}\\r\\n        <div class=\"text-center text-sm text-secondary space-y-1 pt-2\">\\r\\n            <p>连续签到: <span class=\"font-bold text-accent\">${consecutiveDays}</span> 天</p>\\r\\n            <p>月卡状态: <span class=\"font-bold text-accent\">${monthlyCardHTML}</span></p>\\r\\n        </div>\\r\\n        <button id=\"sign-in-btn\" class=\"btn-primary w-full\" ${!canSignIn ? \\'disabled\\' : \\'\\'}>\\r\\n          <i class=\"fas fa-calendar-check mr-2\"></i>${canSignIn ? \\'今日签到\\' : \\'今日已签到\\'}\\r\\n        </button>\\r\\n      </div>\\r\\n    </div>\\r\\n  `;\\n}\\n/**\\n * 系统渲染的主函数\\n * @param systemData - 从变量中获取的系统数据\\n * @param container - 用于渲染的HTML容器元素\\n */\\nfunction renderSystem(systemData, container) {\\n    if (!systemData || lodash__WEBPACK_IMPORTED_MODULE_0___default().isEmpty(systemData)) {\\n        container.innerHTML = `\\r\\n      <div class=\"text-center py-4 text-secondary theme-transition italic\">\\r\\n        <i class=\"fas fa-info-circle mr-1\"></i>未绑定系统\\r\\n      </div>\\r\\n    `;\\n        return;\\n    }\\n    const systemName = systemData[\\'名称\\'];\\n    switch (systemName) {\\n        case \\'技能面板\\':\\n            renderSkillPanel(systemData, container);\\n            break;\\n        case \\'成就系统\\':\\n            renderAchievementSystem(systemData, container);\\n            break;\\n        case \\'以物换物系统\\':\\n            renderBarterSystem(systemData, container);\\n            break;\\n        case \\'签到系统\\':\\n            renderSignInSystem(systemData, container);\\n            break;\\n        // 在这里可以为其他系统添加 case\\n        default:\\n            container.innerHTML = `\\r\\n        <div class=\"text-center py-4 text-secondary theme-transition italic\">\\r\\n          <i class=\"fas fa-question-circle mr-1\"></i>未知的系统类型: ${systemName}\\r\\n        </div>\\r\\n      `;\\n            break;\\n    }\\n}\\n//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwL3N5c3RlbXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXVCO0FBRXZCLFNBQVMsZ0JBQWdCO0lBQ3ZCLE1BQU0sTUFBTSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsZ0JBQWdCLENBQWdCLENBQUM7SUFDdkUsSUFBSSxDQUFDLE1BQU07UUFBRSxPQUFPO0lBRXBCLE1BQU0sS0FBSyxHQUFHLE1BQU0sQ0FBQyxhQUFhLENBQUMsc0JBQXNCLENBQWdCLENBQUM7SUFDMUUsTUFBTSxNQUFNLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFrQixDQUFDO0lBQzNELE1BQU0sVUFBVSxHQUFHLE1BQU0sQ0FBQyxhQUFhLENBQUMsc0JBQXNCLENBQXNCLENBQUM7SUFDckYsTUFBTSxVQUFVLEdBQUcsTUFBTSxDQUFDLGFBQWEsQ0FBQyxzQkFBc0IsQ0FBc0IsQ0FBQztJQUNyRixNQUFNLE9BQU8sR0FBRyxNQUFNLENBQUMsYUFBYSxDQUFDLGlCQUFpQixDQUFnQixDQUFDO0lBRXZFLElBQUksQ0FBQyxLQUFLLElBQUksTUFBTSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksQ0FBQyxVQUFVLElBQUksQ0FBQyxVQUFVLElBQUksQ0FBQyxPQUFPO1FBQUUsT0FBTztJQUVwRixJQUFJLFlBQVksR0FBRyxDQUFDLENBQUM7SUFDckIsTUFBTSxXQUFXLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztJQUVsQyxNQUFNLFlBQVksR0FBRyxHQUFHLEVBQUU7UUFDeEIsTUFBTSxVQUFVLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQztRQUN6QyxLQUFLLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxlQUFlLFlBQVksR0FBRyxVQUFVLEtBQUssQ0FBQztRQUV0RSxpQkFBaUI7UUFDakIsT0FBTyxDQUFDLFdBQVcsR0FBRyxHQUFHLFlBQVksR0FBRyxDQUFDLE1BQU0sV0FBVyxFQUFFLENBQUM7UUFFN0QsdUJBQXVCO1FBQ3ZCLFVBQVUsQ0FBQyxRQUFRLEdBQUcsWUFBWSxLQUFLLENBQUMsQ0FBQztRQUN6QyxVQUFVLENBQUMsUUFBUSxHQUFHLFlBQVksS0FBSyxXQUFXLEdBQUcsQ0FBQyxDQUFDO0lBQ3pELENBQUMsQ0FBQztJQUVGLFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFO1FBQ3hDLElBQUksWUFBWSxHQUFHLFdBQVcsR0FBRyxDQUFDLEVBQUUsQ0FBQztZQUNuQyxZQUFZLEVBQUUsQ0FBQztZQUNmLFlBQVksRUFBRSxDQUFDO1FBQ2pCLENBQUM7SUFDSCxDQUFDLENBQUMsQ0FBQztJQUVILFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFO1FBQ3hDLElBQUksWUFBWSxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQ3JCLFlBQVksRUFBRSxDQUFDO1lBQ2YsWUFBWSxFQUFFLENBQUM7UUFDakIsQ0FBQztJQUNILENBQUMsQ0FBQyxDQUFDO0lBRUgsZ0JBQWdCO0lBQ2hCLFlBQVksRUFBRSxDQUFDO0lBRWYsd0JBQXdCO0lBQ3hCLElBQUksY0FBYyxDQUFDLFlBQVksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUNuRCxDQUFDO0FBRUQ7Ozs7R0FJRztBQUNILFNBQVMsZ0JBQWdCLENBQUMsVUFBZSxFQUFFLFNBQXNCO0lBQy9ELE1BQU0sTUFBTSxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDdEMsSUFBSSxXQUFXLEdBQUcsRUFBRSxDQUFDO0lBRXJCLElBQUksTUFBTSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUUsQ0FBQztRQUN4QixXQUFXLEdBQUcsNENBQTRDLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxXQUFXLE1BQU0sQ0FBQztJQUNsRyxDQUFDO1NBQU0sQ0FBQztRQUNOLFdBQVcsR0FBRyx3QkFBd0IsQ0FBQztRQUN2QyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBVSxFQUFFLEVBQUU7WUFDNUIsTUFBTSxJQUFJLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLE1BQU0sQ0FBQztZQUNuQyxNQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQy9CLE1BQU0sR0FBRyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDO1lBQ25ELE1BQU0sVUFBVSxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDO1lBRS9DLFdBQVcsSUFBSTs7O3VEQUdrQyxJQUFJO2lFQUNNLEtBQUs7OztzRkFHZ0IsVUFBVTs7MEVBRXRCLEdBQUcsQ0FBQyxLQUFLLE1BQU0sR0FBRyxDQUFDLEdBQUc7O09BRXpGLENBQUM7UUFDSixDQUFDLENBQUMsQ0FBQztRQUNILFdBQVcsSUFBSSxPQUFPLENBQUM7SUFDekIsQ0FBQztJQUVELFNBQVMsQ0FBQyxTQUFTLEdBQUc7OzthQUdYLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxNQUFNOztRQUUvQixXQUFXOztHQUVoQixDQUFDO0FBQ0osQ0FBQztBQUVEOzs7O0dBSUc7QUFDSCxTQUFTLHVCQUF1QixDQUFDLFVBQWUsRUFBRSxTQUFzQjtJQUN0RSxNQUFNLE1BQU0sR0FBRyxVQUFVLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3ZDLE1BQU0sU0FBUyxHQUFHLFVBQVUsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUM7SUFFMUMsSUFBSSxnQkFBZ0IsR0FBRyxFQUFFLENBQUM7SUFDMUIsSUFBSSxTQUFTLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRSxDQUFDO1FBQzNCLGdCQUFnQixHQUFHLHdEQUF3RCxDQUFDO0lBQzlFLENBQUM7U0FBTSxDQUFDO1FBQ04sZ0JBQWdCLEdBQUcsd0JBQXdCLENBQUM7UUFDNUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQVEsRUFBRSxFQUFFO1lBQzdCLE1BQU0sSUFBSSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxNQUFNLENBQUM7WUFDakMsTUFBTSxJQUFJLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLE9BQU8sQ0FBQztZQUNsQyw4QkFBOEI7WUFDOUIsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUVwQyxnQkFBZ0IsSUFBSTt1R0FDNkUsT0FBTzs7O29EQUcxRCxJQUFJOzt3REFFQSxJQUFJOztPQUVyRCxDQUFDO1FBQ0osQ0FBQyxDQUFDLENBQUM7UUFDSCxnQkFBZ0IsSUFBSSxPQUFPLENBQUM7SUFDOUIsQ0FBQztJQUVELFNBQVMsQ0FBQyxTQUFTLEdBQUc7Ozs7ZUFJVCxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksTUFBTTs7O1lBRzdCLE1BQU07OztRQUdWLGdCQUFnQjs7Ozs7OztHQU9yQixDQUFDO0FBQ0osQ0FBQztBQUVELFNBQVMsa0JBQWtCLENBQUMsVUFBZSxFQUFFLFNBQXNCO0lBQ2pFLE1BQU0sT0FBTyxHQUFHLFVBQVUsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDekMsTUFBTSxjQUFjLEdBQUcsVUFBVSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNsRCxNQUFNLFVBQVUsR0FBRyxtREFBTyxDQUFDLE9BQU8sRUFBRSxDQUFDLElBQVMsRUFBRSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUUxRiwyQkFBMkI7SUFDM0IsSUFBSSxXQUFXLEdBQUcsMkRBQTJELENBQUM7SUFDOUUsSUFBSSxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDO1FBQ3ZCLFdBQVcsSUFBSSxnQ0FBZ0MsQ0FBQztRQUNoRCxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBUyxFQUFFLEVBQUU7WUFDNUIsV0FBVyxJQUFJOzs7dURBR2tDLElBQUksQ0FBQyxJQUFJLENBQUM7NkRBQ0osSUFBSSxDQUFDLElBQUksQ0FBQzs7Z0VBRVAsSUFBSSxDQUFDLElBQUksQ0FBQzs7T0FFbkUsQ0FBQztRQUNKLENBQUMsQ0FBQyxDQUFDO1FBQ0gsV0FBVyxJQUFJLE9BQU8sQ0FBQztJQUN6QixDQUFDO1NBQU0sQ0FBQztRQUNOLFdBQVcsSUFBSSwyRUFBMkUsQ0FBQztJQUM3RixDQUFDO0lBQ0QsV0FBVyxJQUFJLFFBQVEsQ0FBQztJQUV4QixrQ0FBa0M7SUFDbEMsSUFBSSxrQkFBa0IsR0FBRzs7O0dBR3hCLENBQUM7SUFDRixJQUFJLGNBQWMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7UUFDOUIsY0FBYyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQVMsRUFBRSxFQUFFO1lBQ25DLE1BQU0sU0FBUyxHQUFHLFVBQVUsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUNsRCxrQkFBa0IsSUFBSTs7OztvREFJd0IsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLE1BQU07Ozs0RUFHSSxJQUFJLENBQUMsSUFBSSxDQUFDOzttRUFFbkIsSUFBSSxDQUFDLElBQUksQ0FBQzswR0FDNkIsSUFBSSxDQUFDLElBQUksQ0FBQzs7OztpQ0FJbkYsSUFBSSxDQUFDLElBQUksQ0FBQztpQ0FDVixJQUFJLENBQUMsSUFBSSxDQUFDO3NCQUNyQixDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFOzZCQUNyQixTQUFTLENBQUMsQ0FBQyxDQUFDLE1BQU0sSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFlBQVksSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHOzs7NEJBRzNELFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxNQUFNOzs7OztPQUs5QyxDQUFDO1FBQ0osQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO1NBQU0sQ0FBQztRQUNOLGtCQUFrQixJQUFJLGlIQUFpSCxDQUFDO0lBQzFJLENBQUM7SUFDRCxrQkFBa0IsSUFBSTs7Ozs7Ozs7R0FRckIsQ0FBQztJQUVGLFNBQVMsQ0FBQyxTQUFTLEdBQUc7Ozs7MERBSWtDLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxNQUFNOzs7WUFHeEUsVUFBVTs7Ozs7O1lBTVYsV0FBVzs7Ozs7Ozs7O1lBU1gsa0JBQWtCOzs7OzRDQUljLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxtQkFBbUI7OztHQUdoRixDQUFDO0lBQ0YsVUFBVSxDQUFDLEdBQUcsRUFBRSxDQUFDLGdCQUFnQixFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDMUMsQ0FBQztBQUVEOzs7O0dBSUc7QUFDSCxTQUFTLGtCQUFrQixDQUFDLFVBQWUsRUFBRSxTQUFzQjtJQUNqRSxNQUFNLEtBQUssR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQ25DLE1BQU0sWUFBWSxHQUFHLFVBQVUsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDN0MsTUFBTSxTQUFTLEdBQUcsQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2hELE1BQU0sZUFBZSxHQUFHLFVBQVUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDaEQsTUFBTSxXQUFXLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssQ0FBQztJQUM5QyxNQUFNLGVBQWUsR0FBRyxXQUFXLEtBQUssS0FBSztRQUMzQyxDQUFDLENBQUMsR0FBRyxXQUFXLGlMQUFpTDtRQUNqTSxDQUFDLENBQUMsV0FBVyxDQUFDO0lBRWhCLElBQUksWUFBWSxHQUFHLDZFQUE2RSxDQUFDO0lBQ2pHLE1BQU0sV0FBVyxHQUFHLElBQUksSUFBSSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsV0FBVyxFQUFFLEVBQUUsSUFBSSxJQUFJLEVBQUUsQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUM7SUFFL0YsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLFdBQVcsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO1FBQ3RDLE1BQU0sT0FBTyxHQUFHLENBQUMsS0FBSyxLQUFLLENBQUM7UUFDNUIsTUFBTSxVQUFVLEdBQUcsWUFBWSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM1QyxJQUFJLFFBQVEsR0FBRyx1RkFBdUYsQ0FBQztRQUV2RyxJQUFJLE9BQU8sSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUMsK0RBQStEO1lBQzNGLFFBQVEsSUFBSSx3REFBd0QsQ0FBQztRQUN2RSxDQUFDO2FBQU0sQ0FBQztZQUNOLFFBQVEsSUFBSSxrQkFBa0IsQ0FBQztRQUNqQyxDQUFDO1FBRUQsSUFBSSxVQUFVLEVBQUUsQ0FBQztZQUNmLFFBQVEsSUFBSSw0QkFBNEIsQ0FBQztZQUN6QyxZQUFZLElBQUksZUFBZSxRQUFRLGFBQWEsQ0FBQyxvQkFBb0IsQ0FBQyxzQ0FBc0MsQ0FBQztRQUNuSCxDQUFDO2FBQU0sQ0FBQztZQUNOLFlBQVksSUFBSSxlQUFlLFFBQVEsYUFBYSxDQUFDLG9CQUFvQixDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUM7UUFDM0YsQ0FBQztJQUNILENBQUM7SUFDRCxZQUFZLElBQUksUUFBUSxDQUFDO0lBRXpCLFNBQVMsQ0FBQyxTQUFTLEdBQUc7OztjQUdWLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxNQUFNOzs7VUFHOUIsWUFBWTs7MkRBRXFDLGVBQWU7MkRBQ2YsZUFBZTs7OERBRVosQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRTtzREFDcEMsU0FBUyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLE9BQU87Ozs7R0FJL0UsQ0FBQztBQUNKLENBQUM7QUFHRDs7OztHQUlHO0FBQ0ksU0FBUyxZQUFZLENBQUMsVUFBZSxFQUFFLFNBQXNCO0lBQ2xFLElBQUksQ0FBQyxVQUFVLElBQUkscURBQVMsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDO1FBQ3pDLFNBQVMsQ0FBQyxTQUFTLEdBQUc7Ozs7S0FJckIsQ0FBQztRQUNGLE9BQU87SUFDVCxDQUFDO0lBRUQsTUFBTSxVQUFVLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3BDLFFBQVEsVUFBVSxFQUFFLENBQUM7UUFDbkIsS0FBSyxNQUFNO1lBQ1QsZ0JBQWdCLENBQUMsVUFBVSxFQUFFLFNBQVMsQ0FBQyxDQUFDO1lBQ3hDLE1BQU07UUFDUixLQUFLLE1BQU07WUFDVCx1QkFBdUIsQ0FBQyxVQUFVLEVBQUUsU0FBUyxDQUFDLENBQUM7WUFDL0MsTUFBTTtRQUNSLEtBQUssUUFBUTtZQUNYLGtCQUFrQixDQUFDLFVBQVUsRUFBRSxTQUFTLENBQUMsQ0FBQztZQUMxQyxNQUFNO1FBQ1IsS0FBSyxNQUFNO1lBQ1Qsa0JBQWtCLENBQUMsVUFBVSxFQUFFLFNBQVMsQ0FBQyxDQUFDO1lBQzFDLE1BQU07UUFDUixvQkFBb0I7UUFDcEI7WUFDRSxTQUFTLENBQUMsU0FBUyxHQUFHOztnRUFFb0MsVUFBVTs7T0FFbkUsQ0FBQztZQUNGLE1BQU07SUFDVixDQUFDO0FBQ0gsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvLi9zcmMv5LuA5LmI5oiR6KaB5Zyo546E5bm75L+u5LuZ5LiW55WM56eN55SwL3N5c3RlbXMudHM/Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XHJcblxyXG5mdW5jdGlvbiBpbml0Q3VzdG9tU2xpZGVyKCkge1xyXG4gIGNvbnN0IHNsaWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jdXN0b20tc2xpZGVyJykgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgaWYgKCFzbGlkZXIpIHJldHVybjtcclxuXHJcbiAgY29uc3QgdHJhY2sgPSBzbGlkZXIucXVlcnlTZWxlY3RvcignLmN1c3RvbS1zbGlkZXItdHJhY2snKSBhcyBIVE1MRWxlbWVudDtcclxuICBjb25zdCBzbGlkZXMgPSBBcnJheS5mcm9tKHRyYWNrLmNoaWxkcmVuKSBhcyBIVE1MRWxlbWVudFtdO1xyXG4gIGNvbnN0IG5leHRCdXR0b24gPSBzbGlkZXIucXVlcnlTZWxlY3RvcignLnNsaWRlci1uYXYtYnRuLm5leHQnKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcclxuICBjb25zdCBwcmV2QnV0dG9uID0gc2xpZGVyLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXItbmF2LWJ0bi5wcmV2JykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbiAgY29uc3QgY291bnRlciA9IHNsaWRlci5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLWNvdW50ZXInKSBhcyBIVE1MRWxlbWVudDtcclxuXHJcbiAgaWYgKCF0cmFjayB8fCBzbGlkZXMubGVuZ3RoID09PSAwIHx8ICFuZXh0QnV0dG9uIHx8ICFwcmV2QnV0dG9uIHx8ICFjb3VudGVyKSByZXR1cm47XHJcblxyXG4gIGxldCBjdXJyZW50SW5kZXggPSAwO1xyXG4gIGNvbnN0IHRvdGFsU2xpZGVzID0gc2xpZGVzLmxlbmd0aDtcclxuXHJcbiAgY29uc3QgdXBkYXRlU2xpZGVyID0gKCkgPT4ge1xyXG4gICAgY29uc3Qgc2xpZGVXaWR0aCA9IHNsaWRlc1swXS5vZmZzZXRXaWR0aDtcclxuICAgIHRyYWNrLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKC0ke2N1cnJlbnRJbmRleCAqIHNsaWRlV2lkdGh9cHgpYDtcclxuICAgIFxyXG4gICAgLy8gVXBkYXRlIGNvdW50ZXJcclxuICAgIGNvdW50ZXIudGV4dENvbnRlbnQgPSBgJHtjdXJyZW50SW5kZXggKyAxfSAvICR7dG90YWxTbGlkZXN9YDtcclxuXHJcbiAgICAvLyBVcGRhdGUgYnV0dG9uIHN0YXRlc1xyXG4gICAgcHJldkJ1dHRvbi5kaXNhYmxlZCA9IGN1cnJlbnRJbmRleCA9PT0gMDtcclxuICAgIG5leHRCdXR0b24uZGlzYWJsZWQgPSBjdXJyZW50SW5kZXggPT09IHRvdGFsU2xpZGVzIC0gMTtcclxuICB9O1xyXG5cclxuICBuZXh0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgaWYgKGN1cnJlbnRJbmRleCA8IHRvdGFsU2xpZGVzIC0gMSkge1xyXG4gICAgICBjdXJyZW50SW5kZXgrKztcclxuICAgICAgdXBkYXRlU2xpZGVyKCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHByZXZCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBpZiAoY3VycmVudEluZGV4ID4gMCkge1xyXG4gICAgICBjdXJyZW50SW5kZXgtLTtcclxuICAgICAgdXBkYXRlU2xpZGVyKCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIC8vIEluaXRpYWwgc2V0dXBcclxuICB1cGRhdGVTbGlkZXIoKTtcclxuICBcclxuICAvLyBSZWNhbGN1bGF0ZSBvbiByZXNpemVcclxuICBuZXcgUmVzaXplT2JzZXJ2ZXIodXBkYXRlU2xpZGVyKS5vYnNlcnZlKHNsaWRlcik7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmuLLmn5PmioDog73pnaLmnb/ns7vnu59cclxuICogQHBhcmFtIHN5c3RlbURhdGEgLSDku47lj5jph4/kuK3ojrflj5bnmoTns7vnu5/mlbDmja5cclxuICogQHBhcmFtIGNvbnRhaW5lciAtIOeUqOS6jua4suafk+eahEhUTUzlrrnlmajlhYPntKBcclxuICovXHJcbmZ1bmN0aW9uIHJlbmRlclNraWxsUGFuZWwoc3lzdGVtRGF0YTogYW55LCBjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XHJcbiAgY29uc3Qgc2tpbGxzID0gc3lzdGVtRGF0YVsn5oqA6IO9J10gfHwgW107XHJcbiAgbGV0IGNvbnRlbnRIdG1sID0gJyc7XHJcblxyXG4gIGlmIChza2lsbHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICBjb250ZW50SHRtbCA9IGA8cCBjbGFzcz1cInRleHQtc2Vjb25kYXJ5IHRleHQtc20gaXRhbGljXCI+JHtzeXN0ZW1EYXRhWyfmj5DnpLonXSB8fCAn5bCa5pyq6I635b6X5Lu75L2V5oqA6IO944CCJ308L3A+YDtcclxuICB9IGVsc2Uge1xyXG4gICAgY29udGVudEh0bWwgPSAnPHVsIGNsYXNzPVwic3BhY2UteS0zXCI+JztcclxuICAgIHNraWxscy5mb3JFYWNoKChza2lsbDogYW55KSA9PiB7XHJcbiAgICAgIGNvbnN0IG5hbWUgPSBza2lsbFsn5ZCN56ewJ10gfHwgJ+acquefpeaKgOiDvSc7XHJcbiAgICAgIGNvbnN0IGxldmVsID0gc2tpbGxbJ+etiee6pyddIHx8IDE7XHJcbiAgICAgIGNvbnN0IGV4cCA9IHNraWxsWyfnhp/nu4PluqYnXSB8fCB7IHZhbHVlOiAwLCBtYXg6IDEwMCB9O1xyXG4gICAgICBjb25zdCBwZXJjZW50YWdlID0gKGV4cC52YWx1ZSAvIGV4cC5tYXgpICogMTAwO1xyXG5cclxuICAgICAgY29udGVudEh0bWwgKz0gYFxyXG4gICAgICAgIDxsaT5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItMVwiPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZvbnQtc2VtaWJvbGQgdGV4dC1wcmltYXJ5XCI+JHtuYW1lfTwvc3Bhbj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtbW9ubyB0ZXh0LXNlY29uZGFyeVwiPkx2LiAke2xldmVsfTwvc3Bhbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzLWJhci1iZyB3LWZ1bGwgcm91bmRlZC1mdWxsIGgtMi41XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmVzcy1iYXItZmcgYmctYWNjZW50IGgtMi41IHJvdW5kZWQtZnVsbFwiIHN0eWxlPVwid2lkdGg6ICR7cGVyY2VudGFnZX0lXCI+PC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXJpZ2h0IHRleHQteHMgZm9udC1tb25vIHRleHQtc2Vjb25kYXJ5IG10LTFcIj4ke2V4cC52YWx1ZX0gLyAke2V4cC5tYXh9PC9kaXY+XHJcbiAgICAgICAgPC9saT5cclxuICAgICAgYDtcclxuICAgIH0pO1xyXG4gICAgY29udGVudEh0bWwgKz0gJzwvdWw+JztcclxuICB9XHJcblxyXG4gIGNvbnRhaW5lci5pbm5lckhUTUwgPSBgXHJcbiAgICA8ZGl2IGNsYXNzPVwiYmctbWFpbiByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItZGltIHAtMy41IHNoYWRvdy1zbSBjYXJkLWhvdmVyIHRoZW1lLXRyYW5zaXRpb25cIj5cclxuICAgICAgPGgzIGNsYXNzPVwiZm9udC1ib2xkIHRleHQtbGcgbWItMiBwYi0xIGJvcmRlci1iIGJvcmRlci1kaW0gdGhlbWUtdHJhbnNpdGlvblwiPlxyXG4gICAgICAgIOKame+4jyAke3N5c3RlbURhdGFbJ+WQjeensCddIHx8ICfmioDog73pnaLmnb8nfVxyXG4gICAgICA8L2gzPlxyXG4gICAgICAke2NvbnRlbnRIdG1sfVxyXG4gICAgPC9kaXY+XHJcbiAgYDtcclxufVxyXG5cclxuLyoqXHJcbiAqIOa4suafk+aIkOWwseezu+e7n1xyXG4gKiBAcGFyYW0gc3lzdGVtRGF0YSAtIOS7juWPmOmHj+S4reiOt+WPlueahOezu+e7n+aVsOaNrlxyXG4gKiBAcGFyYW0gY29udGFpbmVyIC0g55So5LqO5riy5p+T55qESFRNTOWuueWZqOWFg+e0oFxyXG4gKi9cclxuZnVuY3Rpb24gcmVuZGVyQWNoaWV2ZW1lbnRTeXN0ZW0oc3lzdGVtRGF0YTogYW55LCBjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XHJcbiAgY29uc3QgcG9pbnRzID0gc3lzdGVtRGF0YVsn5oiQ5bCx54K55pWwJ10gfHwgMDtcclxuICBjb25zdCBjb21wbGV0ZWQgPSBzeXN0ZW1EYXRhWyflt7LlrozmiJAnXSB8fCBbXTtcclxuICBcclxuICBsZXQgYWNoaWV2ZW1lbnRzSHRtbCA9ICcnO1xyXG4gIGlmIChjb21wbGV0ZWQubGVuZ3RoID09PSAwKSB7XHJcbiAgICBhY2hpZXZlbWVudHNIdG1sID0gYDxwIGNsYXNzPVwidGV4dC1zZWNvbmRhcnkgdGV4dC1zbSBpdGFsaWNcIj7lsJrmnKrop6PplIHku7vkvZXmiJDlsLHjgII8L3A+YDtcclxuICB9IGVsc2Uge1xyXG4gICAgYWNoaWV2ZW1lbnRzSHRtbCA9ICc8dWwgY2xhc3M9XCJzcGFjZS15LTNcIj4nO1xyXG4gICAgY29tcGxldGVkLmZvckVhY2goKGFjaDogYW55KSA9PiB7XHJcbiAgICAgIGNvbnN0IG5hbWUgPSBhY2hbJ+WQjeensCddIHx8ICfmnKrnn6XmiJDlsLEnO1xyXG4gICAgICBjb25zdCBkZXNjID0gYWNoWyfmj4/ov7AnXSB8fCAn5rKh5pyJ5o+P6L+w44CCJztcclxuICAgICAgLy8g5bCG5pW05Liq5oiQ5bCx5a+56LGh5a2X56ym5Liy5YyW5Lul55So5LqOIGRhdGEtZGV0YWlsc1xyXG4gICAgICBjb25zdCBkZXRhaWxzID0gSlNPTi5zdHJpbmdpZnkoYWNoKTtcclxuXHJcbiAgICAgIGFjaGlldmVtZW50c0h0bWwgKz0gYFxyXG4gICAgICAgIDxsaSBjbGFzcz1cImNsaWNrYWJsZS1pdGVtIHJvdW5kZWQtbGcgcC0zIGhvdmVyOmJnLXNlY29uZGFyeSB0cmFuc2l0aW9uLWNvbG9yc1wiIGRhdGEtZGV0YWlscz0nJHtkZXRhaWxzfSc+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cclxuICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtdHJvcGh5IHRleHQteWVsbG93LTQwMCBtci0zIGZhLWxnXCI+PC9pPlxyXG4gICAgICAgICAgICA8cCBjbGFzcz1cImZvbnQtc2VtaWJvbGQgdGV4dC1wcmltYXJ5XCI+JHtuYW1lfTwvcD5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtc2Vjb25kYXJ5IHBsLTggbXQtMVwiPiR7ZGVzY308L3A+XHJcbiAgICAgICAgPC9saT5cclxuICAgICAgYDtcclxuICAgIH0pO1xyXG4gICAgYWNoaWV2ZW1lbnRzSHRtbCArPSAnPC91bD4nO1xyXG4gIH1cclxuXHJcbiAgY29udGFpbmVyLmlubmVySFRNTCA9IGBcclxuICAgIDxkaXYgY2xhc3M9XCJiZy1tYWluIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1kaW0gcC0zLjUgc2hhZG93LXNtIGNhcmQtaG92ZXIgdGhlbWUtdHJhbnNpdGlvblwiPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTIgcGItMSBib3JkZXItYiBib3JkZXItZGltXCI+XHJcbiAgICAgICAgPGgzIGNsYXNzPVwiZm9udC1ib2xkIHRleHQtbGcgdGhlbWUtdHJhbnNpdGlvblwiPlxyXG4gICAgICAgICAg8J+PhiAke3N5c3RlbURhdGFbJ+WQjeensCddIHx8ICfmiJDlsLHns7vnu58nfVxyXG4gICAgICAgIDwvaDM+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImZvbnQtYm9sZCB0ZXh0LWFjY2VudCB0ZXh0LWxnXCIgdGl0bGU9XCLmiJDlsLHngrnmlbBcIj5cclxuICAgICAgICAgICR7cG9pbnRzfSA8aSBjbGFzcz1cImZhcyBmYS1zdGFyIHRleHQteHNcIj48L2k+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICAke2FjaGlldmVtZW50c0h0bWx9XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJtdC00IHB0LTMgYm9yZGVyLXQgYm9yZGVyLWRpbSB0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgIDxidXR0b24gaWQ9XCJyZWRlZW0tcmV3YXJkcy1idG5cIiBjbGFzcz1cImJ0bi1wcmltYXJ5IHctZnVsbCBzbTp3LWF1dG9cIj5cclxuICAgICAgICAgIDxpIGNsYXNzPVwiZmFzIGZhLWdpZnQgbXItMlwiPjwvaT7lhZHmjaLlpZblirFcclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICBgO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW5kZXJCYXJ0ZXJTeXN0ZW0oc3lzdGVtRGF0YTogYW55LCBjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XHJcbiAgY29uc3QgbXlJdGVtcyA9IHN5c3RlbURhdGFbJ+aIkeeahOeJqeWTgSddIHx8IFtdO1xyXG4gIGNvbnN0IGF2YWlsYWJsZUl0ZW1zID0gc3lzdGVtRGF0YVsn5Y+v5o2i5Y+W55qE54mp5ZOBJ10gfHwgW107XHJcbiAgY29uc3QgdG90YWxWYWx1ZSA9IF8uc3VtQnkobXlJdGVtcywgKGl0ZW06IGFueSkgPT4gKGl0ZW1bJ+aVsOmHjyddIHx8IDApICogKGl0ZW1bJ+S7t+WAvCddIHx8IDApKTtcclxuXHJcbiAgLy8gLS0tIE15IEl0ZW1zIFNlY3Rpb24gLS0tXHJcbiAgbGV0IG15SXRlbXNIdG1sID0gYDxkaXYgY2xhc3M9XCJiZy1zZWNvbmRhcnkvMzAgcm91bmRlZC1sZyBwLTMgc2hhZG93LWlubmVyXCI+YDtcclxuICBpZiAobXlJdGVtcy5sZW5ndGggPiAwKSB7XHJcbiAgICBteUl0ZW1zSHRtbCArPSBgPHVsIGNsYXNzPVwic3BhY2UteS0yIHRleHQtc21cIj5gO1xyXG4gICAgbXlJdGVtcy5mb3JFYWNoKChpdGVtOiBhbnkpID0+IHtcclxuICAgICAgbXlJdGVtc0h0bWwgKz0gYFxyXG4gICAgICAgIDxsaSBjbGFzcz1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBwLTIgcm91bmRlZC1tZCBiZy1tYWluLzMwXCI+XHJcbiAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZvbnQtc2VtaWJvbGQgdGV4dC1wcmltYXJ5XCI+JHtpdGVtWyflkI3np7AnXX08L3NwYW4+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LXNlY29uZGFyeSBtbC0yXCI+KOS7t+WAvDogJHtpdGVtWyfku7flgLwnXX0pPC9zcGFuPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImZvbnQtbW9ubyB0ZXh0LWFjY2VudCBmb250LXNlbWlib2xkXCI+eCAke2l0ZW1bJ+aVsOmHjyddfTwvc3Bhbj5cclxuICAgICAgICA8L2xpPlxyXG4gICAgICBgO1xyXG4gICAgfSk7XHJcbiAgICBteUl0ZW1zSHRtbCArPSBgPC91bD5gO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBteUl0ZW1zSHRtbCArPSBgPHAgY2xhc3M9XCJ0ZXh0LXNlY29uZGFyeSB0ZXh0LXNtIGl0YWxpYyB0ZXh0LWNlbnRlciBwLTRcIj7kvaDmsqHmnInlj6/nlKjkuo7kuqTmjaLnmoTnianlk4HjgII8L3A+YDtcclxuICB9XHJcbiAgbXlJdGVtc0h0bWwgKz0gJzwvZGl2Pic7XHJcblxyXG4gIC8vIC0tLSBBdmFpbGFibGUgSXRlbXMgU2VjdGlvbiAtLS1cclxuICBsZXQgYXZhaWxhYmxlSXRlbXNIdG1sID0gYFxyXG4gICAgPGRpdiBjbGFzcz1cImN1c3RvbS1zbGlkZXJcIj5cclxuICAgICAgPGRpdiBjbGFzcz1cImN1c3RvbS1zbGlkZXItdHJhY2tcIj5cclxuICBgO1xyXG4gIGlmIChhdmFpbGFibGVJdGVtcy5sZW5ndGggPiAwKSB7XHJcbiAgICBhdmFpbGFibGVJdGVtcy5mb3JFYWNoKChpdGVtOiBhbnkpID0+IHtcclxuICAgICAgY29uc3QgY2FuQWZmb3JkID0gdG90YWxWYWx1ZSA+PSAoaXRlbVsn5Lu35YC8J10gfHwgMCk7XHJcbiAgICAgIGF2YWlsYWJsZUl0ZW1zSHRtbCArPSBgXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImN1c3RvbS1zbGlkZXItc2xpZGVcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJiZy1tYWluIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1kaW0gc2hhZG93LWxnIG92ZXJmbG93LWhpZGRlbiBmbGV4IGZsZXgtY29sIGgtZnVsbFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicC00IGJnLXNlY29uZGFyeS8zMCBtaW4taC1bOHJlbV0gZmxleCBpdGVtcy1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zZWNvbmRhcnkgdGV4dC1zbVwiPiR7aXRlbVsn5o+P6L+wJ10gfHwgJ+aaguaXoOaPj+i/sCd9PC9wPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInAtNCBmbGV4IGZsZXgtY29sIGZsZXgtZ3Jvd1wiPlxyXG4gICAgICAgICAgICAgICAgPGg1IGNsYXNzPVwiZm9udC1ib2xkIHRleHQtcHJpbWFyeSB0ZXh0LWxnIGZsZXgtZ3JvdyBtYi0yXCI+JHtpdGVtWyflkI3np7AnXX08L2g1PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi00XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1hY2NlbnRcIj4ke2l0ZW1bJ+S7t+WAvCddfSA8aSBjbGFzcz1cImZhcyBmYS1jb2lucyB0ZXh0LWxnXCI+PC9pPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImJnLWFjY2VudC8yMCB0ZXh0LWFjY2VudCB0ZXh0LXhzIGZvbnQtYm9sZCBweC0yIHB5LTEgcm91bmRlZC1mdWxsXCI+5bqT5a2YOiAke2l0ZW1bJ+W6k+WtmCddfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJhcnRlci1idG4gdy1mdWxsIG10LWF1dG8gYmctYWNjZW50IGhvdmVyOmJnLWFjY2VudC1ob3ZlciB0ZXh0LXdoaXRlIGZvbnQtYm9sZCBweS0yIHB4LTQgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0zMDAgZGlzYWJsZWQ6YmctZ3JheS02MDAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0yXCJcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLW5hbWU9XCIke2l0ZW1bJ+WQjeensCddfVwiIFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtY29zdD1cIiR7aXRlbVsn5Lu35YC8J119XCJcclxuICAgICAgICAgICAgICAgICAgICAkeyFjYW5BZmZvcmQgPyAnZGlzYWJsZWQnIDogJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCIke2NhbkFmZm9yZCA/IGDlhZHmjaIgJHtpdGVtWyflkI3np7AnXX1gIDogYOS7t+WAvOS4jei2syAo6ZyA6KaBICR7aXRlbVsn5Lu35YC8J119KWB9XCJcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhcyBmYS1leGNoYW5nZS1hbHRcIj48L2k+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+JHtjYW5BZmZvcmQgPyAn5YWR5o2iJyA6ICfku7flgLzkuI3otrMnfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICBgO1xyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGF2YWlsYWJsZUl0ZW1zSHRtbCArPSBgPGRpdiBjbGFzcz1cImN1c3RvbS1zbGlkZXItc2xpZGVcIj48cCBjbGFzcz1cInRleHQtc2Vjb25kYXJ5IHRleHQtc20gaXRhbGljIHRleHQtY2VudGVyIHAtNFwiPuW9k+WJjeayoeacieWPr+aNouWPlueahOeJqeWTgeOAgjwvcD48L2Rpdj5gO1xyXG4gIH1cclxuICBhdmFpbGFibGVJdGVtc0h0bWwgKz0gYFxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzcz1cInNsaWRlci1jb250cm9sc1wiPlxyXG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzbGlkZXItbmF2LWJ0biBwcmV2XCI+PGkgY2xhc3M9XCJmYXMgZmEtY2hldnJvbi1sZWZ0XCI+PC9pPjwvYnV0dG9uPlxyXG4gICAgICAgIDxzcGFuIGNsYXNzPVwic2xpZGVyLWNvdW50ZXJcIj48L3NwYW4+XHJcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNsaWRlci1uYXYtYnRuIG5leHRcIj48aSBjbGFzcz1cImZhcyBmYS1jaGV2cm9uLXJpZ2h0XCI+PC9pPjwvYnV0dG9uPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gIGA7XHJcblxyXG4gIGNvbnRhaW5lci5pbm5lckhUTUwgPSBgXHJcbiAgICA8ZGl2IGNsYXNzPVwiYmctbWFpbiByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItZGltIHAtNCBzaGFkb3ctc20gY2FyZC1ob3ZlciB0aGVtZS10cmFuc2l0aW9uXCI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItMyBwYi0yIGJvcmRlci1iIGJvcmRlci1kaW1cIj5cclxuICAgICAgICA8aDMgY2xhc3M9XCJmb250LWJvbGQgdGV4dC1sZyB0aGVtZS10cmFuc2l0aW9uIGZsZXggaXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICA8aSBjbGFzcz1cImZhcyBmYS1zdG9yZSBtci0yIHRleHQtYWNjZW50XCI+PC9pPiAke3N5c3RlbURhdGFbJ+WQjeensCddIHx8ICfku6XnianmjaLniaknfVxyXG4gICAgICAgIDwvaDM+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImZvbnQtYm9sZCB0ZXh0LWFjY2VudCB0ZXh0LWxnXCIgdGl0bGU9XCLmiJHnmoTmgLvku7flgLxcIj5cclxuICAgICAgICAgICR7dG90YWxWYWx1ZX0gPGkgY2xhc3M9XCJmYXMgZmEtY29pbnMgdGV4dC14c1wiPjwvaT5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZS15LTYgbXQtNFwiPlxyXG4gICAgICAgIDxkaXY+XHJcbiAgICAgICAgICA8aDQgY2xhc3M9XCJmb250LXNlbWlib2xkIHRleHQtYmFzZSBtYi0yIHRleHQtcHJpbWFyeS84MFwiPuaIkeeahOeJqeWTgTwvaDQ+XHJcbiAgICAgICAgICAke215SXRlbXNIdG1sfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTJcIj5cclxuICAgICAgICAgICAgPGg0IGNsYXNzPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWJhc2UgdGV4dC1wcmltYXJ5LzgwXCI+5Y+v5o2i5Y+W55qE54mp5ZOBPC9oND5cclxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInJlZnJlc2gtYmFydGVyLWJ0blwiIGNsYXNzPVwidGV4dC1zbSB0ZXh0LWFjY2VudCBob3Zlcjp0ZXh0LWFjY2VudC1ob3ZlciB0cmFuc2l0aW9uLWNvbG9ycyBwLTEgcm91bmRlZCBob3ZlcjpiZy1zZWNvbmRhcnlcIiB0aXRsZT1cIuWIt+aWsOWPr+aNouWPlueJqeWTgVwiPlxyXG4gICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmFzIGZhLXN5bmMtYWx0XCI+PC9pPiDliLfmlrBcclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICR7YXZhaWxhYmxlSXRlbXNIdG1sfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzcz1cIm10LTQgcHQtMyBib3JkZXItdCBib3JkZXItZGltIHRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtc2Vjb25kYXJ5XCI+JHtzeXN0ZW1EYXRhWyfmj5DnpLonXSB8fCAn55So5L2g55qE54mp5ZOB56ev57Sv5Lu35YC877yM5o2i5Y+W5omA6ZyA5LmL54mp44CCJ308L3A+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgYDtcclxuICBzZXRUaW1lb3V0KCgpID0+IGluaXRDdXN0b21TbGlkZXIoKSwgMCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmuLLmn5Pnrb7liLDns7vnu59cclxuICogQHBhcmFtIHN5c3RlbURhdGEgLSDku47lj5jph4/kuK3ojrflj5bnmoTns7vnu5/mlbDmja5cclxuICogQHBhcmFtIGNvbnRhaW5lciAtIOeUqOS6jua4suafk+eahEhUTUzlrrnlmajlhYPntKBcclxuICovXHJcbmZ1bmN0aW9uIHJlbmRlclNpZ25JblN5c3RlbShzeXN0ZW1EYXRhOiBhbnksIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcclxuICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCkuZ2V0RGF0ZSgpO1xyXG4gIGNvbnN0IHNpZ25lZEluRGF5cyA9IHN5c3RlbURhdGFbJ+W3suetvuWIsCddIHx8IFtdO1xyXG4gIGNvbnN0IGNhblNpZ25JbiA9ICFzaWduZWRJbkRheXMuaW5jbHVkZXModG9kYXkpO1xyXG4gIGNvbnN0IGNvbnNlY3V0aXZlRGF5cyA9IHN5c3RlbURhdGFbJ+i/nue7reetvuWIsCddIHx8IDA7XHJcbiAgY29uc3QgbW9udGhseUNhcmQgPSBzeXN0ZW1EYXRhWyfmnIjljaEnXSB8fCAn5pyq5r+A5rS7JztcclxuICBjb25zdCBtb250aGx5Q2FyZEhUTUwgPSBtb250aGx5Q2FyZCA9PT0gJ+acqua/gOa0uydcclxuICAgID8gYCR7bW9udGhseUNhcmR9IDxidXR0b24gaWQ9XCJhY3RpdmF0ZS1tb250aGx5LWNhcmQtYnRuXCIgY2xhc3M9XCJ0ZXh0LXhzIG1sLTIgcHgtMiBweS0wLjUgcm91bmRlZCBiZy1hY2NlbnQvMjAgaG92ZXI6YmctYWNjZW50LzQwIHRleHQtYWNjZW50IHRyYW5zaXRpb24tY29sb3JzXCIgdGl0bGU9XCLlkJFBSeivoumXrua/gOa0u+aciOWNoeeahOadoeS7tlwiPua/gOa0uzwvYnV0dG9uPmBcclxuICAgIDogbW9udGhseUNhcmQ7XHJcblxyXG4gIGxldCBjYWxlbmRhckh0bWwgPSAnPGRpdiBpZD1cImNhbGVuZGFyLWdyaWRcIiBjbGFzcz1cImdyaWQgZ3JpZC1jb2xzLTcgZ2FwLTEgdGV4dC1jZW50ZXIgdGV4dC14c1wiPic7XHJcbiAgY29uc3QgZGF5c0luTW9udGggPSBuZXcgRGF0ZShuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCksIG5ldyBEYXRlKCkuZ2V0TW9udGgoKSArIDEsIDApLmdldERhdGUoKTtcclxuXHJcbiAgZm9yIChsZXQgaSA9IDE7IGkgPD0gZGF5c0luTW9udGg7IGkrKykge1xyXG4gICAgY29uc3QgaXNUb2RheSA9IGkgPT09IHRvZGF5O1xyXG4gICAgY29uc3QgaXNTaWduZWRJbiA9IHNpZ25lZEluRGF5cy5pbmNsdWRlcyhpKTtcclxuICAgIGxldCBkYXlDbGFzcyA9ICd3LTggaC04IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0zMDAgJztcclxuXHJcbiAgICBpZiAoaXNUb2RheSAmJiAhaXNTaWduZWRJbikgeyAvLyBPbmx5IGFwcGx5IHNwZWNpYWwgc3R5bGUgaWYgaXQncyB0b2RheSBBTkQgbm90IHNpZ25lZCBpbiB5ZXRcclxuICAgICAgZGF5Q2xhc3MgKz0gJ2JnLWFjY2VudC8zMCB0ZXh0LWFjY2VudCBmb250LWJvbGQgcmluZy0yIHJpbmctYWNjZW50ICc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkYXlDbGFzcyArPSAnYmctc2Vjb25kYXJ5LzUwICc7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzU2lnbmVkSW4pIHtcclxuICAgICAgZGF5Q2xhc3MgKz0gJ2JnLWdyZWVuLTUwMC81MCB0ZXh0LXdoaXRlJztcclxuICAgICAgY2FsZW5kYXJIdG1sICs9IGA8ZGl2IGNsYXNzPVwiJHtkYXlDbGFzc31cIiB0aXRsZT1cIuesrCR7aX3lpKnvvJrlt7Lnrb7liLBcIiBkYXRhLWRheT1cIiR7aX1cIj48aSBjbGFzcz1cImZhcyBmYS1jaGVja1wiPjwvaT48L2Rpdj5gO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY2FsZW5kYXJIdG1sICs9IGA8ZGl2IGNsYXNzPVwiJHtkYXlDbGFzc31cIiB0aXRsZT1cIuesrCR7aX3lpKnvvJrmnKrnrb7liLBcIiBkYXRhLWRheT1cIiR7aX1cIj4ke2l9PC9kaXY+YDtcclxuICAgIH1cclxuICB9XHJcbiAgY2FsZW5kYXJIdG1sICs9ICc8L2Rpdj4nO1xyXG5cclxuICBjb250YWluZXIuaW5uZXJIVE1MID0gYFxyXG4gICAgPGRpdiBjbGFzcz1cImJnLW1haW4gcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLWRpbSBwLTMuNSBzaGFkb3ctc20gY2FyZC1ob3ZlciB0aGVtZS10cmFuc2l0aW9uXCI+XHJcbiAgICAgIDxoMyBjbGFzcz1cImZvbnQtYm9sZCB0ZXh0LWxnIG1iLTMgcGItMiBib3JkZXItYiBib3JkZXItZGltIHRoZW1lLXRyYW5zaXRpb25cIj5cclxuICAgICAgICDwn5eT77iPICR7c3lzdGVtRGF0YVsn5ZCN56ewJ10gfHwgJ+etvuWIsOezu+e7nyd9XHJcbiAgICAgIDwvaDM+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZS15LTRcIj5cclxuICAgICAgICAke2NhbGVuZGFySHRtbH1cclxuICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1jZW50ZXIgdGV4dC1zbSB0ZXh0LXNlY29uZGFyeSBzcGFjZS15LTEgcHQtMlwiPlxyXG4gICAgICAgICAgICA8cD7ov57nu63nrb7liLA6IDxzcGFuIGNsYXNzPVwiZm9udC1ib2xkIHRleHQtYWNjZW50XCI+JHtjb25zZWN1dGl2ZURheXN9PC9zcGFuPiDlpKk8L3A+XHJcbiAgICAgICAgICAgIDxwPuaciOWNoeeKtuaAgTogPHNwYW4gY2xhc3M9XCJmb250LWJvbGQgdGV4dC1hY2NlbnRcIj4ke21vbnRobHlDYXJkSFRNTH08L3NwYW4+PC9wPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxidXR0b24gaWQ9XCJzaWduLWluLWJ0blwiIGNsYXNzPVwiYnRuLXByaW1hcnkgdy1mdWxsXCIgJHshY2FuU2lnbkluID8gJ2Rpc2FibGVkJyA6ICcnfT5cclxuICAgICAgICAgIDxpIGNsYXNzPVwiZmFzIGZhLWNhbGVuZGFyLWNoZWNrIG1yLTJcIj48L2k+JHtjYW5TaWduSW4gPyAn5LuK5pel562+5YiwJyA6ICfku4rml6Xlt7Lnrb7liLAnfVxyXG4gICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gIGA7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog57O757uf5riy5p+T55qE5Li75Ye95pWwXHJcbiAqIEBwYXJhbSBzeXN0ZW1EYXRhIC0g5LuO5Y+Y6YeP5Lit6I635Y+W55qE57O757uf5pWw5o2uXHJcbiAqIEBwYXJhbSBjb250YWluZXIgLSDnlKjkuo7muLLmn5PnmoRIVE1M5a655Zmo5YWD57SgXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyU3lzdGVtKHN5c3RlbURhdGE6IGFueSwgY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xyXG4gIGlmICghc3lzdGVtRGF0YSB8fCBfLmlzRW1wdHkoc3lzdGVtRGF0YSkpIHtcclxuICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBgXHJcbiAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlciBweS00IHRleHQtc2Vjb25kYXJ5IHRoZW1lLXRyYW5zaXRpb24gaXRhbGljXCI+XHJcbiAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtaW5mby1jaXJjbGUgbXItMVwiPjwvaT7mnKrnu5Hlrprns7vnu59cclxuICAgICAgPC9kaXY+XHJcbiAgICBgO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgY29uc3Qgc3lzdGVtTmFtZSA9IHN5c3RlbURhdGFbJ+WQjeensCddO1xyXG4gIHN3aXRjaCAoc3lzdGVtTmFtZSkge1xyXG4gICAgY2FzZSAn5oqA6IO96Z2i5p2/JzpcclxuICAgICAgcmVuZGVyU2tpbGxQYW5lbChzeXN0ZW1EYXRhLCBjb250YWluZXIpO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgJ+aIkOWwseezu+e7nyc6XHJcbiAgICAgIHJlbmRlckFjaGlldmVtZW50U3lzdGVtKHN5c3RlbURhdGEsIGNvbnRhaW5lcik7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAn5Lul54mp5o2i54mp57O757ufJzpcclxuICAgICAgcmVuZGVyQmFydGVyU3lzdGVtKHN5c3RlbURhdGEsIGNvbnRhaW5lcik7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAn562+5Yiw57O757ufJzpcclxuICAgICAgcmVuZGVyU2lnbkluU3lzdGVtKHN5c3RlbURhdGEsIGNvbnRhaW5lcik7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgLy8g5Zyo6L+Z6YeM5Y+v5Lul5Li65YW25LuW57O757uf5re75YqgIGNhc2VcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtY2VudGVyIHB5LTQgdGV4dC1zZWNvbmRhcnkgdGhlbWUtdHJhbnNpdGlvbiBpdGFsaWNcIj5cclxuICAgICAgICAgIDxpIGNsYXNzPVwiZmFzIGZhLXF1ZXN0aW9uLWNpcmNsZSBtci0xXCI+PC9pPuacquefpeeahOezu+e7n+exu+WeizogJHtzeXN0ZW1OYW1lfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICBgO1xyXG4gICAgICBicmVhaztcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\\n//# sourceURL=webpack-internal:///./src/什么我要在玄幻修仙世界种田/systems.ts\\n\\n}');\n  },\n  lodash: \n  /*!********************!*\\\n  !*** external \"_\" ***!\n  \\********************/ module => {\n    module.exports = _;\n  }\n};\n\nvar __webpack_module_cache__ = {};\n\nfunction __webpack_require__(moduleId) {\n  var cachedModule = __webpack_module_cache__[moduleId];\n  if (cachedModule !== undefined) {\n    return cachedModule.exports;\n  }\n  var module = __webpack_module_cache__[moduleId] = {\n    exports: {}\n  };\n  __webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n  return module.exports;\n}\n\n(() => {\n  __webpack_require__.n = module => {\n    var getter = module && module.__esModule ? () => module[\"default\"] : () => module;\n    __webpack_require__.d(getter, {\n      a: getter\n    });\n    return getter;\n  };\n})();\n\n(() => {\n  __webpack_require__.d = (exports, definition) => {\n    for (var key in definition) {\n      if (__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n        Object.defineProperty(exports, key, {\n          enumerable: true,\n          get: definition[key]\n        });\n      }\n    }\n  };\n})();\n\n(() => {\n  __webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\n})();\n\n(() => {\n  __webpack_require__.r = exports => {\n    if (typeof Symbol !== \"undefined\" && Symbol.toStringTag) {\n      Object.defineProperty(exports, Symbol.toStringTag, {\n        value: \"Module\"\n      });\n    }\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n  };\n})();\n\nvar __webpack_exports__ = __webpack_require__(\"./src/什么我要在玄幻修仙世界种田/index.ts\");</script></body>\n```",
    "trimStrings": [],
    "placement": [
        1,
        2
    ],
    "disabled": true,
    "markdownOnly": true,
    "promptOnly": false,
    "runOnEdit": true,
    "substituteRegex": 0,
    "minDepth": null,
    "maxDepth": null
}