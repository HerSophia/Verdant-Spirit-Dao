/**
 * @file This file contains the genesis messages for the game's beginning, based on location and season.
 * Each message is a function that takes the character's name and returns a formatted string with a status bar.
 */

// A mapping of season IDs to their Chinese names for potential use in descriptions.
const seasonNames: Record<string, string> = {
  'season-spring': '春',
  'season-summer': '夏',
  'season-autumn': '秋',
  'season-winter': '冬',
};

// A collection of all possible genesis plots, structured by location and then by season.
export const genesisPlots: Record<string, Record<string, (characterName: string) => string>> = {
  // == Location: Mountain Peak ==
  'location-peak': {
    'season-spring': (characterName) => `
料峭。这是萧栖雪恢复意识后，身体反馈给大脑的第一个信号。

寒意并非来自严冬的酷烈，而是一种万物复苏之际，冰雪初融时的湿冷。风中夹杂着新翻的泥土和不知名嫩芽的清新气息，吸入肺腑，却带着一丝刺骨的凉。后脑的钝痛仿佛被这股凉意浸透，变得迟缓而麻木。她费力地睁开眼，视线从模糊逐渐聚焦。

*……我在哪儿？*

身下是坚硬而潮湿的岩石，石缝间顽强地钻出几点新绿，挂着晶莹的露珠。她发现自己正身处一座孤高的山巅，四周是缓缓流淌的云海，春日的阳光穿透云层，为这片白色的海洋镀上了一层温暖的金边。远处，几座更加高耸的山峰上，皑皑白雪正在消融，露出青黑色的山体，如同水墨画般层次分明。天空是一种洗练过的湛蓝，纯净得没有一丝杂质。

*这不是地球……*

她挣扎着坐起身，眩晕感袭来，让她不得不伸手扶住身旁的岩石。向下望去，是深不见底的悬崖峭-壁，云雾缭-绕，隐约可见山腰处已是一片新绿。偶尔有灵巧的飞鸟掠过，发出清脆的鸣叫，给这片寂静的天地带来一丝生机。然而，这生机之下，潜藏的却是未知的危险。在这绝地天通之处，每一步都必须小心翼翼。
<statusbar>
{
  "状态总览": {
    "行动选项": {
      "🧝‍♀️ 行动人": "${characterName}",
      "📜 可选行动": [
        "1. 🧝‍♀️  检查自身状况，评估身体状态和可能的伤势。",
        "2. 📖 好像有种莫名的感觉，看看有没有绑定什么系统",
        "3. 🧭 观察四周，寻找一条积雪融化后相对安全的下山路径。",
        "4. 🌱 在附近寻找可食用的植物嫩芽或水源。"
      ]
    }
  }
}
</statusbar>`,
    'season-summer': (characterName) => `
闷热。这是萧栖雪恢复意识后，身体反馈给大脑的第一个信号。

热量并非来自烈日的暴晒，而是源于天地间充沛得近乎粘稠的水汽与能量。空气仿佛凝固了，每一次呼吸都带着沉甸甸的重量。风是罕见的奢侈品，偶有一丝拂过，也带着令人烦躁的暖意。后脑的疼痛在这闷热中被放大，如同恼人的心跳。她艰难地睁开眼，视线因额头的汗水而有些模糊。

*……这里是……？*

身下是滚烫的岩石，仿佛被烈日炙烤了一整天。她发现自己正身处一座孤高的山巅，四周的云海翻滚得异常剧烈，如同沸腾的开水。远处的天际线，乌云正在聚集，隐隐有雷光在云层深处闪烁，发出沉闷的轰鸣。天空是一种压抑的铅灰色，空气中弥漫着风雨欲来的气息。山巅的植被异常繁茂，深绿色的针叶植物上挂着饱满的露珠，折射着诡异的光。

*这不是地球……*

她挣扎着坐起身，强烈的窒息感让她胸口发闷。向下望去，是深不见底的悬崖峭-壁，云雾缭-绕，却遮不住山腰那一片生机勃勃的原始森林。偶尔有巨大的、翼展惊人的怪鸟从云海中冲天而起，发出穿云裂石般的啼鸣，似乎在宣告着领地。强烈的危机感攫住了她的心脏。一场狂暴的雷雨即将来临，她必须立刻找到避难之所。
<statusbar>
{
  "状态总览": {
    "行动选项": {
      "🧝‍♀️ 行动人": "${characterName}",
      "📜 可选行动": [
        "1. 🧝‍♀️  检查自身状况，评估身体状态和可能的伤势。",
        "2. 📖 好像有种莫名的感觉，看看有没有绑定什么系统",
        "3. ⛈️ 观察地形，寻找能够躲避即将来临的雷雨的山洞或岩缝。",
        "4. 💧 在附近寻找可以饮用的水源，补充身体流失的水分。"
      ]
    }
  }
}
</statusbar>`,
    'season-autumn': (characterName) => `
高远。这是萧栖雪恢复意识后，大脑对周遭环境的第一个感知。

身体的感觉是清爽和微凉。秋风带着一丝干燥，拂过肌肤，带走了夏日的最后一丝暑气，也让后脑的疼痛变得清晰而不再那么昏沉。空气纯净而稀薄，每一次呼吸都仿佛能洗涤心灵。她缓缓睁开双眼，一幅壮丽的画卷在她面前展开。

*……这是什么地方？*

身下是干燥而粗糙的岩石，点缀着一些已经变为金黄色的奇异植物。她发现自己正身处一座孤高的山巅，四周的云海平缓如镜，秋日柔和的阳光洒在上面，反射出温暖的光晕。天空是那种秋季特有的、高远而纯粹的湛蓝色，几缕淡薄的云丝飘过。远处的群山层林尽染，红色、黄色、绿色交织在一起，如同打翻了的颜料盘。

*……美得不真实。*

她慢慢坐起身，眩晕感很轻微。向下望去，是深不见底的悬崖峭-壁，云雾缭-绕，却挡不住那漫山遍野的绚烂秋色。偶尔有成群的候鸟排成奇异的阵型，从云海之上掠过，发出悠远而略带萧瑟的鸣叫。这份壮阔的美景让她暂时忘记了身处的险境，但理智很快回归。在这绝地天通之处，美丽往往与危险并存。
<statusbar>
{
  "状态总览": {
    "行动选项": {
      "🧝‍♀️ 行动人": "${characterName}",
      "📜 可选行动": [
        "1. 🧝‍♀️  检查自身状况，评估身体状态和可能的伤势。",
        "2. 📖 好像有种莫名的感觉，看看有没有绑定什么系统",
        "3. 🧭 观察四周，寻找一条相对平缓、适合下山的山脊。",
        "4. 🍎 在附近寻找可能存在的野果，以备不时之需。"
      ]
    }
  }
}
</statusbar>`,
    'season-winter': (characterName) => `
刺骨。这是萧栖雪恢复意识后，身体反馈给大脑的第一个信号。

这股寒意并非源于虚弱，而是来自稀薄空气中无孔不入的凛冽山风。风声如同鬼魅的呼啸，刮过耳畔，带走身体最后一丝温度。后脑的疼痛似乎被这寒冷冻结，变得麻木而迟钝。她费力地睁开眼，视线从模糊逐渐聚焦。

*……我在哪儿？*

身下是坚硬而冰冷的岩石，上面覆盖着一层薄薄的积雪。她发现自己正身处一座孤高的山巅，四周是翻涌的云海，如同无垠的白色海洋。远处，几座更加高耸的山峰如同岛屿般在云海中若隐-现，山体银装素裹。天空是一种近乎深紫的湛蓝，几颗硕大而陌生的星辰即便在白日也清晰可见，散发着妖异的光芒。

*这不是地球……*

她挣扎着坐起身，剧烈的眩晕感袭来，让她不得不伸手扶住身旁的岩石。向下望去，是深不见底的悬崖峭-壁，云雾缭-绕，仿佛通往无尽的深渊。偶尔有巨大的、翼展惊人的怪鸟从云海中冲天而起，发出穿云裂石般的啼鸣。强烈的危机感和渺小感瞬间攫住了她的心脏。在这绝地天通之处，每一步都必须小心翼翼。
<statusbar>
{
  "状态总览": {
    "行动选项": {
      "🧝‍♀️ 行动人": "${characterName}",
      "📜 可选行动": [
        "1. 🧝‍♀️  检查自身状况，评估身体状态和可能的伤势。",
        "2. 📖 好像有种莫名的感觉，看看有没有绑定什么系统",
        "3. 🧭 观察四周，寻找一条相对安全的下山路径。",
        "4. 🛖 在附近寻找可以临时避风的山洞或岩壁。"
      ]
    }
  }
}
</statusbar>`,
  },
  // == Location: Lakeside ==
  'location-lake': {
    'season-spring': (characterName) => `
温润。这是萧栖雪恢复意识后，身体反馈给大脑的第一个信号。

这股暖意并非来自阳光，而是一种从空气中渗透进来的、带着潮湿水汽的平和能量。天空飘着蒙蒙细雨，雨丝轻柔地落在她的脸颊上，非但不冷，反而有种奇异的舒适感，似乎在滋养着她的身体，舒缓着后脑的疼痛。

*……下雨了？这里是……？*

她轻轻动了动手指，触感是湿润而柔软的青草，还带着新芽的弹韧。空气中弥漫着雨水、青草和淡淡花香混合的气息，清新怡人。她缓缓睁开双眼，一片烟雨朦胧的景象映入眼帘。

眼前是一片广阔而平静的湖泊，湖面笼罩在薄薄的雾气之中，雨点落在湖面，漾开一圈圈细密的涟漪。湖岸边，柳树抽出新枝，嫩绿的柳条在微风细雨中轻轻摇曳。湖中央，隐约可见一株巨大的、含苞待放的莲花，在雾气中若-隐若现。

*……如同梦境一般。*

她慢慢坐起身，感觉身体的疲惫被这春雨洗涤一空。湖畔绿草如茵，远处是笼罩在烟雨中的森林，一切都显得那么宁静而富有诗意。然而，这份宁静之下，却隐藏着一丝不同寻常的气息。她注意到，湖边的某些植物形态奇异，闪烁着微光，而远处的森林也显得异常静谧。这份过于完美的美景，反而让她心中升起一丝警惕。
<statusbar>
{
  "状态总览": {
    "行动选项": {
      "🧝‍♀️ 行动人": "${characterName}",
      "📜 可选行动": [
        "1. 🧝‍♀️  检查自身状况，感受体内那股温润的能量。",
        "2. 📖 好像有种莫名的感觉，看看有没有绑定什么系统",
        "3. 💧 走到湖边，仔细观察这奇特的春雨和湖水。",
        "4. 🌳 探索湖边的森林，寻找可以避雨或利用的资源。"
      ]
    }
  }
}
</statusbar>`,
    'season-summer': (characterName) => `
温暖。这是萧栖雪恢复意识后，身体反馈给大脑的第一个信号。

这股暖意并非来自阳光，而是一种从空气中渗透进来的、温润而平和的能量，如同浸泡在温泉中一般，舒缓着她身体的虚弱和后脑的疼痛。

*好舒服……这里是……？*

她轻轻动了动手指，触感是柔软而富有弹性的青草。空气中弥漫着淡淡的、类似莲花的清香，以及湿润的泥土气息。她缓缓睁开双眼，一片如梦似幻的景象映入眼帘。

眼前是一片广阔而平静的湖泊，湖面如镜，倒映着天空中一金一银的双月。湖水清澈见底，可以看到五彩斑斓的鱼群在发光的水草间悠然穿梭。湖中央，一株巨大的、散发着柔和白光的莲花静静绽放。整个湖泊都笼罩在一层淡淡的、肉眼可见的氤氲雾气之中。

*……人间仙境？*

她慢慢坐起身，感觉身体的疲惫一扫而空。湖畔绿草如茵，远处是郁郁葱葱的森林，一切都显得那么宁静而祥和。然而，这份宁静之下，却隐藏着一丝不同寻常的气息。她注意到，湖边的某些植物形态奇异，闪烁着微光，而远处的森林也显得异常静谧，听不到一丝鸟叫或虫鸣。这份过于完美的美景，反而让她心中升起一丝警惕。
<statusbar>
{
  "状态总览": {
    "行动选项": {
      "🧝‍♀️ 行动人": "${characterName}",
      "📜 可选行动": [
        "1. 🧝‍♀️  检查自身状况，感受体内那股温暖的能量。",
        "2. 📖 好像有种莫名的感觉，看看有没有绑定什么系统",
        "3. 💧 走到湖边，仔细观察湖水和水中的生物。",
        "4. 🌳 探索湖边的森林，寻找可用的资源。"
      ]
    }
  }
}
</statusbar>`,
    'season-autumn': (characterName) => `
清爽。这是萧栖雪恢复意识后，身体反馈给大脑的第一个信号。

这股清爽的感觉，来自空气中微凉的、带着淡淡桂花香气的风。风拂过脸颊，吹散了她意识中的混沌，也让后脑的疼痛变得不再那么难以忍受。

*……好香。这里是哪里？*

她动了动手指，触碰到的是一层柔软的、略带干燥的落叶。空气中弥漫着成熟果实的甜香和草木的清香。她缓缓睁开双眼，一幅色彩斑斓的秋日图景映入眼帘。

眼前是一片广阔而平静的湖泊，湖面如同一块巨大的蓝宝石，倒映着秋日高远的天空和天边绚烂的晚霞。湖岸边，枫林如火，银杏金黄，各色树木的倒影在水中交织，美不胜收。湖中央，那株巨大的莲花已经结出了莲蓬，静静地矗立着。

*……太美了。*

她慢慢坐起身，感觉神清气爽。湖畔铺满了金色的落叶，踩上去沙沙作响。远处是色彩斑斓的森林，显得宁静而富饶。然而，这份宁静之下，却隐藏着一丝萧瑟。她注意到，空气中除了花果的香气，还有一种草木凋零的气息。这份美丽带着一丝转瞬即逝的伤感，让她心中升起一丝警惕。
<statusbar>
{
  "状态总览": {
    "行动选项": {
      "🧝‍♀️ 行动人": "${characterName}",
      "📜 可选行动": [
        "1. 🧝‍♀️  检查自身状况，评估身体状态。",
        "2. 📖 好像有种莫名的感觉，看看有没有绑定什么系统",
        "3. 💧 走到湖边，欣赏这片秋日湖景。",
        "4. 🌳 探索湖边的森林，寻找成熟的果实。"
      ]
    }
  }
}
</statusbar>`,
    'season-winter': (characterName) => `
静谧。这是萧栖雪恢复意识后，大脑对周遭环境的第一个感知。

身体的感觉是寒冷，但并非刺骨。一层薄薄的积雪覆盖着她的身体，如同柔软的棉被，隔绝了部分寒意。空气清冽而干净，每一次呼吸都带着冰雪的气息。后脑的疼痛似乎被这低温镇定，变得不再那么剧烈。

*……下雪了？*

她轻轻动了动手指，触感是松软的积雪。她缓缓睁开双眼，一个银装素裹的琉璃世界映入眼帘。

眼前是一片已经完全冰封的湖泊，湖面光滑如镜，倒映着灰白色的天空。雪花还在一片片地、无声地飘落。湖岸边的树木都挂上了美丽的雾凇，如同玉树琼花。湖中央，那株巨大的莲花也已被冰雪覆盖，形成了一座奇异的冰雕。整个世界除了雪花飘落的沙沙声，再无任何声响。

*……好安静。*

她慢慢坐起身，拍掉身上的积雪。湖畔白雪皑皑，远处是寂静的雪林，一切都显得那么纯净而安详。然而，这份极致的安详之下，却隐藏着致命的危机。她注意到，雪地上没有任何动物的足迹，这片死寂的雪景，让她心中升起强烈的警惕。在这冰天雪地之中，生存是第一要务。
<statusbar>
{
  "状态总览": {
    "行动选项": {
      "🧝‍♀️ 行动人": "${characterName}",
      "📜 可选行动": [
        "1. 🧝‍♀️  检查自身状况，评估身体在低温下的状态。",
        "2. 📖 好像有种莫名的感觉，看看有没有绑定什么系统",
        "3. 🧊 走到湖边，查看冰面的坚固程度。",
        "4. 🌳 探索湖边的雪林，寻找可以生火的枯枝和避寒之所。"
      ]
    }
  }
}
</statusbar>`,
  },
  // == Location: Forest ==
  'location-forest': {
    'season-spring': (characterName) => `
潮湿。这是萧栖雪恢复意识后，身体反馈给大脑的第一个信号。

这股潮气并非来自雨水，而是源于身下松软的土地和空气中弥漫的浓雾。雾气带着泥土和新叶的芬芳，吸入肺中，带着一丝凉意，也让后脑的疼痛有所缓解。

*……起雾了？这是什么地方？*

她艰难地蜷了蜷手指，触碰到的是一片湿润而富有生机的苔藓，指尖还能感受到其下松软的腐殖土。这触感让她瞬间清醒。空气中弥漫着浓郁的、雨后森林特有的泥土芬芳，混杂着腐烂落叶的微苦气息和不知名菌类散发出的奇异幽香。她挣扎着，用尽全力撑开沉重的眼皮。

视线被一片乳白色的浓雾所占据。参天的古树在雾中只剩下模糊的轮廓，如同沉默的巨人。阳光无法穿透浓雾，整个林间的光线都显得昏暗而朦胧。脚下，各种蕨类植物和不知名的菌菇在潮湿的环境中疯狂生长，呈现出一种诡异的生命力。

*……太安静了。*

她猛地坐起身，全身的酸痛和寒意让她忍不住打了个寒颤。她环顾四周，能见度极低，高大的树木形态各异，许多植物都散发着微弱的荧光。不远处的灌木丛中，似乎有什么东西在窸窣作响。森林深处，传来一阵悠远而怪异的兽吼，在雾气中显得格外可怖。强烈的求生本能压倒了所有的迷茫与恐惧，她必须立刻行动起来。
<statusbar>
{
  "状态总览": {
    "行动选项": {
      "🧝‍♀️ 行动人": "${characterName}",
      "📜 可选行动": [
        "1. 🧝‍♀️  检查自身状况，仔细查看身体是否有其他伤口。",
        "2. 📖 好像有种莫名的感觉，看看有没有绑定什么系统",
        "3. 🌳 寻找一棵粗壮的大树，背靠树干休息，警惕四周。",
        "4. 💧 仔细聆听，尝试在浓雾中辨别方向和寻找水源。"
      ]
    }
  }
}
</statusbar>`,
    'season-summer': (characterName) => `
阴冷，潮湿。这是萧栖雪恢复意识后，身体反馈给大脑的第一个信号。

这股寒意并非来自低温，而是源于骨髓深处，仿佛生命力正被身下这片柔软而贪婪的苔藓缓慢吸走。后脑的钝痛依旧，让她无法集中精神，脑海中闪过的依旧是那些属于另一个世界的最后记忆：图书馆的灯光、纷乱的书页、导师失望的脸庞，以及那阵将她拖入黑暗的剧烈眩晕。

*我……睡着了？这是……草地？*

她艰难地蜷了蜷手指，触碰到的是一片柔软而湿润的苔藓，指尖还能感受到其下松软的腐殖土。这触感让她瞬间清醒。

*图书馆里怎么会有苔藓和泥土？*

空气中弥漫着浓郁的、雨后森林特有的泥土芬芳，混杂着腐烂落叶的微苦气息和不知名菌类散发出的奇异幽香。这复杂而原始的气味，彻底击碎了她关于图书馆的最后一丝幻想。她挣扎着，用尽全力撑开沉重的眼皮。

视线被一片深邃的幽绿所占据。参天的古树遮天蔽日，巨大的树冠如同神话中巨人的华盖，将天空切割成无数个深紫色的碎片。一轮金色的弯月正悬于其中最大的一块碎片上，清冷的光辉透过枝叶的缝隙，在林间投下无数道晃动的、破碎的光柱。这不是地球。这个念头像一道惊雷，在她脑海中炸响。

*……太离谱了。*

她猛地坐起身，全身的酸痛和寒意让她忍不住打了个寒颤。她环顾四周，高大的树木形态各异，许多植物都散发着微弱的荧光。不远处的灌木丛中，一双闪烁着红光的眼睛一闪而逝。森林深处，传来一阵悠远而怪异的兽吼，仿佛在宣告着这片领域的主权。强烈的求生本能压倒了所有的迷茫与恐惧，她必须立刻行动起来。
<statusbar>
{
  "状态总览": {
    "行动选项": {
      "🧝‍♀️ 行动人": "${characterName}",
      "📜 可选行动": [
        "1. 🧝‍♀️  检查自身状况，仔细查看身体是否有其他伤口。",
        "2. 📖 好像有种莫名的感觉，看看有没有绑定什么系统",
        "3. 🌳 寻找一棵粗壮的大树，背靠树干休息，警惕四周。",
        "4. 💧 仔细聆听，尝试寻找附近是否有水源的声音。"
      ]
    }
  }
}
</statusbar>`,
    'season-autumn': (characterName) => `
干燥。这是萧栖雪恢复意识后，身体反馈给大脑的第一个信号。

这股干燥并非因为缺水，而是空气中弥漫着草木枯萎的气息。风吹过林间，卷起地上的落叶，发出沙沙的声响，如同某种低语。后脑的疼痛在这种萧瑟的环境中似乎也带上了一丝凉意。

*……这里是哪里？*

她动了动手指，触碰到的是厚厚的一层落叶，柔软而干燥。空气中弥漫着落叶、泥土和成熟浆果的混合气息。她缓缓睁开双眼，一幅金色的森林图景映入眼帘。

视线被一片灿烂的金色所占据。高大的树木叶子大多已经变黄，阳光透过稀疏的枝叶，在铺满落叶的林间投下斑驳的光影。地面上，各种颜色的蘑菇和浆果随处可见，看起来像是一场丰盛的宴席。

*……秋天的森林？*

她慢慢坐起身，环顾四周。森林并不像夏日那般茂密，视野开阔了许多。不远处的地面上，可以看到一些动物留下的足迹。森林深处，传来一阵阵动物的叫声，有高亢的，也有低沉的，显得异常活跃。这份丰饶的景象之下，却隐藏着一丝紧迫感。她知道，这是动物们在为即将来临的冬天做准备。她也必须如此。
<statusbar>
{
  "状态总览": {
    "行动选项": {
      "🧝‍♀️ 行动人": "${characterName}",
      "📜 可选行动": [
        "1. 🧝‍♀️  检查自身状况，评估身体状态。",
        "2. 📖 好像有种莫名的感觉，看看有没有绑定什么系统",
        "3. 🍎 尝试辨认并收集一些看起来可以食用的浆果。",
        "4. 🐾 跟随地上的动物足迹，寻找水源或安全的栖身之所。"
      ]
    }
  }
}
</statusbar>`,
    'season-winter': (characterName) => `
死寂。这是萧栖雪恢复意识后，大脑对周遭环境的第一个感知。

身体的感觉是深入骨髓的寒冷。身下的土地坚硬如铁，一层薄雪如同白霜，覆盖着枯枝败叶。空气凛冽，每一次呼吸都像在吞咽冰冷的刀子。后脑的疼痛几乎被这严寒所麻痹。

*……好冷。*

她艰难地动了动手指，触碰到的是冰冷的、带着霜冻的落叶。她用尽全力睁开双眼，一个萧索而寂静的黑白世界映入眼帘。

视线被一片枯败的景象所占据。参天的古树早已掉光了叶子，只剩下光秃秃的枝干，如同伸向天空的黑色手臂。天空是灰蒙蒙的，看不到太阳，也看不到月亮。地面覆盖着一层薄雪，整个森林里听不到任何声音，没有风声，没有鸟叫，也没有虫鸣，仿佛整个世界都被冻结了。

*……这里的一切都死了吗？*

她猛地坐起身，刺骨的寒风让她剧烈地颤抖起来。她环顾四周，高大的树木形态狰狞，如同墓碑。这片死寂的森林，让她感到一种发自内心的恐惧。强烈的求生本能压倒了所有的情绪，她必须立刻找到热源，否则很快就会被冻死在这里。
<statusbar>
{
  "状态总览": {
    "行动选项": {
      "🧝‍♀️ 行动人": "${characterName}",
      "📜 可选行动": [
        "1. 🧝‍♀️  检查自身状况，评估在严寒下的身体状况。",
        "2. 📖 好像有种莫名的感觉，看看有没有绑定什么系统",
        "3. 🔥 在附近寻找干枯的树枝，尝试生火取暖。",
        "4. 🛖 寻找可以抵御寒风的山洞或树洞。"
      ]
    }
  }
}
</statusbar>`,
  },
  // == Location: Beach ==
  'location-beach': {
    'season-spring': (characterName) => `
微咸。这是萧栖雪恢复意识后，味觉反馈给大脑的第一个信号。

这股咸味来自空气中潮湿的海风。风是温和的，带着一丝凉意，吹在脸上很舒服，也让她混乱的思绪渐渐清晰。后脑的疼痛在海风的吹拂下，似乎也变得不再那么难以忍受。

*……海？*

她费力地动了动手指，指尖传来的是湿润而细腻的沙砾触感。空气中弥漫着海水的咸腥味和某种海藻特有的清新气息。她缓缓睁开双眼，一片广阔而生机勃勃的景象映入眼帘。

眼前是一片被晨曦照亮的白色沙滩。潮水刚刚退去，在沙滩上留下了许多奇异的贝壳和五彩斑斓的海星。海浪平缓地拍打着海岸，发出悦耳的哗哗声。天空是淡粉色的，一轮金色的太阳正从海平面上缓缓升起。

*……日出？*

她慢慢坐起身，温暖的阳光洒在身上，驱散了身体的寒意。不远处，黑色的礁石上，附着着许多不知名的海洋生物。更远处，那片望不到边际的森林里，传来阵阵清脆的鸟鸣。强烈的求生本能压倒了最初的震惊和恐慌，她下意识地想要做出行动。
<statusbar>
{
  "状态总览": {
    "行动选项": {
      "🧝‍♀️ 行动人": "${characterName}",
      "📜 可选行动": [
        "1. 🧝‍♀️  检查自身状况，仔细查看身体是否有其他伤口。",
        "2. 📖 好像有种莫名的感觉，看看有没有绑定什么系统",
        "3. 🐚 在沙滩上行走，寻找有用的东西，比如坚硬的贝壳或能吃的海产。",
        "4. 🌳 小心地靠近森林边缘，观察林中的情况，评估危险性。"
      ]
    }
  }
}
</statusbar>`,
    'season-summer': (characterName) => `
灼热。这是萧栖雪恢复意识后，身体反馈给大脑的第一个信号。

这股热浪来自头顶那轮巨大的、散发着金色光芒的“太阳”。沙子滚烫，仿佛能将皮肤灼伤。空气中弥漫着浓郁的咸腥味，每一次呼吸都带着热浪。后脑的疼痛在高温的炙烤下，变得愈发剧烈。

*……好热！*

她费力地动了动手指，指尖传来的是干燥而滚烫的沙砾触感。她挣扎着睁开双眼，刺眼的阳光让她瞬间又闭上了眼睛。过了好一会儿，她才适应了光线，缓缓地再次睁开。

眼前是一片被烈日照耀的、广阔无垠的白色沙滩。沙滩在视线尽头与墨绿色的、如同巨兽般匍匐的森林相连。海浪懒洋洋地拍打着海岸，反射着刺眼的光芒。天空是纯净的蓝色，万里无云。

*……这不是地球。*

她猛地坐起身，强烈的眩晕感和脱水感袭来。她环顾四周，一切都无比真实。不远处，黑色的礁石被晒得滚烫，空气都因此而扭曲。更远处，那片望不到边际的森林里，传来阵阵聒噪的蝉鸣。强烈的求生本能压倒了所有的不适，她必须立刻找到水源和阴凉处。
<statusbar>
{
  "状态总览": {
    "行动选项": {
      "🧝‍♀️ 行动人": "${characterName}",
      "📜 可选行动": [
        "1. 🧝‍♀️  检查自身状况，评估身体的脱水程度。",
        "2. 📖 好像有种莫名的感觉，看看有没有绑定什么系统",
        "3. ⛰️ 寻找一处相对阴凉的礁石或高地，暂时躲避烈日。",
        "4. 🌳 小心地靠近森林边缘，寻找水源和庇护所。"
      ]
    }
  }
}
</statusbar>`,
    'season-autumn': (characterName) => `
凉爽。这是萧栖雪恢复意识后，身体反馈给大脑的第一个信号。

这股凉意来自强劲而持续的海风。风中带着大海的咸腥和一丝萧瑟，吹得她衣衫猎猎作响。后脑的疼痛在这种环境下似乎被忽略了，她的全部注意力都被这片陌生的天地所吸引。

*……风好大。*

她动了动手指，触感是干燥而粗糙的沙砾。她缓缓睁开双眼，一幅苍凉而壮阔的景象映入眼帘。

眼前是一片广阔的灰色沙滩。天空阴沉，云层很厚，太阳躲在云后，只透出微弱的光。海浪比她想象中要大得多，一波接一波地冲向岸边，发出巨大的轰鸣。一群不知名的海鸟逆着风，在低空盘旋，发出尖锐的叫声。

*……世界末日一样。*

她慢慢坐起身，环顾四周。不远处，黑色的礁石如同沉默的哨兵，任由浪花拍打。更远处，那片望不到边际的森林，树叶已经开始变黄，在狂风中摇曳。强烈的孤独感和渺小感攫住了她的心脏。在这片苍凉的天地间，她必须找到一个安全的避风港。
<statusbar>
{
  "状态总览": {
    "行动选项": {
      "🧝‍♀️ 行动人": "${characterName}",
      "📜 可选行动": [
        "1. 🧝‍♀️  检查自身状况，评估身体状态。",
        "2. 📖 好像有种莫名的感觉，看看有没有绑定什么系统",
        "3. ⛰️ 寻找一处能够抵御海风的礁石群或山洞。",
        "4. 🌳 小心地靠近森林边缘，寻找可以利用的资源。"
      ]
    }
  }
}
</statusbar>`,
    'season-winter': (characterName) => `
冰凉。这是萧栖雪恢复意识后，身体反馈给大脑的第一个，也是唯一一个信号。

这股寒意并非源于皮肤的接触，而是从四肢百骸深处弥漫开来，带着一种被抽干了所有力气的虚弱感。后脑的位置传来一下下规律的、沉闷的跳痛，让她的思维无法凝聚成一个完整的念头，只能任由一些混乱的、不成片段的画面在眼前闪烁：图书馆的日光灯、书页上密密-麻麻的批注、导师失望的眼神，以及最后——一阵突如其来的、仿佛能将灵魂都吸进去的剧烈眩晕。

*我……这是在哪儿？熬夜太久，在图书馆睡着了？*

她费力地动了动手指，指尖传来的是沙砾的粗糙触感，湿润而细碎。这触感让她大脑中模糊的念头第一次有了清晰的焦点。

*沙子？图书馆里怎么会有沙子？*

空气中弥漫着一股浓郁的咸腥味，夹杂着某种不知名植物破碎后散发出的、略带甜腻的芬芳。这两种气味混合在一起，形成了一种既陌生又强烈的冲击，彻底驱散了她脑海中关于图书馆的一切幻象。她努力了数次，终于用尽全力，将沉重的眼皮掀开了一条缝。

视野先是模糊的，随后逐渐变得清晰。首先映入眼帘的，是一片被月光照亮的、广阔无垠的白色沙滩。沙滩在视线尽头与墨绿色的、如同巨兽般匍匐的森林相连。海浪不知疲倦地冲刷着海岸，在沙滩上留下一道道银白色的水痕。而这一切景象的光源，来自天空。她缓缓地、有些僵硬地抬起头，看向夜空。

一轮金月，一-轮银月。它们安静地悬挂在深紫色的天幕之上，一大一小，彼此辉映。金色的月华温暖而柔和，银色的月光清冷而皎洁。两种截然不同的光芒交融在一起，为整个世界镀上了一层如梦似幻的滤镜。这不是地球，也不可能是地球。这个念头像一道冰冷的闪电，瞬间贯穿了萧栖雪的大脑。

*……开什么玩笑。*

她猛地坐起身，后脑的疼痛和身体的寒意让她倒吸了一口凉气。她环顾四周，一切都无比真实。不远处，黑色的礁石如同沉默的哨兵，任由浪花拍打。更远处，那片望不到边际的森林里，偶尔会传来几声不知名生物的、悠远而古怪的啼鸣。强烈的求生本能压倒了最初的震惊和恐慌，她下意识地想要做出行动。
<statusbar>
{
  "状态总览": {
    "行动选项": {
      "🧝‍♀️ 行动人": "${characterName}",
      "📜 可选行动": [
        "1. 🧝‍♀️  检查自身状况，仔细查看身体是否有其他伤口。",
        "2. 📖 好像有种莫名的感觉，看看有没有绑定什么系统",
        "3. ⛰️ 寻找一处相对安全的礁石或高地，暂时躲避并恢复体力。",
        "4. 🌳 小心地靠近森林边缘，观察林中的情况，评估危险性。"
      ]
    }
  }
}
</statusbar>`,
  },
};

/**
 * Generates the initial story message based on the player's choices.
 * This function is the single source of truth for creating the genesis message.
 * @param initialState - The initial state object from the setup module.
 * @returns The formatted genesis message string.
 */
export function getGenesisMessage(initialState: any): string {
  // Fallback to default values if the state is not properly defined.
  const locationId = initialState?.世界?.初始设定?.初始地点 ?? 'location-beach';
  const seasonId = initialState?.世界?.初始设定?.初始季节 ?? 'season-spring';
  const characterName = initialState?.角色?.主控角色名 || '你';

  // Retrieve the plot-generating function from the nested structure.
  const plotFunction = genesisPlots[locationId]?.[seasonId];

  // If a specific plot is not found, fall back to a default one to prevent errors.
  if (plotFunction) {
    return plotFunction(characterName);
  } else {
    console.warn(`Genesis plot for location "${locationId}" and season "${seasonId}" not found. Falling back to default.`);
    // Fallback to a known good default.
    return genesisPlots['location-beach']['season-spring'](characterName);
  }
}
